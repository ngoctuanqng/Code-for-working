- Danh sÃ¡ch chÆ°a lÃ m Ä‘Æ°á»£c:

	Cáº§n Ä‘á»c hiá»ƒu pháº§n VPC trong AWS part 2

	AWS Part 1:
	
		EC2 Load Balancer
		
	AWS Cloud For Project Set Up | Lift & Shift:
	
		ChÆ°a Ä‘Äƒng nháº­p web thÃ nh cÃ´ng vá»›i user, password lÃ  admin_vp
		
	Re-Architecting Web App on AWS Cloud [PAAS & SAAS]:
	
		Build & Deploy Artifact:
		
			Pháº§n target group kiá»ƒm tra váº«n unhealthy
			
	Jenkins:
	
		Jenkins Master and Slave tá»« chá»— nÃ y vá» sau, xem xÃ©t chá»¥p áº£nh má»›i vÃ  lÃ m láº¡i
		
	Terraform:
	
		ChÆ°a upload Ä‘Æ°á»£c file lÃªn s3 á»Ÿ pháº§n cuá»‘i
		
	Ansible:
	
		Chá»— roles cÃ³ pháº§n cháº¡y bá»‹ lá»—i
		
	AWS Part 2:
	
		Bá»‹ lá»—i táº¡i Website in VPC
		
	Docker:
	
		Building images
		
			ChÆ°a thá»ƒ show Ä‘Ãºng trang web
			
	Containerization:
	
		Pháº§n cuá»‘i cháº¡y theo source git cá»§a tÃ¡c giáº£ chÆ°a Ä‘Æ°á»£c
		
	App Deployment on Kubernetes Cluster:
	
		Deploy App on K8s Cluster:
		
			Ingress chÆ°a cÃ³ address
			
	GitOps Project:
	
		Deploy to EKS:
		
			ChÆ°a cháº¡y lÃªn trang web Ä‘Æ°á»£c


- Iaas, Paas
- ORACLE VM VIRTUAL BOX
- AWS Command line Interface











- GIT BASH

	Git Bash lÃ  má»™t á»©ng dá»¥ng giáº£ láº­p dÃ²ng lá»‡nh (terminal) dÃ nh cho Windows.

	NÃ³ cung cáº¥p:

		Git CLI (Command Line Interface) â†’ Ä‘á»ƒ cháº¡y cÃ¡c lá»‡nh Git (git init, git clone, git commit, â€¦).

		Bash shell â†’ má»™t mÃ´i trÆ°á»ng giá»‘ng Linux/Unix Ä‘á»ƒ cháº¡y cÃ¡c lá»‡nh bash (ls, pwd, cd, rm, touch, â€¦).

	NÃ³i Ä‘Æ¡n giáº£n: Git Bash giÃºp ngÆ°á»i dÃ¹ng Windows cÃ³ tráº£i nghiá»‡m giá»‘ng nhÆ° Ä‘ang lÃ m viá»‡c trÃªn Linux khi dÃ¹ng Git.
	
	Táº¡i sao cáº§n Git Bash?

		TrÃªn Linux/Mac, Git thÆ°á»ng Ä‘i kÃ¨m vá»›i Bash sáºµn cÃ³.

		NhÆ°ng Windows khÃ´ng cÃ³ Bash gá»‘c â†’ vÃ¬ váº­y Git for Windows ra Ä‘á»i, kÃ¨m theo Git Bash Ä‘á»ƒ:

			DÃ¹ng lá»‡nh Git thuáº­n tiá»‡n.

			DÃ¹ng cÃ¡c lá»‡nh bash cÆ¡ báº£n (thay vÃ¬ chá»‰ Command Prompt hay PowerShell).
			
	CÃ¡c thÃ nh pháº§n chÃ­nh

		Git â†’ cÃ´ng cá»¥ quáº£n lÃ½ phiÃªn báº£n.

		Bash â†’ shell dá»±a trÃªn MSYS2 (má»™t mÃ´i trÆ°á»ng giÃºp mang Linux tools sang Windows).

		Unix tools â†’ báº¡n cÃ³ thá»ƒ dÃ¹ng nhiá»u lá»‡nh quen thuá»™c trong Linux (ssh, scp, cat, nano, vim, â€¦).

- VAGRANT

	Vagrant lÃ  má»™t cÃ´ng cá»¥ mÃ£ nguá»“n má»Ÿ (open-source) dÃ¹ng Ä‘á»ƒ táº¡o, quáº£n lÃ½ vÃ  tá»± Ä‘á»™ng hÃ³a mÃ´i trÆ°á»ng mÃ¡y áº£o (VMs).

	NÃ³ giÃºp láº­p trÃ¬nh viÃªn, tester, DevOpsâ€¦ cÃ³ thá»ƒ dá»±ng mÃ´i trÆ°á»ng phÃ¡t triá»ƒn giá»‘ng nhau chá»‰ vá»›i má»™t file cáº¥u
	hÃ¬nh (Vagrantfile).

	Vagrant thÆ°á»ng cháº¡y trÃªn VirtualBox, VMware, Hyper-V hoáº·c Docker.
	
	Æ¯u Ä‘iá»ƒm cá»§a Vagrant

		TÃ¡i táº¡o mÃ´i trÆ°á»ng dá»… dÃ ng

		Chá»‰ cáº§n 1 file Vagrantfile, báº¥t ká»³ ai cÅ©ng cÃ³ thá»ƒ táº¡o ra mÃ´i trÆ°á»ng y há»‡t.

		TrÃ¡nh lá»—i kiá»ƒu: "MÃ¡y anh cháº¡y Ä‘Æ°á»£c, mÃ¡y em khÃ´ng cháº¡y".

		TÃ­ch há»£p vá»›i nhiá»u provider

		Há»— trá»£ VirtualBox, VMware, Docker, AWS EC2...

		Tá»± Ä‘á»™ng hÃ³a

		CÃ³ thá»ƒ cÃ i Ä‘áº·t pháº§n má»m, cáº¥u hÃ¬nh há»‡ Ä‘iá»u hÃ nh thÃ´ng qua provisioning tools (Shell script, Ansible, Puppet, Chef...).

		Dá»… dÃ¹ng

		Lá»‡nh chÃ­nh thÆ°á»ng chá»‰ cÃ³ vagrant up, vagrant halt, vagrant destroy.
		
	CÃ¡ch hoáº¡t Ä‘á»™ng

		Báº¡n cÃ i Vagrant + má»™t provider (vÃ­ dá»¥ VirtualBox).

		Táº¡o file Vagrantfile mÃ´ táº£ mÃ´i trÆ°á»ng (OS, RAM, CPU, máº¡ng, pháº§n má»m cáº§n cÃ i).
		
		Cháº¡y lá»‡nh:
		
			vagrant up
			
				Vagrant sáº½ táº£i box (giá»‘ng nhÆ° 1 template OS) tá»« Vagrant Cloud, táº¡o mÃ¡y áº£o, cáº¥u hÃ¬nh máº¡ng, cÃ i pháº§n má»m.

- CHOCOLATEY/BREW
- SUBLIME TEXT EDITOR
- AWS CLI

- IAM WITH MFA
- Homebrew
- SonarSource:

	SonarSource lÃ  má»™t cÃ´ng ty cÃ´ng nghá»‡ chuyÃªn phÃ¡t triá»ƒn cÃ¡c cÃ´ng cá»¥ giÃºp phÃ¢n tÃ­ch cháº¥t
	lÆ°á»£ng mÃ£ nguá»“n vÃ  phÃ¡t hiá»‡n váº¥n Ä‘á» báº£o máº­t trong pháº§n má»m.
	
- SonarQube:

	CÃ´ng cá»¥ phÃ¢n tÃ­ch code phá»• biáº¿n nháº¥t cá»§a SonarSource.

	Há»— trá»£ hÆ¡n 25 ngÃ´n ngá»¯ láº­p trÃ¬nh (Java, C#, Python, JavaScript, C/C++, Goâ€¦).

	TÃ­ch há»£p vÃ o CI/CD Ä‘á»ƒ tá»± Ä‘á»™ng kiá»ƒm tra code má»—i khi build.

	GiÃºp phÃ¡t hiá»‡n:

		Bug (lá»—i cÃ³ thá»ƒ gÃ¢y crash hoáº·c káº¿t quáº£ sai).

		Code Smell (Ä‘oáº¡n code khÃ³ báº£o trÃ¬, khÃ´ng tá»‘i Æ°u).

		Security Vulnerability (lá»— há»•ng báº£o máº­t).

- SONARCLOUD:

	Dá»‹ch vá»¥ SaaS trÃªn cloud (khÃ´ng cáº§n cÃ i SonarQube server).

	DÃ¹ng Ä‘á»ƒ phÃ¢n tÃ­ch code cá»§a dá»± Ã¡n public hoáº·c private trÃªn GitHub, GitLab, Bitbucket, Azure DevOps.
	
	

	Homebrew lÃ  má»™t trÃ¬nh quáº£n lÃ½ gÃ³i (package manager) phá»• biáº¿n trÃªn macOS (vÃ  Linux).

	NÃ³i Ä‘Æ¡n giáº£n, Homebrew giÃºp báº¡n cÃ i Ä‘áº·t, quáº£n lÃ½ vÃ  cáº­p nháº­t pháº§n má»m báº±ng cÃ¡c
	lá»‡nh trong terminal, thay vÃ¬ pháº£i táº£i file .dmg hoáº·c .pkg vÃ  cÃ i thá»§ cÃ´ng.
	
- choco
- MFA device

	MFA (Multi-Factor Authentication) = XÃ¡c thá»±c Ä‘a yáº¿u tá»‘.

	Khi báº­t MFA, ngoÃ i username + password, báº¡n cáº§n thÃªm mÃ£ OTP tá»« thiáº¿t bá»‹ MFA thÃ¬ má»›i Ä‘Äƒng nháº­p Ä‘Æ°á»£c.

	GiÃºp tÄƒng cÆ°á»ng báº£o máº­t cho tÃ i khoáº£n AWS (nháº¥t lÃ  vá»›i root user hoáº·c IAM user cÃ³ quyá»n cao).
	
	MFA Device (thiáº¿t bá»‹ MFA) trong AWS:
	
		MFA Device = nguá»“n phÃ¡t mÃ£ OTP Ä‘á»ƒ Ä‘Äƒng nháº­p AWS.
		
		AWS há»— trá»£ nhiá»u loáº¡i thiáº¿t bá»‹ MFA:

		Virtual MFA device (phá»• biáº¿n nháº¥t):

			DÃ¹ng app trÃªn Ä‘iá»‡n thoáº¡i, vÃ­ dá»¥:

				Google Authenticator

				Authy

				Microsoft Authenticator

				LastPass Authenticator

			Khi Ä‘Äƒng nháº­p AWS, báº¡n má»Ÿ app â†’ nháº­p mÃ£ OTP hiá»ƒn thá»‹ (thay Ä‘á»•i má»—i 30 giÃ¢y).

		Hardware MFA device (pháº§n cá»©ng):

			Thiáº¿t bá»‹ váº­t lÃ½ nhá» (giá»‘ng USB token).

			VÃ­ dá»¥: Gemalto, Yubikey.

			PhÃ¹ há»£p cho mÃ´i trÆ°á»ng cáº§n báº£o máº­t cao.

		U2F security key (khÃ³a báº£o máº­t chuáº©n FIDO):

			DÃ¹ng USB/NFC key (nhÆ° Yubico YubiKey).

			Chá»‰ cáº§n cáº¯m vÃ o mÃ¡y hoáº·c cháº¡m vÃ o khi AWS yÃªu cáº§u xÃ¡c thá»±c.

		SMS MFA (Ã­t dÃ¹ng):

			AWS gá»­i mÃ£ OTP qua tin nháº¯n SMS.

			Tuy nhiÃªn kÃ©m an toÃ n (dá»… bá»‹ hack SIM), nÃªn Ã­t Ä‘Æ°á»£c khuyÃªn dÃ¹ng.
			
	CÃ¡ch hoáº¡t Ä‘á»™ng:
	
		ÄÄƒng nháº­p vÃ o AWS Console báº±ng username & password.

		AWS yÃªu cáº§u MFA code.

		Báº¡n nháº­p mÃ£ OTP tá»« MFA device (app hoáº·c hardware).

		Náº¿u Ä‘Ãºng â†’ vÃ o Ä‘Æ°á»£c AWS Console.
		
	Táº¡i sao nÃªn dÃ¹ng MFA?
	
		NgÄƒn hacker truy cáº­p ngay cáº£ khi máº­t kháº©u bá»‹ lá»™.

		Báº£o vá»‡ root account (tÃ i khoáº£n quáº£n trá»‹ tá»‘i cao trong AWS).

		TÄƒng cÆ°á»ng tuÃ¢n thá»§ báº£o máº­t (PCI-DSS, ISO, SOC2â€¦).
		
	AWS MFA Device = thiáº¿t bá»‹ phÃ¡t mÃ£ OTP (virtual app, USB key, hardware tokenâ€¦) Ä‘á»ƒ Ä‘Äƒng nháº­p AWS an toÃ n hÆ¡n.

- .csv file AWS
- Cloudwatch AWS
- SNS topic AWS
- EC2 AWS

	EC2 (Elastic Compute Cloud) lÃ  dá»‹ch vá»¥ mÃ¡y chá»§ áº£o (virtual server) trÃªn ná»n táº£ng AWS (Amazon Web Services).

	NÃ³i nÃ´m na: EC2 giá»‘ng nhÆ° báº¡n thuÃª má»™t cÃ¡i mÃ¡y tÃ­nh trong Ä‘Ã¡m mÃ¢y Ä‘á»ƒ cÃ i Ä‘áº·t há»‡ Ä‘iá»u hÃ nh,
	pháº§n má»m, web server, databaseâ€¦ vÃ  cháº¡y á»©ng dá»¥ng cá»§a báº¡n.
	
	Khi táº¡o má»™t EC2 Instance, báº¡n cáº§n chá»n:
	
		AMI (Amazon Machine Image) â†’ giá»‘ng nhÆ° chá»n há»‡ Ä‘iá»u hÃ nh (Ubuntu, Amazon Linux, Windowsâ€¦).

		Instance type â†’ cáº¥u hÃ¬nh pháº§n cá»©ng (t2.micro, m5.large, â€¦).

		Storage (EBS) â†’ dung lÆ°á»£ng á»• cá»©ng.

		Security Group â†’ giá»‘ng firewall, cho phÃ©p má»Ÿ port (vÃ­ dá»¥: 22 cho SSH, 80 cho HTTP, 443 cho HTTPS).

		Key Pair â†’ Ä‘á»ƒ Ä‘Äƒng nháº­p vÃ o server qua SSH.
		
	EC2 dÃ¹ng Ä‘á»ƒ lÃ m gÃ¬?
	
		Host website hoáº·c API.

		Cháº¡y database (MySQL, PostgreSQL, MongoDBâ€¦).

		Cháº¡y á»©ng dá»¥ng microservices, container (Docker, Kubernetes).

		LÃ m mÃ¡y chá»§ dev/test cho láº­p trÃ¬nh viÃªn.

		Xá»­ lÃ½ big data, AI/ML, game server.
		
	EC2 = MÃ¡y chá»§ áº£o trong AWS â†’ báº¡n muá»‘n cháº¡y app/web gÃ¬ thÃ¬ chá»‰ cáº§n táº¡o má»™t EC2 instance rá»“i cÃ i Ä‘áº·t nhÆ° trÃªn mÃ¡y tÃ­nh tháº­t.

- AWS Certificate Manager:

	ACM lÃ  dá»‹ch vá»¥ cá»§a AWS Ä‘á»ƒ cáº¥p phÃ¡t, quáº£n lÃ½ vÃ  triá»ƒn khai chá»©ng chá»‰ SSL/TLS cho á»©ng dá»¥ng, website vÃ  dá»‹ch vá»¥ AWS.

	NÃ³ giÃºp báº¡n báº£o máº­t káº¿t ná»‘i HTTPS mÃ  khÃ´ng cáº§n tá»± mua hoáº·c tá»± quáº£n lÃ½ certificate thá»§ cÃ´ng.

	NÃ³i ngáº¯n gá»n: ACM = dá»‹ch vá»¥ quáº£n lÃ½ chá»©ng chá»‰ SSL/TLS trong AWS.
	
	TÃ­nh nÄƒng chÃ­nh

		Cáº¥p phÃ¡t (Provision)

			ACM cÃ³ thá»ƒ cáº¥p chá»©ng chá»‰ SSL/TLS miá»…n phÃ­ cho domain cá»§a báº¡n.

			VÃ­ dá»¥: www.myapp.com cÃ³ thá»ƒ xin chá»©ng chá»‰ tá»« ACM thay vÃ¬ mua ngoÃ i.

		Triá»ƒn khai (Deploy)

			DÃ¹ng trá»±c tiáº¿p vá»›i cÃ¡c dá»‹ch vá»¥ AWS:

				Elastic Load Balancer (ELB)

				CloudFront (CDN)

				API Gateway

				App Runner / Elastic Beanstalk

		Gia háº¡n tá»± Ä‘á»™ng (Auto-renewal)

			Chá»©ng chá»‰ do ACM cáº¥p Ä‘Æ°á»£c tá»± Ä‘á»™ng gia háº¡n trÆ°á»›c khi háº¿t háº¡n â†’ khÃ´ng lo downtime vÃ¬ quÃªn renew SSL.

		Import Certificate (Nháº­p chá»©ng chá»‰)

			Náº¿u báº¡n Ä‘Ã£ cÃ³ chá»©ng chá»‰ tá»« CA khÃ¡c (VÃ­ dá»¥: DigiCert, GoDaddy, Letâ€™s Encrypt), báº¡n cÃ³ thá»ƒ import vÃ o ACM Ä‘á»ƒ quáº£n lÃ½.

		Quáº£n lÃ½ táº­p trung

			LÆ°u trá»¯ vÃ  phÃ¢n phá»‘i chá»©ng chá»‰ an toÃ n.

			KhÃ´ng cáº§n copy file .crt vÃ  .key thá»§ cÃ´ng.

- RSA 2048 AWS
- VMware
- Host OS
- Guest OS
- VM
- Snapshot
- Hypervisor
- CentOS VM, Ubuntu VM

	CentOS VM

		CentOS (Community ENTerprise Operating System) lÃ  má»™t báº£n phÃ¢n phá»‘i Linux dá»±a trÃªn Red Hat Enterprise Linux (RHEL).

		ThÆ°á»ng dÃ¹ng trong doanh nghiá»‡p, server production vÃ¬:

			á»”n Ä‘á»‹nh, Ã­t thay Ä‘á»•i.

			Chu ká»³ phÃ¡t hÃ nh dÃ i (7â€“10 nÄƒm).

			TÆ°Æ¡ng thÃ­ch vá»›i pháº§n má»m viáº¿t cho RHEL.

		Package Manager: yum (CentOS 7), dnf (CentOS 8+).

		ThÃ­ch há»£p: Web server (Apache, Nginx), Database server (MySQL, PostgreSQL), mÃ´i trÆ°á»ng Enterprise.

		Tuy nhiÃªn: CentOS Linux chÃ­nh thá»©c bá»‹ ngá»«ng phÃ¡t triá»ƒn tá»« 2021, thay tháº¿ báº±ng CentOS Stream (rolling release, cáº­p nháº­t nhanh hÆ¡n).
		
	Ubuntu VM

		Ubuntu lÃ  báº£n phÃ¢n phá»‘i Linux dá»±a trÃªn Debian.

		ThÃ¢n thiá»‡n hÆ¡n vá»›i ngÆ°á»i dÃ¹ng, tÃ i liá»‡u vÃ  cá»™ng Ä‘á»“ng há»— trá»£ cá»±c nhiá»u.

		Package Manager: apt (Advanced Package Tool).

		CÃ³ nhiá»u phiÃªn báº£n:

			Ubuntu Server â†’ cháº¡y trÃªn cloud, server.

			Ubuntu Desktop â†’ dÃ¹ng lÃ m há»‡ Ä‘iá»u hÃ nh cÃ¡ nhÃ¢n.

		PhÃ¹ há»£p: Development, AI/ML, Cloud (AWS, Azure, GCP), container (Docker, Kubernetes).
		
- RHEL (Red Hat Enterprise Linux) vÃ  Debian:

	RHEL (Red Hat Enterprise Linux)

		Nguá»“n gá»‘c: Dá»±a trÃªn Linux kernel, phÃ¡t triá»ƒn bá»Ÿi Red Hat.

		Äá»‹nh hÆ°á»›ng: Há»‡ Ä‘iá»u hÃ nh thÆ°Æ¡ng máº¡i, enterprise, dÃ¹ng trong doanh nghiá»‡p vÃ  data center.

		Há»— trá»£: CÃ³ há»£p Ä‘á»“ng support tá»« Red Hat (SLA, cáº­p nháº­t báº£o máº­t, bug fix).

		Package manager: rpm (Red Hat Package Manager) + yum/dnf.

		Æ¯u Ä‘iá»ƒm:

			á»”n Ä‘á»‹nh, chu ká»³ release lÃ¢u dÃ i (7â€“10 nÄƒm).

			ÄÆ°á»£c chá»©ng nháº­n Ä‘á»ƒ cháº¡y nhiá»u pháº§n má»m enterprise (Oracle DB, SAP, VMware...).

			Há»— trá»£ tá»‘t cho server váº­t lÃ½ vÃ  mÃ¡y áº£o.

		NhÆ°á»£c Ä‘iá»ƒm:

			Pháº£i tráº£ phÃ­ Ä‘á»ƒ dÃ¹ng báº£n chÃ­nh thá»©c vÃ  nháº­n cáº­p nháº­t.

			TÃ i liá»‡u cá»™ng Ä‘á»“ng Ã­t hÆ¡n so vá»›i Ubuntu/Debian.

		Báº£n miá»…n phÃ­, cá»™ng Ä‘á»“ng hÃ³a cá»§a RHEL: CentOS, Rocky Linux, AlmaLinux.
		
	Debian

		Nguá»“n gá»‘c: Má»™t trong nhá»¯ng báº£n Linux lÃ¢u Ä‘á»i nháº¥t, phÃ¡t triá»ƒn bá»Ÿi cá»™ng Ä‘á»“ng (ra Ä‘á»i 1993).

		Äá»‹nh hÆ°á»›ng: Há»‡ Ä‘iá»u hÃ nh miá»…n phÃ­, mÃ£ nguá»“n má»Ÿ, táº­p trung vÃ o sá»± á»•n Ä‘á»‹nh vÃ  tá»± do pháº§n má»m.

		Package manager: dpkg + apt.

		Æ¯u Ä‘iá»ƒm:

			Ráº¥t á»•n Ä‘á»‹nh, uy tÃ­n lÃ¢u Ä‘á»i.

			LÃ  ná»n táº£ng cho nhiá»u distro phá»• biáº¿n (nhÆ° Ubuntu, Linux Mint...).

			HoÃ n toÃ n miá»…n phÃ­.

			Cá»™ng Ä‘á»“ng há»— trá»£ rá»™ng rÃ£i.

		NhÆ°á»£c Ä‘iá»ƒm:

			KhÃ´ng cÃ³ há»— trá»£ thÆ°Æ¡ng máº¡i chÃ­nh thá»©c (trá»« khi thÃ´ng qua bÃªn thá»© 3).

			Chu ká»³ phÃ¡t hÃ nh hÆ¡i cháº­m â†’ Ã­t cáº­p nháº­t tÃ­nh nÄƒng má»›i so vá»›i Ubuntu.

- Linux distros

	Linux Distro lÃ  gÃ¬?

		Linux Distro (Linux Distribution) = báº£n phÃ¢n phá»‘i Linux.

		Linux chá»‰ cÃ³ kernel (nhÃ¢n há»‡ Ä‘iá»u hÃ nh). Muá»‘n dÃ¹ng Ä‘Æ°á»£c, ngÆ°á»i ta pháº£i thÃªm:

			TrÃ¬nh quáº£n lÃ½ gÃ³i (package manager)

			ThÆ° viá»‡n há»‡ thá»‘ng

			CÃ´ng cá»¥ quáº£n trá»‹

			MÃ´i trÆ°á»ng desktop (GUI) (náº¿u cáº§n)

			á»¨ng dá»¥ng máº·c Ä‘á»‹nh

		Khi káº¿t há»£p táº¥t cáº£ nhá»¯ng thÃ nh pháº§n nÃ y láº¡i, ta cÃ³ má»™t Linux Distribution â€“ tá»©c lÃ  má»™t "phiÃªn báº£n Linux" hoÃ n chá»‰nh.
		
	VÃ­ dá»¥ cÃ¡c Linux Distro phá»• biáº¿n:

		Dá»±a trÃªn Debian: Ubuntu, Linux Mint, Kali Linux.

		Dá»±a trÃªn RHEL: CentOS, Rocky Linux, AlmaLinux, Fedora.

		DÃ nh cho báº£o máº­t: Kali Linux, Parrot OS.

		DÃ nh cho ngÆ°á»i má»›i: Ubuntu, Linux Mint, Zorin OS.

		DÃ nh cho enterprise: RHEL, SUSE, Oracle Linux.

		DÃ nh cho developer/hacker thÃ­ch tuá»³ biáº¿n: Arch Linux, Gentoo.

- Putty
- Oracle VM Virtualbox, Virtualbox
- ISO file
- Vagrant
- BIOS

	BIOS = Basic Input/Output System.

	LÃ  má»™t pháº§n má»m há»‡ thá»‘ng cáº¥p tháº¥p Ä‘Æ°á»£c lÆ°u trong chip nhá»› ROM/Flash trÃªn mainboard.

	Khi báº¡n báº­t mÃ¡y tÃ­nh, BIOS sáº½ lÃ  chÆ°Æ¡ng trÃ¬nh cháº¡y Ä‘áº§u tiÃªn, trÆ°á»›c cáº£ há»‡ Ä‘iá»u hÃ nh (Windows, Linux, macOSâ€¦).
	
	Chá»©c nÄƒng chÃ­nh cá»§a BIOS

		POST (Power-On Self-Test)

			Kiá»ƒm tra pháº§n cá»©ng: RAM, CPU, bÃ n phÃ­m, á»• cá»©ngâ€¦ cÃ³ hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng khÃ´ng.

		Khá»Ÿi táº¡o pháº§n cá»©ng

			Gáº¯n driver cÆ¡ báº£n cho bÃ n phÃ­m, chuá»™t, card mÃ n hÃ¬nhâ€¦

		Chá»n thiáº¿t bá»‹ khá»Ÿi Ä‘á»™ng (Bootloader)

			Quyáº¿t Ä‘á»‹nh mÃ¡y sáº½ boot tá»« HDD/SSD, USB, CD/DVD hay Network.

		Cung cáº¥p giao diá»‡n cáº¥u hÃ¬nh (BIOS Setup Utility)

			Cho phÃ©p báº¡n chá»‰nh thá»i gian, thá»© tá»± boot, máº­t kháº©u BIOS, Ã©p xung CPU/RAM, báº­t/táº¯t thiáº¿t bá»‹â€¦
			
	BIOS = pháº§n má»m cháº¡y ngay khi báº­t mÃ¡y, nhiá»‡m vá»¥ lÃ  kiá»ƒm tra pháº§n cá»©ng vÃ  náº¡p há»‡ Ä‘iá»u hÃ nh.

	NgÃ y nay, pháº§n lá»›n mÃ¡y tÃ­nh má»›i Ä‘Ã£ dÃ¹ng UEFI, nhÆ°ng ngÆ°á»i ta váº«n hay gá»i chung lÃ  "BIOS".

- Vtx
- Reboot
- Ethernet (emp0s8), Ethernet (emp0s3)
- ACPI shutdown trong Oracle VM
- SSH
- NAT trong Oracle VM
- Vagrantfile
- Linux distros
- Desktop Linux OS

	Desktop Linux OS (hay cÃ²n gá»i lÃ  Linux Desktop Operating System) lÃ  má»™t há»‡ Ä‘iá»u hÃ nh Linux Ä‘Æ°á»£c thiáº¿t káº¿
	Ä‘á»ƒ sá»­ dá»¥ng trÃªn mÃ¡y tÃ­nh cÃ¡ nhÃ¢n, laptop hoáº·c workstation vá»›i giao diá»‡n Ä‘á»“ há»a (GUI) thÃ¢n thiá»‡n, giá»‘ng
	nhÆ° Windows hay macOS.
	
	ThÃ nh pháº§n chÃ­nh cá»§a Desktop Linux OS

		Kernel (Linux kernel): lÃµi cá»§a há»‡ Ä‘iá»u hÃ nh, quáº£n lÃ½ pháº§n cá»©ng.

		Distro (báº£n phÃ¢n phá»‘i): vÃ­ dá»¥ Ubuntu, Fedora, Linux Mint, Manjaroâ€¦ â†’ cung cáº¥p bá»™ cÃ´ng cá»¥, á»©ng dá»¥ng, package manager.

		Desktop Environment (DE): giao diá»‡n Ä‘á»“ há»a ngÆ°á»i dÃ¹ng, nhÆ°:

			GNOME (Ubuntu)

			KDE Plasma (Kubuntu, openSUSE)

			XFCE, LXQt (nháº¹, tiáº¿t kiá»‡m tÃ i nguyÃªn)

		á»¨ng dá»¥ng ngÆ°á»i dÃ¹ng: trÃ¬nh duyá»‡t (Firefox, Chrome), bá»™ office (LibreOffice), media player, email client...
		
	Äáº·c Ä‘iá»ƒm cá»§a Desktop Linux OS

		Miá»…n phÃ­ & mÃ£ nguá»“n má»Ÿ.

		TÃ¹y biáº¿n cao (cÃ³ thá»ƒ thay Ä‘á»•i giao diá»‡n, DE, theme).

		á»”n Ä‘á»‹nh, báº£o máº­t (Ã­t virus hÆ¡n Windows).

		Há»— trá»£ pháº§n cá»©ng khÃ¡ rá»™ng, nhÆ°ng váº«n cÃ²n háº¡n cháº¿ vá»›i má»™t sá»‘ driver (vÃ­ dá»¥ card Ä‘á»“ há»a, mÃ¡y in Ä‘á»i má»›i).

		Nhiá»u báº£n phÃ¢n phá»‘i khÃ¡c nhau phá»¥c vá»¥ nhu cáº§u khÃ¡c nhau:

			ThÃ¢n thiá»‡n cho ngÆ°á»i má»›i: Ubuntu, Linux Mint, Zorin OS

			DÃ nh cho dev/pro: Fedora, openSUSE, Debian

			SiÃªu nháº¹: Lubuntu, Puppy Linux
			
	Desktop Linux OS lÃ  phiÃªn báº£n Linux Ä‘Æ°á»£c Ä‘Ã³ng gÃ³i sáºµn vá»›i giao diá»‡n Ä‘á»“ há»a vÃ  á»©ng dá»¥ng cáº§n thiáº¿t cho ngÆ°á»i
	dÃ¹ng cÃ¡ nhÃ¢n, giá»‘ng nhÆ° Windows/macOS, nhÆ°ng miá»…n phÃ­ vÃ  tÃ¹y biáº¿n máº¡nh máº½.

- Server Linux OS

	Server Linux OS (Linux Server Operating System) lÃ  má»™t há»‡ Ä‘iá»u hÃ nh Linux Ä‘Æ°á»£c tá»‘i Æ°u Ä‘á»ƒ cháº¡y trÃªn mÃ¡y
	chá»§ (server) thay vÃ¬ mÃ¡y tÃ­nh cÃ¡ nhÃ¢n. NÃ³ cung cáº¥p mÃ´i trÆ°á»ng á»•n Ä‘á»‹nh, báº£o máº­t, vÃ  hiá»‡u suáº¥t cao Ä‘á»ƒ cháº¡y
	cÃ¡c dá»‹ch vá»¥ máº¡ng (web, database, mail, file server, container...).
	
	Äáº·c Ä‘iá»ƒm cá»§a Server Linux OS

		KhÃ´ng cáº§n giao diá»‡n Ä‘á»“ há»a (GUI) â†’ thÆ°á»ng chá»‰ cháº¡y á»Ÿ cháº¿ Ä‘á»™ command line (CLI) Ä‘á»ƒ tiáº¿t kiá»‡m tÃ i nguyÃªn.

		Tá»‘i Æ°u cho hiá»‡u suáº¥t vÃ  báº£o máº­t â†’ cháº¡y lÃ¢u dÃ i, Ã­t cáº§n reboot.

		Há»— trá»£ nhiá»u dá»‹ch vá»¥ server: web server (Apache, Nginx), database (MySQL, PostgreSQL), container (Docker, Kubernetes)...

		Cáº­p nháº­t á»•n Ä‘á»‹nh, vÃ²ng Ä‘á»i dÃ i (LTS â€“ Long Term Support).

		Kháº£ nÄƒng má»Ÿ rá»™ng (scalability) Ä‘á»ƒ phá»¥c vá»¥ nhiá»u ngÆ°á»i dÃ¹ng cÃ¹ng lÃºc.
		
	CÃ¡c báº£n phÃ¢n phá»‘i (distro) Server Linux phá»• biáº¿n

		Ubuntu Server (dá»… dÃ¹ng, cá»™ng Ä‘á»“ng lá»›n, há»— trá»£ LTS).

		CentOS Stream (tiáº¿p ná»‘i CentOS, gáº§n vá»›i Red Hat Enterprise Linux).

		Red Hat Enterprise Linux (RHEL) (báº£n thÆ°Æ¡ng máº¡i, há»— trá»£ doanh nghiá»‡p).

		Debian Server (á»•n Ä‘á»‹nh, Ã­t thay Ä‘á»•i, ráº¥t phá»• biáº¿n).

		SUSE Linux Enterprise Server (SLES) (doanh nghiá»‡p, há»— trá»£ máº¡nh máº½).
		
	Server Linux OS lÃ  Linux Ä‘Æ°á»£c tinh chá»‰nh cho mÃ´i trÆ°á»ng server, chÃº trá»ng hiá»‡u suáº¥t, báº£o máº­t, Ä‘á»™ á»•n Ä‘á»‹nh.

	Desktop Linux OS thÃ¬ thiÃªn vá» tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng cuá»‘i vá»›i GUI vÃ  á»©ng dá»¥ng vÄƒn phÃ²ng/giáº£i trÃ­.
	
	Khi nÃ o cáº§n dÃ¹ng Linux Server?

		Báº¡n sáº½ dÃ¹ng Linux Server khi:

			Cáº§n má»™t mÃ¡y cháº¡y dá»‹ch vá»¥ cho nhiá»u ngÆ°á»i khÃ¡c truy cáº­p (web server, database server, mail server, file server...).

			Cáº§n há»‡ thá»‘ng á»•n Ä‘á»‹nh, cháº¡y 24/7 (khÃ´ng táº¯t mÃ¡y nhÆ° PC cÃ¡ nhÃ¢n).

			Cáº§n má»™t mÃ´i trÆ°á»ng báº£o máº­t, nháº¹, Ã­t tá»‘n tÃ i nguyÃªn (thÆ°á»ng khÃ´ng cÃ³ GUI, chá»‰ dÃ¹ng dÃ²ng lá»‡nh).

			Triá»ƒn khai trong data center, cloud (AWS, Azure, GCP) hoáº·c trÃªn mÃ¡y chá»§ váº­t lÃ½.

		TrÆ°á»ng há»£p deploy web báº±ng AWS thÃ¬ sao?

			Khi báº¡n deploy website lÃªn AWS, báº¡n thÆ°á»ng sáº½ cháº¡y trÃªn má»™t dá»‹ch vá»¥ nhÆ° EC2 (mÃ¡y áº£o trong AWS).

			MÃ¡y EC2 nÃ y thÆ°á»ng Ä‘Æ°á»£c cÃ i má»™t distro Linux Server (vÃ­ dá»¥: Ubuntu Server, Amazon Linux, CentOS Stream, Debian Server...).

			Sau Ä‘Ã³ báº¡n sáº½ cÃ i nginx, Apache (httpd), Node.js, Java, MySQL, v.v. trÃªn Ä‘Ã³ Ä‘á»ƒ cháº¡y á»©ng dá»¥ng.

- RPM based, Debian based trong Linux

	Trong tháº¿ giá»›i Linux, khi ngÆ°á»i ta nÃ³i â€œRPM-basedâ€ vÃ  â€œDebian-basedâ€, há» Ä‘ang nÃ³i vá» há»‡ quáº£n lÃ½
	gÃ³i (package management system) mÃ  báº£n phÃ¢n phá»‘i (distro) Ä‘Ã³ sá»­ dá»¥ng.
	
	Debian-based:
	
		Nguá»“n gá»‘c: tá»« Debian.

		TrÃ¬nh quáº£n lÃ½ gÃ³i: dpkg (Debian Package).

		Äá»‹nh dáº¡ng gÃ³i: .deb.

		CÃ´ng cá»¥ cao hÆ¡n: apt-get, apt, aptitude (dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t, update tá»« repository).

		Äáº·c Ä‘iá»ƒm:

			Kho pháº§n má»m ráº¥t lá»›n, cá»™ng Ä‘á»“ng máº¡nh.

			ThÃ¢n thiá»‡n cho ngÆ°á»i má»›i (vÃ­ dá»¥ Ubuntu).

		VÃ­ dá»¥ distro Debian-based:

			Debian

			Ubuntu (vÃ  cÃ¡c biáº¿n thá»ƒ: Kubuntu, Xubuntu, â€¦)

			Linux Mint

			Kali Linux

			Pop!_OS
			
	RPM-based:

		Nguá»“n gá»‘c: tá»« Red Hat.

		TrÃ¬nh quáº£n lÃ½ gÃ³i: rpm (Red Hat Package Manager).

		Äá»‹nh dáº¡ng gÃ³i: .rpm.

		CÃ´ng cá»¥ cao hÆ¡n:

			yum (Yellowdog Updater, Modified â€“ dÃ¹ng trong CentOS, RHEL cÅ©).

			dnf (Dandified YUM â€“ thay tháº¿ yum trong Fedora, RHEL 8+).

		Äáº·c Ä‘iá»ƒm:

			á»”n Ä‘á»‹nh, nhiá»u báº£n thÆ°Æ¡ng máº¡i (RHEL, SUSE).

			ThÆ°á»ng dÃ¹ng trong mÃ´i trÆ°á»ng doanh nghiá»‡p.

		VÃ­ dá»¥ distro RPM-based:

			Red Hat Enterprise Linux (RHEL)

			CentOS, CentOS Stream

			Fedora

			openSUSE, SUSE Linux Enterprise

- ftp
- telnet
- jenkin
- tar
- bitbucket
- codecommit
- yum
- vagrant cloud

	Vagrant Cloud lÃ  má»™t dá»‹ch vá»¥ online do HashiCorp cung cáº¥p, Ä‘Ã³ng vai trÃ² nhÆ°
	má»™t â€œkho lÆ°u trá»¯ boxâ€ (Vagrant boxes) cho cá»™ng Ä‘á»“ng vÃ  doanh nghiá»‡p.

	Báº¡n cÃ³ thá»ƒ xem nÃ³ giá»‘ng nhÆ° Docker Hub nhÆ°ng dÃ nh cho Vagrant.
	
	CÃ¡c chá»©c nÄƒng chÃ­nh cá»§a Vagrant Cloud

		Chia sáº» box (Vagrant Boxes)

			Táº£i vá» cÃ¡c box cÃ³ sáºµn (Ubuntu, CentOS, Debian, Windows, â€¦).

			VÃ­ dá»¥:	

				vagrant init hashicorp/bionic64
				vagrant up

		ÄÄƒng táº£i box cá»§a báº¡n

			Náº¿u báº¡n táº¡o má»™t mÃ¡y áº£o Vagrant vá»›i cáº¥u hÃ¬nh Ä‘áº·c biá»‡t, báº¡n cÃ³ thá»ƒ upload lÃªn
			Vagrant Cloud Ä‘á»ƒ chia sáº» cho Ä‘á»“ng Ä‘á»™i hoáº·c cá»™ng Ä‘á»“ng.

		Quáº£n lÃ½ box private/public

			Public box: ai cÅ©ng cÃ³ thá»ƒ táº£i.

			Private box: chá»‰ nhÃ³m/báº¡n bÃ¨ hoáº·c cÃ´ng ty cá»§a báº¡n cÃ³ quyá»n truy cáº­p.
			
		TÃ­ch há»£p vá»›i Vagrant CLI

			Báº¡n cÃ³ thá»ƒ login báº±ng CLI:
			
				vagrant login
				
		Team & Enterprise

			Cho phÃ©p táº¡o tá»• chá»©c, nhÃ³m, phÃ¢n quyá»n Ä‘á»ƒ quáº£n lÃ½ box trong ná»™i bá»™ cÃ´ng ty.

- daemon
- hostmanager
- memcache
- apache tomcat
- nginx
- EPEL repository
- systemctl command
- OSI
- DNS & DHCP
- .ppk va .pem trong key pair aws
- AWS EC2
- AWS AMI
- tag trong EC2
- security group trong AMI
- AWS IAM

	IAM (Identity and Access Management) lÃ  dá»‹ch vá»¥ cá»§a AWS dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ ngÆ°á»i dÃ¹ng, nhÃ³m vÃ  quyá»n truy cáº­p Ä‘áº¿n cÃ¡c tÃ i nguyÃªn AWS.

	NÃ³ giÃºp báº¡n kiá»ƒm soÃ¡t ai cÃ³ thá»ƒ truy cáº­p vÃ o dá»‹ch vá»¥ nÃ o vÃ  Ä‘Æ°á»£c lÃ m gÃ¬ trong AWS.

	NÃ³i ngáº¯n gá»n: IAM = Há»‡ thá»‘ng phÃ¢n quyá»n & báº£o máº­t trong AWS.
	
	ThÃ nh pháº§n chÃ­nh trong IAM:
	
		User (NgÆ°á»i dÃ¹ng)

			Äáº¡i diá»‡n cho má»™t cÃ¡ nhÃ¢n (developer, adminâ€¦) hoáº·c má»™t á»©ng dá»¥ng.

			Má»—i user cÃ³ credentials (username/password hoáº·c access key/secret key).

		Group (NhÃ³m)

			Táº­p há»£p nhiá»u user.

			Quyá»n Ä‘Æ°á»£c gÃ¡n cho group â†’ táº¥t cáº£ user trong group Ä‘á»u cÃ³ quyá»n Ä‘Ã³.

		Role (Vai trÃ²)

			DÃ¹ng cho dá»‹ch vá»¥ AWS hoáº·c á»©ng dá»¥ng Ä‘á»ƒ cÃ³ quyá»n truy cáº­p tÃ i nguyÃªn.

			VÃ­ dá»¥: EC2 cÃ³ thá»ƒ assume má»™t role Ä‘á»ƒ Ä‘á»c dá»¯ liá»‡u tá»« S3.

		Policy (ChÃ­nh sÃ¡ch)

			TÃ i liá»‡u JSON Ä‘á»‹nh nghÄ©a quyá»n truy cáº­p (cho phÃ©p hay tá»« chá»‘i).

			VÃ­ dá»¥: policy cho phÃ©p user Ä‘á»c file trong S3 bucket.
			
	Chá»©c nÄƒng chÃ­nh cá»§a IAM:
	
		Quáº£n lÃ½ ngÆ°á»i dÃ¹ng & nhÃ³m (user, group).

		Cáº¥p quyá»n chi tiáº¿t báº±ng policy (theo nguyÃªn táº¯c least privilege â€“ chá»‰ cáº¥p quyá»n tá»‘i thiá»ƒu cáº§n thiáº¿t).

		Há»— trá»£ MFA (Multi-Factor Authentication) Ä‘á»ƒ tÄƒng báº£o máº­t.

		TÃ­ch há»£p vá»›i dá»‹ch vá»¥ khÃ¡c nhÆ° EC2, Lambda, S3, RDSâ€¦
		
	VÃ­ dá»¥ thá»±c táº¿:
	
		Dev A chá»‰ cáº§n Ä‘á»c dá»¯ liá»‡u trong S3 â†’ táº¡o IAM user + policy s3:GetObject.

		Dev B cáº§n quyá»n quáº£n lÃ½ EC2 â†’ gÃ¡n policy AmazonEC2FullAccess.

		EC2 server cáº§n quyá»n truy cáº­p DynamoDB â†’ táº¡o IAM Role cho EC2.
		
	AWS IAM = Quáº£n lÃ½ danh tÃ­nh & quyá»n truy cáº­p trong AWS, giÃºp Ä‘áº£m báº£o an toÃ n vÃ  kiá»ƒm soÃ¡t chÃ­nh xÃ¡c ai Ä‘Æ°á»£c
	lÃ m gÃ¬ trÃªn tÃ i nguyÃªn AWS.
	
- AWS IAM security credentials

	Trong AWS IAM, security credentials lÃ  cÃ¡c thÃ´ng tin xÃ¡c thá»±c mÃ  má»™t IAM user hoáº·c role dÃ¹ng Ä‘á»ƒ truy cáº­p tÃ i nguyÃªn AWS.

	CÃ³ 2 cÃ¡ch chÃ­nh Ä‘á»ƒ truy cáº­p AWS:

		AWS Management Console (giao diá»‡n web) â†’ dÃ¹ng username + password (+ MFA náº¿u báº­t).

		AWS CLI / SDK / API â†’ dÃ¹ng Access keys (Access key ID + Secret access key).
		
	CÃ¡c loáº¡i Security Credentials trong IAM:
	
		Password (Console access)

			DÃ¹ng Ä‘á»ƒ Ä‘Äƒng nháº­p vÃ o AWS Management Console.

			CÃ³ thá»ƒ yÃªu cáº§u user Ä‘á»•i máº­t kháº©u khi láº§n Ä‘áº§u Ä‘Äƒng nháº­p.
			
		Access Keys (Programmatic access)

			Gá»“m 2 pháº§n:

				Access key ID â†’ giá»‘ng username.

				Secret access key â†’ giá»‘ng máº­t kháº©u.

			DÃ¹ng Ä‘á»ƒ truy cáº­p AWS qua CLI, SDK, API.

			VÃ­ dá»¥ khi cáº¥u hÃ¬nh AWS CLI:
			
				aws configure
				AWS Access Key ID [None]: AKIAIOSFODNN7EXAMPLE
				AWS Secret Access Key [None]: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
				Default region name [None]: ap-southeast-1
				Default output format [None]: json
				
		SSH Keys (cho EC2 Instance Connect)

			DÃ¹ng Ä‘á»ƒ káº¿t ná»‘i SSH vÃ o cÃ¡c mÃ¡y EC2.	

		Server Certificates

			DÃ¹ng cho AWS services nhÆ° Elastic Load Balancing (ELB) hoáº·c CloudFront Ä‘á»ƒ há»— trá»£ HTTPS (SSL/TLS).
			
		MFA Devices

			Virtual (Google Authenticator, Authy), Hardware (YubiKeyâ€¦), SMS.

			DÃ¹ng Ä‘á»ƒ tÄƒng báº£o máº­t cho login.
			
		X.509 Certificates (Ã­t dÃ¹ng hiá»‡n nay)

			DÃ¹ng cho cÃ¡c dá»‹ch vá»¥ cÅ© hoáº·c tÃ­ch há»£p Ä‘áº·c biá»‡t.
			
	Best Practices (khuyáº¿n nghá»‹ báº£o máº­t)

		KhÃ´ng bao giá» dÃ¹ng Access Key cá»§a root user ğŸš«.

		Táº¡o IAM user/role riÃªng cho tá»«ng á»©ng dá»¥ng.

		Báº­t MFA cho root user vÃ  user quan trá»ng.

		DÃ¹ng IAM Role thay vÃ¬ access key náº¿u app cháº¡y trÃªn AWS (VD: EC2 â†’ S3).

		Rotate access key thÆ°á»ng xuyÃªn (xÃ³a key cÅ©, táº¡o key má»›i).

		Chá»‰ cáº¥p quyá»n theo nguyÃªn táº¯c least privilege (tá»‘i thiá»ƒu cáº§n thiáº¿t).
		
	Security Credentials trong AWS IAM = táº­p há»£p thÃ´ng tin xÃ¡c thá»±c (password, access keys,
	SSH keys, MFAâ€¦) mÃ  user/role dÃ¹ng Ä‘á»ƒ truy cáº­p AWS má»™t cÃ¡ch an toÃ n.
	
- Console Access:

	Console Access nghÄ©a lÃ  má»™t IAM User (hoáº·c root user) cÃ³ thá»ƒ Ä‘Äƒng nháº­p vÃ o AWS Management Console (giao diá»‡n web cá»§a AWS) báº±ng:

		Username/Password

		(MFA code náº¿u Ä‘Ã£ báº­t Multi-Factor Authentication

	NÃ³i ngáº¯n gá»n: Console Access = quyá»n truy cáº­p AWS qua giao diá»‡n web (console.aws.amazon.com).
	
- AWS Billing:

	AWS Billing lÃ  há»‡ thá»‘ng quáº£n lÃ½ chi phÃ­, hÃ³a Ä‘Æ¡n vÃ  thanh toÃ¡n trong tÃ i khoáº£n AWS.
	
	NÃ³ cho phÃ©p báº¡n:

		Xem chi phÃ­ sá»­ dá»¥ng dá»‹ch vá»¥ AWS (theo ngÃ y, theo dá»‹ch vá»¥, theo region).

		Quáº£n lÃ½ hÃ³a Ä‘Æ¡n (invoice) vÃ  phÆ°Æ¡ng thá»©c thanh toÃ¡n.

		Thiáº¿t láº­p cáº£nh bÃ¡o chi phÃ­ (budget alerts) Ä‘á»ƒ trÃ¡nh vÆ°á»£t quÃ¡ ngÃ¢n sÃ¡ch.

		PhÃ¢n tÃ­ch chi phÃ­ theo tá»«ng dá»± Ã¡n, team, hoáº·c mÃ´i trÆ°á»ng (prod/dev/test).
		
	CÃ¡c thÃ nh pháº§n chÃ­nh trong AWS Billing

		Bills (HÃ³a Ä‘Æ¡n)

			Hiá»ƒn thá»‹ chi tiáº¿t chi phÃ­ theo tá»«ng dá»‹ch vá»¥ (EC2, S3, RDS, Lambdaâ€¦).

			CÃ³ thá»ƒ táº£i vá» dáº¡ng PDF hoáº·c CSV.

		Payment Methods (PhÆ°Æ¡ng thá»©c thanh toÃ¡n)

			AWS cháº¥p nháº­n tháº» tÃ­n dá»¥ng/ghi ná»£ (Visa, Mastercard, AmExâ€¦) vÃ  má»™t sá»‘ phÆ°Æ¡ng thá»©c khÃ¡c.

		Budgets (NgÃ¢n sÃ¡ch)

			Äáº·t ngÃ¢n sÃ¡ch chi phÃ­ (vÃ­ dá»¥ $50/thÃ¡ng).

			Nháº­n cáº£nh bÃ¡o qua email hoáº·c SNS náº¿u vÆ°á»£t má»©c.

		Cost Explorer

			CÃ´ng cá»¥ trá»±c quan hÃ³a chi phÃ­ (biá»ƒu Ä‘á»“, bÃ¡o cÃ¡o).

			Cho phÃ©p phÃ¢n tÃ­ch xu hÆ°á»›ng chi tiÃªu, dá»± Ä‘oÃ¡n chi phÃ­ trong tÆ°Æ¡ng lai.

		Free Tier Usage

			Hiá»ƒn thá»‹ má»©c sá»­ dá»¥ng AWS Free Tier (miá»…n phÃ­ 12 thÃ¡ng hoáº·c vÄ©nh viá»…n cho má»™t sá»‘ dá»‹ch vá»¥).

			GiÃºp trÃ¡nh vÆ°á»£t giá»›i háº¡n free mÃ  phÃ¡t sinh phÃ­ ngoÃ i Ã½ muá»‘n.

		Consolidated Billing (cho AWS Organizations)

			Náº¿u báº¡n cÃ³ nhiá»u tÃ i khoáº£n AWS trong má»™t Organization, cÃ³ thá»ƒ gá»™p hÃ³a Ä‘Æ¡n â†’ nháº­n giáº£m giÃ¡ volume.
			
	Best Practices vá» Billing

		LuÃ´n báº­t Billing Alerts Ä‘á»ƒ theo dÃµi chi phÃ­.

		DÃ¹ng AWS Budgets Ä‘á»ƒ cáº£nh bÃ¡o vÆ°á»£t má»©c ngÃ¢n sÃ¡ch.

		Gáº¯n Tags cho tÃ i nguyÃªn (vÃ­ dá»¥: Project: Ecommerce, Env: Dev) Ä‘á»ƒ phÃ¢n tÃ­ch chi phÃ­ theo dá»± Ã¡n.

		XÃ³a tÃ i nguyÃªn khÃ´ng dÃ¹ng (EC2, EBS, Elastic IP, Load Balancerâ€¦) vÃ¬ AWS váº«n tÃ­nh phÃ­ náº¿u cÃ²n tá»“n táº¡i.
		
	AWS Billing = há»‡ thá»‘ng quáº£n lÃ½ chi phÃ­, hÃ³a Ä‘Æ¡n vÃ  thanh toÃ¡n trong AWS, giÃºp báº¡n kiá»ƒm soÃ¡t vÃ  tá»‘i
	Æ°u chi tiÃªu khi dÃ¹ng dá»‹ch vá»¥ AWS.
	
- AWS CloudWatch:

	Amazon CloudWatch lÃ  dá»‹ch vá»¥ giÃ¡m sÃ¡t (monitoring) vÃ  quan sÃ¡t (observability) cá»§a AWS.
	
	NÃ³ giÃºp báº¡n theo dÃµi:

		Metrics (chá»‰ sá»‘: CPU, RAM, Network, Disk I/Oâ€¦).

		Logs (nháº­t kÃ½ á»©ng dá»¥ng, há»‡ Ä‘iá»u hÃ nh, dá»‹ch vá»¥ AWS).

		Events (sá»± kiá»‡n há»‡ thá»‘ng, thay Ä‘á»•i tráº¡ng thÃ¡i).

		Alarms (cáº£nh bÃ¡o khi vÆ°á»£t ngÆ°á»¡ng).
		
	ThÃ nh pháº§n chÃ­nh cá»§a CloudWatch

		Metrics:

			Thu tháº­p sá»‘ liá»‡u vá» tÃ i nguyÃªn AWS.

			VÃ­ dá»¥:

			EC2: CPUUtilization, NetworkIn/Out.

			RDS: FreeStorageSpace, DatabaseConnections.

			Lambda: Invocations, Duration, Errors.

		Alarms:

			Äáº·t ngÆ°á»¡ng cáº£nh bÃ¡o dá»±a trÃªn metrics.

			VÃ­ dá»¥: CPU EC2 > 80% trong 5 phÃºt â†’ gá»­i cáº£nh bÃ¡o qua SNS (email/SMS) hoáº·c tá»± Ä‘á»™ng scale up.

		Logs:

			LÆ°u vÃ  phÃ¢n tÃ­ch log tá»«:

			á»¨ng dá»¥ng (Java, Python, NodeJSâ€¦).

			Há»‡ Ä‘iá»u hÃ nh (EC2).

			Lambda (log tá»± Ä‘á»™ng vÃ o CloudWatch Logs).

		Events (hoáº·c EventBridge):

			Theo dÃµi sá»± kiá»‡n há»‡ thá»‘ng AWS (vÃ­ dá»¥: EC2 stop/start).

			CÃ³ thá»ƒ tá»± Ä‘á»™ng kÃ­ch hoáº¡t Lambda function, SNS notification, hoáº·c Step Functions.

		Dashboards:

			Táº¡o báº£ng Ä‘iá»u khiá»ƒn tÃ¹y chá»‰nh vá»›i biá»ƒu Ä‘á»“ metrics, logs.

			VÃ­ dá»¥: giÃ¡m sÃ¡t toÃ n bá»™ há»‡ thá»‘ng microservices trÃªn 1 dashboard.
			
	VÃ­ dá»¥ thá»±c táº¿

		Báº¡n cÃ³ má»™t EC2 cháº¡y Spring Boot:

		CloudWatch Metrics theo dÃµi CPU, RAM, Disk.

		CloudWatch Logs lÆ°u láº¡i log á»©ng dá»¥ng (/var/log/...).

		CloudWatch Alarm cáº£nh bÃ¡o khi CPU > 70%.

		CloudWatch Event kÃ­ch hoáº¡t Auto Scaling Ä‘á»ƒ thÃªm EC2 má»›i khi táº£i cao.
		
	Lá»£i Ã­ch

		GiÃºp tá»± Ä‘á»™ng giÃ¡m sÃ¡t há»‡ thá»‘ng â†’ khÃ´ng cáº§n kiá»ƒm tra thá»§ cÃ´ng.

		Dá»… dÃ ng tÃ¬m lá»—i nhá» log táº­p trung.

		Há»— trá»£ tá»‘i Æ°u chi phÃ­ (theo dÃµi sá»­ dá»¥ng tÃ i nguyÃªn).

		Káº¿t há»£p vá»›i Auto Scaling, Lambda, SNS Ä‘á»ƒ pháº£n á»©ng tá»± Ä‘á»™ng.
		
	AWS CloudWatch = cÃ´ng cá»¥ giÃ¡m sÃ¡t metrics, logs, events vÃ  táº¡o cáº£nh bÃ¡o cho há»‡ thá»‘ng AWS.

	NÃ³ giá»‘ng nhÆ° Prometheus + Grafana + ELK, nhÆ°ng Ä‘Æ°á»£c tÃ­ch há»£p sáºµn trong AWS.

- AWS IAM access key
- AWS Elastic Block Storage
- Volumn in configure storage of IAM S3
- AWS EC2 Image Builder
- AWS EC2 launch templates
- AWS Cloud Watch
- AWS Route53
- AWS RDS
- AWS cloudfront
- AWS Amazon S3
- AWS Amazon SNS
- Amazon Elastic File System
- AWS EFS
- AWS NFS
- AWS Auto Scaling
- AWS RDS
- public access trong RDS
- AWS S3
- Elastic Beanstalk
- Amazon ElastiCache
- Amazon Elastic Container Registry
- Poll SCM
- Webhooks
- CRUMB
- event-driven
- boto3 python
- python fabric
- Terraform
- Ansible
- ad hoc command
- ansible palybook
- Amazon VPC
- AWS CloudWatch Logs
- Bitbucket
- AWS CodeBuild
- AWS CodePipeline
- docker pull nginx:mainline-alpine-perl
- docker engine
- minikube
- Kops
- key pair va security group trong ec2 instance
- curl
- kubectl binary
- kubernetes cli
- kubernetes namespace
- kubernetes taints and tolerations
- Amazon Elastic Kubernetes Service
- kubernetes ingress
- git fork
- SSH key
- AWS Elastic Container Registry
- kubernetes cluster
- QA, BA trong doanh nghiep
- Nesus
- file TAR
- helm chart
- Server váº­t lÃ½ (physical server) vÃ  Server áº£o (virtual server / VM):

	Server váº­t lÃ½ (physical server)

		LÃ  mÃ¡y chá»§ tháº­t Ä‘áº·t trong data center (cÃ³ CPU, RAM, á»• cá»©ng, card máº¡ng).

		Báº¡n cÃ³ thá»ƒ cÃ i há»‡ Ä‘iá»u hÃ nh lÃªn nÃ³: Linux Server (Ubuntu Server, CentOS, Debian Server, â€¦)
		hoáº·c Windows Server.

		Sau khi cÃ i xong, báº¡n thao tÃ¡c quáº£n lÃ½ báº±ng SSH (náº¿u Linux) hoáº·c RDP (náº¿u Windows).

	Server áº£o (virtual server / VM)

		LÃ  mÃ¡y chá»§ áº£o hÃ³a táº¡o ra tá»« pháº§n má»m nhÆ° VMware, VirtualBox, KVM, hoáº·c dá»‹ch vá»¥ Cloud
		nhÆ° AWS EC2, Azure VM, Google Compute Engine.

		BÃªn trong server áº£o Ä‘Ã³, báº¡n cÅ©ng cÃ i Linux Server (hoáº·c Windows Server).

		Khi truy cáº­p vÃ  thao tÃ¡c, tráº£i nghiá»‡m khÃ´ng khÃ¡c gÃ¬ server váº­t lÃ½.

	NghÄ©a lÃ :

		DÃ¹ báº¡n dÃ¹ng server váº­t lÃ½ hay server áº£o, náº¿u há»‡ Ä‘iá»u hÃ nh cÃ i bÃªn trong lÃ  Linux Server, thÃ¬ báº¡n váº«n
		sáº½ thao tÃ¡c báº±ng dÃ²ng lá»‡nh Linux Server (CLI qua SSH).



Missing in Jenkin lession:
	- Agent/Node/Slave in Jenkins
	- Using Agent/Note/Slave
Missing Build tools lession


--- VÃ²ng Ä‘á»i DevOps:

	1. CODE

	Láº­p trÃ¬nh viÃªn viáº¿t code (Java, HTML, CSS, JS, â€¦).

	ÄÃ¢y lÃ  nguá»“n gá»‘c cá»§a má»i thá»© trong pipeline.

	2. CODE BUILD

	Code Ä‘Æ°á»£c build thÃ nh gÃ³i cháº¡y Ä‘Æ°á»£c (JAR, WAR, Docker image, â€¦).

	CÃ´ng cá»¥ thÆ°á»ng dÃ¹ng: Maven, Gradle, Jenkins, GitLab CI, GitHub Actions.

	3. CODE TEST

	Cháº¡y test tá»± Ä‘á»™ng (unit test, integration test).

	Äáº£m báº£o code khÃ´ng bá»‹ lá»—i logic.

	4. CODE ANALYSIS

	PhÃ¢n tÃ­ch cháº¥t lÆ°á»£ng code (coding style, security scan, bug detection).

	CÃ´ng cá»¥: SonarQube, PMD, Checkstyle.

	5. DELIVERY

	Chuáº©n bá»‹ pháº§n má»m Ä‘á»ƒ Ä‘Æ°a qua mÃ´i trÆ°á»ng staging hoáº·c production.

	Bao gá»“m artifact repository (Nexus, Artifactory).

	6. DB / Security / OS CHANGES

	CÃ¡c thay Ä‘á»•i liÃªn quan tá»›i database migration, cáº¥u hÃ¬nh há»‡ Ä‘iá»u hÃ nh, báº£o máº­t.

	ThÆ°á»ng Ä‘Æ°á»£c tá»± Ä‘á»™ng hÃ³a báº±ng Ansible, Terraform, Liquibase, Flyway.

	7. SOFTWARE TESTING

	Test á»Ÿ má»©c há»‡ thá»‘ng (system testing, performance testing, user acceptance testing).

	Má»¥c tiÃªu: kiá»ƒm thá»­ toÃ n bá»™ á»©ng dá»¥ng trong mÃ´i trÆ°á»ng staging.

	8. DEPLOY TO PROD

	Deploy á»©ng dá»¥ng sang production environment.

	CÃ´ng cá»¥: Docker, Kubernetes, Jenkins, ArgoCD.

	9. GO LIVE

	á»¨ng dá»¥ng báº¯t Ä‘áº§u cháº¡y cho ngÆ°á»i dÃ¹ng tháº­t.

	ÄÃ²i há»i monitoring (Prometheus, Grafana, ELK stack) Ä‘á»ƒ theo dÃµi hoáº¡t Ä‘á»™ng.

	10. USER APPROVAL

	NgÆ°á»i dÃ¹ng/khÃ¡ch hÃ ng kiá»ƒm tra vÃ  xÃ¡c nháº­n á»©ng dá»¥ng Ä‘Ã¡p á»©ng yÃªu cáº§u.

	Feedback Ä‘Æ°á»£c Ä‘Æ°a láº¡i cho team Dev, táº¡o vÃ²ng láº·p má»›i.


--- CÃ¡c lá»‡nh cmd:

	- cmd: choco list
	
		============================================================
		Lá»†NH: choco list
		============================================================

		1. Má»¤C ÄÃCH CHUNG
		   - Hiá»ƒn thá»‹ danh sÃ¡ch cÃ¡c package liÃªn quan tá»›i Chocolatey.
		   - CÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ:
			   â€¢ TÃ¬m package trÃªn nguá»“n (remote) hoáº·c
			   â€¢ Liá»‡t kÃª package Ä‘Ã£ cÃ i cá»¥c bá»™ (tÃ¹y phiÃªn báº£n choco).
		   - ThÆ°á»ng dÃ¹ng Ä‘á»ƒ kiá»ƒm tra package sáºµn cÃ³, kiá»ƒm tra phiÃªn báº£n, hoáº·c xuáº¥t danh sÃ¡ch package Ä‘Ã£ cÃ i.

		------------------------------------------------------------
		2. CÃš PHÃP CÆ  Báº¢N
		   choco list <filter> [<options/switches>]

		   VÃ­ dá»¥ Ä‘Æ¡n giáº£n:
			 choco list
			 choco list git
			 choco list --local-only

		   (ThÃ´ng tin chÃ­nh thá»©c vÃ  cÃ¡c option Ä‘Æ°á»£c láº¥y tá»« tÃ i liá»‡u lá»‡nh `choco list` cá»§a Chocolatey). :contentReference[oaicite:0]{index=0}

		------------------------------------------------------------
		3. Ã NGHÄ¨A CÃC THÃ€NH PHáº¦N
		   - <filter>
			   â†’ Tá»« khÃ³a tÃ¬m kiáº¿m (cÃ³ thá»ƒ lÃ  tÃªn package hoáº·c pháº§n cá»§a tÃªn).
			   â†’ Náº¿u khÃ´ng truyá»n filter, choco sáº½ tráº£ vá» nhiá»u káº¿t quáº£ (tuá»³ source/phiÃªn báº£n).

		   - <options/switches>
			   â†’ CÃ¡c tuá»³ chá»n Ä‘iá»u chá»‰nh hÃ nh vi hiá»ƒn thá»‹ (xem pháº§n 4 cho cÃ¡c tuá»³ chá»n thÆ°á»ng dÃ¹ng).

		------------------------------------------------------------
		4. CÃC TUá»² CHá»ŒN / SWITCH THÆ¯á»œNG DÃ™NG (chá»n lá»c, giáº£i thÃ­ch)
		   NOTE: danh sÃ¡ch dÆ°á»›i Ä‘Ã¢y tÃ³m táº¯t cÃ¡c tuá»³ chá»n quan trá»ng nháº¥t; tham kháº£o docs Ä‘á»ƒ xem Ä‘áº§y Ä‘á»§. :contentReference[oaicite:1]{index=1}

		   - --local-only  (cÅ©ng tháº¥y dÆ°á»›i dáº¡ng -l hoáº·c -lo á»Ÿ má»™t sá»‘ tÃ i liá»‡u/phiÃªn báº£n)
			   â†’ Chá»‰ liá»‡t kÃª cÃ¡c package Ä‘Ã£ **cÃ i cá»¥c bá»™** (installed packages).
			   â†’ LÆ°u Ã½: cÃ¡ch xá»­ lÃ½ flag nÃ y cÃ³ khÃ¡c nhau giá»¯a cÃ¡c phiÃªn báº£n Chocolatey (v2+ cÃ³ thay Ä‘á»•i). :contentReference[oaicite:2]{index=2}

		   - -i, --include-programs, --include-programs
			   â†’ Bao gá»“m cáº£ pháº§n má»m hiá»ƒn thá»‹ trong "Programs and Features" (Windows) mÃ  khÃ´ng do Chocolatey quáº£n lÃ½.

		   - --exact  (or -e)
			   â†’ Chá»‰ tráº£ vá» package cÃ³ tÃªn **chÃ­nh xÃ¡c** báº±ng filter.

		   - --id-only
			   â†’ Chá»‰ in ra Package IDs (Ã­t thÃ´ng tin hÆ¡n, há»¯u Ã­ch cho scripting).

		   - --pre, --prerelease
			   â†’ Bao gá»“m cÃ¡c phiÃªn báº£n prerelease (pre-release) trong káº¿t quáº£.

		   - --version=<value>
			   â†’ Lá»c káº¿t quáº£ theo má»™t **phiÃªn báº£n cá»¥ thá»ƒ** cá»§a package.

		   - --page=<n>  vÃ   --page-size=<n>
			   â†’ PhÃ¢n trang káº¿t quáº£ (page: trang cáº§n láº¥y; page-size: sá»‘ item má»—i trang).
			   â†’ Máº·c Ä‘á»‹nh choco tráº£ vá» táº¥t cáº£ káº¿t quáº£, nhÆ°ng cÃ³ thá»ƒ giá»›i háº¡n báº±ng page/page-size.

		   - -r, --limit-output
			   â†’ Giáº£m bá»›t output vá» thÃ´ng tin thiáº¿t yáº¿u (Ã­t noise hÆ¡n).

		   - --include-headers
			   â†’ Khi dÃ¹ng --limit-output, hiá»ƒn thá»‹ header (yÃªu cáº§u CLI 2.5.0+).

		   - --by-id-only / --by-tag-only / --id-starts-with
			   â†’ Lá»c theo cÃ¡ch so khá»›p id hoáº·c tag.

		   - --ignore-pinned
			   â†’ Bá» qua viá»‡c hiá»ƒn thá»‹ cÃ¡c package bá»‹ "pinned".

		   - -d, --debug; -v, --verbose; --trace
			   â†’ Thay Ä‘á»•i má»©c logging Ä‘á»ƒ debug hoáº·c xem chi tiáº¿t.

		   (Nguá»“n: trang tÃ i liá»‡u lá»‡nh `choco list` tá»« Chocolatey). :contentReference[oaicite:3]{index=3}

		------------------------------------------------------------
		5. Káº¾T QUáº¢ MáºªU & Ã NGHÄ¨A
		   - Káº¿t quáº£ thÃ´ng thÆ°á»ng (remote search):
			   git 2.41.0
			   git.install 2.41.0
			   git-lfs 3.4.0
			 â†’ Dáº¡ng: <packageId> <version>

		   - Khi dÃ¹ng --local-only:
			   7zip 19.00
			   git 2.41.0
			 â†’ Liá»‡t kÃª package Ä‘Ã£ cÃ i kÃ¨m phiÃªn báº£n; dÃ²ng cuá»‘i cÃ³ thá»ƒ in tÃ³m táº¯t "X packages installed."

		   - Khi dÃ¹ng --id-only: chá»‰ in
			   git
			   7zip
			 â†’ dÃ¹ng cho scripting/pipe.

		------------------------------------------------------------
		6. EXIT CODES (tÃ³m táº¯t há»¯u Ã­ch cho scripts)
		   - 0: thÃ nh cÃ´ng
		   - 1 (hoáº·c -1): lá»—i
		   - 2: (enhanced exit codes enabled) khÃ´ng cÃ³ káº¿t quáº£
		   â†’ TÃ¹y thuá»™c vÃ o cáº¥u hÃ¬nh feature `useEnhancedExitCodes`. :contentReference[oaicite:4]{index=4}

		------------------------------------------------------------
		7. VÃ Dá»¤ THá»°C HÃ€NH (COPY-PASTE)

		   # 1) TÃ¬m package tÃªn chá»©a "git"
		   choco list git

		   # 2) Liá»‡t kÃª package Ä‘Ã£ cÃ i cá»¥c bá»™ (backup danh sÃ¡ch)
		   choco list --local-only > installed-packages.txt

		   # 3) Chá»‰ in ID (phÃ¹ há»£p cho piping)
		   choco list git --id-only

		   # 4) Bao gá»“m chÆ°Æ¡ng trÃ¬nh tá»« Programs and Features
		   choco list --local-only --include-programs

		   # 5) Lá»c chÃ­nh xÃ¡c tÃªn package
		   choco list --exact git

		   # 6) Hiá»ƒn thá»‹ Ã­t output (dÃ¹ng trong automation)
		   choco list git --limit-output

		   # 7) PhÃ¢n trang (vÃ­ dá»¥ láº¥y trang 2, 25 item/trang)
		   choco list --page=2 --page-size=25

		   (CÃ¡c vÃ­ dá»¥ trÃªn dá»±a theo cÃº phÃ¡p vÃ  options trong docs cá»§a Chocolatey). :contentReference[oaicite:5]{index=5}

		------------------------------------------------------------
		8. LÆ¯U Ã & Máº¸O
		   - PhiÃªn báº£n Chocolatey khÃ¡c nhau cÃ³ thá»ƒ thay Ä‘á»•i hÃ nh vi má»™t sá»‘ flag (vÃ­ dá»¥ `--local-only` trÆ°á»›c Ä‘Ã¢y phá»• biáº¿n, trong choco v2+ cÃ¡ch máº·c Ä‘á»‹nh cÃ³ thay Ä‘á»•i). Kiá»ƒm tra `choco --version` vÃ  `choco list --help` náº¿u káº¿t quáº£ khÃ¡c ká»³ vá»ng. :contentReference[oaicite:6]{index=6}
		   - Äá»ƒ backup toÃ n bá»™ package list rá»“i restore trÃªn mÃ¡y khÃ¡c:
			   choco list --local-only > packages.txt
			   choco install < packages.txt
		   - DÃ¹ng `--limit-output` vÃ  `--id-only` khi viáº¿t script Ä‘á»ƒ giáº£m parsing complexity.
		   - Náº¿u cáº§n debug: thÃªm `-d` hoáº·c `--trace` Ä‘á»ƒ xem chi tiáº¿t.

		------------------------------------------------------------
		9. TÃ€I NGUYÃŠN THAM KHáº¢O
		   - Documentation: Chocolatey â€” List Command (choco list). :contentReference[oaicite:7]{index=7}

		------------------------------------------------------------
		10. TÃ“M Táº®T NGáº®N Gá»ŒN
		   - `choco list` lÃ  lá»‡nh Ä‘á»ƒ **tÃ¬m vÃ /hoáº·c liá»‡t kÃª** package liÃªn quan tá»›i Chocolatey.
		   - DÃ¹ng `--local-only` Ä‘á»ƒ xem package Ä‘Ã£ cÃ i; dÃ¹ng cÃ¡c flag nhÆ° `--exact`, `--id-only`, `--include-programs` Ä‘á»ƒ Ä‘iá»u chá»‰nh output cho scripting hay automation.
		   - LuÃ´n kiá»ƒm tra `choco list --help` / docs chÃ­nh thá»©c náº¿u cáº§n chi tiáº¿t theo phiÃªn báº£n.

		============================================================
	
	
	- cmd: choco install virtualbox --version=7.0.8 -y
	
		============================================================
		Lá»†NH: choco install virtualbox --version=7.0.8 -y
		============================================================

		1. Má»¤C ÄÃCH CHUNG
		- DÃ¹ng **Chocolatey (choco)** Ä‘á»ƒ cÃ i Ä‘áº·t pháº§n má»m **VirtualBox** trÃªn Windows.
		- Lá»‡nh nÃ y:
			â€¢ Tá»± Ä‘á»™ng táº£i xuá»‘ng gÃ³i VirtualBox tá»« nguá»“n (repository) cá»§a Chocolatey.
			â€¢ CÃ i **phiÃªn báº£n cá»¥ thá»ƒ** lÃ  **7.0.8**.
			â€¢ Tá»± Ä‘á»™ng **cháº¥p nháº­n táº¥t cáº£ cÃ¡c yÃªu cáº§u xÃ¡c nháº­n (yes)** báº±ng cá» `-y`.
		- ÄÃ¢y lÃ  lá»‡nh dÃ¹ng trong **quáº£n trá»‹ há»‡ thá»‘ng, DevOps hoáº·c thiáº¿t láº­p mÃ´i trÆ°á»ng mÃ¡y áº£o.**

		------------------------------------------------------------
		2. GIáº¢I THÃCH Tá»ªNG THÃ€NH PHáº¦N

		choco
			â†’ CÃ´ng cá»¥ quáº£n lÃ½ package trÃªn Windows, tÆ°Æ¡ng tá»± apt (Linux) hay brew (macOS).

		install
			â†’ HÃ nh Ä‘á»™ng cÃ i Ä‘áº·t má»™t package má»›i.

		virtualbox
			â†’ TÃªn cá»§a package cáº§n cÃ i (Ä‘Ã£ Ä‘Æ°á»£c Ä‘Äƒng kÃ½ trong Chocolatey repository).
				Package nÃ y cÃ i pháº§n má»m **Oracle VM VirtualBox**, dÃ¹ng Ä‘á»ƒ táº¡o vÃ  quáº£n lÃ½ mÃ¡y áº£o.

		--version=7.0.8
			â†’ Chá»‰ Ä‘á»‹nh **phiÃªn báº£n cá»¥ thá»ƒ** cá»§a package cáº§n cÃ i.
				Náº¿u bá» qua tÃ¹y chá»n nÃ y, Chocolatey sáº½ cÃ i **phiÃªn báº£n má»›i nháº¥t hiá»‡n cÃ³**.
				VÃ­ dá»¥:
				â€¢ 7.0.8: chá»‰ Ä‘á»‹nh cÃ i Ä‘Ãºng phiÃªn báº£n nÃ y.
				â€¢ Náº¿u gÃ³i nÃ y khÃ´ng cÃ³ báº£n 7.0.8, lá»‡nh sáº½ bÃ¡o lá»—i "version not found".

		-y  (hoáº·c --yes)
			â†’ Tá»± Ä‘á»™ng **Ä‘á»“ng Ã½ (Yes)** vá»›i má»i prompt trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t.
				GiÃºp lá»‡nh cháº¡y hoÃ n toÃ n tá»± Ä‘á»™ng, khÃ´ng yÃªu cáº§u ngÆ°á»i dÃ¹ng xÃ¡c nháº­n.
				ThÆ°á»ng dÃ¹ng trong script hoáº·c cÃ i Ä‘áº·t hÃ ng loáº¡t (automation).

		------------------------------------------------------------
		3. HÃ€NH VI KHI CHáº Y Lá»†NH
		- Chocolatey sáº½:
			1) Kiá»ƒm tra xem package â€œvirtualboxâ€ cÃ³ tá»“n táº¡i trong nguá»“n (default hoáº·c custom repo) khÃ´ng.
			2) Táº£i metadata vá» package vÃ  kiá»ƒm tra checksum.
			3) Kiá»ƒm tra phiÃªn báº£n cÃ i Ä‘áº·t hiá»‡n táº¡i (náº¿u cÃ³).
			4) Náº¿u chÆ°a cÃ³ hoáº·c khÃ¡c version â†’ táº£i xuá»‘ng installer tÆ°Æ¡ng á»©ng.
			5) Cháº¡y installer (thÆ°á»ng lÃ  file .msi hoáº·c .exe silent mode).
			6) Cáº­p nháº­t registry vÃ  danh sÃ¡ch package trong Chocolatey.

		- Sau khi hoÃ n táº¥t, Chocolatey in ra:
			- â€œInstalling the following packages: virtualboxâ€
			- â€œSuccessfully installed virtualbox 7.0.8â€
			- MÃ£ thoÃ¡t (Exit code): 0 = thÃ nh cÃ´ng.

		------------------------------------------------------------
		4. YÃŠU Cáº¦U TRÆ¯á»šC KHI CÃ€I
		- **Quyá»n Administrator**: cáº§n má»Ÿ PowerShell hoáº·c CMD â€œRun as Administratorâ€.
		- **Káº¿t ná»‘i Internet**: Ä‘á»ƒ táº£i package vÃ  file cÃ i Ä‘áº·t.
		- **ÄÃ£ cÃ i Chocolatey**: kiá»ƒm tra báº±ng:
			choco -v
		- **Kiá»ƒm tra version há»£p lá»‡**: báº¡n cÃ³ thá»ƒ xem version cÃ³ sáºµn báº±ng:
			choco list virtualbox --all

		------------------------------------------------------------
		5. VÃ Dá»¤ THá»°C HÃ€NH

		# 1) CÃ i phiÃªn báº£n cá»¥ thá»ƒ (7.0.8)
		choco install virtualbox --version=7.0.8 -y

		# 2) CÃ i phiÃªn báº£n má»›i nháº¥t (bá» version)
		choco install virtualbox -y

		# 3) CÃ i nhiá»u pháº§n má»m cÃ¹ng lÃºc
		choco install virtualbox vagrant git -y

		# 4) Kiá»ƒm tra version cÃ³ sáºµn trÆ°á»›c khi cÃ i
		choco list virtualbox --all

		# 5) Cáº­p nháº­t VirtualBox sau nÃ y
		choco upgrade virtualbox -y

		------------------------------------------------------------
		6. KIá»‚M TRA SAU KHI CÃ€I Äáº¶T

		# 1) Kiá»ƒm tra trong Chocolatey
		choco list --local-only | findstr virtualbox

		# 2) Kiá»ƒm tra báº±ng PowerShell
		Get-Command virtualbox

		# 3) Kiá»ƒm tra trong GUI:
			Má»Ÿ menu Start â†’ tÃ¬m â€œOracle VM VirtualBoxâ€

		# 4) Kiá»ƒm tra version cÃ i Ä‘áº·t:
			VirtualBox â†’ Help â†’ About VirtualBox (hoáº·c cháº¡y `VBoxManage --version`)

		------------------------------------------------------------
		7. Lá»–I THÆ¯á»œNG Gáº¶P & CÃCH KHáº®C PHá»¤C

		âŒ Lá»—i: â€œvirtualbox not foundâ€
			â†’ GÃ³i chÆ°a tá»“n táº¡i trong repo hoáº·c báº¡n chÆ°a `choco upgrade chocolatey-core.extension`.
				Giáº£i phÃ¡p: `choco list virtualbox --all` Ä‘á»ƒ xÃ¡c nháº­n version.

		âŒ Lá»—i: â€œYou must be an administrator to installâ€
			â†’ Má»Ÿ PowerShell báº±ng â€œRun as Administratorâ€.

		âŒ Lá»—i: â€œChecksum mismatchâ€
			â†’ File táº£i bá»‹ lá»—i, cháº¡y láº¡i `choco install virtualbox --version=7.0.8 -y` hoáº·c `choco upgrade chocolatey`.

		âŒ Lá»—i: â€œPackage already installed, same versionâ€
			â†’ ÄÃ£ cÃ³ phiÃªn báº£n 7.0.8, khÃ´ng cáº§n cÃ i láº¡i. DÃ¹ng `choco upgrade virtualbox` náº¿u muá»‘n kiá»ƒm tra báº£n má»›i hÆ¡n.

		âŒ Lá»—i: â€œInstaller failedâ€
			â†’ CÃ³ thá»ƒ do xung Ä‘á»™t vá»›i Hyper-V hoáº·c yÃªu cáº§u reboot. Kháº¯c phá»¥c:
				- Gá»¡ phiÃªn báº£n cÅ© (Control Panel hoáº·c `choco uninstall virtualbox -y`)
				- Táº¯t Hyper-V: `bcdedit /set hypervisorlaunchtype off`
				- Khá»Ÿi Ä‘á»™ng láº¡i rá»“i thá»­ láº¡i.

		------------------------------------------------------------
		8. Máº¸O & THá»°C HÃ€NH Tá»T (BEST PRACTICES)

		- LuÃ´n cháº¡y lá»‡nh cÃ i Ä‘áº·t trong **PowerShell (Admin)**.
		- DÃ¹ng `--version` Ä‘á»ƒ Ä‘áº£m báº£o cÃ i Ä‘Ãºng phiÃªn báº£n cho mÃ´i trÆ°á»ng dev/test.
		- DÃ¹ng `-y` trong script tá»± Ä‘á»™ng (CI/CD, provisioning).
		- DÃ¹ng `choco upgrade all -y` Ä‘á»ƒ cáº­p nháº­t toÃ n bá»™ pháº§n má»m khi cáº§n.
		- CÃ³ thá»ƒ xuáº¥t danh sÃ¡ch package Ä‘Ã£ cÃ i Ä‘á»ƒ backup:
			choco list --local-only > installed.txt
		- Muá»‘n gá»¡ cÃ i Ä‘áº·t VirtualBox:
			choco uninstall virtualbox -y

		------------------------------------------------------------
		9. THÃ”NG TIN THÃŠM Vá»€ PACKAGE VIRTUALBOX

		- TÃªn package: `virtualbox`
		- Nguá»“n: https://community.chocolatey.org/packages/virtualbox
		- Publisher: Oracle Corporation
		- ThÆ°á»ng bao gá»“m:
			â€¢ Oracle VM VirtualBox core binaries
			â€¢ VBoxManage CLI
			â€¢ VirtualBox drivers vÃ  kernel modules
		- CÃ i Ä‘áº·t máº·c Ä‘á»‹nh táº¡i:
			C:\Program Files\Oracle\VirtualBox\

		------------------------------------------------------------
		10. TÃ“M Táº®T NGáº®N Gá»ŒN
		- **Lá»‡nh Ä‘áº§y Ä‘á»§:**
			choco install virtualbox --version=7.0.8 -y
		- **Chá»©c nÄƒng:** CÃ i Ä‘áº·t VirtualBox 7.0.8 báº±ng Chocolatey, tá»± Ä‘á»™ng cháº¥p nháº­n má»i xÃ¡c nháº­n.
		- **Äiá»u kiá»‡n:** CÃ³ quyá»n Admin + Internet + Chocolatey.
		- **Káº¿t quáº£:** VirtualBox 7.0.8 Ä‘Æ°á»£c cÃ i thÃ nh cÃ´ng, sáºµn sÃ ng sá»­ dá»¥ng.

		============================================================
	
	
	- cmd: choco install vagrant --version=2.3.7 -y

============================================================
Lá»†NH: choco install vagrant --version=2.3.7 -y
============================================================

1. Má»¤C ÄÃCH CHUNG
   - DÃ¹ng Chocolatey (choco) Ä‘á»ƒ **tá»± Ä‘á»™ng cÃ i Ä‘áº·t** pháº§n má»m **Vagrant** trÃªn Windows.
   - Cá»‘ Ä‘á»‹nh **phiÃªn báº£n 2.3.7** cá»§a Vagrant.
   - DÃ¹ng `-y` Ä‘á»ƒ **tá»± Ä‘á»™ng Ä‘á»“ng Ã½** táº¥t cáº£ cÃ¡c lá»i nháº¯c, phÃ¹ há»£p cho script/automation.

------------------------------------------------------------
2. CÃš PHÃP VÃ€ GIáº¢I THÃCH Tá»ªNG THÃ€NH PHáº¦N
   choco
       â†’ TrÃ¬nh quáº£n lÃ½ package cho Windows (Chocolatey).

   install
       â†’ HÃ nh Ä‘á»™ng cÃ i Ä‘áº·t package.

   vagrant
       â†’ TÃªn package trÃªn Chocolatey (Vagrant â€” cÃ´ng cá»¥ quáº£n lÃ½ mÃ´i trÆ°á»ng áº£o hÃ³a, thÆ°á»ng dÃ¹ng vá»›i VirtualBox, Hyper-V, Docker...).

   --version=2.3.7
       â†’ Buá»™c cÃ i **chÃ­nh xÃ¡c phiÃªn báº£n 2.3.7** cá»§a package. 
         Náº¿u phiÃªn báº£n nÃ y khÃ´ng tá»“n táº¡i trong repository, lá»‡nh sáº½ bÃ¡o lá»—i.

   -y  (hoáº·c --yes)
       â†’ Tá»± Ä‘á»™ng tráº£ lá»i "Yes" cho má»i prompt trong quÃ¡ trÃ¬nh cÃ i, giÃºp cháº¡y khÃ´ng tÆ°Æ¡ng tÃ¡c.

------------------------------------------------------------
3. HÃ€NH VI KHI CHáº Y Lá»†NH
   - Kiá»ƒm tra package "vagrant" cÃ³ trong nguá»“n Chocolatey hay khÃ´ng.
   - Táº£i metadata vÃ  gÃ³i installer phÃ¹ há»£p cho version 2.3.7.
   - Cháº¡y installer á»Ÿ cháº¿ Ä‘á»™ silent/unattended (náº¿u package há»— trá»£).
   - Cáº­p nháº­t database Chocolatey (Ä‘Ã¡nh dáº¥u package Ä‘Ã£ Ä‘Æ°á»£c cÃ i).
   - In káº¿t quáº£: thÃ´ng bÃ¡o cÃ i Ä‘áº·t thÃ nh cÃ´ng hoáº·c lá»—i.

------------------------------------------------------------
4. YÃŠU Cáº¦U TRÆ¯á»šC KHI CHáº Y
   - **Quyá»n Administrator**: má»Ÿ PowerShell hoáº·c CMD á»Ÿ cháº¿ Ä‘á»™ "Run as Administrator".
   - **Internet**: Ä‘á»ƒ táº£i gÃ³i vÃ  cÃ¡c phá»¥ thuá»™c.
   - **Chocolatey Ä‘Ã£ Ä‘Æ°á»£c cÃ i**: kiá»ƒm tra `choco -v`.
   - Náº¿u Vagrant cáº§n provider (VD: VirtualBox), hÃ£y cÃ i provider trÆ°á»›c hoáº·c cÃ¹ng lÃºc.

------------------------------------------------------------
5. VÃ Dá»¤ THá»°C HÃ€NH (COPY-PASTE)
   # 1) CÃ i Vagrant phiÃªn báº£n 2.3.7 (khuyáº¿n nghá»‹ cháº¡y trong PowerShell/ Admin)
   choco install vagrant --version=2.3.7 -y

   # 2) CÃ i Vagrant báº£n má»›i nháº¥t (náº¿u muá»‘n)
   choco install vagrant -y

   # 3) CÃ i Vagrant vÃ  VirtualBox cÃ¹ng lÃºc
   choco install virtualbox --version=7.0.8 -y
   choco install vagrant --version=2.3.7 -y

   # 4) Kiá»ƒm tra danh sÃ¡ch package cá»¥c bá»™ sau khi cÃ i
   choco list --local-only | findstr vagrant

------------------------------------------------------------
6. KIá»‚M TRA SAU KHI CÃ€I
   - Kiá»ƒm tra Chocolatey:
       choco list --local-only | findstr vagrant
   - Kiá»ƒm tra phiÃªn báº£n Vagrant:
       vagrant --version
       (káº¿t quáº£ mong Ä‘á»£i: Vagrant 2.3.7)
   - Kiá»ƒm tra GUI/Programs:
       Control Panel â†’ Programs and Features â†’ tÃ¬m "Vagrant"
   - Náº¿u dÃ¹ng Vagrant vá»›i VirtualBox: má»Ÿ VirtualBox vÃ  kiá»ƒm tra hoáº¡t Ä‘á»™ng.

------------------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P VÃ€ CÃCH KHáº®C PHá»¤C
   âŒ "You must be an administrator to install"
       â†’ Má»Ÿ PowerShell/CMD vá»›i quyá»n Administrator.

   âŒ "Version not found" hoáº·c "Package not found"
       â†’ Kiá»ƒm tra phiÃªn báº£n tá»“n táº¡i: choco list vagrant --all
       â†’ Náº¿u phiÃªn báº£n khÃ´ng cÃ³, bá» --version hoáº·c chá»n version khÃ¡c.

   âŒ "Checksum mismatch" hoáº·c "Download failed"
       â†’ Thá»­ cháº¡y láº¡i, kiá»ƒm tra káº¿t ná»‘i máº¡ng, hoáº·c cáº­p nháº­t Chocolatey:
         choco upgrade chocolatey -y

   âŒ "Installer failed" hoáº·c lá»—i provider (VD: VirtualBox missing)
       â†’ CÃ i provider tÆ°Æ¡ng á»©ng (VirtualBox/Hyper-V) trÆ°á»›c khi dÃ¹ng Vagrant.
       â†’ Xem logs chi tiáº¿t (choco -d hoáº·c --verbose).

   âŒ "Path/Command not found after install"
       â†’ ÄÃ³ng/ má»Ÿ terminal má»›i (hoáº·c log out/login) Ä‘á»ƒ cáº­p nháº­t PATH.
       â†’ Kiá»ƒm tra manual path cÃ i Ä‘áº·t: thÆ°á»ng lÃ  C:\HashiCorp\Vagrant\bin

------------------------------------------------------------
8. Máº¸O & BEST PRACTICES
   - LuÃ´n cÃ i qua PowerShell (Admin) Ä‘á»ƒ trÃ¡nh permission issue.
   - Pin phiÃªn báº£n khi cáº§n mÃ´i trÆ°á»ng láº·p láº¡i: sá»­ dá»¥ng --version.
   - Káº¿t há»£p cÃ i provider (VirtualBox) cÃ¹ng script Ä‘á»ƒ Ä‘áº£m báº£o hoáº¡t Ä‘á»™ng:
       choco install virtualbox --version=7.0.8 -y
       choco install vagrant --version=2.3.7 -y
   - DÃ¹ng `-y` cho automation/CI, nhÆ°ng khi thá»­ thá»§ cÃ´ng báº¡n cÃ³ thá»ƒ bá» `-y` Ä‘á»ƒ xem prompt.
   - Náº¿u dÃ¹ng trÃªn nhiá»u mÃ¡y: lÆ°u danh sÃ¡ch package Ä‘á»ƒ tá»± Ä‘á»™ng hÃ³a:
       choco list --local-only > installed.txt

------------------------------------------------------------
9. Gá»  CÃ€I (UNINSTALL) Náº¾U Cáº¦N
   choco uninstall vagrant -y

------------------------------------------------------------
10. TÃ“M Táº®T NGáº®N Gá»ŒN
    - Lá»‡nh: choco install vagrant --version=2.3.7 -y
    - Má»¥c Ä‘Ã­ch: cÃ i Vagrant phiÃªn báº£n 2.3.7 trÃªn Windows báº±ng Chocolatey, khÃ´ng yÃªu cáº§u tÆ°Æ¡ng tÃ¡c.
    - YÃªu cáº§u: cháº¡y vá»›i quyá»n Admin, káº¿t ná»‘i Internet, Chocolatey Ä‘Ã£ cÃ i.
    - Kiá»ƒm tra: `vagrant --version` pháº£i tráº£ vá» "Vagrant 2.3.7".

============================================================


	- cmd: choco install corretto17jdk -y

============================================================
Lá»†NH: choco install corretto17jdk -y
============================================================

1. Má»¤C ÄÃCH CHUNG
   - DÃ¹ng Chocolatey (choco) Ä‘á»ƒ **tá»± Ä‘á»™ng cÃ i Ä‘áº·t** Amazon Corretto JDK 17 (Corretto 17) trÃªn Windows.
   - Cá» `-y` cho phÃ©p **tá»± Ä‘á»™ng Ä‘á»“ng Ã½** táº¥t cáº£ cÃ¡c prompt, phÃ¹ há»£p cho script/automation.

------------------------------------------------------------
2. CÃš PHÃP VÃ€ GIáº¢I THÃCH Tá»ªNG THÃ€NH PHáº¦N
   choco
       â†’ TrÃ¬nh quáº£n lÃ½ package cho Windows (Chocolatey).

   install
       â†’ HÃ nh Ä‘á»™ng cÃ i Ä‘áº·t package.

   corretto17jdk
       â†’ TÃªn package trÃªn Chocolatey. ThÃ´ng thÆ°á»ng package nÃ y cÃ i Amazon Corretto (OpenJDK build) phiÃªn báº£n 17,
         bao gá»“m JDK vÃ  cÃ¡c cÃ´ng cá»¥ (javac, java, jar, javap, v.v.).

   -y  (hoáº·c --yes)
       â†’ Tá»± Ä‘á»™ng tráº£ lá»i "Yes" cho má»i prompt trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t.
         DÃ¹ng cho ká»‹ch báº£n khÃ´ng tÆ°Æ¡ng tÃ¡c (provisioning, script, CI).

------------------------------------------------------------
3. HÃ€NH VI KHI CHáº Y Lá»†NH
   - Chocolatey tÃ¬m package `corretto17jdk` trong nguá»“n máº·c Ä‘á»‹nh (community repo) hoáº·c nguá»“n báº¡n cáº¥u hÃ¬nh.
   - Táº£i metadata vÃ  kiá»ƒm tra checksum (náº¿u package cung cáº¥p).
   - Táº£i installer (thÆ°á»ng tá»« nguá»“n chÃ­nh thá»©c cá»§a Amazon hoáº·c mirror do package Ä‘á»‹nh nghÄ©a).
   - Cháº¡y installer á»Ÿ cháº¿ Ä‘á»™ silent/unattended (náº¿u package há»— trá»£).
   - Cáº­p nháº­t database Chocolatey (Ä‘Ã¡nh dáº¥u package Ä‘Ã£ cÃ i).
   - ThÃªm cÃ¡c biáº¿n mÃ´i trÆ°á»ng hoáº·c cáº­p nháº­t PATH náº¿u package thá»±c hiá»‡n (thÆ°á»ng JDK thÃªm Ä‘Æ°á»ng dáº«n tá»›i `bin` vÃ o PATH).
   - In thÃ´ng bÃ¡o thÃ nh cÃ´ng hoáº·c lá»—i.

------------------------------------------------------------
4. YÃŠU Cáº¦U TRÆ¯á»šC KHI CHáº Y
   - **Quyá»n Administrator**: má»Ÿ PowerShell/CMD báº±ng "Run as Administrator".
   - **Internet**: cáº§n Ä‘á»ƒ táº£i installer.
   - **Chocolatey Ä‘Ã£ Ä‘Æ°á»£c cÃ i**: kiá»ƒm tra `choco -v`.
   - **Kiá»ƒm tra tÃªn package**: Ä‘áº£m báº£o `corretto17jdk` lÃ  package Ä‘Ãºng; kiá»ƒm tra vá»›i:
       choco search corretto
     hoáº·c
       choco list corretto17jdk --all

------------------------------------------------------------
5. KIá»‚M TRA SAU KHI CÃ€I
   - Kiá»ƒm tra Chocolatey list cá»¥c bá»™:
       choco list --local-only | findstr corretto
   - Kiá»ƒm tra phiÃªn báº£n Java:
       java -version
     Káº¿t quáº£ mong Ä‘á»£i chá»©a "Corretto" vÃ  version "17" (vÃ­ dá»¥ `openjdk version "17.0.x" 202x-xx-xx` + mention Corretto).
   - Kiá»ƒm tra javac:
       javac -version
   - Kiá»ƒm tra PATH (náº¿u cáº§n): System Environment Variables â†’ Path nÃªn chá»©a Ä‘Æ°á»ng dáº«n tá»›i thÆ° má»¥c bin cá»§a Corretto (vÃ­ dá»¥ `C:\Program Files\Amazon Corretto\jdk17\bin`).

------------------------------------------------------------
6. VÃ Dá»¤ Sá»¬ Dá»¤NG (COPY-PASTE)
   # 1) CÃ i Corretto 17 (phiÃªn báº£n package máº·c Ä‘á»‹nh)
   choco install corretto17jdk -y

   # 2) Náº¿u muá»‘n cháº¡y theo tá»«ng bÆ°á»›c (xem prompt trÆ°á»›c khi Ä‘á»“ng Ã½), bá» -y:
   choco install corretto17jdk

   # 3) CÃ i nhiá»u package cÃ¹ng lÃºc (vÃ­ dá»¥: Corretto + Maven)
   choco install corretto17jdk maven -y

   # 4) Kiá»ƒm tra package tá»“n táº¡i trÆ°á»›c khi cÃ i:
   choco list corretto17jdk --all

------------------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P VÃ€ CÃCH KHáº®C PHá»¤C
   âŒ "You must be an administrator to install"
       â†’ Má»Ÿ PowerShell/CMD vá»›i quyá»n Admin.

   âŒ "Package not found" hoáº·c "No package found with the id 'corretto17jdk'"
       â†’ Kiá»ƒm tra chÃ­nh xÃ¡c tÃªn package; dÃ¹ng `choco search corretto` hoáº·c truy cáº­p trang Chocolatey Ä‘á»ƒ xÃ¡c nháº­n ID.
       â†’ CÃ³ thá»ƒ package tÃªn khÃ¡c (vÃ­ dá»¥ `amazoncorretto` hoáº·c `corretto17`) â€” kiá»ƒm tra trÆ°á»›c.

   âŒ "Checksum or download failed"
       â†’ Kiá»ƒm tra káº¿t ná»‘i internet; thá»­ cháº¡y láº¡i; cáº­p nháº­t Chocolatey:
         choco upgrade chocolatey -y

   âŒ "PATH not updated" hoáº·c `java -version` váº«n bÃ¡o phiÃªn báº£n cÅ©
       â†’ Má»Ÿ cá»­a sá»• terminal má»›i (hoáº·c log out/log in) Ä‘á»ƒ nháº­n biáº¿n mÃ´i trÆ°á»ng má»›i.
       â†’ Kiá»ƒm tra system PATH vÃ  Æ°u tiÃªn Ä‘Æ°á»ng dáº«n JDK má»›i náº¿u cÃ³ nhiá»u JDK.

   âŒ "Conflict with existing Java" (multiple JDKs)
       â†’ Kiá»ƒm soÃ¡t báº±ng cÃ¡ch gá»¡ JDK cÅ© hoáº·c cáº­p nháº­t JAVA_HOME/PATH theo mong muá»‘n.
       â†’ Thiáº¿t láº­p JAVA_HOME:
         setx -m JAVA_HOME "C:\Program Files\Amazon Corretto\jdk17"

   âŒ "Installer failed"
       â†’ Xem logs choco (thÃªm `-d` Ä‘á»ƒ debug) hoáº·c kiá»ƒm tra Event Viewer Ä‘á»ƒ biáº¿t lÃ½ do.
       â†’ CÃ³ thá»ƒ do antivirus, policy, hay file locked â€” thá»­ táº¯t antivirus táº¡m thá»i hoáº·c reboot.

------------------------------------------------------------
8. Gá»  CÃ€I (UNINSTALL)
   - Gá»¡ báº±ng Chocolatey:
       choco uninstall corretto17jdk -y
   - Sau khi uninstall, kiá»ƒm tra `java -version` vÃ  PATH Ä‘á»ƒ Ä‘áº£m báº£o khÃ´ng cÃ²n tham chiáº¿u tá»›i Corretto.

------------------------------------------------------------
9. Máº¸O & BEST PRACTICES
   - LuÃ´n cháº¡y trong PowerShell/CMD vá»›i quyá»n Admin.
   - DÃ¹ng `choco list --local-only` Ä‘á»ƒ quáº£n lÃ½ cÃ¡c package Ä‘Ã£ cÃ i.
   - Náº¿u cáº§n phiÃªn báº£n cá»¥ thá»ƒ, kiá»ƒm tra package cÃ³ há»— trá»£ flag `--version=<x.y.z>` hay khÃ´ng; vÃ­ dá»¥ má»™t sá»‘ package cung cáº¥p version pinning:
       choco install corretto17jdk --version=17.0.x -y
     (LÆ°u Ã½: khÃ´ng pháº£i package nÃ o cÅ©ng há»— trá»£ nhiá»u version; kiá»ƒm tra `choco list corretto17jdk --all`).
   - Thiáº¿t láº­p JAVA_HOME há»‡ thá»‘ng náº¿u báº¡n cáº§n Ä‘á»ƒ build tool (Maven/Gradle) nháº­n diá»‡n:
       setx -m JAVA_HOME "C:\Program Files\Amazon Corretto\jdk17"
   - Káº¿t há»£p cÃ i thÃªm cÃ´ng cá»¥ build (Maven, Gradle) trong cÃ¹ng script cho mÃ´i trÆ°á»ng dev:
       choco install corretto17jdk maven gradle -y

------------------------------------------------------------
10. TÃ“M Táº®T NGáº®N Gá»ŒN
   - Lá»‡nh: choco install corretto17jdk -y
   - Má»¥c Ä‘Ã­ch: cÃ i Amazon Corretto JDK 17 trÃªn Windows báº±ng Chocolatey, tá»± Ä‘á»™ng Ä‘á»“ng Ã½ má»i prompt.
   - YÃªu cáº§u: quyá»n Administrator, káº¿t ná»‘i Internet, Chocolatey Ä‘Ã£ cÃ i.
   - Kiá»ƒm tra: `java -version` vÃ  `javac -version` pháº£i pháº£n há»“i Corretto/OpenJDK 17.

============================================================


	- cmd: choco install maven -y

============================================================
Lá»†NH: choco install maven -y
============================================================

1. Má»¤C ÄÃCH CHUNG
   - DÃ¹ng Chocolatey (choco) Ä‘á»ƒ **tá»± Ä‘á»™ng cÃ i Ä‘áº·t** Apache Maven trÃªn Windows.
   - Cá» `-y` cho phÃ©p **tá»± Ä‘á»™ng Ä‘á»“ng Ã½** táº¥t cáº£ cÃ¡c prompt, phÃ¹ há»£p cho script/automation.

------------------------------------------------------------
2. CÃš PHÃP VÃ€ GIáº¢I THÃCH Tá»ªNG THÃ€NH PHáº¦N
   choco
       â†’ TrÃ¬nh quáº£n lÃ½ package cho Windows (Chocolatey).

   install
       â†’ HÃ nh Ä‘á»™ng cÃ i Ä‘áº·t package.

   maven
       â†’ TÃªn package trÃªn Chocolatey (thÆ°á»ng cÃ i Apache Maven â€” cÃ´ng cá»¥ build/automation cho Java).

   -y  (hoáº·c --yes)
       â†’ Tá»± Ä‘á»™ng tráº£ lá»i "Yes" cho má»i prompt trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t.
         DÃ¹ng cho ká»‹ch báº£n khÃ´ng tÆ°Æ¡ng tÃ¡c (provisioning, script, CI).

------------------------------------------------------------
3. HÃ€NH VI KHI CHáº Y Lá»†NH
   - Chocolatey tÃ¬m package `maven` trong source máº·c Ä‘á»‹nh (community repo) hoáº·c source Ä‘Ã£ cáº¥u hÃ¬nh.
   - Táº£i metadata vÃ  gÃ³i installer (hoáº·c ZIP) do package Ä‘á»‹nh nghÄ©a.
   - Thá»±c hiá»‡n cÃ i á»Ÿ cháº¿ Ä‘á»™ silent/unattended (náº¿u package há»— trá»£).
   - Cáº­p nháº­t database Chocolatey Ä‘á»ƒ Ä‘Ã¡nh dáº¥u package Ä‘Ã£ Ä‘Æ°á»£c cÃ i.
   - Thiáº¿t láº­p PATH (thÆ°á»ng thÃªm thÆ° má»¥c `bin` cá»§a Maven vÃ o PATH há»‡ thá»‘ng hoáº·c user).
   - In thÃ´ng bÃ¡o thÃ nh cÃ´ng hoáº·c lá»—i kÃ¨m exit code.

------------------------------------------------------------
4. YÃŠU Cáº¦U TRÆ¯á»šC KHI CÃ€I
   - **Quyá»n Administrator**: má»Ÿ PowerShell/CMD báº±ng "Run as Administrator" (Ä‘á»ƒ cáº­p nháº­t PATH há»‡ thá»‘ng).
     (Má»™t sá»‘ package cÅ©ng cÃ³ thá»ƒ cÃ i Ä‘Æ°á»£c khÃ´ng cáº§n Admin nhÆ°ng tá»‘t nháº¥t lÃ  cháº¡y vá»›i quyá»n Admin.)
   - **Java JDK**: Maven cáº§n JDK (javac) Ä‘á»ƒ cháº¡y; hÃ£y Ä‘áº£m báº£o JDK (OpenJDK/Corretto/Oracle JDK) Ä‘Ã£ Ä‘Æ°á»£c cÃ i vÃ  `JAVA_HOME` trá» Ä‘Ãºng.
       â€¢ Kiá»ƒm tra Java: `java -version` vÃ  `javac -version`
   - **Internet**: Ä‘á»ƒ táº£i package vÃ  file phÃ¢n phá»‘i.
   - **Chocolatey Ä‘Ã£ Ä‘Æ°á»£c cÃ i**: kiá»ƒm tra `choco -v`.

------------------------------------------------------------
5. KIá»‚M TRA SAU KHI CÃ€I
   - Kiá»ƒm tra Chocolatey:
       choco list --local-only | findstr maven
   - Kiá»ƒm tra phiÃªn báº£n Maven:
       mvn -version
     (Káº¿t quáº£ mong Ä‘á»£i: hiá»ƒn thá»‹ Apache Maven version, Java home, OS info)
   - Kiá»ƒm tra PATH náº¿u `mvn` khÃ´ng Ä‘Æ°á»£c tÃ¬m tháº¥y: Ä‘Ã³ng/má»Ÿ terminal má»›i hoáº·c kiá»ƒm tra System Environment Variables â†’ Path nÃªn cÃ³ Ä‘Æ°á»ng dáº«n tá»›i thÆ° má»¥c bin cá»§a Maven.
   - Kiá»ƒm tra JAVA_HOME: `echo %JAVA_HOME%` (PowerShell: `echo $env:JAVA_HOME`).

------------------------------------------------------------
6. VÃ Dá»¤ Sá»¬ Dá»¤NG (COPY-PASTE)
   # 1) CÃ i Apache Maven (phiÃªn báº£n máº·c Ä‘á»‹nh package)
   choco install maven -y

   # 2) CÃ i cÃ¹ng JDK (náº¿u báº¡n muá»‘n cÃ i JDK trÆ°á»›c trong script)
   choco install corretto17jdk -y
   choco install maven -y

   # 3) Kiá»ƒm tra sau cÃ i
   mvn -version

   # 4) CÃ i phiÃªn báº£n cá»¥ thá»ƒ (náº¿u package há»— trá»£ phiÃªn báº£n):
   choco install maven --version=<x.y.z> -y
   (LÆ°u Ã½: khÃ´ng pháº£i package nÃ o cÅ©ng lÆ°u nhiá»u version; kiá»ƒm tra `choco list maven --all`)

------------------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P VÃ€ CÃCH KHáº®C PHá»¤C
   âŒ "You must be an administrator to install"
       â†’ Má»Ÿ PowerShell/CMD vá»›i quyá»n Admin.

   âŒ "mvn: command not found" hoáº·c khÃ´ng cÃ³ output khi cháº¡y `mvn -version`
       â†’ Má»Ÿ cá»­a sá»• shell má»›i (Ä‘á»ƒ nháº­n PATH má»›i) hoáº·c kiá»ƒm tra PATH trong System Environment Variables.
       â†’ Äáº£m báº£o Maven thá»±c sá»± Ä‘Æ°á»£c cÃ i: `choco list --local-only | findstr maven`.

   âŒ "JAVA_HOME not set" hoáº·c Maven bÃ¡o khÃ´ng tÃ¬m tháº¥y Java
       â†’ CÃ i JDK trÆ°á»›c vÃ  Ä‘áº·t JAVA_HOME:
         setx -m JAVA_HOME "C:\Program Files\Java\jdk-17"  (cháº¡y vá»›i Admin)
       â†’ Má»Ÿ terminal má»›i Ä‘á»ƒ biáº¿n mÃ´i trÆ°á»ng cÃ³ hiá»‡u lá»±c.

   âŒ "Checksum/Download failed" hoáº·c "Download error"
       â†’ Kiá»ƒm tra káº¿t ná»‘i máº¡ng, proxy, firewall; cháº¡y láº¡i; cáº­p nháº­t Chocolatey: `choco upgrade chocolatey -y`.

   âŒ "Package not found" hoáº·c "No package found with the id 'maven'"
       â†’ Kiá»ƒm tra tÃªn package: `choco search maven` hoáº·c truy cáº­p community.chocolatey.org.

------------------------------------------------------------
8. Gá»  CÃ€I (UNINSTALL)
   - Gá»¡ báº±ng Chocolatey:
       choco uninstall maven -y
   - Sau khi uninstall, kiá»ƒm tra `mvn -version` Ä‘á»ƒ xÃ¡c nháº­n Ä‘Ã£ gá»¡.

------------------------------------------------------------
9. Máº¸O & BEST PRACTICES
   - LuÃ´n cháº¡y script cÃ i Ä‘áº·t trong PowerShell (Admin) Ä‘á»ƒ trÃ¡nh permission issue.
   - Äáº£m báº£o **JDK Ä‘Æ°á»£c cÃ i trÆ°á»›c** (Maven phá»¥ thuá»™c Java).
   - DÃ¹ng `-y` trong script/automation; khi thao tÃ¡c thá»§ cÃ´ng báº¡n cÃ³ thá»ƒ bá» `-y` Ä‘á»ƒ xem prompt.
   - Kiá»ƒm tra `mvn -version` ngay sau cÃ i Ä‘á»ƒ xÃ¡c nháº­n mÃ´i trÆ°á»ng build.
   - LÆ°u cÃ¡c bÆ°á»›c cÃ i Ä‘áº·t (JDK + Maven) trong script Ä‘á»ƒ dá»… reproduce trÃªn nhiá»u mÃ¡y.
   - Khi dÃ¹ng CI, cÃ i JDK + Maven trong pipeline image hoáº·c runner trÆ°á»›c khi cháº¡y build.

------------------------------------------------------------
10. TÃ“M Táº®T NGáº®N Gá»ŒN
    - Lá»‡nh: choco install maven -y
    - Má»¥c Ä‘Ã­ch: cÃ i Apache Maven trÃªn Windows báº±ng Chocolatey vÃ  tá»± Ä‘á»™ng cháº¥p nháº­n má»i xÃ¡c nháº­n.
    - YÃªu cáº§u: quyá»n Admin, Java JDK cÃ³ sáºµn, káº¿t ná»‘i Internet, Chocolatey Ä‘Ã£ cÃ i.
    - Kiá»ƒm tra: `mvn -version` vÃ  `java -version`.

============================================================



	- cmd: choco install awscli -y

============================================================
Lá»†NH: choco install awscli -y
============================================================

1. Má»¤C ÄÃCH CHUNG
   - DÃ¹ng Chocolatey (choco) Ä‘á»ƒ **tá»± Ä‘á»™ng cÃ i Ä‘áº·t** AWS Command Line Interface (AWS CLI)
     trÃªn Windows.
   - Cá» `-y` cho phÃ©p **tá»± Ä‘á»™ng Ä‘á»“ng Ã½** táº¥t cáº£ cÃ¡c prompt, phÃ¹ há»£p cho script/automation.

------------------------------------------------------------
2. CÃš PHÃP VÃ€ GIáº¢I THÃCH Tá»ªNG THÃ€NH PHáº¦N
   choco
       â†’ TrÃ¬nh quáº£n lÃ½ package cho Windows (Chocolatey).

   install
       â†’ HÃ nh Ä‘á»™ng cÃ i Ä‘áº·t package.

   awscli
       â†’ TÃªn package trÃªn Chocolatey (AWS Command Line Interface â€” cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i AWS).

   -y  (hoáº·c --yes)
       â†’ Tá»± Ä‘á»™ng tráº£ lá»i "Yes" cho má»i prompt trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t.
         DÃ¹ng cho ká»‹ch báº£n khÃ´ng tÆ°Æ¡ng tÃ¡c (provisioning, script, CI).

------------------------------------------------------------
3. HÃ€NH VI KHI CHáº Y Lá»†NH
   - Chocolatey tÃ¬m package `awscli` trong source máº·c Ä‘á»‹nh (community repo) hoáº·c source báº¡n cáº¥u hÃ¬nh.
   - Táº£i metadata vÃ  gÃ³i phÃ¢n phá»‘i (installer) do package Ä‘á»‹nh nghÄ©a.
   - Cháº¡y installer á»Ÿ cháº¿ Ä‘á»™ silent/unattended (náº¿u package há»— trá»£).
   - Cáº­p nháº­t database Chocolatey Ä‘á»ƒ Ä‘Ã¡nh dáº¥u package Ä‘Ã£ Ä‘Æ°á»£c cÃ i.
   - ThÃªm thÆ° má»¥c chá»©a `aws.exe` (hoáº·c script wrapper) vÃ o PATH há»‡ thá»‘ng hoáº·c user (tÃ¹y package).
   - In thÃ´ng bÃ¡o thÃ nh cÃ´ng hoáº·c lá»—i kÃ¨m exit code.

------------------------------------------------------------
4. YÃŠU Cáº¦U TRÆ¯á»šC KHI CÃ€I
   - **Quyá»n Administrator**: nÃªn má»Ÿ PowerShell/CMD báº±ng "Run as Administrator"
     (Ä‘á»ƒ cÃ i vÃ o Program Files vÃ  chá»‰nh PATH há»‡ thá»‘ng).
   - **Internet**: cáº§n Ä‘á»ƒ táº£i package vÃ  file phÃ¢n phá»‘i.
   - **Chocolatey Ä‘Ã£ Ä‘Æ°á»£c cÃ i**: kiá»ƒm tra `choco -v`.
   - (TÃ¹y package) CÃ³ thá»ƒ yÃªu cáº§u .NET hoáº·c dependency khÃ¡c â€” Chocolatey package thÆ°á»ng xá»­ lÃ½ phá»¥ thuá»™c.

------------------------------------------------------------
5. KIá»‚M TRA SAU KHI CÃ€I
   - Kiá»ƒm tra Chocolatey:
       choco list --local-only | findstr awscli

   - Kiá»ƒm tra phiÃªn báº£n AWS CLI:
       aws --version
     (Káº¿t quáº£ mong Ä‘á»£i: vÃ­ dá»¥ `aws-cli/2.x.x Python/3.x Windows/10 exe/AMD64` hoáº·c tÆ°Æ¡ng tá»±.)

   - Náº¿u `aws` khÃ´ng Ä‘Æ°á»£c tÃ¬m tháº¥y:
       â€¢ Má»Ÿ cá»­a sá»• terminal má»›i (PATH má»›i cÃ³ hiá»‡u lá»±c sau khi má»Ÿ terminal má»›i).
       â€¢ Kiá»ƒm tra PATH trong System Environment Variables Ä‘á»ƒ Ä‘áº£m báº£o thÆ° má»¥c cÃ i Ä‘áº·t cÃ³ trong PATH.

   - Kiá»ƒm tra cáº¥u hÃ¬nh AWS (sau khi cÃ i, cáº§n credentials Ä‘á»ƒ dÃ¹ng):
       aws configure
     (Báº¡n sáº½ nháº­p AWS Access Key ID, Secret Access Key, region, output format.)

------------------------------------------------------------
6. VÃ Dá»¤ Sá»¬ Dá»¤NG (COPY-PASTE)
   # 1) CÃ i AWS CLI (phiÃªn báº£n package máº·c Ä‘á»‹nh)
   choco install awscli -y

   # 2) Kiá»ƒm tra phiÃªn báº£n sau cÃ i
   aws --version

   # 3) Cáº¥u hÃ¬nh credentials (interactive)
   aws configure

   # 4) DÃ¹ng profile khÃ¡c (vÃ­ dá»¥ trong script)
   aws s3 ls --profile myprofile

   # 5) Gá»¡ cÃ i (náº¿u cáº§n)
   choco uninstall awscli -y

------------------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P VÃ€ CÃCH KHáº®C PHá»¤C
   âŒ "You must be an administrator to install"
       â†’ Má»Ÿ PowerShell/CMD vá»›i quyá»n Admin.

   âŒ "aws: command not found" hoáº·c Windows khÃ´ng nháº­n `aws`
       â†’ Má»Ÿ terminal má»›i; kiá»ƒm tra PATH; náº¿u váº«n khÃ´ng tháº¥y, kiá»ƒm tra vá»‹ trÃ­ cÃ i (thÆ°á»ng trong Program Files) vÃ  thÃªm vÃ o PATH thá»§ cÃ´ng.

   âŒ "Checksum/Download failed"
       â†’ Kiá»ƒm tra káº¿t ná»‘i máº¡ng, proxy, firewall; cháº¡y láº¡i; cáº­p nháº­t Chocolatey:
         choco upgrade chocolatey -y

   âŒ "Permission denied" khi ghi PATH
       â†’ Cháº¡y terminal vá»›i quyá»n admin hoáº·c chá»‰nh PATH qua giao diá»‡n System â†’ Environment Variables.

   âŒ "Credentials error" khi gá»i API
       â†’ Cháº¡y `aws configure` Ä‘á»ƒ nháº­p access key/secret, hoáº·c thiáº¿t láº­p biáº¿n mÃ´i trÆ°á»ng:
         setx AWS_ACCESS_KEY_ID "AKIA..." /M
         setx AWS_SECRET_ACCESS_KEY "..." /M
         setx AWS_DEFAULT_REGION "us-east-1" /M
       â†’ Hoáº·c lÆ°u credentials vÃ o `%USERPROFILE%\.aws\credentials`.

   âŒ "Incompatible Python/runtime" (hiáº¿m vá»›i AWS CLI v2 vÃ¬ cÃ³ binary Ä‘á»™c láº­p)
       â†’ Kiá»ƒm tra doc package; cÃ¢n nháº¯c cÃ i AWS CLI v2 chÃ­nh thá»©c náº¿u cáº§n.

------------------------------------------------------------
8. Báº¢O Máº¬T & QUáº¢N LÃ CREDENTIALS
   - KhÃ´ng lÆ°u AWS credentials vÃ o mÃ£ nguá»“n hoáº·c file cÃ´ng khai.
   - DÃ¹ng AWS IAM role (trÃªn EC2/ECS) hoáº·c AWS Vault / SSO cho báº£o máº­t tá»‘t hÆ¡n.
   - Kiá»ƒm tra quyá»n IAM: táº¡o user vá»›i permission tá»‘i thiá»ƒu cáº§n thiáº¿t.

------------------------------------------------------------
9. BEST PRACTICES
   - DÃ¹ng `aws --version` ngay sau cÃ i Ä‘á»ƒ xÃ¡c nháº­n success.
   - LÆ°u credentials an toÃ n (vÃ­ dá»¥ AWS SSO, AWS Vault, hoáº·c biáº¿n mÃ´i trÆ°á»ng trong CI).
   - Khi lÃ m automation/CI, dÃ¹ng profile hoáº·c environment variables thay vÃ¬ `aws configure` interactive.
   - Ghi láº¡i bÆ°á»›c cÃ i trong script PowerShell Ä‘á»ƒ dá»… reproduce:
       choco install awscli -y
       aws --version
   - Cáº­p nháº­t AWS CLI thÆ°á»ng xuyÃªn:
       choco upgrade awscli -y

------------------------------------------------------------
10. TÃ“M Táº®T NGáº®N Gá»ŒN
    - Lá»‡nh: choco install awscli -y
    - Má»¥c Ä‘Ã­ch: cÃ i AWS CLI trÃªn Windows báº±ng Chocolatey, tá»± Ä‘á»™ng cháº¥p nháº­n má»i xÃ¡c nháº­n.
    - YÃªu cáº§u: cháº¡y vá»›i quyá»n Admin (khuyáº¿n nghá»‹), káº¿t ná»‘i Internet, Chocolatey Ä‘Ã£ cÃ i.
    - Kiá»ƒm tra: `aws --version`, `aws configure`.

============================================================



	- cmd: choco install intellijidea-community -y

============================================================
Lá»†NH: choco install intellijidea-community -y
============================================================

1. Má»¤C ÄÃCH CHUNG
   - DÃ¹ng Chocolatey (choco) Ä‘á»ƒ **tá»± Ä‘á»™ng cÃ i Ä‘áº·t** IntelliJ IDEA Community Edition trÃªn Windows.
   - Cá» `-y` cho phÃ©p **tá»± Ä‘á»™ng Ä‘á»“ng Ã½** táº¥t cáº£ cÃ¡c prompt, phÃ¹ há»£p cho script/automation hoáº·c provisioning nhanh.

------------------------------------------------------------
2. CÃš PHÃP VÃ€ GIáº¢I THÃCH Tá»ªNG THÃ€NH PHáº¦N
   choco
       â†’ TrÃ¬nh quáº£n lÃ½ package cho Windows (Chocolatey).

   install
       â†’ HÃ nh Ä‘á»™ng cÃ i Ä‘áº·t package.

   intellijidea-community
       â†’ TÃªn package trÃªn Chocolatey tÆ°Æ¡ng á»©ng vá»›i **IntelliJ IDEA Community Edition**
         (phiÃªn báº£n mÃ£ nguá»“n má»Ÿ, miá»…n phÃ­, phÃ¹ há»£p phÃ¡t triá»ƒn Java, Kotlin, Groovy, v.v.).

   -y  (hoáº·c --yes)
       â†’ Tá»± Ä‘á»™ng tráº£ lá»i "Yes" cho má»i prompt trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t.
         DÃ¹ng cho ká»‹ch báº£n khÃ´ng tÆ°Æ¡ng tÃ¡c (provisioning, script, CI).

------------------------------------------------------------
3. HÃ€NH VI KHI CHáº Y Lá»†NH
   - Chocolatey tÃ¬m package `intellijidea-community` trong nguá»“n máº·c Ä‘á»‹nh (community repo) hoáº·c nguá»“n Ä‘Ã£ cáº¥u hÃ¬nh.
   - Táº£i metadata vÃ  gÃ³i installer (thÆ°á»ng lÃ  MSI/EXE hoáº·c ZIP do package Ä‘á»‹nh nghÄ©a).
   - Cháº¡y installer á»Ÿ cháº¿ Ä‘á»™ silent/unattended náº¿u package há»— trá»£.
   - Cáº­p nháº­t database Chocolatey Ä‘á»ƒ Ä‘Ã¡nh dáº¥u package Ä‘Ã£ Ä‘Æ°á»£c cÃ i.
   - ThÃªm shortcut, registry, vÃ  (tÃ¹y package) cáº­p nháº­t PATH náº¿u cáº§n.
   - In thÃ´ng bÃ¡o thÃ nh cÃ´ng hoáº·c lá»—i kÃ¨m exit code.

------------------------------------------------------------
4. YÃŠU Cáº¦U TRÆ¯á»šC KHI CÃ€I
   - **Quyá»n Administrator**: nÃªn má»Ÿ PowerShell/CMD báº±ng "Run as Administrator"
     (má»™t sá»‘ hÃ nh Ä‘á»™ng nhÆ° ghi vÃ o Program Files hoáº·c registry cáº§n quyá»n).
   - **Internet**: cáº§n Ä‘á»ƒ táº£i installer.
   - **Chocolatey Ä‘Ã£ Ä‘Æ°á»£c cÃ i**: kiá»ƒm tra `choco -v`.
   - **KhÃ´ng cáº§n JDK** Ä‘á»ƒ cÃ i IntelliJ IDEA (IDE tÃ­ch há»£p JRE cho cháº¡y GUI), nhÆ°ng Ä‘á»ƒ phÃ¡t triá»ƒn Java báº¡n nÃªn cÃ i JDK riÃªng (vÃ­ dá»¥ corretto17jdk).

------------------------------------------------------------
5. KIá»‚M TRA SAU KHI CÃ€I
   - Kiá»ƒm tra Chocolatey:
       choco list --local-only | findstr intellijidea-community

   - Má»Ÿ IntelliJ:
       Start Menu â†’ IntelliJ IDEA Community Edition
     hoáº·c kiá»ƒm tra trong thÆ° má»¥c cÃ i Ä‘áº·t (thÆ°á»ng C:\Program Files\JetBrains\IntelliJ IDEA Community Edition\bin\idea64.exe).

   - Kiá»ƒm tra version (trong GUI): Help â†’ About

   - Náº¿u shortcut khÃ´ng xuáº¥t hiá»‡n: khá»Ÿi Ä‘á»™ng láº¡i Explorer hoáº·c Ä‘Äƒng xuáº¥t/Ä‘Äƒng nháº­p láº¡i.

------------------------------------------------------------
6. VÃ Dá»¤ Sá»¬ Dá»¤NG (COPY-PASTE)
   # 1) CÃ i IntelliJ IDEA Community (phiÃªn báº£n package máº·c Ä‘á»‹nh)
   choco install intellijidea-community -y

   # 2) CÃ i cÃ¹ng JDK (náº¿u cáº§n) trong cÃ¹ng má»™t script
   choco install corretto17jdk -y
   choco install intellijidea-community -y

   # 3) CÃ i phiÃªn báº£n cá»¥ thá»ƒ (náº¿u package há»— trá»£ version pin)
   choco install intellijidea-community --version=<x.y.z> -y
   (LÆ°u Ã½: khÃ´ng pháº£i package nÃ o cÅ©ng lÆ°u nhiá»u phiÃªn báº£n; kiá»ƒm tra `choco list intellijidea-community --all`)

   # 4) Gá»¡ cÃ i
   choco uninstall intellijidea-community -y

------------------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P VÃ€ CÃCH KHáº®C PHá»¤C
   âŒ "You must be an administrator to install"
       â†’ Má»Ÿ PowerShell/CMD vá»›i quyá»n Admin.

   âŒ "Package not found" hoáº·c "No package found with the id 'intellijidea-community'"
       â†’ Kiá»ƒm tra tÃªn package: `choco search intellijidea` hoáº·c truy cáº­p community.chocolatey.org Ä‘á»ƒ xÃ¡c nháº­n ID.

   âŒ "Checksum/Download failed"
       â†’ Kiá»ƒm tra káº¿t ná»‘i máº¡ng, proxy, firewall; cháº¡y láº¡i; cáº­p nháº­t Chocolatey:
         choco upgrade chocolatey -y

   âŒ "Installer failed" hoáº·c GUI khÃ´ng má»Ÿ Ä‘Æ°á»£c
       â†’ Xem log cá»§a choco (dÃ¹ng `choco -d` hoáº·c kiá»ƒm tra logs táº¡i %ALLUSERSPROFILE%\chocolatey\logs).
       â†’ Thá»­ cÃ i láº¡i hoáº·c cÃ i thá»§ cÃ´ng tá»« trang JetBrains náº¿u cáº§n.

   âŒ "KhÃ´ng tháº¥y shortcut / icon"
       â†’ Má»Ÿ thÆ° má»¥c cÃ i Ä‘áº·t vÃ  cháº¡y idea64.exe trá»±c tiáº¿p; khá»Ÿi Ä‘á»™ng láº¡i Explorer náº¿u shortcut khÃ´ng hiá»‡n.

------------------------------------------------------------
8. Máº¸O & BEST PRACTICES
   - Náº¿u dÃ¹ng cho phÃ¡t triá»ƒn Java, cÃ i JDK trÆ°á»›c (vÃ­ dá»¥ Corretto/AdoptOpenJDK) vÃ  cáº¥u hÃ¬nh trong IntelliJ (File â†’ Project Structure â†’ SDKs).
   - Sá»­ dá»¥ng `choco upgrade intellijidea-community -y` Ä‘á»ƒ cáº­p nháº­t IDE qua Chocolatey.
   - Äá»‘i vá»›i nhiá»u mÃ¡y dev: lÆ°u script cÃ i Ä‘áº·t (vÃ­ dá»¥ PowerShell) Ä‘á»ƒ reproduce:
       choco install corretto17jdk -y
       choco install intellijidea-community -y
   - Kiá»ƒm tra trang package Chocolatey Ä‘á»ƒ xem options extra (vÃ­ dá»¥ cÃ³ installer silent flags hay khÃ´ng).
   - Náº¿u muá»‘n cÃ i phiÃªn báº£n Ultimate (báº£n tráº£ phÃ­) kiá»ƒm tra package tÆ°Æ¡ng á»©ng hoáº·c cÃ i thá»§ cÃ´ng tá»« JetBrains Toolbox.

------------------------------------------------------------
9. Gá»  CÃ€I (UNINSTALL)
   - Gá»¡ báº±ng Chocolatey:
       choco uninstall intellijidea-community -y
   - Hoáº·c gá»¡ qua Control Panel â†’ Programs and Features.
   - Sau khi uninstall, kiá»ƒm tra vÃ  xoÃ¡ profile/setting náº¿u muá»‘n reset hoÃ n toÃ n (thÆ° má»¥c settings cá»§a JetBrains trong %USERPROFILE%\.IntelliJIdea*).

------------------------------------------------------------
10. TÃ“M Táº®T NGáº®N Gá»ŒN
    - Lá»‡nh: choco install intellijidea-community -y
    - Má»¥c Ä‘Ã­ch: cÃ i IntelliJ IDEA Community Edition trÃªn Windows báº±ng Chocolatey, khÃ´ng yÃªu cáº§u tÆ°Æ¡ng tÃ¡c.
    - YÃªu cáº§u: quyá»n Admin (khuyáº¿n nghá»‹), Internet, Chocolatey Ä‘Ã£ cÃ i.
    - Kiá»ƒm tra: má»Ÿ IntelliJ tá»« Start Menu hoáº·c cháº¡y idea64.exe; dÃ¹ng Help â†’ About Ä‘á»ƒ xem phiÃªn báº£n.

============================================================



	- cmd: choco install vscode -y

============================================================
Lá»†NH: choco install vscode -y
============================================================

1. Má»¤C ÄÃCH CHUNG
   - DÃ¹ng Chocolatey (choco) Ä‘á»ƒ **tá»± Ä‘á»™ng cÃ i Ä‘áº·t** Visual Studio Code (VS Code) trÃªn Windows.
   - Cá» `-y` cho phÃ©p **tá»± Ä‘á»™ng Ä‘á»“ng Ã½** táº¥t cáº£ cÃ¡c prompt, phÃ¹ há»£p cho script/automation hoáº·c provisioning hÃ ng loáº¡t.

------------------------------------------------------------
2. CÃš PHÃP VÃ€ GIáº¢I THÃCH Tá»ªNG THÃ€NH PHáº¦N
   choco
       â†’ TrÃ¬nh quáº£n lÃ½ package cho Windows (Chocolatey).

   install
       â†’ HÃ nh Ä‘á»™ng cÃ i Ä‘áº·t package.

   vscode
       â†’ Package ID trÃªn Chocolatey tÆ°Æ¡ng á»©ng vá»›i **Visual Studio Code** (thÆ°á»ng lÃ  build chÃ­nh thá»©c cá»§a Microsoft).
         LÆ°u Ã½: cÃ³ thá»ƒ tá»“n táº¡i cÃ¡c package khÃ¡c nhÆ° `vscode-insiders` cho báº£n Insiders.

   -y  (hoáº·c --yes)
       â†’ Tá»± Ä‘á»™ng tráº£ lá»i "Yes" cho má»i prompt trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t.
         DÃ¹ng cho ká»‹ch báº£n khÃ´ng tÆ°Æ¡ng tÃ¡c (provisioning, script, CI).

------------------------------------------------------------
3. HÃ€NH VI KHI CHáº Y Lá»†NH
   - Chocolatey tÃ¬m package `vscode` trong nguá»“n máº·c Ä‘á»‹nh (community repo) hoáº·c nguá»“n báº¡n cáº¥u hÃ¬nh.
   - Táº£i metadata vÃ  gÃ³i cÃ i Ä‘áº·t (thÆ°á»ng lÃ  installer tá»« Microsoft).
   - Cháº¡y installer á»Ÿ cháº¿ Ä‘á»™ silent/unattended náº¿u package há»— trá»£ cÃ¡c flags tÆ°Æ¡ng á»©ng.
   - Cáº­p nháº­t database Chocolatey (Ä‘Ã¡nh dáº¥u package Ä‘Ã£ cÃ i).
   - Táº¡o shortcut trÃªn Start Menu, thÃªm registry náº¿u cáº§n.
   - In thÃ´ng bÃ¡o thÃ nh cÃ´ng hoáº·c lá»—i kÃ¨m exit code (0 = thÃ nh cÃ´ng).

------------------------------------------------------------
4. YÃŠU Cáº¦U TRÆ¯á»šC KHI CÃ€I
   - **Quyá»n Administrator**: nÃªn má»Ÿ PowerShell/CMD báº±ng "Run as Administrator"
     (má»™t sá»‘ thao tÃ¡c nhÆ° ghi vÃ o Program Files hoáº·c registry cÃ³ thá»ƒ cáº§n quyá»n).
   - **Internet**: cáº§n Ä‘á»ƒ táº£i installer tá»« nguá»“n.
   - **Chocolatey Ä‘Ã£ Ä‘Æ°á»£c cÃ i**: kiá»ƒm tra báº±ng `choco -v`.
   - Kiá»ƒm tra package ID náº¿u báº¡n muá»‘n cÃ i báº£n Insiders hoáº·c cáº¥u hÃ¬nh khÃ¡c:
       choco search vscode

------------------------------------------------------------
5. KIá»‚M TRA SAU KHI CÃ€I
   - Kiá»ƒm tra Chocolatey:
       choco list --local-only | findstr vscode

   - Má»Ÿ VS Code:
       Start Menu â†’ Visual Studio Code
     hoáº·c cháº¡y `code` tá»« terminal (yÃªu cáº§u cÃ i command-line path trong VS Code hoáº·c chá»n "Shell Command: Install 'code' command in PATH").

   - Kiá»ƒm tra version:
       Help â†’ About (trong GUI) hoáº·c `code --version` (náº¿u `code` trong PATH).

   - Náº¿u `code` khÃ´ng cháº¡y tá»« terminal:
       â€¢ Má»Ÿ VS Code â†’ Command Palette â†’ "Shell Command: Install 'code' command in PATH" (náº¿u cÃ³).
       â€¢ Hoáº·c kiá»ƒm tra PATH vÃ  khá»Ÿi Ä‘á»™ng láº¡i terminal.

------------------------------------------------------------
6. VÃ Dá»¤ Sá»¬ Dá»¤NG (COPY-PASTE)
   # 1) CÃ i Visual Studio Code (phiÃªn báº£n stable)
   choco install vscode -y

   # 2) CÃ i VS Code Insiders (náº¿u muá»‘n)
   choco install vscode-insiders -y

   # 3) CÃ i thÃªm extension (sau khi cÃ i VS Code)
   code --install-extension ms-python.python

   # 4) CÃ i nhiá»u pháº§n má»m cÃ¹ng lÃºc (vÃ­ dá»¥: VS Code + Git)
   choco install vscode git -y

   # 5) Gá»¡ cÃ i
   choco uninstall vscode -y

------------------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P VÃ€ CÃCH KHáº®C PHá»¤C
   âŒ "You must be an administrator to install"
       â†’ Má»Ÿ PowerShell/CMD báº±ng Run as Administrator.

   âŒ "Package not found"
       â†’ Kiá»ƒm tra tÃªn package: `choco search vscode` hoáº·c truy cáº­p community.chocolatey.org Ä‘á»ƒ xÃ¡c nháº­n ID.

   âŒ "Checksum/Download failed" hoáº·c "Download error"
       â†’ Kiá»ƒm tra káº¿t ná»‘i máº¡ng, proxy, firewall; thá»­ láº¡i; cáº­p nháº­t Chocolatey: `choco upgrade chocolatey -y`.

   âŒ "code: command not found" khi cháº¡y `code --version`
       â†’ CÃ i command `code` vÃ o PATH: Má»Ÿ VS Code â†’ Command Palette â†’ "Shell Command: Install 'code' command in PATH", hoáº·c thÃªm thá»§ cÃ´ng Ä‘Æ°á»ng dáº«n tá»›i `Code.exe` (thÆ°á»ng: `C:\Users\<user>\AppData\Local\Programs\Microsoft VS Code\bin`).

   âŒ "Installer failed" (logs)
       â†’ Kiá»ƒm tra log: %ALLUSERSPROFILE%\chocolatey\logs\chocolatey.log hoáº·c cháº¡y choco vá»›i `-d`/`--debug` Ä‘á»ƒ láº¥y thÃ´ng tin chi tiáº¿t.

   âŒ "Policies/Group Policy block install"
       â†’ Kiá»ƒm tra chÃ­nh sÃ¡ch cÃ´ng ty, yÃªu cáº§u quyá»n admin hoáº·c dÃ¹ng package manager Ä‘Æ°á»£c IT cháº¥p nháº­n.

------------------------------------------------------------
8. Cáº¤U HÃŒNH & TÃ™Y CHá»ŒN SAU CÃ€I
   - Thiáº¿t láº­p Sync hoáº·c Settings Sync Ä‘á»ƒ Ä‘á»“ng bá»™ cáº¥u hÃ¬nh extensions.
   - CÃ i extensions cáº§n thiáº¿t tá»± Ä‘á»™ng:
       code --install-extension <extension-id>
   - Cáº¥u hÃ¬nh workspace, snippets, settings.json lÆ°u trong `%APPDATA%\Code\User\settings.json`.
   - DÃ¹ng Settings Sync vá»›i GitHub/Microsoft account Ä‘á»ƒ sync extensions + settings.

------------------------------------------------------------
9. BEST PRACTICES (CHO AUTOMATION)
   - DÃ¹ng `-y` khi cháº¡y trong script Ä‘á»ƒ trÃ¡nh tÆ°Æ¡ng tÃ¡c.
   - Pin version náº¿u cáº§n mÃ´i trÆ°á»ng reproducible:
       choco install vscode --version=<x.y.z> -y
     (LÆ°u Ã½: khÃ´ng pháº£i package luÃ´n lÆ°u nhiá»u version.)
   - LÆ°u danh sÃ¡ch package Ä‘á»ƒ reproduce mÃ´i trÆ°á»ng dev:
       choco list --local-only > installed.txt
   - Trong CI, dÃ¹ng container/runner image cÃ³ sáºµn VS Code server/CLI náº¿u cáº§n.

------------------------------------------------------------
10. Gá»  CÃ€I HOÃ€N TOÃ€N (UNINSTALL & CLEAN)
   - Gá»¡ báº±ng Chocolatey:
       choco uninstall vscode -y
   - Kiá»ƒm tra vÃ  xÃ³a cache/extensions náº¿u muá»‘n reset:
       %USERPROFILE%\.vscode\extensions
       %APPDATA%\Code\ (user data)
       %LOCALAPPDATA%\Programs\Microsoft VS Code\ (cÃ i Ä‘áº·t)

------------------------------------------------------------
11. TÃ“M Táº®T NGáº®N Gá»ŒN
   - Lá»‡nh: choco install vscode -y
   - Má»¥c Ä‘Ã­ch: cÃ i Visual Studio Code trÃªn Windows báº±ng Chocolatey vÃ  tá»± Ä‘á»™ng cháº¥p nháº­n má»i xÃ¡c nháº­n.
   - YÃªu cáº§u: cháº¡y vá»›i quyá»n Admin (khuyáº¿n nghá»‹), káº¿t ná»‘i Internet, Chocolatey Ä‘Ã£ cÃ i.
   - Kiá»ƒm tra: má»Ÿ VS Code tá»« Start Menu; kiá»ƒm tra `code --version` (náº¿u `code` Ä‘Ã£ Ä‘Æ°á»£c cÃ i vÃ o PATH).

============================================================


	- cmd: choco install sublimetext3 -y
	
============================================================
Lá»†NH: choco install sublimetext3 -y
============================================================

1. Má»¤C ÄÃCH CHUNG
   - DÃ¹ng Chocolatey (choco) Ä‘á»ƒ **tá»± Ä‘á»™ng cÃ i Ä‘áº·t** Sublime Text 3 trÃªn Windows.
   - Cá» `-y` cho phÃ©p **tá»± Ä‘á»™ng Ä‘á»“ng Ã½** táº¥t cáº£ cÃ¡c prompt, phÃ¹ há»£p cho script/automation hoáº·c provisioning hÃ ng loáº¡t.
   - Sublime Text lÃ  má»™t trÃ¬nh soáº¡n tháº£o vÄƒn báº£n/IDE nháº¹, phá»• biáº¿n cho láº­p trÃ¬nh viÃªn (há»— trá»£ nhiá»u ngÃ´n ngá»¯, plugin, themes).

------------------------------------------------------------
2. CÃš PHÃP VÃ€ GIáº¢I THÃCH Tá»ªNG THÃ€NH PHáº¦N
   choco
       â†’ TrÃ¬nh quáº£n lÃ½ package cho Windows (Chocolatey).

   install
       â†’ HÃ nh Ä‘á»™ng cÃ i Ä‘áº·t package.

   sublimetext3
       â†’ Package ID trÃªn Chocolatey cho **Sublime Text 3**.
         (LÆ°u Ã½: cÃ³ thá»ƒ tá»“n táº¡i package khÃ¡c nhÆ° `sublimetext` hoáº·c `sublimetext3` tuá»³ maintainer â€” kiá»ƒm tra trÆ°á»›c khi cÃ i.)

   -y  (hoáº·c --yes)
       â†’ Tá»± Ä‘á»™ng tráº£ lá»i "Yes" cho má»i prompt trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t.
         DÃ¹ng cho ká»‹ch báº£n khÃ´ng tÆ°Æ¡ng tÃ¡c (provisioning, script, CI).

------------------------------------------------------------
3. HÃ€NH VI KHI CHáº Y Lá»†NH
   - Chocolatey truy váº¥n repository community (hoáº·c source báº¡n cáº¥u hÃ¬nh) Ä‘á»ƒ tÃ¬m package `sublimetext3`.
   - Táº£i metadata vÃ  file installer (thÆ°á»ng lÃ  EXE hoáº·c ZIP do package Ä‘á»‹nh nghÄ©a).
   - Thá»±c thi installer á»Ÿ cháº¿ Ä‘á»™ silent/unattended náº¿u package há»— trá»£ cÃ¡c flags tÆ°Æ¡ng á»©ng.
   - Cáº­p nháº­t database Chocolatey Ä‘á»ƒ Ä‘Ã¡nh dáº¥u package Ä‘Ã£ Ä‘Æ°á»£c cÃ i.
   - Táº¡o shortcut trÃªn Start Menu, ghi registry, cÃ³ thá»ƒ Ä‘áº·t file cáº¥u hÃ¬nh máº·c Ä‘á»‹nh.
   - In thÃ´ng bÃ¡o thÃ nh cÃ´ng hoáº·c lá»—i kÃ¨m exit code (0 = thÃ nh cÃ´ng).

------------------------------------------------------------
4. YÃŠU Cáº¦U TRÆ¯á»šC KHI CÃ€I
   - **Quyá»n Administrator**: nÃªn má»Ÿ PowerShell/CMD báº±ng "Run as Administrator"
     (má»™t sá»‘ thao tÃ¡c nhÆ° ghi vÃ o Program Files/ registry cáº§n quyá»n).
   - **Internet**: cáº§n Ä‘á»ƒ táº£i installer.
   - **Chocolatey Ä‘Ã£ Ä‘Æ°á»£c cÃ i**: kiá»ƒm tra báº±ng `choco -v`.
   - **Kiá»ƒm tra package ID**: Ä‘áº£m báº£o `sublimetext3` lÃ  ID báº¡n muá»‘n; dÃ¹ng `choco search sublime` Ä‘á»ƒ xÃ¡c nháº­n.

------------------------------------------------------------
5. KIá»‚M TRA SAU KHI CÃ€I
   - Kiá»ƒm tra Chocolatey:
       choco list --local-only | findstr sublimetext

   - Má»Ÿ Sublime Text:
       Start Menu â†’ Sublime Text 3
     hoáº·c cháº¡y file thá»±c thi trong thÆ° má»¥c cÃ i Ä‘áº·t (thÆ°á»ng `C:\Program Files\Sublime Text 3\`).

   - Kiá»ƒm tra version (trong GUI): Help â†’ About Sublime Text

   - Náº¿u shortcut khÃ´ng xuáº¥t hiá»‡n: khá»Ÿi Ä‘á»™ng láº¡i Explorer hoáº·c Ä‘Äƒng xuáº¥t/Ä‘Äƒng nháº­p láº¡i.

------------------------------------------------------------
6. VÃ Dá»¤ Sá»¬ Dá»¤NG (COPY-PASTE)
   # 1) CÃ i Sublime Text 3 (phiÃªn báº£n package máº·c Ä‘á»‹nh)
   choco install sublimetext3 -y

   # 2) CÃ i Sublime Text vÃ  má»™t sá»‘ cÃ´ng cá»¥ khÃ¡c cÃ¹ng lÃºc
   choco install sublimetext3 git -y

   # 3) Kiá»ƒm tra package Ä‘Ã£ cÃ i
   choco list --local-only | findstr sublimetext

   # 4) Gá»¡ cÃ i
   choco uninstall sublimetext3 -y
   (Náº¿u package ID khÃ¡c: choco uninstall sublimetext -y)

------------------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P VÃ€ CÃCH KHáº®C PHá»¤C
   âŒ "You must be an administrator to install"
       â†’ Má»Ÿ PowerShell/CMD vá»›i quyá»n Admin.

   âŒ "Package not found" hoáº·c "No package found with the id 'sublimetext3'"
       â†’ Kiá»ƒm tra tÃªn package: `choco search sublime` hoáº·c truy cáº­p community.chocolatey.org Ä‘á»ƒ xÃ¡c nháº­n ID.
       â†’ Má»™t sá»‘ maintainer Ä‘á»•i tÃªn package; dÃ¹ng ID chÃ­nh xÃ¡c.

   âŒ "Checksum/Download failed" hoáº·c "Download error"
       â†’ Kiá»ƒm tra káº¿t ná»‘i máº¡ng, proxy, firewall; thá»­ láº¡i; cáº­p nháº­t Chocolatey:
         choco upgrade chocolatey -y

   âŒ "Installer failed" (logs)
       â†’ Kiá»ƒm tra log: %ALLUSERSPROFILE%\chocolatey\logs\chocolatey.log hoáº·c cháº¡y choco vá»›i `-d`/`--debug` Ä‘á»ƒ láº¥y thÃ´ng tin chi tiáº¿t.

   âŒ "Shortcut khÃ´ng xuáº¥t hiá»‡n" hoáº·c "á»¨ng dá»¥ng khÃ´ng má»Ÿ Ä‘Æ°á»£c"
       â†’ Cháº¡y file thá»±c thi trong thÆ° má»¥c cÃ i Ä‘áº·t trá»±c tiáº¿p; kiá»ƒm tra antivirus/Windows Defender cÃ³ cháº·n hay khÃ´ng.

------------------------------------------------------------
8. Cáº¤U HÃŒNH & Má» Rá»˜NG (PLUGIN/THEME)
   - Sublime Text dÃ¹ng Package Control Ä‘á»ƒ quáº£n lÃ½ plugin:
       1) Má»Ÿ Sublime â†’ Preferences â†’ Package Control â†’ Install Package
       2) CÃ i plugin nhÆ° Emmet, SublimeLinter, GitGutter, v.v.
   - Báº¡n cÃ³ thá»ƒ deploy settings (Preferences.sublime-settings) vÃ  keymap cho nhiá»u mÃ¡y báº±ng cÃ¡ch copy thÆ° má»¥c User:
       %APPDATA%\Sublime Text 3\Packages\User

------------------------------------------------------------
9. Gá»  CÃ€I (UNINSTALL)
   - Gá»¡ báº±ng Chocolatey:
       choco uninstall sublimetext3 -y
   - Hoáº·c gá»¡ qua Control Panel â†’ Programs and Features.
   - XÃ³a cáº¥u hÃ¬nh ngÆ°á»i dÃ¹ng (náº¿u muá»‘n reset):
       %APPDATA%\Sublime Text 3\

------------------------------------------------------------
10. Máº¸O & BEST PRACTICES
   - Kiá»ƒm tra ID package trÆ°á»›c khi cÃ i Ä‘á»ƒ trÃ¡nh cÃ i sai gÃ³i.
   - Sá»­ dá»¥ng script cÃ i sáºµn cho nhiá»u mÃ¡y dev:
       choco install sublimetext3 -y
       choco install corretto17jdk maven -y
   - Sao lÆ°u thÆ° má»¥c User Ä‘á»ƒ giá»¯ settings vÃ  plugin:
       copy %APPDATA%\Sublime Text 3\Packages\User\* \\backup\path\
   - DÃ¹ng `choco upgrade sublimetext3 -y` Ä‘á»ƒ cáº­p nháº­t khi cÃ³ phiÃªn báº£n má»›i.

------------------------------------------------------------
11. TÃ“M Táº®T NGáº®N Gá»ŒN
   - Lá»‡nh: choco install sublimetext3 -y
   - Má»¥c Ä‘Ã­ch: cÃ i Sublime Text 3 trÃªn Windows báº±ng Chocolatey vÃ  tá»± Ä‘á»™ng cháº¥p nháº­n má»i xÃ¡c nháº­n.
   - YÃªu cáº§u: cháº¡y vá»›i quyá»n Admin (khuyáº¿n nghá»‹), káº¿t ná»‘i Internet, Chocolatey Ä‘Ã£ cÃ i.
   - Kiá»ƒm tra: má»Ÿ Sublime Text tá»« Start Menu; kiá»ƒm tra `Help -> About` Ä‘á»ƒ xÃ¡c nháº­n phiÃªn báº£n.

============================================================


--- VM setup:

	- cmd: ip addr show
	
		ÄÃ¢y lÃ  lá»‡nh trong Linux dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin cÃ¡c Ä‘á»‹a chá»‰ IP trÃªn mÃ¡y. NÃ³ thuá»™c bá»™ cÃ´ng
		cá»¥ iproute2 (thay tháº¿ dáº§n ifconfig).
		
		Káº¿t quáº£ khi cháº¡y:
		
			[root@localhost apache-tomcat-10.1.46]# ip addr show
			1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
				link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
				inet 127.0.0.1/8 scope host lo
				   valid_lft forever preferred_lft forever
				inet6 ::1/128 scope host
				   valid_lft forever preferred_lft forever
			2: enp0s3: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
				link/ether 08:00:27:e4:ec:85 brd ff:ff:ff:ff:ff:ff
				inet 10.0.2.15/24 brd 10.0.2.255 scope global dynamic noprefixroute enp0s3
				   valid_lft 85216sec preferred_lft 85216sec
				inet6 fe80::a00:27ff:fee4:ec85/64 scope link noprefixroute
				   valid_lft forever preferred_lft forever
			3: enp0s8: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
				link/ether 08:00:27:00:b4:c3 brd ff:ff:ff:ff:ff:ff
				inet 192.168.56.10/24 brd 192.168.56.255 scope global noprefixroute enp0s8
				   valid_lft forever preferred_lft forever
				inet6 fe80::a00:27ff:fe00:b4c3/64 scope link
				   valid_lft forever preferred_lft forever
			4: enp0s9: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
				link/ether 08:00:27:3c:20:80 brd ff:ff:ff:ff:ff:ff
				inet 192.168.1.25/24 brd 192.168.1.255 scope global dynamic noprefixroute enp0s9
				   valid_lft 85216sec preferred_lft 85216sec
				inet6 fe80::a00:27ff:fe3c:2080/64 scope link
				   valid_lft forever preferred_lft forever
				   
			Loopback (lo):
			
				lo: card loopback, dÃ¹ng Ä‘á»ƒ giao tiáº¿p ná»™i bá»™ trong mÃ¡y (localhost).

				127.0.0.1: Ä‘á»‹a chá»‰ IP Ä‘áº·c biá»‡t Ä‘á»ƒ tham chiáº¿u chÃ­nh mÃ¡y Ä‘Ã³.

				mtu 65536: kÃ­ch thÆ°á»›c gÃ³i tin tá»‘i Ä‘a.

				IPv6 tÆ°Æ¡ng á»©ng: ::1.
				
			enp0s3 (NAT interface):
			
				ÄÃ¢y lÃ  card máº¡ng NAT do VirtualBox táº¡o.

				10.0.2.15/24: IP gÃ¡n tá»± Ä‘á»™ng trong máº¡ng NAT cá»§a VirtualBox.

				dynamic: IP Ä‘Æ°á»£c cáº¥p tá»« DHCP.

				DÃ¹ng Ä‘á»ƒ mÃ¡y áº£o cÃ³ thá»ƒ truy cáº­p internet thÃ´ng qua host.

			enp0s8 (Host-Only Adapter):
			
				ÄÃ¢y lÃ  card Host-Only Network.

				IP 192.168.56.10: cho phÃ©p giao tiáº¿p giá»¯a mÃ¡y áº£o vÃ  host, nhÆ°ng khÃ´ng ra internet.

				ThÆ°á»ng dÃ¹ng khi báº¡n cáº¥u hÃ¬nh private_network trong Vagrant (192.168.56.x).
				
			enp0s9 (Bridge Adapter):
			
				ÄÃ¢y lÃ  card Bridge (ná»‘i tháº³ng vÃ o máº¡ng LAN/WiFi thá»±c táº¿ cá»§a báº¡n).

				IP 192.168.1.25: Ä‘Æ°á»£c cáº¥p tá»« DHCP cá»§a router WiFi/LAN.

				Cho phÃ©p mÃ¡y áº£o hoáº¡t Ä‘á»™ng nhÆ° má»™t mÃ¡y riÃªng trong máº¡ng tháº­t, cÃ¡c mÃ¡y khÃ¡c trong máº¡ng LAN cÃ³ thá»ƒ
				truy cáº­p trá»±c tiáº¿p.


	- cmd: ssh ngoctuanqng1@192.168.1.17
	
		ÄÃ¢y lÃ  lá»‡nh káº¿t ná»‘i Ä‘áº¿n má»™t mÃ¡y tÃ­nh khÃ¡c qua giao thá»©c SSH (Secure Shell).	

		PhÃ¢n tÃ­ch tá»«ng pháº§n:

			ssh: chÆ°Æ¡ng trÃ¬nh dÃ¹ng Ä‘á»ƒ Ä‘Äƒng nháº­p tá»« xa an toÃ n, cho phÃ©p báº¡n cháº¡y lá»‡nh trÃªn má»™t mÃ¡y khÃ¡c qua máº¡ng.

			ngoctuanqng1: tÃªn user mÃ  báº¡n muá»‘n Ä‘Äƒng nháº­p vÃ o mÃ¡y Ä‘Ã­ch.

			@: phÃ¢n tÃ¡ch giá»¯a user vÃ  Ä‘á»‹a chá»‰ mÃ¡y.

			192.168.1.17: Ä‘á»‹a chá»‰ IP cá»§a mÃ¡y Ä‘Ã­ch trong máº¡ng LAN (á»Ÿ Ä‘Ã¢y lÃ  mÃ¡y báº¡n muá»‘n SSH vÃ o).
			
		Quy trÃ¬nh khi cháº¡y lá»‡nh:

			MÃ¡y báº¡n má»Ÿ káº¿t ná»‘i SSH Ä‘áº¿n Ä‘á»‹a chá»‰ 192.168.1.17 qua cá»•ng 22 (máº·c Ä‘á»‹nh).

			Server SSH trÃªn mÃ¡y 192.168.1.17 pháº£n há»“i, yÃªu cáº§u xÃ¡c thá»±c.

			Báº¡n nháº­p password (hoáº·c dÃ¹ng SSH key) cho user ngoctuanqng1.

			Náº¿u Ä‘Äƒng nháº­p thÃ nh cÃ´ng, báº¡n sáº½ cÃ³ má»™t terminal shell cá»§a mÃ¡y 192.168.1.17 vÃ  cÃ³ thá»ƒ cháº¡y lá»‡nh tá»« xa.
			
		BÃ¢y giá» báº¡n Ä‘ang á»Ÿ trong mÃ¡y 192.168.1.17 vá»›i quyá»n user ngoctuanqng1.

		Má»™t sá»‘ tuá»³ chá»n hay dÃ¹ng:

			Chá»‰ Ä‘á»‹nh cá»•ng khÃ¡c (náº¿u SSH server khÃ´ng cháº¡y trÃªn port 22):

				ssh -p 2222 ngoctuanqng1@192.168.1.17
				
			Cháº¡y 1 lá»‡nh tá»« xa mÃ  khÃ´ng cáº§n login interactive:
			
				ssh ngoctuanqng1@192.168.1.17 "hostname"
				
				Sáº½ in ra hostname cá»§a mÃ¡y Ä‘Ã­ch rá»“i thoÃ¡t.
	
	- cmd: hostname
	
		ÄÃ¢y lÃ  lá»‡nh trong Linux/Unix dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ hoáº·c Ä‘áº·t tÃªn cá»§a mÃ¡y tÃ­nh (hostname).	
			
		Khi cháº¡y Ä‘Æ¡n giáº£n hostname
			
			NÃ³ sáº½ in ra tÃªn mÃ¡y (hostname) hiá»‡n táº¡i.
			
				$ hostname
				localhost.localdomain
				
				localhost â†’ tÃªn ngáº¯n (short hostname).

				localhost.localdomain â†’ tÃªn Ä‘áº§y Ä‘á»§ (FQDN â€“ Fully Qualified Domain Name).
				
			Äáº·t láº¡i hostname (cáº§n quyá»n sudo)
			
				sudo hostname myserver
				
				hostname táº¡m thá»i Ä‘á»•i thÃ nh myserver (chá»‰ cÃ³ hiá»‡u lá»±c Ä‘áº¿n khi reboot).
				
		Kiá»ƒm tra cÃ¡c tÃ¹y chá»n khÃ¡c:

			hostname -i â†’ in ra Ä‘á»‹a chá»‰ IP gáº¯n vá»›i hostname.

			hostname -f â†’ in ra FQDN (tÃªn Ä‘áº§y Ä‘á»§ vá»›i domain).

			hostname -s â†’ in ra tÃªn ngáº¯n (short hostname).
			
		LiÃªn há»‡ thá»±c táº¿:

			Hostname giÃºp phÃ¢n biá»‡t cÃ¡c mÃ¡y trong máº¡ng ná»™i bá»™ hoáº·c há»‡ thá»‘ng server.

			Khi báº¡n SSH vÃ o mÃ¡y khÃ¡c, dÃ²ng prompt thÆ°á»ng hiá»ƒn thá»‹ user@hostname Ä‘á»ƒ biáº¿t mÃ¬nh Ä‘ang á»Ÿ Ä‘Ã¢u.
	
	- cmd: pwd
	
		ÄÃ¢y lÃ  lá»‡nh trong Linux/Unix dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ Ä‘Æ°á»ng dáº«n thÆ° má»¥c hiá»‡n táº¡i (thÆ° má»¥c mÃ  báº¡n Ä‘ang Ä‘á»©ng trong terminal).

		pwd = print working directory.	
	
	- cmd: mkdir /f/vagrant-vms
	
		mkdir (make directory): lá»‡nh dÃ¹ng Ä‘á»ƒ táº¡o thÆ° má»¥c má»›i trong Linux/Unix.

		/f/vagrant-vms: Ä‘Æ°á»ng dáº«n tá»›i thÆ° má»¥c muá»‘n táº¡o.

		NghÄ©a lÃ  báº¡n Ä‘ang muá»‘n táº¡o má»™t thÆ° má»¥c cÃ³ tÃªn vagrant-vms bÃªn trong thÆ° má»¥c /f.

		Má»™t vÃ i lÆ°u Ã½ quan trá»ng

			Trong Linux, Ä‘Æ°á»ng dáº«n /f/... cÃ³ nghÄ©a lÃ  trong thÆ° má»¥c gá»‘c / cÃ³ má»™t thÆ° má»¥c con tÃªn lÃ  f.
			
			Trong Windows + Git Bash / WSL, cÃº phÃ¡p /f/... thÆ°á»ng Ã¡m chá»‰ á»• Ä‘Ä©a F: Ä‘Æ°á»£c mount vÃ o Linux environment.

				VÃ­ dá»¥:

					/c/... â†’ á»• Ä‘Ä©a C:

					/d/... â†’ á»• Ä‘Ä©a D:

					/f/... â†’ á»• Ä‘Ä©a F:
					
					=> NghÄ©a lÃ  báº¡n Ä‘ang táº¡o thÆ° má»¥c vagrant-vms trong á»• Ä‘Ä©a F:.
	
	- cmd: vagrant init eurolinux-vagrant/centos-stream-9
	
		ÄÃ¢y lÃ  lá»‡nh cá»§a Vagrant dÃ¹ng Ä‘á»ƒ khá»Ÿi táº¡o (init) má»™t mÃ´i trÆ°á»ng mÃ¡y áº£o má»›i dá»±a trÃªn box cÃ³
		tÃªn eurolinux-vagrant/centos-stream-9.
		
		Giáº£i thÃ­ch chi tiáº¿t tá»«ng pháº§n:

			vagrant: cÃ´ng cá»¥ quáº£n lÃ½ mÃ´i trÆ°á»ng áº£o (VM) dÃ¹ng chung vá»›i VirtualBox, VMware, Hyper-V, Docker...

			init: khá»Ÿi táº¡o project Vagrant má»›i. Lá»‡nh nÃ y sáº½ táº¡o ra má»™t file Vagrantfile trong thÆ° má»¥c hiá»‡n táº¡i.

			eurolinux-vagrant/centos-stream-9: tÃªn cá»§a box (hÃ¬nh áº£nh há»‡ Ä‘iá»u hÃ nh template) Ä‘Æ°á»£c láº¥y tá»« Vagrant Cloud.

				eurolinux-vagrant â†’ publisher/organization Ä‘Ã£ táº¡o box.

				centos-stream-9 â†’ tÃªn box (á»Ÿ Ä‘Ã¢y lÃ  CentOS Stream 9).
				
		Káº¿t quáº£ khi cháº¡y lá»‡nh:

			Táº¡o file Vagrantfile trong thÆ° má»¥c hiá»‡n táº¡i (náº¿u chÆ°a cÃ³).
			
			VÃ­ dá»¥ ná»™i dung cÆ¡ báº£n:

				Vagrant.configure("2") do |config|
				  config.vm.box = "eurolinux-vagrant/centos-stream-9"
				end

			File nÃ y Ä‘á»‹nh nghÄ©a mÃ¡y áº£o mÃ  Vagrant sáº½ quáº£n lÃ½.
	
	
	- cmd: vagrant init ubuntu/jammy64

============================================================
Lá»†NH: vagrant init ubuntu/jammy64
============================================================

1. Má»¤C ÄÃCH CHUNG
   - Táº¡o má»™t file cáº¥u hÃ¬nh Vagrant (`Vagrantfile`) trong thÆ° má»¥c hiá»‡n táº¡i,
     khai bÃ¡o box máº·c Ä‘á»‹nh lÃ  `ubuntu/jammy64` (Ubuntu 22.04 LTS - "Jammy").
   - ÄÃ¢y lÃ  bÆ°á»›c khá»Ÿi táº¡o Ä‘á»ƒ sau Ä‘Ã³ báº¡n cÃ³ thá»ƒ dÃ¹ng `vagrant up` Ä‘á»ƒ táº¡o vÃ  cháº¡y mÃ¡y áº£o dá»±a trÃªn box Ä‘Ã³.

------------------------------------------------------------
2. CÃš PHÃP
   vagrant init [BOX_NAME] [OPTIONS]

   VÃ­ dá»¥ cá»¥ thá»ƒ:
   vagrant init ubuntu/jammy64

   Giáº£i thÃ­ch cÃ¡c pháº§n:
     â€¢ vagrant     â†’ CLI cá»§a Vagrant (HashiCorp Vagrant).
     â€¢ init        â†’ Lá»‡nh khá»Ÿi táº¡o (táº¡o Vagrantfile).
     â€¢ ubuntu/jammy64 â†’ TÃªn box (box name) trÃªn Vagrant Cloud (hoáº·c tÃªn local náº¿u Ä‘Ã£ thÃªm).
       - Náº¿u khÃ´ng chá»‰ Ä‘á»‹nh box, `vagrant init` váº«n táº¡o Vagrantfile nhÆ°ng khÃ´ng cÃ³ config box máº·c Ä‘á»‹nh.

------------------------------------------------------------
3. HÃ€NH VI KHI CHáº Y Lá»†NH
   - Vagrant táº¡o má»™t file `Vagrantfile` trong thÆ° má»¥c hiá»‡n táº¡i (khÃ´ng ghi Ä‘Ã¨ náº¿u file Ä‘Ã£ tá»“n táº¡i
     trá»« khi báº¡n dÃ¹ng tÃ¹y chá»n ghi Ä‘Ã¨).
   - `Vagrantfile` chá»©a cáº¥u hÃ¬nh máº«u, trong Ä‘Ã³ trÆ°á»ng `config.vm.box` sáº½ Ä‘Æ°á»£c Ä‘áº·t thÃ nh `ubuntu/jammy64`.
   - File Vagrantfile lÃ  Ruby DSL â€” báº¡n cÃ³ thá»ƒ chá»‰nh sá»­a Ä‘á»ƒ:
       â€¢ thay Ä‘á»•i provider (VirtualBox, Hyper-V, libvirt, VMware),
       â€¢ map port, mount thÆ° má»¥c chia sáº», cáº¥u hÃ¬nh máº¡ng (private_network, public_network),
       â€¢ thÃªm provisioners (shell, ansible, puppet, chef), v.v.
   - Lá»‡nh `vagrant init` **khÃ´ng** táº£i box tá»« máº¡ng; chá»‰ khá»Ÿi táº¡o file cÃ i Ä‘áº·t. Äá»ƒ táº£i box vÃ  khá»Ÿi Ä‘á»™ng VM, dÃ¹ng `vagrant up`.

------------------------------------------------------------
4. Ná»˜I DUNG MáºªU TRONG VAGRANTFILE (Ä‘oáº¡n quan trá»ng)
   (Vagrantfile sáº½ tÆ°Æ¡ng tá»± nhÆ° máº«u sau; báº¡n cÃ³ thá»ƒ má»Ÿ file Ä‘á»ƒ chá»‰nh sá»­a)

   Vagrant.configure("2") do |config|
     # Box Ä‘á»‹nh nghÄ©a á»Ÿ Ä‘Ã¢y:
     config.vm.box = "ubuntu/jammy64"

     # VÃ­ dá»¥: chia sáº» thÆ° má»¥c hiá»‡n táº¡i vÃ o /vagrant trong VM (máº·c Ä‘á»‹nh)
     # config.vm.synced_folder ".", "/vagrant"

     # VÃ­ dá»¥: cáº¥u hÃ¬nh máº¡ng private
     # config.vm.network "private_network", ip: "192.168.56.10"

     # VÃ­ dá»¥: provider máº·c Ä‘á»‹nh (VirtualBox)
     # config.vm.provider "virtualbox" do |vb|
     #   vb.memory = "2048"
     # end

     # VÃ­ dá»¥: thÃªm provisioning script
     # config.vm.provision "shell", inline: "sudo apt-get update"
   end

------------------------------------------------------------
5. CÃC Lá»†NH TIáº¾P THEO (QUY TRÃŒNH THAO TÃC THÆ¯á»œNG DÃ™NG)
   # 1) Sau khi init, khá»Ÿi Ä‘á»™ng VM (náº¿u muá»‘n download box + táº¡o VM)
   vagrant up

   # 2) Káº¿t ná»‘i SSH vÃ o VM
   vagrant ssh

   # 3) Dá»«ng VM táº¡m thá»i (suspend) hoáº·c táº¯t (halt)
   vagrant suspend
   vagrant halt

   # 4) XÃ³a VM (destroy) vÃ  giáº£i phÃ³ng tÃ i nguyÃªn
   vagrant destroy -f

   # 5) Liá»‡t kÃª tráº¡ng thÃ¡i (trong thÆ° má»¥c chá»©a Vagrantfile)
   vagrant status

   # 6) Táº£i box mÃ  khÃ´ng up (tÃ¹y trÆ°á»ng há»£p)
   vagrant box add ubuntu/jammy64

------------------------------------------------------------
6. LÆ¯U Ã Vá»€ BOX NAME
   - `ubuntu/jammy64` lÃ  tÃªn phá»• biáº¿n trÃªn Vagrant Cloud do Canonical/ubuntu hoáº·c maintainer cung cáº¥p.
   - Báº¡n cÃ³ thá»ƒ dÃ¹ng box khÃ¡c (vd: `hashicorp/bionic64`, `ubuntu/focal64`, `generic/ubuntu2204`).
   - Äá»ƒ kiá»ƒm tra box trÃªn Vagrant Cloud: https://app.vagrantup.com/ (tÃ¬m box name).
   - Náº¿u báº¡n Ä‘Ã£ cÃ³ box local vá»›i tÃªn tÆ°Æ¡ng á»©ng, Vagrant sáº½ khÃ´ng cáº§n táº£i láº¡i.

------------------------------------------------------------
7. PROVIDER (Virtualization) & YÃŠU Cáº¦U Há»† THá»NG
   - Vagrant lÃ  wrapper; cáº§n provider (vÃ­ dá»¥ VirtualBox, Hyper-V, VMware, libvirt) Ä‘á»ƒ táº¡o VM.
   - ThÃ´ng thÆ°á»ng báº¡n cáº§n cÃ i VirtualBox trÆ°á»›c:
       choco install virtualbox -y   (Windows/Chocolatey)
     hoáº·c dÃ¹ng Hyper-V trÃªn Windows (kÃ­ch hoáº¡t Windows Feature).
   - Kiá»ƒm tra provider Ä‘Ã£ cÃ i: vÃ­ dá»¥ VirtualBox GUI hoáº·c `vboxmanage --version`.
   - Äáº£m báº£o mÃ¡y cÃ³ Ä‘á»§ CPU/RAM/disk Ä‘á»ƒ cháº¡y VM.

------------------------------------------------------------
8. Xá»¬ LÃ Tá»° Äá»˜NG (PROVISIONING)
   - Báº¡n cÃ³ thá»ƒ thÃªm cÃ¡c bÆ°á»›c provision trong Vagrantfile, vÃ­ dá»¥ shell script:
       config.vm.provision "shell", inline: <<-SHELL
         apt-get update
         apt-get install -y nginx
       SHELL
   - Hoáº·c dÃ¹ng `vagrant provision` Ä‘á»ƒ cháº¡y provision láº¡i mÃ  khÃ´ng táº¡o VM má»›i.

------------------------------------------------------------
9. VÃ Dá»¤ THá»°C Táº¾ (COPY-PASTE) â€” Ká»‹ch báº£n nhanh
   # 1) Khá»Ÿi táº¡o Vagrantfile vá»›i Ubuntu Jammy
   vagrant init ubuntu/jammy64

   # 2) Cháº¡y VM (táº£i box + khá»Ÿi Ä‘á»™ng)
   vagrant up

   # 3) SSH vÃ o VM
   vagrant ssh

   # 4) Dá»«ng vÃ  xÃ³a khi xong
   vagrant halt
   vagrant destroy -f

   # 5) Náº¿u muá»‘n chá»‰nh bá»™ nhá»› CPU cho VirtualBox, edit Vagrantfile:
   #    config.vm.provider "virtualbox" do |vb|
   #      vb.memory = "2048"
   #      vb.cpus = 2
   #    end

------------------------------------------------------------
10. Lá»–I THÆ¯á»œNG Gáº¶P VÃ€ CÃCH KHáº®C PHá»¤C
   âŒ Lá»—i: "Box 'ubuntu/jammy64' could not be found"
       â†’ Kiá»ƒm tra káº¿t ná»‘i Internet; box name cÃ³ thá»ƒ sai; cháº¡y `vagrant box add ubuntu/jammy64` hoáº·c dÃ¹ng box khÃ¡c.

   âŒ Lá»—i khi `vagrant up`: provider chÆ°a cÃ i (vÃ­ dá»¥ VirtualBox not found)
       â†’ CÃ i provider tÆ°Æ¡ng á»©ng (VirtualBox, Hyper-V). Khá»Ÿi Ä‘á»™ng láº¡i terminal.

   âŒ Lá»—i port conflict (vÃ­ dá»¥ port 22 Ä‘Ã£ Ä‘Æ°á»£c dÃ¹ng)
       â†’ Thay Ä‘á»•i port forwarded hoáº·c táº¯t service xung Ä‘á»™t trÃªn host.

   âŒ Lá»—i shared folder (synced_folder) khÃ´ng mount Ä‘Æ°á»£c (Windows host / VirtualBox Guest Additions mismatch)
       â†’ CÃ i guest additions phÃ¹ há»£p hoáº·c dÃ¹ng `config.vm.synced_folder ".", "/vagrant", type: "rsync"`.

   âŒ Lá»—i quyá»n khi ssh: "Vagrant insecure key"
       â†’ ThÃ´ng thÆ°á»ng Vagrant dÃ¹ng key máº·c Ä‘á»‹nh â€” náº¿u cáº§n, cáº¥u hÃ¬nh key riÃªng trong Vagrantfile.

------------------------------------------------------------
11. BEST PRACTICES
   - Giá»¯ má»™t thÆ° má»¥c riÃªng cho má»—i project Vagrant (má»—i thÆ° má»¥c chá»©a Vagrantfile).
   - Pin box version náº¿u cáº§n reproducibility:
       config.vm.box = "ubuntu/jammy64"
       config.vm.box_version = "2023.05.01"
   - LÆ°u Vagrantfile vÃ o VCS (git) Ä‘á»ƒ team cÃ¹ng dÃ¹ng.
   - DÃ¹ng provision scripts (Shell/Ansible) Ä‘á»ƒ tá»± Ä‘á»™ng cáº¥u hÃ¬nh mÃ´i trÆ°á»ng dev.
   - Dá»n VM khÃ´ng dÃ¹ng: `vagrant destroy -f` Ä‘á»ƒ trÃ¡nh tá»‘n disk.

------------------------------------------------------------
12. TÃ“M Táº®T NGáº®N Gá»ŒN
   - `vagrant init ubuntu/jammy64`:
       â€¢ Táº¡o file Vagrantfile trong thÆ° má»¥c hiá»‡n táº¡i vá»›i `config.vm.box = "ubuntu/jammy64"`.
       â€¢ **KhÃ´ng táº£i box**; chá»‰ khá»Ÿi táº¡o cáº¥u hÃ¬nh. Äá»ƒ táº£i box vÃ  cháº¡y VM, dÃ¹ng `vagrant up`.
   - CÃ¡c bÆ°á»›c tiáº¿p theo: `vagrant up` â†’ `vagrant ssh` â†’ lÃ m viá»‡c â†’ `vagrant halt` â†’ `vagrant destroy`.

============================================================


	- cmd: cat Vagrantfile

============================================================
Lá»†NH: cat Vagrantfile
============================================================

1. Má»¤C ÄÃCH CHUNG
   - Hiá»ƒn thá»‹ ná»™i dung file cÃ³ tÃªn `Vagrantfile` ra mÃ n hÃ¬nh (stdout).
   - DÃ¹ng Ä‘á»ƒ xem nhanh cáº¥u hÃ¬nh Vagrant hiá»‡n táº¡i (Vagrantfile lÃ  file cáº¥u hÃ¬nh báº±ng Ruby DSL
     chá»©a thÃ´ng tin box, provider, network, synced folders, provisioners, v.v.).
   - KhÃ´ng sá»­a file, chá»‰ Ä‘á»c/hiá»ƒn thá»‹.

------------------------------------------------------------
2. CÃš PHÃP (UNIX / Linux / macOS)
   cat <tÃªn_file>

   VÃ­ dá»¥:
     cat Vagrantfile

   (Trong Windows PowerShell/CMD, cÃ¢u lá»‡nh tÆ°Æ¡ng Ä‘Æ°Æ¡ng Ä‘Æ°á»£c ghi á»Ÿ pháº§n 5)

------------------------------------------------------------
3. HÃ€NH VI KHI CHáº Y Lá»†NH
   - Terminal sáº½ in toÃ n bá»™ ná»™i dung file `Vagrantfile` lÃªn stdout (mÃ n hÃ¬nh).
   - Náº¿u file lá»›n, ná»™i dung sáº½ cuá»™n nhanh (khÃ³ Ä‘á»c) â€” khi Ä‘Ã³ nÃªn káº¿t há»£p vá»›i `less`, `more`, hoáº·c xuáº¥t ra file khÃ¡c.
   - `cat` khÃ´ng thay Ä‘á»•i file; nÃ³ chá»‰ Ä‘á»c vÃ  in.

------------------------------------------------------------
4. Káº¾T QUáº¢ MáºªU
   - Náº¿u thÆ° má»¥c hiá»‡n táº¡i cÃ³ file `Vagrantfile`, output cÃ³ thá»ƒ trÃ´ng nhÆ° sau (vÃ­ dá»¥ minh há»a):
     Vagrant.configure("2") do |config|
       config.vm.box = "ubuntu/jammy64"
       config.vm.network "private_network", ip: "192.168.56.10"
       config.vm.provider "virtualbox" do |vb|
         vb.memory = 2048
         vb.cpus = 2
       end
       config.vm.synced_folder ".", "/vagrant", type: "virtualbox"
       config.vm.provision "shell", inline: "sudo apt-get update && sudo apt-get install -y nginx"
     end

   - Náº¿u file khÃ´ng tá»“n táº¡i:
     cat: Vagrantfile: No such file or directory

   - Náº¿u khÃ´ng cÃ³ quyá»n Ä‘á»c:
     cat: Vagrantfile: Permission denied

------------------------------------------------------------
5. TÆ¯Æ NG ÄÆ¯Æ NG TRÃŠN WINDOWS
   - CMD:
       type Vagrantfile
   - PowerShell:
       Get-Content Vagrantfile
   - PowerShell (tÆ°Æ¡ng tá»± `less` paging):
       Get-Content Vagrantfile | more

------------------------------------------------------------
6. Máº¸O Äá»ŒC Dá»„ HÆ N / CÃC Lá»†NH Há»®U ÃCH Káº¾T Há»¢P
   - Xem theo trang (paging):
       cat Vagrantfile | less
       less Vagrantfile
       more Vagrantfile
   - Hiá»ƒn thá»‹ cÃ³ sá»‘ dÃ²ng:
       nl -ba Vagrantfile        # trÃªn nhiá»u distro
       cat -n Vagrantfile
   - Xem nhá»¯ng dÃ²ng Ä‘áº§u / cuá»‘i:
       head -n 50 Vagrantfile
       tail -n 50 Vagrantfile
   - TÃ¬m ná»™i dung (grep):
       grep -n "config.vm.box" Vagrantfile
   - Hiá»ƒn thá»‹ vá»›i highlight (náº¿u cÃ³ `bat`):
       bat Vagrantfile
   - Náº¿u file lá»›n muá»‘n tÃ¡ch ra file khÃ¡c:
       cat Vagrantfile > copy_of_Vagrantfile.txt

------------------------------------------------------------
7. Xá»¬ LÃ Lá»–I THÆ¯á»œNG Gáº¶P
   - Lá»—i "No such file or directory":
       â€¢ Báº¡n khÃ´ng á»Ÿ Ä‘Ãºng thÆ° má»¥c; cháº¡y `ls` (hoáº·c `dir`) Ä‘á»ƒ kiá»ƒm tra.
       â€¢ Kiá»ƒm tra chÃ­nh xÃ¡c tÃªn file (chÃº Ã½ hoa/thÆ°á»ng trÃªn Linux).
   - Lá»—i "Permission denied":
       â€¢ Xem quyá»n file: `ls -l Vagrantfile`
       â€¢ Náº¿u cáº§n Ä‘á»c táº¡m, dÃ¹ng `sudo cat Vagrantfile` (cáº©n trá»ng vá»›i thÃ´ng tin nháº¡y cáº£m).
   - File bá»‹ mÃ£ hoÃ¡ / khÃ´ng pháº£i text:
       â€¢ `cat` sáº½ in byte thÃ´; dÃ¹ng `file Vagrantfile` Ä‘á»ƒ kiá»ƒm tra loáº¡i file.

------------------------------------------------------------
8. LÆ¯U Ã Vá»€ Báº¢O Máº¬T
   - `Vagrantfile` cÃ³ thá»ƒ chá»©a thÃ´ng tin nháº¡y cáº£m (vÃ­ dá»¥ credentials trong provisioning scripts).
   - TrÆ°á»›c khi `cat` vÃ  copy ná»™i dung ra nÆ¡i cÃ´ng cá»™ng, hÃ£y rÃ  soÃ¡t Ä‘á»ƒ loáº¡i bá» secrets.
   - TrÃ¡nh dÃ¹ng `sudo cat` náº¿u khÃ´ng cáº§n thiáº¿t â€” dÃ¹ng account cÃ³ quyá»n Ä‘á»c thay vÃ¬ in ra toÃ n bá»™ qua root.

------------------------------------------------------------
9. CHá»ˆNH Sá»¬A / Má» FILE (náº¿u muá»‘n sá»­a)
   - Nano:
       nano Vagrantfile
   - Vim:
       vim Vagrantfile
   - Text editor GUI:
       code Vagrantfile         # VS Code (náº¿u `code` Ä‘Ã£ cÃ i)
       subl Vagrantfile         # Sublime (náº¿u cÃ³)

------------------------------------------------------------
10. Sá»¬ Dá»¤NG TRONG Ká»ŠCH Báº¢N (SCRIPTS)
   - LÆ°u ná»™i dung ra file .txt Ä‘á»ƒ ghi log:
       cat Vagrantfile > vagrantfile_contents.txt
   - Kiá»ƒm tra xem file cÃ³ thay Ä‘á»•i trong CI:
       if git diff --name-only | grep -q Vagrantfile; then echo "Vagrantfile changed"; fi

------------------------------------------------------------
11. VÃ Dá»¤ THá»°C Táº¾ (COPY-PASTE)
   # 1) Hiá»ƒn thá»‹ ná»™i dung ra mÃ n hÃ¬nh
   cat Vagrantfile

   # 2) Hiá»ƒn thá»‹ theo trang Ä‘á»ƒ dá»… Ä‘á»c
   less Vagrantfile

   # 3) Hiá»ƒn thá»‹ vá»›i sá»‘ dÃ²ng
   cat -n Vagrantfile

   # 4) LÆ°u ná»™i dung ra file text (backup)
   cat Vagrantfile > Vagrantfile.txt

   # 5) TrÃªn Windows PowerShell
   Get-Content Vagrantfile

------------------------------------------------------------
12. TÃ“M Táº®T NGáº®N Gá»ŒN
   - `cat Vagrantfile` in toÃ n bá»™ ná»™i dung file `Vagrantfile` ra stdout.
   - DÃ¹ng Ä‘á»ƒ kiá»ƒm tra nhanh cáº¥u hÃ¬nh Vagrant; khÃ´ng thay Ä‘á»•i file.
   - Náº¿u file lá»›n, dÃ¹ng `less`/`more`/`cat | less` Ä‘á»ƒ Ä‘á»c thuáº­n tiá»‡n.
   - TrÃ¡nh xuáº¥t trá»±c tiáº¿p ná»™i dung chá»©a secrets ra nÆ¡i cÃ´ng cá»™ng.

============================================================


	- cmd: vagrant up

============================================================
Lá»†NH: vagrant up
============================================================

1. Má»¤C ÄÃCH CHUNG
   - Khá»Ÿi Ä‘á»™ng vÃ  (náº¿u cáº§n) táº¡o má»™t mÃ¡y áº£o (VM) theo cáº¥u hÃ¬nh trong file Vagrantfile cá»§a thÆ° má»¥c hiá»‡n táº¡i.
   - Náº¿u box chÆ°a cÃ³ local, `vagrant up` sáº½ tá»± Ä‘á»™ng táº£i box tá»« Vagrant Cloud (hoáº·c source Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh).
   - Thá»±c hiá»‡n cÃ¡c bÆ°á»›c provision (náº¿u Ä‘Æ°á»£c cáº¥u hÃ¬nh) Ä‘á»ƒ cÃ i Ä‘áº·t pháº§n má»m/config bÃªn trong VM.

------------------------------------------------------------
2. CÃš PHÃP CÆ  Báº¢N
   vagrant up [options] [vm-name]

   VÃ­ dá»¥ Ä‘Æ¡n giáº£n:
   vagrant up

   Má»™t sá»‘ cÃ¡ch dÃ¹ng thÃ´ng dá»¥ng:
   - `vagrant up`                 â†’ Khá»Ÿi Ä‘á»™ng toÃ n bá»™ VM (táº¥t cáº£ mÃ¡y áº£o Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong Vagrantfile).
   - `vagrant up web`             â†’ Khá»Ÿi Ä‘á»™ng VM cÃ³ tÃªn 'web' (khi Vagrantfile Ä‘á»‹nh nghÄ©a multi-machine).
   - `vagrant up --provider=virtualbox` â†’ Buá»™c dÃ¹ng provider VirtualBox (override provider máº·c Ä‘á»‹nh).
   - `vagrant up --provision`     â†’ LuÃ´n cháº¡y provision ngay cáº£ khi VM Ä‘Ã£ tá»“n táº¡i.
   - `vagrant up --no-provision`  â†’ KhÃ´ng cháº¡y provision khi khá»Ÿi Ä‘á»™ng.

------------------------------------------------------------
3. QUÃ TRÃŒNH VÃ€ HÃ€NH Äá»˜NG KHI CHáº Y
   Khi cháº¡y `vagrant up`, Vagrant thá»±c hiá»‡n cÃ¡c bÆ°á»›c chÃ­nh sau:
   1) Kiá»ƒm tra Vagrantfile trong thÆ° má»¥c hiá»‡n táº¡i Ä‘á»ƒ Ä‘á»c cáº¥u hÃ¬nh (box, provider, network, synced folders, provisioners,...).
   2) Náº¿u box chÆ°a cÃ³ local: táº£i box tá»« Vagrant Cloud (vÃ­ dá»¥ `vagrant box add ubuntu/jammy64` ngáº§m thá»±c hiá»‡n).
   3) Táº¡o VM thÃ´ng qua provider Ä‘Ã£ cáº¥u hÃ¬nh (VirtualBox, Hyper-V, libvirt, VMware...).
   4) Táº¡o vÃ  cáº¥u hÃ¬nh network/port forwarding, shared folders, synced folders.
   5) Báº¯t Ä‘áº§u VM (boot).
   6) Thiáº¿t láº­p SSH (hoáº·c phÆ°Æ¡ng thá»©c káº¿t ná»‘i tÆ°Æ¡ng á»©ng).
   7) Cháº¡y cÃ¡c provisioners (shell scripts, Ansible, Chef, Puppet, Salt) theo cáº¥u hÃ¬nh (trá»« khi dÃ¹ng --no-provision).
   8) Ghi tráº¡ng thÃ¡i VM trong thÆ° má»¥c `.vagrant` (metadata, id cá»§a VM, provider).
   9) Hiá»ƒn thá»‹ output/ logs Ä‘á»ƒ ngÆ°á»i dÃ¹ng biáº¿t tiáº¿n trÃ¬nh (download box, create, boot, provision, success).

------------------------------------------------------------
4. TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG
   - `--provider=PROVIDER`      : Chá»‰ Ä‘á»‹nh provider (virtualbox, hyperv, libvirt, vmware_desktop, ...).
   - `--provision`              : LuÃ´n cháº¡y provisioning (máº·c Ä‘á»‹nh, provision chá»‰ cháº¡y láº§n Ä‘áº§u hoáº·c khi cÃ³ policy).
   - `--no-provision`           : KhÃ´ng cháº¡y provisioning khi khá»Ÿi Ä‘á»™ng.
   - `--parallel`               : Khá»Ÿi Ä‘á»™ng nhiá»u VM song song (há»¯u Ã­ch trong multi-machine).
   - `--destroy-on-error`       : Náº¿u xáº£y ra lá»—i trong quÃ¡ trÃ¬nh táº¡o VM, tá»± Ä‘á»™ng destroy VM bá»‹ lá»—i.
   - `--provision-with NAME`    : Chá»‰ cháº¡y provisioner tÃªn NAME (khi cÃ³ nhiá»u provisioner).
   - `--no-color`               : Táº¯t mÃ u trong output (há»¯u Ã­ch cho log file).
   - `--debug`                  : In thÃ´ng tin debug chi tiáº¿t (dÃ¹ng khi debug lá»—i).

------------------------------------------------------------
5. KHI NÃ€O DÃ™NG `vagrant up`
   - Láº§n Ä‘áº§u thiáº¿t láº­p mÃ´i trÆ°á»ng dev cho project: sau `vagrant init` vÃ  (tuá»³) chá»‰nh Vagrantfile.
   - Khi báº¡n cáº§n táº£i vÃ  khá»Ÿi Ä‘á»™ng box má»›i hoáº·c re-create VM.
   - Sau khi pull project cÃ³ Vagrantfile tá»« repo: `vagrant up` Ä‘á»ƒ báº¯t Ä‘áº§u mÃ´i trÆ°á»ng.
   - Trong CI/CD khi cáº§n dá»±ng mÃ´i trÆ°á»ng test (náº¿u runner há»— trá»£ provider).

------------------------------------------------------------
6. Káº¾T QUáº¢ MONG Äá»¢I SAU KHI CHáº Y THÃ€NH CÃ”NG
   - VM Ä‘Æ°á»£c táº¡o (náº¿u chÆ°a tá»“n táº¡i) vÃ  Ä‘ang cháº¡y.
   - CÃ¡c tÃ i nguyÃªn (shared folders, forwarded ports) Ä‘Æ°á»£c thiáº¿t láº­p.
   - Provisioners (náº¿u cÃ³) Ä‘Ã£ cháº¡y xong, pháº§n má»m/config Ä‘Ã£ Ä‘Æ°á»£c cÃ i.
   - Báº¡n cÃ³ thá»ƒ káº¿t ná»‘i vÃ o VM báº±ng:
       vagrant ssh            # (hoáº·c vagrant rdp trÃªn Windows náº¿u cáº¥u hÃ¬nh)
   - Tráº¡ng thÃ¡i hiá»ƒn thá»‹:
       $ vagrant status
       Current machine states:
       default                   running (virtualbox)

------------------------------------------------------------
7. Lá»†NH Há»– TRá»¢ SAU KHI `vagrant up`
   - `vagrant ssh`                â†’ SSH vÃ o VM
   - `vagrant status`             â†’ Kiá»ƒm tra tráº¡ng thÃ¡i VM
   - `vagrant halt`               â†’ Táº¯t VM an toÃ n
   - `vagrant suspend`            â†’ Suspend VM
   - `vagrant resume`             â†’ Resume VM Ä‘Ã£ suspend
   - `vagrant provision`          â†’ Cháº¡y provisioners Ä‘Ã£ cáº¥u hÃ¬nh
   - `vagrant destroy -f`         â†’ XÃ³a VM vÃ  tÃ i nguyÃªn
   - `vagrant reload`             â†’ Reload VM (re-read Vagrantfile + reconfigure)

------------------------------------------------------------
8. Lá»–I THÆ¯á»œNG Gáº¶P VÃ€ CÃCH KHáº®C PHá»¤C
   âŒ Lá»—i: "Box 'xxx' could not be found"
       â†’ Kiá»ƒm tra tÃªn box; cháº¡y `vagrant box add <box>` thá»§ cÃ´ng; kiá»ƒm tra internet.
   âŒ Lá»—i: Provider not installed / Provider not found
       â†’ CÃ i provider tÆ°Æ¡ng á»©ng (vÃ­ dá»¥ VirtualBox), Ä‘áº£m báº£o provider tÆ°Æ¡ng thÃ­ch.
   âŒ Lá»—i: Port forwarding conflict
       â†’ Thay Ä‘á»•i port forwarding trong Vagrantfile hoáº·c táº¯t dá»‹ch vá»¥ xung Ä‘á»™t trÃªn host.
   âŒ Lá»—i: Shared folder mount fail (Windows host / VirtualBox Guest Additions mismatch)
       â†’ CÃ i Ä‘Ãºng Guest Additions, dÃ¹ng type: "rsync" hoáº·c dÃ¹ng plugin vbguest.
   âŒ Lá»—i: Provision script lá»—i / permission denied
       â†’ Kiá»ƒm tra script, quyá»n cháº¡y; cháº¡y `vagrant provision` thá»§ cÃ´ng Ä‘á»ƒ debug.
   âŒ Lá»—i: Timeout khi boot hoáº·c SSH
       â†’ TÄƒng timeout, kiá»ƒm tra network, provider logs; dÃ¹ng `vagrant up --debug` Ä‘á»ƒ xem chi tiáº¿t.
   âŒ Lá»—i: KhÃ´ng Ä‘á»§ tÃ i nguyÃªn (RAM/CPU/disk)
       â†’ TÄƒng resource host hoáº·c chá»‰nh `vb.memory`, `vb.cpus` trong Vagrantfile.

------------------------------------------------------------
9. LÆ¯U Ã Vá»€ HIá»†U NÄ‚NG VÃ€ QUáº¢N LÃ TÃ€I NGUYÃŠN
   - VM tiÃªu tá»‘n CPU/RAM vÃ  disk; táº¯t khi khÃ´ng dÃ¹ng: `vagrant halt` hoáº·c `vagrant suspend`.
   - XÃ³a VM khi khÃ´ng cáº§n Ä‘á»ƒ giáº£i phÃ³ng dung lÆ°á»£ng: `vagrant destroy -f`.
   - DÃ¹ng `--parallel` khi cÃ³ nhiá»u VM Ä‘á»ƒ tiáº¿t kiá»‡m thá»i gian táº¡o.
   - Pin `config.vm.box_version` náº¿u cáº§n reproducibility.

------------------------------------------------------------
10. Báº¢O Máº¬T & CREDENTIALS
   - Äá»«ng lÆ°u secrets (API keys, passwords) trá»±c tiáº¿p trong Vagrantfile trong repo cÃ´ng khai.
   - DÃ¹ng file .env hoáº·c provision scripts nháº­n biáº¿n mÃ´i trÆ°á»ng tá»« CI/CD secrets.
   - Kiá»ƒm tra quyá»n cá»§a shared folders Ä‘á»ƒ trÃ¡nh lá»™ dá»¯ liá»‡u nháº¡y cáº£m.

------------------------------------------------------------
11. VÃ Dá»¤ THá»°C Táº¾ (COPY-PASTE)
   # 1) Khá»Ÿi Ä‘á»™ng VM theo Vagrantfile trong thÆ° má»¥c hiá»‡n táº¡i
   vagrant up

   # 2) Khá»Ÿi Ä‘á»™ng VM tÃªn 'web' (multi-machine)
   vagrant up web

   # 3) Khá»Ÿi Ä‘á»™ng vÃ  báº¯t buá»™c cháº¡y provision
   vagrant up --provision

   # 4) Khá»Ÿi Ä‘á»™ng dÃ¹ng provider VirtualBox
   vagrant up --provider=virtualbox

   # 5) Khá»Ÿi Ä‘á»™ng nhiá»u VM song song (khi cÃ³ nhiá»u mÃ¡y trong Vagrantfile)
   vagrant up --parallel

   # 6) Khá»Ÿi Ä‘á»™ng, náº¿u lá»—i táº¡o thÃ¬ tá»± destroy VM lá»—i
   vagrant up --destroy-on-error

------------------------------------------------------------
12. TÃ“M Táº®T NGáº®N Gá»ŒN
   - `vagrant up`:
       â€¢ Táº¡o (náº¿u cáº§n) vÃ  khá»Ÿi Ä‘á»™ng VM theo Vagrantfile.
       â€¢ Táº£i box náº¿u chÆ°a cÃ³, cáº¥u hÃ¬nh provider, máº¡ng, shared folders.
       â€¢ Cháº¡y provisioners (tuá»³ cáº¥u hÃ¬nh).
   - ThÆ°á»ng dÃ¹ng ngay sau `vagrant init` vÃ  trÆ°á»›c `vagrant ssh` Ä‘á»ƒ thiáº¿t láº­p mÃ´i trÆ°á»ng dev.
   - DÃ¹ng cÃ¡c flag nhÆ° `--provision`, `--no-provision`, `--provider`, `--parallel` Ä‘á»ƒ Ä‘iá»u khiá»ƒn hÃ nh vi.

============================================================


	- cmd: vagrant box list

VAGRANT: `vagrant box list`

Má»¤C ÄÃCH

* Hiá»ƒn thá»‹ danh sÃ¡ch cÃ¡c "box" Vagrant Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn mÃ¡y cá»¥c bá»™.

CÃ‚U Lá»†NH
vagrant box list

MÃ” Táº¢ Káº¾T QUáº¢

* Má»—i dÃ²ng lÃ  má»™t box Ä‘Ã£ cÃ i Ä‘áº·t.
* Format thÆ°á»ng tháº¥y: NAME (PROVIDER, VERSION)

  * NAME: tÃªn box (vÃ­ dá»¥: "ubuntu/jammy64" hoáº·c "generic/ubuntu2104").
  * PROVIDER: nhÃ  cung cáº¥p/virtual provider (vÃ­ dá»¥: virtualbox, hyperv, libvirt...).
  * VERSION: (náº¿u cÃ³) phiÃªn báº£n cá»§a box. Náº¿u box khÃ´ng cÃ³ metadata version, pháº§n nÃ y cÃ³ thá»ƒ khÃ´ng xuáº¥t hiá»‡n.

VD: Káº¾T QUáº¢ MáºªU (4 box)
ubuntu/jammy64 (virtualbox, 20230401)
ubuntu/bionic64 (virtualbox, 20220105)
generic/ubuntu2104 (libvirt, 1.0.0)
centos/7 (hyperv)

Ã NGHÄ¨A CÃC TRÆ¯á»œNG

* ubuntu/jammy64: tÃªn box. ThÆ°á»ng theo Ä‘á»‹nh dáº¡ng "publisher/name" hoáº·c chá»‰ "name".
* (virtualbox): provider giÃºp Vagrant biáº¿t cÃ¡ch cháº¡y box vá»›i hypervisor nÃ o.
* 20230401 / 1.0.0: phiÃªn báº£n box (cÃ³ thá»ƒ lÃ  má»™t chuá»—i ngÃ y, semver, hoáº·c tag do nhÃ  cung cáº¥p Ä‘áº·t).
* Náº¿u thiáº¿u provider hoáº·c version, Vagrant váº«n liá»‡t kÃª tÃªn box nhÆ°ng cÃ³ thá»ƒ thiáº¿u pháº§n thÃ´ng tin phá»¥.

THAO TÃC THÆ¯á»œNG Gáº®N Vá»šI `vagrant box list`

* ThÃªm box má»›i: vagrant box add <name> <url/box> --provider <provider>
* XoÃ¡ box: vagrant box remove <name> --provider <provider> --box-version <version>
* Láº¥y thÃ´ng tin box cá»¥ thá»ƒ (khÃ´ng cÃ³ lá»‡nh riÃªng; dÃ¹ng inspect file metadata náº±m trong ~/.vagrant.d/boxes)

Vá»Š TRÃ LÆ¯U TRá»® BOX TRÃŠN MÃY

* ThÆ° má»¥c máº·c Ä‘á»‹nh: ~/.vagrant.d/boxes

  * Má»—i box thÆ°á»ng cÃ³ thÆ° má»¥c theo tÃªn vÃ  provider, chá»©a version vÃ  file box.

Váº¤N Äá»€ THÆ¯á»œNG Gáº¶P & GIáº¢I PHÃP

1. Box bá»‹ duplicate / trÃ¹ng tÃªn nhÆ°ng khÃ¡c provider

   * Kiá»ƒm tra provider trong output.
   * XoÃ¡ báº±ng: vagrant box remove NAME --provider PROVIDER --box-version VERSION
2. KhÃ´ng tháº¥y box vá»«a thÃªm sau vagrant box add

   * Kiá»ƒm tra output cá»§a lá»‡nh add Ä‘á»ƒ Ä‘áº£m báº£o add thÃ nh cÃ´ng.
   * Kiá»ƒm tra ~/.vagrant.d/boxes Ä‘á»ƒ xÃ¡c nháº­n file Ä‘Ã£ Ä‘Æ°á»£c táº£i.
3. Lá»—i permission khi truy cáº­p ~/.vagrant.d/boxes

   * Kiá»ƒm tra quyá»n thÆ° má»¥c: chown hoáº·c chmod náº¿u cáº§n.
4. Muá»‘n xem metadata chi tiáº¿t

   * Má»Ÿ file meta_data.json (náº¿u cÃ³) bÃªn trong thÆ° má»¥c box tÆ°Æ¡ng á»©ng trong ~/.vagrant.d/boxes

Máº¸O

* DÃ¹ng `vagrant box list --machine-readable` (náº¿u cáº§n xuáº¥t Ä‘á»‹nh dáº¡ng dá»… parse) â€” (tÃ¹y phiÃªn báº£n Vagrant)
* Äá»ƒ tá»± Ä‘á»™ng xoÃ¡ má»i version cá»¥ thá»ƒ: vagrant box remove 'ubuntu/bionic64' --provider virtualbox --box-version '20220105'

TÃ“M Táº®T NGáº®N Gá»ŒN (1 DÃ’NG)
`vagrant box list` â€” liá»‡t kÃª táº¥t cáº£ cÃ¡c box Vagrant Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t cá»¥c bá»™, má»—i dÃ²ng á»Ÿ dáº¡ng: NAME (PROVIDER, VERSION)


	- cmd: vagrant status

VAGRANT: `vagrant status`

Má»¤C ÄÃCH

* Hiá»ƒn thá»‹ tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a (cÃ¡c) mÃ¡y áº£o Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi Vagrant trong thÆ° má»¥c dá»± Ã¡n hiá»‡n táº¡i.

CÃ‚U Lá»†NH
vagrant status

MÃ” Táº¢ Káº¾T QUáº¢

* Lá»‡nh sáº½ in ra má»™t báº£ng (table) Ä‘Æ¡n giáº£n thá»ƒ hiá»‡n tÃªn mÃ¡y, tráº¡ng thÃ¡i hiá»‡n táº¡i, vÃ  provider (náº¿u cÃ³).
* ThÆ°á»ng xuáº¥t hiá»‡n Ä‘áº§u ra giá»‘ng nhÆ° sau:

VD: Káº¾T QUáº¢ MáºªU
Current machine states:

default                   running (virtualbox)

The above shows that the default VM is running. To view more details, use `vagrant ssh` or `vagrant ssh-config`.

GIáº¢I THÃCH CÃC Cá»˜T/PHáº¦N THÆ¯á»œNG Gáº¶P

* NAME / LABEL (vÃ­ dá»¥: "default"): tÃªn mÃ¡y áº£o (Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong Vagrantfile). Náº¿u Vagrantfile khai bÃ¡o nhiá»u machines (multi-machine), má»—i mÃ¡y cÃ³ má»™t tÃªn.
* STATE (vÃ­ dá»¥: running, halted, suspended, not created, saved, aborted): tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a mÃ¡y áº£o.
* (PROVIDER) (vÃ­ dá»¥: virtualbox, libvirt, hyperv): nhÃ  cung cáº¥p hypervisor mÃ  mÃ¡y Ä‘ang dÃ¹ng.

Ã NGHÄ¨A CÃC TRáº NG THÃI CHÃNH

* running

  * MÃ¡y Ä‘ang cháº¡y (guest OS active). Báº¡n cÃ³ thá»ƒ `vagrant ssh` vÃ o nÃ³.
* halted

  * MÃ¡y Ä‘Ã£ táº¯t sáº¡ch (shutdown). DÃ¹ng `vagrant up` Ä‘á»ƒ khá»Ÿi Ä‘á»™ng láº¡i.
* not created

  * MÃ¡y chÆ°a Ä‘Æ°á»£c táº¡o (chÆ°a cháº¡y `vagrant up` trong thÆ° má»¥c dá»± Ã¡n nÃ y). DÃ¹ng `vagrant up` Ä‘á»ƒ táº¡o.
* suspended

  * MÃ¡y Ä‘ang á»Ÿ tráº¡ng thÃ¡i táº¡m dá»«ng (saved state). DÃ¹ng `vagrant resume` hoáº·c `vagrant up` Ä‘á»ƒ tiáº¿p tá»¥c.
* saved

  * Tráº¡ng thÃ¡i giá»‘ng suspend nhÆ°ng xuáº¥t hiá»‡n tuá»³ provider; cÃ³ thá»ƒ Ä‘Ã£ Ä‘Æ°á»£c lÆ°u tráº¡ng thÃ¡i snapshot/táº¡m dá»«ng.
* aborted

  * MÃ¡y gáº·p lá»—i trong lÃºc khá»Ÿi táº¡o/hoáº¡t Ä‘á»™ng vÃ  bá»‹ dá»«ng báº¥t thÆ°á»ng. Kiá»ƒm tra log vÃ  cháº¡y `vagrant up` láº¡i hoáº·c `vagrant destroy` náº¿u cáº§n.

TÃ™Y CHá»ŒN Há»®U ÃCH

* `vagrant status --machine-readable`

  * Xuáº¥t tráº¡ng thÃ¡i á»Ÿ dáº¡ng parseable (dá»… dÃ¹ng cho script). LÆ°u Ã½: tuá»³ phiÃªn báº£n Vagrant.
* `vagrant status NAME`

  * Náº¿u dÃ¹ng multi-machine, báº¡n cÃ³ thá»ƒ chá»‰ Ä‘á»‹nh tÃªn mÃ¡y Ä‘á»ƒ kiá»ƒm tra riÃªng.

CÃC Lá»†NH THÆ¯á»œNG DÃ™NG LIÃŠN QUAN Äáº¾N TRáº NG THÃI

* Khá»Ÿi Ä‘á»™ng: vagrant up [NAME]
* Táº¯t: vagrant halt [NAME]
* Táº¡m dá»«ng: vagrant suspend [NAME]
* Tiáº¿p tá»¥c tá»« suspend: vagrant resume [NAME]  (hoáº·c `vagrant up` tuá»³ phiÃªn báº£n)
* Khá»Ÿi Ä‘á»™ng láº¡i config: vagrant reload [NAME]
* Há»§y mÃ¡y: vagrant destroy [NAME]
* SSH vÃ o mÃ¡y: vagrant ssh [NAME]
* Xem cáº¥u hÃ¬nh SSH: vagrant ssh-config [NAME]

Váº¤N Äá»€ THÆ¯á»œNG Gáº¶P & GIáº¢I PHÃP

1. Káº¿t quáº£ hiá»ƒn thá»‹ "not created" sau khi báº¡n nghÄ© Ä‘Ã£ táº¡o mÃ¡y

   * Kiá»ƒm tra thÆ° má»¥c báº¡n Ä‘ang Ä‘á»©ng (vagrant status cháº¡y dá»±a trÃªn Vagrantfile trong thÆ° má»¥c hiá»‡n táº¡i).
   * Cháº¡y `vagrant up` Ä‘á»ƒ táº¡o.
2. Tráº¡ng thÃ¡i lÃ  "aborted" hoáº·c "unknown"

   * Xem output lá»—i chi tiáº¿t khi khá»Ÿi táº¡o.
   * Thá»­ `vagrant up --provision` hoáº·c `vagrant reload`.
   * Náº¿u khÃ´ng cá»©u Ä‘Æ°á»£c, `vagrant destroy` rá»“i `vagrant up` láº¡i.
3. MÃ¡y á»Ÿ tráº¡ng thÃ¡i "running" nhÆ°ng khÃ´ng vÃ o Ä‘Æ°á»£c SSH

   * Cháº¡y `vagrant ssh-config` Ä‘á»ƒ kiá»ƒm tra port/host/key.
   * Kiá»ƒm tra provider UI (vÃ­ dá»¥ VirtualBox GUI) Ä‘á»ƒ xem mÃ¡y cÃ³ thá»±c sá»± cháº¡y.
4. Tráº¡ng thÃ¡i khÃ´ng pháº£n Ã¡nh thay Ä‘á»•i (cache)

   * ÄÃ´i khi Vagrant giá»¯ tráº¡ng thÃ¡i cÅ©; thá»­ `vagrant global-status --prune` Ä‘á»ƒ lÃ m sáº¡ch cache toÃ n cá»¥c.

Máº¸O

* Khi lÃ m viá»‡c vá»›i nhiá»u mÃ¡y trong má»™t Vagrantfile (multi-machine), luÃ´n chá»‰ rÃµ NAME trong cÃ¡c lá»‡nh Ä‘á»ƒ trÃ¡nh nháº§m láº«n.
* DÃ¹ng `vagrant global-status` Ä‘á»ƒ xem táº¥t cáº£ cÃ¡c box/machines Ä‘Ã£ Ä‘Æ°á»£c táº¡o trÃªn há»‡ thá»‘ng (khÃ´ng chá»‰ trong thÆ° má»¥c hiá»‡n táº¡i).

TÃ“M Táº®T NGáº®N Gá»ŒN (1 DÃ’NG)
`vagrant status` â€” kiá»ƒm tra tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a (cÃ¡c) mÃ¡y áº£o quáº£n lÃ½ bá»Ÿi Vagrant trong thÆ° má»¥c dá»± Ã¡n.

---


	- cmd: vagrant ssh

VAGRANT: `vagrant ssh`

Má»¤C ÄÃCH

* Káº¿t ná»‘i SSH vÃ o mÃ¡y áº£o Ä‘Æ°á»£c Vagrant quáº£n lÃ½ (interactive shell hoáº·c cháº¡y lá»‡nh tá»« xa).

CÃ‚U Lá»†NH CÆ  Báº¢N
vagrant ssh [NAME] [-- extra_ssh_options]

PHIÃŠN Báº¢N THÆ¯á»œNG DÃ™NG

* Káº¿t ná»‘i vÃ o mÃ¡y máº·c Ä‘á»‹nh trong thÆ° má»¥c dá»± Ã¡n:
  vagrant ssh
* Káº¿t ná»‘i vÃ o mÃ¡y cá»¥ thá»ƒ (multi-machine):
  vagrant ssh <name>

TÃ™Y CHá»ŒN Há»®U ÃCH

* `vagrant ssh -c "command"`
  Cháº¡y má»™t lá»‡nh trÃªn guest rá»“i thoÃ¡t (non-interactive). VÃ­ dá»¥:
  vagrant ssh -c "uname -a"

* `vagrant ssh -- -A` hoáº·c `vagrant ssh -- -L 8080:localhost:80`
  Dáº¥u `--` truyá»n cÃ¡c tham sá»‘ tiáº¿p theo trá»±c tiáº¿p cho lá»‡nh `ssh` dÆ°á»›i lá»›p Vagrant.
  VÃ­ dá»¥: `vagrant ssh -- -A` báº­t agent forwarding; `vagrant ssh -- -L 8080:localhost:80` táº¡o port forwarding.

* `vagrant ssh-config`
  In ra cáº¥u hÃ¬nh SSH (Host, HostName, Port, User, IdentityFile, ...). Ráº¥t há»¯u Ã­ch khi báº¡n muá»‘n dÃ¹ng client ssh riÃªng:
  vagrant ssh-config > ssh_config_vagrant
  rá»“i `ssh -F ssh_config_vagrant default` hoáº·c `ssh -F ssh_config_vagrant <name>`

* `vagrant ssh -- -o StrictHostKeyChecking=no`
  Truyá»n tuá»³ chá»n SSH Ä‘á»ƒ bá» kiá»ƒm tra host key (chá»‰ dÃ¹ng táº¡m thá»i, khÃ´ng khuyáº¿n nghá»‹ dÃ i háº¡n).

Vá»Š TRÃ KEY SSH

* Vagrant lÆ°u private key cho tá»«ng mÃ¡y trong thÆ° má»¥c dá»± Ã¡n:
  .vagrant/machines/<name>/<provider>/private_key
* NgoÃ i ra cÃ³ key chung máº·c Ä‘á»‹nh (insecure) táº¡i ~/.vagrant.d/insecure_private_key trong má»™t sá»‘ trÆ°á»ng há»£p.
* `vagrant ssh-config` cho biáº¿t chÃ­nh xÃ¡c identity file Ä‘ang dÃ¹ng.

VD: OUTPUT MáºªU (vagrant ssh-config)
Host default
HostName 127.0.0.1
User vagrant
Port 2222
UserKnownHostsFile /dev/null
StrictHostKeyChecking no
PasswordAuthentication no
IdentityFile /path/to/project/.vagrant/machines/default/virtualbox/private_key
IdentitiesOnly yes
LogLevel FATAL

GIáº¢I THÃCH CÃC TRÆ¯á»œNG

* HostName: Ä‘á»‹a chá»‰ IP trÃªn host (thÆ°á»ng lÃ  127.0.0.1 vÃ¬ Vagrant forward port)
* Port: cá»•ng SSH Ä‘Æ°á»£c forward (vÃ­ dá»¥ 2222)
* User: user Ä‘á»ƒ SSH (thÆ°á»ng lÃ  "vagrant")
* IdentityFile: Ä‘Æ°á»ng dáº«n private key Ä‘á»ƒ xÃ¡c thá»±c

TÃŒNH HUá»NG DÃ™NG THÆ¯á»œNG Gáº¶P

1. Muá»‘n cháº¡y script tá»± Ä‘á»™ng trÃªn guest

   * DÃ¹ng `vagrant ssh -c "bash /vagrant/script.sh"` (thÆ° má»¥c /vagrant map vá»›i thÆ° má»¥c dá»± Ã¡n host)

2. Muá»‘n dÃ¹ng client SSH riÃªng

   * Xuáº¥t cáº¥u hÃ¬nh: `vagrant ssh-config > config` rá»“i `ssh -F config default`

3. Port forwarding tá»« guest tá»›i host

   * Thá»±c hiá»‡n vá»›i `vagrant ssh -- -L host_port:localhost:guest_port`

Váº¤N Äá»€ THÆ¯á»œNG Gáº¶P & CÃCH KHáº®C PHá»¤C

* Lá»—i: Permission denied (publickey)

  * Kiá»ƒm tra `vagrant ssh-config` xem IdentityFile tá»“n táº¡i vÃ  cÃ³ quyá»n Ä‘á»c.
  * Kiá»ƒm tra quyá»n file private_key: chmod 600 private_key
  * Náº¿u key bá»‹ máº¥t, thá»­ `vagrant reload` hoáº·c táº¡o láº¡i mÃ¡y `vagrant destroy` + `vagrant up`.

* Lá»—i: Could not detect a forwarded port for guest port 22

  * Äáº£m báº£o mÃ¡y Ä‘ang á»Ÿ tráº¡ng thÃ¡i `running` (kiá»ƒm tra vá»›i `vagrant status`).
  * Náº¿u port khÃ´ng forward, provider cÃ³ thá»ƒ bá»‹ lá»—i; thá»­ `vagrant reload`.

* TrÃªn Windows khÃ´ng cÃ³ lá»‡nh `ssh` (Windows cÅ©)

  * CÃ i Git Bash, PuTTY (vagrant has `vagrant ssh` integration with putty via vagrant-mutate or plugin), hoáº·c báº­t OpenSSH client trong Settings (Windows 10+).
  * Hoáº·c dÃ¹ng `vagrant ssh` trong Git Bash/PowerShell (Windows 10+ cÃ³ OpenSSH builtin)

Máº¸O & LÆ¯U Ã

* `vagrant ssh -c` tráº£ exit code cá»§a lá»‡nh cháº¡y trÃªn guest â€” há»¯u Ã­ch cho script.
* DÃ¹ng `vagrant ssh-config` khi báº¡n muá»‘n cáº¥u hÃ¬nh IDE (VSCode Remote - SSH) Ä‘á»ƒ káº¿t ná»‘i vÃ o VM.
* ThÆ° má»¥c chia sáº» `/vagrant` trÃªn guest trá» Ä‘áº¿n thÆ° má»¥c dá»± Ã¡n host; táº­n dá»¥ng Ä‘á»ƒ copy file, cháº¡y script.
* Truyá»n thÃªm tuá»³ chá»n SSH báº±ng `--` (vÃ­ dá»¥ agent forwarding, port forward, tÃ¹y chá»n StrictHostKeyChecking).

TÃ“M Táº®T NGáº®N Gá»ŒN (1 DÃ’NG)
`vagrant ssh` â€” má»Ÿ káº¿t ná»‘i SSH vÃ o mÃ¡y áº£o Vagrant (interactive shell hoáº·c cháº¡y lá»‡nh tá»« xa), vÃ  `vagrant ssh-config` cung cáº¥p chi tiáº¿t cáº¥u hÃ¬nh Ä‘á»ƒ dÃ¹ng client SSH riÃªng.

---


	- cmd: whoami

WHOAMI â€” Giáº£i thÃ­ch chi tiáº¿t (Plain text, sáºµn sÃ ng copy vÃ o .txt)

Má»¤C ÄÃCH

* Hiá»ƒn thá»‹ tÃªn ngÆ°á»i dÃ¹ng (username) hiá»‡n táº¡i dÆ°á»›i dáº¡ng "effective user" â€” tá»©c lÃ  tÃ i khoáº£n mÃ  tiáº¿n trÃ¬nh Ä‘ang cháº¡y vá»›i quyá»n cá»§a nÃ³.

CÃ‚U Lá»†NH CÆ  Báº¢N
whoami

MÃ” Táº¢

* `whoami` in ra tÃªn tÃ i khoáº£n (username) mÃ  tiáº¿n trÃ¬nh hiá»‡n táº¡i Ä‘ang sá»­ dá»¥ng.
* ThÆ°á»ng dÃ¹ng Ä‘á»ƒ kiá»ƒm tra nhanh xem báº¡n Ä‘ang cháº¡y shell/command vá»›i user nÃ o (vÃ­ dá»¥: bÃ¬nh thÆ°á»ng user cá»§a báº¡n hoáº·c `root` khi dÃ¹ng sudo).

VD: Káº¾T QUáº¢ MáºªU
$ whoami
tuan

GIáº¢I THÃCH

* Náº¿u báº¡n Ä‘ang cháº¡y lá»‡nh trong terminal dÆ°á»›i user "tuan", `whoami` sáº½ xuáº¥t "tuan".
* Náº¿u báº¡n cháº¡y `sudo whoami`, káº¿t quáº£ thÆ°á»ng lÃ  "root" (vÃ¬ lá»‡nh Ä‘Æ°á»£c thá»±c thi vá»›i quyá»n effective lÃ  root).

TÃ™Y CHá»ŒN THÆ¯á»œNG Gáº¶P

* `whoami --help`  : hiá»ƒn thá»‹ hÆ°á»›ng dáº«n/tÃ¹y chá»n (tuá»³ há»‡ thá»‘ng sáº½ cÃ³ cÃ¡c tuá»³ chá»n khÃ¡c nhau).
* `whoami --version`: in phiÃªn báº£n chÆ°Æ¡ng trÃ¬nh (náº¿u lÃ  GNU coreutils).

TRONG SCRIPT

* LÆ°u username vÃ o biáº¿n:
  USERNAME=$(whoami)
* VÃ­ dá»¥ kiá»ƒm tra quyá»n:
  if [ "$(whoami)" = "root" ]; then
  echo "Running as root"
  else
  echo "Not root"
  fi

SO SÃNH Vá»šI CÃC Lá»†NH KHÃC

* `id -un`  : tÆ°Æ¡ng Ä‘Æ°Æ¡ng â€” in tÃªn user effective. `id` cÃ³ thÃªm thÃ´ng tin UID, groups.
* `logname` : in tÃªn user Ä‘Äƒng nháº­p ban Ä‘áº§u (login name), KHÃC vá»›i `whoami` khi sá»­ dá»¥ng `su` hoáº·c `sudo`.

  * VÃ­ dá»¥: náº¿u báº¡n Ä‘Äƒng nháº­p báº±ng user A rá»“i `su - userB`, `logname` cÃ³ thá»ƒ váº«n tráº£ vá» A, cÃ²n `whoami` tráº£ vá» userB.

MÃƒ TRáº NG THÃI (EXIT STATUS)

* Tráº£ vá» 0 khi thÃ nh cÃ´ng (cÃ³ thá»ƒ in username).
* Tráº£ vá» giÃ¡ trá»‹ khÃ¡c 0 khi xáº£y ra lá»—i (hiáº¿m gáº·p trong Ä‘iá»u kiá»‡n bÃ¬nh thÆ°á»ng).

Váº¤N Äá»€ THÆ¯á»œNG Gáº¶P & Lá»œI KHUYÃŠN

* Káº¿t quáº£ lÃ  "root" sau khi dÃ¹ng sudo

  * ÄÃ¢y lÃ  hÃ nh vi mong Ä‘á»£i vÃ¬ sudo cháº¡y lá»‡nh vá»›i effective user root.
* Muá»‘n biáº¿t user Ä‘Äƒng nháº­p ban Ä‘áº§u thÃ¬ dÃ¹ng `logname`.
* Náº¿u `whoami` khÃ´ng cÃ³ sáºµn (ráº¥t hiáº¿m trÃªn Unix/Linux hiá»‡n Ä‘áº¡i), cÃ³ thá»ƒ dÃ¹ng `id -un`.

WHOAMI TRÃŠN WINDOWS

* Windows cÅ©ng cÃ³ lá»‡nh `whoami` (trong Command Prompt / PowerShell).

  * VÃ­ dá»¥: `whoami` -> `DOMAIN\username` hoáº·c `COMPUTERNAME\username`.
  * Windows cÃ³ cÃ¡c tuá»³ chá»n khÃ¡c (xem `whoami /?`).

Máº¸O NHANH

* DÃ¹ng `whoami` Ä‘á»ƒ xÃ¡c minh quyá»n khi debug script hoáº·c khi lÃ m viá»‡c vá»›i nhiá»u tÃ i khoáº£n.
* Káº¿t há»£p vá»›i `sudo -u` Ä‘á»ƒ cháº¡y lá»‡nh dÆ°á»›i user khÃ¡c vÃ  kiá»ƒm tra:
  sudo -u otheruser whoami

TÃ“M Táº®T NGáº®N Gá»ŒN (1 DÃ’NG)
`whoami` â€” in tÃªn user mÃ  tiáº¿n trÃ¬nh hiá»‡n táº¡i Ä‘ang cháº¡y (effective user).

---

GHI CHÃš: ÄÃ¢y lÃ  ná»™i dung plain text; báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ vÃ  dÃ¡n tháº³ng vÃ o file .txt.


	- cmd: exit

EXIT â€” Giáº£i thÃ­ch chi tiáº¿t (Plain text, sáºµn sÃ ng copy vÃ o .txt)

Má»¤C ÄÃCH

* ThoÃ¡t khá»i shell hoáº·c káº¿t thÃºc script vá»›i mÃ£ thoÃ¡t (exit status).

CÃ‚U Lá»†NH CÆ  Báº¢N
exit [N]

GIáº¢I THÃCH

* `exit` Ä‘Ã³ng phiÃªn shell hiá»‡n táº¡i (Ä‘Ã³ng terminal hoáº·c ngáº¯t káº¿t ná»‘i SSH náº¿u Ä‘ang dÃ¹ng SSH).
* `exit N` káº¿t thÃºc shell/script vÃ  tráº£ vá» mÃ£ thoÃ¡t (exit status) N cho tiáº¿n trÃ¬nh cha.
* Náº¿u khÃ´ng truyá»n N, shell sáº½ tráº£ vá» exit status cá»§a lá»‡nh cuá»‘i cÃ¹ng thá»±c thi (tÆ°Æ¡ng Ä‘Æ°Æ¡ng `$?`).

Ã NGHÄ¨A EXIT STATUS

* 0  : thÃ nh cÃ´ng (success).
* !=0 : lá»—i hoáº·c tÃ¬nh tráº¡ng khÃ´ng thÃ nh cÃ´ng (giÃ¡ trá»‹ 1..255 â€” nghÄ©a cá»¥ thá»ƒ phá»¥ thuá»™c chÆ°Æ¡ng trÃ¬nh gá»i).

VD (dÃ²ng lá»‡nh)
$ echo hello
hello
$ exit

# ÄÃ³ng terminal / session

VD (tráº£ mÃ£)
$ false
$ echo $?
1
$ exit

# exit khÃ´ng cÃ³ arg -> tráº£ 1 (mÃ£ cá»§a lá»‡nh `false`)

$ exit 42

# káº¿t thÃºc shell vÃ  tráº£ mÃ£ 42 cho tiáº¿n trÃ¬nh cha

Trong script (vÃ­ dá»¥ script.sh):
#!/bin/bash
cp /path/src /path/dest || exit 2

# Náº¿u cp tháº¥t báº¡i, script dá»«ng vÃ  tráº£ mÃ£ 2

echo "Done"
exit 0

So sÃ¡nh vá»›i `return` trong hÃ m shell

* Trong má»™t hÃ m shell, dÃ¹ng `return N` Ä‘á»ƒ tráº£ vá» tá»« hÃ m vá»›i mÃ£ N (khÃ´ng thoÃ¡t shell toÃ n cá»¥c).
* DÃ¹ng `exit` trong hÃ m sáº½ Káº¾T THÃšC toÃ n bá»™ script hoáº·c shell (khÃ´ng chá»‰ rá»i hÃ m).

Trong subshell (vÃ­ dá»¥: trong `(...)`)

* `exit` sáº½ káº¿t thÃºc subshell, khÃ´ng giáº¿t shell cha.
* VÃ­ dá»¥:
  ( echo "in subshell"; exit 5 )
  echo "after subshell: $?"

# Káº¿t quáº£: sau subshell, $? = 5, shell cha váº«n cháº¡y

Trong shell tÆ°Æ¡ng tÃ¡c

* `exit` Ä‘Ã³ng phiÃªn, tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i nháº¥n Ctrl-D (EOF) trÃªn nhiá»u shell.

TrÃªn Windows

* Command Prompt: `exit` cÅ©ng Ä‘Ã³ng cá»­a sá»• cmd; `exit N` tráº£ mÃ£ thoÃ¡t cho chÆ°Æ¡ng trÃ¬nh gá»i.
* PowerShell: `exit` tÆ°Æ¡ng tá»±; `exit N` tráº£ mÃ£ cho tiáº¿n trÃ¬nh (vÃ­ dá»¥ khi gá»i script tá»« chÆ°Æ¡ng trÃ¬nh khÃ¡c).

LÆ¯U Ã & Váº¤N Äá»€ THÆ¯á»œNG Gáº¶P

* Náº¿u muá»‘n báº¯t lá»—i vÃ  in thÃ´ng bÃ¡o trÆ°á»›c khi thoÃ¡t, dÃ¹ng:
  echo "Error: can't copy" >&2
  exit 1
* TrÃ¡nh dÃ¹ng `exit` trong thÆ° viá»‡n shell Ä‘Æ°á»£c nguá»“n (sourced) báº±ng `.` hoáº·c `source` náº¿u báº¡n khÃ´ng muá»‘n thoÃ¡t shell cha. Trong file Ä‘Æ°á»£c `source`, `exit` sáº½ Ä‘Ã³ng luÃ´n shell cha; dÃ¹ng `return` thay tháº¿.
* MÃ£ thoÃ¡t nÃªn náº±m trong 0..255 (beyond 255 sáº½ modulo 256 trÃªn má»™t sá»‘ há»‡ thá»‘ng).

Máº¸O

* Trong script, set -e cÃ³ thá»ƒ tá»± Ä‘á»™ng `exit` khi lá»‡nh tháº¥t báº¡i (tÃ¹y cÃ i Ä‘áº·t). DÃ¹ng `trap` Ä‘á»ƒ cháº¡y cleanup trÆ°á»›c khi exit:
  trap 'rm -f /tmp/mytmpfile' EXIT

TÃ“M Táº®T NGáº®N Gá»ŒN (1 DÃ’NG)
`exit [N]` â€” káº¿t thÃºc shell hoáº·c script vÃ  tráº£ vá» mÃ£ thoÃ¡t N (máº·c Ä‘á»‹nh lÃ  mÃ£ cá»§a lá»‡nh cuá»‘i cÃ¹ng).

---

GHI CHÃš: ÄÃ¢y lÃ  ná»™i dung plain text; báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ vÃ  dÃ¡n tháº³ng vÃ o file .txt.


	- cmd: vagrant halt

VAGRANT: `vagrant halt` â€” Giáº£i thÃ­ch chi tiáº¿t (Plain text, sáºµn sÃ ng copy vÃ o .txt)

Má»¤C ÄÃCH

* Táº¯t (shutdown) an toÃ n má»™t hoáº·c nhiá»u mÃ¡y áº£o Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi Vagrant trong thÆ° má»¥c dá»± Ã¡n hiá»‡n táº¡i.

CÃ‚U Lá»†NH CÆ  Báº¢N
vagrant halt [NAME] [--force] [--timeout SECONDS]

MÃ” Táº¢

* `vagrant halt` gá»­i lá»‡nh táº¯t sáº¡ch (graceful shutdown) tá»›i guest OS â€” tÆ°Æ¡ng tá»± viá»‡c chá»n "Shut Down" tá»« giao diá»‡n quáº£n lÃ½ hypervisor.
* Náº¿u khÃ´ng chá»‰ Ä‘á»‹nh NAME, lá»‡nh Ã¡p dá»¥ng cho mÃ¡y máº·c Ä‘á»‹nh trong thÆ° má»¥c dá»± Ã¡n (hoáº·c cho táº¥t cáº£ mÃ¡y Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh trong multi-machine náº¿u gÃµ tÆ°Æ¡ng á»©ng).
* Khi mÃ¡y Ä‘Ã£ á»Ÿ tráº¡ng thÃ¡i `halted` hoáº·c `not created`, lá»‡nh sáº½ tráº£ thÃ´ng bÃ¡o tÆ°Æ¡ng á»©ng.

TÃ™Y CHá»ŒN

* `--force`

  * Ã‰p provider (vÃ­ dá»¥ VirtualBox) dá»«ng mÃ¡y ngay láº­p tá»©c thay vÃ¬ gá»­i lá»‡nh táº¯t guest OS; tÆ°Æ¡ng Ä‘Æ°Æ¡ng viá»‡c rÃºt nguá»“n (power off). DÃ¹ng khi guest khÃ´ng pháº£n há»“i.
* `--timeout SECONDS`

  * Thá»i gian chá» (tÃ­nh báº±ng giÃ¢y) cho viá»‡c táº¯t an toÃ n; sau khi háº¿t thá»i gian cÃ³ thá»ƒ fallback sang force (tuá»³ phiÃªn báº£n Vagrant vÃ  provider).

VD: Sá»¬ Dá»¤NG

* Táº¯t mÃ¡y máº·c Ä‘á»‹nh:
  vagrant halt

* Táº¯t mÃ¡y cÃ³ tÃªn trong multi-machine:
  vagrant halt web

* Ã‰p dá»«ng mÃ¡y khi guest khÃ´ng pháº£n há»“i:
  vagrant halt --force

Sá»° KHÃC BIá»†T Vá»šI CÃC Lá»†NH KHÃC

* `vagrant halt` khÃ¡c vá»›i `vagrant suspend`:

  * `halt` táº¯t hoÃ n toÃ n guest (shutdown), tráº¡ng thÃ¡i tÆ°Æ¡ng Ä‘Æ°Æ¡ng khi báº¡n táº¯t mÃ¡y.
  * `suspend` lÆ°u tráº¡ng thÃ¡i RAM/CPU (suspend) Ä‘á»ƒ resume nhanh hÆ¡n.
* `vagrant destroy` xÃ³a hoÃ n toÃ n VM vÃ  giáº£i phÃ³ng tÃ i nguyÃªn; `halt` chá»‰ táº¯t nhÆ°ng giá»¯ mÃ¡y Ä‘á»ƒ cÃ³ thá»ƒ `vagrant up` láº¡i nhanh.

Há»† QUáº¢ KHI THá»°C THI

* Sau khi thÃ nh cÃ´ng, tráº¡ng thÃ¡i mÃ¡y sáº½ lÃ  `halted`.
* CÃ¡c port forwarding/SSH connection sáº½ khÃ´ng cÃ²n hoáº¡t Ä‘á»™ng cho Ä‘áº¿n khi `vagrant up`.

Váº¤N Äá»€ THÆ¯á»œNG Gáº¶P & GIáº¢I PHÃP

1. MÃ¡y khÃ´ng táº¯t (hang) khi cháº¡y `vagrant halt`

   * Thá»­ `vagrant halt --force` Ä‘á»ƒ Ã©p provider dá»«ng.
   * Kiá»ƒm tra provider GUI (vd. VirtualBox) Ä‘á»ƒ xem tráº¡ng thÃ¡i VM; náº¿u cáº§n, táº¯t tá»« GUI.

2. `vagrant halt` treo do guest khÃ´ng pháº£n há»“i lá»‡nh ACPI

   * Sá»­ dá»¥ng `--force` hoáº·c khá»Ÿi Ä‘á»™ng láº¡i provider host service.

3. Lá»—i permission khi Vagrant cá»‘ gáº¯ng thao tÃ¡c vá»›i provider

   * Cháº¡y lá»‡nh vá»›i quyá»n phÃ¹ há»£p (Linux: Ä‘áº£m báº£o user cÃ³ quyá»n Ä‘iá»u khiá»ƒn VirtualBox/libvirt; Windows: cháº¡y terminal vá»›i quyá»n admin náº¿u cáº§n).

4. Lá»‡nh bÃ¡o "not created"

   * MÃ¡y chÆ°a Ä‘Æ°á»£c táº¡o trong thÆ° má»¥c hiá»‡n táº¡i â€” cháº¡y `vagrant up` trÆ°á»›c.

Máº¸O & THá»°C HÃ€NH Tá»T

* TrÆ°á»›c khi `vagrant halt`, Ä‘áº£m báº£o lÆ°u má»i cÃ´ng viá»‡c trÃªn guest (tÆ°Æ¡ng tá»± viá»‡c táº¯t mÃ¡y tháº­t).
* DÃ¹ng `vagrant status` Ä‘á»ƒ kiá»ƒm tra tráº¡ng thÃ¡i trÆ°á»›c khi halt.
* Náº¿u báº¡n muá»‘n tiáº¿t kiá»‡m tÃ i nguyÃªn táº¡m thá»i nhÆ°ng giá»¯ tráº¡ng thÃ¡i lÃ m viá»‡c: cÃ¢n nháº¯c dÃ¹ng `vagrant suspend` thay vÃ¬ `halt`.
* Vá»›i nhiá»u mÃ¡y (multi-machine), dÃ¹ng tÃªn mÃ¡y Ä‘á»ƒ trÃ¡nh táº¯t nháº§m mÃ¡y khÃ¡c.

Káº¾T Há»¢P Vá»šI SCRIPT/CI

* Trong script tá»± Ä‘á»™ng, báº¡n cÃ³ thá»ƒ dÃ¹ng:
  vagrant halt --timeout 30 || vagrant halt --force

  # cá»‘ gáº¯ng táº¯t an toÃ n trong 30s, náº¿u tháº¥t báº¡i thÃ¬ Ã©p dá»«ng

TÃ“M Táº®T NGáº®N Gá»ŒN (1 DÃ’NG)
`vagrant halt` â€” táº¯t an toÃ n VM Vagrant (graceful shutdown); `--force` Ã©p dá»«ng náº¿u guest khÃ´ng pháº£n há»“i.

---

GHI CHÃš: ÄÃ¢y lÃ  ná»™i dung plain text; báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ vÃ  dÃ¡n tháº³ng vÃ o file .txt.


	- cmd: vagrant reload

VAGRANT: `vagrant reload` â€” Giáº£i thÃ­ch chi tiáº¿t (Plain text, sáºµn sÃ ng copy vÃ o .txt)

Má»¤C ÄÃCH

* Táº£i láº¡i (reload) cáº¥u hÃ¬nh cá»§a mÃ¡y áº£o Vagrant mÃ  khÃ´ng pháº£i há»§y vÃ  táº¡o láº¡i toÃ n bá»™ VM. DÃ¹ng khi báº¡n thay Ä‘á»•i Vagrantfile (vÃ­ dá»¥: máº¡ng, folder sync, provider config) vÃ  muá»‘n Ã¡p dá»¥ng thay Ä‘á»•i ngay.

CÃ‚U Lá»†NH CÆ  Báº¢N
vagrant reload [NAME] [--provision] [--no-provision] [--provision-with <list>] [--provider <provider>] [--force]

QUY TRÃŒNH HOáº T Äá»˜NG

1. Vagrant gá»­i lá»‡nh táº¯t (graceful shutdown) hoáº·c reload tá»›i provider.
2. Provider khá»Ÿi Ä‘á»™ng láº¡i VM (hoáº·c chá»‰ Ã¡p dá»¥ng thay Ä‘á»•i tuá»³ provider).
3. Vagrant Ã¡p dá»¥ng (re-provision) náº¿u cÃ³ tuá»³ chá»n `--provision` hoáº·c tuá»³ Vagrantfile cÃ³ trigger.

TÃ™Y CHá»ŒN CHI TIáº¾T

* `--provision`

  * Sau khi reload, cháº¡y láº¡i cÃ¡c provisioners (shell, Ansible, Puppet, Chef...) Ä‘á»ƒ Ã¡p dá»¥ng thay Ä‘á»•i cáº¥u hÃ¬nh.
* `--no-provision`

  * Chá»‰ reload mÃ  khÃ´ng cháº¡y provisioners (máº·c Ä‘á»‹nh náº¿u Vagrantfile khÃ´ng yÃªu cáº§u).
* `--provision-with <list>`

  * Chá»‰ Ä‘á»‹nh cÃ¡c provisioner cá»¥ thá»ƒ Ä‘á»ƒ cháº¡y (vÃ­ dá»¥: `--provision-with shell,ansible`).
* `--provider <provider>`

  * Khi báº¡n muá»‘n chá»‰ rÃµ provider Ä‘á»ƒ dÃ¹ng khi reload (thá»‰nh thoáº£ng cáº§n thiáº¿t náº¿u dá»± Ã¡n há»— trá»£ nhiá»u provider).
* `--force`

  * Ã‰p reload tháº­m chÃ­ khi tráº¡ng thÃ¡i VM cÃ³ váº» khÃ´ng nháº¥t quÃ¡n; dÃ¹ng cáº©n trá»ng.

KHI NÃ€O DÃ™NG `vagrant reload`

* Báº¡n Ä‘Ã£ sá»­a Vagrantfile (vÃ­ dá»¥: thÃªm forwarded_port, thay Ä‘á»•i synced_folder, hoáº·c thay Ä‘á»•i network) vÃ  muá»‘n Ã¡p dá»¥ng thay Ä‘á»•i Ä‘Ã³ vÃ o VM Ä‘ang cháº¡y.
* Báº¡n cáº§n Ã¡p dá»¥ng thay Ä‘á»•i provider-level (vÃ­ dá»¥: thay Ä‘á»•i cáº¥u hÃ¬nh CPU/RAM trong provider-specific config).
* Muá»‘n restart service hoáº·c apply cáº¥u hÃ¬nh láº¡i báº±ng provisioner mÃ  khÃ´ng destroy VM.

SO SÃNH Vá»šI CÃC Lá»†NH KHÃC

* `vagrant up`:

  * Táº¡o vÃ  khá»Ÿi Ä‘á»™ng VM náº¿u chÆ°a tá»“n táº¡i. Náº¿u VM Ä‘Ã£ cháº¡y, `vagrant up` thÆ°á»ng bÃ¡o "already up".
* `vagrant reload`:

  * Restart VM vÃ  Ã¡p dá»¥ng thay Ä‘á»•i cáº¥u hÃ¬nh tá»« Vagrantfile.
* `vagrant provision`:

  * Chá»‰ cháº¡y provisioners trÃªn VM Ä‘ang cháº¡y mÃ  khÃ´ng restart provider.
* `vagrant halt` + `vagrant up`:

  * TÆ°Æ¡ng tá»± reload nhÆ°ng máº¥t thá»i gian hÆ¡n; reload lÃ  lá»±a chá»n nhanh hÆ¡n Ä‘á»ƒ Ã¡p dá»¥ng thay Ä‘á»•i cáº¥u hÃ¬nh.

VD: CÃC Ká»ŠCH Báº¢N THá»°C Táº¾

1. ThÃªm forwarded port trong Vagrantfile:

   * Sá»­a Vagrantfile -> cháº¡y `vagrant reload` -> port má»›i sáº½ Ä‘Æ°á»£c forward.
2. Thay Ä‘á»•i synced_folder options (vÃ­ dá»¥: mount options):

   * Sá»­a Vagrantfile -> `vagrant reload` -> folder sáº½ Ä‘Æ°á»£c remount vá»›i options má»›i.
3. Thay Ä‘á»•i CPU/RAM provider config (VirtualBox):

   * Sá»­a Vagrantfile -> `vagrant reload` -> VM sáº½ restart vá»›i cáº¥u hÃ¬nh má»›i (provider support required).

Váº¤N Äá»€ THÆ¯á»œNG Gáº¶P & CÃCH KHáº®C PHá»¤C

* Reload tháº¥t báº¡i do provider khÃ´ng há»— trá»£ apply má»™t sá»‘ thay Ä‘á»•i khi VM Ä‘ang cháº¡y

  * Thá»­ `vagrant halt` rá»“i `vagrant up`.
* Thay Ä‘á»•i network khÃ´ng cÃ³ hiá»‡u lá»±c sau reload

  * Kiá»ƒm tra cáº¥u hÃ¬nh network trong Vagrantfile; má»™t sá»‘ thay Ä‘á»•i yÃªu cáº§u `vagrant destroy` vÃ  `vagrant up` (vÃ­ dá»¥ thay Ä‘á»•i kiá»ƒu network provider-specific).
* Provisioners khÃ´ng cháº¡y khi báº¡n muá»‘n

  * ThÃªm `--provision` hoáº·c `--provision-with` vÃ o lá»‡nh.
* Tráº¡ng thÃ¡i VM khÃ´ng nháº¥t quÃ¡n sau reload (vÃ­ dá»¥: Vagrant tháº¥y VM running nhÆ°ng provider khÃ¡c)

  * Cháº¡y `vagrant global-status --prune` Ä‘á»ƒ lÃ m sáº¡ch cache, sau Ä‘Ã³ `vagrant reload` hoáº·c `vagrant up`.

Máº¸O & THá»°C HÃ€NH Tá»T

* Khi chá»‰nh nhiá»u thay Ä‘á»•i trong Vagrantfile, kiá»ƒm tra tá»«ng thay Ä‘á»•i báº±ng `vagrant reload` Ä‘á»ƒ xÃ¡c Ä‘á»‹nh thay Ä‘á»•i nÃ o gÃ¢y lá»—i.
* DÃ¹ng `vagrant provision` khi báº¡n chá»‰ muá»‘n Ã¡p dá»¥ng script/provisioners mÃ  khÃ´ng cáº§n restart VM.
* Trong CI, cÃ¢n nháº¯c sequence: `vagrant up --provision` hoáº·c `vagrant reload --provision` sau khi cáº­p nháº­t Vagrantfile.
* Khi lÃ m viá»‡c vá»›i multi-machine, chá»‰ Ä‘á»‹nh NAME Ä‘á»ƒ reload mÃ¡y cáº§n thiáº¿t: `vagrant reload web --provision`.

TÃ“M Táº®T NGáº®N Gá»ŒN (1 DÃ’NG)
`vagrant reload` â€” khá»Ÿi Ä‘á»™ng láº¡i VM Vagrant vÃ  Ã¡p dá»¥ng thay Ä‘á»•i cáº¥u hÃ¬nh tá»« Vagrantfile; dÃ¹ng `--provision` Ä‘á»ƒ cháº¡y láº¡i provisioners.

---

GHI CHÃš: Ná»™i dung nÃ y á»Ÿ dáº¡ng plain text, sáºµn sÃ ng Ä‘á»ƒ copy vÃ  dÃ¡n trá»±c tiáº¿p vÃ o file .txt.


	- cmd: vagrant destroy

VAGRANT: `vagrant destroy` â€” Giáº£i thÃ­ch chi tiáº¿t (Plain text, sáºµn sÃ ng copy vÃ o .txt)

Má»¤C ÄÃCH

* XÃ³a (destroy) má»™t hoáº·c nhiá»u mÃ¡y áº£o do Vagrant quáº£n lÃ½: dá»«ng mÃ¡y, loáº¡i bá» mÃ¡y khá»i provider vÃ  xÃ³a cÃ¡c file metadata liÃªn quan.

CÃ‚U Lá»†NH CÆ  Báº¢N
vagrant destroy [NAME] [--force] [--parallel] [--provider <provider>]

MÃ” Táº¢

* `vagrant destroy` sáº½ xÃ³a hoÃ n toÃ n mÃ¡y áº£o (VM) khá»i há»‡ thá»‘ng vÃ  giáº£i phÃ³ng tÃ i nguyÃªn (disk, network forwarding, snapshots tÃ¹y provider).
* Náº¿u khÃ´ng chá»‰ Ä‘á»‹nh NAME, lá»‡nh Ã¡p dá»¥ng cho mÃ¡y máº·c Ä‘á»‹nh trong thÆ° má»¥c dá»± Ã¡n.
* Lá»‡nh thÆ°á»ng yÃªu cáº§u xÃ¡c nháº­n báº±ng cÃ¡ch nháº­p "y" trá»« khi dÃ¹ng `--force` Ä‘á»ƒ bá» qua prompt.

THAM Sá» & TÃ™Y CHá»ŒN

* `--force` : KhÃ´ng há»i xÃ¡c nháº­n, thá»±c hiá»‡n xÃ³a ngay.
* `--parallel` : Vá»›i multi-machine, xÃ³a song song cÃ¡c mÃ¡y (tÃ¹y phiÃªn báº£n Vagrant há»— trá»£).
* `--provider <provider>` : Chá»‰ rÃµ provider náº¿u cáº§n.

VD: CÃCH DÃ™NG

* XÃ³a mÃ¡y máº·c Ä‘á»‹nh (cÃ³ xÃ¡c nháº­n):
  vagrant destroy

* XÃ³a mÃ¡y cá»¥ thá»ƒ trong multi-machine (cÃ³ xÃ¡c nháº­n):
  vagrant destroy web

* Ã‰p xÃ³a khÃ´ng há»i xÃ¡c nháº­n:
  vagrant destroy --force

* XÃ³a táº¥t cáº£ mÃ¡y trong má»™t Vagrantfile (láº·p qua má»—i mÃ¡y):
  vagrant destroy --force --parallel

Há»† QUáº¢ KHI THá»°C THI

* MÃ¡y bá»‹ xÃ³a khá»i provider (vÃ­ dá»¥ VirtualBox, libvirt) vÃ  thÆ° má»¥c metadata `.vagrant` trong dá»± Ã¡n sáº½ Ä‘Æ°á»£c cáº­p nháº­t.
* Sau khi destroy, tráº¡ng thÃ¡i mÃ¡y sáº½ lÃ  `not created` (náº¿u báº¡n kiá»ƒm tra vá»›i `vagrant status`).
* Dá»¯ liá»‡u trÃªn VM (disk) bá»‹ xÃ³a â€” KHÃ”NG khÃ´i phá»¥c trá»« khi báº¡n cÃ³ snapshot hoáº·c backup.

Sá»° KHÃC BIá»†T Vá»šI CÃC Lá»†NH KHÃC

* `vagrant halt` : chá»‰ táº¯t VM nhÆ°ng giá»¯ nguyÃªn Ä‘á»ƒ cÃ³ thá»ƒ `vagrant up` láº¡i.
* `vagrant suspend` : lÆ°u tráº¡ng thÃ¡i (suspend) Ä‘á»ƒ resume nhanh.
* `vagrant destroy` : xÃ³a háº³n VM (tÆ°Æ¡ng Ä‘Æ°Æ¡ng xÃ³a hoÃ n toÃ n instance).

LÆ¯U Ã TRÆ¯á»šC KHI CHáº Y

* Sao lÆ°u dá»¯ liá»‡u quan trá»ng trÃªn guest (vÃ­ dá»¥: copy file tá»« /vagrant hoáº·c scp ra host) vÃ¬ `destroy` sáº½ xÃ³a disk.
* Kiá»ƒm tra snapshots provider (VirtualBox, libvirt) náº¿u báº¡n muá»‘n phá»¥c há»“i sau nÃ y.

Váº¤N Äá»€ THÆ¯á»œNG Gáº¶P & CÃCH KHáº®C PHá»¤C

1. `vagrant destroy` tháº¥t báº¡i do provider lock hoáº·c VM Ä‘ang bá»‹ sá»­ dá»¥ng

   * Má»Ÿ UI provider (VirtualBox Manager) kiá»ƒm tra vÃ  táº¯t/xÃ³a VM thá»§ cÃ´ng náº¿u cáº§n.
   * Cháº¡y `vagrant global-status --prune` Ä‘á»ƒ lÃ m sáº¡ch cache vÃ  thá»­ láº¡i.
2. XÃ³a khÃ´ng sáº¡ch (file metadata cÃ²n láº¡i)

   * XÃ³a thá»§ cÃ´ng thÆ° má»¥c `.vagrant` trong dá»± Ã¡n náº¿u báº¡n muá»‘n lÃ m láº¡i hoÃ n toÃ n.
3. Sá»£ xÃ³a nháº§m mÃ¡y trong multi-machine

   * LuÃ´n dÃ¹ng `vagrant status` trÆ°á»›c Ä‘á»ƒ kiá»ƒm tra tÃªn mÃ¡y, hoáº·c chá»‰ Ä‘á»‹nh NAME rÃµ rÃ ng khi destroy.
4. KhÃ´ng thá»ƒ xÃ³a vÃ¬ quyá»n

   * Cháº¡y terminal vá»›i quyá»n phÃ¹ há»£p (vÃ­ dá»¥ admin trÃªn Windows) hoáº·c sá»­a quyá»n trÃªn file liÃªn quan.

Máº¸O & THá»°C HÃ€NH Tá»T

* Trong CI, dÃ¹ng `vagrant destroy --force` Ä‘á»ƒ Ä‘áº£m báº£o cleanup khÃ´ng chá» input.
* Náº¿u báº¡n chá»‰ muá»‘n dá»n tÃ i nguyÃªn nhanh nhÆ°ng giá»¯ VM Ä‘á»ƒ khá»Ÿi Ä‘á»™ng nhanh: dÃ¹ng `vagrant suspend`.
* DÃ¹ng `vagrant global-status --prune` sau khi destroy Ä‘á»ƒ lÃ m sáº¡ch cÃ¡c entry cÅ© trÃªn há»‡ thá»‘ng.
* Kiá»ƒm tra backup hoáº·c export box trÆ°á»›c khi destroy náº¿u muá»‘n lÆ°u tráº¡ng thÃ¡i VM.

CÃC Lá»†NH KHÃC Há»®U ÃCH

* XÃ³a má»™t box khá»i local box list (khÃ´ng pháº£i mÃ¡y): `vagrant box remove <name> --provider <provider> --box-version <version>`
* XÃ³a metadata toÃ n cá»¥c: `vagrant global-status --prune`

TÃ“M Táº®T NGáº®N Gá»ŒN (1 DÃ’NG)
`vagrant destroy` â€” xÃ³a hoÃ n toÃ n VM do Vagrant quáº£n lÃ½ (dá»¯ liá»‡u trÃªn VM bá»‹ máº¥t); dÃ¹ng `--force` Ä‘á»ƒ khÃ´ng há»i xÃ¡c nháº­n.

---

GHI CHÃš: Ná»™i dung nÃ y lÃ  plain text; báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ vÃ  dÃ¡n trá»±c tiáº¿p vÃ o file .txt.


	- cmd: vagrant global-status

VAGRANT: `vagrant global-status` â€” Giáº£i thÃ­ch chi tiáº¿t (Plain text, sáºµn sÃ ng copy vÃ o .txt)

Má»¤C ÄÃCH

* Hiá»ƒn thá»‹ danh sÃ¡ch táº¥t cáº£ cÃ¡c VM (machines) do Vagrant quáº£n lÃ½ trÃªn há»‡ thá»‘ng, báº¥t ká»ƒ thÆ° má»¥c dá»± Ã¡n hiá»‡n táº¡i. DÃ¹ng Ä‘á»ƒ tÃ¬m nhanh cÃ¡c mÃ¡y Ä‘Ã£ táº¡o, xem tráº¡ng thÃ¡i vÃ  vá»‹ trÃ­ cá»§a chÃºng.

CÃ‚U Lá»†NH CÆ  Báº¢N
vagrant global-status [--prune] [--machine-readable]

MÃ” Táº¢ Káº¾T QUáº¢

* Káº¿t quáº£ lÃ  má»™t báº£ng gá»“m cÃ¡c cá»™t thÆ°á»ng tháº¥y: `id`, `name`, `provider`, `state`, `directory`.
* `id` lÃ  má»™t UUID ngáº¯n (identifier) mÃ  báº¡n cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c lá»‡nh Vagrant trÃªn machine Ä‘Ã³ tá»« báº¥t ká»³ thÆ° má»¥c nÃ o.

VD: OUTPUT MáºªU
id       name    provider   state     directory
-----------------------------------------------

1a2b3c4  default virtualbox running   /home/tuan/projects/mybox
5d6e7f8  web     virtualbox poweroff  /home/tuan/projects/webapp

Giáº£i thÃ­ch cÃ¡c trÆ°á»ng:

* id: Ä‘á»‹nh danh duy nháº¥t cá»§a VM (dÃ¹ng khi gá»i `vagrant destroy <id>` hoáº·c `vagrant up <id>` tá»« thÆ° má»¥c khÃ¡c).
* name: tÃªn machine (theo Vagrantfile). CÃ³ thá»ƒ lÃ  `default` hoáº·c tÃªn multi-machine.
* provider: hypervisor (virtualbox, libvirt, hyperv, docker,...).
* state: tráº¡ng thÃ¡i hiá»‡n táº¡i (running, poweroff/halted, not created, saved, aborted, etc.).
* directory: Ä‘Æ°á»ng dáº«n thÆ° má»¥c nÆ¡i Vagrantfile táº¡o VM Ä‘Ã³ (quan trá»ng Ä‘á»ƒ biáº¿t VM thuá»™c dá»± Ã¡n nÃ o).

TÃ™Y CHá»ŒN QUAN TRá»ŒNG

* `--prune`

  * XÃ³a cÃ¡c entry cÅ© khÃ´ng cÃ²n tá»“n táº¡i (stale) khá»i danh sÃ¡ch global-status. DÃ¹ng khi cÃ¡c VM Ä‘Ã£ bá»‹ xÃ³a thá»§ cÃ´ng tá»« provider hoáº·c metadata Ä‘Ã£ lá»—i thá»i.
  * VÃ­ dá»¥: `vagrant global-status --prune`
* `--machine-readable`

  * Xuáº¥t á»Ÿ Ä‘á»‹nh dáº¡ng dá»… parse cho script.

CÃC Lá»†NH THÆ¯á»œNG DÃ™NG Káº¾T Há»¢P Vá»šI id

* Láº¥y id tá»« `vagrant global-status` rá»“i dÃ¹ng:

  * `vagrant destroy <id>`  -> xÃ³a mÃ¡y Ä‘Ã³ tá»« báº¥t ká»³ thÆ° má»¥c nÃ o.
  * `vagrant up <id>`       -> khá»Ÿi Ä‘á»™ng mÃ¡y theo id.
  * `vagrant status <id>`   -> kiá»ƒm tra tráº¡ng thÃ¡i (trong má»™t sá»‘ phiÃªn báº£n, cÃ³ thá»ƒ cáº§n chuyá»ƒn thÆ° má»¥c).

KHI NÃ€O NÃŠN DÃ™NG `global-status`

* Báº¡n quÃªn thÆ° má»¥c chá»©a Vagrantfile nhÆ°ng muá»‘n thao tÃ¡c trÃªn VM Ä‘Ã£ táº¡o.
* Dá»n dáº¹p cÃ¡c VM cÅ©: xÃ¡c Ä‘á»‹nh cÃ¡c VM khÃ´ng cÃ²n dÃ¹ng vÃ  `vagrant destroy` chÃºng.
* Kiá»ƒm tra tráº¡ng thÃ¡i táº¥t cáº£ cÃ¡c VM do Vagrant quáº£n lÃ½ trÃªn mÃ¡y.

Váº¤N Äá»€ THÆ¯á»œNG Gáº¶P & GIáº¢I PHÃP

1. `global-status` hiá»ƒn thá»‹ entry "not found" hoáº·c Ä‘Æ°á»ng dáº«n khÃ´ng tá»“n táº¡i

   * Xáº£y ra khi Vagrant metadata cÅ© hoáº·c VM bá»‹ xÃ³a thá»§ cÃ´ng. DÃ¹ng `vagrant global-status --prune` Ä‘á»ƒ dá»n sáº¡ch.
2. Má»™t VM hiá»‡n Ä‘ang cháº¡y nhÆ°ng `state` hiá»ƒn thá»‹ khÃ´ng chÃ­nh xÃ¡c

   * Cháº¡y `vagrant global-status --prune` rá»“i kiá»ƒm tra láº¡i, hoáº·c dÃ¹ng provider GUI (VirtualBox) Ä‘á»ƒ xÃ¡c nháº­n.
3. KhÃ´ng thá»ƒ thao tÃ¡c vá»›i id tráº£ vá»

   * Má»™t sá»‘ lá»‡nh cáº§n Ä‘Æ°á»£c cháº¡y tá»« thÆ° má»¥c chá»©a Vagrantfile; nhÆ°ng nhiá»u lá»‡nh há»— trá»£ id Ä‘á»ƒ thao tÃ¡c tá»« má»i nÆ¡i. Náº¿u gáº·p, Ä‘á»•i sang thÆ° má»¥c tÆ°Æ¡ng á»©ng (cÃ³ thá»ƒ tÃ¬m tá»« cá»™t directory).

Máº¸O & THá»°C HÃ€NH Tá»T

* ThÆ°á»ng xuyÃªn cháº¡y `vagrant global-status --prune` Ä‘á»ƒ giá»¯ danh sÃ¡ch sáº¡ch sáº½, nháº¥t lÃ  khi báº¡n xÃ³a VM thá»§ cÃ´ng.
* DÃ¹ng id khi lÃ m automation/CI Ä‘á»ƒ Ä‘áº£m báº£o thao tÃ¡c chÃ­nh xÃ¡c trÃªn VM mong muá»‘n.
* Káº¿t há»£p `vagrant global-status` vá»›i `grep` Ä‘á»ƒ lá»c nhanh theo tÃªn hoáº·c tráº¡ng thÃ¡i:
  vagrant global-status --prune | grep running

Ká»ŠCH Báº¢N Sá»¬ Dá»¤NG THá»°C Táº¾

* TÃ¬m VM Ä‘á»ƒ xÃ³a:
  vagrant global-status --prune
  vagrant destroy 1a2b3c4 --force

* Khá»Ÿi Ä‘á»™ng láº¡i má»™t VM báº±ng id:
  vagrant up 1a2b3c4

TÃ“M Táº®T NGáº®N Gá»ŒN (1 DÃ’NG)
`vagrant global-status` â€” liá»‡t kÃª táº¥t cáº£ VM do Vagrant quáº£n lÃ½ trÃªn há»‡ thá»‘ng cÃ¹ng id, tráº¡ng thÃ¡i vÃ  Ä‘Æ°á»ng dáº«n; dÃ¹ng `--prune` Ä‘á»ƒ dá»n entry lá»—i thá»i.

---

GHI CHÃš: Ná»™i dung nÃ y á»Ÿ dáº¡ng plain text; báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ vÃ  dÃ¡n trá»±c tiáº¿p vÃ o file .txt.


	- cmd: vagrant global-status --prune

VAGRANT: `vagrant global-status --prune` â€” Giáº£i thÃ­ch chi tiáº¿t (Plain text, sáºµn sÃ ng copy vÃ o .txt)

Má»¤C ÄÃCH

* DÃ¹ng Ä‘á»ƒ liá»‡t kÃª táº¥t cáº£ cÃ¡c VM do Vagrant quáº£n lÃ½ trÃªn há»‡ thá»‘ng vÃ  Ä‘á»“ng thá»i dá»n (prune) cÃ¡c má»¥c (entries) lá»—i thá»i, khÃ´ng tá»“n táº¡i hoáº·c Ä‘Ã£ bá»‹ xÃ³a thá»§ cÃ´ng khá»i provider.

CÃ‚U Lá»†NH
vagrant global-status --prune

MÃ” Táº¢ HÃ€NH Äá»˜NG

* `vagrant global-status` hiá»ƒn thá»‹ má»™t báº£ng cÃ¡c entry VM gá»“m: `id`, `name`, `provider`, `state`, `directory`.
* Khi thÃªm `--prune`, Vagrant sáº½ kiá»ƒm tra nhá»¯ng entry trong danh sÃ¡ch global-status vÃ  loáº¡i bá» nhá»¯ng entry mÃ  nÃ³ khÃ´ng thá»ƒ xÃ¡c nháº­n tá»“n táº¡i (vÃ­ dá»¥ VM Ä‘Ã£ bá»‹ xÃ³a thá»§ cÃ´ng báº±ng GUI cá»§a provider hoáº·c metadata bá»‹ há»ng).
* Káº¿t quáº£ tráº£ vá» lÃ  danh sÃ¡ch Ä‘Ã£ Ä‘Æ°á»£c lÃ m má»›i, chá»‰ cÃ²n cÃ¡c VM thá»±c sá»± Ä‘ang tá»“n táº¡i (hoáº·c mÃ  Vagrant váº«n quáº£n lÃ½).

VÃŒ SAO Cáº¦N `--prune` ?

* Khi báº¡n xÃ³a VM trá»±c tiáº¿p tá»« giao diá»‡n provider (vd. VirtualBox Manager) hoáº·c báº±ng má»™t cÃ´ng cá»¥ bÃªn ngoÃ i, metadata cá»§a Vagrant váº«n giá»¯ entry cÅ© -> gÃ¢y nháº§m láº«n.
* `--prune` giÃºp dá»n sáº¡ch nhá»¯ng entry nÃ y Ä‘á»ƒ danh sÃ¡ch pháº£n Ã¡nh chÃ­nh xÃ¡c tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a há»‡ thá»‘ng.

CÃC TRÆ¯á»œNG Káº¾T QUáº¢

* id: Ä‘á»‹nh danh ngáº¯n (UUID) dÃ¹ng Ä‘á»ƒ tham chiáº¿u VM tá»« báº¥t ká»³ thÆ° má»¥c nÃ o.
* name: tÃªn mÃ¡y theo Vagrantfile.
* provider: vÃ­ dá»¥ virtualbox, libvirt, hyperv, docker.
* state: tráº¡ng thÃ¡i hiá»‡n táº¡i (running, poweroff, not created,...).
* directory: Ä‘Æ°á»ng dáº«n thÆ° má»¥c chá»©a Vagrantfile gá»‘c cá»§a VM Ä‘Ã³.

VD: TRÆ¯á»šC VÃ€ SAU `--prune`

* TrÆ°á»›c (global-status cÃ³ entry lá»—i thá»i):
  id       name    provider   state     directory
  -----------------------------------------------

  1a2b3c4  default virtualbox running   /home/tuan/projectA
  deadbeef oldbox  virtualbox not created /home/tuan/projectB  # nhÆ°ng VM Ä‘Ã£ bá»‹ xÃ³a báº±ng GUI

* Cháº¡y `vagrant global-status --prune` -> entry `deadbeef` bá»‹ loáº¡i bá» khá»i danh sÃ¡ch.

Ká»ŠCH Báº¢N Sá»¬ Dá»¤NG THá»°C Táº¾

* Báº¡n tháº¥y nhiá»u entry "not found" hoáº·c Ä‘Æ°á»ng dáº«n khÃ´ng tá»“n táº¡i khi cháº¡y `vagrant global-status`.
  -> Cháº¡y: `vagrant global-status --prune`
  -> Kiá»ƒm tra láº¡i danh sÃ¡ch Ä‘Ã£ sáº¡ch hÆ¡n.

CÃC Lá»†NH LIÃŠN QUAN

* `vagrant global-status` : chá»‰ liá»‡t kÃª mÃ  khÃ´ng dá»n.
* `vagrant destroy <id>` : xÃ³a mÃ¡y dá»±a trÃªn id (id láº¥y tá»« global-status).

Váº¤N Äá»€ THÆ¯á»œNG Gáº¶P & CÃCH KHáº®C PHá»¤C

1. `--prune` khÃ´ng loáº¡i bá» háº¿t entry "stale"

   * CÃ³ thá»ƒ do quyá»n truy cáº­p hoáº·c provider tráº£ vá» thÃ´ng tin khÃ´ng chÃ­nh xÃ¡c; kiá»ƒm tra provider GUI (VirtualBox, libvirt) xem VM cÃ²n tá»“n táº¡i hay khÃ´ng.
   * Cháº¡y `vagrant global-status --prune` vá»›i quyá»n phÃ¹ há»£p náº¿u cáº§n (vÃ­ dá»¥ admin trÃªn Windows).
2. Báº¡n cáº§n khÃ´i phá»¥c má»™t VM bá»‹ xÃ³a ngoÃ i Ã½ muá»‘n

   * `--prune` chá»‰ dá»n entry; náº¿u VM Ä‘Ã£ bá»‹ xÃ³a váº­t lÃ½, khÃ´ng cÃ³ cÃ¡ch khÃ´i phá»¥c trá»« khi báº¡n cÃ³ snapshot/backup tá»« provider.
3. Danh sÃ¡ch thay Ä‘á»•i nhÆ°ng báº¡n váº«n muá»‘n thao tÃ¡c trÃªn project

   * Sá»­ dá»¥ng cá»™t `directory` Ä‘á»ƒ tÃ¬m thÆ° má»¥c Vagrantfile tÆ°Æ¡ng á»©ng; náº¿u cáº§n thao tÃ¡c tá»« thÆ° má»¥c khÃ¡c, dÃ¹ng `vagrant <command> <id>` (nhiá»u lá»‡nh há»— trá»£ id).

Máº¸O & THá»°C HÃ€NH Tá»T

* ThÆ°á»ng xuyÃªn cháº¡y `vagrant global-status --prune` sau khi báº¡n xÃ³a VM báº±ng GUI hoáº·c khi tháº¥y danh sÃ¡ch bá»‹ bá»«a.
* DÃ¹ng `vagrant global-status --prune | grep <pattern>` Ä‘á»ƒ lá»c nhanh nhá»¯ng VM báº¡n quan tÃ¢m.
* Trong script dá»n dáº¹p (cleanup), gá»i `vagrant global-status --prune` trÆ°á»›c khi quyáº¿t Ä‘á»‹nh `vagrant destroy <id>` Ä‘á»ƒ trÃ¡nh thao tÃ¡c trÃªn entry khÃ´ng tá»“n táº¡i.

TÃ“M Táº®T NGáº®N Gá»ŒN (1 DÃ’NG)
`vagrant global-status --prune` â€” liá»‡t kÃª táº¥t cáº£ VM do Vagrant quáº£n lÃ½ vÃ  dá»n bá» cÃ¡c entry lá»—i thá»i Ä‘á»ƒ danh sÃ¡ch Ä‘á»“ng bá»™ vá»›i thá»±c táº¿.

---

GHI CHÃš: ÄÃ¢y lÃ  ná»™i dung plain text; báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ vÃ  dÃ¡n tháº³ng vÃ o file .txt.


	- cmd: sudo -i

SUDO: `sudo -i` â€” Giáº£i thÃ­ch chi tiáº¿t (Plain text, sáºµn sÃ ng copy vÃ o .txt)

Má»¤C ÄÃCH

* Má»Ÿ má»™t shell login vá»›i quyá»n root (interactive login shell) â€” tÆ°Æ¡ng tá»± nhÆ° Ä‘Äƒng nháº­p trá»±c tiáº¿p báº±ng user root.

CÃ‚U Lá»†NH CÆ  Báº¢N
sudo -i

MÃ” Táº¢ HÃ€NH Äá»˜NG

* `sudo -i` cháº¡y shell cá»§a user root nhÆ° má»™t "login shell" (login interactive shell). NÃ³:

  * Thay Ä‘á»•i effective user thÃ nh root.
  * Thiáº¿t láº­p mÃ´i trÆ°á»ng nhÆ° khi root Ä‘Äƒng nháº­p (vÃ­ dá»¥: Ä‘áº·t HOME=/root, load cÃ¡c file cáº¥u hÃ¬nh login shell cá»§a root nhÆ° /root/.profile, /root/.bash_profile, v.v. tuá»³ shell).
  * Cháº¡y shell tÆ°Æ¡ng á»©ng vá»›i trÆ°á»ng SHELL cá»§a user root (thÆ°á»ng lÃ  /bin/bash hoáº·c /bin/sh).

SO SÃNH Vá»šI CÃC Lá»†NH KHÃC

* `sudo -s`:

  * Má»Ÿ má»™t shell tÆ°Æ¡ng tÃ¡c vá»›i quyá»n root nhÆ°ng **khÃ´ng** mÃ´ phá»ng login shell; tá»©c lÃ  nÃ³ giá»¯ nhiá»u biáº¿n mÃ´i trÆ°á»ng tá»« session hiá»‡n táº¡i hÆ¡n.
* `sudo su -` hoáº·c `su -` (khi báº¡n cÃ³ máº­t kháº©u root):

  * `sudo su -` tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `sudo -i` á»Ÿ nhiá»u há»‡ thá»‘ng (cháº¡y `su -` dÆ°á»›i quyá»n root), nhÆ°ng hÃ nh vi cÃ³ thá»ƒ khÃ¡c tuá»³ cáº¥u hÃ¬nh sudoers.
  * `su -` yÃªu cáº§u máº­t kháº©u cá»§a root (náº¿u root cÃ³ máº­t kháº©u) â€” khÃ¡c vá»›i `sudo -i` dÃ¹ng máº­t kháº©u cá»§a user hiá»‡n táº¡i (náº¿u Ä‘Æ°á»£c cáº¥u hÃ¬nh yÃªu cáº§u).
* `sudo <command>`:

  * Chá»‰ cháº¡y má»™t lá»‡nh vá»›i quyá»n root vÃ  thoÃ¡t ngay; `sudo -i` má»Ÿ interactive shell Ä‘á»ƒ cháº¡y nhiá»u lá»‡nh.

Táº I SAO DÃ™NG `sudo -i` ?

* Khi báº¡n muá»‘n chuyá»ƒn háº³n sang mÃ´i trÆ°á»ng root (HOME=/root, PATH cá»§a root, config cá»§a root) Ä‘á»ƒ thá»±c hiá»‡n nhiá»u thao tÃ¡c há»‡ thá»‘ng.
* Khi script hoáº·c cÃ´ng viá»‡c yÃªu cáº§u mÃ´i trÆ°á»ng cá»§a root (cÃ¡c biáº¿n mÃ´i trÆ°á»ng, profile, PATH khÃ¡c biá»‡t).

VD: Sá»¬ Dá»¤NG

* Má»Ÿ shell root:
  sudo -i

  # báº¡n sáº½ tháº¥y prompt thay Ä‘á»•i â€” hiá»‡n Ä‘ang lÃ  root

* ThoÃ¡t khá»i shell root:
  exit

* Cháº¡y 1 lá»‡nh trong mÃ´i trÆ°á»ng login root (cÃ¡ch tÆ°Æ¡ng Ä‘Æ°Æ¡ng):
  sudo -i -- <command>

  # vÃ­ dá»¥: sudo -i -- bash -c 'echo $HOME; whoami'

HÃ€NH VI Cá»¤ THá»‚ (ENVIRONMENT)

* HOME sáº½ Ä‘Æ°á»£c Ä‘á»•i thÃ nh /root (hoáº·c home cá»§a user root).
* PATH cÃ³ thá»ƒ khÃ¡c so vá»›i khi dÃ¹ng sudo bÃ¬nh thÆ°á»ng â€” chá»©a cÃ¡c Ä‘Æ°á»ng dáº«n há»‡ thá»‘ng cá»§a root.
* CÃ¡c biáº¿n mÃ´i trÆ°á»ng user trÆ°á»›c Ä‘Ã³ cÃ³ thá»ƒ bá»‹ xÃ³a hoáº·c thay báº±ng giÃ¡ trá»‹ máº·c Ä‘á»‹nh cá»§a root (tÃ¹y cáº¥u hÃ¬nh sudoers vÃ  option env_reset).
* CÃ¡c script startup cá»§a shell login (vÃ­ dá»¥ /root/.profile, /root/.bash_profile, /etc/profile) sáº½ Ä‘Æ°á»£c Ä‘á»c vÃ  thá»±c thi.

QUYá»€N & XÃC THá»°C

* Khi cháº¡y `sudo -i`, sudo sáº½ kiá»ƒm tra file /etc/sudoers (hoáº·c files trong /etc/sudoers.d/) Ä‘á»ƒ xÃ¡c nháº­n user cÃ³ quyá»n sá»­ dá»¥ng sudo.
* ThÃ´ng thÆ°á»ng sudo yÃªu cáº§u nháº­p máº­t kháº©u cá»§a user hiá»‡n táº¡i (trá»« khi sudoers cáº¥u hÃ¬nh NOPASSWD).
* Lá»‡nh Ä‘Æ°á»£c ghi láº¡i vÃ o logs (vÃ­ dá»¥ /var/log/auth.log hoáº·c journalctl) â€” theo cáº¥u hÃ¬nh há»‡ thá»‘ng.

Rá»¦I RO & LÆ¯U Ã Báº¢O Máº¬T

* LÃ m viá»‡c dÆ°á»›i root dá»… gÃ¢y lá»—i há»‡ thá»‘ng náº¿u cháº¡y cÃ¡c lá»‡nh nguy hiá»ƒm (rm -rf /, chá»‰nh permission sai, v.v.).
* LuÃ´n cháº¯c cháº¯n báº¡n Ä‘ang cháº¡y Ä‘Ãºng lá»‡nh khi á»Ÿ shell root.
* Háº¡n cháº¿ thá»i gian sá»­ dá»¥ng root; thá»±c hiá»‡n chá»‰ nhá»¯ng thao tÃ¡c cáº§n thiáº¿t.

Váº¤N Äá»€ THÆ¯á»œNG Gáº¶P & KHáº®C PHá»¤C

* KhÃ´ng cÃ³ quyá»n dÃ¹ng sudo: `tuan is not in the sudoers file`

  * ThÃªm user vÃ o sudo group (vd. `usermod -aG sudo tuan` trÃªn Debian/Ubuntu) hoáº·c chá»‰nh file sudoers báº±ng `visudo`.
* `sudo -i` khÃ´ng Ä‘á»•i HOME hoáº·c khÃ´ng Ä‘á»c profile

  * Kiá»ƒm tra biáº¿n SHELL vÃ  cáº¥u hÃ¬nh sudoers (vÃ­ dá»¥ option env_reset, env_keep). Má»™t sá»‘ há»‡ thá»‘ng tÃ¹y chá»‰nh sudoers cÃ³ thá»ƒ giá»¯ láº¡i má»™t sá»‘ biáº¿n mÃ´i trÆ°á»ng.
* TrÃªn há»‡ thá»‘ng khÃ´ng cÃ³ root enabled (vÃ­ dá»¥ Ubuntu): root account cÃ³ thá»ƒ khÃ´ng cÃ³ máº­t kháº©u, nhÆ°ng `sudo -i` váº«n hoáº¡t Ä‘á»™ng vÃ¬ sudo cáº¥p quyá»n root báº±ng user password.

Máº¸O & THá»°C HÃ€NH Tá»T

* Khi cáº§n cháº¡y má»™t vÃ i lá»‡nh vá»›i quyá»n root, Æ°u tiÃªn `sudo <command>` thay vÃ¬ báº­t cáº£ shell root.
* Náº¿u báº¡n cáº§n mÃ´i trÆ°á»ng root cho script, dÃ¹ng `sudo -i -- <command>` Ä‘á»ƒ cháº¡y lá»‡nh trong mÃ´i trÆ°á»ng login cá»§a root mÃ  khÃ´ng má»Ÿ interactive shell.
* Sá»­ dá»¥ng `visudo` Ä‘á»ƒ chá»‰nh sudoers an toÃ n (trÃ¡nh lÃ m há»ng file sudoers).

TÃ“M Táº®T NGáº®N Gá»ŒN (1 DÃ’NG)
`sudo -i` â€” má»Ÿ má»™t login shell dÆ°á»›i quyá»n root, thiáº¿t láº­p mÃ´i trÆ°á»ng nhÆ° khi root Ä‘Äƒng nháº­p (HOME, startup scripts, PATH), dÃ¹ng khi báº¡n cáº§n mÃ´i trÆ°á»ng root Ä‘áº§y Ä‘á»§.

---

GHI CHÃš: ÄÃ¢y lÃ  ná»™i dung plain text; báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ vÃ  dÃ¡n tháº³ng vÃ o file .txt.


	- cmd: history

HISTORY â€” Giáº£i thÃ­ch chi tiáº¿t (Plain text, sáºµn sÃ ng copy vÃ o .txt)

Má»¤C ÄÃCH

* Hiá»ƒn thá»‹ lá»‹ch sá»­ cÃ¡c lá»‡nh Ä‘Ã£ Ä‘Æ°á»£c cháº¡y trong shell hiá»‡n táº¡i hoáº·c trong shell cá»§a user (tÃ¹y shell vÃ  cáº¥u hÃ¬nh). DÃ¹ng Ä‘á»ƒ xem láº¡i cÃ¡c lá»‡nh trÆ°á»›c, tÃ¬m lá»‡nh Ä‘Ã£ quÃªn, hoáº·c láº·p láº¡i má»™t lá»‡nh.

CÃC Lá»†NH CÆ  Báº¢N
history [N]

* `history` : liá»‡t kÃª toÃ n bá»™ lá»‹ch sá»­ lá»‡nh cho session/shell hiá»‡n táº¡i (hoáº·c lá»‹ch sá»­ Ä‘Æ°á»£c lÆ°u trong file history cá»§a user).
* `history N` : liá»‡t kÃª N lá»‡nh cuá»‘i cÃ¹ng.

Sá» DÃ’NG Káº¾T QUáº¢

* Output thÆ°á»ng dáº¡ng: `sá»‘_thá»©_tá»±  lá»‡nh`
  VÃ­ dá»¥:
  1  ls -la
  2  cd /var/www
  3  sudo apt update

Vá»Š TRÃ FILE LÆ¯U Lá»ŠCH Sá»¬

* Bash: Lá»‹ch sá»­ máº·c Ä‘á»‹nh lÆ°u trong `~/.bash_history` (viá»‡c ghi ra file diá»…n ra khi shell Ä‘Ã³ng hoáº·c theo cÃ i Ä‘áº·t).
* Zsh: `~/.zsh_history` hoáº·c tÃ¹y biáº¿n báº±ng biáº¿n mÃ´i trÆ°á»ng $HISTFILE.
* Fish: `~/.local/share/fish/fish_history` (Ä‘á»‹nh dáº¡ng khÃ¡c YAML-like).

BIáº¾N MÃ”I TRÆ¯á»œNG LIÃŠN QUAN (BASH)

* HISTFILE: Ä‘Æ°á»ng dáº«n file lÆ°u lá»‹ch sá»­ (máº·c Ä‘á»‹nh ~/.bash_history).
* HISTSIZE: sá»‘ lá»‡nh giá»¯ trong bá»™ nhá»› cho session hiá»‡n táº¡i.
* HISTFILESIZE: sá»‘ lá»‡nh lÆ°u vÃ o file history.
* HISTCONTROL: tÃ¹y chá»‰nh (ignoredups, ignorespace) Ä‘á»ƒ bá» lá»‡nh trÃ¹ng láº·p hoáº·c lá»‡nh báº¯t Ä‘áº§u báº±ng khoáº£ng tráº¯ng.

Lá»†NH LIÃŠN QUAN Há»®U ÃCH

* `!n` : cháº¡y láº¡i lá»‡nh sá»‘ n (vÃ­ dá»¥ `!3` sáº½ cháº¡y lá»‡nh thá»© 3).
* `!!` : cháº¡y láº¡i lá»‡nh ngay trÆ°á»›c (tÆ°Æ¡ng Ä‘Æ°Æ¡ng `!-1`).
* `!-n` : cháº¡y láº¡i lá»‡nh cÃ¡ch n lá»‡nh trÆ°á»›c.
* `!string` : cháº¡y lá»‡nh gáº§n Ä‘Ã¢y nháº¥t báº¯t Ä‘áº§u báº±ng `string`.
* `history -c` : xÃ³a lá»‹ch sá»­ session hiá»‡n táº¡i (Bash) â€” chÃº Ã½: cÃ³ thá»ƒ khÃ´ng xÃ³a file náº¿u chÆ°a ghi.
* `history -w` : ghi lá»‹ch sá»­ hiá»‡n táº¡i ra file HISTFILE.
* `history -r` : Ä‘á»c láº¡i file HISTFILE vÃ o lá»‹ch sá»­ hiá»‡n táº¡i.
* `history | grep something` : lá»c lá»‹ch sá»­ theo tá»« khoÃ¡.

CÃ”NG Dá»¤NG THá»°C TIá»„N

* TÃ¬m lá»‡nh cÅ©: `history | grep docker` Ä‘á»ƒ tÃ¬m cÃ¡c lá»‡nh docker báº¡n Ä‘Ã£ dÃ¹ng trÆ°á»›c Ä‘Ã³.
* Láº·p láº¡i lá»‡nh vá»›i sudo: `sudo !!`  (cháº¡y láº¡i lá»‡nh trÆ°á»›c vá»›i quyá»n root).
* Xuáº¥t lá»‹ch sá»­ ra file: `history > my_history.txt` Ä‘á»ƒ lÆ°u hoáº·c chia sáº».

LÆ¯U Ã Báº¢O Máº¬T

* Lá»‹ch sá»­ ghi láº¡i má»i lá»‡nh, cÃ³ thá»ƒ chá»©a máº­t kháº©u nháº¡y cáº£m náº¿u báº¡n nháº­p trá»±c tiáº¿p (VD: `mysql -u root -p mypassword`). TrÃ¡nh nháº­p máº­t kháº©u trá»±c tiáº¿p trÃªn dÃ²ng lá»‡nh; sá»­ dá»¥ng prompt hoáº·c biáº¿n an toÃ n.
* `history -c` + `history -w` cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ xÃ³a lá»‹ch sá»­ trÃªn mÃ¡y (ghi file history rá»—ng), nhÆ°ng khÃ´ng Ä‘áº£m báº£o xÃ³a báº£n sao hoáº·c log há»‡ thá»‘ng khÃ¡c.

Váº¤N Äá»€ THÆ¯á»œNG Gáº¶P & CÃCH KHáº®C PHá»¤C

* Lá»‡nh má»›i khÃ´ng xuáº¥t hiá»‡n trong `history` ngay láº­p tá»©c

  * Bash thÆ°á»ng chá»‰ ghi lá»‹ch sá»­ ra file khi Ä‘Ã³ng shell; dÃ¹ng `history -w` Ä‘á»ƒ ghi ngay.
  * Thiáº¿t láº­p `PROMPT_COMMAND='history -a'` trong ~/.bashrc Ä‘á»ƒ append lá»‹ch sá»­ má»—i lá»‡nh.
* TrÃ¹ng láº·p lá»‡nh trong lá»‹ch sá»­

  * Thiáº¿t láº­p `HISTCONTROL=ignoredups` hoáº·c `HISTCONTROL=ignoreboth` Ä‘á»ƒ bá» lá»‡nh trÃ¹ng.
* Máº¥t lá»‹ch sá»­ sau reboot hoáº·c má»Ÿ shell má»›i

  * Kiá»ƒm tra biáº¿n HISTFILESIZE/HISTSIZE vÃ  Ä‘áº£m báº£o shell cÃ³ quyá»n ghi file HISTFILE.

Máº¸O & Tá»I Æ¯U

* Äáº·t `HISTSIZE` vÃ  `HISTFILESIZE` lá»›n hÆ¡n Ä‘á»ƒ lÆ°u nhiá»u lá»‡nh hÆ¡n.
* Káº¿t há»£p `fc` (fix command) Ä‘á»ƒ sá»­a vÃ  cháº¡y láº¡i lá»‡nh: `fc -s old=new` hoáº·c `fc` má»Ÿ editor Ä‘á»ƒ chá»‰nh lá»‡nh gáº§n nháº¥t.
* DÃ¹ng `shopt -s histappend` (Bash) Ä‘á»ƒ appending nhiá»u shell vÃ o cÃ¹ng 1 file history thay vÃ¬ overwrite.
* DÃ¹ng `HISTTIMEFORMAT` Ä‘á»ƒ lÆ°u kÃ¨m thá»i gian cho má»—i lá»‡nh: `export HISTTIMEFORMAT='%F %T '`.

TÃ“M Táº®T NGáº®N Gá»ŒN (1 DÃ’NG)
`history` â€” hiá»ƒn thá»‹ vÃ  quáº£n lÃ½ lá»‹ch sá»­ cÃ¡c lá»‡nh shell; káº¿t há»£p vá»›i `!`, `history -c/-w/-r`, vÃ  biáº¿n mÃ´i trÆ°á»ng Ä‘á»ƒ kiá»ƒm soÃ¡t hÃ nh vi.

---

GHI CHÃš: ÄÃ¢y lÃ  ná»™i dung plain text; báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ vÃ  dÃ¡n tháº³ng vÃ o file .txt.


	-- Manual:
	
		Oracle VM Virtualbox (Hypervisor)
		
		ISO file (CentOS & Ubuntu)
		
		Login tool (Git Bash & Putty)
		
		Táº£i file iso cá»§a centos vÃ  ubuntu Ä‘á»ƒ import vÃ o Oracle VM Virtualbox
		
	-- Automated:
	
		VirtualBox (Hypervisor)
		
		Vagrant (Creates vms with Vagrantfile)
		
		commands (vagrant up)
		
		VÃ o vagrant cloud Ä‘á»ƒ tÃ¬m lá»‡nh cá»§a vagrant Ä‘á»ƒ kÃ©o file vá» centos 9
		(eurolinux-vagrant/centos-stream-9) vÃ  ubuntu jammy (ubuntu/jammy64)
		
	Táº£i cÃ¡c file iso rá»“i import vÃ o storage cá»§a tá»«ng vm
	
	-- Oracle VM VirtualBox lÃ  gÃ¬?

		LÃ  pháº§n má»m áº£o hÃ³a (virtualization), cho phÃ©p báº¡n cháº¡y nhiá»u há»‡ Ä‘iá»u hÃ nh (OS)
		khÃ¡c nhau trÃªn cÃ¹ng má»™t mÃ¡y tÃ­nh tháº­t.

		VÃ­ dá»¥: mÃ¡y tháº­t cá»§a báº¡n cháº¡y Windows, nhÆ°ng báº¡n cÃ³ thá»ƒ cÃ i thÃªm má»™t mÃ¡y áº£o Ubuntu
		Linux trong VirtualBox Ä‘á»ƒ há»c, test mÃ  khÃ´ng áº£nh hÆ°á»Ÿng Windows.
		
		Táº¡i sao cáº§n dÃ¹ng VirtualBox?
		
			Há»c táº­p & Thá»­ nghiá»‡m

				Báº¡n cÃ³ thá»ƒ cÃ i nhiá»u há»‡ Ä‘iá»u hÃ nh (Ubuntu, CentOS, Kali, Windows Server, â€¦)
				Ä‘á»ƒ há»c IT, máº¡ng, báº£o máº­t, DevOps, láº­p trÃ¬nh.

				Thá»­ nghiá»‡m pháº§n má»m, cáº¥u hÃ¬nh há»‡ thá»‘ng, cÃ i package mÃ  khÃ´ng sá»£ lÃ m há»ng mÃ¡y tháº­t.

			Máº¡ng & Server

				Giáº£ láº­p mÃ´i trÆ°á»ng server: cÃ i Apache/Nginx, MySQL, Kafka, RabbitMQ, Dockerâ€¦

				Dá»… dÃ ng cáº¥u hÃ¬nh máº¡ng áº£o (NAT, Bridged, Host-only) â†’ há»c cÃ¡ch cÃ¡c server giao
				tiáº¿p vá»›i nhau.

			PhÃ¡t triá»ƒn pháº§n má»m

				Táº¡o mÃ´i trÆ°á»ng riÃªng biá»‡t Ä‘á»ƒ test code, deploy á»©ng dá»¥ng.

				CÃ³ thá»ƒ snapshot (lÆ°u tráº¡ng thÃ¡i mÃ¡y áº£o) â†’ náº¿u há»ng thÃ¬ rollback láº¡i ngay.

			An toÃ n & Báº£o máº­t

				Cháº¡y thá»­ pháº§n má»m láº¡, file nghi ngá» virus trong mÃ¡y áº£o.

				MÃ¡y áº£o cÃ¡ch ly vá»›i mÃ¡y tháº­t, háº¡n cháº¿ rá»§i ro.

			Phá»• biáº¿n trong DevOps / Cloud

				TrÆ°á»›c khi triá»ƒn khai tháº­t trÃªn server (AWS, GCP, Azure), báº¡n cÃ³ thá»ƒ mÃ´ phá»ng mÃ´i
				trÆ°á»ng cloud ngay trÃªn mÃ¡y tÃ­nh cÃ¡ nhÃ¢n báº±ng VirtualBox.

				Káº¿t há»£p vá»›i Vagrant Ä‘á»ƒ tá»± Ä‘á»™ng táº¡o mÃ´i trÆ°á»ng dev/test.
				
		Khi nÃ o khÃ´ng cáº§n VirtualBox?

			Náº¿u báº¡n chá»‰ muá»‘n cháº¡y Linux thÆ°á»ng xuyÃªn â†’ cÃ³ thá»ƒ dual
			boot (cÃ i song song Windows + Linux).

			Náº¿u báº¡n chá»‰ cáº§n mÃ´i trÆ°á»ng dev nhanh â†’ cÃ³ thá»ƒ dÃ¹ng WSL
			(Windows Subsystem for Linux) thay cho VM.
	
	-- File ISO lÃ  gÃ¬?

		ISO file = má»™t báº£n sao toÃ n bá»™ (image) cá»§a Ä‘Ä©a CD/DVD.

		NÃ³ chá»©a Ä‘áº§y Ä‘á»§ há»‡ Ä‘iá»u hÃ nh hoáº·c pháº§n má»m, giá»‘ng nhÆ° báº¡n cáº§m má»™t cÃ¡i Ä‘Ä©a cÃ i Ä‘áº·t.

		Trong VirtualBox, file ISO Ä‘Æ°á»£c dÃ¹ng nhÆ° Ä‘Ä©a cÃ i Ä‘áº·t há»‡ Ä‘iá»u hÃ nh cho mÃ¡y áº£o (VM).

		VÃ­ dá»¥:

		Náº¿u báº¡n muá»‘n cÃ i Ubuntu trÃªn VirtualBox â†’ báº¡n cáº§n táº£i file ubuntu-22.04.iso.

		Náº¿u báº¡n muá»‘n cÃ i Windows 10 â†’ báº¡n cáº§n file Win10.iso.

		Náº¿u báº¡n muá»‘n cÃ i CentOS/RHEL â†’ táº£i file CentOS-Stream-9.iso hoáº·c rhel.iso.
		
	-- Setting trong Oracle VM Virtualbox:
	
		General: ThÃ´ng tin chung cá»§a VM (tÃªn, phiÃªn báº£n OS, mÃ´ táº£).

		System: CPU, RAM, Boot order.

		Display: cáº¥u hÃ¬nh card mÃ n hÃ¬nh, Ä‘á»™ phÃ¢n giáº£i.

		Storage: gáº¯n á»• cá»©ng áº£o (VDI, VMDK) hoáº·c file ISO cÃ i há»‡ Ä‘iá»u hÃ nh.

		Audio: báº­t/táº¯t Ã¢m thanh.

		Network: cáº¥u hÃ¬nh máº¡ng cho mÃ¡y áº£o.

		USB, Shared Folders, User Interface: cáº¥u hÃ¬nh USB, thÆ° má»¥c chia sáº», giao diá»‡n ngÆ°á»i dÃ¹ng.
		
	-- Controller trong VirtualBox lÃ  gÃ¬?
	
		Controller lÃ  bá»™ Ä‘iá»u khiá»ƒn (controller) giáº£ láº­p Ä‘á»ƒ quáº£n lÃ½ cÃ¡c thiáº¿t bá»‹ lÆ°u trá»¯ (Storage Devices) gáº¯n vÃ o mÃ¡y áº£o.

		NÃ³ hoáº¡t Ä‘á»™ng giá»‘ng nhÆ° card Ä‘iá»u khiá»ƒn á»• cá»©ng/á»• Ä‘Ä©a trong mÃ¡y tháº­t.

		CÃ¡c controller phá»• biáº¿n: IDE, SATA, SCSI, SAS, NVMe, Floppy.
		
		Controller: IDE

			IDE (Integrated Drive Electronics) lÃ  chuáº©n cÅ©, thÆ°á»ng dÃ¹ng cho á»• Ä‘Ä©a CD/DVD vÃ  á»• cá»©ng tháº¿ há»‡ cÅ©.

			Trong VirtualBox:

			IDE thÆ°á»ng Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ mount file ISO (nhÆ° Ä‘Ä©a cÃ i CentOS, Ubuntu).

			á» áº£nh cá»§a báº¡n:

				Controller: IDE cÃ³ 1 thiáº¿t bá»‹ gáº¯n lÃ  Empty (á»• CD/DVD trá»‘ng).

				Khi báº¡n chá»n vÃ  gáº¯n file ISO â†’ VirtualBox coi nhÆ° báº¡n bá» "Ä‘Ä©a CD áº£o" vÃ o á»• IDE nÃ y Ä‘á»ƒ boot vÃ  cÃ i OS.

		Controller: SATA

			SATA (Serial ATA) lÃ  chuáº©n má»›i hÆ¡n, nhanh hÆ¡n IDE, thÆ°á»ng dÃ¹ng cho á»• cá»©ng hiá»‡n Ä‘áº¡i.

			Trong VirtualBox:

				Controller: SATA Ä‘ang chá»©a centosvm.vdi â†’ Ä‘Ã¢y chÃ­nh lÃ  á»• cá»©ng áº£o (Virtual Disk Image) cá»§a mÃ¡y CentOS.

				Há»‡ Ä‘iá»u hÃ nh (CentOS) sau khi cÃ i sáº½ náº±m trong á»• nÃ y.
		
	ACPI lÃ  gÃ¬?

		ACPI (Advanced Configuration and Power Interface) lÃ  má»™t chuáº©n do Intel, Microsoft vÃ  Toshiba phÃ¡t triá»ƒn.

		NÃ³ cho phÃ©p há»‡ Ä‘iá»u hÃ nh quáº£n lÃ½ nguá»“n Ä‘iá»‡n cá»§a pháº§n cá»©ng (power management).

		Nhá» ACPI, OS cÃ³ thá»ƒ:

			Táº¯t/má»Ÿ mÃ¡y báº±ng pháº§n má»m.

			ÄÆ°a mÃ¡y vÃ o cháº¿ Ä‘á»™ Sleep/Hibernate.

			Giáº£m tá»‘c Ä‘á»™ CPU khi khÃ´ng cáº§n thiáº¿t Ä‘á»ƒ tiáº¿t kiá»‡m Ä‘iá»‡n.

		ACPI Shutdown trong VirtualBox lÃ  gÃ¬?

			Khi báº¡n chá»n ACPI Shutdown trong VirtualBox (hoáº·c trong cÃ¡c hypervisor khÃ¡c), nÃ³ sáº½ gá»­i tÃ­n hiá»‡u
			ACPI Ä‘áº¿n há»‡ Ä‘iá»u hÃ nh trong mÃ¡y áº£o.

			HÃ nh Ä‘á»™ng nÃ y tÆ°Æ¡ng tá»± nhÆ° nháº¥n nÃºt Power trÃªn mÃ¡y tÃ­nh tháº­t (nhÆ°ng khÃ´ng pháº£i "táº¯t cá»©ng").

			Há»‡ Ä‘iá»u hÃ nh trong VM sáº½ nháº­n tÃ­n hiá»‡u vÃ  tá»± thá»±c hiá»‡n quÃ¡ trÃ¬nh shutdown an toÃ n:

				ÄÃ³ng á»©ng dá»¥ng.

				Ghi dá»¯ liá»‡u cÃ²n trong RAM xuá»‘ng Ä‘Ä©a.

				Sau Ä‘Ã³ táº¯t mÃ¡y.

			KhÃ¡c vá»›i Power Off

				ACPI Shutdown: Táº¯t an toÃ n, giá»‘ng nhÆ° báº¡n báº¥m nÃºt Shutdown trong Windows/Linux.

				Power Off (Hard Power Off): Táº¯t cá»©ng, giá»‘ng nhÆ° rÃºt dÃ¢y nguá»“n â†’ cÃ³ thá»ƒ gÃ¢y máº¥t dá»¯ liá»‡u hoáº·c há»ng
				file há»‡ thá»‘ng.
				
				
--- Linux:

	Command line:

		- cmd: cat /etc/os-release

# HÆ¯á»šNG DáºªN CHI TIáº¾T: `cat /etc/os-release`

TÃ i liá»‡u nÃ y gá»“m hai pháº§n:

1. **Giáº£i thÃ­ch chi tiáº¿t** vá» cÃ¡c biáº¿n thÆ°á»ng gáº·p trong `/etc/os-release` (Ä‘áº§y Ä‘á»§, dá»… hiá»ƒu).
2. **Má»™t khá»‘i plain-text sáºµn sÃ ng Ä‘á»ƒ copy** (máº«u). Báº¡n cÃ³ thá»ƒ **copy toÃ n bá»™** khá»‘i "Ná»™i dung plain-text" vÃ  dÃ¡n trá»±c tiáº¿p vÃ o má»™t file `.txt` hoáº·c `/etc/os-release` (vá»›i quyá»n root) náº¿u cáº§n.

---

## 1) Giáº£i thÃ­ch cÃ¡c trÆ°á»ng thÆ°á»ng gáº·p

* `NAME=`

  * TÃªn ngáº¯n gá»n cá»§a báº£n phÃ¢n phá»‘i (vÃ­ dá»¥: "Ubuntu", "Fedora", "Debian").
  * *VÃ­ dá»¥:* `NAME="Ubuntu"`

* `VERSION=`

  * TÃªn phiÃªn báº£n Ä‘áº§y Ä‘á»§ (cÃ³ thá»ƒ gá»“m sá»‘ phiÃªn báº£n vÃ  mÃ£). ThÆ°á»ng dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin cho ngÆ°á»i dÃ¹ng.
  * *VÃ­ dá»¥:* `VERSION="22.04.3 LTS (Jammy Jellyfish)"`

* `ID=`

  * ID Ä‘á»‹nh danh ngáº¯n (khÃ´ng cÃ³ dáº¥u cÃ¡ch, thÆ°á»ng viáº¿t thÆ°á»ng) dÃ¹ng cho script/so sÃ¡nh (vÃ­ dá»¥: `ubuntu`, `debian`, `fedora`).
  * *VÃ­ dá»¥:* `ID=ubuntu`

* `ID_LIKE=`

  * Danh sÃ¡ch cÃ¡c ID mÃ  báº£n phÃ¢n phá»‘i tÆ°Æ¡ng tá»± (dÃ¹ng Ä‘á»ƒ biáº¿t há»‡ thá»‘ng base). CÃ³ thá»ƒ cÃ³ nhiá»u giÃ¡ trá»‹, cÃ¡ch nhau bá»Ÿi khoáº£ng tráº¯ng.
  * *VÃ­ dá»¥:* `ID_LIKE=debian`

* `VERSION_ID=`

  * MÃ£ sá»‘ phiÃªn báº£n dáº¡ng ngáº¯n, thÆ°á»ng lÃ  sá»‘ (vÃ­ dá»¥: `22.04`, `11`, `38`). DÃ¹ng cho Ä‘iá»u kiá»‡n trong script.
  * *VÃ­ dá»¥:* `VERSION_ID="22.04"`

* `PRETTY_NAME=`

  * TÃªn phiÃªn báº£n Ä‘áº¹p, chá»©a cáº£ tÃªn báº£n phÃ¢n phá»‘i vÃ  phiÃªn báº£n, Ä‘á»ƒ hiá»ƒn thá»‹ trá»±c quan cho ngÆ°á»i dÃ¹ng.
  * *VÃ­ dá»¥:* `PRETTY_NAME="Ubuntu 22.04.3 LTS"`

* `ANSI_COLOR=`

  * (TÃ¹y chá»n) Chuá»—i mÃ£ ANSI Ä‘á»ƒ hiá»ƒn thá»‹ mÃ u trong má»™t sá»‘ giao diá»‡n (Ã­t dÃ¹ng á»Ÿ script). CÃ³ thá»ƒ bá»‹ thiáº¿u.
  * *VÃ­ dá»¥:* `ANSI_COLOR="0;34"`

* `HOME_URL=`

  * URL trang chá»§ chÃ­nh thá»©c cá»§a dá»± Ã¡n/báº£n phÃ¢n phá»‘i.
  * *VÃ­ dá»¥:* `HOME_URL="https://www.ubuntu.com/"`

* `SUPPORT_URL=`

  * URL trang há»— trá»£ chÃ­nh thá»©c (forum, help pages, docs).
  * *VÃ­ dá»¥:* `SUPPORT_URL="https://help.ubuntu.com/"`

* `BUG_REPORT_URL=`

  * URL nÆ¡i bÃ¡o lá»—i (bug tracker).
  * *VÃ­ dá»¥:* `BUG_REPORT_URL="https://bugs.launchpad.net/ubuntu/"`

* `PRIVACY_POLICY_URL=`

  * (KhÃ´ng báº¯t buá»™c) URL chÃ­nh sÃ¡ch báº£o máº­t.

* `BUILD_ID=`

  * (TÃ¹y báº£n phÃ¢n phá»‘i) ID build ná»™i bá»™, hiáº¿m khi cáº§n.

* `VARIANT=` / `VARIANT_ID=`

  * Náº¿u báº£n phÃ¢n phá»‘i cÃ³ nhiá»u biáº¿n thá»ƒ chÃ­nh (vÃ­ dá»¥: "Server", "Desktop"), trÆ°á»ng nÃ y mÃ´ táº£ biáº¿n thá»ƒ Ä‘Ã³.

* `VERSION_CODENAME=` / `UBUNTU_CODENAME=`

  * TÃªn mÃ£ (codename) cá»§a phiÃªn báº£n (vÃ­ dá»¥: `jammy`, `focal`, `buster`). ThÆ°á»ng dÃ¹ng trong quáº£n lÃ½ package hoáº·c tÃ i liá»‡u.

**Ghi chÃº quan trá»ng khi sá»­a `/etc/os-release`:**

* File lÃ  plain text vá»›i cÃ¡c dÃ²ng `KEY="value"` hoáº·c `KEY=value`.
* Náº¿u sá»­a, hÃ£y giá»¯ Ä‘Ãºng cÃº phÃ¡p vÃ  Ä‘áº£m báº£o má»—i chuá»—i cÃ³ dáº¥u ngoáº·c kÃ©p náº¿u chá»©a khoáº£ng tráº¯ng hoáº·c kÃ½ tá»± Ä‘áº·c biá»‡t.
* Viá»‡c chá»‰nh sá»­a cÃ³ thá»ƒ lÃ m thay Ä‘á»•i káº¿t quáº£ cá»§a script/á»©ng dá»¥ng phá»¥ thuá»™c vÃ o thÃ´ng tin há»‡ Ä‘iá»u hÃ nh. Chá»‰ chá»‰nh khi báº¡n biáº¿t tÃ¡c Ä‘á»™ng.
* Äá»ƒ ghi vÃ o `/etc/os-release`, cáº§n quyá»n root (vÃ­ dá»¥: dÃ¹ng `sudo tee /etc/os-release` hoáº·c `sudo nano /etc/os-release`).

---

## 2) **Ná»™i dung plain-text (MáºªU) â€” Copy toÃ n bá»™ khá»‘i nÃ y vÃ o file .txt**

```
NAME="Ubuntu"
VERSION="22.04.3 LTS (Jammy Jellyfish)"
ID=ubuntu
ID_LIKE=debian
PRETTY_NAME="Ubuntu 22.04.3 LTS"
VERSION_ID="22.04"
HOME_URL="https://www.ubuntu.com/"
SUPPORT_URL="https://help.ubuntu.com/"
BUG_REPORT_URL="https://bugs.launchpad.net/ubuntu/"
PRIVACY_POLICY_URL="https://www.ubuntu.com/legal/terms-and-policies/privacy-policy"
VERSION_CODENAME=jammy
ANSI_COLOR="0;34"

# Ghi chÃº:
# - Thay cÃ¡c giÃ¡ trá»‹ phÃ­a trÃªn báº±ng thÃ´ng tin tÆ°Æ¡ng á»©ng vá»›i há»‡ cá»§a báº¡n.
# - Náº¿u muá»‘n gÃµ vÃ o /etc/os-release, hÃ£y lÃ m viá»‡c dÆ°á»›i quyá»n root.
```

---

### HÆ°á»›ng dáº«n nhanh Ä‘á»ƒ dÃ¡n vÃ o file `/etc/os-release` (vÃ­ dá»¥ dÃ¹ng terminal):

1. Má»Ÿ terminal.
2. Cháº¡y (dÃ¡n toÃ n bá»™ khá»‘i trÃªn vÃ o lá»‡nh `sudo tee /etc/os-release`):

```sh
# DÃ¡n (paste) toÃ n bá»™ ná»™i dung máº«u rá»“i nháº¥n Ctrl-D Ä‘á»ƒ káº¿t thÃºc input
sudo tee /etc/os-release > /dev/null
```

3. Kiá»ƒm tra láº¡i báº±ng `cat /etc/os-release`.

---

Náº¿u báº¡n muá»‘n **má»™t máº«u phÃ¹ há»£p chÃ­nh xÃ¡c vá»›i báº£n phÃ¢n phá»‘i khÃ¡c** (Debian, Fedora, CentOS, Arch...), nÃ³i cho mÃ¬nh biáº¿t tÃªn báº£n phÃ¢n phá»‘i vÃ  mÃ¬nh sáº½ táº¡o máº«u tÆ°Æ¡ng á»©ng ngay láº­p tá»©c.


		- cmd: cd
		
			cd (khÃ´ng tham sá»‘) â†’ quay vá» thÆ° má»¥c home cá»§a user.
			
		- cmd: cd /tmp/
		
			/tmp/ cÃ³ dáº¥u / á»Ÿ Ä‘áº§u â†’ Ä‘Ã¢y lÃ  Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i.

			NghÄ©a lÃ : Ä‘i tháº³ng vÃ o thÆ° má»¥c /tmp náº±m á»Ÿ gá»‘c cá»§a há»‡ thá»‘ng (/).

			DÃ¹ báº¡n Ä‘ang Ä‘á»©ng á»Ÿ Ä‘Ã¢u thÃ¬ káº¿t quáº£ váº«n giá»‘ng nhau.		
		
		- cmd: 
		
# HÆ¯á»šNG DáºªN CHI TIáº¾T: `uptime`

TÃ i liá»‡u nÃ y gá»“m hai pháº§n:

1. **Giáº£i thÃ­ch chi tiáº¿t nháº¥t** vá» output cá»§a lá»‡nh `uptime` (má»—i pháº§n tá»«ng trÆ°á»ng, Ã½ nghÄ©a, cÃ¡ch Ä‘á»c).
2. **Má»™t khá»‘i plain-text sáºµn sÃ ng Ä‘á»ƒ copy** â€” copy nguyÃªn khá»‘i vÃ  dÃ¡n trá»±c tiáº¿p vÃ o file `.txt` hoáº·c lÆ°u vÃ o `/root` náº¿u cáº§n.

---

## 1) Tá»•ng quan

Lá»‡nh `uptime` hiá»ƒn thá»‹ nhanh tráº¡ng thÃ¡i thá»i gian hoáº¡t Ä‘á»™ng cá»§a há»‡ thá»‘ng vÃ  má»©c táº£i. ÄÃ¢y lÃ  thÃ´ng tin há»¯u Ã­ch Ä‘á»ƒ biáº¿t mÃ¡y Ä‘Ã£ cháº¡y bao lÃ¢u, cÃ³ bao nhiÃªu user Ä‘ang Ä‘Äƒng nháº­p, vÃ  táº£i há»‡ thá»‘ng trung bÃ¬nh trong cÃ¡c khoáº£ng thá»i gian khÃ¡c nhau.

CÃº phÃ¡p cÆ¡ báº£n:

```
uptime
```

Má»™t sá»‘ tÃ¹y chá»n thÆ°á»ng dÃ¹ng:

* `uptime -p` : in tráº¡ng thÃ¡i â€œupâ€ á»Ÿ dáº¡ng thÃ¢n thiá»‡n (vÃ­ dá»¥: "up 3 hours, 4 minutes").
* `uptime -s` : in thá»i Ä‘iá»ƒm há»‡ thá»‘ng khá»Ÿi Ä‘á»™ng (since) á»Ÿ Ä‘á»‹nh dáº¡ng ISO-like.
* `uptime -V` : in phiÃªn báº£n uptime (náº¿u cÃ³ há»— trá»£).

---

## 2) Giáº£i thÃ­ch chi tiáº¿t tá»«ng pháº§n cá»§a output

Giáº£ sá»­ output máº«u:

```
 18:12:03 up 3 days,  4:05,  2 users,  load average: 0.42, 0.31, 0.28
```

PhÃ¢n tÃ­ch tá»«ng pháº§n tá»« trÃ¡i sang pháº£i:

1. `18:12:03`

   * Thá»i gian hiá»‡n táº¡i trÃªn há»‡ thá»‘ng (HH:MM:SS). GiÃºp biáº¿t khi nÃ o lá»‡nh Ä‘Æ°á»£c cháº¡y.

2. `up 3 days,  4:05`

   * `up` theo sau lÃ  **thá»i gian há»‡ thá»‘ng Ä‘Ã£ hoáº¡t Ä‘á»™ng** (uptime). CÃ³ thá»ƒ cÃ³ cÃ¡c dáº¡ng sau:

     * `up 3 days, 4:05` : Ä‘Ã£ cháº¡y Ä‘Æ°á»£c 3 ngÃ y vÃ  4 giá» 5 phÃºt.
     * `up 4:05` : náº¿u < 1 ngÃ y, hiá»ƒn thá»‹ giá»:phÃºt.
     * `up 1 min` / `up 5 mins` : náº¿u < 1 giá», hiá»ƒn thá»‹ phÃºt.
   * LÆ°u Ã½: dáº¥u pháº©y vÃ  khoáº£ng tráº¯ng cÃ³ thá»ƒ thay Ä‘á»•i tÃ¹y phiÃªn báº£n/system locale.

3. `2 users`

   * Sá»‘ user hiá»‡n Ä‘ang Ä‘Äƒng nháº­p vÃ o há»‡ thá»‘ng. ÄÃ¢y lÃ  sá»‘ tÃ i khoáº£n user cÃ³ cÃ¡c phiÃªn Ä‘Äƒng nháº­p (local hoáº·c remote).

4. `load average: 0.42, 0.31, 0.28`

   * **Load average** gá»“m 3 giÃ¡ trá»‹:

     * GiÃ¡ trá»‹ trung bÃ¬nh 1 phÃºt (0.42)
     * GiÃ¡ trá»‹ trung bÃ¬nh 5 phÃºt (0.31)
     * GiÃ¡ trá»‹ trung bÃ¬nh 15 phÃºt (0.28)
   * Ã nghÄ©a: Ä‘o lÆ°á»ng sá»‘ tiáº¿n trÃ¬nh Ä‘ang cháº¡y hoáº·c chá» CPU/IO trung bÃ¬nh trong khoáº£ng thá»i gian tÆ°Æ¡ng á»©ng. KhÃ´ng pháº£i pháº§n trÄƒm CPU.
   * CÃ¡ch Ä‘á»c Ä‘Æ¡n giáº£n:

     * Náº¿u load average â‰ˆ 1.0 trÃªn há»‡ thá»‘ng 1 lÃµi => CPU gáº§n nhÆ° Ä‘áº§y táº£i (100%).
     * TrÃªn há»‡ thá»‘ng nhiá»u lÃµi, so sÃ¡nh vá»›i sá»‘ lÃµi (vÃ­ dá»¥ 4 lÃµi => threshold xáº¥p xá»‰ 4.0). Náº¿u load >> sá»‘ lÃµi, há»‡ thá»‘ng cÃ³ thá»ƒ quÃ¡ táº£i.
   * Load average cao nhÆ°ng CPU tháº¥p cÃ³ thá»ƒ do IO-bound (chá» Ä‘Ä©a) hoáº·c nhiá»u tiáº¿n trÃ¬nh chá».

---

## 3) VÃ­ dá»¥ thá»±c táº¿ vÃ  cÃ¡ch dÃ¹ng

* Xem uptime cÆ¡ báº£n:

```
uptime
```

* Xem á»Ÿ dáº¡ng thÃ¢n thiá»‡n (Ä‘Ã£ cháº¡y bao lÃ¢u):

```
uptime -p
# Output vÃ­ dá»¥: up 3 days, 4 hours, 5 minutes
```

* Xem thá»i Ä‘iá»ƒm khá»Ÿi Ä‘á»™ng há»‡ thá»‘ng:

```
uptime -s
# Output vÃ­ dá»¥: 2025-10-28 14:07:21
```

---

## 4) Khi nÃ o cáº§n quan tÃ¢m Ä‘áº¿n uptime / load average?

* **Báº£o trÃ¬**: Biáº¿t mÃ¡y Ä‘Ã£ cháº¡y bao lÃ¢u Ä‘á»ƒ quyáº¿t Ä‘á»‹nh reboot theo lá»‹ch.
* **Hiá»‡u nÄƒng**: So sÃ¡nh load average vá»›i sá»‘ lÃµi CPU Ä‘á»ƒ phÃ¡t hiá»‡n quÃ¡ táº£i.
* **Äiá»u tra sá»± cá»‘**: Káº¿t há»£p vá»›i `top`, `htop`, `iostat`, `vmstat` Ä‘á»ƒ tÃ¬m nguyÃªn nhÃ¢n load cao (CPU-bound vs IO-bound).

---

## 5) Ná»™i dung plain-text (MáºªU) â€” Copy toÃ n bá»™ khá»‘i nÃ y vÃ o file .txt

```
# uptime - giáº£i thÃ­ch chi tiáº¿t
# Máº«u output vÃ  Ã½ nghÄ©a:
# VÃ­ dá»¥ output:
#   18:12:03 up 3 days,  4:05,  2 users,  load average: 0.42, 0.31, 0.28
# Giáº£i thÃ­ch:
# - 18:12:03 : thá»i gian hiá»‡n táº¡i khi cháº¡y lá»‡nh
# - up 3 days, 4:05 : há»‡ thá»‘ng Ä‘Ã£ cháº¡y Ä‘Æ°á»£c 3 ngÃ y vÃ  4 giá» 5 phÃºt
# - 2 users : cÃ³ 2 user Ä‘ang Ä‘Äƒng nháº­p
# - load average: 0.42, 0.31, 0.28 : táº£i trung bÃ¬nh 1,5,15 phÃºt

# CÃ¡ch dÃ¹ng cÆ¡ báº£n:
#   uptime
#   uptime -p    -> hiá»ƒn thá»‹ dáº¡ng thÃ¢n thiá»‡n (vÃ­ dá»¥: up 3 hours, 4 minutes)
#   uptime -s    -> hiá»ƒn thá»‹ thá»i Ä‘iá»ƒm há»‡ thá»‘ng khá»Ÿi Ä‘á»™ng
# LÆ°u Ã½ khi Ä‘á»c load average:
# - So sÃ¡nh vá»›i sá»‘ lÃµi CPU: load ~ sá»‘ lÃµi => CPU gáº§n 100% sá»­ dá»¥ng
# - Load cao cÃ³ thá»ƒ do CPU hoáº·c IO; dÃ¹ng top/htop/iostat Ä‘á»ƒ phÃ¢n tÃ­ch thÃªm

# Äá»ƒ lÆ°u block nÃ y vÃ o file (vÃ­ dá»¥ /home/user/uptime-explanation.txt):
# 1) DÃ¡n ná»™i dung vÃ o file báº±ng echo/tee:
#    cat > /home/$USER/uptime-explanation.txt <<'EOF'
#    (dÃ¡n toÃ n bá»™ ná»™i dung á»Ÿ trÃªn Ä‘Ã¢y)
#    EOF
# 2) Hoáº·c dÃ¹ng sudo tee Ä‘á»ƒ ghi vÃ o vá»‹ trÃ­ cáº§n quyá»n root:
#    sudo tee /etc/uptime-explanation.txt > /dev/null
```

---

### HÃ£y má»Ÿ pane "canvas" bÃªn cáº¡nh vÃ  nháº¥n **Copy** Ä‘á»ƒ láº¥y toÃ n bá»™ ná»™i dung plain-text. Náº¿u báº¡n muá»‘n máº«u rÃºt gá»n, phiÃªn báº£n báº±ng tiáº¿ng Anh, hoáº·c phiÃªn báº£n chá»‰ chá»©a cÃ¡c lá»‡nh chÃ©p sáºµn Ä‘á»ƒ cháº¡y trÃªn nhiá»u mÃ¡y (script), mÃ¬nh sáº½ cáº­p nháº­t ngay.


		- cmd: free -m

# HÆ¯á»šNG DáºªN CHI TIáº¾T: `free -m`

TÃ i liá»‡u nÃ y Ä‘Æ°á»£c chia lÃ m 2 pháº§n chÃ­nh:

1. **Giáº£i thÃ­ch chi tiáº¿t nháº¥t** vá» cÃ¡c cá»™t vÃ  Ã½ nghÄ©a trong output cá»§a `free -m`.
2. **Khá»‘i plain-text sáºµn sÃ ng Ä‘á»ƒ copy** â€” copy nguyÃªn khá»‘i nÃ y vÃ  dÃ¡n trá»±c tiáº¿p vÃ o file `.txt` hoáº·c lÆ°u láº¡i.

---

## 1) Má»¥c Ä‘Ã­ch cá»§a `free -m`

Lá»‡nh `free` hiá»ƒn thá»‹ thÃ´ng tin vá» bá»™ nhá»› RAM vÃ  swap trÃªn há»‡ thá»‘ng. Tham sá»‘ `-m` chuyá»ƒn cÃ¡c giÃ¡ trá»‹ sang Ä‘Æ¡n vá»‹ **megabyte (MB)** Ä‘á»ƒ dá»… Ä‘á»c.

CÃº phÃ¡p cÆ¡ báº£n:

```
free -m
```

Báº¡n cÅ©ng cÃ³ thá»ƒ dÃ¹ng:

* `free -h` : hiá»ƒn thá»‹ á»Ÿ dáº¡ng "human-readable" (KB/MB/GB tá»± chá»n).
* `free -b` / `-k` / `-g` : hiá»ƒn thá»‹ theo byte / KB / GB.

---

## 2) VÃ­ dá»¥ output máº«u vÃ  giáº£i thÃ­ch tá»«ng trÆ°á»ng

Giáº£ sá»­ output:

```
              total        used        free      shared  buff/cache   available
Mem:           7872        3120         456         120        4296        4300
Swap:          2048           0        2048
```

PhÃ¢n tÃ­ch tá»«ng cá»™t (theo hÃ ng Mem vÃ  Swap):

### HÃ ng tiÃªu Ä‘á» (cÃ¡c cá»™t):

* `total` : Tá»•ng dung lÆ°á»£ng (MB) cá»§a RAM hoáº·c swap.
* `used`  : Dung lÆ°á»£ng Ä‘ang Ä‘Æ°á»£c sá»­ dá»¥ng (MB). **ChÃº Ã½:** cÃ¡ch hiá»ƒn thá»‹ `used` phá»¥ thuá»™c vÃ o phiÃªn báº£n `free` â€” phiÃªn báº£n má»›i tÃ­nh `used = total - available` (tá»©c lÃ  loáº¡i trá»« buff/cache), phiÃªn báº£n cÅ© tÃ­nh `used = total - free`.
* `free`  : Dung lÆ°á»£ng hoÃ n toÃ n ráº£nh (khÃ´ng dÃ¹ng bá»Ÿi tiáº¿n trÃ¬nh, buffers hay cache).
* `shared` : Dung lÆ°á»£ng dÃ¹ng chung giá»¯a cÃ¡c tiáº¿n trÃ¬nh (thÆ°á»ng liÃªn quan Ä‘áº¿n tmpfs, shm). GiÃ¡ trá»‹ nÃ y khÃ´ng pháº£i lÃºc nÃ o cÅ©ng lá»›n hoáº·c quan trá»ng.
* `buff/cache` : Bá»™ nhá»› Ä‘ang Ä‘Æ°á»£c dÃ¹ng lÃ m buffer hoáº·c cache (cÃ³ thá»ƒ giáº£i phÃ³ng khi cáº§n cho tiáº¿n trÃ¬nh khÃ¡c). ÄÃ¢y lÃ  pháº§n RAM mÃ  kernel giá»¯ Ä‘á»ƒ tÄƒng hiá»‡u nÄƒng I/O.
* `available` : Æ¯á»›c tÃ­nh lÆ°á»£ng bá»™ nhá»› cÃ³ thá»ƒ sá»­ dá»¥ng cho tiáº¿n trÃ¬nh má»›i mÃ  khÃ´ng pháº£i swap (tá»‘t Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ thá»±c táº¿ cÃ²n bao nhiÃªu RAM cÃ³ sáºµn). ÄÃ¢y lÃ  cá»™t quan trá»ng nháº¥t Ä‘á»ƒ quyáº¿t Ä‘á»‹nh cÃ³ cÃ²n bá»™ nhá»› dÃ¹ng Ä‘Æ°á»£c hay khÃ´ng.

### HÃ ng Mem:

* `Mem:` lÃ  tÃ¬nh tráº¡ng RAM váº­t lÃ½.

  * `total`: tá»•ng RAM
  * `used`: bá»™ nhá»› Ä‘ang Ä‘Æ°á»£c sá»­ dá»¥ng (xem lÆ°u Ã½ vá» cÃ¡c phiÃªn báº£n)
  * `free`: RAM trá»‘ng hoÃ n toÃ n
  * `shared`: bá»™ nhá»› chia sáº»
  * `buff/cache`: bá»™ nhá»› dÃ¹ng cho buffer/cache
  * `available`: bá»™ nhá»› sáºµn cÃ³ cho á»©ng dá»¥ng má»›i

**LÆ°u Ã½ quan trá»ng:** Linux sá»­ dá»¥ng bá»™ nhá»› Ä‘á»ƒ cache file Ä‘á»ƒ tÄƒng tá»‘c Ä‘á»™ â€” Ä‘iá»u nÃ y lÃ m cho `used` thÆ°á»ng cÃ³ váº» cao, nhÆ°ng pháº§n `buff/cache` cÃ³ thá»ƒ Ä‘Æ°á»£c giáº£i phÃ³ng ngay láº­p tá»©c khi á»©ng dá»¥ng cáº§n. VÃ¬ váº­y, thay vÃ¬ chá»‰ nhÃ¬n `used`, hÃ£y táº­p trung vÃ o `available` hoáº·c `free + buff/cache` Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ dung lÆ°á»£ng tháº­t sá»± cÃ³ thá»ƒ dÃ¹ng.

### HÃ ng Swap:

* `Swap:` hiá»ƒn thá»‹ swap tá»•ng, swap Ä‘Ã£ dÃ¹ng, vÃ  swap cÃ²n trá»‘ng.

  * Náº¿u `used` > 0 trÃªn swap => há»‡ thá»‘ng Ä‘Ã£ báº¯t Ä‘áº§u swap, cÃ³ thá»ƒ cÃ³ memory pressure hoáº·c nhiá»u tiáº¿n trÃ¬nh cáº§n RAM.
  * Swap khÃ´ng pháº£i luÃ´n lÃ  xáº¥u (há»‡ Ä‘iá»u hÃ nh cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ giá»¯ dá»¯ liá»‡u Ã­t truy cáº­p), nhÆ°ng swap nhiá»u vÃ  liÃªn tá»¥c cÃ³ thá»ƒ lÃ m cháº­m há»‡ thá»‘ng.

---

## 3) CÃ¡ch Ä‘á»c vÃ  cÃ¡ch xá»­ lÃ½ khi tháº¥y váº¥n Ä‘á»

* **Náº¿u `available` tháº¥p (vÃ­ dá»¥ < 5-10% tá»•ng RAM)**:

  * Kiá»ƒm tra tiáº¿n trÃ¬nh tiÃªu thá»¥ RAM: `ps aux --sort=-%mem | head` hoáº·c `top` / `htop`.
  * Kiá»ƒm tra swap: `swapon --show` vÃ  `free -m`.
  * Náº¿u cáº§n, khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥ chiáº¿m nhiá»u RAM hoáº·c tÄƒng swap/RAM.

* **Náº¿u `buff/cache` cao nhÆ°ng `available` váº«n lá»›n**: khÃ´ng cáº§n lo, kernel dÃ¹ng bá»™ nhá»› Ä‘á»ƒ cache file â€” Ä‘Ã¢y lÃ  hÃ nh vi bÃ¬nh thÆ°á»ng vÃ  cÃ³ lá»£i.

* **Náº¿u swap used > 0 vÃ  há»‡ thá»‘ng cháº­m**:

  * CÃ¢n nháº¯c tÄƒng RAM hoáº·c cáº¥u hÃ¬nh `swappiness` tháº¥p hÆ¡n (vÃ­ dá»¥ `sysctl vm.swappiness=10`).
  * XÃ¡c Ä‘á»‹nh tiáº¿n trÃ¬nh gÃ¢y memory leak.

---

## 4) Má»™t sá»‘ lá»‡nh há»¯u Ã­ch liÃªn quan

* Xem memory realtime: `top` / `htop`
* Xem bá»™ nhá»› theo process: `ps aux --sort=-%mem | less`
* Xem swap devices vÃ  usage: `swapon --show` hoáº·c `cat /proc/swaps`
* Äiá»u chá»‰nh swappiness táº¡m thá»i: `sudo sysctl vm.swappiness=10`
* Kiá»ƒm tra thá»‘ng kÃª kernel memory: `vmstat 1 5`

---

## 5) Ná»™i dung plain-text (MáºªU) â€” Copy toÃ n bá»™ khá»‘i nÃ y vÃ o file .txt

```
# free -m - giáº£i thÃ­ch chi tiáº¿t
# Máº«u output (giÃ¡ trá»‹ lÃ  MB):
#               total   used   free  shared  buff/cache  available
# Mem:           7872   3120    456     120       4296       4300
# Swap:          2048      0   2048
# Giáº£i thÃ­ch:
# - total: tá»•ng dung lÆ°á»£ng RAM/Swap
# - used: dung lÆ°á»£ng Ä‘ang dÃ¹ng (phiÃªn báº£n free má»›i tÃ­nh khÃ¡c biá»‡t vá»›i phiÃªn báº£n cÅ©)
# - free: dung lÆ°á»£ng hoÃ n toÃ n ráº£nh
# - shared: bá»™ nhá»› chia sáº» (tmpfs/shm)
# - buff/cache: bá»™ nhá»› kernel dÃ¹ng cho buffer vÃ  cache (cÃ³ thá»ƒ giáº£i phÃ³ng khi cáº§n)
# - available: Æ°á»›c tÃ­nh bá»™ nhá»› cÃ³ thá»ƒ dÃ¹ng cho tiáº¿n trÃ¬nh má»›i mÃ  khÃ´ng swap
# LÆ°u Ã½: táº­p trung vÃ o cá»™t 'available' Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ bá»™ nhá»› cÃ²n thá»±c sá»± dÃ¹ng Ä‘Æ°á»£c.

# VÃ­ dá»¥ lá»‡nh Ä‘á»ƒ kiá»ƒm tra process chiáº¿m nhiá»u RAM:
# ps aux --sort=-%mem | head -n 10

# Äá»ƒ lÆ°u khá»‘i nÃ y vÃ o file /home/$USER/free-m-explanation.txt:
# cat > /home/$USER/free-m-explanation.txt <<'EOF'
# (dÃ¡n toÃ n bá»™ ná»™i dung plain-text nÃ y vÃ o giá»¯a)
# EOF
```

---

Má»Ÿ pane "canvas" bÃªn cáº¡nh vÃ  nháº¥n **Copy** Ä‘á»ƒ láº¥y toÃ n bá»™ ná»™i dung plain-text. Náº¿u báº¡n muá»‘n phiÃªn báº£n rÃºt gá»n, báº£n tiáº¿ng Anh, hoáº·c má»™t script tá»± Ä‘á»™ng thu tháº­p `free -m` tá»« nhiá»u mÃ¡y, mÃ¬nh sáº½ táº¡o thÃªm ngay.


		- cmd: mkdir ops bakupdir
		
			mkdir = make directory, dÃ¹ng Ä‘á»ƒ táº¡o thÆ° má»¥c má»›i.

				ops = tÃªn thÆ° má»¥c thá»© nháº¥t báº¡n muá»‘n táº¡o.

				bakupdir = tÃªn thÆ° má»¥c thá»© hai báº¡n muá»‘n táº¡o.
				
			Khi viáº¿t hai tÃªn thÆ° má»¥c nhÆ° váº­y, mkdir sáº½ táº¡o cÃ¹ng lÃºc 2 thÆ° má»¥c trong thÆ° má»¥c hiá»‡n táº¡i	
		
		- cmd: touch devopsfile{1..10}.txt

# HÆ¯á»šNG DáºªN CHI TIáº¾T: `touch devopsfile{1..10}.txt`

TÃ i liá»‡u nÃ y gá»“m hai pháº§n:

1. **Giáº£i thÃ­ch chi tiáº¿t nháº¥t** vá» tá»«ng thÃ nh pháº§n cá»§a lá»‡nh `touch devopsfile{1..10}.txt` (cÆ¡ cháº¿, hÃ nh vi, vÃ  lÆ°u Ã½ khi dÃ¹ng).
2. **Khá»‘i plain-text sáºµn sÃ ng Ä‘á»ƒ copy** â€” copy nguyÃªn khá»‘i vÃ  dÃ¡n trá»±c tiáº¿p vÃ o file `.txt` theo yÃªu cáº§u.

---

## 1) Má»¥c Ä‘Ã­ch tá»•ng quÃ¡t

Lá»‡nh `touch devopsfile{1..10}.txt` thÆ°á»ng Ä‘Æ°á»£c dÃ¹ng trong shell (bash, zsh) Ä‘á»ƒ **táº¡o nhanh nhiá»u file trá»‘ng** cÃ³ tÃªn theo dáº¡ng `devopsfile1.txt`, `devopsfile2.txt`, ..., `devopsfile10.txt`. Náº¿u file Ä‘Ã£ tá»“n táº¡i thÃ¬ `touch` chá»‰ cáº­p nháº­t timestamp (thá»i gian truy cáº­p/ sá»­a Ä‘á»•i) mÃ  khÃ´ng thay Ä‘á»•i ná»™i dung.

### ThÃ nh pháº§n cá»§a lá»‡nh

* `touch` : lá»‡nh Unix dÃ¹ng Ä‘á»ƒ táº¡o file rá»—ng má»›i (náº¿u file khÃ´ng tá»“n táº¡i) hoáº·c cáº­p nháº­t cÃ¡c thá»i gian (access/modify) náº¿u file Ä‘Ã£ tá»“n táº¡i. Tham sá»‘ phá»• biáº¿n:

  * `-c` hoáº·c `--no-create` : khÃ´ng táº¡o file náº¿u chÆ°a tá»“n táº¡i.
  * `-a` : chá»‰ cáº­p nháº­t thá»i gian truy cáº­p.
  * `-m` : chá»‰ cáº­p nháº­t thá»i gian sá»­a Ä‘á»•i.
  * `-t [[CC]YY]MMDDhhmm[.ss]` : chá»‰ Ä‘á»‹nh thá»i gian cá»¥ thá»ƒ.

* `devopsfile{1..10}.txt` : sá»­ dá»¥ng **brace expansion** cá»§a shell Ä‘á»ƒ má»Ÿ rá»™ng thÃ nh danh sÃ¡ch tÃªn file:

  * `{1..10}` Ä‘Æ°á»£c má»Ÿ rá»™ng thÃ nh `1 2 3 4 5 6 7 8 9 10` trÆ°á»›c khi lá»‡nh `touch` Ä‘Æ°á»£c thá»±c thi.
  * Káº¿t quáº£ thá»±c thi tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i: `touch devopsfile1.txt devopsfile2.txt ... devopsfile10.txt`.

### VÃ i Ä‘iá»ƒm quan trá»ng vá» brace expansion

* Brace expansion lÃ  tÃ­nh nÄƒng cá»§a shell (vÃ­ dá»¥ bash, zsh). KhÃ´ng pháº£i lÃ  globbing (khÃ´ng dÃ¹ng kÃ½ tá»± `*`, `?`), mÃ  lÃ  **táº¡o ra cÃ¡c chuá»—i má»›i**.
* KhÃ´ng yÃªu cáº§u dáº¥u cÃ¡ch sau dáº¥u ngoáº·c nhá»n.
* CÃ³ thá»ƒ má»Ÿ rá»™ng chá»¯ (vÃ­ dá»¥ `file{a,b,c}` -> filea fileb filec) hoáº·c sá»‘ vá»›i bÆ°á»›c tÄƒng/giáº£m (vÃ­ dá»¥ `file{1..5..2}` -> 1,3,5 trong má»™t sá»‘ shell), nhÆ°ng bÆ°á»›c (`..step`) khÃ´ng pháº£i lÃºc nÃ o cÅ©ng Ä‘Æ°á»£c há»— trá»£ bá»Ÿi má»i shell phiÃªn báº£n cÅ©.
* Brace expansion xáº£y ra **trÆ°á»›c** pathname expansion (globbing) vÃ  trÆ°á»›c wildcard expansion.

### TÆ°Æ¡ng tÃ¡c vá»›i `touch` náº¿u file Ä‘Ã£ tá»“n táº¡i

* Náº¿u má»™t file trong danh sÃ¡ch Ä‘Ã£ tá»“n táº¡i, `touch` sáº½ cáº­p nháº­t timestamp (atime/mtime) cá»§a file Ä‘Ã³, khÃ´ng ghi Ä‘Ã¨ ná»™i dung.
* Náº¿u báº¡n khÃ´ng muá»‘n táº¡o má»›i (chá»‰ cáº­p nháº­t náº¿u Ä‘Ã£ tá»“n táº¡i), dÃ¹ng `touch -c`.

---

## 2) VÃ­ dá»¥ vÃ  biáº¿n thá»ƒ thá»±c táº¿

1. Táº¡o 10 file trá»‘ng (lá»‡nh gá»‘c):

   ```bash
   touch devopsfile{1..10}.txt
   ```

   -> táº¡o `devopsfile1.txt` Ä‘áº¿n `devopsfile10.txt` náº¿u chÆ°a tá»“n táº¡i.

2. Táº¡o file vá»›i padding sá»‘ (thÆ°á»ng dÃ¹ng Ä‘á»ƒ sáº¯p xáº¿p):

   ```bash
   touch devopsfile{01..10}.txt
   ```

   -> `devopsfile01.txt` ... `devopsfile10.txt`

3. Táº¡o tá»« 10 giáº£m Ä‘áº¿n 1 (náº¿u shell há»— trá»£):

   ```bash
   touch devopsfile{10..1}  # Má»™t sá»‘ shell há»— trá»£ giáº£m dáº§n
   ```

4. DÃ¹ng step (náº¿u shell há»— trá»£):

   ```bash
   touch devopsfile{1..10..2}.txt  # táº¡o 1,3,5,7,9
   ```

5. Káº¿t há»£p nhiá»u pháº§n má»Ÿ rá»™ng:

   ```bash
   touch {dev,prod}_config_{a,b,c}.yaml
   ```

   -> dev_config_a.yaml dev_config_b.yaml ... prod_config_c.yaml

6. KhÃ´ng pháº£i shell há»— trá»£ brace expansion

   * Náº¿u báº¡n cháº¡y trong `sh` cá»• Ä‘iá»ƒn (khÃ´ng pháº£i bash) hoáº·c trong má»™t mÃ´i trÆ°á»ng khÃ´ng há»— trá»£, brace expansion cÃ³ thá»ƒ khÃ´ng hoáº¡t Ä‘á»™ng. Khi Ä‘Ã³ báº¡n cáº§n dÃ¹ng vÃ²ng láº·p:

   ```bash
   for i in $(seq 1 10); do touch "devopsfile${i}.txt"; done
   ```

---

## 3) Quyá»n vÃ  an toÃ n

* `touch` cáº§n quyá»n ghi vÃ o thÆ° má»¥c hiá»‡n táº¡i Ä‘á»ƒ táº¡o file. Náº¿u khÃ´ng Ä‘á»§ quyá»n, báº¡n sáº½ tháº¥y lá»—i `touch: cannot touch '...': Permission denied`.
* TrÃ¡nh cháº¡y lá»‡nh vá»›i `sudo` náº¿u khÃ´ng cáº§n thiáº¿t; náº¿u cáº§n táº¡o file trong thÆ° má»¥c há»‡ thá»‘ng (vÃ­ dá»¥ `/etc`), dÃ¹ng `sudo touch` hoáº·c thá»±c hiá»‡n dÆ°á»›i user cÃ³ quyá»n.
* Náº¿u tÃªn file do user nháº­p vÃ o (tá»« web form, script), hÃ£y kiá»ƒm tra/escape Ä‘á»ƒ trÃ¡nh injection (vÃ­ dá»¥ `devopsfile$(rm -rf /).txt`). Brace expansion khÃ´ng ngÄƒn cháº·n chuá»—i nguy hiá»ƒm náº¿u tÃªn chá»©a kÃ½ tá»± Ä‘áº·c biá»‡t â€” hÃ£y dÃ¹ng quote náº¿u tÃªn chá»©a kÃ½ tá»± Ä‘áº·c biá»‡t.

---

## 4) Ná»™i dung plain-text (MáºªU) â€” Copy toÃ n bá»™ khá»‘i nÃ y vÃ o file .txt

```
# HÆ¯á»šNG DáºªN: touch devopsfile{1..10}.txt
# Má»¥c Ä‘Ã­ch:
# - Táº¡o 10 file trá»‘ng: devopsfile1.txt ... devopsfile10.txt
# CÃº phÃ¡p vÃ­ dá»¥:
#   touch devopsfile{1..10}.txt
# Giáº£i thÃ­ch:
# - 'touch' táº¡o file rá»—ng hoáº·c cáº­p nháº­t timestamp náº¿u file tá»“n táº¡i
# - '{1..10}' lÃ  brace expansion cá»§a shell, Ä‘Æ°á»£c má»Ÿ rá»™ng thÃ nh 1 2 ... 10
# LÆ°u Ã½:
# - Brace expansion lÃ  tÃ­nh nÄƒng cá»§a bash/zsh; trong sh cá»•, cÃ³ thá»ƒ khÃ´ng hoáº¡t Ä‘á»™ng
# - Äá»ƒ khÃ´ng táº¡o file má»›i (chá»‰ cáº­p nháº­t náº¿u Ä‘Ã£ tá»“n táº¡i), dÃ¹ng: touch -c devopsfile{1..10}.txt
# - Äá»ƒ cÃ³ sá»‘ cÃ³ padding (01..10): touch devopsfile{01..10}.txt
# - Náº¿u cáº§n bÆ°á»›c nháº£y (n..m..step) cÃ³ thá»ƒ dÃ¹ng: touch devopsfile{1..10..2}.txt (náº¿u shell há»— trá»£)
# - Äá»ƒ cháº¡y an toÃ n vá»›i tÃªn tá»« input, hÃ£y validate/escape input

# VÃ­ dá»¥ thay tháº¿ náº¿u khÃ´ng cÃ³ brace expansion:
# for i in $(seq 1 10); do touch "devopsfile${i}.txt"; done
```

---

Má»Ÿ panel "canvas" bÃªn cáº¡nh vÃ  nháº¥n **Copy** Ä‘á»ƒ láº¥y toÃ n bá»™ ná»™i dung plain-text. Náº¿u báº¡n muá»‘n phiÃªn báº£n rÃºt gá»n hÆ¡n, báº£n tiáº¿ng Anh, hoáº·c má»™t script shell tá»± Ä‘á»™ng táº¡o file cÃ³ ná»™i dung máº«u (vÃ­ dá»¥ header), mÃ¬nh sáº½ cáº­p nháº­t ngay.


		- cmd: cp devopsfile1.txt dev/

# HÆ¯á»šNG DáºªN CHI TIáº¾T: `cp devopsfile1.txt dev/`

TÃ i liá»‡u nÃ y gá»“m hai pháº§n:

1. **Giáº£i thÃ­ch chi tiáº¿t nháº¥t** vá» hÃ nh vi cá»§a lá»‡nh `cp devopsfile1.txt dev/` â€” tá»«ng thÃ nh pháº§n, cÃ¡c trÆ°á»ng há»£p khÃ¡c nhau, vÃ  lÆ°u Ã½.
2. **Khá»‘i plain-text sáºµn sÃ ng Ä‘á»ƒ copy** â€” copy nguyÃªn khá»‘i nÃ y vÃ  dÃ¡n trá»±c tiáº¿p vÃ o file `.txt` hoáº·c lÆ°u láº¡i.

---

## 1) Tá»•ng quan ngáº¯n

Lá»‡nh `cp` (copy) dÃ¹ng Ä‘á»ƒ sao chÃ©p file hoáº·c thÆ° má»¥c. CÃ¢u lá»‡nh cá»¥ thá»ƒ `cp devopsfile1.txt dev/` cÃ³ Ã½ nghÄ©a: **sao chÃ©p file `devopsfile1.txt` vÃ o thÆ° má»¥c `dev/`** (náº¿u `dev/` tá»“n táº¡i vÃ  lÃ  thÆ° má»¥c). Káº¿t quáº£ lÃ  trong thÆ° má»¥c `dev/` sáº½ xuáº¥t hiá»‡n má»™t file má»›i cÃ³ tÃªn `devopsfile1.txt` (cÃ¹ng ná»™i dung vá»›i file nguá»“n).

---

## 2) PhÃ¢n tÃ­ch chi tiáº¿t tá»«ng thÃ nh pháº§n

* `cp` : chÆ°Æ¡ng trÃ¬nh copy (GNU coreutils).
* `devopsfile1.txt` : Ä‘Æ°á»ng dáº«n tá»›i file nguá»“n (source). CÃ³ thá»ƒ lÃ  Ä‘Æ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i hoáº·c tuyá»‡t Ä‘á»‘i.
* `dev/` : Ä‘Æ°á»ng dáº«n Ä‘Ã­ch (destination). Dáº¥u slash `/` á»Ÿ cuá»‘i thÆ°á»ng chá»‰ rÃµ Ä‘Ã¢y lÃ  thÆ° má»¥c; tuy nhiÃªn `cp` khÃ´ng báº¯t buá»™c pháº£i cÃ³ dáº¥u `/` náº¿u `dev` Ä‘Ã£ lÃ  thÆ° má»¥c.

---

## 3) CÃ¡c tÃ¬nh huá»‘ng/ trÆ°á»ng há»£p cáº§n biáº¿t

1. **TrÆ°á»ng há»£p 1 â€” `dev/` tá»“n táº¡i vÃ  lÃ  thÆ° má»¥c**

   * HÃ nh vi: `devopsfile1.txt` sáº½ Ä‘Æ°á»£c sao chÃ©p vÃ o `dev/` vá»›i tÃªn giá»¯ nguyÃªn: `dev/devopsfile1.txt`.
   * Náº¿u trong `dev/` Ä‘Ã£ cÃ³ `devopsfile1.txt`, file Ä‘Ã­ch **sáº½ bá»‹ ghi Ä‘Ã¨** (overwrite) mÃ  khÃ´ng há»i, trá»« khi báº¡n dÃ¹ng tÃ¹y chá»n nhÆ° `-i` (interactive).

2. **TrÆ°á»ng há»£p 2 â€” `dev/` khÃ´ng tá»“n táº¡i**

   * Náº¿u `dev/` khÃ´ng tá»“n táº¡i vÃ  báº¡n cháº¡y `cp devopsfile1.txt dev/` (vá»›i má»™t file nguá»“n duy nháº¥t), `cp` sáº½ **táº¡o má»™t file cÃ³ tÃªn `dev`** trong thÆ° má»¥c hiá»‡n táº¡i â€” nghÄ©a lÃ  nÃ³ coi `dev` nhÆ° tÃªn file Ä‘Ã­ch, khÃ´ng pháº£i thÆ° má»¥c. Káº¿t quáº£: báº¡n sáº½ cÃ³ file `./dev` (khÃ´ng pháº£i thÆ° má»¥c). VÃ¬ váº­y náº¿u báº¡n muá»‘n cháº¯c cháº¯n sao chÃ©p vÃ o thÆ° má»¥c `dev/`, hÃ£y Ä‘áº£m báº£o thÆ° má»¥c tá»“n táº¡i (vd. `mkdir -p dev`) hoáº·c cÃ³ dáº¥u slash thá»±c sá»± khÃ´ng báº£o Ä‘áº£m an toÃ n náº¿u thÆ° má»¥c chÆ°a tá»“n táº¡i.

3. **TrÆ°á»ng há»£p 3 â€” Sao chÃ©p nhiá»u file**

   * Náº¿u báº¡n cháº¡y `cp file1 file2 file3 dest/`, thÃ¬ `dest/` **pháº£i lÃ  thÆ° má»¥c tá»“n táº¡i**, náº¿u khÃ´ng `cp` sáº½ bÃ¡o lá»—i: "target 'dest/' is not a directory".

4. **Quyá»n (permissions)**

   * Äá»ƒ táº¡o file trong `dev/` hoáº·c ghi Ä‘Ã¨ file trong Ä‘Ã³, báº¡n cáº§n cÃ³ quyá»n ghi (write) vÃ o thÆ° má»¥c `dev/`. Náº¿u khÃ´ng, sáº½ nháº­n lá»—i `Permission denied`.
   * Náº¿u cáº§n, dÃ¹ng `sudo` (vÃ­ dá»¥ `sudo cp ...`) khi Ä‘Ã­ch thuá»™c vá» root.

5. **Thá»i gian vÃ  thuá»™c tÃ­nh file**

   * `cp` máº·c Ä‘á»‹nh sao chÃ©p ná»™i dung vÃ  táº¡o file Ä‘Ã­ch má»›i vá»›i thá»i gian (mtime/atime) hiá»‡n táº¡i. Náº¿u muá»‘n giá»¯ nguyÃªn thuá»™c tÃ­nh (mode, owner, timestamps, xattr), dÃ¹ng `-a` (archive) hoáº·c `--preserve=all`.

6. **TÃ¹y chá»n há»¯u Ã­ch**

   * `-i` : interactive â€” há»i trÆ°á»›c khi overwrite (vÃ­ dá»¥ náº¿u file Ä‘Ã­ch Ä‘Ã£ tá»“n táº¡i).
   * `-v` : verbose â€” hiá»ƒn thá»‹ cÃ¡c file Ä‘ang Ä‘Æ°á»£c sao chÃ©p.
   * `-r` hoáº·c `-R` : recursive â€” cáº§n khi sao chÃ©p thÆ° má»¥c.
   * `-a` : archive â€” tÆ°Æ¡ng Ä‘Æ°Æ¡ng `-dR --preserve=all` (giá»¯ symlink, permissions, timestamps, owner náº¿u cÃ³ quyá»n).
   * `--backup` : lÆ°u báº£n backup trÆ°á»›c khi overwrite (tÃ¹y há»‡ thá»‘ng coreutils sáº½ thÃªm ~ hoáº·c kiá»ƒu backup khÃ¡c).

7. **Xá»­ lÃ½ symlink**

   * Náº¿u `devopsfile1.txt` lÃ  symlink, hÃ nh vi cá»§a `cp` phá»¥ thuá»™c vÃ o tuá»³ chá»n: máº·c Ä‘á»‹nh `cp` sáº½ sao chÃ©p ná»™i dung file mÃ  symlink trá» tá»›i (thay vÃ¬ sao chÃ©p symlink). DÃ¹ng `-a` hoáº·c `--preserve=links` náº¿u muá»‘n giá»¯ symlink.

---

## 4) VÃ­ dá»¥ thá»±c táº¿

* Táº¡o thÆ° má»¥c Ä‘Ã­ch náº¿u chÆ°a cÃ³, rá»“i copy:

  ```bash
  mkdir -p dev
  cp devopsfile1.txt dev/
  # Káº¿t quáº£: dev/devopsfile1.txt
  ```

* Sao chÃ©p vÃ  hiá»‡n thÃ´ng tin tá»‡p vá»«a Ä‘Æ°á»£c sao chÃ©p:

  ```bash
  cp -v devopsfile1.txt dev/
  # Output vÃ­ dá»¥: 'devopsfile1.txt' -> 'dev/devopsfile1.txt'
  ```

* Sao chÃ©p nhÆ°ng há»i trÆ°á»›c khi ghi Ä‘Ã¨:

  ```bash
  cp -i devopsfile1.txt dev/
  # Náº¿u dev/devopsfile1.txt tá»“n táº¡i, há»‡ thá»‘ng sáº½ há»i y/n
  ```

* Sao chÃ©p giá»¯ nguyÃªn thuá»™c tÃ­nh (owner/timestamps) â€” thÆ°á»ng dÃ¹ng khi sao lÆ°u:

  ```bash
  sudo cp -a devopsfile1.txt dev/
  ```

* TrÆ°á»ng há»£p nguy cÆ¡: náº¿u `dev/` khÃ´ng tá»“n táº¡i:

  ```bash
  cp devopsfile1.txt dev/
  # Káº¿t quáº£: báº¡n sáº½ cÃ³ file ./dev (khÃ´ng pháº£i thÆ° má»¥c). Náº¿u báº¡n muá»‘n thÆ° má»¥c, hÃ£y cháº¡y mkdir trÆ°á»›c.
  ```

---

## 5) Lá»i khuyÃªn an toÃ n

* TrÆ°á»›c khi cháº¡y lá»‡nh trong thÆ° má»¥c há»‡ thá»‘ng (vÃ­ dá»¥ `/etc`, `/usr`), kiá»ƒm tra láº¡i Ä‘Æ°á»ng dáº«n Ä‘á»ƒ trÃ¡nh ghi Ä‘Ã¨ nháº§m.
* DÃ¹ng `-i` hoáº·c `--backup` náº¿u báº¡n khÃ´ng cháº¯c cháº¯n muá»‘n overwrite.
* Vá»›i nhiá»u file hoáº·c cáº¥u trÃºc phá»©c táº¡p, cÃ¢n nháº¯c dÃ¹ng `rsync -a` vÃ¬ cung cáº¥p nhiá»u tuá»³ chá»n an toÃ n vÃ  hiá»ƒn thá»‹ tiáº¿n Ä‘á»™.

---

## 6) Ná»™i dung plain-text (MáºªU) â€” Copy toÃ n bá»™ khá»‘i nÃ y vÃ o file .txt

```
# cp devopsfile1.txt dev/ - giáº£i thÃ­ch chi tiáº¿t
# Má»¥c Ä‘Ã­ch:
# - Sao chÃ©p file 'devopsfile1.txt' vÃ o thÆ° má»¥c 'dev/' (náº¿u dev/ tá»“n táº¡i)
# - Káº¿t quáº£ mong Ä‘á»£i: dev/devopsfile1.txt

# LÆ°u Ã½ quan trá»ng:
# - Náº¿u 'dev/' tá»“n táº¡i vÃ  lÃ  thÆ° má»¥c: file sáº½ Ä‘Æ°á»£c sao chÃ©p vÃ o thÆ° má»¥c Ä‘Ã³.
# - Náº¿u 'dev/' khÃ´ng tá»“n táº¡i: cp sáº½ táº¡o má»™t file cÃ³ tÃªn 'dev' (khÃ´ng pháº£i thÆ° má»¥c).
# - Náº¿u file Ä‘Ã­ch Ä‘Ã£ tá»“n táº¡i, cp sáº½ ghi Ä‘Ã¨ khÃ´ng há»i trá»« khi dÃ¹ng -i.
# - Náº¿u sao chÃ©p nhiá»u file, Ä‘Ã­ch pháº£i lÃ  thÆ° má»¥c tá»“n táº¡i.

# Má»™t sá»‘ tÃ¹y chá»n há»¯u dá»¥ng:
# - cp -i source dest/     -> há»i trÆ°á»›c khi overwrite
# - cp -v source dest/     -> hiá»ƒn thá»‹ file Ä‘Æ°á»£c sao chÃ©p
# - cp -a source dest/     -> sao chÃ©p nguyÃªn váº¹n (preserve attributes)
# - cp -r source_dir dest/ -> sao chÃ©p thÆ° má»¥c Ä‘á»‡ quy

# VÃ­ dá»¥ Ä‘á»ƒ thá»±c hiá»‡n an toÃ n:
# mkdir -p dev
# cp -v devopsfile1.txt dev/

# Ghi chÃº:
# - Kiá»ƒm tra quyá»n ghi vÃ o thÆ° má»¥c 'dev/' náº¿u gáº·p 'Permission denied'.
# - Vá»›i nhiá»u file hoáº·c cáº§n Ä‘á»“ng bá»™, cÃ¢n nháº¯c dÃ¹ng rsync -a.

# Äá»ƒ lÆ°u khá»‘i nÃ y vÃ o file /home/$USER/cp-devopsfile1-explanation.txt:
# cat > /home/$USER/cp-devopsfile1-explanation.txt <<'EOF'
# (dÃ¡n toÃ n bá»™ ná»™i dung plain-text nÃ y vÃ o giá»¯a)
# EOF
```

---

Má»Ÿ pane "canvas" bÃªn cáº¡nh vÃ  nháº¥n **Copy** Ä‘á»ƒ láº¥y toÃ n bá»™ ná»™i dung plain-text. Náº¿u báº¡n muá»‘n phiÃªn báº£n rÃºt gá»n, báº£n tiáº¿ng Anh, hoáº·c thÃªm vÃ­ dá»¥ cho copy nhiá»u file/thÆ° má»¥c, mÃ¬nh sáº½ cáº­p nháº­t ngay.


		- cmd: ls dev/
		- cmd: ls /home/vagrant/dev/

# HÆ¯á»šNG DáºªN CHI TIáº¾T: `ls /home/vagrant/dev/`

TÃ i liá»‡u nÃ y gá»“m hai pháº§n:

1. **Giáº£i thÃ­ch chi tiáº¿t nháº¥t** vá» hÃ nh vi cá»§a lá»‡nh `ls /home/vagrant/dev/` â€” Ã½ nghÄ©a, cÃ¡c tuá»³ chá»n hay dÃ¹ng, vÃ  cÃ¡c tÃ¬nh huá»‘ng Ä‘áº·c biá»‡t khi cháº¡y trÃªn Ä‘Æ°á»ng dáº«n cá»¥ thá»ƒ `/home/vagrant/dev/`.
2. **Khá»‘i plain-text sáºµn sÃ ng Ä‘á»ƒ copy** â€” copy nguyÃªn khá»‘i nÃ y vÃ  dÃ¡n trá»±c tiáº¿p vÃ o file `.txt` nhÆ° báº¡n yÃªu cáº§u.

---

## 1) Tá»•ng quan

Lá»‡nh `ls /home/vagrant/dev/` liá»‡t kÃª ná»™i dung cá»§a thÆ° má»¥c `/home/vagrant/dev/` (Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i). Thao tÃ¡c nÃ y giÃºp báº¡n xem nhanh cÃ¡c file vÃ  thÆ° má»¥c con thuá»™c vá» user `vagrant` trong thÆ° má»¥c `dev`.

---

## 2) PhÃ¢n tÃ­ch chi tiáº¿t

* `ls` : chÆ°Æ¡ng trÃ¬nh liá»‡t kÃª file/ thÆ° má»¥c (thÆ°á»ng lÃ  GNU coreutils `ls`).
* `/home/vagrant/dev/` : Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i tá»›i thÆ° má»¥c Ä‘Ã­ch. Dáº¥u `/` cuá»‘i khÃ´ng báº¯t buá»™c nhÆ°ng chá»‰ rÃµ Ä‘Ã³ lÃ  thÆ° má»¥c.

HÃ nh vi cÆ¡ báº£n:

* Náº¿u `/home/vagrant/dev/` tá»“n táº¡i vÃ  báº¡n cÃ³ quyá»n **Ä‘á»c** (read) vÃ  **thá»±c thi** (execute) trÃªn thÆ° má»¥c Ä‘Ã³, `ls` sáº½ in danh sÃ¡ch tÃªn file vÃ  thÆ° má»¥c con. Máº·c Ä‘á»‹nh, `ls` **khÃ´ng** hiá»ƒn thá»‹ file áº©n (báº¯t Ä‘áº§u báº±ng `.`).
* Náº¿u thÆ° má»¥c khÃ´ng tá»“n táº¡i: lá»—i `ls: cannot access '/home/vagrant/dev/': No such file or directory`.
* Náº¿u thiáº¿u quyá»n (vÃ­ dá»¥ khÃ´ng cÃ³ quyá»n `x`/`r`): lá»—i `ls: cannot open directory '/home/vagrant/dev/': Permission denied`.

Quyá»n cáº§n thiáº¿t Ä‘á»ƒ thá»±c hiá»‡n:

* Quyá»n `x` (execute) trÃªn thÆ° má»¥c cho phÃ©p truy cáº­p ná»™i dung (liá»‡t kÃª tÃªn file).
* Quyá»n `r` (read) cho phÃ©p Ä‘á»c danh sÃ¡ch file; náº¿u chá»‰ cÃ³ `x` mÃ  khÃ´ng cÃ³ `r`, báº¡n cÃ³ thá»ƒ truy cáº­p file náº¿u biáº¿t tÃªn nhÆ°ng khÃ´ng thá»ƒ liá»‡t kÃª toÃ n bá»™.

---

## 3) Tuá»³ chá»n `ls` há»¯u Ã­ch khi dÃ¹ng vá»›i `/home/vagrant/dev/`

* `ls -l /home/vagrant/dev/` : dáº¡ng dÃ i â€” hiá»‡n quyá»n, owner, group, kÃ­ch thÆ°á»›c, thá»i gian sá»­a Ä‘á»•i.
* `ls -la /home/vagrant/dev/` : thÃªm file áº©n (`.` vÃ  `..` vÃ  cÃ¡c file báº¯t Ä‘áº§u báº±ng `.`).
* `ls -lh /home/vagrant/dev/` : kÃ­ch thÆ°á»›c á»Ÿ Ä‘á»‹nh dáº¡ng dá»… Ä‘á»c (KB/MB/GB) káº¿t há»£p vá»›i `-l`.
* `ls -t /home/vagrant/dev/` : sáº¯p xáº¿p theo thá»i gian sá»­a Ä‘á»•i (má»›i nháº¥t trÆ°á»›c).
* `ls -S /home/vagrant/dev/` : sáº¯p xáº¿p theo kÃ­ch thÆ°á»›c (lá»›n nháº¥t trÆ°á»›c).
* `ls -R /home/vagrant/dev/` : Ä‘á»‡ quy liá»‡t kÃª cÃ¡c thÆ° má»¥c con bÃªn trong `/home/vagrant/dev/`.
* `ls -1 /home/vagrant/dev/` : má»—i file trÃªn má»™t dÃ²ng (dá»… dÃ¹ng khi pipe vÃ o cÃ¡c lá»‡nh khÃ¡c).

---

## 4) VÃ­ dá»¥ output vÃ  cÃ¡ch Ä‘á»c (giáº£ Ä‘á»‹nh run `ls -l`)

VÃ­ dá»¥ `ls -l /home/vagrant/dev/`:

```
-rw-r--r-- 1 vagrant vagrant  0 Nov  1 18:30 devopsfile1.txt
-rw-r--r-- 1 vagrant vagrant  0 Nov  1 18:30 devopsfile2.txt
drwxr-xr-x 2 vagrant vagrant 4096 Nov  1 18:31 subdir
lrwxrwxrwx 1 vagrant vagrant  11 Nov  1 18:32 link -> ../other/file
```

Giáº£i thÃ­ch cÃ¡c trÆ°á»ng (cá»™t):

* Cá»™t 1 (`-rw-r--r--` / `drwxr-xr-x` / `lrwxrwxrwx`): kiá»ƒu file vÃ  quyá»n (file thÆ°á»ng, thÆ° má»¥c, symlink).
* Cá»™t 2 (sá»‘): sá»‘ link cá»©ng hoáº·c sá»‘ má»¥c con Ä‘á»‘i vá»›i thÆ° má»¥c.
* Cá»™t 3 (`vagrant`): owner (chá»§ sá»Ÿ há»¯u) cá»§a file.
* Cá»™t 4 (`vagrant`): group cá»§a file.
* Cá»™t 5 (4096): kÃ­ch thÆ°á»›c file (byte) â€” thÆ° má»¥c thÆ°á»ng hiá»ƒn thá»‹ 4096.
* Cá»™t 6 (Nov 1 18:30): thá»i gian sá»­a Ä‘á»•i cuá»‘i.
* Cá»™t 7 (tÃªn): tÃªn file / thÆ° má»¥c / link (link sáº½ hiá»ƒn thá»‹ `->` trá» tá»›i target).

---

## 5) Nhá»¯ng tÃ¬nh huá»‘ng thá»±c táº¿ vÃ  lá»i khuyÃªn

* Náº¿u báº¡n nháº­n `Permission denied`: kiá»ƒm tra quyá»n thÆ° má»¥c báº±ng `ls -ld /home/vagrant/dev/` vÃ  dÃ¹ng `sudo` náº¿u cáº§n (vÃ­ dá»¥ `sudo ls -la /home/vagrant/dev/`).
* Náº¿u báº¡n muá»‘n Ä‘áº¿m bao nhiÃªu má»¥c (khÃ´ng tÃ­nh file áº©n): `ls /home/vagrant/dev/ | wc -l`.
* Náº¿u cáº§n liá»‡t kÃª file áº©n vÃ  Ä‘áº¿m: `ls -la /home/vagrant/dev/ | wc -l`.
* Khi xá»­ lÃ½ file lá»›n: `ls -lh /home/vagrant/dev/` Ä‘á»ƒ Ä‘á»c kÃ­ch thÆ°á»›c dá»… dÃ ng.
* Äá»ƒ lá»c káº¿t quáº£ (vÃ­ dá»¥ chá»‰ file .txt): `ls /home/vagrant/dev/*.txt` hoáº·c `ls -1 /home/vagrant/dev/ | grep '\.txt$'`.

---

## 6) Má»™t sá»‘ lá»‡nh thay tháº¿/káº¿t há»£p há»¯u Ã­ch

* `find /home/vagrant/dev/ -maxdepth 1 -type f` : liá»‡t kÃª chá»‰ file (khÃ´ng vÃ o thÆ° má»¥c con).
* `tree /home/vagrant/dev/` : hiá»ƒn thá»‹ cáº¥u trÃºc cÃ¢y (náº¿u Ä‘Ã£ cÃ i `tree`).
* `stat /home/vagrant/dev/devopsfile1.txt` : xem thÃ´ng tin chi tiáº¿t vá» file cá»¥ thá»ƒ.
* `du -sh /home/vagrant/dev/` : xem tá»•ng dung lÆ°á»£ng thÆ° má»¥c.

---

## 7) Ná»™i dung plain-text (MáºªU) â€” Copy toÃ n bá»™ khá»‘i nÃ y vÃ o file .txt

```
# ls /home/vagrant/dev/ - giáº£i thÃ­ch chi tiáº¿t
# Má»¥c Ä‘Ã­ch:
# - Liá»‡t kÃª ná»™i dung thÆ° má»¥c tuyá»‡t Ä‘á»‘i '/home/vagrant/dev/'

# HÃ nh vi cÆ¡ báº£n:
# - Náº¿u '/home/vagrant/dev/' tá»“n táº¡i vÃ  cÃ³ quyá»n Ä‘á»c, ls sáº½ in danh sÃ¡ch file/thÆ° má»¥c con
# - Náº¿u khÃ´ng tá»“n táº¡i: lá»—i 'No such file or directory'
# - Náº¿u thiáº¿u quyá»n: lá»—i 'Permission denied'

# Tuá»³ chá»n há»¯u Ã­ch:
# - ls -l /home/vagrant/dev/   -> long listing (quyá»n, owner, size, time)
# - ls -la /home/vagrant/dev/  -> long + hiá»ƒn thá»‹ file áº©n
# - ls -lh /home/vagrant/dev/  -> kÃ­ch thÆ°á»›c human-readable
# - ls -t /home/vagrant/dev/   -> sáº¯p xáº¿p theo thá»i gian sá»­a Ä‘á»•i
# - ls -S /home/vagrant/dev/   -> sáº¯p xáº¿p theo kÃ­ch thÆ°á»›c
# - ls -R /home/vagrant/dev/   -> Ä‘á»‡ quy liá»‡t kÃª thÆ° má»¥c con
# - ls -1 /home/vagrant/dev/   -> má»—i file trÃªn 1 dÃ²ng

# LÆ°u Ã½ nhanh:
# - DÃ¹ng 'ls -ld /home/vagrant/dev/' Ä‘á»ƒ kiá»ƒm tra quyá»n cá»§a thÆ° má»¥c
# - Äáº¿m sá»‘ má»¥c (khÃ´ng gá»“m file áº©n): ls /home/vagrant/dev/ | wc -l
# - Chá»‰ file .txt: ls /home/vagrant/dev/*.txt

# VÃ­ dá»¥ thá»±c táº¿ cá»§a 'ls -l':
# -rw-r--r-- 1 vagrant vagrant    0 Nov  1 18:30 devopsfile1.txt
# drwxr-xr-x 2 vagrant vagrant 4096 Nov  1 18:31 subdir
# lrwxrwxrwx 1 vagrant vagrant   11 Nov  1 18:32 link -> ../other/file

# Äá»ƒ lÆ°u khá»‘i nÃ y vÃ o file /home/$USER/ls-home-vagrant-dev-explanation.txt:
# cat > /home/$USER/ls-home-vagrant-dev-explanation.txt <<'EOF'
# (dÃ¡n toÃ n bá»™ ná»™i dung plain-text nÃ y vÃ o giá»¯a)
# EOF
```

---

Má»Ÿ panel "canvas" bÃªn cáº¡nh vÃ  nháº¥n **Copy** Ä‘á»ƒ láº¥y toÃ n bá»™ ná»™i dung plain-text. Náº¿u báº¡n muá»‘n phiÃªn báº£n tiáº¿ng Anh, phiÃªn báº£n rÃºt gá»n, hoáº·c mÃ´ phá»ng output thá»±c táº¿ trÃªn há»‡ cá»§a báº¡n, mÃ¬nh sáº½ cáº­p nháº­t ngay.


		- cmd: cp --help

CP --help â€” Giáº£i thÃ­ch chi tiáº¿t (Plain text, sáºµn sÃ ng copy vÃ o .txt)

============================================================
Lá»†NH: cp (copy files and directories)
Má»¥c Ä‘Ã­ch: Sao chÃ©p tá»‡p tin vÃ  thÆ° má»¥c trong há»‡ thá»‘ng Unix/Linux (GNU coreutils).

CÃCH DÃ™NG CHUNG:
cp [TÃ™Y_CHá»ŒN] NGUá»’N... ÄÃCH
cp [TÃ™Y_CHá»ŒN] -t ÄÃCH NGUá»’N...

GHI CHÃš CHUNG:

* Náº¿u ÄÃCH lÃ  thÆ° má»¥c: cÃ¡c tá»‡p NGUá»’N sáº½ Ä‘Æ°á»£c sao chÃ©p vÃ o thÆ° má»¥c Ä‘Ã³.
* Náº¿u chá»‰ cÃ³ má»™t NGUá»’N vÃ  ÄÃCH khÃ´ng tá»“n táº¡i: NGUá»’N sáº½ Ä‘Æ°á»£c sao chÃ©p sang tÃªn ÄÃCH.
* Khi sao chÃ©p thÆ° má»¥c, cáº§n dÃ¹ng -r hoáº·c -R (Ä‘á»‡ quy) hoáº·c -a (archive) Ä‘á»ƒ sao chÃ©p ná»™i dung.

THUá»˜C TÃNH TRANG THÃI TRáº¢ Vá»€ (EXIT STATUS):
0   ThÃ nh cÃ´ng.

> 0  CÃ³ lá»—i (vÃ­ dá»¥: tá»‡p khÃ´ng tá»“n táº¡i, lá»—i Ä‘á»c/ghi, quyá»n háº¡n).

CHI TIáº¾T TÃ™Y CHá»ŒN (giáº£i thÃ­ch rÃµ, phÃ¹ há»£p Ä‘á»ƒ dÃ¡n vÃ o file .txt):

-a, --archive
Giá»¯ nguyÃªn tá»‘i Ä‘a thuá»™c tÃ­nh cá»§a tá»‡p khi sao chÃ©p: --preserve=all;
tÆ°Æ¡ng Ä‘Æ°Æ¡ng: -dR --preserve=mode,ownership,timestamps
ThÃ­ch há»£p khi muá»‘n sao chÃ©p giá»‘ng há»‡t (permissions, owner, timestamps, liÃªn káº¿t cá»©ng...).

-b
Táº¡o báº£n sao lÆ°u tá»‡p Ä‘Ã­ch náº¿u tá»‡p Ä‘Ã­ch Ä‘Ã£ tá»“n táº¡i (sá»­ dá»¥ng cÃ¹ng cÆ¡ cháº¿ backup nhÆ° --backup).

--backup[=CONTROL]
Táº¡o báº£n sao lÆ°u cho tá»‡p Ä‘Ã­ch náº¿u tá»‡p Ä‘Ã­ch Ä‘Ã£ tá»“n táº¡i. CONTROL cÃ³ thá»ƒ lÃ :
none     : khÃ´ng táº¡o backup (máº·c Ä‘á»‹nh khi --backup khÃ´ng Ä‘Æ°á»£c chá»‰ rÃµ vÃ  --backup bá»‹ vÃ´ hiá»‡u?).
off      : tÆ°Æ¡ng tá»± none.
numbered : chá»‰ Ä‘á»‹nh kiá»ƒu Ä‘Ã¡nh sá»‘ (táº¡o nhá»¯ng file ~1~, ~2~... theo sá»‘ thá»© tá»±).
t        : tÆ°Æ¡ng tá»± numbered.
simple   : táº¡o file sao lÆ°u báº±ng cÃ¡ch thÃªm háº­u tá»‘ (see --suffix).
existing : náº¿u Ä‘Ã£ cÃ³ file sao lÆ°u dáº¡ng numbered thÃ¬ dÃ¹ng numbered, náº¿u khÃ´ng dÃ¹ng simple.
LÆ°u Ã½: cá»¥m kiá»ƒm soÃ¡t backup cÃ³ thá»ƒ khÃ¡c giá»¯a cÃ¡c báº£n GNU, Ä‘á»c man page há»‡ thá»‘ng Ä‘á»ƒ cháº¯c cháº¯n.

--suffix=SUFFIX, -S SUFFIX
DÃ¹ng SUFFIX thay cho háº­u tá»‘ máº·c Ä‘á»‹nh khi táº¡o báº£n sao lÆ°u (vÃ­ dá»¥: .bak).

-f, --force
Ghi Ä‘Ã¨ tá»‡p Ä‘Ã­ch mÃ  khÃ´ng há»i (náº¿u cÃ³ quyá»n). Náº¿u tá»‡p Ä‘Ã­ch khÃ´ng thá»ƒ ghi, cp sáº½ thá»­ xÃ³a tá»‡p Ä‘Ã­ch trÆ°á»›c khi ghi.

-i, --interactive
Há»i xÃ¡c nháº­n (prompt) trÆ°á»›c khi ghi Ä‘Ã¨ tá»‡p Ä‘Ã­ch. ThÃ­ch há»£p khi muá»‘n trÃ¡nh ghi Ä‘Ã¨ vÃ´ Ã½.

-n, --no-clobber
KhÃ´ng ghi Ä‘Ã¨ cÃ¡c tá»‡p Ä‘Ã£ tá»“n táº¡i (tÆ°Æ¡ng Ä‘Æ°Æ¡ng "khÃ´ng lÃ m gÃ¬" náº¿u tá»‡p Ä‘Ã­ch tá»“n táº¡i).

-u, --update
Chá»‰ sao chÃ©p khi NGUá»’N má»›i hÆ¡n ÄÃCH hoáº·c khi ÄÃCH khÃ´ng tá»“n táº¡i. DÃ¹ng khi muá»‘n Ä‘á»“ng bá»™ hÃ³a theo thá»i gian sá»­a.

-v, --verbose
In ra cÃ¡c thao tÃ¡c Ä‘ang thá»±c hiá»‡n (liá»‡t kÃª tá»‡p Ä‘Æ°á»£c sao chÃ©p). Tiá»‡n Ä‘á»ƒ debugging hoáº·c xem tiáº¿n trÃ¬nh.

-R, -r, --recursive
Sao chÃ©p thÆ° má»¥c má»™t cÃ¡ch Ä‘á»‡ quy: sao chÃ©p cáº£ thÆ° má»¥c con vÃ  tá»‡p bÃªn trong. Cáº§n thiáº¿t Ä‘á»ƒ sao chÃ©p thÆ° má»¥c.

-d
Giá»¯ nguyÃªn liÃªn káº¿t (preserve links) â€” tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i --no-dereference --preserve=links tÃ¹y há»‡ thá»‘ng.

--preserve[=ATTR_LIST]
Giá»¯ láº¡i thuá»™c tÃ­nh chá»‰ Ä‘á»‹nh khi sao chÃ©p. ATTR_LIST cÃ³ thá»ƒ lÃ  má»™t danh sÃ¡ch phÃ¢n tÃ¡ch bá»Ÿi dáº¥u pháº©y:
mode, ownership, timestamps, context, links, xattr, all
--preserve=all tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i cá»‘ gáº¯ng giá»¯ toÃ n bá»™ cÃ¡c thuá»™c tÃ­nh cÃ³ thá»ƒ.

--no-preserve=ATTR_LIST
NgÆ°á»£c láº¡i vá»›i --preserve: khÃ´ng giá»¯ cÃ¡c thuá»™c tÃ­nh nÃªu ra.

-p
Giá»¯ nguyÃªn thá»i gian, quyá»n truy cáº­p vÃ  owner náº¿u cÃ³ thá»ƒ; tÆ°Æ¡ng tá»± --preserve=mode,ownership,timestamps.

--parents
Khi sao chÃ©p nhiá»u tá»‡p vÃ o thÆ° má»¥c Ä‘Ã­ch, giá»¯ nguyÃªn cáº¥u trÃºc thÆ° má»¥c nguá»“n (táº¡o Ä‘Æ°á»ng dáº«n phá»¥ trong Ä‘Ã­ch).
VÃ­ dá»¥: cp --parents a/b/c.txt /tmp sáº½ táº¡o /tmp/a/b/c.txt

--remove-destination
TrÆ°á»›c khi sao chÃ©p, xÃ³a tá»‡p Ä‘Ã­ch náº¿u tá»“n táº¡i. KhÃ¡c vá»›i -f á»Ÿ chá»— xÃ³a trÆ°á»›c khi má»Ÿ ghi Ä‘á»ƒ trÃ¡nh má»™t sá»‘ váº¥n Ä‘á» vá» quyá»n/Ä‘Æ°á»ng dáº«n.

--sparse=WHEN
CÃ¡ch xá»­ lÃ½ vÃ¹ng sparse (táº­p tin cÃ³ vÃ¹ng toÃ n 0): WHEN cÃ³ thá»ƒ lÃ  auto, always, never.
auto   : cá»‘ gáº¯ng táº¡o file Ä‘Ã­ch sparse náº¿u phÃ¹ há»£p (máº·c Ä‘á»‹nh thÃ´ng minh).
always : luÃ´n viáº¿t tá»‡p Ä‘Ã­ch á»Ÿ dáº¡ng sparse náº¿u cÃ³ thá»ƒ.
never  : khÃ´ng dÃ¹ng sparse (ghi Ä‘áº§y Ä‘á»§ cÃ¡c byte 0).

--reflink[=WHEN]
Táº¡o copy-on-write (reflink) náº¿u há»‡ thá»‘ng file há»— trá»£. WHEN cÃ³ thá»ƒ lÃ  always hoáº·c auto. Náº¿u khÃ´ng há»— trá»£, hÃ nh vi cÃ³ thá»ƒ lÃ  fallback sang copy thá»±c sá»± (tÃ¹y tham sá»‘).

-P, --no-dereference
Khi sao chÃ©p liÃªn káº¿t tÆ°á»£ng trÆ°ng (symlink), sao chÃ©p chÃ­nh liÃªn káº¿t (táº¡o symlink má»›i) chá»© khÃ´ng sao chÃ©p ná»™i dung tá»‡p liÃªn káº¿t trá» tá»›i.

-L, --dereference
Khi sao chÃ©p náº¿u gáº·p symlink: sao chÃ©p ná»™i dung tá»‡p mÃ  symlink trá» tá»›i (giáº£i phÃ³ng liÃªn káº¿t) thay vÃ¬ sao chÃ©p chÃ­nh liÃªn káº¿t.

-H
Khi dÃ¹ng vá»›i -R (Ä‘á»‡ quy), theo dÃµi (dereference) cÃ¡c symlink trÃªn command line nhÆ°ng khÃ´ng theo cÃ¡c symlink khÃ¡c.

-S, --suffix=SUFFIX
(ÄÃ£ nÃªu phÃ­a trÃªn vá»›i --suffix=) Äáº·t háº­u tá»‘ cho tÃªn backup.

--target-directory=DIR, -t DIR
Sao chÃ©p NGUá»’N vÃ o thÆ° má»¥c ÄÃCH (Ä‘áº§u vÃ o NGUá»’N cÃ³ thá»ƒ á»Ÿ sau -t). TÆ°Æ¡ng Ä‘Æ°Æ¡ng: cp ... -t DIR NGUá»’N...

--one-file-system
Khi sao chÃ©p Ä‘á»‡ quy: khÃ´ng vÆ°á»£t qua ranh giá»›i file system (khÃ´ng sao chÃ©p tá»‡p náº±m trÃªn filesystem khÃ¡c, giá»‘ng rsync --one-file-system).

--help
Hiá»ƒn thá»‹ thÃ´ng tin trá»£ giÃºp ngáº¯n gá»n (ná»™i dung tÆ°Æ¡ng tá»± cp --help) vÃ  thoÃ¡t.

--version
Hiá»ƒn thá»‹ phiÃªn báº£n cp (GNU coreutils) vÃ  thoÃ¡t.

Máº¸O Sá»¬ Dá»¤NG THá»°C Táº¾ VÃ€ VÃ Dá»¤ (dáº¡ng plain text):

1. Sao chÃ©p má»™t tá»‡p vÃ o thÆ° má»¥c:
   cp file.txt /path/to/destination/

2. Sao chÃ©p vÃ  Ä‘á»•i tÃªn (tá»‡p Ä‘Ã­ch khÃ´ng tá»“n táº¡i):
   cp file.txt copy_of_file.txt

3. Sao chÃ©p Ä‘á»‡ quy thÆ° má»¥c (bao gá»“m file áº©n):
   cp -r /src/dir /dst/
   Hoáº·c Ä‘á»ƒ giá»¯ thuá»™c tÃ­nh Ä‘áº§y Ä‘á»§:
   cp -a /src/dir /dst/

4. Sao chÃ©p nhiá»u tá»‡p vÃ o thÆ° má»¥c Ä‘Ã­ch:
   cp file1.txt file2.txt file3.txt /dst/

5. Sao chÃ©p nhÆ°ng khÃ´ng ghi Ä‘Ã¨ tá»‡p Ä‘Ã£ cÃ³:
   cp -n source.txt /dst/

6. Sao chÃ©p chá»‰ khi nguá»“n má»›i hÆ¡n Ä‘Ã­ch (Ä‘á»“ng bá»™ má»™t chiá»u):
   cp -u source.txt /dst/

7. Sao chÃ©p vá»›i xÃ¡c nháº­n trÆ°á»›c khi ghi Ä‘Ã¨ (an toÃ n khi khÃ´ng muá»‘n máº¥t dá»¯ liá»‡u):
   cp -i file.txt /dst/

8. Sao chÃ©p vÃ  giá»¯ nguyÃªn toÃ n bá»™ metadata (permissions, owner, timestamps, links...):
   cp -a /src/dir /dst/

9. Sao lÆ°u tá»‡p Ä‘Ã­ch trÆ°á»›c khi ghi Ä‘Ã¨ (sá»­ dá»¥ng háº­u tá»‘ .bak):
   cp --backup=simple --suffix=.bak file.txt /dst/file.txt

10. Sao chÃ©p nhiá»u tá»‡p vÃ  giá»¯ cáº¥u trÃºc thÆ° má»¥c tÆ°Æ¡ng Ä‘á»‘i (táº¡o folder cha):
    cp --parents src/dir/file.txt /dst/
    -> káº¿t quáº£: /dst/src/dir/file.txt

11. Sao chÃ©p vá»›i verbose Ä‘á»ƒ tháº¥y tiáº¿n trÃ¬nh:
    cp -v file1 file2 /dst/

LÆ¯U Ã Vá»€ QUYá»€N (PERMISSIONS) VÃ€ OWNER:

* Äá»ƒ giá»¯ owner (chá»§ sá»Ÿ há»¯u) vÃ  group khi sao chÃ©p, cáº§n quyá»n root hoáº·c quyá»n phÃ¹ há»£p trÃªn há»‡ thá»‘ng.
* Náº¿u khÃ´ng Ä‘á»§ quyá»n, cp sáº½ cá»‘ gáº¯ng sao chÃ©p ná»™i dung vÃ  thiáº¿t láº­p cÃ¡c thuá»™c tÃ­nh cÃ³ thá»ƒ (vÃ­ dá»¥: timestamps) nhÆ°ng cÃ³ thá»ƒ khÃ´ng giá»¯ Ä‘Æ°á»£c owner.

NHá»®NG TRÆ¯á»œNG Há»¢P KHÃ“ KHÄ‚N / SIÃŠU Lá»†NH:

* Khi sao chÃ©p tá»‡p tá»›i cÃ¹ng má»™t tá»‡p Ä‘ang má»Ÿ (vÃ­ dá»¥: ghi Ä‘Ã¨ cÃ¹ng file), hÃ nh vi cÃ³ thá»ƒ khÃ¡c nhau giá»¯a cÃ¡c tÃ¹y chá»n. --remove-destination giÃºp Ä‘áº£m báº£o xÃ³a tá»‡p Ä‘Ã­ch trÆ°á»›c khi táº¡o má»›i.
* Khi sao chÃ©p giá»¯a hai filesystem khÃ¡c nhau, má»™t sá»‘ tÃ­nh nÄƒng nhÆ° reflink/copy-on-write sáº½ khÃ´ng kháº£ dá»¥ng.

THAM KHáº¢O NHANH (DÃ™NG TRONG FILE .TXT):

* Xem man page há»‡ thá»‘ng: man cp
* Kiá»ƒm tra phiÃªn báº£n coreutils: cp --version

============================================================
Háº¾T

Ghi chÃº: Ná»™i dung trÃªn nháº±m mÃ´ táº£ cÃ¡c tÃ¹y chá»n phá»• biáº¿n cá»§a GNU cp (coreutils). Má»™t sá»‘ báº£n phÃ¢n phá»‘i hoáº·c há»‡ thá»‘ng Unix khÃ¡c (BSD, macOS) cÃ³ thá»ƒ cÃ³ khÃ¡c biá»‡t nhá» vá» tÃªn tÃ¹y chá»n hoáº·c hÃ nh vi; hÃ£y kiá»ƒm tra man page tÆ°Æ¡ng á»©ng náº¿u cáº§n chÃ­nh xÃ¡c theo mÃ´i trÆ°á»ng cá»§a báº¡n.


		- cmd: mv devopsfile3.txt ops/

MV devopsfile3.txt ops/ â€” Giáº£i thÃ­ch chi tiáº¿t (Plain text, sáºµn sÃ ng copy vÃ o .txt)

============================================================
Lá»†NH: mv devopsfile3.txt ops/
Má»¥c Ä‘Ã­ch: Di chuyá»ƒn (move) hoáº·c Ä‘á»•i tÃªn tá»‡p "devopsfile3.txt" vÃ o thÆ° má»¥c Ä‘Ã­ch "ops/".

CÃCH HOáº T Äá»˜NG CHUNG:

* Náº¿u "ops/" lÃ  má»™t thÆ° má»¥c tá»“n táº¡i: lá»‡nh sáº½ di chuyá»ƒn tá»‡p "devopsfile3.txt" vÃ o thÆ° má»¥c Ä‘Ã³,
  káº¿t quáº£ lÃ  tá»‡p má»›i sáº½ lÃ  "ops/devopsfile3.txt".
* Náº¿u "ops/" khÃ´ng tá»“n táº¡i vÃ  chá»‰ cÃ³ má»™t Ä‘á»‘i sá»‘ Ä‘Ã­ch (khÃ´ng pháº£i thÆ° má»¥c): mv sáº½ Ä‘á»•i tÃªn "devopsfile3.txt"
  thÃ nh tÃªn Ä‘Ã­ch (vÃ­ dá»¥ náº¿u báº¡n cháº¡y mv a b vÃ  b khÃ´ng tá»“n táº¡i, a sáº½ Ä‘Æ°á»£c Ä‘á»•i tÃªn thÃ nh b).
* Náº¿u Ä‘Ã­ch lÃ  má»™t Ä‘Æ°á»ng dáº«n Ä‘Ã£ tá»“n táº¡i lÃ  tá»‡p, mv sáº½ ghi Ä‘Ã¨ tá»‡p Ä‘Ã­ch (tÃ¹y tÃ¹y chá»n sá»­ dá»¥ng).

TRáº NG THÃI TRáº¢ Vá»€ (EXIT STATUS):
0   ThÃ nh cÃ´ng.

> 0  Lá»—i xáº£y ra (vÃ­ dá»¥: tá»‡p nguá»“n khÃ´ng tá»“n táº¡i, quyá»n háº¡n khÃ´ng Ä‘á»§, lá»—i há»‡ thá»‘ng file).

QUYá»€N VÃ€ HÃ€NH VI:

* Di chuyá»ƒn trÃªn cÃ¹ng má»™t filesystem thÆ°á»ng chá»‰ thay Ä‘á»•i entry trong inode (ráº¥t nhanh).
* Di chuyá»ƒn giá»¯a hai filesystem khÃ¡c nhau sáº½ thá»±c hiá»‡n hÃ nh vi sao chÃ©p ná»™i dung rá»“i xÃ³a nguá»“n (cháº­m hÆ¡n) â€”
  mv thá»±c hiá»‡n Ä‘iá»u nÃ y tá»± Ä‘á»™ng.
* Äá»ƒ giá»¯ nguyÃªn owner/permissions/timestamps khi di chuyá»ƒn giá»¯a filesystem, mv sáº½ cá»‘ gáº¯ng báº£o toÃ n chÃºng;
  nhÆ°ng náº¿u báº¡n khÃ´ng cÃ³ quyá»n, má»™t sá»‘ thuá»™c tÃ­nh cÃ³ thá»ƒ thay Ä‘á»•i.

TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG (GNU mv / coreutils):

-f, --force
Ghi Ä‘Ã¨ tá»‡p Ä‘Ã­ch náº¿u tá»“n táº¡i mÃ  khÃ´ng há»i. ÄÃ¢y lÃ  máº·c Ä‘á»‹nh náº¿u khÃ´ng dÃ¹ng -i vÃ  lá»‡nh cháº¡y trong mÃ´i trÆ°á»ng non-interactive.

-i, --interactive
Há»i xÃ¡c nháº­n trÆ°á»›c khi ghi Ä‘Ã¨ tá»‡p Ä‘Ã­ch. Hiá»ƒn thá»‹ prompt náº¿u tá»‡p Ä‘Ã­ch tá»“n táº¡i.

-n, --no-clobber
KhÃ´ng ghi Ä‘Ã¨ cÃ¡c tá»‡p Ä‘Ã£ tá»“n táº¡i; náº¿u tá»‡p Ä‘Ã­ch tá»“n táº¡i, bá» qua vÃ  khÃ´ng di chuyá»ƒn nguá»“n.

-v, --verbose
In ra tÃªn tá»‡p vÃ  hÃ nh Ä‘á»™ng Ä‘Ã£ thá»±c hiá»‡n (vÃ­ dá»¥: 'Ä‘Ã£ di chuyá»ƒn a -> b'). Ráº¥t há»¯u Ã­ch khi cháº¡y trong script Ä‘á»ƒ log.

--backup[=CONTROL]
Táº¡o báº£n sao lÆ°u cho tá»‡p Ä‘Ã­ch náº¿u Ä‘Ã­ch tá»“n táº¡i (tÆ°Æ¡ng tá»± coreutils backup cho cp). CONTROL chá»n kiá»ƒu numbered/simple.

--suffix=SUFFIX
DÃ¹ng háº­u tá»‘ SUFFIX cho file backup (vÃ­ dá»¥ .bak).

-t, --target-directory=DIR
Chá»‰ Ä‘á»‹nh thÆ° má»¥c Ä‘Ã­ch (thÆ°á»ng dÃ¹ng Ä‘á»ƒ di chuyá»ƒn nhiá»u nguá»“n vÃ o má»™t thÆ° má»¥c):
mv -t ops/ devopsfile3.txt anotherfile.txt

--strip-trailing-slashes
Loáº¡i bá» dáº¥u / cuá»‘i cÃ¹ng trÃªn cÃ¡c tham sá»‘ Ä‘Æ°á»ng dáº«n trÆ°á»›c khi xá»­ lÃ½.

--help
Hiá»ƒn thá»‹ thÃ´ng tin trá»£ giÃºp ngáº¯n gá»n.

--version
Hiá»ƒn thá»‹ phiÃªn báº£n mv (GNU coreutils).

Rá»¦I RO VÃ€ LÆ¯U Ã THá»°C TIá»„N:

* Ghi Ä‘Ã¨ dá»¯ liá»‡u: mv sáº½ ghi Ä‘Ã¨ tá»‡p Ä‘Ã­ch náº¿u cÃ³ â€” dÃ¹ng -i Ä‘á»ƒ trÃ¡nh máº¥t dá»¯ liá»‡u vÃ´ Ã½ hoáº·c -n Ä‘á»ƒ khÃ´ng ghi Ä‘Ã¨.
* Quyá»n: náº¿u báº¡n khÃ´ng cÃ³ quyá»n ghi vÃ o thÆ° má»¥c Ä‘Ã­ch hoáº·c quyá»n xÃ³a trÃªn tá»‡p nguá»“n, mv sáº½ tháº¥t báº¡i.
* LiÃªn káº¿t (symlink): mv di chuyá»ƒn chÃ­nh báº£n entry; náº¿u nguá»“n lÃ  symlink, symlink sáº½ Ä‘Æ°á»£c di chuyá»ƒn (khÃ´ng theo ná»™i dung trá»« khi báº¡n copy/rename khÃ¡c).
* Khi di chuyá»ƒn nhiá»u tá»‡p, Ä‘áº£m báº£o Ä‘Ã­ch lÃ  má»™t thÆ° má»¥c tá»“n táº¡i; náº¿u khÃ´ng, mv sáº½ coi Ä‘Ã­ch lÃ  tÃªn má»›i vÃ  cÃ³ thá»ƒ gÃ¢y lá»—i.
* Há»‡ thá»‘ng file khÃ¡c nhau: mv sáº½ sao chÃ©p rá»“i xÃ³a nguá»“n náº¿u cáº§n; náº¿u gáº·p lá»—i giá»¯a chá»«ng, báº¡n cÃ³ thá»ƒ káº¿t thÃºc vá»›i cáº£ hai báº£n hoáº·c khÃ´ng cÃ³ báº£n nÃ o â€” hÃ£y kiá»ƒm tra.

VÃ Dá»¤ Cá»¤ THá»‚ (plain text, sáºµn copy):

1. Di chuyá»ƒn tá»‡p vÃ o thÆ° má»¥c ops/ (thÆ° má»¥c ops/ Ä‘Ã£ tá»“n táº¡i):
   mv devopsfile3.txt ops/
   -> Káº¿t quáº£: ops/devopsfile3.txt (tá»‡p bá»‹ di chuyá»ƒn)

2. Náº¿u ops/ khÃ´ng tá»“n táº¡i, Ä‘á»•i tÃªn devopsfile3.txt thÃ nh ops (tá»‡p má»›i cÃ³ tÃªn 'ops' á»Ÿ cÃ¹ng thÆ° má»¥c):
   mv devopsfile3.txt ops
   -> Káº¿t quáº£: má»™t tá»‡p tÃªn 'ops' (khÃ´ng pháº£i thÆ° má»¥c) náº¿u ops chÆ°a tá»“n táº¡i

3. Di chuyá»ƒn nhiá»u tá»‡p vÃ o ops/:
   mv file1 file2 devopsfile3.txt ops/

4. Di chuyá»ƒn vá»›i xÃ¡c nháº­n trÆ°á»›c khi ghi Ä‘Ã¨:
   mv -i devopsfile3.txt ops/
   (náº¿u ops/devopsfile3.txt tá»“n táº¡i, báº¡n sáº½ Ä‘Æ°á»£c há»i y/n trÆ°á»›c khi ghi Ä‘Ã¨)

5. Di chuyá»ƒn vÃ  in verbose Ä‘á»ƒ log:
   mv -v devopsfile3.txt ops/
   (VÃ­ dá»¥ output: 'renamed â€˜devopsfile3.txtâ€™ -> â€˜ops/devopsfile3.txtâ€™')

KHI Gáº¶P Lá»–I THÆ¯á»œNG Gáº¶P VÃ€ CÃCH KHáº®C PHá»¤C:

* "mv: cannot stat 'devopsfile3.txt': No such file or directory"
  -> Kiá»ƒm tra tÃªn tá»‡p, Ä‘Æ°á»ng dáº«n, quyá»n, hoáº·c báº¡n Ä‘ang á»Ÿ nháº§m thÆ° má»¥c.

* "mv: cannot move 'devopsfile3.txt' to 'ops/devopsfile3.txt': Permission denied"
  -> Kiá»ƒm tra quyá»n ghi vÃ o thÆ° má»¥c ops/ hoáº·c quyá»n xÃ³a trÃªn tá»‡p nguá»“n; dÃ¹ng sudo náº¿u cáº§n vÃ  há»£p lÃ½.

* Náº¿u di chuyá»ƒn giá»¯a hai mount points vÃ  gáº·p lá»—i khÃ´ng gian Ä‘Ä©a: kiá»ƒm tra df -h vÃ  dung lÆ°á»£ng trÃªn filesystem Ä‘Ã­ch.

Máº¸O AN TOÃ€N KHI DÃ™NG mv TRONG SCRIPT:

* DÃ¹ng mv -i Ä‘á»ƒ trÃ¡nh ghi Ä‘Ã¨ vÃ´ Ã½ (hoáº·c kiá»ƒm tra tá»“n táº¡i rá»“i há»i trÆ°á»›c).
* Sá»­ dá»¥ng -v Ä‘á»ƒ log hÃ nh Ä‘á»™ng cho debugging.
* Vá»›i thao tÃ¡c quan trá»ng, cÃ¢n nháº¯c dÃ¹ng cp Ä‘á»ƒ táº¡o báº£n sao trÆ°á»›c, kiá»ƒm tra, rá»“i xÃ³a nguá»“n náº¿u cáº§n.

THAM KHáº¢O NHANH:

* man mv
* mv --version

============================================================
Háº¾T

Ghi chÃº: Ná»™i dung trÃªn mÃ´ táº£ hÃ nh vi cá»§a GNU mv (coreutils); cÃ¡c há»‡ thá»‘ng Unix khÃ¡c cÃ³ thá»ƒ cÃ³ khÃ¡c biá»‡t nhá».


		- cmd: mv testfile1.txt testfile22.txt
		
			ÄÃ¢y lÃ  lá»‡nh di chuyá»ƒn (move) hoáº·c Ä‘á»•i tÃªn (rename) file/thÆ° má»¥c trong Linux/Unix.
			
			VÃ¬ cáº£ hai tÃªn Ä‘á»u á»Ÿ cÃ¹ng má»™t thÆ° má»¥c â†’ lá»‡nh nÃ y Ä‘á»•i tÃªn file tá»« testfile1.txt thÃ nh testfile22.txt.
			
		- cmd: touch testfile1.txt

TOUCH testfile1.txt â€” Giáº£i thÃ­ch chi tiáº¿t (Plain text, sáºµn sÃ ng copy vÃ o .txt)

============================================================
Lá»†NH: touch testfile1.txt
Má»¥c Ä‘Ã­ch: Táº¡o tá»‡p rá»—ng má»›i cÃ³ tÃªn "testfile1.txt" náº¿u tá»‡p chÆ°a tá»“n táº¡i; náº¿u tá»‡p Ä‘Ã£ tá»“n táº¡i, cáº­p nháº­t thá»i gian truy cáº­p (atime) vÃ /hoáº·c thá»i gian sá»­a Ä‘á»•i (mtime) cá»§a tá»‡p Ä‘Ã³.

CÃCH DÃ™NG CÆ  Báº¢N:
touch [TÃ™Y_CHá»ŒN] TÃŠN_Tá»†P...
VÃ­ dá»¥ cá»¥ thá»ƒ á»Ÿ Ä‘Ã¢y: touch testfile1.txt

HÃ€NH VI CHI TIáº¾T:

* Náº¿u testfile1.txt khÃ´ng tá»“n táº¡i: touch sáº½ táº¡o má»™t tá»‡p rá»—ng cÃ³ kÃ­ch thÆ°á»›c 0 byte vá»›i tÃªn Ä‘Ã³.
* Náº¿u testfile1.txt Ä‘Ã£ tá»“n táº¡i: touch sáº½ cáº­p nháº­t timestamp (access vÃ  modification time) cá»§a tá»‡p sang thá»i Ä‘iá»ƒm hiá»‡n táº¡i.
* Lá»‡nh khÃ´ng thay Ä‘á»•i ná»™i dung tá»‡p náº¿u tá»‡p Ä‘Ã£ tá»“n táº¡i.

MÃƒ TRáº¢ Vá»€ (EXIT STATUS):
0   ThÃ nh cÃ´ng.

> 0  CÃ³ lá»—i xáº£y ra (vÃ­ dá»¥: quyá»n truy cáº­p, Ä‘Æ°á»ng dáº«n khÃ´ng há»£p lá»‡, filesystem chá»‰ Ä‘á»c).

TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG (GNU coreutils touch):

-a
Chá»‰ cáº­p nháº­t thá»i gian truy cáº­p (atime), khÃ´ng thay Ä‘á»•i thá»i gian sá»­a Ä‘á»•i (mtime).

-m
Chá»‰ cáº­p nháº­t thá»i gian sá»­a Ä‘á»•i (mtime), khÃ´ng thay Ä‘á»•i thá»i gian truy cáº­p (atime).

-c, --no-create
KhÃ´ng táº¡o tá»‡p má»›i náº¿u tá»‡p Ä‘Ã­ch khÃ´ng tá»“n táº¡i; chá»‰ cáº­p nháº­t náº¿u tá»‡p Ä‘Ã£ cÃ³.

-d, --date=STRING
Äáº·t thá»i gian (both atime vÃ  mtime) sang thá»i Ä‘iá»ƒm Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh bá»Ÿi STRING thay vÃ¬ thá»i Ä‘iá»ƒm hiá»‡n táº¡i.
VÃ­ dá»¥: touch -d "2025-01-01 12:34:56" testfile1.txt

-t [[CC]YY]MMDDhhmm[.ss]
Sá»­ dá»¥ng Ä‘á»‹nh dáº¡ng ngÃ y giá» rÃºt gá»n Ä‘á»ƒ Ä‘áº·t thá»i gian. VÃ­ dá»¥: touch -t 202510311230.45 file
(Ä‘áº·t thá»i gian thÃ nh 2025-10-31 12:30:45). CC lÃ  century, YY lÃ  nÄƒm.

-r, --reference=FILE
Sao chÃ©p timestamp tá»« FILE tham chiáº¿u sang file Ä‘Ã­ch (thay vÃ¬ dÃ¹ng thá»i gian hiá»‡n táº¡i).
VÃ­ dá»¥: touch -r source.txt dest.txt

--no-dereference
Náº¿u Ä‘Ã­ch lÃ  má»™t symbolic link, sá»­a timestamp trÃªn link Ä‘Ã³ thay vÃ¬ trÃªn file nÃ³ trá» tá»›i. (HÃ nh vi cÃ³ thá»ƒ khÃ¡c giá»¯a há»‡ thá»‘ng.)

--help
Hiá»ƒn thá»‹ trá»£ giÃºp.

--version
Hiá»ƒn thá»‹ phiÃªn báº£n touch (coreutils).

VÃ Dá»¤ THá»°C Táº¾ (Plain text, sáºµn copy):

1. Táº¡o tá»‡p rá»—ng má»›i (náº¿u chÆ°a cÃ³):
   touch testfile1.txt

2. Cáº­p nháº­t thá»i gian cá»§a tá»‡p Ä‘Ã£ tá»“n táº¡i:
   touch testfile1.txt

3. KhÃ´ng táº¡o má»›i náº¿u tá»‡p chÆ°a tá»“n táº¡i (chá»‰ cáº­p nháº­t náº¿u cÃ³):
   touch -c testfile1.txt

4. Äáº·t timestamp cá»¥ thá»ƒ:
   touch -d "2025-11-01 09:00:00" testfile1.txt

5. Sao chÃ©p timestamp tá»« file khÃ¡c:
   touch -r otherfile.txt testfile1.txt

á»¨NG Dá»¤NG THá»°C Táº¾ VÃ€ Máº¸O:

* DÃ¹ng touch Ä‘á»ƒ táº¡o file táº¡m, file lock, hoáº·c placeholder.
* DÃ¹ng touch trong script Ä‘á»ƒ cáº­p nháº­t timestamp, vÃ­ dá»¥ Ä‘á»ƒ kÃ­ch hoáº¡t cÃ¡c quy trÃ¬nh build (Makefile) hoáº·c Ä‘á»ƒ thay Ä‘á»•i thá»© tá»± sáº¯p xáº¿p theo thá»i gian.
* Khi muá»‘n thay Ä‘á»•i chá»‰ atime hoáº·c mtime Ä‘á»ƒ trÃ¡nh kÃ­ch hoáº¡t thao tÃ¡c phá»¥, dÃ¹ng -a hoáº·c -m.
* Vá»›i filesystem chá»‰ Ä‘á»c (read-only) hoáº·c khi khÃ´ng cÃ³ quyá»n ghi, touch sáº½ tháº¥t báº¡i.

Lá»–I THÆ¯á»œNG Gáº¶P VÃ€ CÃCH KHáº®C PHá»¤C:

* "touch: cannot touch 'testfile1.txt': Permission denied"
  -> Kiá»ƒm tra quyá»n ghi vÃ o thÆ° má»¥c hoáº·c dÃ¹ng sudo náº¿u há»£p lÃ½.

* "touch: cannot touch 'testfile1.txt': Read-only file system"
  -> Há»‡ thá»‘ng file á»Ÿ tráº¡ng thÃ¡i chá»‰ Ä‘á»c; cáº§n mount láº¡i vá»›i quyá»n ghi hoáº·c dÃ¹ng filesystem khÃ¡c.

* Lá»—i vá» Ä‘á»‹nh dáº¡ng ngÃ y giá» khi dÃ¹ng -d hoáº·c -t:
  -> Kiá»ƒm tra cÃº phÃ¡p vÃ  Ä‘á»‹nh dáº¡ng chÃ­nh xÃ¡c; thá»­ dÃ¹ng --help Ä‘á»ƒ biáº¿t cÃ¡ch viáº¿t chÃ­nh xÃ¡c cho há»‡ thá»‘ng cá»§a báº¡n.

THAM KHáº¢O NHANH:

* man touch
* touch --version

============================================================
Háº¾T

Ghi chÃº: MiÃªu táº£ á»Ÿ trÃªn dá»±a trÃªn GNU coreutils touch; má»™t sá»‘ há»‡ thá»‘ng Unix/BSD cÃ³ thá»ƒ cÃ³ khÃ¡c biá»‡t nhá» vá» tÃ¹y chá»n hoáº·c hÃ nh vi.


		- cmd: mv *.txt textdir/

MV *.txt textdir/ â€” Giáº£i thÃ­ch chi tiáº¿t (Plain text, sáºµn sÃ ng copy vÃ o .txt)

============================================================
Lá»†NH: mv *.txt textdir/
Má»¥c Ä‘Ã­ch: Di chuyá»ƒn táº¥t cáº£ cÃ¡c tá»‡p cÃ³ pháº§n má»Ÿ rá»™ng .txt tá»« thÆ° má»¥c hiá»‡n táº¡i vÃ o thÆ° má»¥c Ä‘Ã­ch "textdir/".

GIáº¢I THÃCH CHI TIáº¾T:

* *.txt lÃ  má»™t pattern glob (wildcard) Ä‘Æ°á»£c má»Ÿ rá»™ng bá»Ÿi shell (vÃ­ dá»¥ bash, zsh) trÆ°á»›c khi lá»‡nh mv Ä‘Æ°á»£c gá»i.
  Pattern nÃ y khá»›p vá»›i má»i tÃªn tá»‡p káº¿t thÃºc báº±ng ".txt" trong thÆ° má»¥c hiá»‡n táº¡i (khÃ´ng tÃ¬m kiáº¿m Ä‘á»‡ quy trong thÆ° má»¥c con).
* Sau khi shell má»Ÿ rá»™ng cÃ¡c pattern, lá»‡nh mv nháº­n má»™t danh sÃ¡ch cÃ¡c tÃªn tá»‡p thá»±c táº¿ nhÆ°:
  mv file1.txt notes.txt summary.txt textdir/
  vÃ  mv sáº½ di chuyá»ƒn tá»«ng tá»‡p Ä‘Ã³ vÃ o thÆ° má»¥c textdir/.

HÃ€NH VI CHI TIáº¾T TÃ™Y THEO TRÆ¯á»œNG Há»¢P:

1. Náº¿u cÃ³ Ã­t nháº¥t má»™t tá»‡p khá»›p (*.txt):

   * Shell sáº½ thay pattern báº±ng danh sÃ¡ch tá»‡p trÃ¹ng khá»›p.
   * Náº¿u textdir/ tá»“n táº¡i vÃ  lÃ  thÆ° má»¥c: cÃ¡c tá»‡p .txt sáº½ Ä‘Æ°á»£c di chuyá»ƒn vÃ o Ä‘Ã³.
   * Náº¿u textdir/ khÃ´ng tá»“n táº¡i: mv sáº½ coi "textdir/" lÃ  tÃªn Ä‘Ã­ch duy nháº¥t; vÃ¬ cÃ³ nhiá»u nguá»“n,
     mv sáº½ bÃ¡o lá»—i: "mv: target 'textdir/' is not a directory" hoáº·c tÆ°Æ¡ng tá»±.

2. Náº¿u khÃ´ng cÃ³ tá»‡p nÃ o khá»›p vá»›i pattern (*.txt):

   * HÃ nh vi phá»¥ thuá»™c vÃ o shell:

     * Bash (máº·c Ä‘á»‹nh): pattern khÃ´ng Ä‘Æ°á»£c má»Ÿ rá»™ng â€” shell giá»¯ nguyÃªn '*.txt' vÃ  mv sáº½ cá»‘ gáº¯ng di chuyá»ƒn
       tá»‡p cÃ³ tÃªn literal '*.txt' (thÆ°á»ng gÃ¢y lá»—i "No such file or directory").
     * Bash vá»›i shopt -s nullglob: pattern sáº½ bá»‹ loáº¡i (biáº¿n thÃ nh rá»—ng) -> mv sáº½ Ä‘Æ°á»£c gá»i vá»›i Ä‘á»‘i sá»‘ chá»‰ 'textdir/'
       (tÃ¹y tÃ¬nh huá»‘ng, mv cÃ³ thá»ƒ bÃ¡o lá»—i thiáº¿u tham sá»‘ nguá»“n hoáº·c thá»±c hiá»‡n khÃ´ng há»£p lá»‡).
     * Zsh: theo máº·c Ä‘á»‹nh zsh sáº½ bÃ¡o lá»—i náº¿u khÃ´ng cÃ³ khá»›p, trá»« khi cáº¥u hÃ¬nh khÃ¡c.
       VÃ¬ tháº¿ khi viáº¿t script hoáº·c cháº¡y trong mÃ´i trÆ°á»ng khÃ´ng cháº¯c cháº¯n, nÃªn xá»­ lÃ½ trÆ°á»ng há»£p khÃ´ng cÃ³ file.

3. Náº¿u textdir/ Ä‘Ã£ tá»“n táº¡i nhÆ°ng cÃ³ tá»‡p trÃ¹ng tÃªn:

   * mv sáº½ ghi Ä‘Ã¨ tá»‡p Ä‘Ã­ch theo máº·c Ä‘á»‹nh (náº¿u quyá»n cho phÃ©p). Sá»­ dá»¥ng -i Ä‘á»ƒ há»i trÆ°á»›c khi ghi Ä‘Ã¨, -n Ä‘á»ƒ khÃ´ng ghi Ä‘Ã¨.

Lá»†NH THÆ¯á»œNG DÃ™NG VÃ€ TÃ™Y CHá»ŒN AN TOÃ€N:
mv [TÃ™Y_CHá»ŒN] NGUá»’N... ÄÃCH

-i, --interactive
Há»i xÃ¡c nháº­n trÆ°á»›c khi ghi Ä‘Ã¨ tá»‡p Ä‘Ã­ch (an toÃ n khi báº¡n khÃ´ng muá»‘n máº¥t dá»¯ liá»‡u).
VÃ­ dá»¥: mv -i *.txt textdir/

-n, --no-clobber
KhÃ´ng ghi Ä‘Ã¨ tá»‡p Ä‘Ã£ tá»“n táº¡i; náº¿u tá»‡p Ä‘Ã­ch tá»“n táº¡i, nguá»“n sáº½ Ä‘Æ°á»£c bá» qua.
VÃ­ dá»¥: mv -n *.txt textdir/

-v, --verbose
In ra cÃ¡c thao tÃ¡c thá»±c hiá»‡n (giÃºp log hoáº·c kiá»ƒm tra). VÃ­ dá»¥: mv -v *.txt textdir/

-t, --target-directory=DIR
DÃ¹ng khi muá»‘n chá»‰ rÃµ thÆ° má»¥c Ä‘Ã­ch trÆ°á»›c, tiá»‡n cho script hoáº·c khi dÃ¹ng nhiá»u nguá»“n:
mv -t textdir/ *.txt

Xá»¬ LÃ AN TOÃ€N KHI Gá»ŒI Vá»šI GLOBBING (Máº¸O):

* Kiá»ƒm tra xem cÃ³ file nÃ o khá»›p trÆ°á»›c khi gá»i mv (trong bash):
  files=( *.txt )
  if [ -e "${files[0]}" ]; then
  mv -- "${files[@]}" textdir/
  else
  echo "No .txt files to move"
  fi

* DÃ¹ng nullglob Ä‘á»ƒ trÃ¡nh viá»‡c pattern khÃ´ng má»Ÿ rá»™ng thÃ nh literal trong bash:
  shopt -s nullglob
  mv -- *.txt textdir/
  shopt -u nullglob  # (khÃ´i phá»¥c náº¿u cáº§n)

* Quote vÃ  -- Ä‘á»ƒ trÃ¡nh váº¥n Ä‘á» vá»›i tÃªn tá»‡p báº¯t Ä‘áº§u báº±ng dáº¥u '-':
  mv -- *.txt textdir/
  (-- bÃ¡o cho mv ráº±ng cÃ¡c tham sá»‘ sau khÃ´ng pháº£i lÃ  tÃ¹y chá»n)

VÃ Dá»¤ THá»°C Táº¾ (Plain text, sáºµn copy):

1. Di chuyá»ƒn táº¥t cáº£ .txt vÃ o thÆ° má»¥c textdir/ (náº¿u textdir/ Ä‘Ã£ tá»“n táº¡i):
   mv *.txt textdir/

2. Di chuyá»ƒn vá»›i xÃ¡c nháº­n trÆ°á»›c khi ghi Ä‘Ã¨:
   mv -i *.txt textdir/

3. Di chuyá»ƒn vá»›i verbose Ä‘á»ƒ tháº¥y chi tiáº¿t:
   mv -v *.txt textdir/

4. An toÃ n trong script (vÃ­ dá»¥ bash):
   shopt -s nullglob
   files=( *.txt )
   if [ ${#files[@]} -gt 0 ]; then
   mv -- "${files[@]}" textdir/
   else
   echo "KhÃ´ng cÃ³ file .txt nÃ o Ä‘á»ƒ di chuyá»ƒn"
   fi
   shopt -u nullglob

Lá»–I THÆ¯á»œNG Gáº¶P VÃ€ CÃCH KHáº®C PHá»¤C:

* "mv: cannot stat '*.txt': No such file or directory"
  -> CÃ³ thá»ƒ do shell khÃ´ng má»Ÿ rá»™ng pattern (khÃ´ng cÃ³ file trÃ¹ng khá»›p). Kiá»ƒm tra báº±ng ls *.txt hoáº·c báº­t nullglob.

* "mv: target 'textdir/' is not a directory"
  -> textdir/ khÃ´ng tá»“n táº¡i hoáº·c khÃ´ng pháº£i lÃ  thÆ° má»¥c; táº¡o thÆ° má»¥c trÆ°á»›c: mkdir -p textdir

* "mv: cannot move 'a.txt' to 'textdir/a.txt': Permission denied"
  -> Kiá»ƒm tra quyá»n ghi vÃ o textdir/ hoáº·c quyá»n xÃ³a trÃªn nguá»“n; dÃ¹ng sudo náº¿u há»£p lÃ½.

* Ghi Ä‘Ã¨ file Ä‘Ã­ch: mv sáº½ ghi Ä‘Ã¨ mÃ  khÃ´ng há»i (trá»« khi dÃ¹ng -i). Sá»­ dá»¥ng -i hoáº·c -n náº¿u cáº§n báº£o vá»‡ dá»¯ liá»‡u.

LÆ¯U Ã Vá»€ HIá»†U NÄ‚NG:

* Di chuyá»ƒn trong cÃ¹ng má»™t filesystem ráº¥t nhanh (chá»‰ sá»­a entry), di chuyá»ƒn giá»¯a filesystem khÃ¡c nhau sáº½ sao chÃ©p rá»“i xÃ³a â€” cháº­m vÃ  tá»‘n I/O.

THAM KHáº¢O NGáº®N:

* man mv
* help globbing trong shell (vÃ­ dá»¥: bash manual vá» filename expansion)

============================================================
Háº¾T

Ghi chÃº: Ná»™i dung trÃªn mÃ´ táº£ hÃ nh vi chung khi dÃ¹ng mv vá»›i glob pattern trong cÃ¡c shell thÃ´ng dá»¥ng (bash, zsh). HÃ nh vi chi tiáº¿t cÃ³ thá»ƒ khÃ¡c giá»¯a shell hoáº·c khi cÃ¡c tÃ¹y chá»n shell (nhÆ° nullglob) Ä‘Æ°á»£c báº­t/táº¯t.


		- cmd: rm devopsfile10.txt

RM devopsfile10.txt â€” Giáº£i thÃ­ch chi tiáº¿t (Plain text, sáºµn sÃ ng copy vÃ o .txt)

============================================================
Lá»†NH: rm devopsfile10.txt
Má»¥c Ä‘Ã­ch: XÃ³a tá»‡p cÃ³ tÃªn "devopsfile10.txt" khá»i thÆ° má»¥c hiá»‡n táº¡i.

CÃCH HOáº T Äá»˜NG CÆ  Báº¢N:

* lá»‡nh rm (remove) sáº½ xÃ³a tÃªn tá»‡p (directory entry) vÃ  giáº£m tham chiáº¿u tá»›i inode;
  náº¿u khÃ´ng cÃ²n tham chiáº¿u nÃ o tá»›i inode, dá»¯ liá»‡u sáº½ Ä‘Æ°á»£c há»‡ thá»‘ng giáº£i phÃ³ng.
* "rm devopsfile10.txt" xÃ³a má»™t tá»‡p thÃ´ng thÆ°á»ng. Náº¿u tá»‡p khÃ´ng tá»“n táº¡i, rm sáº½ bÃ¡o lá»—i (trá»« khi dÃ¹ng -f).

MÃƒ TRáº¢ Vá»€ (EXIT STATUS):
0   ThÃ nh cÃ´ng (tá»‡p bá»‹ xÃ³a hoáº·c khÃ´ng cÃ³ lá»—i gáº·p pháº£i).

> 0  CÃ³ lá»—i (vÃ­ dá»¥: tá»‡p khÃ´ng tá»“n táº¡i, quyá»n háº¡n, há»‡ thá»‘ng file chá»‰ Ä‘á»c).

CÃC TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG (GNU coreutils rm):

-f, --force
Báº¯t buá»™c xÃ³a: khÃ´ng há»i, khÃ´ng bÃ¡o lá»—i náº¿u tá»‡p khÃ´ng tá»“n táº¡i. DÃ¹ng Ä‘á»ƒ trÃ¡nh prompt hoáº·c lá»—i khi tá»± Ä‘á»™ng hÃ³a.

-i
Há»i ngÆ°á»i dÃ¹ng xÃ¡c nháº­n cho tá»«ng tá»‡p trÆ°á»›c khi xÃ³a (y/n). An toÃ n khi xÃ³a nhiá»u tá»‡p hoáº·c tá»‡p quan trá»ng.

-I
Há»i xÃ¡c nháº­n chá»‰ khi xÃ³a nhiá»u tá»‡p hoáº·c khi xÃ³a Ä‘á»‡ quy; Ã­t gÃ¢y phiá»n toÃ¡i hÆ¡n -i.

-r, -R, --recursive
XÃ³a Ä‘á»‡ quy: cáº§n thiáº¿t khi xÃ³a thÆ° má»¥c vÃ  toÃ n bá»™ ná»™i dung bÃªn trong.

-v, --verbose
Hiá»ƒn thá»‹ cÃ¡c tá»‡p Ä‘Æ°á»£c xÃ³a (in tÃªn tá»‡p khi xÃ³a). Há»¯u Ã­ch Ä‘á»ƒ log thao tÃ¡c.

--one-file-system
Khi xÃ³a Ä‘á»‡ quy, khÃ´ng vÆ°á»£t hÃ ng rÃ o filesystem (khÃ´ng xÃ³a cÃ¡c file náº±m trÃªn filesystem khÃ¡c).

--preserve-root[=all]
Máº·c Ä‘á»‹nh ngÄƒn cháº·n viá»‡c vÃ´ tÃ¬nh xÃ³a toÃ n bá»™ há»‡ thá»‘ng báº±ng cÃ¡ch cháº¡y 'rm -rf /'.
--preserve-root lÃ  máº·c Ä‘á»‹nh hÃ nh vi an toÃ n trÃªn nhiá»u há»‡ thá»‘ng.

--no-preserve-root
Cho phÃ©p xÃ³a / náº¿u báº¡n thá»±c sá»± muá»‘n vÃ  cÃ³ quyá»n (ráº¥t nguy hiá»ƒm). KhÃ´ng khuyáº¿n nghá»‹.

--help
Hiá»ƒn thá»‹ trá»£ giÃºp.

--version
Hiá»ƒn thá»‹ phiÃªn báº£n rm (coreutils).

Sá»° KHÃC BIá»†T GIá»®A rm VÃ€ unlink:

* unlink tÃªn_tá»‡p lÃ  má»™t lá»‡nh Ä‘Æ¡n giáº£n Ä‘á»ƒ xÃ³a má»™t tá»‡p duy nháº¥t (gá»i syscall unlink).
* rm cÃ³ nhiá»u tÃ¹y chá»n hÆ¡n vÃ  cÃ³ thá»ƒ xÃ³a nhiá»u tá»‡p hoáº·c thÆ° má»¥c Ä‘á»‡ quy.

QUYá»€N VÃ€ HÃ€NH VI:

* Äá»ƒ xÃ³a tá»‡p, báº¡n cáº§n quyá»n ghi vÃ o thÆ° má»¥c chá»©a tá»‡p (khÃ´ng nháº¥t thiáº¿t cáº§n quyá»n trÃªn chÃ­nh tá»‡p).
* Náº¿u tá»‡p cÃ³ thuá»™c tÃ­nh immutable (vÃ­ dá»¥ chattr +i trÃªn ext*), rm sáº½ tháº¥t báº¡i trá»« khi báº¡n xÃ³a thuá»™c tÃ­nh Ä‘Ã³.
* Náº¿u filesystem lÃ  read-only, rm sáº½ tháº¥t báº¡i.

Rá»¦I RO VÃ€ LÆ¯U Ã AN TOÃ€N:

* rm lÃ  khÃ´ng thá»ƒ phá»¥c há»“i báº±ng lá»‡nh Ä‘Æ¡n giáº£n: má»™t khi dá»¯ liá»‡u bá»‹ unlink vÃ  khÃ´ng cÃ²n báº£n sao, khÃ´i phá»¥c sáº½ khÃ³ khÄƒn vÃ  thÆ°á»ng cáº§n cÃ´ng cá»¥ phá»¥c há»“i hoáº·c backup.
* TrÆ°á»›c khi xÃ³a tá»‡p quan trá»ng, hÃ£y Ä‘áº£m báº£o báº¡n cÃ³ backup.
* TrÃ¡nh dÃ¹ng "rm -rf /" hoáº·c "rm -rf *" trong thÆ° má»¥c khÃ´ng mong muá»‘n; dÃ¹ng --preserve-root vÃ  -i náº¿u cáº§n an toÃ n.
* Trong script, trÃ¡nh cháº¡y rm mÃ  khÃ´ng kiá»ƒm tra input; thay vÃ o Ä‘Ã³ kiá»ƒm tra existence hoáº·c dÃ¹ng prompt.

VÃ Dá»¤ THá»°C Táº¾ (Plain text, sáºµn copy):

1. XÃ³a tá»‡p devopsfile10.txt (thÆ°á»ng dÃ¹ng):
   rm devopsfile10.txt

2. XÃ³a mÃ  khÃ´ng há»i vÃ  khÃ´ng bÃ¡o lá»—i náº¿u tá»‡p khÃ´ng tá»“n táº¡i:
   rm -f devopsfile10.txt

3. XÃ³a nhiá»u tá»‡p cá»¥ thá»ƒ:
   rm file1.txt old_log.txt devopsfile10.txt

4. XÃ³a thÆ° má»¥c vÃ  toÃ n bá»™ bÃªn trong (cáº©n trá»ng):
   rm -r textdir/

5. XÃ³a vá»›i xÃ¡c nháº­n cho tá»«ng tá»‡p:
   rm -i devopsfile10.txt

6. XÃ³a vÃ  in ra tÃªn tá»‡p khi xÃ³a (ghi log):
   rm -v devopsfile10.txt

CÃC Lá»–I THÆ¯á»œNG Gáº¶P VÃ€ CÃCH KHáº®C PHá»¤C:

* "rm: cannot remove 'devopsfile10.txt': No such file or directory"
  -> Kiá»ƒm tra tÃªn tá»‡p, Ä‘Æ°á»ng dáº«n; cÃ³ thá»ƒ tá»‡p Ä‘Ã£ bá»‹ xÃ³a hoáº·c báº¡n Ä‘ang á»Ÿ thÆ° má»¥c khÃ¡c.

* "rm: cannot remove 'devopsfile10.txt': Permission denied"
  -> Kiá»ƒm tra quyá»n thÆ° má»¥c chá»©a tá»‡p; cáº§n quyá»n ghi vÃ o thÆ° má»¥c. Náº¿u cáº§n, dÃ¹ng sudo (cáº©n trá»ng): sudo rm devopsfile10.txt

* "Operation not permitted" khi tá»‡p immutable
  -> Kiá»ƒm tra thuá»™c tÃ­nh: lsattr devopsfile10.txt; náº¿u tháº¥y 'i' (immutable), bá» thuá»™c tÃ­nh báº±ng chattr -i devopsfile10.txt (yÃªu cáº§u quyá»n root).

* "Read-only file system"
  -> Filesystem Ä‘ang á»Ÿ cháº¿ Ä‘á»™ read-only; cáº§n mount láº¡i vá»›i quyá»n ghi hoáº·c dÃ¹ng filesystem khÃ¡c.

PHÆ¯Æ NG PHÃP AN TOÃ€N THAY THáº¾ (KHÃ”NG XÃ“A NGAY):

* Di chuyá»ƒn vÃ o thÃ¹ng rÃ¡c (trash) thay vÃ¬ xÃ³a vÄ©nh viá»…n (cÃ³ nhiá»u tiá»‡n Ã­ch desktop nhÆ° gio trash, gvfs-trash hoáº·c command-line trash-cli):
  trash-put devopsfile10.txt   # tá»« gÃ³i trash-cli (náº¿u cÃ i)
* Di chuyá»ƒn tá»‡p vÃ o thÆ° má»¥c lÆ°u táº¡m trÆ°á»›c khi xÃ³a:
  mkdir -p ~/.local/share/Trash/tmp_delete
  mv devopsfile10.txt ~/.local/share/Trash/tmp_delete/
* Sá»­ dá»¥ng cÃ´ng cá»¥ khÃ´i phá»¥c/backup: git, borg, restic, rsync Ä‘á»ƒ giá»¯ lá»‹ch sá»­.

Máº¸O KHI DÃ™NG rm TRONG SCRIPT:

* Kiá»ƒm tra existence trÆ°á»›c khi xÃ³a:
  if [ -e "devopsfile10.txt" ]; then
  rm -- "devopsfile10.txt"
  else
  echo "KhÃ´ng cÃ³ devopsfile10.txt"
  fi

* DÃ¹ng -- Ä‘á»ƒ ngÄƒn nháº§m láº«n vá»›i tÃªn báº¯t Ä‘áº§u báº±ng '-':
  rm -- -file.txt

* TrÃ¡nh dÃ¹ng sudo rm -rf * má»™t cÃ¡ch mÃ¹ quÃ¡ng; luÃ´n kiá»ƒm tra thÆ° má»¥c hiá»‡n táº¡i (pwd) trÆ°á»›c khi cháº¡y.

THAM KHáº¢O NHANH:

* man rm
* lsattr, chattr (kiá»ƒm tra/bá» immutable)
* trash-cli (trash-put/trash-list) Ä‘á»ƒ dÃ¹ng thÃ¹ng rÃ¡c tá»« CLI

============================================================
Háº¾T

Ghi chÃº: Ná»™i dung trÃªn mÃ´ táº£ hÃ nh vi cá»§a GNU rm (coreutils). CÃ¡c há»‡ thá»‘ng Unix khÃ¡c cÃ³ thá»ƒ khÃ¡c biá»‡t nhá»; luÃ´n kiá»ƒm tra man page há»‡ thá»‘ng náº¿u cáº§n chi tiáº¿t.


		- cmd: rm -r mobile

RM -r mobile â€” Giáº£i thÃ­ch chi tiáº¿t (Plain text, sáºµn sÃ ng copy vÃ o .txt)

============================================================
Lá»†NH: rm -r mobile
Má»¥c Ä‘Ã­ch: XÃ³a thÆ° má»¥c cÃ³ tÃªn "mobile" vÃ  toÃ n bá»™ ná»™i dung bÃªn trong má»™t cÃ¡ch Ä‘á»‡ quy.

GIáº¢I THÃCH CHUNG:

* TÃ¹y chá»n -r (hoáº·c -R, --recursive) cho lá»‡nh rm yÃªu cáº§u xÃ³a Ä‘á»‡ quy: rm sáº½ vÃ o thÆ° má»¥c mobile,
  xÃ³a táº¥t cáº£ tá»‡p vÃ  thÆ° má»¥c con bÃªn trong, rá»“i xÃ³a chÃ­nh thÆ° má»¥c mobile.
* ÄÃ¢y lÃ  thao tÃ¡c vÄ©nh viá»…n (unlink); khi tá»‡p bá»‹ xÃ³a theo cÃ¡ch nÃ y, viá»‡c khÃ´i phá»¥c cÃ³ thá»ƒ ráº¥t khÃ³ khÄƒn
  náº¿u khÃ´ng cÃ³ backup hoáº·c cÃ´ng cá»¥ phá»¥c há»“i chuyÃªn dá»¥ng.

MÃƒ TRáº¢ Vá»€ (EXIT STATUS):
0   ThÃ nh cÃ´ng (toÃ n bá»™ ná»™i dung Ä‘Ã£ bá»‹ xÃ³a hoáº·c khÃ´ng cÃ³ lá»—i nghiÃªm trá»ng).

> 0  CÃ³ lá»—i xáº£y ra (vÃ­ dá»¥: quyá»n háº¡n, filesystem read-only, má»™t sá»‘ tá»‡p khÃ´ng thá»ƒ xÃ³a).

QUYá»€N VÃ€ HÃ€NH VI:

* Äá»ƒ xÃ³a mobile, báº¡n cáº§n quyá»n ghi vÃ o thÆ° má»¥c chá»©a mobile (khÃ´ng nháº¥t thiáº¿t cáº§n quyá»n trÃªn cÃ¡c tá»‡p bÃªn trong),
  vÃ  báº¡n cáº§n quyá»n Ä‘á»ƒ xÃ³a tá»«ng entry trong mobile.
* Náº¿u má»™t tá»‡p trong mobile cÃ³ thuá»™c tÃ­nh immutable (vÃ­ dá»¥ chattr +i), rm sáº½ khÃ´ng thá»ƒ xÃ³a cho Ä‘áº¿n khi thuá»™c tÃ­nh bá»‹ bá».
* Náº¿u mobile hoáº·c cÃ¡c tá»‡p con náº±m trÃªn filesystem read-only, lá»‡nh sáº½ tháº¥t báº¡i.

TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG Vá»šI rm -r:
-f, --force
Ã‰p xÃ³a: khÃ´ng há»i, bá» qua lá»—i khi tá»‡p khÃ´ng tá»“n táº¡i, vÃ  cá»‘ gáº¯ng xÃ³a má»i thá»©. Káº¿t há»£p phá»• biáº¿n lÃ  rm -rf mobile
(ráº¥t máº¡nh â€” dÃ¹ng cáº©n trá»ng).

-i
Há»i xÃ¡c nháº­n cho tá»«ng tá»‡p trÆ°á»›c khi xÃ³a (ráº¥t an toÃ n nhÆ°ng phiá»n náº¿u nhiá»u tá»‡p).

-I
Há»i má»™t láº§n khi xÃ³a nhiá»u tá»‡p hoáº·c xÃ³a Ä‘á»‡ quy; Ã­t phiá»n hÆ¡n -i nhÆ°ng váº«n cung cáº¥p lá»›p báº£o vá»‡.

-v, --verbose
In ra cÃ¡c thao tÃ¡c: tÃªn tá»‡p/thÆ° má»¥c Ä‘ang xÃ³a. Há»¯u Ã­ch Ä‘á»ƒ log hoáº·c kiá»ƒm tra.

--one-file-system
Khi xÃ³a Ä‘á»‡ quy, khÃ´ng vÆ°á»£t qua ranh giá»›i filesystem (khÃ´ng xÃ³a tá»‡p náº±m trÃªn mount khÃ¡c).

--preserve-root[=all]
NgÄƒn cháº·n viá»‡c vÃ´ tÃ¬nh xÃ³a toÃ n bá»™ há»‡ thá»‘ng ("/") khi sá»­ dá»¥ng -rf /. ÄÃ¢y thÆ°á»ng lÃ  máº·c Ä‘á»‹nh trÃªn nhiá»u há»‡ thá»‘ng.

--no-preserve-root
Cho phÃ©p (ráº¥t nguy hiá»ƒm) xÃ³a / náº¿u lá»‡nh Ä‘Æ°á»£c chá»‰ rÃµ. KhÃ´ng khuyáº¿n nghá»‹.

Rá»¦I RO VÃ€ LÆ¯U Ã AN TOÃ€N:

* "rm -rf" ráº¥t nguy hiá»ƒm: lá»—i gÃµ Ä‘Æ°á»ng dáº«n hoáº·c cháº¡y táº¡i thÆ° má»¥c khÃ´ng Ä‘Ãºng cÃ³ thá»ƒ xÃ³a nhiá»u dá»¯ liá»‡u quan trá»ng.
* KhÃ´ng cháº¡y cÃ¡c lá»‡nh do ngÆ°á»i khÃ¡c copy-paste khi báº¡n khÃ´ng hiá»ƒu hoÃ n toÃ n (vÃ­ dá»¥: sudo rm -rf $SOMETHING).
* TrÃ¡nh dÃ¹ng sudo trá»« khi tháº­t sá»± cáº§n vÃ  hiá»ƒu rÃµ háº­u quáº£.
* Kiá»ƒm tra vá»‹ trÃ­ hiá»‡n táº¡i báº±ng pwd trÆ°á»›c khi cháº¡y rm -r.

VÃ Dá»¤ THá»°C Táº¾ (Plain text, sáºµn copy):

1. XÃ³a thÆ° má»¥c mobile vÃ  toÃ n bá»™ ná»™i dung (há»i trÆ°á»›c khi ghi Ä‘Ã¨ má»—i tá»‡p):
   rm -r -i mobile

2. XÃ³a ngay, khÃ´ng há»i, cho script hoáº·c clean-up: (Cáº£nh bÃ¡o: vÄ©nh viá»…n)
   rm -rf mobile

3. XÃ³a vÃ  in log cÃ¡c tá»‡p bá»‹ xÃ³a:
   rm -rv mobile

4. An toÃ n hÆ¡n â€” liá»‡t kÃª trÆ°á»›c rá»“i xÃ³a (hai bÆ°á»›c):
   ls -la mobile
   rm -r mobile

5. Trong script (kiá»ƒm tra tá»“n táº¡i trÆ°á»›c khi xÃ³a):
   if [ -d "mobile" ]; then
   rm -rf -- "mobile"
   else
   echo "ThÆ° má»¥c 'mobile' khÃ´ng tá»“n táº¡i"
   fi

Lá»–I THÆ¯á»œNG Gáº¶P VÃ€ CÃCH KHáº®C PHá»¤C:

* "rm: cannot remove 'mobile': Is a directory"
  -> ThÆ°á»ng xuáº¥t hiá»‡n náº¿u báº¡n cháº¡y rm trÃªn thÆ° má»¥c mÃ  khÃ´ng dÃ¹ng -r. ThÃªm -r Ä‘á»ƒ xÃ³a Ä‘á»‡ quy.

* "rm: cannot remove '...': Permission denied"
  -> Kiá»ƒm tra quyá»n trÃªn thÆ° má»¥c cha vÃ  cÃ¡c entry; náº¿u cáº§n, dÃ¹ng sudo (cáº©n trá»ng) hoáº·c Ä‘á»•i quyá»n.

* "Operation not permitted"
  -> Kiá»ƒm tra thuá»™c tÃ­nh immutable: lsattr -a mobile; náº¿u cÃ³ 'i', bá» báº±ng chattr -i (yÃªu cáº§u quyá»n root).

* "Read-only file system"
  -> Filesystem Ä‘ang á»Ÿ cháº¿ Ä‘á»™ chá»‰ Ä‘á»c; cáº§n mount láº¡i vá»›i quyá»n ghi hoáº·c xá»­ lÃ½ trÃªn filesystem khÃ¡c.

AN TOÃ€N THAY THáº¾ (KHÃ”NG XÃ“A NGAY):

* Di chuyá»ƒn vÃ o thÃ¹ng rÃ¡c (náº¿u cÃ³ desktop/trash-cli):
  trash-put mobile   # (náº¿u cÃ i trash-cli)

* Di chuyá»ƒn sang thÆ° má»¥c táº¡m Ä‘á»ƒ kiá»ƒm tra trÆ°á»›c khi xÃ³a:
  mv mobile ~/to_delete_mobile_

* Táº¡o backup (nÃ©n) trÆ°á»›c khi xÃ³a:
  tar -czf mobile-backup-$(date +%Y%m%d).tar.gz mobile
  rm -rf mobile

* Sá»­ dá»¥ng cÃ´ng cá»¥ version control hoáº·c snapshot (git, btrfs snapshot, lvm snapshot) Ä‘á»ƒ cÃ³ thá»ƒ khÃ´i phá»¥c.

Xá»¬ LÃ TRÆ¯á»œNG Há»¢P Lá»šN/Há»† THá»NG Táº¬P TIN Lá»šN:

* Khi thÆ° má»¥c chá»©a ráº¥t nhiá»u file, rm -rf cÃ³ thá»ƒ máº¥t thá»i gian vÃ  tá»‘n I/O. Má»™t cÃ¡ch nhanh hÆ¡n trÃªn má»™t sá»‘ há»‡ thá»‘ng:

  * DÃ¹ng find Ä‘á»ƒ xÃ³a theo batches: find mobile -type f -print0 | xargs -0 rm -f
  * XÃ³a entries báº±ng python/perl script nhanh hÆ¡n trong má»™t sá»‘ trÆ°á»ng há»£p.
  * Náº¿u filesystem support, xÃ³a báº±ng cÃ¡ch xÃ³a directory entry cáº¥p cao: echo '' > mobile; rmdir mobile? (khÃ´ng phá»• biáº¿n)
* Vá»›i há»‡ thá»‘ng NFS hoáº·c mount network, thao tÃ¡c cÃ³ thá»ƒ cháº­m vÃ  rá»§i ro hÆ¡n; tiáº¿n hÃ nh cáº©n tháº­n.

Máº¸O SCRIPTING (AN TOÃ€N):

* Sá»­ dá»¥ng -- Ä‘á»ƒ ngÄƒn tÃªn báº¯t Ä‘áº§u báº±ng '-' hiá»ƒu thÃ nh tÃ¹y chá»n:
  rm -rf -- "mobile"

* Kiá»ƒm tra biáº¿n trÆ°á»›c khi dÃ¹ng trong rm:
  if [ -z "$TARGET" ]; then
  echo "TARGET is empty, abort"; exit 1
  fi
  rm -rf -- "$TARGET"

* Ghi log trÆ°á»›c khi xÃ³a vÃ /hoáº·c gá»­i email thÃ´ng bÃ¡o náº¿u xÃ³a á»Ÿ mÃ´i trÆ°á»ng production.

THAM KHáº¢O NHANH:

* man rm
* chattr, lsattr (kiá»ƒm tra thuá»™c tÃ­nh immutable)
* trash-cli (trash-put) cho phÆ°Æ¡ng Ã¡n khÃ´ng xÃ³a vÄ©nh viá»…n

============================================================
Háº¾T

Ghi chÃº: Ná»™i dung trÃªn mÃ´ táº£ hÃ nh vi cá»§a GNU rm (coreutils). LuÃ´n kiá»ƒm tra man page há»‡ thá»‘ng khi cáº§n chi tiáº¿t theo mÃ´i trÆ°á»ng cá»§a báº¡n.


		- cmd: mkdir testdir{1..5}

Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: mkdir testdir{1..5}

MÃ´ táº£ ngáº¯n:
mkdir testdir{1..5}

* DÃ¹ng tÃ­nh nÄƒng *brace expansion* cá»§a shell (vÃ­ dá»¥: bash, zsh).
* Shell sáº½ má»Ÿ rá»™ng `testdir{1..5}` thÃ nh: `testdir1 testdir2 testdir3 testdir4 testdir5` trÆ°á»›c khi cháº¡y lá»‡nh.
* Káº¿t quáº£: lá»‡nh `mkdir` sáº½ táº¡o 5 thÆ° má»¥c cÃ³ tÃªn tÆ°Æ¡ng á»©ng trong thÆ° má»¥c hiá»‡n táº¡i.

Chi tiáº¿t hÃ nh vi:

1. Brace expansion:

   * CÃº phÃ¡p `{start..end}` táº¡o má»™t dÃ£y sá»‘ nguyÃªn tÄƒng dáº§n (vÃ­ dá»¥ `{1..5}` â†’ `1 2 3 4 5`).
   * CÃ³ thá»ƒ thÃªm bÆ°á»›c nháº£y: `{1..10..2}` â†’ `1 3 5 7 9`.
2. Thá»© tá»± xá»­ lÃ½ cá»§a shell:

   * Shell thá»±c hiá»‡n brace expansion â†’ word splitting/quote removal â†’ gá»i lá»‡nh `mkdir` vá»›i cÃ¡c Ä‘á»‘i sá»‘ Ä‘Ã£ Ä‘Æ°á»£c má»Ÿ rá»™ng.
3. Náº¿u má»™t (hoáº·c nhiá»u) thÆ° má»¥c Ä‘Ã£ tá»“n táº¡i:

   * `mkdir` sáº½ bÃ¡o lá»—i cho tá»«ng tÃªn Ä‘Ã£ tá»“n táº¡i vÃ  tráº£ mÃ£ lá»—i (thÆ°á»ng váº«n táº¡o nhá»¯ng thÆ° má»¥c chÆ°a cÃ³).
   * Äá»ƒ trÃ¡nh lá»—i náº¿u thÆ° má»¥c Ä‘Ã£ cÃ³, dÃ¹ng tÃ¹y chá»n `-p` (parents): `mkdir -p testdir{1..5}`. TÃ¹y chá»n nÃ y sáº½ khÃ´ng bÃ¡o lá»—i náº¿u thÆ° má»¥c tá»“n táº¡i vÃ  sáº½ táº¡o cáº£ thÆ° má»¥c cha náº¿u cáº§n.
4. TÆ°Æ¡ng Ä‘Æ°Æ¡ng khÃ´ng dÃ¹ng brace expansion:

   * `mkdir testdir1 testdir2 testdir3 testdir4 testdir5`

VÃ­ dá»¥ thá»±c táº¿ (copy & paste cháº¡y ngay):
mkdir testdir{1..5}

VÃ­ dá»¥ an toÃ n (khÃ´ng bÃ¡o lá»—i náº¿u Ä‘Ã£ tá»“n táº¡i):
mkdir -p testdir{1..5}

Ghi chÃº thÃªm:

* Brace expansion lÃ  tÃ­nh nÄƒng cá»§a shell, khÃ´ng pháº£i cá»§a `mkdir`. Náº¿u báº¡n cháº¡y lá»‡nh trong shell khÃ´ng há»— trá»£ brace expansion, chuá»—i sáº½ khÃ´ng Ä‘Æ°á»£c má»Ÿ rá»™ng.
* Náº¿u báº¡n cáº§n táº¡o thÆ° má»¥c trong má»™t Ä‘Æ°á»ng dáº«n cá»¥ thá»ƒ, thÃªm Ä‘Æ°á»ng dáº«n trÆ°á»›c tÃªn: `mkdir -p /path/to/testdir{1..5}`.

---

(Pháº§n trÃªn lÃ  plain text, Ä‘á»‹nh dáº¡ng rÃµ rÃ ng â€” báº¡n cÃ³ thá»ƒ nháº¥n nÃºt copy Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung vÃ o file .txt vÃ  lÆ°u.)


		- cmd: rm -rf *

Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: rm -rf *

MÃ´ táº£ ngáº¯n:
rm -rf *

* LÃ  má»™t lá»‡nh xÃ³a táº­p tin/thÆ° má»¥c trÃªn Unix/Linux.
* Náº¿u cháº¡y trong thÆ° má»¥c hiá»‡n táº¡i, nÃ³ sáº½ **xÃ³a táº¥t cáº£ cÃ¡c má»¥c con** (files vÃ  directories) mÃ  shell má»Ÿ rá»™ng tá»« `*`.

Giáº£i thÃ­ch tá»«ng pháº§n:

1. `rm`

   * LÃ  chÆ°Æ¡ng trÃ¬nh xÃ³a (remove) file vÃ  thÆ° má»¥c (khi dÃ¹ng cÃ¹ng tÃ¹y chá»n thÃ­ch há»£p).
2. `-r` hoáº·c `-R` (recursive)

   * XÃ³a Ä‘á»‡ quy: cho phÃ©p xÃ³a thÆ° má»¥c vÃ  toÃ n bá»™ ná»™i dung bÃªn trong (subdirectories vÃ  files).
3. `-f` (force)

   * Báº¯t buá»™c (force) â€” bá» qua cÃ¡c cáº£nh bÃ¡o, khÃ´ng há»i xÃ¡c nháº­n, vÃ  cá»‘ gáº¯ng xÃ³a ngay cáº£ khi khÃ´ng cÃ³ quyá»n (náº¿u cÃ³ quyá»n root) hoáº·c khi file khÃ´ng tá»“n táº¡i (khÃ´ng bÃ¡o lá»—i khi file khÃ´ng cÃ³).
4. `*` (shell glob)

   * LÃ  phÃ©p má»Ÿ rá»™ng bá»Ÿi shell (vÃ­ dá»¥ bash, zsh). `*` khá»›p vá»›i táº¥t cáº£ tÃªn (trá»« cÃ¡c tÃªn báº¯t Ä‘áº§u báº±ng dáº¥u cháº¥m `.` trá»« khi báº­t `dotglob` hoáº·c viáº¿t explicit `.*`).
   * TrÆ°á»›c khi `rm` Ä‘Æ°á»£c gá»i, shell sáº½ thay `*` báº±ng danh sÃ¡ch cÃ¡c tÃªn trong thÆ° má»¥c hiá»‡n táº¡i.

HÃ nh vi thá»±c táº¿ vÃ  lÆ°u Ã½ an toÃ n:

* Khi thá»±c thi `rm -rf *`, shell sáº½ truyá»n danh sÃ¡ch tÃªn tá»›i `rm`. `rm` sáº½ xÃ³a láº§n lÆ°á»£t cÃ¡c má»¥c Ä‘Ã³, Ä‘á»‡ quy vÃ o cÃ¡c thÆ° má»¥c náº¿u cÃ³.
* **Ráº¥t nguy hiá»ƒm** náº¿u báº¡n Ä‘ang á»Ÿ trong thÆ° má»¥c há»‡ thá»‘ng (nhÆ° `/`, `/home`, `/var`, `/etc`) hoáº·c Ä‘ang cháº¡y vá»›i quyá»n root â€” cÃ³ thá»ƒ lÃ m máº¥t toÃ n bá»™ dá»¯ liá»‡u há»‡ thá»‘ng vÃ /hoáº·c khiáº¿n há»‡ Ä‘iá»u hÃ nh khÃ´ng hoáº¡t Ä‘á»™ng.
* `-f` sáº½ táº¯t cÃ¡c lá»i nháº¯c; khÃ´ng cÃ³ cÃ¡ch â€œundoâ€ Ä‘Æ¡n giáº£n.
* `*` **khÃ´ng khá»›p** cÃ¡c file áº©n (báº¯t Ä‘áº§u báº±ng `.`) trá»« khi shell Ä‘Æ°á»£c cáº¥u hÃ¬nh khÃ¡c.

Má»™t sá»‘ tÃ¬nh huá»‘ng hay gÃ¢y lá»—i tai háº¡i:

* Cháº¡y lá»‡nh á»Ÿ nháº§m thÆ° má»¥c (vÃ­ dá»¥ Ä‘ang á»Ÿ `/` hoáº·c `/home` thay vÃ¬ `~/work`).
* Cháº¡y lá»‡nh vá»›i `sudo` hoáº·c lÃ  user root â€” lÃ m cho lá»‡nh cÃ³ thá»ƒ xÃ³a nhá»¯ng thá»© báº¡n khÃ´ng thá»ƒ khÃ´i phá»¥c.
* Sá»­ dá»¥ng trong script mÃ  khÃ´ng kiá»ƒm tra Ä‘Æ°á»ng dáº«n â€” script cÃ³ thá»ƒ cháº¡y á»Ÿ vá»‹ trÃ­ khÃ¡c so vá»›i dá»± kiáº¿n.
* GÃµ nháº§m dáº¥u, vÃ­ dá»¥ `rm -rf /*` (thÃªm dáº¥u gáº¡ch chÃ©o) cÃ³ kháº£ nÄƒng xÃ³a toÃ n bá»™ filesystem (há»‡ thá»‘ng hiá»‡n Ä‘áº¡i thÆ°á»ng cÃ³ cÆ¡ cháº¿ báº£o vá»‡ nhÆ°ng váº«n cá»±c ká»³ nguy hiá»ƒm).

CÃ¡ch giáº£m rá»§i ro (an toÃ n hÆ¡n):

* Kiá»ƒm tra trÆ°á»›c nhá»¯ng gÃ¬ sáº½ bá»‹ xÃ³a: dÃ¹ng `ls` hoáº·c `echo` cÃ¹ng glob:

  * `echo *`  (xem danh sÃ¡ch file/thÆ° má»¥c mÃ  `*` sáº½ má»Ÿ rá»™ng thÃ nh)
  * `ls -al`  (kiá»ƒm tra cáº©n tháº­n trÆ°á»›c khi xÃ³a)
* KhÃ´ng dÃ¹ng `-f` khi Ä‘ang thá»­ nghiá»‡m; hÃ£y Ä‘á»ƒ `rm` há»i xÃ¡c nháº­n báº±ng tay (khÃ´ng dÃ¹ng `-f`).
* DÃ¹ng tÃ¹y chá»n tÆ°Æ¡ng tÃ¡c: `rm -r -i *` (hoáº·c `rm -ri *`) â€” `-i` sáº½ há»i xÃ¡c nháº­n trÆ°á»›c khi xÃ³a tá»«ng file.
* Sá»­ dá»¥ng `--preserve-root` (máº·c Ä‘á»‹nh trÃªn nhiá»u há»‡ thá»‘ng GNU `rm`) báº£o vá»‡ viá»‡c xÃ³a `/`. **KhÃ´ng** dÃ¹ng `--no-preserve-root` trá»« khi báº¡n hiá»ƒu rÃµ háº­u quáº£.
* Thay vÃ¬ xÃ³a ngay, di chuyá»ƒn vÃ o thÃ¹ng rÃ¡c táº¡m thá»i:

  * DÃ¹ng `trash` hoáº·c `trash-cli` (náº¿u cÃ i) Ä‘á»ƒ cÃ³ thá»ƒ phá»¥c há»“i.
  * Hoáº·c di chuyá»ƒn file vÃ o má»™t thÆ° má»¥c táº¡m `mv * ~/trash-delete-YYYYMMDD/` sau Ä‘Ã³ kiá»ƒm tra trÆ°á»›c khi xÃ³a vÄ©nh viá»…n.
* Trong script, dÃ¹ng Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i vÃ  kiá»ƒm tra biáº¿n: vÃ­ dá»¥ kiá»ƒm tra `if [ "$TARGET" != "/" ]` (náº¿u viáº¿t script). LuÃ´n kiá»ƒm tra biáº¿n mÃ´i trÆ°á»ng vÃ  current working directory.

PhÃ¢n biá»‡t má»™t sá»‘ biáº¿n thá»ƒ thÆ°á»ng gáº·p:

* `rm -rf *` â€” xÃ³a táº¥t cáº£ items mÃ  `*` má»Ÿ rá»™ng thÃ nh (khÃ´ng xÃ³a cÃ¡c file áº©n `.`... trá»« khi cÃ³ pattern phÃ¹ há»£p).
* `rm -rf .* *` â€” cÃ³ thá»ƒ xÃ³a file áº©n vÃ  cÃ¡c thÆ° má»¥c `.` vÃ  `..` náº¿u dÃ¹ng khÃ´ng cáº©n tháº­n; **khÃ´ng nÃªn** dÃ¹ng `rm -rf .*` vÃ¬ cÃ³ thá»ƒ áº£nh hÆ°á»Ÿng tá»›i `..`.
* `rm -rf /` hoáº·c `rm -rf /*` â€” cá»±c ká»³ nguy hiá»ƒm (cÃ³ thá»ƒ phÃ¡ há»§y há»‡ thá»‘ng). Há»‡ thá»‘ng GNU `rm` thÆ°á»ng cÃ³ `--preserve-root` Ä‘á»ƒ cháº·n `rm -rf /` trá»« khi báº¡n dÃ¹ng `--no-preserve-root`.

KhÃ´i phá»¥c dá»¯ liá»‡u náº¿u lá»¡ xÃ³a:

* KhÃ´ng cÃ³ lá»‡nh "undo" cho `rm`.
* Ngay khi phÃ¡t hiá»‡n: ngáº¯t káº¿t ná»‘i á»• Ä‘Ä©a (hoáº·c táº¯t mÃ¡y) Ä‘á»ƒ trÃ¡nh ghi Ä‘Ã¨, vÃ  sá»­ dá»¥ng cÃ´ng cá»¥ phá»¥c há»“i chuyÃªn sÃ¢u (vÃ­ dá»¥: extundelete, testdisk/photorec, cÃ¡c dá»‹ch vá»¥ phá»¥c há»“i dá»¯ liá»‡u chuyÃªn nghiá»‡p). Tuy nhiÃªn kháº£ nÄƒng há»“i phá»¥c phá»¥ thuá»™c vÃ o há»‡ thá»‘ng tá»‡p, hoáº¡t Ä‘á»™ng sau khi xÃ³a, vÃ  pháº£i thá»±c hiá»‡n nhanh.
* Tá»‘t nháº¥t: phá»¥c há»“i tá»« backup (náº¿u cÃ³). VÃ¬ váº­y luÃ´n cÃ³ backup trÆ°á»›c khi thá»±c hiá»‡n thao tÃ¡c nguy hiá»ƒm.

VÃ­ dá»¥ (chá»‰ Ä‘á»ƒ tham kháº£o, HÃƒY Äá»ŒC Cáº¢ NHá»®NG LÆ¯U Ã á» TRÃŠN):

# Xem danh sÃ¡ch trÆ°á»›c khi xÃ³a

echo *
ls -al

# An toÃ n hÆ¡n: há»i xÃ¡c nháº­n tá»«ng file

rm -ri *

# An toÃ n nháº¥t: di chuyá»ƒn sang thÆ° má»¥c táº¡m trÆ°á»›c

mkdir -p ~/trash-delete-$(date +%Y%m%d)
mv * ~/trash-delete-$(date +%Y%m%d)/

# Kiá»ƒm tra ~/trash-delete-... rá»“i xÃ³a vÄ©nh viá»…n náº¿u cháº¯c cháº¯n

Lá»i khuyÃªn cuá»‘i:

* Äá»«ng bao giá» cháº¡y `rm -rf *` khi báº¡n khÃ´ng biáº¿t chÃ­nh xÃ¡c CWD (current working directory) lÃ  Ä‘Ã¢u.
* LuÃ´n cÃ³ backup (git, rsync, snapshot, cloud backup) cho dá»¯ liá»‡u quan trá»ng.
* Náº¿u khÃ´ng tá»± tin, há»i Ä‘á»“ng nghiá»‡p hoáº·c dÃ¹ng phÆ°Æ¡ng phÃ¡p an toÃ n (di chuyá»ƒn thay vÃ¬ xÃ³a ngay).

---

(Pháº§n trÃªn lÃ  plain text, Ä‘á»‹nh dáº¡ng rÃµ rÃ ng â€” báº¡n cÃ³ thá»ƒ nháº¥n nÃºt copy Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung vÃ o file .txt vÃ  lÆ°u.)


		- cmd: history

Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: history

MÃ´ táº£ ngáº¯n:
history

* LÃ  builtin cá»§a shell (vÃ­ dá»¥: bash, zsh). Hiá»ƒn thá»‹ danh sÃ¡ch cÃ¡c lá»‡nh Ä‘Ã£ cháº¡y trong phiÃªn shell hiá»‡n táº¡i (vÃ  thÃ´ng tin lá»‹ch sá»­ Ä‘Æ°á»£c lÆ°u trong file lá»‹ch sá»­ nhÆ° `~/.bash_history`).

CÃ¡c hÃ nh vi cÆ¡ báº£n:

* GÃµ `history` sáº½ in ra danh sÃ¡ch lá»‡nh Ä‘Ã£ nháº­p cÃ¹ng chá»‰ sá»‘ (sá»‘ thá»© tá»±) trong phiÃªn hiá»‡n táº¡i.
* Má»—i shell cÃ³ cÃ¡ch lÆ°u vÃ  Ä‘á»“ng bá»™ lá»‹ch sá»­ khÃ¡c nhau (vÃ­ dá»¥ bash ghi vÃ o `~/.bash_history` khi phiÃªn káº¿t thÃºc, nhÆ°ng cÃ³ thá»ƒ dÃ¹ng cÃ¡c tuá»³ chá»n Ä‘á»ƒ ghi sá»›m hÆ¡n).

CÃ¡c tÃ¹y chá»n thÆ°á»ng dÃ¹ng (Bash builtin):

* `history` â€” hiá»ƒn thá»‹ toÃ n bá»™ lá»‹ch sá»­ (theo máº·c Ä‘á»‹nh hiá»‡n thÆ°á»ng lÃ  vÃ i nghÃ¬n dÃ²ng tuá»³ biáº¿n thá»ƒ vÃ  cáº¥u hÃ¬nh).
* `history N` â€” hiá»ƒn thá»‹ N dÃ²ng cuá»‘i cÃ¹ng (vÃ­ dá»¥ `history 20`).
* `history -c` â€” xoÃ¡ toÃ n bá»™ lá»‹ch sá»­ cá»§a phiÃªn hiá»‡n táº¡i (chá»‰ xÃ³a trong bá»™ nhá»› phiÃªn nÃ y). KhÃ´ng xÃ³a file lá»‹ch sá»­ trÃªn Ä‘Ä©a trá»« khi báº¡n ghi Ä‘Ã¨ file.
* `history -w [file]` â€” ghi (write) lá»‹ch sá»­ cá»§a phiÃªn hiá»‡n táº¡i vÃ o file (máº·c Ä‘á»‹nh `~/.bash_history` náº¿u khÃ´ng chá»‰ Ä‘á»‹nh file).
* `history -r [file]` â€” Ä‘á»c (read) file lá»‹ch sá»­ vÃ o lá»‹ch sá»­ phiÃªn hiá»‡n táº¡i (append vÃ o bá»™ nhá»› lá»‹ch sá»­ cá»§a phiÃªn hiá»‡n táº¡i).
* `history -a [file]` â€” append (thÃªm) cÃ¡c lá»‡nh má»›i cá»§a phiÃªn hiá»‡n táº¡i vÃ o file lá»‹ch sá»­ (máº·c Ä‘á»‹nh `~/.bash_history`).
* `history -n [file]` â€” Ä‘á»c cÃ¡c lá»‡nh má»›i tá»« file lá»‹ch sá»­ ká»ƒ tá»« láº§n Ä‘á»c trÆ°á»›c (Ä‘á»ƒ Ä‘á»“ng bá»™ nhiá»u cá»­a sá»• shell).
* `history -d offset` â€” xÃ³a lá»‡nh táº¡i vá»‹ trÃ­ `offset` (sá»‘ thá»© tá»±) trong lá»‹ch sá»­ cá»§a phiÃªn hiá»‡n táº¡i.

CÃ¡c biáº¿n mÃ´i trÆ°á»ng/biáº¿n cáº¥u hÃ¬nh quan trá»ng (bash):

* `HISTFILE` â€” Ä‘Æ°á»ng dáº«n file lÆ°u lá»‹ch sá»­ (máº·c Ä‘á»‹nh `~/.bash_history`).
* `HISTSIZE` â€” sá»‘ lá»‡nh lÆ°u trong bá»™ nhá»› (phiÃªn hiá»‡n táº¡i).
* `HISTFILESIZE` â€” sá»‘ lá»‡nh lÆ°u vÃ o file lá»‹ch sá»­.
* `HISTCONTROL` â€” Ä‘iá»u khiá»ƒn cÃ¡c dÃ²ng sáº½ khÃ´ng Ä‘Æ°á»£c lÆ°u, vÃ­ dá»¥:

  * `ignoredups` â€” bá» qua cÃ¡c lá»‡nh trÃ¹ng láº·p liÃªn tiáº¿p.
  * `ignorespace` â€” bá» cÃ¡c dÃ²ng báº¯t Ä‘áº§u báº±ng dáº¥u cÃ¡ch.
  * `ignoreboth` â€” tÆ°Æ¡ng Ä‘Æ°Æ¡ng `ignorespace` + `ignoredups`.
* `HISTIGNORE` â€” danh sÃ¡ch pattern Ä‘á»ƒ bá» qua (vÃ­ dá»¥ `HISTIGNORE='ls:pwd:exit'`).
* `HISTTIMEFORMAT` â€” náº¿u Ä‘Æ°á»£c thiáº¿t láº­p, lá»‹ch sá»­ sáº½ in kÃ¨m dáº¥u thá»i gian theo Ä‘á»‹nh dáº¡ng `strftime` (vÃ­ dá»¥ `export HISTTIMEFORMAT='%F %T '` sáº½ hiá»ƒn thá»‹ thá»i gian `YYYY-MM-DD HH:MM:SS`).

CÃ¡c thao tÃ¡c há»¯u Ã­ch (vÃ­ dá»¥ Ä‘á»ƒ copy & paste trá»±c tiáº¿p vÃ o file .txt):

# Hiá»ƒn thá»‹ toÃ n bá»™ lá»‹ch sá»­

history

# Hiá»ƒn thá»‹ 50 lá»‡nh cuá»‘i

history 50

# TÃ¬m trong lá»‹ch sá»­ (káº¿t há»£p grep)

history | grep sudo

# XÃ³a lá»‹ch sá»­ cá»§a phiÃªn hiá»‡n táº¡i (cáº©n tháº­n):

history -c

# Náº¿u muá»‘n ghi Ä‘Ã¨ file lá»‹ch sá»­ trÃªn Ä‘Ä©a sau khi -c:

history -w

# XÃ³a má»¥c lá»‹ch sá»­ theo sá»‘ thá»© tá»± (vÃ­ dá»¥ xÃ³a má»¥c 123):

history -d 123

# Ghi ngay lá»‹ch sá»­ má»›i vÃ o file ~/.bash_history

history -a

# Äá»c cÃ¡c lá»‡nh tá»« file lá»‹ch sá»­ vÃ o phiÃªn hiá»‡n táº¡i

history -r

# Äáº·t format thá»i gian cho history (hiá»ƒn thá»‹ thá»i gian):

export HISTTIMEFORMAT='%F %T '
history

# Tá»± Ä‘á»™ng ghi ngay vÃ o file khi cÃ³ lá»‡nh má»›i (trong ~/.bashrc):

# ThÃªm vÃ o ~/.bashrc:

export PROMPT_COMMAND='history -a'

TÃ­nh nÄƒng tÆ°Æ¡ng tÃ¡c (tÄƒng tá»‘c tÃ¬m lá»‡nh):

* Ctrl-R â€” reverse incremental search (nháº¥n Ctrl-R rá»“i gÃµ má»™t pháº§n lá»‡nh Ä‘á»ƒ tÃ¬m lá»‡nh trÆ°á»›c Ä‘Ã³).
* Sá»­ dá»¥ng `!n` Ä‘á»ƒ cháº¡y láº¡i lá»‡nh sá»‘ `n` trong history (vÃ­ dá»¥ `!123`).
* `!!` Ä‘á»ƒ láº·p láº¡i lá»‡nh ngay trÆ°á»›c Ä‘Ã³.

LÆ°u Ã½ an toÃ n vÃ  hÃ nh vi khÃ´ng rÃµ rÃ ng:

* Lá»‹ch sá»­ cÃ³ thá»ƒ chá»©a máº­t kháº©u hoáº·c dá»¯ liá»‡u nháº¡y cáº£m náº¿u báº¡n paste/cháº¡y trá»±c tiáº¿p. TrÃ¡nh nháº­p thÃ´ng tin nháº¡y cáº£m (máº­t kháº©u, tokens) dáº¡ng plain trong shell.
* `history -c` chá»‰ xÃ³a lá»‹ch sá»­ trong bá»™ nhá»› phiÃªn hiá»‡n táº¡i; file `~/.bash_history` váº«n cÃ²n náº¿u chÆ°a ghi Ä‘Ã¨. Äá»ƒ xÃ³a trÃªn Ä‘Ä©a, cÃ³ thá»ƒ `history -c && history -w` (cáº©n tháº­n: sáº½ máº¥t vÄ©nh viá»…n náº¿u khÃ´ng cÃ³ backup).
* Máº·c Ä‘á»‹nh, bash ghi `~/.bash_history` khi phiÃªn káº¿t thÃºc; náº¿u báº¡n cÃ³ nhiá»u cá»­a sá»• shell, Ä‘á»ƒ Ä‘á»“ng bá»™ lá»‹ch sá»­ tá»©c thá»i, cÃ³ thá»ƒ dÃ¹ng `history -a` (append) trong `PROMPT_COMMAND` nhÆ° vÃ­ dá»¥ á»Ÿ trÃªn.
* CÃ¡c shell khÃ¡c (zsh) cÃ³ lá»‹ch sá»­ khÃ¡c (vÃ­ dá»¥ `~/.zsh_history`) vÃ  cÃ¡c tuá»³ chá»n khÃ¡c (nhÆ°ng khÃ¡i niá»‡m tÆ°Æ¡ng tá»± â€” Ä‘á»c/ghi, cáº¥u hÃ¬nh biáº¿n mÃ´i trÆ°á»ng).

Máº¹o nÃ¢ng cao:

* XÃ³a má»™t dÃ²ng chá»©a tá»« nháº¡y cáº£m: tÃ¬m sá»‘ thá»© tá»± báº±ng `history | grep 'pattern'` rá»“i `history -d <offset>` vÃ  sau Ä‘Ã³ `history -w` Ä‘á»ƒ ghi láº¡i file.
* DÃ¹ng `fc` (fix command) Ä‘á»ƒ sá»­a lá»‡nh cuá»‘i hoáº·c lá»‡nh theo sá»‘: `fc -s old=new` hoáº·c `fc 123 125` Ä‘á»ƒ má»Ÿ editor sá»­a rá»“i cháº¡y.
* DÃ¹ng `awk`/`sed`/`grep` Ä‘á»ƒ trÃ­ch xuáº¥t vÃ  xuáº¥t file lá»‹ch sá»­ theo nhu cáº§u.

VÃ­ dá»¥ quy trÃ¬nh xÃ³a má»™t dÃ²ng cá»¥ thá»ƒ khá»i file lá»‹ch sá»­ (an toÃ n):

# TÃ¬m dÃ²ng lá»‹ch sá»­ cÃ³ 'secret'

history | grep secret

# Giáº£ sá»­ dÃ²ng cÃ³ sá»‘ 432 â€” xÃ³a dÃ²ng Ä‘Ã³ khá»i bá»™ nhá»›

history -d 432

# Ghi Ä‘Ã¨ file lá»‹ch sá»­ trÃªn Ä‘Ä©a

history -w

Káº¿t luáº­n:

* `history` lÃ  cÃ´ng cá»¥ tiá»‡n lá»£i Ä‘á»ƒ xem láº¡i vÃ  tÃ¡i sá»­ dá»¥ng lá»‡nh Ä‘Ã£ nháº­p.
* NÃªn cáº¥u hÃ¬nh `HISTCONTROL`, `HISTIGNORE`, vÃ  `PROMPT_COMMAND='history -a'` náº¿u báº¡n muá»‘n lá»‹ch sá»­ sáº¡ch sáº½ vÃ  Ä‘Æ°á»£c Ä‘á»“ng bá»™ giá»¯a nhiá»u cá»­a sá»•.
* LuÃ´n cáº©n trá»ng vÃ¬ lá»‹ch sá»­ cÃ³ thá»ƒ chá»©a dá»¯ liá»‡u nháº¡y cáº£m.

---

(Pháº§n trÃªn lÃ  plain text, Ä‘á»‹nh dáº¡ng rÃµ rÃ ng â€” báº¡n cÃ³ thá»ƒ nháº¥n nÃºt copy Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung vÃ o file .txt vÃ  lÆ°u.)

		
		- cmd: cat /etc/os-release
		
			ÄÃ¢y lÃ  lá»‡nh Ä‘á»ƒ xem thÃ´ng tin vá» há»‡ Ä‘iá»u hÃ nh Linux Ä‘ang cháº¡y.
			
		- cmd: sudo yum install vim -y

Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: sudo yum install vim -y

MÃ´ táº£ ngáº¯n:
sudo yum install vim -y

* DÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t gÃ³i pháº§n má»m `vim` trÃªn há»‡ thá»‘ng sá»­ dá»¥ng trÃ¬nh quáº£n lÃ½ gÃ³i `yum` (vÃ­ dá»¥: CentOS, RHEL, older Fedora).
* `sudo` cháº¡y lá»‡nh vá»›i quyá»n quáº£n trá»‹ (root).
* `-y` tá»± Ä‘á»™ng tráº£ lá»i "yes" cho má»i lá»i nháº¯c cá»§a `yum` (khÃ´ng há»i xÃ¡c nháº­n trÆ°á»›c khi cÃ i).

PhÃ¢n tÃ­ch tá»«ng thÃ nh pháº§n:

1. `sudo`

   * Cho phÃ©p cháº¡y lá»‡nh vá»›i quyá»n cá»§a user khÃ¡c (máº·c Ä‘á»‹nh lÃ  root).
   * YÃªu cáº§u user Ä‘Æ°á»£c cáº¥u hÃ¬nh trong file `/etc/sudoers` hoáº·c thuá»™c nhÃ³m cÃ³ quyá»n sudo.
   * Náº¿u báº¡n Ä‘Ã£ lÃ  root, khÃ´ng cáº§n `sudo`.

2. `yum`

   * TrÃ¬nh quáº£n lÃ½ gÃ³i cho cÃ¡c há»‡ giá»‘ng Red Hat (CentOS, RHEL). Quáº£n lÃ½ cÃ i/ gá»¡/ update gÃ³i RPM.
   * TrÃªn má»™t sá»‘ báº£n má»›i hÆ¡n (


		- cmd: vim firstfile.txt



		- cmd: ls -l

Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: ls -l

MÃ´ táº£ ngáº¯n:
ls -l

* In danh sÃ¡ch file vÃ  thÆ° má»¥c trong thÆ° má»¥c hiá»‡n táº¡i á»Ÿ cháº¿ Ä‘á»™ "long listing" (dÃ²ng dÃ i), hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t cho má»—i má»¥c.
* `ls` lÃ  lá»‡nh liá»‡t kÃª ná»™i dung thÆ° má»¥c; `-l` (lowercase L) yÃªu cáº§u hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ cÃ¡c trÆ°á»ng thÃ´ng tin.

CÃº phÃ¡p cÆ¡ báº£n (vÃ­ dá»¥ copy & paste cháº¡y ngay):
ls -l

Giáº£i thÃ­ch cÃ¡c cá»™t trong Ä‘áº§u ra `ls -l` (theo thá»© tá»± tá»« trÃ¡i sang pháº£i):

1. Quyá»n truy cáº­p vÃ  kiá»ƒu file (10 kÃ½ tá»±):

   * KÃ½ tá»± Ä‘áº§u: kiá»ƒu file

     * `-` : regular file
     * `d` : directory
     * `l` : symbolic link
     * `c` : character device
     * `b` : block device
     * `s` : socket
     * `p` : named pipe (FIFO)
   * 9 kÃ½ tá»± tiáº¿p theo: 3 nhÃ³m 3 kÃ½ tá»± (owner, group, others)

     * `r` = read, `w` = write, `x` = execute
     * VÃ­ dá»¥ `-rw-r--r--` nghÄ©a: file thÆ°á»ng, owner cÃ³ rw, group cÃ³ r, others cÃ³ r.
   * KÃ½ tá»± Ä‘áº·c biá»‡t cÃ³ thá»ƒ xuáº¥t hiá»‡n thay cho `x`:

     * `s` / `S` : setuid (owner) hoáº·c setgid (group)
     * `t` / `T` : sticky bit (thÆ°á»ng trÃªn thÆ° má»¥c /tmp)
     * `s` (thay `x`) nghÄ©a bit set + executable; `S` nghÄ©a set nhÆ°ng khÃ´ng executable.

2. Sá»‘ liÃªn káº¿t cá»©ng (number of hard links)

   * Sá»‘ nguyÃªn cho biáº¿t sá»‘ liÃªn káº¿t cá»©ng Ä‘áº¿n inode (thÆ°á»ng 1 cho file bÃ¬nh thÆ°á»ng, >=2 cho thÆ° má»¥c hoáº·c file cÃ³ hard link).

3. Chá»§ sá»Ÿ há»¯u (owner)

   * TÃªn user sá»Ÿ há»¯u file.

4. NhÃ³m (group)

   * TÃªn group sá»Ÿ há»¯u file.

5. KÃ­ch thÆ°á»›c (size)

   * KÃ­ch thÆ°á»›c file tÃ­nh báº±ng bytes theo máº·c Ä‘á»‹nh (trÃªn GNU ls). CÃ³ thá»ƒ hiá»ƒn thá»‹ dá»… Ä‘á»c hÆ¡n báº±ng `-h`.

6. Thá»i gian (timestamp)

   * ThÃ´ng thÆ°á»ng hiá»ƒn thá»‹ `Mmm DD HH:MM` náº¿u file trong vÃ²ng 6 thÃ¡ng, hoáº·c `Mmm DD  YYYY` náº¿u xa hÆ¡n. Äá»‹nh dáº¡ng cÃ³ thá»ƒ thay Ä‘á»•i theo locale vÃ  phiÃªn báº£n `ls`.
   * Muá»‘n hiá»ƒn thá»‹ thá»i gian Ä‘áº§y Ä‘á»§: `--full-time`.
   * Muá»‘n hiá»ƒn thá»‹ thá»i gian khÃ¡c: `--time=atime|ctime|mtime` vÃ  `--time-style=...` (GNU coreutils).

7. TÃªn file (filename)

   * TÃªn file hoáº·c thÆ° má»¥c. Náº¿u lÃ  symbolic link, sáº½ kÃ¨m `-> target` (vÃ­ dá»¥ `mylnk -> /etc/hosts`).

VÃ­ dá»¥ Ä‘áº§u ra vÃ  cÃ¡ch Ä‘á»c (vÃ­ dá»¥):
-rw-r--r-- 1 tuan staff  2048 2025-10-31 14:02 notes.txt
^            ^ ^     ^      ^                ^
|            | |     |      |                â”” tÃªn file
|            | |     |      â”” kÃ­ch thÆ°á»›c (bytes)
|            | |     â”” group
|            | â”” owner
|            â”” sá»‘ liÃªn káº¿t cá»©ng
â”” kiá»ƒu + quyá»n

CÃ¡c tuá»³ chá»n há»¯u Ã­ch káº¿t há»£p vá»›i `-l` (thÆ°á»ng dÃ¹ng):

* `-a` : show all (bao gá»“m file áº©n báº¯t Ä‘áº§u báº±ng `.`). VÃ­ dá»¥: `ls -la` hoáº·c `ls -al`.
* `-h` : human readable sizes (vÃ­ dá»¥ 1.5K, 2M). VÃ­ dá»¥: `ls -lh`.
* `-t` : sáº¯p xáº¿p theo thá»i gian sá»­a Ä‘á»•i má»›i nháº¥t trÆ°á»›c. VÃ­ dá»¥: `ls -lt`.
* `-r` : Ä‘áº£o ngÆ°á»£c thá»© tá»± (káº¿t há»£p `-t` sáº½ cho tá»« cÅ© â†’ má»›i). VÃ­ dá»¥: `ls -ltr`.
* `-S` : sáº¯p xáº¿p theo kÃ­ch thÆ°á»›c (lá»›n â†’ nhá»). VÃ­ dá»¥: `ls -lS`.
* `-i` : in ra inode sá»‘ (vÃ­ dá»¥ `ls -li`).
* `-n` : hiá»ƒn thá»‹ UID/GID sá»‘ thay vÃ¬ tÃªn (useful for scripts). `ls -ln`.
* `-F` : thÃªm kÃ½ hiá»‡u á»Ÿ cuá»‘i tÃªn (`/` cho thÆ° má»¥c, `*` cho executable, `@` cho symlink). `ls -lF`.
* `-d` : hiá»ƒn thá»‹ thÃ´ng tin cá»§a chÃ­nh thÆ° má»¥c thay vÃ¬ liá»‡t kÃª ná»™i dung (vd `ls -ld /etc`).
* `--full-time` : in thá»i gian Ä‘áº§y Ä‘á»§ (GNU ls).
* `-1` : má»™t file má»—i dÃ²ng (Ä‘i ngÆ°á»£c láº¡i vá»›i long format Ã½ nghÄ©a khÃ¡c, thÆ°á»ng khÃ´ng dÃ¹ng cÃ¹ng `-l`).
* `-G` hoáº·c `--color=auto` : Ä‘Ã¡nh mÃ u (tÃ¹y shell/mÃ´i trÆ°á»ng). Nhiá»u há»‡ alias `ls` thÃ nh `ls --color=auto`.

Má»™t vÃ i vÃ­ dá»¥ thá»±c táº¿ (dá»… copy vÃ o file .txt):

# Liá»‡t kÃª chi tiáº¿t cÃ¡c file (bao gá»“m file áº©n) vÃ  kÃ­ch thÆ°á»›c dá»… Ä‘á»c

ls -lah

# Liá»‡t kÃª chi tiáº¿t, sáº¯p xáº¿p theo thá»i gian, má»›i nháº¥t á»Ÿ trÃªn

ls -lt

# Liá»‡t kÃª thÃ´ng tin cho má»™t thÆ° má»¥c cá»¥ thá»ƒ (khÃ´ng vÃ o trong thÆ° má»¥c)

ls -ld /var/log

# Hiá»ƒn thá»‹ inode vÃ  kÃ­ch thÆ°á»›c dáº¡ng dá»… Ä‘á»c

ls -lih

# Hiá»ƒn thá»‹ thá»i gian Ä‘áº§y Ä‘á»§ (GNU coreutils)

ls -l --full-time

Giáº£i thÃ­ch vá» quyá»n (vÃ­ dá»¥ `drwxr-sr-x`):

* `d` : thÆ° má»¥c
* `rwx` : owner cÃ³ read/write/execute
* `r-s` : group cÃ³ read vÃ  setgid (`s`) + execute (náº¿u lÃ  `s` thay cho `x` thÃ¬ cÃ³ execute, `S` thÃ¬ khÃ´ng)
* `r-x` : others cÃ³ read vÃ  execute
* Setgid (g) trÃªn thÆ° má»¥c khiáº¿n file con táº¡o ra káº¿ thá»«a group cá»§a thÆ° má»¥c.
* Sticky bit (`t`) trÃªn thÆ° má»¥c (vd `/tmp`) cÃ³ nghÄ©a chá»‰ owner file hoáº·c root má»›i cÃ³ thá»ƒ xÃ³a file trong thÆ° má»¥c Ä‘Ã³.

LÆ°u Ã½ tÆ°Æ¡ng thÃ­ch vÃ  khÃ¡c biá»‡t giá»¯a há»‡ thá»‘ng:

* `ls` trÃªn GNU coreutils (Linux) cÃ³ nhiá»u tuá»³ chá»n má»Ÿ rá»™ng (vÃ­ dá»¥ `--time-style`).
* `ls` trÃªn BSD/macOS cÃ³ má»™t vÃ i khÃ¡c biá»‡t vá» tuá»³ chá»n vÃ  Ä‘á»‹nh dáº¡ng. Má»™t sá»‘ tÃ¹y chá»n GNU `ls` khÃ´ng cÃ³ trÃªn BSD `ls`.
* Nhiá»u há»‡ thiáº¿t láº­p alias `ll` = `ls -alF` hoáº·c `ls -alh`. Báº¡n cÃ³ thá»ƒ kiá»ƒm tra alias báº±ng `alias ls` hoáº·c `type ls`.

Máº¹o xá»­ lÃ½ khi cáº§n script:

* DÃ¹ng `ls -1` (sá»‘ má»™t) Ä‘á»ƒ xuáº¥t má»™t tÃªn file má»—i dÃ²ng, há»¯u Ã­ch khi pipe vÃ o cÃ¡c cÃ´ng cá»¥ khÃ¡c.
* TrÃ¡nh dÃ¹ng `ls` Ä‘á»ƒ parse output trong script náº¿u báº¡n cáº§n xá»­ lÃ½ chÃ­nh xÃ¡c tÃªn file cÃ³ khoáº£ng tráº¯ng hoáº·c kÃ½ tá»± Ä‘áº·c biá»‡t. Thay vÃ o Ä‘Ã³ dÃ¹ng `find -maxdepth 1 -print0 | xargs -0 ...` hoáº·c `stat`/`printf "%s\n" *`.

Pháº§n káº¿t (nhá»¯ng lá»‡nh thÆ°á»ng dÃ¹ng báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p):
ls -l
ls -la
ls -lh
ls -lt
ls -ltr
ls -ld /etc

---

(Pháº§n trÃªn lÃ  plain text, Ä‘á»‹nh dáº¡ng rÃµ rÃ ng â€” báº¡n cÃ³ thá»ƒ nháº¥n nÃºt copy Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung vÃ o file .txt vÃ  lÆ°u.)


		- cmd: file anaconda-ks.cfg

# Giáº£i thÃ­ch chi tiáº¿t file `anaconda-ks.cfg` vÃ  máº«u (Plain text)

DÆ°á»›i Ä‘Ã¢y lÃ  tÃ i liá»‡u **giáº£i thÃ­ch chi tiáº¿t** vá» file `anaconda-ks.cfg` (Kickstart do Anaconda â€” trÃ¬nh cÃ i Ä‘áº·t Red Hat/CentOS/Fedora â€” sinh ra hoáº·c sá»­ dá»¥ng). TÃ i liá»‡u gá»“m hai pháº§n:

1. **Giáº£i thÃ­ch (tiáº¿ng Viá»‡t)**: tá»«ng pháº§n quan trá»ng trong file, Ã½ nghÄ©a cÃ¡c chá»‰ thá»‹, lÆ°u Ã½ vá» báº£o máº­t vÃ  tinh chá»‰nh.
2. **Máº«u `anaconda-ks.cfg` (Plain text)**: báº£n máº«u hoÃ n chá»‰nh, cÃ³ thá»ƒ **copy nguyÃªn** vÃ  **dÃ¡n trá»±c tiáº¿p** vÃ o file `.txt` hoáº·c `anaconda-ks.cfg` Ä‘á»ƒ sá»­ dá»¥ng/chá»‰nh sá»­a.

---

## 1) Giáº£i thÃ­ch cÃ¡c pháº§n chÃ­nh cá»§a `anaconda-ks.cfg`

* `lang` / `keyboard` / `timezone`

  * XÃ¡c Ä‘á»‹nh ngÃ´n ngá»¯, bá»‘ cá»¥c bÃ n phÃ­m vÃ  mÃºi giá» há»‡ thá»‘ng.

* `network` / `network --bootproto=...`

  * Cáº¥u hÃ¬nh máº¡ng trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t (DHCP hoáº·c static). ThÃªm `--activate` Ä‘á»ƒ kÃ­ch hoáº¡t sá»›m.

* `rootpw`

  * Máº­t kháº©u root. CÃ³ thá»ƒ lÃ  máº­t kháº©u plain text (`rootpw mypassword`) hoáº·c hash (`--iscrypted $6$...`). **KhÃ´ng khuyáº¿n khÃ­ch lÆ°u pass plaintext trong file cÃ´ng khai**.

* `firewall` / `selinux`

  * Báº­t/táº¯t tÆ°á»ng lá»­a, cháº¿ Ä‘á»™ SELinux (enforcing/disabled).

* `auth` / `authconfig`

  * Cáº¥u hÃ¬nh phÆ°Æ¡ng thá»©c xÃ¡c thá»±c (local, LDAP, Kerberos...).

* `bootloader` / `zerombr` / `clearpart` / `part` / `volgroup` / `logvol`

  * CÃ¡c chá»‰ thá»‹ cho phÃ¢n vÃ¹ng á»• Ä‘Ä©a vÃ  thiáº¿t láº­p bootloader. `clearpart --all --initlabel` xÃ³a phÃ¢n vÃ¹ng cÅ© â€” dÃ¹ng cáº©n trá»ng.
  * `part` chá»‰ Ä‘á»‹nh phÃ¢n vÃ¹ng (mountpoint, kÃ­ch thÆ°á»›c). `logvol` dÃ¹ng vá»›i LVM.

* `%packages`

  * Danh sÃ¡ch gÃ³i cáº§n cÃ i Ä‘áº·t. CÃ³ thá»ƒ dÃ¹ng nhÃ³m (vÃ­ dá»¥ `@core`) hoáº·c tÃªn gÃ³i. Dáº¥u `-pkgname` Ä‘á»ƒ loáº¡i bá».

* `%post` vÃ  `%pre`

  * CÃ¡c script cháº¡y trÆ°á»›c (`%pre`) hoáº·c sau (`%post`) quÃ¡ trÃ¬nh cÃ i Ä‘áº·t. `%post --interpreter=/bin/bash` cho phÃ©p script bash. Äáº·t cÃ¡c lá»‡nh cáº¥u hÃ¬nh bá»• sung, cÃ i gÃ³i tá»« repo, chá»‰nh file conf.

* `reboot` hoáº·c `shutdown`

  * Thao tÃ¡c sau khi cÃ i Ä‘áº·t xong.

### LÆ°u Ã½ báº£o máº­t

* KhÃ´ng lÆ°u máº­t kháº©u plain text trong file kickstart náº¿u file cÃ³ thá»ƒ rÃ² rá»‰.
* Thay `rootpw` báº±ng `--iscrypted` vá»›i hash tá»« `openssl passwd -6 'yourpass'`.
* Giá»¯ quyá»n truy cáº­p file kickstart á»Ÿ má»©c háº¡n cháº¿ náº¿u chá»©a thÃ´ng tin nháº¡y cáº£m.

### Máº¹o

* DÃ¹ng `ks.cfg` vá»›i PXE hoáº·c `anaconda` báº±ng tham sá»‘ `inst.ks=<url>` Ä‘á»ƒ cÃ i khÃ´ng giÃ¡m sÃ¡t.
* Kiá»ƒm tra báº±ng mÃ¡y áº£o trÆ°á»›c khi triá»ƒn khai lÃªn mÃ¡y tháº­t.

---

## 2) Máº«u `anaconda-ks.cfg` (PLAIN TEXT)

DÆ°á»›i Ä‘Ã¢y lÃ  máº«u hoÃ n chá»‰nh. **Báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ pháº§n bÃªn dÆ°á»›i (tá»« `#version` Ä‘áº¿n `reboot`) vÃ  dÃ¡n vÃ o file `.txt` hoáº·c `anaconda-ks.cfg`.**

```text
#version=RHEL8
# System language
lang en_US.UTF-8
keyboard us
timezone Asia/Ho_Chi_Minh --isUtc

# Network configuration
network --bootproto=dhcp --device=eth0 --activate
# For static IP example:
# network --bootproto=static --ip=192.0.2.10 --netmask=255.255.255.0 --gateway=192.0.2.1 --nameserver=8.8.8.8 --device=eth0 --activate

# Root password (recommended: use --iscrypted with a hashed password)
# Example with hashed password (use `openssl passwd -6` to generate):
rootpw --iscrypted $6$examplehashedpasswordhere

# Use network installation repository (example)
# url --url="http://mirror.centos.org/centos/8/BaseOS/x86_64/os/"

# Bootloader configuration
bootloader --location=mbr --boot-drive=sda

authorization --enable
firewall --enabled --service=ssh
selinux --enforcing

# Partition clearing and layout
zerombr
clearpart --all --initlabel

# Create partitions with LVM
part /boot --size=1024
part pv.01 --size=1 --grow
volgroup vg_root pv.01
logvol / --vgname=vg_root --size=4096 --name=lv_root --fstype=xfs
logvol swap --vgname=vg_root --size=2048 --name=lv_swap

# Packages
%packages --nobase
@core
chrony
vim
wget
net-tools
@^minimal-environment
%end

# Post-installation script
%post --interpreter=/bin/bash
# disable subscription-manager on CentOS/RHEL clones if needed (example)
# echo "Disabling subscription-manager..."
# subscription-manager remove --all

# set hostname
hostnamectl set-hostname myserver.example.com

# enable and start chronyd
systemctl enable chronyd
systemctl start chronyd || true

# create a normal user
useradd -m -G wheel tuan
echo 'tuan:ChangeMe123' | chpasswd
# force user to change password on first login
chage -d 0 tuan

# SSH: disable root login by password (optional)
sed -i 's/^#PermitRootLogin yes/PermitRootLogin no/' /etc/ssh/sshd_config || true
systemctl enable sshd

%end

reboot
```

---

### HÆ°á»›ng dáº«n sá»­ dá»¥ng nhanh

1. Má»Ÿ trÃ¬nh soáº¡n tháº£o (vÃ­ dá»¥ `vim anaconda-ks.cfg`).
2. DÃ¡n (paste) toÃ n bá»™ ná»™i dung tá»« khá»‘i mÃ£ á»Ÿ trÃªn vÃ o file.
3. Sá»­a cÃ¡c giÃ¡ trá»‹: `rootpw` (nÃªn thay báº±ng hash), `hostname`, cáº¥u hÃ¬nh máº¡ng tÄ©nh náº¿u cáº§n, vÃ  danh sÃ¡ch gÃ³i.
4. LÆ°u file vÃ  sá»­ dá»¥ng vá»›i PXE / `inst.ks=` hoáº·c Ä‘áº·t file nÃ y vÃ o `/root/anaconda-ks.cfg` trÆ°á»›c khi chá»¥p áº£nh.

---

Náº¿u báº¡n muá»‘n, mÃ¬nh cÃ³ thá»ƒ:

* Cung cáº¥p phiÃªn báº£n chá»‰ dÃ nh cho CentOS 7 / RHEL 7 (má»™t vÃ i tÃ¹y chá»n khÃ¡c nhau),
* Hoáº·c táº¡o phiÃªn báº£n *khÃ´ng chá»©a máº­t kháº©u* vÃ  hÆ°á»›ng dáº«n cÃ¡ch chÃ¨n hash an toÃ n.

(MÃ¬nh Ä‘Ã£ Ä‘áº·t ná»™i dung trong khung "plain text" Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p.)


		- cmd: file yum

# Giáº£i thÃ­ch chi tiáº¿t file `yum` vÃ  máº«u cáº¥u hÃ¬nh (Plain text)

TÃ i liá»‡u nÃ y trÃ¬nh bÃ y **giáº£i thÃ­ch chi tiáº¿t** cÃ¡c file cáº¥u hÃ¬nh liÃªn quan Ä‘áº¿n `yum` (YUM package manager trÃªn CentOS/RHEL 6/7/8 khi dÃ¹ng yum; RHEL/CentOS 8+ thÆ°á»ng dÃ¹ng `dnf` nhÆ°ng `yum` váº«n tÆ°Æ¡ng thÃ­ch á»Ÿ nhiá»u báº£n). Pháº§n sau lÃ  **máº«u file** á»Ÿ dáº¡ng plain text â€” báº¡n cÃ³ thá»ƒ **copy nguyÃªn** vÃ  dÃ¡n trá»±c tiáº¿p vÃ o file `.txt` hoáº·c `yum.conf` / `.repo`.

---

## 1) Vá»‹ trÃ­ file quan trá»ng

* `/etc/yum.conf` â€” file cáº¥u hÃ¬nh chÃ­nh cá»§a yum.
* `/etc/yum.repos.d/*.repo` â€” cÃ¡c file repository (má»—i file cÃ³ 1 hoáº·c nhiá»u repo).
* `/var/cache/yum/` â€” cache gÃ³i cá»§a yum.
* `/etc/yum/vars/` â€” cÃ¡c biáº¿n bá»• sung (tÃ¹y báº£n phÃ¢n phá»‘i).

---

## 2) Giáº£i thÃ­ch cÃ¡c chá»‰ thá»‹ trong `/etc/yum.conf`

File `yum.conf` thÆ°á»ng cÃ³ cáº¥u trÃºc key=value trong má»¥c `[main]`.

Má»™t sá»‘ chá»‰ thá»‹ quan trá»ng:

* `cachedir` â€” thÆ° má»¥c lÆ°u cache. VÃ­ dá»¥: `/var/cache/yum/$basearch/$releasever`.
* `keepcache` â€” `0` hoáº·c `1`. Náº¿u lÃ  `1` thÃ¬ giá»¯ file rpm trong cache sau khi cÃ i Ä‘áº·t.
* `debuglevel` â€” 0..10, má»©c log chi tiáº¿t.
* `logfile` â€” Ä‘Æ°á»ng dáº«n file log (vÃ­ dá»¥ `/var/log/yum.log`).
* `exactarch` â€” `1` hoáº·c `0`. Náº¿u `1` chá»‰ cÃ i gÃ³i Ä‘Ãºng kiáº¿n trÃºc.
* `obsoletes` â€” `1` báº­t há»— trá»£ obsolete packages.
* `gpgcheck` â€” máº·c Ä‘á»‹nh `1` Ä‘á»ƒ kiá»ƒm tra chá»¯ kÃ½ GPG khi cÃ i gÃ³i.
* `installonly_limit` â€” sá»‘ kernel / install-only packages giá»¯ láº¡i.
* `reposdir` â€” thÆ° má»¥c chá»©a file `.repo` (máº·c Ä‘á»‹nh `/etc/yum.repos.d`).
* `assumeyes` (`-y`) â€” tá»± Ä‘á»™ng yes cho táº¥t cáº£ cÃ¡c prompt náº¿u báº­t; tháº­n trá»ng.
* `proxy` / `proxy_username` / `proxy_password` â€” cáº¥u hÃ¬nh proxy HTTP.

VÃ­ dá»¥ sá»­ dá»¥ng biáº¿n thay tháº¿: `$releasever`, `$basearch` Ä‘Æ°á»£c tá»± Ä‘á»™ng thay khi yum cháº¡y.

---

## 3) Äá»‹nh dáº¡ng file `.repo` (trong `/etc/yum.repos.d/`)

File repo gá»“m nhiá»u section cÃ³ dáº¡ng `[repoid]` theo sau lÃ  cÃ¡c thuá»™c tÃ­nh:

* `name` â€” tÃªn hiá»ƒn thá»‹ cá»§a repo.
* `baseurl` â€” URL gá»‘c tá»›i repository (há»— trá»£ http(s), ftp, file://).
* `mirrorlist` â€” (thay `baseurl`) danh sÃ¡ch mirror.
* `enabled` â€” `1` hoáº·c `0` (báº­t/táº¯t repo).
* `gpgcheck` â€” `1` hoáº·c `0` (kiá»ƒm tra chá»¯ kÃ½ RPM).
* `gpgkey` â€” URL hoáº·c Ä‘Æ°á»ng dáº«n tá»›i key GPG dÃ¹ng Ä‘á»ƒ kiá»ƒm tra gÃ³i.
* `priority` â€” (cáº§n plugin `priority`) má»©c Æ°u tiÃªn repo, sá»‘ nhá» hÆ¡n cÃ³ Æ°u tiÃªn cao hÆ¡n.
* `exclude` â€” danh sÃ¡ch gÃ³i khÃ´ng cÃ i tá»« repo nÃ y.
* `cost` â€” chá»‰ Ä‘á»‹nh chi phÃ­ khi dÃ¹ng `yum` chá»n mirror (Ã­t dÃ¹ng).

LÆ°u Ã½: `baseurl` vÃ  `mirrorlist` khÃ´ng nÃªn cÃ¹ng tá»“n táº¡i (Æ°u tiÃªn mirrorlist náº¿u cÃ³).

---

## 4) Máº«u file `yum.conf` (PLAIN TEXT) â€” copy & dÃ¡n

```text
[main]
cachedir=/var/cache/yum/$basearch/$releasever
keepcache=0
debuglevel=2
logfile=/var/log/yum.log
exactarch=1
obsoletes=1
gpgcheck=1
plugins=1
installonly_limit=3
# reposdir can be changed if needed
reposdir=/etc/yum.repos.d
# proxy=http://proxy.example.com:3128
# proxy_username=proxyuser
# proxy_password=proxypass

# default timeout for package downloads
timeout=30

# If you want yum to assume yes for all prompts (be careful)
# assumeyes=1
```

---

## 5) Máº«u file repo (vÃ­ dá»¥ `example.repo`) â€” copy & dÃ¡n

```text
[example-base]
name=Example Base Repository
baseurl=http://mirror.example.com/centos/$releasever/os/$basearch/
enabled=1
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-example

[example-updates]
name=Example Updates
mirrorlist=http://mirrorlist.example.com/?repo=centos-$releasever-updates&arch=$basearch
enabled=1
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-example

# disable a repo by setting enabled=0
# [example-testing]
# name=Example Testing Repo
# baseurl=http://mirror.example.com/centos/$releasever/testing/$basearch/
# enabled=0
# gpgcheck=1
```

---

## 6) CÃ¡c lá»‡nh `yum` thÃ´ng dá»¥ng (vÃ­ dá»¥, plain text)

```text
# Cáº­p nháº­t metadata repo vÃ  nÃ¢ng cáº¥p cÃ¡c gÃ³i
yum update

# CÃ i gÃ³i
yum install httpd

# Gá»¡ gÃ³i
yum remove httpd

# TÃ¬m gÃ³i
yum search nginx

# Kiá»ƒm tra thÃ´ng tin gÃ³i
yum info httpd

# Liá»‡t kÃª repo
yum repolist all

# LÃ m sáº¡ch cache
yum clean all

# Tá»± Ä‘á»™ng cÃ i mÃ  khÃ´ng há»i
yum -y install package-name

# Lá»‹ch sá»­ yum
yum history
```

---

## 7) Báº£o máº­t & best practices

* LuÃ´n báº­t `gpgcheck=1` vÃ  chá»‰ dÃ¹ng `gpgkey` tá»« nguá»“n tin cáº­y. ThÃªm key GPG vÃ o `/etc/pki/rpm-gpg/`.
* KhÃ´ng báº­t `assumeyes` trong mÃ´i trÆ°á»ng sáº£n xuáº¥t náº¿u báº¡n khÃ´ng muá»‘n máº¥t kiá»ƒm soÃ¡t.
* Háº¡n cháº¿ dÃ¹ng `proxy_password` trong file náº¿u file cÃ³ thá»ƒ bá»‹ lá»™; Æ°u tiÃªn dÃ¹ng file báº£o máº­t hoáº·c biáº¿n mÃ´i trÆ°á»ng.
* DÃ¹ng `exclude=` trong `.repo` náº¿u muá»‘n ngÄƒn má»™t repo gÃ¢y xung Ä‘á»™t gÃ³i.
* Sá»­ dá»¥ng plugin `yum-plugin-security` vÃ  kiá»ƒm tra cáº­p nháº­t báº£o máº­t (`yum updateinfo`) náº¿u cÃ³.

---

## 8) Xá»­ lÃ½ sá»± cá»‘ cÆ¡ báº£n

* Náº¿u repo khÃ´ng hoáº¡t Ä‘á»™ng: kiá»ƒm tra `baseurl`/`mirrorlist`, kiá»ƒm tra káº¿t ná»‘i máº¡ng, kiá»ƒm tra DNS.
* Náº¿u GPG error: xÃ¡c minh file `gpgkey` Ä‘Ã£ Ä‘Æ°á»£c táº£i xuá»‘ng vÃ  cÃ³ Ä‘Ãºng fingerprint.
* Náº¿u metadata lá»—i: thá»­ `yum clean all` rá»“i `yum makecache`.

---

## 9) Ghi chÃº vá» DNF (RHEL/CentOS 8+)

TrÃªn há»‡ thá»‘ng má»›i (RHEL/CentOS 8 vÃ  Fedora), `dnf` thay `yum`. Tuy nhiÃªn `yum` thÆ°á»ng lÃ  wrapper gá»i `dnf` vÃ  nhiá»u cáº¥u hÃ¬nh `.repo` váº«n giá»‘ng nhau. Náº¿u báº¡n Ä‘ang trÃªn CentOS/RHEL 8+, cÃ¢n nháº¯c dÃ¹ng `dnf` (cÃº phÃ¡p ráº¥t tÆ°Æ¡ng tá»±).

---

Náº¿u báº¡n muá»‘n mÃ¬nh tÃ¹y chá»‰nh máº«u cho mÃ´i trÆ°á»ng cá»¥ thá»ƒ (vÃ­ dá»¥: repo ná»™i bá»™ qua `file://` hay `http://` vá»›i auth, hoáº·c tÃ¡ch riÃªng repo cho EPEL, Remi, v.v.), mÃ¬nh sáº½ cáº­p nháº­t ngay trong tÃ i liá»‡u. MÃ¬nh Ä‘Ã£ Ä‘áº·t toÃ n bá»™ ná»™i dung á»Ÿ dáº¡ng plain text Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p.


		- cmd: file /bin/pwd

# Giáº£i thÃ­ch chi tiáº¿t file `/bin/pwd` (PLAIN TEXT)

DÆ°á»›i Ä‘Ã¢y lÃ  tÃ i liá»‡u **giáº£i thÃ­ch chi tiáº¿t nháº¥t** vá» file `/bin/pwd` trÃ¬nh bÃ y á»Ÿ Ä‘á»‹nh dáº¡ng **plain text** â€” báº¡n cÃ³ thá»ƒ **copy nguyÃªn** toÃ n bá»™ ná»™i dung trong tÃ i liá»‡u nÃ y báº±ng nÃºt **Copy** vÃ  dÃ¡n trá»±c tiáº¿p vÃ o file `.txt`.

---

/*************************************************************
File: /bin/pwd â€” Program "print working directory"
Origin: thÆ°á»ng lÃ  thÃ nh pháº§n cá»§a GNU coreutils (trÃªn há»‡ Linux)
Purpose: In ra Ä‘Æ°á»ng dáº«n thÆ° má»¥c hiá»‡n táº¡i (current working directory).
*************************************************************/

1. Tá»•ng quan ngáº¯n gá»n

* `/bin/pwd` lÃ  chÆ°Æ¡ng trÃ¬nh thá»±c thi (binary) in ra Ä‘Æ°á»ng dáº«n thÆ° má»¥c lÃ m viá»‡c hiá»‡n táº¡i cá»§a tiáº¿n trÃ¬nh khi nÃ³ Ä‘Æ°á»£c gá»i.
* TrÃªn nhiá»u shell (bash, zsh, ksh) cÃ³ má»™t **built-in** tÃªn `pwd` (lá»‡nh ná»™i bá»™ cá»§a shell). Khi gá»i `pwd` trong shell, thÆ°á»ng shell sáº½ dÃ¹ng built-in thay vÃ¬ cháº¡y `/bin/pwd` â€” Ä‘iá»u nÃ y nhanh hÆ¡n vÃ  cÃ³ thá»ƒ pháº£n Ã¡nh cÃ¡c tÃ¹y chá»n cá»§a shell (vÃ­ dá»¥ xá»­ lÃ½ symbolic links).
* `/bin/pwd` thuá»™c bá»™ tiá»‡n Ã­ch cÆ¡ báº£n (coreutils trÃªn háº§u háº¿t Linux). TrÃªn cÃ¡c há»‡ BSD hoáº·c Unix khÃ¡c, `pwd` cÅ©ng tá»“n táº¡i nhÆ°ng cÃ³ thá»ƒ náº±m á»Ÿ `/usr/bin/pwd` hoáº·c lÃ  má»™t báº£n khÃ¡c.

2. Chá»©c nÄƒng vÃ  hÃ nh vi chÃ­nh

* Máº·c Ä‘á»‹nh, `pwd` in ra Ä‘Æ°á»ng dáº«n hiá»‡n táº¡i theo cÃ¡ch **logical** (theo biáº¿n mÃ´i trÆ°á»ng PWD hay theo shell) hoáº·c **physical** (theo há»‡ thá»‘ng file, giáº£i link symbolic).
* CÃ¡c tÃ¹y chá»n thÆ°á»ng gáº·p (GNU coreutils):

  * `-L, --logical` : in Ä‘Æ°á»ng dáº«n theo biáº¿n mÃ´i trÆ°á»ng `PWD` (giá»¯ symbolic links nhÆ° user tháº¥y trong shell).
  * `-P, --physical`: in Ä‘Æ°á»ng dáº«n thá»±c táº¿ theo inode trÃªn filesystem (giáº£i táº¥t cáº£ symbolic links), tÆ°Æ¡ng Ä‘Æ°Æ¡ng `pwd -P`.
  * `--help` : hiá»ƒn thá»‹ trá»£ giÃºp ngáº¯n.
  * `--version`: in phiÃªn báº£n chÆ°Æ¡ng trÃ¬nh.

LÆ°u Ã½: built-in `pwd` cá»§a shell cÅ©ng há»— trá»£ `-P`/`-L` (tÃ¹y shell) nhÆ°ng hÃ nh vi cÃ³ thá»ƒ khÃ¡c khi shell quáº£n lÃ½ biáº¿n `PWD`.

3. VÃ­ dá»¥ sá»­ dá»¥ng (plain text)

```text
$ pwd
/home/tuan

# dÃ¹ng binary trá»±c tiáº¿p (bá» built-in shell)
$ /bin/pwd
/home/tuan

# vÃ­ dá»¥ vá»›i symlink
$ ln -s /var/log symlog
$ cd symlog
$ pwd        # cÃ³ thá»ƒ in: /home/tuan/symlog (logical)
$ /bin/pwd -P  # in Ä‘Æ°á»ng dáº«n váº­t lÃ½: /var/log

# hiá»ƒn thá»‹ help / version
$ /bin/pwd --help
$ /bin/pwd --version
```

4. Kiá»ƒm tra liá»‡u shell Ä‘ang dÃ¹ng built-in hay binary `/bin/pwd`

* DÃ¹ng lá»‡nh `type` hoáº·c `command -V` (tuá»³ shell):

```text
$ type pwd
pwd is a shell builtin

# hoáº·c
$ command -V pwd
pwd is a shell builtin
```

* Äá»ƒ buá»™c gá»i binary `/bin/pwd`, chá»‰ cáº§n gá»i Ä‘Æ°á»ng dáº«n Ä‘áº§y Ä‘á»§: `/bin/pwd`.

5. Kiá»ƒm tra file `/bin/pwd` trÃªn há»‡ thá»‘ng

* Kiá»ƒm tra quyá»n, kÃ­ch thÆ°á»›c, thá»i gian:

```text
$ ls -l /bin/pwd
-rwxr-xr-x 1 root root 35368 Jan 10 2024 /bin/pwd
```

* Kiá»ƒm tra package cung cáº¥p (vÃ­ dá»¥ trÃªn Debian/Ubuntu):

```text
$ dpkg -S /bin/pwd
coreutils: /bin/pwd

# TrÃªn RHEL/CentOS (rpm):
$ rpm -qf /bin/pwd
coreutils-8.30-...  # vÃ­ dá»¥
```

* Xem thÃ´ng tin text/cstring trong binary (tÃ¹y há»‡):

```text
$ strings /bin/pwd | head -n 20
```

6. Báº£o máº­t & quyá»n

* ThÃ´ng thÆ°á»ng `/bin/pwd` cÃ³ quyá»n `rwxr-xr-x` vÃ  thuá»™c sá»Ÿ há»¯u `root:root`.
* `pwd` khÃ´ng cáº§n setuid; nÃ³ khÃ´ng nÃªn lÃ  setuid vÃ¬ khÃ´ng cáº§n quyá»n Ä‘áº·c quyá»n Ä‘á»ƒ thá»±c hiá»‡n chá»©c nÄƒng cá»§a nÃ³.
* VÃ¬ `pwd` chá»‰ Ä‘á»c thÃ´ng tin thÆ° má»¥c hiá»‡n táº¡i vÃ  in ra, nguy cÆ¡ báº£o máº­t trá»±c tiáº¿p tá»« binary nÃ y ráº¥t tháº¥p. Tuy nhiÃªn, cáº§n Ä‘áº£m báº£o binary lÃ  tá»« nguá»“n tin cáº­y (khÃ´ng bá»‹ sá»­a Ä‘á»•i) â€” kiá»ƒm tra checksum hoáº·c gÃ³i cung cáº¥p.

7. So sÃ¡nh `pwd`, `realpath .` vÃ  alternatives

* `pwd -P` tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `realpath .` trong nhiá»u trÆ°á»ng há»£p (in Ä‘Æ°á»ng dáº«n váº­t lÃ½ tuyá»‡t Ä‘á»‘i, giáº£i symlink).
* `readlink -f .` cÅ©ng cÃ³ hÃ nh vi tÆ°Æ¡ng tá»± trÃªn GNU coreutils.

8. HÃ nh vi trong script

* Trong script shell, dÃ¹ng built-in `pwd` (khÃ´ng cáº§n gá»i `/bin/pwd`) thÆ°á»ng lÃ  Ä‘á»§.
* Náº¿u báº¡n muá»‘n cháº¯c cháº¯n nháº­n Ä‘Æ°á»ng dáº«n váº­t lÃ½ (giáº£i symlink), dÃ¹ng `pwd -P` hoáº·c `realpath`.

9. VÃ­ dá»¥ ká»‹ch báº£n (script) plain text

```text
#!/bin/bash
# script in ra Ä‘Æ°á»ng dáº«n váº­t lÃ½ hiá»‡n táº¡i
curdir=$(/bin/pwd -P)
echo "Working dir (physical): $curdir"
```

10. Khi nÃ o dÃ¹ng `/bin/pwd` thay vÃ¬ built-in

* Muá»‘n bypass built-in shell (vÃ­ dá»¥ built-in cung cáº¥p hÃ nh vi khÃ¡c).
* Trong má»™t mÃ´i trÆ°á»ng chroot hoáº·c khi script cáº§n cháº¯c cháº¯n dÃ¹ng binary cá»¥ thá»ƒ.
* Khi kiá»ƒm tra version cá»§a coreutils hoáº·c debug há»‡ thá»‘ng.

11. Kiá»ƒm tra version (vÃ­ dá»¥)

```text
$ /bin/pwd --version
pwd (GNU coreutils) 8.32
Copyright (C) 2020 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <https://gnu.org/licenses/gpl.html>.
This is free software: you are free to change and redistribute it.
```

12. Ghi chÃº cho cÃ¡c há»‡ BSD / macOS

* TrÃªn macOS hoáº·c BSD, `pwd` thÆ°á»ng náº±m á»Ÿ `/bin/pwd` hoáº·c `/usr/bin/pwd` vÃ  lÃ  báº£n khÃ¡c (khÃ´ng pháº£i GNU coreutils). TÃ¹y chá»n `-P`/`-L` váº«n cÃ³ nhÆ°ng chi tiáº¿t cÃ³ thá»ƒ hÆ¡i khÃ¡c.

13. TÃ³m táº¯t ngáº¯n gá»n (Plain text ready-to-copy)

```text
/ bin / pwd
-----------
- Chá»©c nÄƒng: In ra Ä‘Æ°á»ng dáº«n thÆ° má»¥c lÃ m viá»‡c hiá»‡n táº¡i (print working directory).
- ThÆ°á»ng lÃ  binary thuá»™c package coreutils trÃªn Linux.
- TÃ¹y chá»n chÃ­nh: -L/--logical (theo biáº¿n PWD), -P/--physical (giáº£i symlink), --help, --version.
- Built-in shell 'pwd' cÃ³ thá»ƒ cÃ³ hÃ nh vi hÆ¡i khÃ¡c; dÃ¹ng 'type pwd' Ä‘á»ƒ kiá»ƒm tra.
- KhÃ´ng nÃªn Ä‘áº·t setuid; file thÆ°á»ng cÃ³ quyá»n -rwxr-xr-x vÃ  thuá»™c root:root.
```

---

Náº¿u báº¡n muá»‘n, mÃ¬nh cÃ³ thá»ƒ:

* ThÃªm pháº§n `man page` Ä‘áº§y Ä‘á»§ á»Ÿ dáº¡ng plain text,
* Táº¡o vÃ­ dá»¥ so sÃ¡nh hÃ nh vi giá»¯a bash built-in vÃ  `/bin/pwd` trÃªn má»™t trÆ°á»ng há»£p symlink cá»¥ thá»ƒ,
* Hoáº·c cung cáº¥p lá»‡nh kiá»ƒm tra checksum (sha256sum) Ä‘á»ƒ xÃ¡c minh tÃ­nh toÃ n váº¹n cá»§a `/bin/pwd` trÃªn há»‡ cá»§a báº¡n.

(MÃ¬nh Ä‘Ã£ trÃ¬nh bÃ y toÃ n bá»™ ná»™i dung á»Ÿ Ä‘á»‹nh dáº¡ng plain text Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy nguyÃªn vÃ o file .txt.)


		- cmd: mkdir -p /opt/dev/ops/devops/test

# Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: mkdir -p /opt/dev/ops/devops/test

DÆ°á»›i Ä‘Ã¢y lÃ  **giáº£i thÃ­ch chi tiáº¿t nháº¥t** vá» lá»‡nh `mkdir -p /opt/dev/ops/devops/test`, trÃ¬nh bÃ y á»Ÿ **Ä‘á»‹nh dáº¡ng plain text** â€” báº¡n cÃ³ thá»ƒ **copy nguyÃªn** toÃ n bá»™ ná»™i dung nÃ y báº±ng nÃºt **Copy** trong giao diá»‡n vÃ  dÃ¡n trá»±c tiáº¿p vÃ o file `.txt`.

---

Lá»‡nh Ä‘áº§y Ä‘á»§:

```text
mkdir -p /opt/dev/ops/devops/test
```

## 1) Má»¥c Ä‘Ã­ch chung

* `mkdir` lÃ  lá»‡nh táº¡o thÆ° má»¥c (make directory) trÃªn há»‡ thá»‘ng Unix/Linux.
* TÃ¹y chá»n `-p` (viáº¿t táº¯t cá»§a `--parents`) cho phÃ©p:

  * Táº¡o cáº£ cÃ¡c thÆ° má»¥c cha chÆ°a tá»“n táº¡i trÃªn Ä‘Æ°á»ng dáº«n (vÃ­ dá»¥ `/opt`, `/opt/dev`, `/opt/dev/ops`, ...).
  * KhÃ´ng bÃ¡o lá»—i náº¿u thÆ° má»¥c Ä‘Ã­ch Ä‘Ã£ tá»“n táº¡i (khÃ´ng in lá»—i, exit code = 0 náº¿u thÆ° má»¥c tá»“n táº¡i hoáº·c Ä‘Ã£ Ä‘Æ°á»£c táº¡o thÃ nh cÃ´ng).

Trong vÃ­ dá»¥, lá»‡nh sáº½ Ä‘áº£m báº£o tá»“n táº¡i cÃ¢y thÆ° má»¥c sau: `/opt/dev/ops/devops/test` â€” náº¿u báº¥t ká»³ cáº¥p nÃ o chÆ°a tá»“n táº¡i, nÃ³ sáº½ Ä‘Æ°á»£c táº¡o.

## 2) PhÃ¢n tÃ­ch tá»«ng pháº§n

* `mkdir` : chÆ°Æ¡ng trÃ¬nh táº¡o thÆ° má»¥c.
* `-p` :

  * Táº¡o cÃ¡c thÆ° má»¥c cha khi cáº§n.
  * TrÃ¡nh lá»—i náº¿u thÆ° má»¥c Ä‘Ã£ tá»“n táº¡i.
  * Náº¿u Ä‘Æ°á»ng dáº«n chá»©a nhiá»u cáº¥p chÆ°a tá»“n táº¡i, `mkdir -p` sáº½ táº¡o toÃ n bá»™ cáº¥u trÃºc.
* `/opt/dev/ops/devops/test` : Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i (báº¯t Ä‘áº§u báº±ng `/`) tá»›i thÆ° má»¥c cáº§n táº¡o.

## 3) HÃ nh vi, exit code vÃ  thÃ´ng bÃ¡o

* Náº¿u thÃ nh cÃ´ng: lá»‡nh tráº£ vá» exit code `0` (khÃ´ng in gÃ¬ ra stdout trong cháº¿ Ä‘á»™ bÃ¬nh thÆ°á»ng).
* Náº¿u cÃ³ lá»—i (vÃ­ dá»¥ khÃ´ng Ä‘á»§ quyá»n ghi vÃ o `/opt`): in thÃ´ng bÃ¡o lá»—i lÃªn stderr, exit code khÃ¡c 0 (thÆ°á»ng `1`).
* `-p` lÃ m giáº£m lá»—i khi thÆ° má»¥c Ä‘Ã£ tá»“n táº¡i â€” sáº½ khÃ´ng in "File exists".

## 4) Quyá»n (permissions) khi táº¡o thÆ° má»¥c

* Máº·c Ä‘á»‹nh, thÆ° má»¥c má»›i Ä‘Æ°á»£c táº¡o vá»›i quyá»n lÃ  `mode` do `mkdir` Ä‘áº·t (thÆ°á»ng `0777`), nhÆ°ng sáº½ bá»‹ Ã¡p dá»¥ng `umask` cá»§a tiáº¿n trÃ¬nh (vÃ­ dá»¥ `0022` sáº½ khiáº¿n thÆ° má»¥c thá»±c táº¿ lÃ  `0755`).
* Äá»ƒ kiá»ƒm tra `umask` hiá»‡n táº¡i: `umask` (gÃµ lá»‡nh trong shell).
* Náº¿u muá»‘n táº¡o vá»›i quyá»n cá»¥ thá»ƒ, cÃ³ thá»ƒ dÃ¹ng `-m` (mode):

```text
mkdir -p -m 0755 /opt/dev/ops/devops/test
```

LÆ°u Ã½: `-m` chá»‰ Ã¡p dá»¥ng cho thÆ° má»¥c cuá»‘i cÃ¹ng táº¡o ra; cÃ¡c thÆ° má»¥c cha cÃ³ thá»ƒ Ä‘Æ°á»£c táº¡o vá»›i quyá»n máº·c Ä‘á»‹nh/umask.

## 5) Quyá»n sá»Ÿ há»¯u (owner) vÃ  thay Ä‘á»•i owner

* ThÆ° má»¥c sáº½ thuá»™c vá» user vÃ  group cá»§a tiáº¿n trÃ¬nh thá»±c hiá»‡n lá»‡nh (thÆ°á»ng user hiá»‡n táº¡i).
* Äá»ƒ táº¡o vÃ  Ä‘áº£m báº£o owner/group khÃ¡c (vÃ­ dá»¥ root:root), cáº§n cháº¡y vá»›i quyá»n phÃ¹ há»£p (sudo) hoáº·c dÃ¹ng `chown` sau khi táº¡o:

```text
sudo mkdir -p /opt/dev/ops/devops/test
sudo chown -R root:root /opt/dev/ops/devops
```

## 6) VÃ­ dá»¥ thá»±c táº¿ & ká»‹ch báº£n

1. Táº¡o cáº¥u trÃºc thÆ° má»¥c cho project devops (dÃ¹ng sudo náº¿u cáº§n):

```text
sudo mkdir -p /opt/dev/ops/devops/test
# kiá»ƒm tra
ls -ld /opt/dev/ops/devops/test
```

2. Táº¡o vá»›i quyá»n cá»¥ thá»ƒ vÃ  Ä‘áº·t owner:

```text
sudo mkdir -p -m 0750 /opt/dev/ops/devops/test
sudo chown -R devopsuser:devopsgroup /opt/dev/ops/devops
```

3. DÃ¹ng trong script Ä‘á»ƒ táº¡o nhiá»u thÆ° má»¥c cÃ¹ng lÃºc:

```text
#!/bin/bash
set -e
dirs=(/opt/dev/ops/devops/test /opt/dev/ops/devops/log /opt/dev/ops/devops/tmp)
for d in "${dirs[@]}"; do
  mkdir -p "$d"
done
```

## 7) Xá»­ lÃ½ lá»—i thÆ°á»ng gáº·p vÃ  cÃ¡ch kháº¯c phá»¥c

* `mkdir: cannot create directory '/opt/...': Permission denied`

  * NguyÃªn nhÃ¢n: user hiá»‡n táº¡i khÃ´ng cÃ³ quyá»n ghi táº¡i parent directory (`/opt`).
  * Kháº¯c phá»¥c: dÃ¹ng `sudo` hoáº·c cháº¡y vá»›i user cÃ³ quyá»n, hoáº·c chá»n Ä‘Æ°á»ng dáº«n trong home (vÃ­ dá»¥ `~/...`).

* `mkdir: cannot create directory â€˜/pathâ€™: File exists` (náº¿u khÃ´ng dÃ¹ng `-p`)

  * Kháº¯c phá»¥c: thÃªm `-p` hoáº·c xÃ³a/di chuyá»ƒn Ä‘á»‘i tÆ°á»£ng Ä‘Ã£ tá»“n táº¡i náº¿u cáº§n.

* `mkdir: cannot create directory â€˜/pathâ€™: Not a directory`

  * NguyÃªn nhÃ¢n: má»™t pháº§n trÃªn Ä‘Æ°á»ng dáº«n lÃ  file, khÃ´ng pháº£i thÆ° má»¥c. Kiá»ƒm tra `ls -l` tá»«ng pháº§n vÃ  sá»­a láº¡i.

## 8) LÆ°u Ã½ khi dÃ¹ng vá»›i symbolic links

* Náº¿u má»™t pháº§n trÃªn Ä‘Æ°á»ng dáº«n lÃ  symlink trá» tá»›i thÆ° má»¥c khÃ¡c, `mkdir -p` sáº½ tiáº¿p tá»¥c theo symlink.
* Náº¿u symlink trá» tá»›i file (khÃ´ng pháº£i directory), sáº½ gÃ¢y lá»—i "Not a directory".

## 9) Sá»­ dá»¥ng an toÃ n trong mÃ´i trÆ°á»ng production

* TrÃ¡nh dÃ¹ng `mkdir -p` vá»›i quyá»n `sudo` trong script mÃ  khÃ´ng kiá»ƒm soÃ¡t input Ä‘Æ°á»ng dáº«n (nguy cÆ¡ path injection).
* Kiá»ƒm tra ká»¹ biáº¿n/Ä‘Æ°á»ng dáº«n trÆ°á»›c khi táº¡o (vÃ­ dá»¥ validate biáº¿n `$TARGET_DIR` khÃ´ng rá»—ng vÃ  khÃ´ng chá»©a `..` náº¿u khÃ´ng an toÃ n).

VÃ­ dá»¥ kiá»ƒm tra an toÃ n:

```text
#!/bin/bash
set -euo pipefail
TARGET_DIR="/opt/dev/ops/devops/test"
if [[ -z "$TARGET_DIR" || "$TARGET_DIR" != /* ]]; then
  echo "Invalid target dir" >&2
  exit 1
fi
mkdir -p -- "$TARGET_DIR"
```

## 10) CÃ¡c tuá»³ chá»n há»¯u Ã­ch khÃ¡c cá»§a `mkdir`

* `-v, --verbose` : in ra tá»«ng thÆ° má»¥c khi táº¡o (há»¯u Ã­ch Ä‘á»ƒ debug):

```text
mkdir -pv /opt/dev/ops/devops/test
# Output sample: mkdir: created directory '/opt'
#               mkdir: created directory '/opt/dev'
#               ...
```

* `--mode=MODE` tÆ°Æ¡ng tá»± `-m MODE` Ä‘á»ƒ set quyá»n.
* `--help` Ä‘á»ƒ xem trá»£ giÃºp.

## 11) Kiá»ƒm tra káº¿t quáº£

* Kiá»ƒm tra quyá»n vÃ  owner:

```text
ls -ld /opt/dev/ops/devops/test
```

* Liá»‡t kÃª toÃ n bá»™ cÃ¢y:

```text
tree /opt/dev/ops/devops  # náº¿u cÃ³ tree
# hoáº·c
find /opt/dev/ops/devops -maxdepth 2 -type d -ls
```

## 12) VÃ­ dá»¥ tÃ³m táº¯t (Plain text ready-to-copy)

```text
# Táº¡o toÃ n bá»™ cáº¥u trÃºc thÆ° má»¥c (táº¡o cha náº¿u chÆ°a tá»“n táº¡i), khÃ´ng bÃ¡o lá»—i náº¿u Ä‘Ã£ cÃ³
mkdir -p /opt/dev/ops/devops/test

# Táº¡o chi tiáº¿t vá»›i quyá»n vÃ  owner
sudo mkdir -p -m 0755 /opt/dev/ops/devops/test
sudo chown -R devopsuser:devops /opt/dev/ops/devops

# Táº¡o nhiá»u thÆ° má»¥c cÃ¹ng lÃºc (vÃ­ dá»¥ trong script)
dirs=(/opt/dev/ops/devops/test /opt/dev/ops/devops/log /opt/dev/ops/devops/tmp)
for d in "${dirs[@]}"; do
  mkdir -p "$d"
done
```

---

Náº¿u báº¡n muá»‘n phiÃªn báº£n rÃºt gá»n (chá»‰ lá»‡nh + mÃ´ táº£ 1-2 dÃ²ng) hoáº·c phiÃªn báº£n kÃ¨m kiá»ƒm tra quyá»n/owner Ä‘á»ƒ cháº¡y tá»± Ä‘á»™ng trÃªn server, mÃ¬nh sáº½ cáº­p nháº­t ngay. Ná»™i dung nÃ y Ä‘Ã£ á»Ÿ Ä‘á»‹nh dáº¡ng plain text Ä‘á»ƒ báº¡n copy trá»±c tiáº¿p.


		- cmd: ln -s /opt/dev/ops/devops/test/command.txt cmds

# Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: ln -s /opt/dev/ops/devops/test/command.txt cmds

TÃ i liá»‡u nÃ y trÃ¬nh bÃ y **giáº£i thÃ­ch chi tiáº¿t nháº¥t** vá» lá»‡nh `ln -s /opt/dev/ops/devops/test/command.txt cmds` á»Ÿ Ä‘á»‹nh dáº¡ng **plain text**. Báº¡n cÃ³ thá»ƒ **copy nguyÃªn** toÃ n bá»™ ná»™i dung trong tÃ i liá»‡u nÃ y báº±ng nÃºt **Copy** vÃ  dÃ¡n trá»±c tiáº¿p vÃ o file `.txt`.

---

Lá»‡nh Ä‘áº§y Ä‘á»§:

```text
ln -s /opt/dev/ops/devops/test/command.txt cmds
```

## 1) Má»¥c Ä‘Ã­ch chung

* `ln` lÃ  lá»‡nh táº¡o link (liÃªn káº¿t) Ä‘áº¿n file hoáº·c thÆ° má»¥c.
* TÃ¹y chá»n `-s` táº¡o **symbolic link** (symlink) â€” má»™t file Ä‘áº·c biá»‡t chá»©a Ä‘Æ°á»ng dáº«n tá»›i file/dir má»¥c tiÃªu.
* Trong vÃ­ dá»¥ nÃ y, lá»‡nh táº¡o má»™t symlink tÃªn `cmds` trá» tá»›i `/opt/dev/ops/devops/test/command.txt`.
* Sau khi táº¡o, truy xuáº¥t `cmds` tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i truy xuáº¥t ná»™i dung `command.txt` (nhiá»u thao tÃ¡c nhÆ° `cat cmds`, `less cmds`, `cp cmds`... sáº½ hoáº¡t Ä‘á»™ng theo ná»™i dung má»¥c tiÃªu, nhÆ°ng má»™t vÃ i thao tÃ¡c (vÃ­ dá»¥ xÃ³a) tÃ¡c Ä‘á»™ng tá»›i link chá»© khÃ´ng pháº£i file Ä‘Ã­ch náº¿u dÃ¹ng tÃ¹y chá»n phÃ¹ há»£p).

## 2) PhÃ¢n tÃ­ch cÃ¡c thÃ nh pháº§n

* `ln` : chÆ°Æ¡ng trÃ¬nh táº¡o link.
* `-s` : táº¡o symbolic (soft) link. KhÃ´ng cÃ³ `-s` sáº½ táº¡o hard link (khÃ´ng thá»ƒ táº¡o hard link tá»›i thÆ° má»¥c vÃ  khÃ´ng thá»ƒ link giá»¯a filesystem khÃ¡c).
* `/opt/dev/ops/devops/test/command.txt` : Ä‘Æ°á»ng dáº«n **tá»›i file má»¥c tiÃªu** (target). CÃ³ thá»ƒ lÃ  Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i hoáº·c tÆ°Æ¡ng Ä‘á»‘i.
* `cmds` : tÃªn file symlink Ä‘Æ°á»£c táº¡o trong thÆ° má»¥c hiá»‡n táº¡i (hoáº·c Ä‘Æ°á»ng dáº«n tá»›i nÆ¡i báº¡n muá»‘n táº¡o link).

## 3) HÃ nh vi chi tiáº¿t

* Náº¿u `cmds` chÆ°a tá»“n táº¡i: táº¡o symlink má»›i.
* Náº¿u `cmds` Ä‘Ã£ tá»“n táº¡i vÃ  lÃ  file hoáº·c link: `ln` bÃ¡o lá»—i "File exists" â€” Ä‘á»ƒ ghi Ä‘Ã¨, dÃ¹ng `ln -sf` (cáº©n tháº­n vÃ¬ sáº½ ghi Ä‘Ã¨).
* Symlink lÆ°u trá»¯ Ä‘Æ°á»ng dáº«n (ná»™i dung text) tá»›i target, khÃ´ng chá»©a dá»¯ liá»‡u thá»±c táº¿. Náº¿u target bá»‹ di chuyá»ƒn hoáº·c xÃ³a, symlink trá»Ÿ thÃ nh **dangling symlink** (bá»‹ há»ng).

## 4) ÄÆ°á»ng dáº«n: tuyá»‡t Ä‘á»‘i vs tÆ°Æ¡ng Ä‘á»‘i

* `ln -s /abs/path/to/target linkname` táº¡o symlink chá»©a Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i.
* `ln -s ../relative/path/target linkname` táº¡o symlink chá»©a Ä‘Æ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i â€” thÆ°á»ng tá»‘t hÆ¡n khi di chuyá»ƒn toÃ n bá»™ thÆ° má»¥c cÃ¹ng nhau, vÃ¬ link váº«n giá»¯ Ä‘Ãºng tham chiáº¿u tÆ°Æ¡ng Ä‘á»‘i.

VÃ­ dá»¥:

```text
# tuyá»‡t Ä‘á»‘i\ln -s /opt/dev/ops/devops/test/command.txt cmds
# tÆ°Æ¡ng Ä‘á»‘i (náº¿u thÆ° má»¥c hiá»‡n táº¡i lÃ  /opt/dev/ops/devops)
ln -s test/command.txt cmds
```

## 5) Kiá»ƒm tra vÃ  hiá»ƒn thá»‹ symlink

* DÃ¹ng `ls -l`:

```text
$ ls -l cmds
lrwxrwxrwx 1 tuan tuan 36 Jul 10 12:00 cmds -> /opt/dev/ops/devops/test/command.txt
```

* DÃ¹ng `readlink` hoáº·c `readlink -f`:

```text
$ readlink cmds
/opt/dev/ops/devops/test/command.txt
# -f in ra Ä‘Æ°á»ng dáº«n váº­t lÃ½ tuyá»‡t Ä‘á»‘i, giáº£i cÃ¡c symlink
$ readlink -f cmds
/opt/dev/ops/devops/test/command.txt
```

## 6) VÃ­ dá»¥ sá»­ dá»¥ng thá»±c táº¿

```text
# 1) Táº¡o link Ä‘Æ¡n giáº£n
ln -s /opt/dev/ops/devops/test/command.txt cmds

# 2) Ghi Ä‘Ã¨ link náº¿u tá»“n táº¡i (cáº©n tháº­n)
ln -sf /opt/dev/ops/devops/test/command.txt cmds

# 3) Táº¡o symlink vá»›i Ä‘Æ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i (khi Ä‘ang á»Ÿ /opt/dev/ops/devops)
ln -s test/command.txt cmds

# 4) Táº¡o symlink trong thÆ° má»¥c khÃ¡c
ln -s /opt/dev/ops/devops/test/command.txt /usr/local/bin/cmds

# 5) Kiá»ƒm tra link
ls -l cmds
readlink cmds
readlink -f cmds
```

## 7) Quyá»n vÃ  owner

* Symlink thÆ°á»ng cÃ³ quyá»n `lrwxrwxrwx` (thá»ƒ hiá»‡n báº±ng `l` á»Ÿ Ä‘áº§u) nhÆ°ng quyá»n nÃ y khÃ´ng Ã¡p dá»¥ng nhÆ° file bÃ¬nh thÆ°á»ng â€” quyá»n truy cáº­p thá»±c sá»± phá»¥ thuá»™c vÃ o quyá»n cá»§a file/dir má»¥c tiÃªu.
* Owner/group cá»§a link lÃ  owner/group cá»§a tiáº¿n trÃ¬nh táº¡o link.
* XÃ³a link chá»‰ xÃ³a file link, khÃ´ng xÃ³a file má»¥c tiÃªu (trá»« khi báº¡n thá»±c hiá»‡n thao tÃ¡c lÃªn target trá»±c tiáº¿p).

## 8) XÃ³a, thay tháº¿ vÃ  an toÃ n

* XÃ³a link:

```text
rm cmds    # xÃ³a symlink cmds (khÃ´ng xÃ³a target)
```

* Náº¿u `cmds` lÃ  symlink tá»›i thÆ° má»¥c vÃ  báº¡n dÃ¹ng `rm -r cmds`, lá»‡nh sáº½ xÃ³a ná»™i dung target náº¿u shell/lá»‡nh theo link (háº§u háº¿t `rm -r` sáº½ xÃ³a ná»™i dung target!). Náº¿u muá»‘n xÃ³a chá»‰ link, dÃ¹ng `unlink cmds` hoáº·c `rm cmds` (khÃ´ng thÃªm -r).

* Ghi Ä‘Ã¨ link: `ln -sf target linkname` sáº½ thay link hiá»‡n táº¡i báº±ng link má»›i (náº¿u link hiá»‡n táº¡i lÃ  file thÆ°á»ng, ghi Ä‘Ã¨ sáº½ xáº£y ra â€” cáº©n tháº­n vá»›i `-f`).

## 9) Symlink tá»›i thÆ° má»¥c vs tá»›i file

* Symlink cÃ³ thá»ƒ trá» tá»›i file hoáº·c thÆ° má»¥c.
* Khi trá» tá»›i thÆ° má»¥c, thao tÃ¡c `cd linkname` sáº½ chuyá»ƒn vÃ o thÆ° má»¥c má»¥c tiÃªu.

## 10) CÃ¡c trÆ°á»ng há»£p lá»—i thÆ°á»ng gáº·p

* `ln: failed to create symbolic link 'cmds': Permission denied`

  * NguyÃªn nhÃ¢n: khÃ´ng cÃ³ quyá»n táº¡o file trong thÆ° má»¥c hiá»‡n táº¡i. DÃ¹ng `sudo` náº¿u cáº§n.

* `ln: failed to create symbolic link 'cmds': File exists`

  * Náº¿u báº¡n muá»‘n ghi Ä‘Ã¨, dÃ¹ng `-f`.

* Link bá»‹ há»ng (dangling): `ls -l` sáº½ hiá»ƒn thá»‹ link dÃ¹ target khÃ´ng tá»“n táº¡i; `readlink -f` cÃ³ thá»ƒ tráº£ vá» nothing náº¿u target khÃ´ng tá»“n táº¡i.

## 11) á»¨ng dá»¥ng thá»±c táº¿ & best practices

* DÃ¹ng symlink Ä‘á»ƒ:

  * Táº¡o tÃªn ngáº¯n gá»n cho file dÃ i Ä‘Æ°á»ng dáº«n.
  * ÄÆ°a script vÃ o `/usr/local/bin` Ä‘á»ƒ dá»… gá»i: `ln -s /opt/.../script.sh /usr/local/bin/myscript`.
  * Quáº£n lÃ½ phiÃªn báº£n: `current -> releases/v1.2.3` (khi deploy, cáº­p nháº­t link `current` sang release má»›i).

* Prefer relative links khi di chuyá»ƒn cáº£ cÃ¢y thÆ° má»¥c giá»¯a host/backup, vÃ¬ link tÆ°Æ¡ng Ä‘á»‘i giá»¯ nguyÃªn tham chiáº¿u.

* TrÃ¡nh dÃ¹ng `ln -sf` má»™t cÃ¡ch vÃ´ tá»™i váº¡ trÃªn file quan trá»ng â€” kiá»ƒm tra trÆ°á»›c khi ghi Ä‘Ã¨.

## 12) VÃ­ dá»¥ tÃ³m táº¯t (Plain text ready-to-copy)

```text
# Táº¡o symbolic link 'cmds' trá» tá»›i file command.txt
ln -s /opt/dev/ops/devops/test/command.txt cmds

# Kiá»ƒm tra link
ls -l cmds
readlink cmds

# Ghi Ä‘Ã¨ link náº¿u cáº§n (cáº©n tháº­n)
ln -sf /opt/dev/ops/devops/test/command.txt cmds

# XÃ³a link (khÃ´ng xÃ³a target)
rm cmds
# hoáº·c
unlink cmds
```

---

Náº¿u báº¡n muá»‘n phiÃªn báº£n rÃºt gá»n (1-2 dÃ²ng) hoáº·c phiÃªn báº£n kÃ¨m kiá»ƒm tra an toÃ n (vÃ­ dá»¥: kiá»ƒm tra target tá»“n táº¡i trÆ°á»›c khi táº¡o link), mÃ¬nh sáº½ cáº­p nháº­t ngay. Ná»™i dung nÃ y Ä‘Ã£ á»Ÿ dáº¡ng plain text Ä‘á»ƒ báº¡n copy trá»±c tiáº¿p.


		- cmd: unlink cmds

# Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: unlink cmds

DÆ°á»›i Ä‘Ã¢y lÃ  tÃ i liá»‡u **giáº£i thÃ­ch chi tiáº¿t nháº¥t** vá» lá»‡nh `unlink cmds` á»Ÿ Ä‘á»‹nh dáº¡ng **plain text**, trÃ¬nh bÃ y rÃµ rÃ ng Ä‘á»ƒ báº¡n cÃ³ thá»ƒ **copy nguyÃªn** vÃ  dÃ¡n trá»±c tiáº¿p vÃ o file `.txt` báº±ng nÃºt **Copy** trong giao diá»‡n.

---

Lá»‡nh Ä‘áº§y Ä‘á»§:

```text
unlink cmds
```

## 1) Má»¥c Ä‘Ã­ch chung

* `unlink` lÃ  má»™t lá»‡nh Unix/Linux dÃ¹ng Ä‘á»ƒ xÃ³a má»™t **tÃªn** trong há»‡ thá»‘ng file â€” tá»©c xÃ³a má»™t file hoáº·c symlink á»Ÿ cáº¥p tÃªn (link), tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `rm` khi dÃ¹ng Ä‘á»ƒ xÃ³a má»™t file Ä‘Æ¡n láº».
* Trong vÃ­ dá»¥ `unlink cmds`, lá»‡nh sáº½ xÃ³a entry (tÃªn) `cmds` trong thÆ° má»¥c hiá»‡n táº¡i. Náº¿u `cmds` lÃ  symbolic link, `unlink` sáº½ xÃ³a chÃ­nh link chá»© khÃ´ng xÃ³a file má»¥c tiÃªu.

## 2) PhÃ¢n biá»‡t `unlink` vs `rm`

* `unlink`:

  * Chá»‰ xÃ³a **má»™t** tÃªn (má»™t Ä‘á»‘i tÆ°á»£ng) táº¡i má»™t láº§n; cÃº phÃ¡p thÆ°á»ng lÃ  `unlink <name>`.
  * KhÃ´ng cÃ³ cÃ¡c tÃ¹y chá»n nhÆ° `-r` hay `-f` â€” ráº¥t Ä‘Æ¡n giáº£n vÃ  Ã­t nguy cÆ¡.
  * ThÆ°á»ng Ä‘Æ°á»£c dÃ¹ng trong script khi muá»‘n rÃµ rÃ ng xÃ³a má»™t tÃªn cá»¥ thá»ƒ.

* `rm`:

  * CÃ³ nhiá»u tÃ¹y chá»n (`-r`, `-f`, `-v`, ...), máº¡nh máº½ hÆ¡n, cÃ³ thá»ƒ xÃ³a nhiá»u file cÃ¹ng lÃºc.
  * `rm cmds` vá» máº·t hÃ nh vi thÆ°á»ng tÆ°Æ¡ng Ä‘Æ°Æ¡ng `unlink cmds` khi `cmds` lÃ  má»™t file thÃ´ng thÆ°á»ng (khÃ´ng dÃ¹ng `-r`).

## 3) HÃ nh vi chi tiáº¿t

* Náº¿u `cmds` tá»“n táº¡i vÃ  tiáº¿n trÃ¬nh cÃ³ quyá»n xÃ³a: `unlink` xÃ³a tÃªn `cmds` vÃ  tráº£ exit code `0`.
* Náº¿u `cmds` lÃ  symlink: link bá»‹ gá»¡ bá»; file má»¥c tiÃªu khÃ´ng bá»‹ áº£nh hÆ°á»Ÿng.
* Náº¿u `cmds` lÃ  directory: `unlink` sáº½ tháº¥t báº¡i (khÃ´ng xÃ³a thÆ° má»¥c). DÃ¹ng `rmdir` Ä‘á»ƒ xÃ³a thÆ° má»¥c rá»—ng hoáº·c `rm -r` Ä‘á»ƒ xÃ³a thÆ° má»¥c cÃ³ ná»™i dung.

## 4) Quyá»n (permissions) vÃ  ownership

* Äá»ƒ xÃ³a má»™t tÃªn, tiáº¿n trÃ¬nh cáº§n cÃ³ quyá»n ghi (`w`) trÃªn **thÆ° má»¥c chá»©a** tÃªn Ä‘Ã³, khÃ´ng pháº£i trÃªn file má»¥c tiÃªu. VÃ­ dá»¥:

  * Náº¿u `/path` sá»Ÿ há»¯u `file.txt`, Ä‘á»ƒ xÃ³a `/path/file.txt` báº¡n cáº§n quyá»n ghi trÃªn `/path`.
* Owner cá»§a file/chá»§ sá»Ÿ há»¯u thÆ° má»¥c kiá»ƒm soÃ¡t viá»‡c xÃ³a thÃ´ng qua quyá»n thÆ° má»¥c.

## 5) Exit code vÃ  thÃ´ng bÃ¡o lá»—i

* Exit code `0` : thÃ nh cÃ´ng.
* Náº¿u file khÃ´ng tá»“n táº¡i: thÆ°á»ng bÃ¡o `unlink: cannot unlink 'cmds': No such file or directory` vÃ  exit code != 0.
* Náº¿u khÃ´ng cÃ³ quyá»n: bÃ¡o `Permission denied` vÃ  exit code != 0.
* Náº¿u Ä‘á»‘i tÆ°á»£ng lÃ  directory: bÃ¡o `Is a directory`.

## 6) VÃ­ dá»¥ sá»­ dá»¥ng (plain text)

```text
# XÃ³a má»™t symlink hoáº·c file tÃªn 'cmds' trong thÆ° má»¥c hiá»‡n táº¡i
unlink cmds

# Kiá»ƒm tra trÆ°á»›c khi xÃ³a (an toÃ n trong script)
if [ -e cmds ]; then
  unlink cmds
fi

# DÃ¹ng trong script vá»›i kiá»ƒm tra kiá»ƒu (symlink/file)
if [ -L cmds ]; then
  echo "cmds is a symlink -> unlinking"
  unlink cmds
elif [ -f cmds ]; then
  echo "cmds is a regular file -> unlinking"
  unlink cmds
else
  echo "cmds does not exist or is a directory"
fi
```

## 7) á»¨ng dá»¥ng thá»±c táº¿ vÃ  best practices

* DÃ¹ng `unlink` khi báº¡n muá»‘n hÃ nh Ä‘á»™ng rÃµ rÃ ng chá»‰ xÃ³a **má»™t** tÃªn mÃ  khÃ´ng rá»§i ro do cÃ¡c tuá»³ chá»n cá»§a `rm`.
* TrÃ¡nh dÃ¹ng `unlink` trÃªn thÆ° má»¥c â€” lá»‡nh khÃ´ng Ä‘Æ°á»£c thiáº¿t káº¿ cho Ä‘iá»u Ä‘Ã³.
* Trong script, kiá»ƒm tra tá»“n táº¡i (`-e`), kiá»ƒm tra kiá»ƒu (`-L`, `-f`) vÃ  xá»­ lÃ½ lá»—i (kiá»ƒm tra exit code) trÆ°á»›c/sau khi gá»i `unlink` Ä‘á»ƒ trÃ¡nh tÃ¬nh huá»‘ng báº¥t ngá».

## 8) XÃ³a symlink an toÃ n: vÃ­ dá»¥ kÃ¨m kiá»ƒm tra

```text
# XÃ³a symlink chá»‰ khi nÃ³ lÃ  symlink vÃ  trá» tá»›i target cá»¥ thá»ƒ
target="/opt/dev/ops/devops/test/command.txt"
if [ -L cmds ] && [ "$(readlink cmds)" = "$target" ]; then
  unlink cmds
else
  echo "Not removing cmds: not a symlink or target mismatch"
fi
```

## 9) Kiá»ƒm tra káº¿t quáº£

* DÃ¹ng `ls -l` Ä‘á»ƒ xÃ¡c nháº­n link/file Ä‘Ã£ bá»‹ xÃ³a:

```text
ls -l cmds  # náº¿u khÃ´ng tá»“n táº¡i sáº½ bÃ¡o 'No such file or directory'
```

* Kiá»ƒm tra exit code trong script:

```text
unlink cmds || echo "unlink failed with code $?"
```

## 10) LÆ°u Ã½ khÃ¡c

* `unlink` lÃ  tiá»‡n dá»¥ng khi báº¡n muá»‘n hÃ nh Ä‘á»™ng an toÃ n, cÃ³ kiá»ƒm soÃ¡t trong script.
* TrÃªn má»™t sá»‘ há»‡ thá»‘ng, `unlink` cÃ³ thá»ƒ lÃ  built-in cá»§a shell (vÃ­ dá»¥ `builtin unlink`), nhÆ°ng thÆ°á»ng cÃ³ sáºµn nhÆ° má»™t chÆ°Æ¡ng trÃ¬nh nhá» trong coreutils.

## 11) TÃ³m táº¯t ngáº¯n gá»n (Plain text ready-to-copy)

```text
# XÃ³a tÃªn 'cmds' (file hoáº·c symlink) trong thÆ° má»¥c hiá»‡n táº¡i
unlink cmds

# Kiá»ƒm tra trÆ°á»›c khi xÃ³a (script)
if [ -e cmds ]; then
  unlink cmds
fi
```

---

Ná»™i dung trÃªn Ä‘Ã£ á»Ÿ Ä‘á»‹nh dáº¡ng plain text, trÃ¬nh bÃ y rÃµ rÃ ng Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ vÃ o file .txt. Náº¿u báº¡n muá»‘n, mÃ¬nh cÃ³ thá»ƒ táº¡o phiÃªn báº£n rÃºt gá»n 1-2 dÃ²ng, hoáº·c thÃªm vÃ­ dá»¥ xá»­ lÃ½ lá»—i/khai bÃ¡o exit code trong script.


		- cmd: ls -lt

# Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: `ls -lt` (PLAIN TEXT)

TÃ i liá»‡u nÃ y trÃ¬nh bÃ y **giáº£i thÃ­ch chi tiáº¿t nháº¥t** vá» lá»‡nh `ls -lt` á»Ÿ Ä‘á»‹nh dáº¡ng **plain text** â€” ná»™i dung Ä‘Æ°á»£c trÃ¬nh bÃ y rÃµ rÃ ng Ä‘á»ƒ báº¡n cÃ³ thá»ƒ **copy nguyÃªn** vÃ o file `.txt` báº±ng nÃºt **Copy** trong giao diá»‡n.

---

Lá»‡nh cÆ¡ báº£n:

```text
ls -lt
```

## 1) Ã nghÄ©a chung

* `ls` lÃ  lá»‡nh liá»‡t kÃª ná»™i dung thÆ° má»¥c trÃªn há»‡ Unix/Linux.
* Tuá»³ chá»n `-l` (long listing) hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t cho má»—i file/thÆ° má»¥c: quyá»n (mode), sá»‘ link, owner, group, kÃ­ch thÆ°á»›c, timestamp (thá»i gian sá»­a Ä‘á»•i), vÃ  tÃªn.
* Tuá»³ chá»n `-t` sáº¯p xáº¿p káº¿t quáº£ theo thá»i gian sá»­a Ä‘á»•i (modification time), vá»›i má»¥c má»›i nháº¥t Ä‘á»©ng trÃªn Ä‘áº§u (máº·c Ä‘á»‹nh lÃ  giáº£m dáº§n â€” newest first).

Káº¿t há»£p `-lt` nghÄ©a lÃ  "liá»‡t kÃª vá»›i dáº¡ng dÃ i vÃ  sáº¯p xáº¿p theo thá»i gian sá»­a Ä‘á»•i (má»›i nháº¥t trÆ°á»›c)".

---

## 2) Giáº£i thÃ­ch cÃ¡c cá»™t trong `ls -l`

Má»™t dÃ²ng Ä‘áº§u ra Ä‘iá»ƒn hÃ¬nh:

```text
-rw-r--r-- 1 tuan staff  1234 Jul 10 12:34 example.txt
```

Giáº£i thÃ­ch tá»«ng trÆ°á»ng tá»« trÃ¡i sang pháº£i:

1. `-rw-r--r--` â€” quyá»n truy cáº­p (file mode):

   * KÃ½ tá»± Ä‘áº§u: `-` (file thÆ°á»ng), `d` (directory), `l` (symlink), `c` (character device), `b` (block device), `s` (socket), `p` (named pipe).
   * CÃ¡c nhÃ³m 3 kÃ½ tá»± tiáº¿p theo: owner, group, others (r=read, w=write, x=execute). CÃ³ thá»ƒ tháº¥y `s`, `S`, `t`, `T` cho setuid/setgid/sticky bits.

2. `1` â€” sá»‘ hard links (sá»‘ tÃªn liÃªn káº¿t trá»±c tiáº¿p tá»›i inode).

3. `tuan` â€” owner (ngÆ°á»i sá»Ÿ há»¯u file).

4. `staff` â€” group (nhÃ³m sá»Ÿ há»¯u).

5. `1234` â€” kÃ­ch thÆ°á»›c file tÃ­nh báº±ng bytes (trong `-l`).

6. `Jul 10 12:34` â€” timestamp (máº·c Ä‘á»‹nh hiá»ƒn thá»‹ thÃ¡ng, ngÃ y, thá»i gian hoáº·c nÄƒm tuá»³ vÃ o khoáº£ng cÃ¡ch thá»i gian Ä‘áº¿n hiá»‡n táº¡i).

7. `example.txt` â€” tÃªn file.

---

## 3) HÃ nh vi khi dÃ¹ng `-t` (sáº¯p xáº¿p)

* `-t` sáº¯p xáº¿p theo thá»i gian sá»­a Ä‘á»•i (`mtime`) tá»« má»›i nháº¥t Ä‘áº¿n cÅ© nháº¥t.
* Báº¡n cÃ³ thá»ƒ Ä‘áº£o thá»© tá»± báº±ng `-r` (reverse) â€” `ls -ltr` sáº½ hiá»ƒn thá»‹ cÅ© nháº¥t trÆ°á»›c, má»›i nháº¥t cuá»‘i.
* Káº¿t há»£p `-t` vá»›i `-c` (sort by ctime) hoáº·c `-u` (sort by atime) thay Ä‘á»•i trÆ°á»ng thá»i gian Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ sáº¯p xáº¿p; máº·c Ä‘á»‹nh `-t` dÃ¹ng `mtime`.

---

## 4) TÃ¹y chá»n há»¯u Ã­ch thÆ°á»ng dÃ¹ng cÃ¹ng `ls -lt`

* `-a` : hiá»ƒn thá»‹ cáº£ file áº©n (báº¯t Ä‘áº§u báº±ng `.`).
* `-h` : human-readable sizes (vÃ­ dá»¥ `1.2K`, `4.0M`). DÃ¹ng `ls -lth` Ä‘á»ƒ xem kÃ­ch thÆ°á»›c dá»… Ä‘á»c.
* `-r` : Ä‘áº£o thá»© tá»± (reverse).
* `-S` : sáº¯p xáº¿p theo kÃ­ch thÆ°á»›c thay vÃ¬ thá»i gian.
* `--time-style=FORMAT` : tuá»³ chá»‰nh Ä‘á»‹nh dáº¡ng thá»i gian (GNU ls). VÃ­ dá»¥ `--time-style=+'%Y-%m-%d %H:%M:%S'`.
* `-1` : liá»‡t kÃª má»—i tÃªn trÃªn má»™t dÃ²ng (loáº¡i bá» cá»™t thÃ´ng tin) â€” khÃ´ng thÆ°á»ng káº¿t há»£p vá»›i `-l`.

VÃ­ dá»¥: `ls -lath` â€” liá»‡t kÃª dÃ i, gá»“m file áº©n, sáº¯p xáº¿p theo thá»i gian, kÃ­ch thÆ°á»›c dá»… Ä‘á»c.

---

## 5) VÃ­ dá»¥ thá»±c táº¿

```text
# Liá»‡t kÃª file má»›i nháº¥t lÃªn Ä‘áº§u trong thÆ° má»¥c hiá»‡n táº¡i
ls -lt

# Liá»‡t kÃª táº¥t cáº£ (ká»ƒ cáº£ áº©n), kÃ­ch thÆ°á»›c human-readable, má»›i nháº¥t trÆ°á»›c
ls -lath

# Liá»‡t kÃª theo thá»i gian nhÆ°ng hiá»ƒn thá»‹ cÅ© nháº¥t trÆ°á»›c
ls -ltr

# Liá»‡t kÃª vá»›i timestamp Ä‘áº§y Ä‘á»§ (nÄƒm- thÃ¡ng- ngÃ y giá»:phÃºt:giÃ¢y)
ls -lt --time-style=+"%Y-%m-%d %H:%M:%S"

# Liá»‡t kÃª 10 file chá»‰nh sá»­a gáº§n Ä‘Ã¢y nháº¥t
ls -lt | head -n 10

# Liá»‡t kÃª 10 file lá»›n nháº¥t (theo kÃ­ch thÆ°á»›c)
ls -lS | head -n 10

# Liá»‡t kÃª theo thá»i gian trong má»™t thÆ° má»¥c cá»¥ thá»ƒ
ls -lt /var/log
```

---

## 6) Sá»­ dá»¥ng trong script

* LÆ°u Ã½: náº¿u tÃªn file cÃ³ kÃ½ tá»± Ä‘áº·c biá»‡t (khoáº£ng tráº¯ng, newline), viá»‡c parse `ls` cÃ³ thá»ƒ khÃ´ng an toÃ n. Khi cáº§n xá»­ lÃ½ tÃªn file trong script, Æ°u tiÃªn dÃ¹ng `find -print0` + `xargs -0` hoáº·c `stat -c` káº¿t há»£p `--format`.

VÃ­ dá»¥ an toÃ n hÆ¡n Ä‘á»ƒ láº¥y 10 file chá»‰nh sá»­a gáº§n nháº¥t vÃ  xá»­ lÃ½ chÃºng:

```text
# DÃ¹ng find + stat Ä‘á»ƒ an toÃ n vá»›i khoáº£ng tráº¯ng
find . -maxdepth 1 -type f -printf '%T@ %p\0' | sort -rz -n | head -z -n 10 | cut -z -d ' ' -f2- | xargs -0 -I{} echo "Process {}"
```

Tuy phá»©c táº¡p hÆ¡n, phÆ°Æ¡ng phÃ¡p trÃªn an toÃ n vá»›i tÃªn file chá»©a khoáº£ng tráº¯ng/newline.

---

## 7) CÃ¡c trÆ°á»ng há»£p Ä‘áº·c biá»‡t

* Náº¿u há»‡ thá»‘ng dÃ¹ng locale khÃ¡c, Ä‘á»‹nh dáº¡ng thÃ¡ng / thá»i gian cÃ³ thá»ƒ khÃ¡c (LC_TIME áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡ch hiá»ƒn thá»‹ thá»i gian).
* `ls` hiá»ƒn thá»‹ nÄƒm thay vÃ¬ giá» náº¿u má»¥c Ä‘Æ°á»£c sá»­a cÃ¡ch Ä‘Ã¢y hÆ¡n ~6 thÃ¡ng (tuá»³ há»‡ thá»‘ng) â€” Ä‘Ã¢y lÃ  hÃ nh vi máº·c Ä‘á»‹nh: náº¿u file cÅ© hÆ¡n 6 thÃ¡ng, `ls -l` hiá»ƒn thá»‹ nÄƒm thay vÃ¬ giá»:phÃºt.
* `ls` cÃ³ thá»ƒ lÃ  built-in cá»§a má»™t vÃ i shell nhÆ°ng thÆ°á»ng lÃ  binary `/bin/ls` tá»« coreutils.

---

## 8) So sÃ¡nh nhanh vá»›i `stat`

* `stat` cung cáº¥p thÃ´ng tin chi tiáº¿t hÆ¡n vá» inode, mtime/ctime/atime, quyá»n, vÃ  nhiá»u Ä‘á»‹nh dáº¡ng dá»… parse hÆ¡n cho scripts.

VÃ­ dá»¥:

```text
stat -c '%n %s %y' * | sort -k3 -r
```

---

## 9) Máº¹o & best practices

* DÃ¹ng `-h` Ä‘á»ƒ Ä‘á»c kÃ­ch thÆ°á»›c dá»… hÆ¡n.
* DÃ¹ng `--time-style` khi cáº§n timestamp chuáº©n cho log hoáº·c script.
* TrÃ¡nh parse `ls` trong script náº¿u tÃªn file cÃ³ thá»ƒ chá»©a khoáº£ng tráº¯ng/newline; dÃ¹ng `find` + `-print0`/`xargs -0` hoáº·c `stat`.

---

## 10) TÃ³m táº¯t ngáº¯n (Plain text ready-to-copy)

```text
# Liá»‡t kÃª file/dir theo dáº¡ng dÃ i vÃ  sáº¯p xáº¿p theo thá»i gian sá»­a Ä‘á»•i (má»›i nháº¥t trÆ°á»›c)
ls -lt

# ThÃ´ng dá»¥ng: xem file má»›i nháº¥t á»Ÿ Ä‘áº§u, dÃ¹ng -h cho kÃ­ch thÆ°á»›c dá»… Ä‘á»c, -r Ä‘á»ƒ Ä‘áº£o thá»© tá»±
ls -lth   # human-readable sizes
ls -ltr   # cÅ© nháº¥t trÆ°á»›c

# Láº¥y 10 file má»›i nháº¥t
ls -lt | head -n 10
```

---

Ná»™i dung nÃ y Ä‘Ã£ á»Ÿ Ä‘á»‹nh dáº¡ng plain text, trÃ¬nh bÃ y chi tiáº¿t Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ o file `.txt`. Náº¿u báº¡n muá»‘n phiÃªn báº£n cá»±c ngáº¯n (1-2 dÃ²ng) hoáº·c báº£n kÃ¨m giáº£i thÃ­ch báº±ng tiáº¿ng Anh, mÃ¬nh sáº½ cáº­p nháº­t ngay.


		- cmd: ls -ltr

# Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: `ls -ltr` (PLAIN TEXT)

TÃ i liá»‡u nÃ y trÃ¬nh bÃ y **giáº£i thÃ­ch chi tiáº¿t nháº¥t** vá» lá»‡nh `ls -ltr` á»Ÿ Ä‘á»‹nh dáº¡ng **plain text** â€” trÃ¬nh bÃ y rÃµ rÃ ng Ä‘á»ƒ báº¡n cÃ³ thá»ƒ **copy nguyÃªn** vÃ o file `.txt` báº±ng nÃºt **Copy** trong giao diá»‡n.

---

Lá»‡nh cÆ¡ báº£n:

```text
ls -ltr
```

## 1) Ã nghÄ©a tá»«ng tÃ¹y chá»n

* `ls` : liá»‡t kÃª ná»™i dung thÆ° má»¥c.
* `-l` : "long listing" â€” hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ thÃ´ng tin cho má»—i file/thÆ° má»¥c: quyá»n, sá»‘ link, owner, group, kÃ­ch thÆ°á»›c, timestamp, tÃªn.
* `-t` : sáº¯p xáº¿p theo thá»i gian sá»­a Ä‘á»•i (`mtime`), máº·c Ä‘á»‹nh má»›i nháº¥t trÆ°á»›c.
* `-r` : reverse â€” Ä‘áº£o thá»© tá»± sáº¯p xáº¿p (káº¿t há»£p vá»›i `-t` sáº½ cho cÅ© nháº¥t trÆ°á»›c, má»›i nháº¥t sau).

Káº¿t há»£p `-ltr` cÃ³ nghÄ©a lÃ : **liá»‡t kÃª dáº¡ng dÃ i, sáº¯p xáº¿p theo thá»i gian sá»­a Ä‘á»•i nhÆ°ng hiá»ƒn thá»‹ cÅ© nháº¥t trÆ°á»›c** (useful Ä‘á»ƒ xem lá»‹ch sá»­ thay Ä‘á»•i tá»« cÅ© Ä‘áº¿n má»›i).

---

## 2) Giáº£i thÃ­ch cÃ¡c cá»™t trong `ls -l`

Má»™t dÃ²ng Ä‘iá»ƒn hÃ¬nh:

```text
-rw-r--r-- 1 tuan staff  1234 Jul 10 12:34 example.txt
```

* `-rw-r--r--` : quyá»n truy cáº­p (d: directory, l: symlink, -: regular file).
* `1` : sá»‘ hard links.
* `tuan` : owner.
* `staff` : group.
* `1234` : kÃ­ch thÆ°á»›c (bytes).
* `Jul 10 12:34` : timestamp (thá»i Ä‘iá»ƒm chá»‰nh sá»­a gáº§n nháº¥t).
* `example.txt` : tÃªn file.

---

## 3) Táº¡i sao dÃ¹ng `ls -ltr`?

* Khi báº¡n muá»‘n xem danh sÃ¡ch file theo thá»© tá»± thá»i gian tá»« **cÅ© nháº¥t Ä‘áº¿n má»›i nháº¥t**, vÃ­ dá»¥ Ä‘á»ƒ tÃ¬m file báº¯t Ä‘áº§u Ä‘Æ°á»£c chá»‰nh sá»­a sá»›m nháº¥t hoáº·c theo dÃµi tiáº¿n trÃ¬nh táº¡o file.
* ThÃ­ch há»£p khi káº¿t há»£p vá»›i `tail` Ä‘á»ƒ láº¥y cÃ¡c thay Ä‘á»•i má»›i nháº¥t (`ls -ltr | tail -n 10` cho 10 file má»›i nháº¥t á»Ÿ cuá»‘i).

---

## 4) CÃ¡c tuá»³ chá»n thÆ°á»ng káº¿t há»£p há»¯u Ã­ch

* `-h` : human readable sizes â€” `ls -ltrh` hiá»ƒn thá»‹ kÃ­ch thÆ°á»›c kiá»ƒu `K/M/G`.
* `-a` : show all (bao gá»“m file áº©n) â€” `ls -latr`.
* `--time-style=FORMAT` : tuá»³ chá»‰nh Ä‘á»‹nh dáº¡ng thá»i gian (GNU ls). VÃ­ dá»¥: `ls -ltr --time-style=+'%Y-%m-%d %H:%M:%S'`.
* `-S` : sáº¯p theo kÃ­ch thÆ°á»›c (thay cho `-t`) â€” khÃ´ng dÃ¹ng chung náº¿u báº¡n muá»‘n theo thá»i gian.

VÃ­ dá»¥ thÆ°á»ng dÃ¹ng:

```text
ls -ltrh              # long, thá»i gian cÅ©->má»›i, kÃ­ch thÆ°á»›c dá»… Ä‘á»c
ls -latr              # gá»“m file áº©n, cÅ©->má»›i
ls -ltr --time-style=+"%Y-%m-%d %H:%M:%S"  # timestamp chuáº©n
```

---

## 5) VÃ­ dá»¥ thá»±c táº¿

```text
# Liá»‡t kÃª thÆ° má»¥c hiá»‡n táº¡i, cÅ© nháº¥t lÃªn trÆ°á»›c
ls -ltr

# Láº¥y 20 file/directory cÅ© nháº¥t (Ä‘áº§u ra)
ls -ltr | head -n 20

# Láº¥y 10 file má»›i nháº¥t (cuá»‘i danh sÃ¡ch), dÃ¹ng tail
ls -ltr | tail -n 10

# Liá»‡t kÃª /var/log, cÅ© nháº¥t trÆ°á»›c, kÃ­ch thÆ°á»›c dá»… Ä‘á»c
ls -ltrh /var/log
```

---

## 6) LÆ°u Ã½ khi sá»­ dá»¥ng trong script (váº¥n Ä‘á» an toÃ n)

* KhÃ´ng an toÃ n khi parse `ls` náº¿u tÃªn file cÃ³ khoáº£ng tráº¯ng, newline hoáº·c kÃ½ tá»± Ä‘áº·c biá»‡t.
* Thay vÃ¬ parse `ls`, dÃ¹ng `find` + `stat` hoáº·c `find -printf` káº¿t há»£p `sort` Ä‘á»ƒ xá»­ lÃ½ an toÃ n.

VÃ­ dá»¥ an toÃ n láº¥y 10 file chá»‰nh sá»­a gáº§n Ä‘Ã¢y (sáº¯p xáº¿p theo mtime):

```text
find . -maxdepth 1 -type f -printf '%T@\t%p\n' | sort -n | head -n 10 | cut -f2-
```

Hoáº·c (GNU `stat`):

```text
stat -c '%Y %n' * | sort -n | head -n 10
```

---

## 7) Thá»i gian hiá»ƒn thá»‹: giá»:phÃºt vs nÄƒm

* `ls` sáº½ hiá»ƒn thá»‹ thá»i gian dáº¡ng `Mon dd HH:MM` náº¿u file Ä‘Æ°á»£c sá»­a trong vÃ²ng ~6 thÃ¡ng gáº§n Ä‘Ã¢y; náº¿u cÅ© hÆ¡n sáº½ hiá»ƒn thá»‹ `Mon dd  YYYY` (nÄƒm). ÄÃ¢y lÃ  hÃ nh vi máº·c Ä‘á»‹nh Ä‘á»ƒ dá»… phÃ¢n biá»‡t file cÅ©.
* DÃ¹ng `--time-style` náº¿u báº¡n cáº§n Ä‘á»‹nh dáº¡ng Ä‘á»“ng nháº¥t cho scripting hoáº·c logs.

---

## 8) VÃ­ dá»¥ nÃ¢ng cao

* Hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ timestamp ISO vÃ  chá»n cÅ© nháº¥t -> má»›i nháº¥t:

```text
ls -ltr --time-style=+"%Y-%m-%d %H:%M:%S"
```

* Láº¥y 5 file/directory cÅ© nháº¥t trong nhiá»u thÆ° má»¥c:

```text
for d in /var/log /etc /home; do
  echo "Directory: $d"
  ls -ltr "$d" | head -n 5
done
```

---

## 9) Káº¿t há»£p vá»›i `tail` Ä‘á»ƒ xem má»›i nháº¥t

Khi báº¡n muá»‘n xem file má»›i nháº¥t, `ls -ltr | tail -n 1` in ra file *má»›i nháº¥t*. VÃ­ dá»¥:

```text
newest_file=$(ls -ltr | tail -n 1 | awk '{for(i=9;i<=NF;i++) printf "%s%s", $i, (i==NF?"":" "); print ""}')
echo "Newest: $newest_file"
```

LÆ°u Ã½: Ä‘oáº¡n awk trÃªn khÃ´ng an toÃ n vá»›i tÃªn chá»©a newline; dÃ¹ng phÆ°Æ¡ng phÃ¡p `find`/`stat` khi cáº§n an toÃ n.

---

## 10) TÃ³m táº¯t ngáº¯n (Plain text ready-to-copy)

```text
# Liá»‡t kÃª thÆ° má»¥c theo dáº¡ng dÃ i, sáº¯p xáº¿p theo thá»i gian sá»­a Ä‘á»•i, cÅ© nháº¥t trÆ°á»›c
ls -ltr

# ThÃ´ng dá»¥ng káº¿t há»£p human-readable sizes
ls -ltrh

# Láº¥y 10 file má»›i nháº¥t (cuá»‘i danh sÃ¡ch)
ls -ltr | tail -n 10
```

---

Ná»™i dung nÃ y á»Ÿ **Ä‘á»‹nh dáº¡ng plain text**, trÃ¬nh bÃ y chi tiáº¿t Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ o file `.txt`. Náº¿u báº¡n muá»‘n phiÃªn báº£n cá»±c ngáº¯n (1â€“2 dÃ²ng) hoáº·c báº£n kÃ¨m giáº£i thÃ­ch tiáº¿ng Anh, mÃ¬nh sáº½ cáº­p nháº­t ngay.


		- cmd: ls -ltr /etc/

# Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: `ls -ltr /etc/` (PLAIN TEXT)

TÃ i liá»‡u nÃ y trÃ¬nh bÃ y **giáº£i thÃ­ch chi tiáº¿t nháº¥t** vá» lá»‡nh `ls -ltr /etc/` á»Ÿ Ä‘á»‹nh dáº¡ng **plain text** â€” trÃ¬nh bÃ y rÃµ rÃ ng Ä‘á»ƒ báº¡n cÃ³ thá»ƒ **copy nguyÃªn** vÃ o file `.txt` báº±ng nÃºt **Copy** trong giao diá»‡n.

---

Lá»‡nh Ä‘áº§y Ä‘á»§:

```text
ls -ltr /etc/
```

## 1) Má»¥c Ä‘Ã­ch chÃ­nh

* Lá»‡nh liá»‡t kÃª ná»™i dung thÆ° má»¥c `/etc/` theo dáº¡ng dÃ i (`-l`), sáº¯p xáº¿p theo thá»i gian sá»­a Ä‘á»•i (`-t`) nhÆ°ng Ä‘áº£o thá»© tá»± (`-r`) Ä‘á»ƒ hiá»ƒn thá»‹ **cÃ¡c file/thÆ° má»¥c cÅ© nháº¥t á»Ÿ trÃªn cÃ¹ng vÃ  má»›i nháº¥t á»Ÿ cuá»‘i**.
* ThÆ° má»¥c `/etc/` chá»©a háº§u háº¿t cÃ¡c file cáº¥u hÃ¬nh há»‡ thá»‘ng trÃªn Unix/Linux â€” do Ä‘Ã³ lá»‡nh nÃ y há»¯u Ã­ch Ä‘á»ƒ xem lá»‹ch sá»­ thay Ä‘á»•i cÃ¡c file cáº¥u hÃ¬nh tá»« cÅ© Ä‘áº¿n má»›i.

---

## 2) Giáº£i thÃ­ch tá»«ng thÃ nh pháº§n cá»§a lá»‡nh

* `ls` â€” liá»‡t kÃª ná»™i dung thÆ° má»¥c.
* `-l` â€” long listing: in cÃ¡c cá»™t thÃ´ng tin chi tiáº¿t (quyá»n, sá»‘ link, owner, group, kÃ­ch thÆ°á»›c, thá»i gian sá»­a Ä‘á»•i, tÃªn).
* `-t` â€” sort by modification time (`mtime`), newest first by máº·c Ä‘á»‹nh.
* `-r` â€” reverse the order: Ä‘áº£o káº¿t quáº£, káº¿t há»£p vá»›i `-t` táº¡o cÅ© -> má»›i.
* `/etc/` â€” Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i tá»›i thÆ° má»¥c chá»©a file cáº¥u hÃ¬nh há»‡ thá»‘ng.

---

## 3) Ã nghÄ©a khi cháº¡y trÃªn `/etc/`

* VÃ¬ `/etc/` cÃ³ ráº¥t nhiá»u file cáº¥u hÃ¬nh (vÃ­ dá»¥ `fstab`, `passwd`, `ssh/sshd_config`, `nginx/`, v.v.), `ls -ltr /etc/` giÃºp báº¡n:

  * Nhanh chÃ³ng nhÃ¬n tháº¥y file nÃ o Ä‘Æ°á»£c chá»‰nh sá»­a gáº§n Ä‘Ã¢y (cuá»‘i danh sÃ¡ch).
  * XÃ¡c Ä‘á»‹nh file cáº¥u hÃ¬nh cÅ© (Ä‘áº§u danh sÃ¡ch) â€” cÃ³ thá»ƒ há»¯u Ã­ch khi cáº§n rÃ  soÃ¡t thay Ä‘á»•i Ä‘á»‹nh ká»³.
* Lá»‡nh in thÃ´ng tin cho má»—i má»¥c trong `/etc/` (khÃ´ng Ä‘á»‡ quy vÃ o thÆ° má»¥c con trá»« khi dÃ¹ng `-R`).

---

## 4) VÃ­ dá»¥ Ä‘áº§u ra vÃ  giáº£i thÃ­ch cÃ¡c cá»™t

VÃ­ dá»¥ Ä‘áº§u ra:

```text
drwxr-xr-x  2 root root  4096 Jan 10  2024 acpi
-rw-r--r--  1 root root  1732 Feb 15  2024 fstab
-rw-r--r--  1 root root  2345 Oct 20 12:00 sshd_config
-rw-r--r--  1 root root  1234 Oct 30 09:12 myconfig.conf
```

Giáº£i thÃ­ch má»—i cá»™t:

* `drwxr-xr-x` : quyá»n (d = directory, - = file, l = symlink).
* `2` : sá»‘ hard links.
* `root` : owner (chá»§ sá»Ÿ há»¯u).
* `root` : group.
* `4096` : kÃ­ch thÆ°á»›c (bytes) (thÆ° má»¥c thÆ°á»ng hiá»ƒn thá»‹ kÃ­ch thÆ°á»›c khá»‘i).
* `Jan 10  2024` / `Oct 30 09:12` : timestamp (nÄƒm hiá»ƒn thá»‹ náº¿u cÅ© hÆ¡n ~6 thÃ¡ng).
* `acpi` / `fstab` / `sshd_config` : tÃªn má»¥c.

---

## 5) CÃ¡c tÃ¹y chá»n há»¯u Ã­ch kÃ¨m theo

* `-h` : human-readable sizes â€” vÃ­ dá»¥ `ls -ltrh /etc/` Ä‘á»ƒ tháº¥y kÃ­ch thÆ°á»›c dá»… Ä‘á»c.
* `-a` : show all (bao gá»“m file áº©n báº¯t Ä‘áº§u báº±ng `.`) â€” `ls -latr /etc/`.
* `--time-style=FORMAT` : hiá»ƒn thá»‹ thá»i gian theo Ä‘á»‹nh dáº¡ng báº¡n chá»n (GNU ls). VÃ­ dá»¥:

  * `ls -ltr --time-style=+"%Y-%m-%d %H:%M:%S" /etc/` Ä‘á»ƒ cÃ³ timestamp chuáº©n.
* `-R` : Ä‘á»‡ quy liá»‡t kÃª thÆ° má»¥c con â€” `ls -ltrR /etc/` (cáº©n tháº­n: nhiá»u output).

---

## 6) VÃ­ dá»¥ thá»±c táº¿ & ká»‹ch báº£n dÃ¹ng

1. Xem file cáº¥u hÃ¬nh má»›i nháº¥t trong /etc:

```text
ls -ltr /etc/ | tail -n 1
# hoáº·c Ä‘á»ƒ an toÃ n khi tÃªn chá»©a khoáº£ng tráº¯ng:
ls -ltr /etc/ | tail -n 1
```

2. Láº¥y 20 má»¥c cÅ© nháº¥t (Ä‘áº§u danh sÃ¡ch):

```text
ls -ltr /etc/ | head -n 20
```

3. Xem thá»i gian Ä‘áº§y Ä‘á»§ vÃ  dá»… Ä‘á»c:

```text
ls -ltr --time-style=+"%Y-%m-%d %H:%M:%S" /etc/ | less -R
```

4. Kiá»ƒm tra thay Ä‘á»•i gáº§n Ä‘Ã¢y trong /etc báº±ng `stat` (cáº§n cho scripting an toÃ n):

```text
for f in /etc/*; do echo "$(stat -c '%y %n' "$f")"; done | sort
```

---

## 7) Cáº£nh bÃ¡o & lá»i khuyÃªn khi dÃ¹ng káº¿t quáº£ trong script

* Äá»«ng parse output cá»§a `ls` trong script náº¿u tÃªn file cÃ³ thá»ƒ chá»©a khoáº£ng tráº¯ng hoáº·c kÃ½ tá»± Ä‘áº·c biá»‡t. DÃ¹ng `stat`, `find -printf`, hoáº·c `printf '%s\0'` + `xargs -0` Ä‘á»ƒ xá»­ lÃ½ an toÃ n.
* VÃ­ dá»¥ khÃ´ng an toÃ n (khÃ´ng dÃ¹ng trong script náº¿u tÃªn file cÃ³ khoáº£ng tráº¯ng):

```text
file=$(ls -ltr /etc/ | tail -n 1 | awk '{print $NF}')
```

* VÃ­ dá»¥ an toÃ n hÆ¡n (dÃ¹ng find + stat):

```text
find /etc -maxdepth 1 -printf '%T@\t%p\n' | sort -n | tail -n 1 | cut -f2-
```

---

## 8) Quyá»n truy cáº­p khi liá»‡t kÃª /etc/

* NgÆ°á»i dÃ¹ng bÃ¬nh thÆ°á»ng cÃ³ thá»ƒ `ls /etc/` háº§u háº¿t cÃ¡c file, nhÆ°ng má»™t sá»‘ file bÃªn trong `/etc/` cÃ³ quyá»n háº¡n cháº¿ (vÃ­ dá»¥ chá»‰ root cÃ³ thá»ƒ Ä‘á»c). `ls -l` váº«n sáº½ hiá»ƒn thá»‹ tÃªn file dÃ¹ báº¡n khÃ´ng cÃ³ quyá»n Ä‘á»c ná»™i dung file, nhÆ°ng sáº½ khÃ´ng cho phÃ©p `cat`/`less` ná»™i dung náº¿u báº¡n khÃ´ng cÃ³ quyá»n.

---

## 9) CÃ¡c trÆ°á»ng há»£p thÆ°á»ng gáº·p khi Ä‘iá»u tra há»‡ thá»‘ng

* DÃ¹ng `ls -ltr /etc/` khi nghi ngá» file cáº¥u hÃ¬nh nÃ o Ä‘Ã³ vá»«a bá»‹ thay Ä‘á»•i â€” xem má»¥c má»›i nháº¥t.
* Káº¿t há»£p vá»›i `stat` Ä‘á»ƒ biáº¿t chÃ­nh xÃ¡c timestamp (mtime) theo Ä‘á»‹nh dáº¡ng ISO.
* DÃ¹ng `ls -ltr /etc/ | grep ssh` Ä‘á»ƒ lá»c cÃ¡c file liÃªn quan Ä‘áº¿n SSH, v.v.

---

## 10) Má»™t sá»‘ lá»‡nh thay tháº¿ hoáº·c bá»• sung

* `stat -c '%y %n' /etc/* | sort` â€” cung cáº¥p thá»i gian Ä‘áº§y Ä‘á»§ vÃ  an toÃ n hÆ¡n Ä‘á»ƒ script xá»­ lÃ½.
* `find /etc -maxdepth 1 -type f -printf '%TY-%Tm-%Td %TT %p\n' | sort` â€” liá»‡t kÃª vá»›i timestamp chuáº©n.

---

## 11) TÃ³m táº¯t ngáº¯n (Plain text ready-to-copy)

```text
# Liá»‡t kÃª ná»™i dung /etc theo dáº¡ng dÃ i, sáº¯p xáº¿p theo thá»i gian (cÅ© nháº¥t trÆ°á»›c)
ls -ltr /etc/

# ThÃªm kÃ­ch thÆ°á»›c dá»… Ä‘á»c vÃ  bao gá»“m file áº©n
ls -lath /etc/

# Hiá»ƒn thá»‹ timestamp Ä‘áº§y Ä‘á»§ (YYYY-MM-DD HH:MM:SS)
ls -ltr --time-style="+%Y-%m-%d %H:%M:%S" /etc/

# Láº¥y má»¥c má»›i nháº¥t trong /etc
ls -ltr /etc/ | tail -n 1
```

---

Ná»™i dung nÃ y Ä‘Ã£ Ä‘á»‹nh dáº¡ng **plain text** vÃ  trÃ¬nh bÃ y chi tiáº¿t Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ o file `.txt`. Muá»‘n mÃ¬nh táº¡o báº£n rÃºt gá»n 1â€“2 dÃ²ng hoáº·c phiÃªn báº£n kÃ¨m vÃ­ dá»¥ an toÃ n cho script khÃ´ng?


		- cmd: hostname centos7.devops. in

Giáº£i thÃ­ch chi tiáº¿t: lá»‡nh vÃ  tÃªn mÃ¡y "hostname centos7.devops."

---

## Má»¥c Ä‘Ã­ch

DÃ²ng chá»¯:  hostname centos7.devops.

LÃ  má»™t cÃ¡ch (khÃ´ng pháº£i cÃ¡ch chuáº©n nháº¥t trÃªn CentOS 7) Ä‘á»ƒ **thiáº¿t láº­p tÃªn mÃ¡y (hostname)** táº¡m thá»i cho há»‡ thá»‘ng. ThÆ°á»ng báº¡n sáº½ tháº¥y hai dáº¡ng sá»­ dá»¥ng:

* khÃ´ng cÃ³ dáº¥u cháº¥m á»Ÿ cuá»‘i:    centos7.devops
* cÃ³ dáº¥u cháº¥m á»Ÿ cuá»‘i:          centos7.devops.

Dáº¥u cháº¥m cuá»‘i (trailing dot) biá»ƒu thá»‹ má»™t FQDN "tuyá»‡t Ä‘á»‘i" (absolute FQDN) â€” tÆ°Æ¡ng tá»± trong DNS khi ghi tÃªn
miá»n vá»›i cháº¥m cuá»‘i Ä‘á»ƒ chá»‰ rÃµ Ä‘Ã³ lÃ  tÃªn tuyá»‡t Ä‘á»‘i, khÃ´ng pháº£i tÃªn tÆ°Æ¡ng Ä‘á»‘i. Tuy nhiÃªn trong Ä‘áº·t hostname trÃªn
Linux, dáº¥u cháº¥m cuá»‘i khÃ´ng phá»• biáº¿n vÃ  cÃ³ thá»ƒ gÃ¢y ra hÃ nh vi khÃ´ng mong muá»‘n (má»™t sá»‘ cÃ´ng cá»¥ sáº½ giá»¯ nguyÃªn dáº¥u cháº¥m).

---

## Giáº£i thÃ­ch chi tiáº¿t cÃ¡c hÃ nh vi vÃ  cÃ´ng cá»¥ liÃªn quan

1. `hostname` (gÃ³i util-linux)

   * `hostname` khÃ´ng cÃ³ tham sá»‘ -> in ra hostname hiá»‡n táº¡i.
   * `hostname <name>` -> thiáº¿t láº­p hostname táº¡m thá»i (kernel-level, cho phiÃªn hiá»‡n táº¡i). ThÆ°á»ng cáº§n quyá»n root.
   * Thiáº¿t láº­p báº±ng `hostname` thay Ä‘á»•i tÃªn trong bá»™ nhá»› kernel vÃ  máº¥t sau khá»Ÿi Ä‘á»™ng trá»« khi báº¡n cáº­p nháº­t file cáº¥u hÃ¬nh tÆ°Æ¡ng á»©ng.

2. `hostnamectl` (systemd, cÃ¡ch khuyáº¿n nghá»‹ trÃªn CentOS 7)

   * `sudo hostnamectl set-hostname centos7.devops` -> thiáº¿t láº­p tÃªn mÃ¡y má»™t cÃ¡ch **bá»n vá»¯ng** (ghi vÃ o nÆ¡i systemd quáº£n lÃ½, sáº½ tá»“n táº¡i sau khá»Ÿi Ä‘á»™ng).
   * `hostnamectl status` -> xem tráº¡ng thÃ¡i vÃ  cÃ¡c loáº¡i hostname (static, transient, pretty).

3. CÃ¡c dáº¡ng hostname há»¯u Ã­ch

   * Short hostname (tÃªn ngáº¯n): `hostname -s` hoáº·c `hostname --short` -> `centos7`
   * FQDN: `hostname -f` hoáº·c `hostname --fqdn` -> `centos7.devops` (lÆ°u Ã½: náº¿u báº¡n gÃµ tÃªn cÃ³ dáº¥u cháº¥m cuá»‘i khi Ä‘áº·t, `hostname -f` cÃ³ thá»ƒ tráº£ vá» tÃªn cÃ³ cháº¥m cuá»‘i)

4. File cáº¥u hÃ¬nh liÃªn quan

   * `/etc/hosts` : nÃªn thÃªm mapping giá»¯a IP (thá»±c táº¿ cá»§a mÃ¡y hoáº·c 127.0.0.1 cho mÃ´i trÆ°á»ng cá»¥c bá»™) vÃ  FQDN Ä‘á»ƒ cÃ¡c chÆ°Æ¡ng trÃ¬nh cÃ³ thá»ƒ tra ngÆ°á»£c tÃªn chÃ­nh xÃ¡c.
     VÃ­ dá»¥:
     192.168.1.50 centos7.devops centos7
     hoáº·c (náº¿u chá»‰ cá»¥c bá»™):
     127.0.0.1   centos7.devops centos7 localhost
   * `/etc/hostname` : trÃªn má»™t sá»‘ distro file nÃ y chá»©a hostname tÄ©nh. `hostnamectl` thÆ°á»ng cáº­p nháº­t nÆ¡i phÃ¹ há»£p.

5. Quyá»n vÃ  yÃªu cáº§u

   * Cáº§n quyá»n root Ä‘á»ƒ thay Ä‘á»•i hostname (vÃ­ dá»¥: `sudo hostname ...` hoáº·c `sudo hostnamectl set-hostname ...`).
   * Sau khi thay hostname báº±ng `hostnamectl`, háº§u háº¿t dá»‹ch vá»¥ sáº½ tháº¥y thay Ä‘á»•i ngay; nhÆ°ng má»™t sá»‘ dá»‹ch vá»¥ (vd. networking, cÃ¡c daemon dÃ¹ng cached hostname) cÃ³ thá»ƒ cáº§n restart.

6. LÆ°u Ã½ vá» dáº¥u cháº¥m cuá»‘i

   * `centos7.devops.` cÃ³ dáº¥u cháº¥m á»Ÿ cuá»‘i: vá» máº·t DNS lÃ  "absolute domain name". Tuy nhiÃªn Ä‘á»ƒ trÃ¡nh nháº§m láº«n, Ä‘a sá»‘ admin **khÃ´ng** thÃªm dáº¥u cháº¥m cuá»‘i khi Ä‘áº·t hostname há»‡ Ä‘iá»u hÃ nh.
   * Má»™t sá»‘ á»©ng dá»¥ng hoáº·c scripts cÃ³ thá»ƒ xá»­ lÃ½ dáº¥u cháº¥m khÃ¡c biá»‡t (vÃ­ dá»¥ khi ghÃ©p chuá»—i hoáº·c khi so sÃ¡nh tÃªn), vÃ¬ váº­y khuyÃªn **khÃ´ng** dÃ¹ng dáº¥u cháº¥m cuá»‘i cho hostname há»‡ thá»‘ng.

7. VÃ­ dá»¥ cÃ¡c lá»‡nh thá»±c táº¿ (an toÃ n vÃ  khuyáº¿n nghá»‹ trÃªn CentOS 7)

   * Xem hostname hiá»‡n táº¡i:
     hostname
     hostnamectl status
     hostname -f
   * Äáº·t hostname (táº¡m thá»i, chá»‰ phiÃªn hiá»‡n táº¡i):
     sudo hostname centos7.devops
     (khÃ´ng khuyáº¿n nghá»‹ khi cáº§n tá»“n táº¡i qua reboot)
   * Äáº·t hostname bá»n vá»¯ng (khuyáº¿n nghá»‹):
     sudo hostnamectl set-hostname centos7.devops
   * Náº¿u báº¡n vÃ´ tÃ¬nh Ä‘áº·t tÃªn cÃ³ dáº¥u cháº¥m cuá»‘i vÃ  muá»‘n sá»­a láº¡i:
     sudo hostnamectl set-hostname centos7.devops
     (lÆ°u Ã½: bá» dáº¥u cháº¥m á»Ÿ cuá»‘i)

8. Kiá»ƒm tra DNS / reverse lookup (tuá»³ trÆ°á»ng há»£p cáº§n thiáº¿t)

   * `hostname -f` dá»±a vÃ o cáº¥u hÃ¬nh hosts/DNS. Náº¿u FQDN khÃ´ng tráº£ vá» nhÆ° mong muá»‘n, sá»­a `/etc/hosts` hoáº·c DNS server.
   * Äá»ƒ kiá»ƒm tra reverse DNS:
     host `hostname -i`   (hoáº·c `nslookup <IP>`)

9. VÃ­ dá»¥ / hÆ°á»›ng dáº«n nhanh (báº£n tÃ³m táº¯t Ä‘á»ƒ copy vÃ o file .txt)

---

Xem hostname hiá»‡n táº¡i:
hostname
hostnamectl status

Äáº·t hostname bá»n vá»¯ng (CentOS 7):
sudo hostnamectl set-hostname centos7.devops

ThÃªm mapping vÃ o /etc/hosts (vÃ­ dá»¥):
192.168.1.50 centos7.devops centos7

Kiá»ƒm tra FQDN:
hostname -f

LÃ¹i láº¡i (Ä‘á»•i tÃªn khÃ¡c):
sudo hostnamectl set-hostname my-old-host
-----------------------------------------

---

## Káº¿t luáº­n ngáº¯n gá»n

* `hostname centos7.devops.` cÃ³ thá»ƒ Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ Ä‘áº·t hostname táº¡m thá»i vá»›i dáº¥u cháº¥m cuá»‘i (dáº¥u cháº¥m chá»‰ ra FQDN tuyá»‡t Ä‘á»‘i) â€” nhÆ°ng **khÃ´ng** pháº£i lÃ  cÃ¡ch khuyáº¿n nghá»‹ trÃªn CentOS 7.
* DÃ¹ng `sudo hostnamectl set-hostname centos7.devops` (khÃ´ng cÃ³ dáº¥u cháº¥m cuá»‘i) Ä‘á»ƒ Ä‘áº·t tÃªn mÃ¡y **bá»n vá»¯ng** vÃ  an toÃ n.
* Äá»«ng quÃªn cáº­p nháº­t `/etc/hosts` hoáº·c DNS náº¿u cáº§n Ä‘á»ƒ cÃ¡c dá»‹ch vá»¥ phÃ¢n giáº£i tÃªn chÃ­nh xÃ¡c.

-- Háº¿t --

(Ghi chÃº: ná»™i dung nÃ y á»Ÿ dáº¡ng plain text Ä‘á»ƒ báº¡n copy trá»±c tiáº¿p vÃ o .txt)

		- cmd: grep Firewall anaconda-ks.cfg

			Giáº£i thÃ­ch chi tiáº¿t nháº¥t cho: `grep Firewall anaconda-ks.cfg`

			---

			## Má»¤C TIÃŠU

			Ná»™i dung nÃ y giáº£i thÃ­ch chi tiáº¿t Ã½ nghÄ©a cá»§a lá»‡nh `grep Firewall anaconda-ks.cfg`, cÃ¡ch hoáº¡t Ä‘á»™ng, cÃ¡c tuá»³ chá»n
			há»¯u dá»¥ng, Ã½ nghÄ©a káº¿t quáº£ khi Ã¡p dá»¥ng vá»›i file Kickstart (thÆ°á»ng lÃ  `anaconda-ks.cfg`), vÃ  vÃ­ dá»¥ thá»±c táº¿ Ä‘á»ƒ báº¡n
			copy trá»±c tiáº¿p vÃ o file `.txt`.

			---

			## Ã NGHÄ¨A CÆ  Báº¢N

			* `grep` : chÆ°Æ¡ng trÃ¬nh tÃ¬m kiáº¿m chuá»—i (pattern) trong file, in ra nhá»¯ng dÃ²ng khá»›p.
			* `Firewall` : chuá»—i mÃ  grep sáº½ tÃ¬m (chÃº Ã½ phÃ¢n biá»‡t chá»¯ hoa/chá»¯ thÆ°á»ng theo máº·c Ä‘á»‹nh).
			* `anaconda-ks.cfg` : thÆ°á»ng lÃ  file kickstart Ä‘Æ°á»£c Anaconda (trÃ¬nh cÃ i Ä‘áº·t CentOS/RHEL) táº¡o ra, chá»©a cÃ¡c thiáº¿t láº­p cÃ i Ä‘áº·t tá»± Ä‘á»™ng (cáº¥u hÃ¬nh partition, network, firewall, v.v.).

			Khi báº¡n cháº¡y:
			grep Firewall anaconda-ks.cfg

			`grep` sáº½ tÃ¬m táº¥t cáº£ **dÃ²ng** chá»©a chÃ­nh xÃ¡c chuá»—i `Firewall` (phÃ¢n biá»‡t hoa thÆ°á»ng) trong file `anaconda-ks.cfg` vÃ  in nhá»¯ng dÃ²ng Ä‘Ã³ ra mÃ n hÃ¬nh.

			---

			## CÃC TÃŒNH HUá»NG THá»°C Táº¾ VÃ€ TUÌ€Y CHá»ŒN HAY DÃ™NG

			1. KhÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng (thÃ´ng dá»¥ng):
			grep -i firewall anaconda-ks.cfg

			* `-i` (ignore-case) sáº½ cho káº¿t quáº£ khá»›p vá»›i `firewall`, `Firewall`, `FIREWALL`, v.v.

			2. Hiá»ƒn thá»‹ sá»‘ dÃ²ng (tiá»‡n cho viá»‡c tham chiáº¿u):
			grep -n -i firewall anaconda-ks.cfg

			* `-n` in kÃ¨m sá»‘ dÃ²ng trong file nÆ¡i tÃ¬m Ä‘Æ°á»£c.

			3. In thÃªm vÃ i dÃ²ng ngá»¯ cáº£nh trÆ°á»›c/sau káº¿t quáº£ (xem cáº¥u hÃ¬nh quanh dÃ²ng Ä‘Ã³):
			grep -n -i -C 3 firewall anaconda-ks.cfg

			* `-C 3` in 3 dÃ²ng trÆ°á»›c vÃ  3 dÃ²ng sau má»—i khá»›p Ä‘á»ƒ báº¡n tháº¥y ngá»¯ cáº£nh.
			* CÃ³ thá»ƒ dÃ¹ng `-A` (after) hoáº·c `-B` (before) thay cho `-C`.

			4. TÃ¬m Ä‘Ãºng tá»« nguyÃªn váº¹n (khÃ´ng khá»›p má»™t pháº§n cá»§a tá»« khÃ¡c):
			grep -w -i firewall anaconda-ks.cfg

			* `-w` chá»‰ khá»›p tá»« nguyÃªn váº¹n (vÃ­ dá»¥ khÃ´ng khá»›p `myfirewallx`).

			5. DÃ¹ng biá»ƒu thá»©c chÃ­nh quy (regex) nÃ¢ng cao:
			grep -E -n -i "firewall|Firewall" anaconda-ks.cfg

			* `-E` cho phÃ©p dÃ¹ng Extended regex (hoáº·c `egrep`).

			6. Náº¿u file náº±m á»Ÿ vá»‹ trÃ­ khÃ¡c (vÃ­ dá»¥ `/root/anaconda-ks.cfg`):
			sudo grep -n -i firewall /root/anaconda-ks.cfg

			* `sudo` khi file chá»‰ root má»›i Ä‘á»c Ä‘Æ°á»£c.

			---

			## Ã NGHÄ¨A Káº¾T QUáº¢ Vá»šI anaconda-ks.cfg

			Trong file kickstart (anaconda-ks.cfg) cÃ¡c dÃ²ng liÃªn quan firewall thÆ°á»ng lÃ  cÃ¡c dÃ²ng lá»‡nh kickstart dáº¡ng:
			firewall --enabled --service=ssh
			firewall --disabled
			firewall --enabled --port=8080:tcp

			Giáº£i thÃ­ch cÃ¡c pháº§n thÆ°á»ng gáº·p:

			* `firewall` : tÃªn module kickstart xá»­ lÃ½ cáº¥u hÃ¬nh firewall trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t.
			* `--enabled` / `--disabled` : báº­t/táº¯t firewall máº·c Ä‘á»‹nh.
			* `--service=ssh` : má»Ÿ dá»‹ch vá»¥ `ssh` (thÃ´ng qua vÃ¹ng/tá»• há»£p rule cá»§a firewall) â€” cho phÃ©p káº¿t ná»‘i SSH.
			* `--port=8080:tcp` : má»Ÿ cá»•ng 8080 giao thá»©c TCP.

			LÆ°u Ã½: cÃº phÃ¡p chi tiáº¿t cÃ³ thá»ƒ khÃ¡c nhau tÃ¹y phiÃªn báº£n trÃ¬nh cÃ i Ä‘áº·t; tuy nhiÃªn cÃ¡c tÃ¹y chá»n `--enabled`, `--disabled`, `--service` vÃ  `--port` lÃ  nhá»¯ng thá»© báº¡n thÆ°á»ng gáº·p.

			---

			## VÃ Dá»¤ THá»°C Táº¾ (OUTPUT MáºªU)

			Giáº£ sá»­ file `anaconda-ks.cfg` chá»©a pháº§n firewall nhÆ° sau:

			# Sample anaconda-ks.cfg (Ä‘oáº¡n liÃªn quan firewall)

			# ---

			# Firewall configuration

			firewall --enabled --service=ssh

			# End firewall section

			# ---

			Khi cháº¡y:
			grep -n -i firewall anaconda-ks.cfg
			Báº¡n cÃ³ thá»ƒ nháº­n Ä‘Æ°á»£c:
			12:firewall --enabled --service=ssh

			Giáº£i thÃ­ch: dÃ²ng 12 chá»©a lá»‡nh kickstart thiáº¿t láº­p firewall báº­t vÃ  má»Ÿ dá»‹ch vá»¥ SSH.

			---

			## CÃC Lá»†NH Há»®U ÃCH KHÃC (Ä‘á»ƒ chá»‰nh sá»­a / trÃ­ch xuáº¥t nhanh)

			* In toÃ n bá»™ dÃ²ng chá»©a `firewall` (case-insensitive):
			grep -i "firewall" anaconda-ks.cfg

			* LÆ°u káº¿t quáº£ vÃ o file má»›i (vÃ­ dá»¥ Ä‘á»ƒ gá»­i hoáº·c lÆ°u):
			grep -n -i firewall anaconda-ks.cfg > firewall-lines.txt

			* Náº¿u file cÃ³ nhiá»u cáº¥u hÃ¬nh firewall vÃ  báº¡n muá»‘n duyá»‡t cÃ³ Ä‘Ã¡nh sá»‘:
			nl -ba anaconda-ks.cfg | grep -i firewall
			(`nl` Ä‘Ã¡nh sá»‘ táº¥t cáº£ dÃ²ng rá»“i `grep` lá»c)

			* Xem ngay trong terminal vá»›i ngá»¯ cáº£nh vÃ  tÃ´ mÃ u (náº¿u terminal há»— trá»£):
			GREP_COLOR='1;32' grep --color=always -n -i -C 2 firewall anaconda-ks.cfg | less -R

			---

			## Gá»¢I Ã KHI KIá»‚M TRA / Sá»¬A

			* Náº¿u báº¡n sá»­a file kickstart: sao lÆ°u trÆ°á»›c khi chá»‰nh sá»­a.
			* DÃ¹ng `hostnamectl` hay `firewall-cmd` (sau khi cÃ i xong há»‡ thá»‘ng) Ä‘á»ƒ quáº£n lÃ½ firewall runtime â€” kickstart chá»‰ Ã¡p dá»¥ng trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t.
			* Náº¿u grep khÃ´ng tráº£ vá» gÃ¬, cÃ³ thá»ƒ file khÃ´ng chá»©a tá»« `Firewall` hoa/case khÃ¡c â€” thá»­ `-i` Ä‘á»ƒ cháº¯c cháº¯n.

			---

			## TÃ“M Táº®T Äá»‚ COPY VÃ€O FILE .TXT

			Xem dÃ²ng chá»©a "firewall" (khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng) kÃ¨m sá»‘ dÃ²ng vÃ  3 dÃ²ng ngá»¯ cáº£nh:
			grep -n -i -C 3 firewall anaconda-ks.cfg

			Chá»‰ in dÃ²ng chÃ­nh xÃ¡c chá»©a tá»« "firewall" (khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng):
			grep -w -i firewall anaconda-ks.cfg

			LÆ°u káº¿t quáº£ vÃ o file:
			grep -n -i firewall anaconda-ks.cfg > firewall-lines.txt

			---

		- cmd: grep -i Firewall anaconda-ks.cfg

			## GIáº¢I THÃCH CHI TIáº¾T

			1. Cáº¥u trÃºc lá»‡nh chÃ­nh:
			grep -i Firewall anaconda-ks.cfg

			* `grep`    : chÆ°Æ¡ng trÃ¬nh tÃ¬m kiáº¿m chuá»—i (pattern) trong file vÃ  in ra nhá»¯ng dÃ²ng chá»©a chuá»—i Ä‘Ã³.
			* `-i`      : tuá»³ chá»n **ignore-case** â€” bá» qua phÃ¢n biá»‡t chá»¯ hoa/chá»¯ thÆ°á»ng khi tÃ¬m.
			* `Firewall`: chuá»—i (pattern) cáº§n tÃ¬m; vÃ¬ dÃ¹ng `-i` nÃªn `Firewall`, `firewall`, `FIREWALL`,... Ä‘á»u khá»›p.
			* `anaconda-ks.cfg`: tÃªn file (thÆ°á»ng lÃ  file kickstart do Anaconda táº¡o ra) mÃ  grep sáº½ tÃ¬m trong Ä‘Ã³.

			2. Ã nghÄ©a khi dÃ¹ng vá»›i `anaconda-ks.cfg`:

			* `anaconda-ks.cfg` thÆ°á»ng chá»©a cÃ¡c cáº¥u hÃ¬nh cÃ i Ä‘áº·t tá»± Ä‘á»™ng (kickstart) bao gá»“m pháº§n thiáº¿t láº­p firewall. Lá»‡nh trÃªn
			tÃ¬m má»i dÃ²ng trong file Ä‘Ã³ cÃ³ chá»©a tá»« "firewall" (báº¥t ká»ƒ hoa thÆ°á»ng).

			3. VÃ¬ sao dÃ¹ng `-i` cÃ³ lá»£i:

			* Trong file cáº¥u hÃ¬nh hoáº·c khi nhiá»u ngÆ°á»i viáº¿t, tá»« `Firewall` cÃ³ thá»ƒ xuáº¥t hiá»‡n vá»›i nhiá»u kiá»ƒu hoa/thÆ°á»ng khÃ¡c nhau. `-i`
			Ä‘áº£m báº£o báº¡n khÃ´ng bá» sÃ³t káº¿t quáº£ do khÃ¡c nhau vá» chá»¯ hoa/chá»¯ thÆ°á»ng.

			---

			## CÃC TUá»² CHá»ŒN Há»®U ÃCH KHÃC

			* `-n`    : in kÃ¨m sá»‘ dÃ²ng (vÃ­ dá»¥ `12:firewall ...`).
			* `-w`    : chá»‰ khá»›p tá»« nguyÃªn váº¹n (word match).
			* `-C N`  : in N dÃ²ng ngá»¯ cáº£nh trÆ°á»›c vÃ  sau káº¿t quáº£ (vÃ­ dá»¥ `-C 3`).
			* `-A N`  : in N dÃ²ng **sau** má»—i káº¿t quáº£ (after).
			* `-B N`  : in N dÃ²ng **trÆ°á»›c** má»—i káº¿t quáº£ (before).
			* `--color=auto` : highlight pháº§n khá»›p (tá»‘t khi xem trÃªn terminal há»— trá»£ mÃ u).
			* `-E` hoáº·c `egrep` : dÃ¹ng regex má»Ÿ rá»™ng náº¿u cáº§n máº«u phá»©c táº¡p.
			* `-o`    : chá»‰ in pháº§n khá»›p (useful náº¿u báº¡n chá»‰ cáº§n tá»« khÃ³a chá»© khÃ´ng cáº§n cáº£ dÃ²ng).

			---

			## CÃC VÃ Dá»¤ THá»°C Táº¾ (dá»… copy)

			1. CÆ¡ báº£n (khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng):
			grep -i Firewall anaconda-ks.cfg

			2. CÃ³ sá»‘ dÃ²ng vÃ  3 dÃ²ng ngá»¯ cáº£nh:
			grep -n -i -C 3 Firewall anaconda-ks.cfg

			3. LÆ°u káº¿t quáº£ vÃ o file `firewall-lines.txt`:
			grep -n -i Firewall anaconda-ks.cfg > firewall-lines.txt

			4. Chá»‰ in cÃ¡c tá»« khá»›p (má»—i láº§n khá»›p má»™t dÃ²ng):
			grep -o -i Firewall anaconda-ks.cfg

			5. TÃ´ mÃ u pháº§n khá»›p vÃ  xem báº±ng `less`:
			GREP_COLOR='1;32' grep --color=always -n -i Firewall anaconda-ks.cfg | less -R

			6. Náº¿u file chá»‰ root má»›i Ä‘á»c Ä‘Æ°á»£c (dÃ¹ng sudo):
			sudo grep -n -i Firewall /root/anaconda-ks.cfg

			7. TÃ¬m tá»« nguyÃªn váº¹n (trÃ¡nh khá»›p pháº§n cá»§a tá»« khÃ¡c):
			grep -w -n -i Firewall anaconda-ks.cfg

			---

			## GIáº¢I THÃCH Káº¾T QUáº¢ MáºªU

			Giáº£ sá»­ cháº¡y:
			grep -n -i Firewall anaconda-ks.cfg
			CÃ³ thá»ƒ nháº­n Ä‘Æ°á»£c:
			34:firewall --enabled --service=ssh
			78:# Firewall section disabled for this install

			* `34:` lÃ  sá»‘ dÃ²ng nÆ¡i tÃ¬m tháº¥y khá»›p (do dÃ¹ng `-n`).
			* DÃ²ng 34 cho tháº¥y lá»‡nh kickstart báº­t firewall vÃ  má»Ÿ dá»‹ch vá»¥ ssh.
			* DÃ²ng 78 lÃ  dÃ²ng chÃº thÃ­ch chá»©a tá»« "Firewall" (do tÃ¬m khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng).

			---

			## Gá»¢I Ã KHI Sá»¬A/KIá»‚M TRA

			* Náº¿u khÃ´ng cÃ³ káº¿t quáº£, thá»­ Ä‘áº£m báº£o file Ä‘Ãºng Ä‘Æ°á»ng dáº«n hoáº·c dÃ¹ng `-i` (náº¿u chÆ°a cÃ³) â€” á»Ÿ Ä‘Ã¢y báº¡n Ä‘Ã£ dÃ¹ng `-i`.
			* Náº¿u báº¡n muá»‘n tÃ¬m chÃ­nh xÃ¡c `firewall` khÃ´ng pháº£i lÃ  má»™t pháº§n cá»§a tá»« khÃ¡c (vÃ­ dá»¥ `myfirewall`), thÃªm `-w`.
			* LuÃ´n sao lÆ°u file trÆ°á»›c khi sá»­a cáº¥u hÃ¬nh kickstart.
			* Kickstart chá»‰ Ã¡p dá»¥ng trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t â€” sau cÃ i Ä‘áº·t báº¡n nÃªn kiá»ƒm tra firewall thá»±c táº¿ báº±ng `firewall-cmd` hoáº·c `systemctl status firewalld`.

			---

			## TÃ“M Táº®T Äá»‚ COPY NGAY

			Xem má»i dÃ²ng chá»©a "firewall" (khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng) vÃ  3 dÃ²ng ngá»¯ cáº£nh:
			grep -n -i -C 3 Firewall anaconda-ks.cfg

			LÆ°u má»i dÃ²ng chá»©a "firewall" vÃ o file:
			grep -n -i Firewall anaconda-ks.cfg > firewall-lines.txt

			Chá»‰ in cÃ¡c tá»« khá»›p:
			grep -o -i Firewall anaconda-ks.cfg

			---

		- cmd: grep -i firewall < anaconda-ks.cfg

			Giáº£i thÃ­ch chi tiáº¿t nháº¥t cho: `grep -i firewall < anaconda-ks.cfg`

			---

			## Má»¤C TIÃŠU

			TÃ i liá»‡u nÃ y giáº£i thÃ­ch tá»«ng thÃ nh pháº§n cá»§a lá»‡nh `grep -i firewall < anaconda-ks.cfg`, vÃ¬ sao cÃ³ thá»ƒ dÃ¹ng
			dáº¥u `<` (input redirection), khÃ¡c biá»‡t so vá»›i dáº¡ng `grep -i firewall anaconda-ks.cfg`, nhá»¯ng tuá»³ chá»n há»¯u
			Ã­ch, cÃ¡ch Ä‘á»c káº¿t quáº£, cÃ¡c vÃ­ dá»¥ thá»±c táº¿, vÃ  má»™t sá»‘ lÆ°u Ã½ khi sá»­ dá»¥ng vá»›i file Kickstart (`anaconda-ks.cfg`).

			---

			## GIáº¢I THÃCH Tá»ªNG PHáº¦N

			1. `grep`

			* ChÆ°Æ¡ng trÃ¬nh tÃ¬m kiáº¿m cÃ¡c dÃ²ng khá»›p vá»›i má»™t máº«u (pattern) trong Ä‘áº§u vÃ o (stdin) hoáº·c trong cÃ¡c file Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh.

			2. `-i`

			* TÃ¹y chá»n **ignore-case**: tÃ¬m mÃ  khÃ´ng phÃ¢n biá»‡t chá»¯ hoa/chá»¯ thÆ°á»ng. VÃ­ dá»¥ `firewall`, `Firewall`, `FIREWALL` Ä‘á»u khá»›p.

			3. `firewall`

			* Máº«u (pattern) cáº§n tÃ¬m. á» Ä‘Ã¢y lÃ  tá»« khÃ³a `firewall` â€” thÆ°á»ng dÃ¹ng Ä‘á»ƒ tÃ¬m cÃ¡c dÃ²ng cáº¥u hÃ¬nh liÃªn quan firewall trong file kickstart.

			4. `< anaconda-ks.cfg` (input redirection)

			* Dáº¥u `<` lÃ  cÃº phÃ¡p cá»§a shell Ä‘á»ƒ chuyá»ƒn ná»™i dung cá»§a file `anaconda-ks.cfg` vÃ o **stdin** (standard input) cá»§a lá»‡nh `grep`.
			* TÆ°Æ¡ng Ä‘Æ°Æ¡ng: `cat anaconda-ks.cfg | grep -i firewall` (nhÆ°ng `grep pattern file` cÃ³ thá»ƒ ngáº¯n gá»n hÆ¡n).

			---

			## KHÃC BIá»†T GIá»®A CÃC CÃCH VIáº¾T

			1. `grep -i firewall anaconda-ks.cfg`

			* grep trá»±c tiáº¿p má»Ÿ file `anaconda-ks.cfg` vÃ  tÃ¬m trong Ä‘Ã³.
			* Khi grep nháº­n file tÃªn trÃªn dÃ²ng lá»‡nh, káº¿t quáº£ in ra sáº½ **khÃ´ng** kÃ¨m tÃªn file náº¿u chá»‰ cÃ³ má»™t file; náº¿u nhiá»u file thÃ¬ má»—i dÃ²ng in kÃ¨m `filename:line`.

			2. `grep -i firewall < anaconda-ks.cfg`

			* `grep` nháº­n ná»™i dung tá»« stdin; vÃ¬ grep khÃ´ng Ä‘Æ°á»£c truyá»n tÃªn file nÃªn khi in káº¿t quáº£ sáº½ **khÃ´ng** cÃ³ tiá»n tá»‘ tÃªn file ká»ƒ cáº£ khi báº¡n dÃ¹ng nhiá»u láº§n (shell redirection chá»‰ cho 1 stream).
			* Má»™t sá»‘ tuá»³ chá»n cá»§a grep phá»¥ thuá»™c vÃ o viá»‡c cÃ³ file hay khÃ´ng (vÃ­ dá»¥ `--label` Ä‘á»ƒ gáº¯n nhÃ£n náº¿u cáº§n). NhÆ°ng vá» báº£n cháº¥t káº¿t quáº£ sáº½ giá»‘ng nhau vá» cÃ¡c dÃ²ng Ä‘Æ°á»£c khá»›p.

			3. `cat anaconda-ks.cfg | grep -i firewall`

			* Vá» máº·t káº¿t quáº£ tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i dÃ¹ng `<` nhÆ°ng dÃ¹ng pipe táº¡o thÃªm má»™t tiáº¿n trÃ¬nh `cat` (khÃ´ng cáº§n thiáº¿t vá»›i grep vÃ¬ grep cÃ³ thá»ƒ Ä‘á»c file trá»±c tiáº¿p).

			**Káº¿t luáº­n:** dÃ¹ng `grep -i firewall anaconda-ks.cfg` lÃ  ngáº¯n gá»n vÃ  trá»±c tiáº¿p; dÃ¹ng `<` hay pipe chá»‰ cáº§n thiáº¿t khi báº¡n xá»­ lÃ½ Ä‘áº§u vÃ o tá»« má»™t nguá»“n khÃ¡c (vÃ­ dá»¥ output cá»§a má»™t lá»‡nh, hoáº·c khi muá»‘n Ã©p grep nháº­n stdin vÃ¬ lÃ½ do Ä‘áº·c biá»‡t).

			---

			## TUá»² CHá»ŒN Há»®U ÃCH KHI DÃ™NG grep

			* `-n`    : in sá»‘ dÃ²ng nÆ¡i tÃ¬m tháº¥y khá»›p (vÃ­ dá»¥ `12:firewall ...`).
			* `-w`    : chá»‰ khá»›p tá»« nguyÃªn váº¹n (word match).
			* `-C N`  : in N dÃ²ng ngá»¯ cáº£nh trÆ°á»›c vÃ  sau.
			* `-A N` / `-B N` : in N dÃ²ng sau hoáº·c trÆ°á»›c má»—i khá»›p.
			* `--color=auto` : Ä‘Ã¡nh dáº¥u pháº§n khá»›p (tá»‘t khi xem trÃªn terminal há»— trá»£ mÃ u).
			* `-o`    : chá»‰ in pháº§n khá»›p thay vÃ¬ cáº£ dÃ²ng.
			* `-E`    : dÃ¹ng Extended regex náº¿u máº«u phá»©c táº¡p.

			---

			## VÃ Dá»¤ Dá»„ COPY

			1. CÆ¡ báº£n (dÃ¹ng input redirection):
			grep -i firewall < anaconda-ks.cfg

			2. KÃ¨m sá»‘ dÃ²ng vÃ  3 dÃ²ng ngá»¯ cáº£nh:
			grep -n -i -C 3 firewall < anaconda-ks.cfg

			3. LÆ°u káº¿t quáº£ vÃ o file `firewall-lines.txt`:
			grep -n -i firewall < anaconda-ks.cfg > firewall-lines.txt

			4. TÃ´ mÃ u vÃ  xem trong `less`:
			GREP_COLOR='1;32' grep --color=always -n -i firewall < anaconda-ks.cfg | less -R

			5. So sÃ¡nh vá»›i cÃ¡ch trá»±c tiáº¿p (khuyáº¿n nghá»‹):
			grep -n -i -C 3 firewall anaconda-ks.cfg

			---

			## VÃ Dá»¤ OUTPUT MáºªU

			Giáº£ sá»­ `anaconda-ks.cfg` chá»©a:

			10: # Firewall configuration
			11: firewall --enabled --service=ssh
			12: firewall --disabled

			Khi cháº¡y `grep -n -i firewall < anaconda-ks.cfg` báº¡n sáº½ tháº¥y:

			11:firewall --enabled --service=ssh
			12:firewall --disabled

			(LÆ°u Ã½: náº¿uÂ báº¡n dÃ¹ng `<` vÃ  muá»‘n sá»‘ dÃ²ng, váº«n cáº§n `-n` vÃ¬ grep khÃ´ng cÃ³ tÃªn file nhÆ°ng váº«n cÃ³ thÃ´ng tin sá»‘ dÃ²ng.)

			---

			## LÆ¯U Ã VÃ€ Gá»¢I Ã

			* Náº¿u muá»‘n biáº¿t **vá»‹ trÃ­ (sá»‘ dÃ²ng)** cá»§a khá»›p, thÃªm `-n`.
			* Náº¿u file lÃ  cá»§a root (vÃ­ dá»¥ `/root/anaconda-ks.cfg`), dÃ¹ng `sudo`:
			sudo grep -n -i firewall < /root/anaconda-ks.cfg
			(lÆ°u Ã½: khi dÃ¹ng `<` vá»›i sudo, mÃ¡y sáº½ má»Ÿ file vá»›i quyá»n shell hiá»‡n táº¡i â€” Ä‘á»ƒ Ä‘áº£m báº£o sudo má»Ÿ file, báº¡n thÆ°á»ng dÃ¹ng: `sudo sh -c "grep -n -i firewall < /root/anaconda-ks.cfg"` hoáº·c Ä‘Æ¡n giáº£n `sudo grep -n -i firewall /root/anaconda-ks.cfg`)
			* TrÃ¡nh dÃ¹ng pipe `cat file | grep ...` náº¿u chá»‰ má»¥c Ä‘Ã­ch lÃ  grep file; dÃ¹ng grep trá»±c tiáº¿p nhanh hÆ¡n vÃ  gá»n hÆ¡n.
			* Kickstart chá»‰ Ã¡p dá»¥ng trong cÃ i Ä‘áº·t; sau khi há»‡ cháº¡y, kiá»ƒm tra firewall báº±ng `firewall-cmd --list-all` hoáº·c `systemctl status firewalld`.

			---

			## TÃ“M Táº®T NGáº®N Gá»ŒN (DÃ™NG NGAY)

			Xem má»i dÃ²ng chá»©a 'firewall' khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng:
			grep -i firewall < anaconda-ks.cfg

			Xem kÃ¨m sá»‘ dÃ²ng vÃ  3 dÃ²ng ngá»¯ cáº£nh (khuyáº¿n nghá»‹):
			grep -n -i -C 3 firewall anaconda-ks.cfg

			LÆ°u káº¿t quáº£ vÃ o file:
			grep -n -i firewall < anaconda-ks.cfg > firewall-lines.txt

			---

		- cmd: grep -i firewall *

			Giáº£i thÃ­ch chi tiáº¿t nháº¥t cho: `grep -i firewall *`

			---

			## Má»¤C TIÃŠU

			TÃ i liá»‡u nÃ y giáº£i thÃ­ch ká»¹ tá»«ng thÃ nh pháº§n cá»§a lá»‡nh `grep -i firewall *`, cÃ¡ch hoáº¡t Ä‘á»™ng khi dÃ¹ng wildcard `*`, nhá»¯ng káº¿t
			quáº£ mong Ä‘á»£i khi grep trÃªn nhiá»u file, cÃ¡c tuá»³ chá»n há»¯u Ã­ch, vÃ­ dá»¥ thá»±c táº¿ Ä‘á»ƒ copy tháº³ng vÃ o file `.txt`, vÃ  cÃ¡c lÆ°u Ã½
			an toÃ n/hiá»‡u nÄƒng.

			---

			## Cáº¤U TRÃšC Lá»†NH

			```
			grep -i firewall *
			```

			ThÃ nh pháº§n:

			* `grep`        : chÆ°Æ¡ng trÃ¬nh tÃ¬m kiáº¿m dÃ²ng chá»©a máº«u (pattern).
			* `-i`          : bá» qua phÃ¢n biá»‡t hoa thÆ°á»ng (ignore-case).
			* `firewall`    : pattern cáº§n tÃ¬m (á»Ÿ Ä‘Ã¢y lÃ  tá»« khÃ³a `firewall`).
			* `*`           : wildcard (glob) cá»§a shell â€” Ä‘áº¡i diá»‡n cho táº¥t cáº£ cÃ¡c file (khÃ´ng bao gá»“m file áº©n báº¯t Ä‘áº§u báº±ng `.`) trong thÆ° má»¥c hiá»‡n táº¡i.

			---

			## HÃ€NH VI KHI CHáº Y

			1. Shell (bash) má»Ÿ rá»™ng `*` trÆ°á»›c khi cháº¡y `grep`.

			* Náº¿u thÆ° má»¥c hiá»‡n táº¡i cÃ³ cÃ¡c file: `file1.txt`, `anaconda-ks.cfg`, `script.sh` thÃ¬ lá»‡nh thá»±c táº¿ cháº¡y sáº½ lÃ :
				grep -i firewall file1.txt anaconda-ks.cfg script.sh
			* grep sáº½ xá»­ lÃ½ *nhiá»u file* vÃ  **khi in káº¿t quáº£** sáº½ tiá»n tá»‘ thÃªm `filename:` trÆ°á»›c má»—i dÃ²ng khá»›p Ä‘á»ƒ biáº¿t nguá»“n.

			2. Náº¿u chá»‰ cÃ³ **má»™t file** sau khi glob má»Ÿ rá»™ng, grep thÆ°á»ng **khÃ´ng** in tÃªn file (chá»‰ in dÃ²ng khá»›p), trá»« khi báº¡n dÃ¹ng `-H` Ä‘á»ƒ
			báº¯t buá»™c in tÃªn file.

			3. Náº¿u glob khÃ´ng khá»›p file nÃ o (vÃ­ dá»¥ thÆ° má»¥c trá»‘ng), shell cÃ³ thá»ƒ Ä‘á»ƒ nguyÃªn `*` lÃ m Ä‘á»‘i sá»‘ (tÃ¹y shell), hoáº·c khá»›p
			thÃ nh rá»—ng; trong trÆ°á»ng há»£p grep nháº­n `*` lÃ  pattern filename, grep sáº½ cá»‘ má»Ÿ file tÃªn `*` vÃ  bÃ¡o lá»—i. ThÃ´ng thÆ°á»ng
			trÃªn bash `*` Ä‘Æ°á»£c giá»¯ nguyÃªn khi khÃ´ng cÃ³ file, nhÆ°ng nhiá»u há»‡ cáº¥u hÃ¬nh má»Ÿ rá»™ng.

			4. `grep` sáº½ in theo Ä‘á»‹nh dáº¡ng khi tÃ¬m tháº¥y khá»›p trÃªn nhiá»u file:
			filename:matched-line

			---

			## TUá»² CHá»ŒN Há»®U ÃCH THÆ¯á»œNG DÃ™NG

			* `-n`    : in kÃ¨m sá»‘ dÃ²ng -> `filename:line-number:matched-line`.
			* `-H`    : luÃ´n in tÃªn file (dÃ¹ng khi chá»‰ cÃ³ má»™t file nhÆ°ng báº¡n váº«n muá»‘n tÃªn file xuáº¥t hiá»‡n).
			* `-h`    : áº©n tÃªn file (dÃ¹ng khi báº¡n xá»­ lÃ½ nhiá»u file nhÆ°ng muá»‘n káº¿t quáº£ ngáº¯n gá»n chá»‰ cÃ³ dÃ²ng khá»›p).
			* `-r` hoáº·c `-R` : tÃ¬m Ä‘á»‡ quy trong thÆ° má»¥c con (vÃ­ dá»¥ `grep -R -i firewall *` hoáº·c tá»‘t hÆ¡n `grep -R -i firewall .`).
			* `-w`    : khá»›p tá»« nguyÃªn váº¹n (avoid matching parts of other words).
			* `-C N`  : in N dÃ²ng ngá»¯ cáº£nh trÆ°á»›c & sau má»—i khá»›p.
			* `--color=auto` : highlight pháº§n khá»›p khi xem trÃªn terminal.
			* `-I`    : bá» qua file nhá»‹ phÃ¢n (treat binary files as if they do not contain matches).
			* `-l`    : chá»‰ liá»‡t kÃª tÃªn file cÃ³ khá»›p (useful to know which files contain the pattern).
			* `-L`    : liá»‡t kÃª tÃªn file khÃ´ng cÃ³ khá»›p.
			* `-E`    : dÃ¹ng Extended regex (egrep) cho pattern phá»©c táº¡p.
			* `-o`    : chá»‰ in pháº§n khá»›p (má»™t láº§n cho má»—i khá»›p) thay vÃ¬ cáº£ dÃ²ng.

			---

			## VÃ Dá»¤ THá»°C Táº¾ (Dá»„ COPY)

			1. TÃ¬m `firewall` khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng trong táº¥t cáº£ file hiá»‡n táº¡i, in kÃ¨m tÃªn file vÃ  sá»‘ dÃ²ng:
			grep -n -H -i firewall *

			2. Liá»‡t kÃª tÃªn cÃ¡c file cÃ³ chá»©a `firewall`:
			grep -l -i firewall *

			3. TÃ¬m Ä‘á»‡ quy trong thÆ° má»¥c hiá»‡n táº¡i (táº¥t cáº£ file vÃ  thÆ° má»¥c con):
			grep -R -n -i firewall .

			4. TÃ¬m nhÆ°ng bá» qua file nhá»‹ phÃ¢n vÃ  in 3 dÃ²ng ngá»¯ cáº£nh:
			grep -R -n -I -C 3 -i firewall .

			5. Náº¿u muá»‘n áº©n tÃªn file (chá»‰ dÃ²ng khá»›p) khi grep nhiá»u file:
			grep -h -n -i firewall *

			6. LÆ°u káº¿t quáº£ (kÃ¨m tÃªn file) vÃ o file `grep-results.txt`:
			grep -n -H -i firewall * > grep-results.txt

			7. Náº¿u cÃ³ file thuá»™c quyá»n root (vd `/root`), dÃ¹ng `sudo` (khuyáº¿n nghá»‹ dÃ¹ng Ä‘Æ°á»ng dáº«n thay vÃ¬ redirection vá»›i sudo):
			sudo grep -n -H -i firewall /root/anaconda-ks.cfg

			---

			## LÆ¯U Ã Vá»€ WILDCARD VÃ€ áº¨N FILE

			* `*` **khÃ´ng** khá»›p cÃ¡c file áº©n (báº¯t Ä‘áº§u báº±ng `.`) trá»« khi báº¡n dÃ¹ng pattern khÃ¡c, vÃ­ dá»¥ `.* *` hoáº·c `shopt -s dotglob` trong bash.
			* Äá»ƒ bao gá»“m file áº©n: `grep -n -i firewall .* *` (cáº©n tháº­n vá»›i `.` vÃ  `..`).
			* Náº¿u thÆ° má»¥c cÃ³ quÃ¡ nhiá»u file, lá»‡nh `grep -i firewall *` sáº½ má»Ÿ táº¥t cáº£ file Ä‘Ã³ â€” cÃ³ thá»ƒ cháº­m hoáº·c gÃ¢y lá»—i "Argument list too long"
			náº¿u hÃ ng chá»¥c ngÃ n file. Trong trÆ°á»ng há»£p nÃ y dÃ¹ng `grep -R` hoáº·c `find . -type f -print0 | xargs -0 grep -i firewall`.

			---

			## CÃC TÃŒNH HUá»NG Äáº¶C BIá»†T

			1. File nhá»‹ phÃ¢n: grep cÃ³ thá»ƒ bÃ¡o "Binary file X matches". DÃ¹ng `-I` Ä‘á»ƒ bá» qua file nhá»‹ phÃ¢n.
			2. Quyá»n truy cáº­p: náº¿u má»™t sá»‘ file khÃ´ng thá»ƒ Ä‘á»c, grep sáº½ bÃ¡o lá»—i "Permission denied". DÃ¹ng `sudo` náº¿u cáº§n.
			3. Khi dÃ¹ng vá»›i nhiá»u file ráº¥t lá»›n: cÃ¢n nháº¯c dÃ¹ng `ripgrep (rg)` hoáº·c `ag` vÃ¬ nhanh hÆ¡n.
			4. Náº¿u pattern chá»©a kÃ½ tá»± Ä‘áº·c biá»‡t cá»§a shell (vÃ­ dá»¥ `*`, `?`, `[`), hÃ£y Ä‘áº·t pattern trong dáº¥u nhÃ¡y Ä‘Æ¡n: `grep -i 'firewall*' *`
			(nhÆ°ng chÃº Ã½: `firewall*` lÃ  regex â€” trong regex `*` nghÄ©a lÃ  láº·p, khÃ´ng pháº£i wildcard cá»§a shell).

			---

			## MáºªU OUTPUT MáºªU

			Giáº£ sá»­ thÆ° má»¥c cÃ³ hai file `a.txt` vÃ  `b.conf`:

			$ grep -n -H -i firewall *
			a.txt:12:firewall --enabled --service=ssh
			b.conf:3:# Firewall disabled for test

			Ã nghÄ©a: `a.txt` dÃ²ng 12 cÃ³ lá»‡nh báº­t firewall; `b.conf` dÃ²ng 3 chá»©a chÃº thÃ­ch.

			---

			## Gá»¢I Ã HIá»†U NÄ‚NG VÃ€ CÃCH KHÃC

			* DÃ¹ng `grep -R` thay vÃ¬ glob khi báº¡n muá»‘n tÃ¬m trong cáº¥u trÃºc thÆ° má»¥c phá»©c táº¡p.
			* DÃ¹ng `LC_ALL=C` Ä‘á»ƒ tÄƒng tá»‘c grep trÃªn tá»‡p vÄƒn báº£n lá»›n: `LC_ALL=C grep -R -n -i firewall .`.
			* Náº¿u tÃ¬m trÃªn codebase lá»›n, cÃ¢n nháº¯c `rg "firewall"` (ripgrep) nhanh hÆ¡n vÃ  máº·c Ä‘á»‹nh bá» qua `.gitignore`.

			---

			## TÃ“M Táº®T (CONTENT Äá»‚ COPY NGAY)

			TÃ¬m trong táº¥t cáº£ file hiá»‡n táº¡i, in tÃªn file vÃ  sá»‘ dÃ²ng (khuyáº¿n nghá»‹):
			grep -n -H -i firewall *

			TÃ¬m Ä‘á»‡ quy trong thÆ° má»¥c hiá»‡n táº¡i:
			grep -R -n -i firewall .

			Liá»‡t kÃª tÃªn file cÃ³ chá»©a pattern:
			grep -l -i firewall *

			LÆ°u káº¿t quáº£ vÃ o file:
			grep -n -H -i firewall * > grep-results.txt

			---

			## Káº¾T LUáº¬N

			* `grep -i firewall *` lÃ  cÃ¡ch nhanh Ä‘á»ƒ tÃ¬m tá»« `firewall` (khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng) trong táº¥t cáº£ file khÃ´ng áº©n á»Ÿ thÆ° má»¥c hiá»‡n táº¡i.
			* HÃ£y chÃº Ã½ tá»›i viá»‡c glob `*` Ä‘Æ°á»£c shell má»Ÿ rá»™ng trÆ°á»›c khi grep cháº¡y, áº£nh hÆ°á»Ÿng tá»›i cÃ¡ch grep in tÃªn file.
			* DÃ¹ng cÃ¡c tuá»³ chá»n nhÆ° `-n`, `-H`, `-R`, `-I`, `-C` Ä‘á»ƒ cÃ³ káº¿t quáº£ rÃµ rÃ ng vÃ  an toÃ n hÆ¡n.

		- cmd: grep -iR firewall *

			Giáº£i thÃ­ch chi tiáº¿t nháº¥t cho: `grep -iR firewall *`

			---

			## Má»¤C TIÃŠU

			TÃ i liá»‡u nÃ y giáº£i thÃ­ch tá»«ng thÃ nh pháº§n cá»§a lá»‡nh `grep -iR firewall *`, lÃ½ do vÃ  cÃ¡ch hoáº¡t Ä‘á»™ng khi dÃ¹ng `-iR` (khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng + Ä‘á»‡ quy), áº£nh hÆ°á»Ÿng cá»§a wildcard `*`, cÃ¡c tuá»³ chá»n há»¯u Ã­ch, vÃ­ dá»¥ thá»±c táº¿, lÆ°u Ã½ vá» hiá»‡u nÄƒng vÃ  báº£o máº­t, vÃ  cÃ¡c vÃ­ dá»¥ sáºµn sÃ ng Ä‘á»ƒ báº¡n copy vÃ o file `.txt`.

			---

			## PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N

			* `grep`         : chÆ°Æ¡ng trÃ¬nh tÃ¬m kiáº¿m cÃ¡c dÃ²ng khá»›p vá»›i máº«u (pattern).
			* `-i`           : **ignore-case** â€” bá» qua phÃ¢n biá»‡t chá»¯ hoa/chá»¯ thÆ°á»ng (vÃ­ dá»¥ `firewall`, `Firewall`, `FIREWALL` Ä‘á»u khá»›p).
			* `-R` hoáº·c `-r`  : **recursive** â€” tÃ¬m Ä‘á»‡ quy trong thÆ° má»¥c vÃ  cÃ¡c thÆ° má»¥c con. `-R` khÃ¡c `-r` á»Ÿ chá»— `-R` theo dÃµi symbolic links; `-r` thÃ¬ khÃ´ng (tuá»³ phiÃªn báº£n grep).
			* `firewall`     : pattern cáº§n tÃ¬m (á»Ÿ Ä‘Ã¢y lÃ  tá»« `firewall`).
			* `*`            : wildcard (glob) do shell má»Ÿ rá»™ng thÃ nh danh sÃ¡ch táº¥t cáº£ file vÃ  thÆ° má»¥c khÃ´ng áº©n á»Ÿ thÆ° má»¥c hiá»‡n táº¡i trÆ°á»›c khi cháº¡y grep.

			---

			## HÃ€NH VI KHI CHáº Y

			1. Shell má»Ÿ rá»™ng `*` trÆ°á»›c khi gá»i `grep`. Náº¿u thÆ° má»¥c hiá»‡n táº¡i cÃ³ nhiá»u file vÃ  thÆ° má»¥c, lá»‡nh thá»±c táº¿ sáº½ lÃ  `grep -iR firewall file1 file2 dir1 dir2 ...`.
			2. `grep` nháº­n danh sÃ¡ch Ä‘á»‘i sá»‘ (file/dir) vÃ  vÃ¬ cÃ³ `-R`, nÃ³ sáº½ duyá»‡t Ä‘á»‡ quy cÃ¡c thÆ° má»¥c Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh.
			3. Káº¿t quáº£ in ra sáº½ cÃ³ Ä‘á»‹nh dáº¡ng `filename:matched-line` hoáº·c `filename:line-number:matched-line` náº¿u dÃ¹ng `-n`.
			4. Khi grep tÃ¬m tháº¥y file nhá»‹ phÃ¢n, máº·c Ä‘á»‹nh grep cÃ³ thá»ƒ in `Binary file X matches` thay vÃ¬ ná»™i dung. DÃ¹ng `-I` Ä‘á»ƒ bá» qua file nhá»‹ phÃ¢n.

			---

			## KHÃC BIá»†T GIá»®A -R VÃ€ -r

			* `-R` (viáº¿t hoa): Ä‘á»‡ quy vÃ  **theo dÃµi symbolic links** â€” náº¿u thÆ° má»¥c chá»©a symlink tá»›i thÆ° má»¥c khÃ¡c, grep sáº½ vÃ o Ä‘Ã³.
			* `-r` (viáº¿t thÆ°á»ng): Ä‘á»‡ quy nhÆ°ng **khÃ´ng** theo dÃµi symlink.
			LÆ°u Ã½: hÃ nh vi chÃ­nh xÃ¡c cÃ³ thá»ƒ khÃ¡c tÃ¹y phiÃªn báº£n `grep` trÃªn há»‡ thá»‘ng.

			---

			## TUá»² CHá»ŒN Há»®U ÃCH NÃŠN Káº¾T Há»¢P

			* `-n`    : in sá»‘ dÃ²ng nÆ¡i khá»›p -> `file:line-number:content`.
			* `-H`    : luÃ´n in tÃªn file (dÃ¹ng khi chá»‰ cÃ³ 1 file, nhÆ°ng báº¡n váº«n muá»‘n tÃªn file xuáº¥t hiá»‡n).
			* `-h`    : áº©n tÃªn file (chá»‰ in dÃ²ng khá»›p) khi grep nhiá»u file.
			* `-I`    : bá» qua file nhá»‹ phÃ¢n (treat binary files as if they do not contain matches).
			* `--exclude=PATTERN` : loáº¡i trá»« file match PATTERN (vÃ­ dá»¥ `--exclude=*.log`).
			* `--exclude-dir=DIR`  : loáº¡i trá»« thÆ° má»¥c (vÃ­ dá»¥ `--exclude-dir=.git`).
			* `-C N`  : in N dÃ²ng ngá»¯ cáº£nh trÆ°á»›c vÃ  sau má»—i khá»›p.
			* `--color=auto` : Ä‘Ã¡nh dáº¥u pháº§n khá»›p khi xem trÃªn terminal.
			* `-l`    : chá»‰ liá»‡t kÃª tÃªn file cÃ³ khá»›p.
			* `-L`    : liá»‡t kÃª tÃªn file khÃ´ng cÃ³ khá»›p.

			---

			## VÃ Dá»¤ THá»°C Táº¾ (Sáº´N SÃ€NG COPY)

			1. TÃ¬m Ä‘á»‡ quy, khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng, in tÃªn file vÃ  sá»‘ dÃ²ng (khuyáº¿n nghá»‹):
			grep -R -n -i firewall .

			2. TÃ¬m Ä‘á»‡ quy tá»« danh sÃ¡ch hiá»‡n táº¡i (tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `*`) vÃ  bá» qua thÆ° má»¥c .git vÃ  file log:
			grep -R -n -i --exclude-dir=.git --exclude=*.log firewall *

			3. TÃ¬m Ä‘á»‡ quy, bá» qua file nhá»‹ phÃ¢n, in 3 dÃ²ng ngá»¯ cáº£nh:
			grep -R -n -I -C 3 -i firewall .

			4. Chá»‰ liá»‡t kÃª tÃªn file cÃ³ chá»©a tá»« `firewall`:
			grep -R -l -i firewall .

			5. LÆ°u káº¿t quáº£ (kÃ¨m tÃªn file vÃ  sá»‘ dÃ²ng) vÃ o file `firewall-grep.txt`:
			grep -R -n -i firewall . > firewall-grep.txt

			6. Náº¿u thÆ° má»¥c chá»©a quÃ¡ nhiá»u file (trÃ¡nh lá»—i "Argument list too long"), dÃ¹ng `find` + xargs an toÃ n:
			find . -type f -print0 | xargs -0 grep -n -i firewall

			7. TÄƒng tá»‘c cho tá»‡p lá»›n báº±ng locale C:
			LC_ALL=C grep -R -n -i firewall .

			---

			## LÆ¯U Ã AN TOÃ€N VÃ€ HIá»†U NÄ‚NG

			* Quyá»n truy cáº­p: náº¿u grep bÃ¡o "Permission denied" cho má»™t sá»‘ file, dÃ¹ng `sudo` hoáº·c giá»›i háº¡n tÃ¬m trong thÆ° má»¥c báº¡n cÃ³ quyá»n.
			* Symlink vÃ²ng láº·p: dÃ¹ng `-R` cÃ³ thá»ƒ theo dÃµi symlink dáº«n Ä‘áº¿n vÃ²ng láº·p thÆ° má»¥c â€” cáº©n tháº­n vÃ¬ cÃ³ thá»ƒ gÃ¢y láº·p vÃ´ háº¡n; `-r` an toÃ n hÆ¡n náº¿u khÃ´ng muá»‘n theo symlink.
			* Tá»‘c Ä‘á»™: grep máº·c Ä‘á»‹nh Ä‘á»§ nhanh cho nhiá»u trÆ°á»ng há»£p, nhÆ°ng vá»›i codebase lá»›n, `ripgrep (rg)` hoáº·c `The Silver Searcher (ag)` nhanh hÆ¡n nhiá»u.
			* File nhá»‹ phÃ¢n: grep cÃ³ thá»ƒ in `Binary file X matches`. DÃ¹ng `-I` Ä‘á»ƒ bá» qua hoáº·c `--binary-files=text` Ä‘á»ƒ xá»­ lÃ½ nhÆ° text (cáº©n tháº­n).
			* TrÃ¡nh dÃ¹ng `grep -R ... *` náº¿u thÆ° má»¥c hiá»‡n táº¡i cÃ³ hÃ ng chá»¥c ngÃ n item; dÃ¹ng `.` hoáº·c `find` + `xargs` sáº½ á»•n Ä‘á»‹nh hÆ¡n.

			---

			## MáºªU OUTPUT MáºªU

			Giáº£ sá»­ cáº¥u trÃºc thÆ° má»¥c nhá» cÃ³ hai file `a.txt` vÃ  `config/b.conf`:

			$ grep -R -n -i firewall .
			./a.txt:12:firewall --enabled --service=ssh
			./config/b.conf:3:# Firewall disabled for testing

			Giáº£i thÃ­ch:

			* `./a.txt:12:` dÃ²ng 12 cá»§a a.txt chá»©a `firewall --enabled --service=ssh`.
			* `./config/b.conf:3:` dÃ²ng 3 chá»©a chÃº thÃ­ch cÃ³ tá»« `Firewall`.

			---

			## CÃC TÃŒNH HUá»NG PHá»” BIáº¾N VÃ€ GIáº¢I PHÃP

			* Muá»‘n tÃ¬m trong repo code nhÆ°ng bá» qua .git vÃ  node_modules:
			grep -R -n -i --exclude-dir=.git --exclude-dir=node_modules firewall .

			* Muá»‘n biáº¿t nhanh file nÃ o chá»©a `firewall` (khÃ´ng cáº§n ná»™i dung):
			grep -R -l -i firewall .

			* Náº¿u cáº§n xá»­ lÃ½ file chá»‰ Ä‘á»c bá»Ÿi root:
			sudo grep -R -n -i firewall /etc

			---

			## TÃ“M Táº®T (DÃ™NG NGAY)

			TÃ¬m Ä‘á»‡ quy khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng trong thÆ° má»¥c hiá»‡n táº¡i (in tÃªn file vÃ  sá»‘ dÃ²ng):
			grep -R -n -i firewall .

			Bá» qua thÆ° má»¥c .git vÃ  file log, in kÃ¨m ngá»¯ cáº£nh 3 dÃ²ng:
			grep -R -n -i --exclude-dir=.git --exclude=*.log -C 3 firewall .

			LÆ°u káº¿t quáº£ vÃ o file:
			grep -R -n -i firewall . > firewall-grep.txt

			---

			## Káº¾T LUáº¬N

			* `grep -iR firewall *` lÃ  má»™t cÃ¡ch nhanh Ä‘á»ƒ tÃ¬m tá»« `firewall` khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng trong nhiá»u file vÃ  thÆ° má»¥c con, nhÆ°ng báº¡n nÃªn sá»­ dá»¥ng `.` hoáº·c `find` khi thÆ° má»¥c ráº¥t lá»›n Ä‘á»ƒ trÃ¡nh lá»—i do shell glob.
			* Káº¿t há»£p thÃªm `--exclude`, `--exclude-dir`, `-I`, vÃ  `-n` sáº½ giÃºp káº¿t quáº£ rÃµ rÃ ng vÃ  an toÃ n hÆ¡n.



		- cmd: grep -R SELINUX /etc/*

			Giáº£i thÃ­ch chi tiáº¿t nháº¥t cho: `grep -R SELINUX /etc/*`

			---

			## Má»¤C TIÃŠU

			TÃ i liá»‡u nÃ y giáº£i thÃ­ch Ä‘áº§y Ä‘á»§ Ã½ nghÄ©a vÃ  hÃ nh vi cá»§a lá»‡nh `grep -R SELINUX /etc/*`, cÃ¡c thÃ nh pháº§n, nhá»¯ng
			khÃ¡c biá»‡t khi dÃ¹ng wildcard `*` trÃªn `/etc`, cÃ¡c tuá»³ chá»n há»¯u Ã­ch, vÃ­ dá»¥ thá»±c táº¿ Ä‘á»ƒ copy trá»±c tiáº¿p vÃ o
			file `.txt`, vÃ  lÆ°u Ã½ vá» quyá»n truy cáº­p, file nhá»‹ phÃ¢n, hiá»‡u nÄƒng vÃ  an toÃ n.

			---

			## GIáº¢I THÃCH Tá»ªNG PHáº¦N

			* `grep`        : chÆ°Æ¡ng trÃ¬nh tÃ¬m kiáº¿m cÃ¡c dÃ²ng chá»©a máº«u (pattern) trong file hoáº·c trong stdin.
			* `-R`          : **recursive** â€” duyá»‡t Ä‘á»‡ quy cÃ¡c thÆ° má»¥c vÃ  file; `-R` theo dÃµi symbolic links (tÃ¹y phiÃªn báº£n), `-r` thÃ¬ khÃ´ng theo dÃµi symlink.
			* `SELINUX`     : máº«u (pattern) cáº§n tÃ¬m. á» Ä‘Ã¢y thÆ°á»ng dÃ¹ng Ä‘á»ƒ tÃ¬m cáº¥u hÃ¬nh liÃªn quan SELinux (vÃ­ dá»¥ trong `/etc/selinux/config`). TÃ¬m khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng náº¿u muá»‘n dÃ¹ng `-i`.
			* `/etc/*`      : wildcard (glob) do shell má»Ÿ rá»™ng thÃ nh danh sÃ¡ch táº¥t cáº£ cÃ¡c file vÃ  thÆ° má»¥c **khÃ´ng áº©n** trong `/etc` trÆ°á»›c khi grep Ä‘Æ°á»£c gá»i.

			---

			## HÃ€NH VI KHI CHáº Y

			1. Shell má»Ÿ rá»™ng `/etc/*` thÃ nh danh sÃ¡ch cÃ¡c má»¥c trong `/etc` (vÃ­ dá»¥ `/etc/ssh /etc/sysconfig /etc/selinux /etc/passwd`...). Sau Ä‘Ã³ grep Ä‘Æ°á»£c gá»i vá»›i cÃ¡c Ä‘á»‘i sá»‘ nÃ y.
			2. VÃ¬ cÃ³ `-R`, grep sáº½ vÃ o tá»«ng thÆ° má»¥c (Ä‘á»‡ quy) vÃ  tÃ¬m trong cÃ¡c file con.
			3. Káº¿t quáº£ in ra dáº¡ng `filename:matched-line` hoáº·c `filename:line-number:matched-line` náº¿u dÃ¹ng `-n`.
			4. Náº¿u cÃ³ file nhá»‹ phÃ¢n, grep cÃ³ thá»ƒ in `Binary file X matches`. DÃ¹ng `-I` Ä‘á»ƒ bá» qua file nhá»‹ phÃ¢n.

			---

			## Sá»° KHÃC BIá»†T KHI DÃ™NG `/etc/*` VS `.` HOáº¶C `/etc`

			* DÃ¹ng `/etc/*`: shell liá»‡t kÃª **táº¥t cáº£ má»¥c con** cá»§a `/etc` vÃ  truyá»n tá»«ng má»¥c vÃ o grep. Tá»‘t khi báº¡n muá»‘n giá»›i háº¡n báº¯t Ä‘áº§u tÃ¬m á»Ÿ cÃ¡c má»¥c con hiá»‡n cÃ³. Tuy nhiÃªn náº¿u `/etc` cÃ³ nhiá»u má»¥c, danh sÃ¡ch Ä‘á»‘i sá»‘ cÃ³ thá»ƒ ráº¥t dÃ i (thá»‰nh thoáº£ng gÃ¢y "Argument list too long").
			* DÃ¹ng `/etc` (khÃ´ng cÃ³ `*`) vá»›i `-R`: `grep -R SELINUX /etc` lÃ  cÃ¡ch an toÃ n hÆ¡n vÃ¬ grep tá»± Ä‘á»‡ quy tá»« thÆ° má»¥c `/etc` mÃ  khÃ´ng phá»¥ thuá»™c vÃ o kÃ­ch thÆ°á»›c danh sÃ¡ch Ä‘á»‘i sá»‘.
			* DÃ¹ng `.` tá»« trong `/etc`: `cd /etc && grep -R SELINUX .` tÆ°Æ¡ng Ä‘Æ°Æ¡ng `grep -R SELINUX /etc`.

			---

			## TUá»² CHá»ŒN Há»®U ÃCH NÃŠN Káº¾T Há»¢P

			* `-n`          : in sá»‘ dÃ²ng -> `file:line-number:content`.
			* `-i`          : khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng (tá»‘t khi báº¡n khÃ´ng cháº¯c chá»¯ hoa).
			* `-I`          : bá» qua file nhá»‹ phÃ¢n.
			* `--exclude=PATTERN` / `--exclude-dir=DIR` : loáº¡i trá»« file hoáº·c thÆ° má»¥c (vÃ­ dá»¥ `--exclude-dir=.git`).
			* `-H` / `-h`    : luÃ´n in/áº©n tÃªn file.
			* `-C N`        : in N dÃ²ng ngá»¯ cáº£nh trÆ°á»›c vÃ  sau.
			* `-l`          : chá»‰ liá»‡t kÃª tÃªn file cÃ³ khá»›p.

			---

			## QUYá»€N TRUY Cáº¬P VÃ€ SUDO

			* `/etc` chá»©a nhiá»u file chá»‰ root má»›i Ä‘á»c Ä‘Æ°á»£c; náº¿u báº¡n cháº¡y lá»‡nh vá»›i user thÆ°á»ng, grep sáº½ bÃ¡o "Permission denied" cho nhá»¯ng file khÃ´ng cÃ³ quyá»n. DÃ¹ng `sudo` Ä‘á»ƒ Ä‘á»c háº¿t:
			sudo grep -R -n SELINUX /etc

			* Khi dÃ¹ng wildcard `/etc/*` vá»›i `sudo` cáº©n tháº­n: shell má»Ÿ rá»™ng `*` trÆ°á»›c khi `sudo` cháº¡y, do Ä‘Ã³ expansion Ä‘Æ°á»£c thá»±c hiá»‡n bá»Ÿi shell cá»§a user (cÃ³ thá»ƒ gÃ¢y lá»—i náº¿u user khÃ´ng cÃ³ quyá»n Ä‘á»c má»™t sá»‘ má»¥c). VÃ¬ váº­y tá»‘t hÆ¡n dÃ¹ng:
			sudo grep -R -n SELINUX /etc
			(Ä‘á»ƒ sudo trá»±c tiáº¿p má»Ÿ file vá»›i quyá»n root).

			---

			## VÃ Dá»¤ THá»°C Táº¾ (Dá»„ COPY)

			1. TÃ¬m Ä‘á»‡ quy (khuyáº¿n nghá»‹ dÃ¹ng /etc thay vÃ¬ /etc/*) vÃ  in sá»‘ dÃ²ng:
			sudo grep -R -n SELINUX /etc

			2. TÃ¬m khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng vÃ  in 3 dÃ²ng ngá»¯ cáº£nh:
			sudo grep -R -n -i -C 3 SELINUX /etc

			3. Bá» qua file nhá»‹ phÃ¢n vÃ  in chá»‰ tÃªn file cÃ³ khá»›p:
			sudo grep -R -I -l -i SELINUX /etc

			4. TÃ¬m vÃ  lÆ°u káº¿t quáº£ vÃ o file `selinux-grep.txt`:
			sudo grep -R -n SELINUX /etc > selinux-grep.txt

			5. An toÃ n vá»›i nhiá»u file lá»›n (dÃ¹ng find + xargs):
			sudo find /etc -type f -print0 | sudo xargs -0 grep -n SELINUX

			---

			## Káº¾T QUáº¢ MáºªU

			VÃ­ dá»¥ file `/etc/selinux/config` thÆ°á»ng chá»©a:

			SELINUX=enforcing
			SELINUXTYPE=targeted

			Khi cháº¡y:
			sudo grep -R -n SELINUX /etc
			Báº¡n cÃ³ thá»ƒ nháº­n Ä‘Æ°á»£c:
			/etc/selinux/config:1:SELINUX=enforcing
			/etc/selinux/config:2:SELINUXTYPE=targeted

			Giáº£i thÃ­ch: dÃ²ng 1 vÃ  2 cá»§a file `/etc/selinux/config` chá»©a cÃ¡c biáº¿n cáº¥u hÃ¬nh SELinux.

			---

			## LÆ¯U Ã Vá»€ HIá»†U NÄ‚NG VÃ€ AN TOÃ€N

			* Hiá»‡u nÄƒng: tÃ¬m Ä‘á»‡ quy trÃªn `/etc` thÆ°á»ng nhanh vÃ¬ cáº¥u trÃºc nhá»; nhÆ°ng vá»›i thÆ° má»¥c lá»›n, dÃ¹ng `LC_ALL=C` Ä‘á»ƒ tÄƒng tá»‘c: `LC_ALL=C sudo grep -R -n SELINUX /etc`.
			* Symlink: `-R` cÃ³ thá»ƒ theo dÃµi symlink vÃ  dáº«n tá»›i thÆ° má»¥c bÃªn ngoÃ i; náº¿u báº¡n muá»‘n trÃ¡nh theo symlink dÃ¹ng `-r` (tuá»³ grep há»— trá»£).
			* File nháº¡y cáº£m: trÃ¡nh ghi káº¿t quáº£ ra file cÃ´ng cá»™ng náº¿u chá»©a thÃ´ng tin nháº¡y cáº£m; sá»­ dá»¥ng quyá»n thÃ­ch há»£p.

			---

			## Máº¸O THÄ‚M KHÃC

			* Muá»‘n nhanh chÃ³ng má»Ÿ file cáº¥u hÃ¬nh SELinux:
			sudo less /etc/selinux/config

			* Kiá»ƒm tra tráº¡ng thÃ¡i SELinux runtime trÃªn há»‡ hiá»‡n táº¡i:
			sestatus
			hoáº·c
			getenforce

			---

			## TÃ“M Táº®T Äá»‚ COPY NGAY

			TÃ¬m Ä‘á»‡ quy vÃ  in sá»‘ dÃ²ng (Ä‘á» xuáº¥t):
			sudo grep -R -n SELINUX /etc

			TÃ¬m khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng vÃ  in 3 dÃ²ng ngá»¯ cáº£nh:
			sudo grep -R -n -i -C 3 SELINUX /etc

			Chá»‰ liá»‡t kÃª file cÃ³ khá»›p:
			sudo grep -R -I -l SELINUX /etc

			---

			## Háº¾T

			Ná»™i dung trÃªn á»Ÿ Ä‘á»‹nh dáº¡ng plain text, trÃ¬nh bÃ y rÃµ rÃ ng Ä‘á»ƒ báº¡n copy trá»±c tiáº¿p vÃ o file `.txt`.


		- cmd: grep -vi firewall anaconda-ks.cfg

			Giáº£i thÃ­ch chi tiáº¿t nháº¥t cho: `grep -vi firewall anaconda-ks.cfg`

			---

			## Má»¤C TIÃŠU

			TÃ i liá»‡u nÃ y giáº£i thÃ­ch tá»«ng pháº§n cá»§a lá»‡nh `grep -vi firewall anaconda-ks.cfg`, Ã½ nghÄ©a cá»§a cÃ¡c tuá»³
			chá»n `-v` vÃ  `-i`, cÃ¡c biáº¿n thá»ƒ há»¯u Ã­ch, cÃ¡ch Ä‘á»c káº¿t quáº£, vÃ­ dá»¥ thá»±c táº¿, lÆ°u Ã½ khi dÃ¹ng vá»›i file
			kickstart (`anaconda-ks.cfg`) vÃ  cÃ¡c máº¹o an toÃ n/hiá»‡u nÄƒng. Ná»™i dung Ä‘Æ°á»£c trÃ¬nh bÃ y á»Ÿ dáº¡ng plain text
			rÃµ rÃ ng Ä‘á»ƒ báº¡n copy trá»±c tiáº¿p vÃ o file `.txt`.

			---

			## PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N

			* `grep` : chÆ°Æ¡ng trÃ¬nh tÃ¬m kiáº¿m cÃ¡c dÃ²ng khá»›p vá»›i máº«u (pattern) trong file hoáº·c stdin.
			* `-v`   : **invert match** â€” in ra nhá»¯ng dÃ²ng *khÃ´ng* khá»›p máº«u. Tá»©c lÃ  sáº½ lá»c bá» má»i dÃ²ng chá»©a máº«u.
			* `-i`   : **ignore-case** â€” khÃ´ng phÃ¢n biá»‡t chá»¯ hoa/chá»¯ thÆ°á»ng khi so khá»›p (vÃ­ dá»¥ `firewall`, `Firewall`, `FIREWALL` Ä‘á»u Ä‘Æ°á»£c coi giá»‘ng nhau).
			* `firewall` : máº«u (pattern) cáº§n tÃ¬m (á»Ÿ Ä‘Ã¢y lÃ  tá»« khÃ³a `firewall`).
			* `anaconda-ks.cfg` : file Ä‘áº§u vÃ o (thÆ°á»ng lÃ  file kickstart do Anaconda táº¡o ra) mÃ  grep sáº½ Ä‘á»c.

			---

			## Ã NGHÄ¨A KHI Káº¾T Há»¢P -v VÃ€ -i

			Lá»‡nh `grep -vi firewall anaconda-ks.cfg` sáº½ in **má»i dÃ²ng trong file `anaconda-ks.cfg` mÃ  khÃ´ng chá»©a tá»« `firewall` (báº¥t ká»ƒ hoa thÆ°á»ng)**.
			NÃ³i cÃ¡ch khÃ¡c: Ä‘Ã¢y lÃ  cÃ¡ch nhanh Ä‘á»ƒ loáº¡i bá» (filter out) táº¥t cáº£ cÃ¡c dÃ²ng cÃ³ chá»©a `firewall` vÃ  chá»‰ giá»¯ pháº§n cÃ²n láº¡i cá»§a file.

			---

			## TÃŒNH HUá»NG THá»°C Táº¾ KHI DÃ™NG Vá»šI anaconda-ks.cfg

			* Má»¥c Ä‘Ã­ch phá»• biáº¿n: khi báº¡n muá»‘n xem file kickstart nhÆ°ng loáº¡i bá» táº¥t cáº£ dÃ²ng cáº¥u hÃ¬nh firewall Ä‘á»ƒ táº­p trung vÃ o pháº§n khÃ¡c (vÃ­ dá»¥ partition, network, package).
			* Thá»±c táº¿: cÃ¡c dÃ²ng liÃªn quan firewall trong kickstart cÃ³ thá»ƒ lÃ  `firewall --enabled --service=ssh` hoáº·c comment chá»©a `Firewall`.
			* Káº¿t quáº£ cá»§a lá»‡nh nÃ y sáº½ bao gá»“m cáº£ dÃ²ng comment, lá»‡nh khÃ¡c, vÃ  báº¥t ká»³ dÃ²ng nÃ o khÃ´ng chá»©a tá»« `firewall`.

			---

			## CÃC TUá»² CHá»ŒN Há»®U ÃCH NÃŠN Káº¾T Há»¢P

			* `-n` : in kÃ¨m sá»‘ dÃ²ng `line-number:content` â€” há»¯u Ã­ch khi báº¡n cáº§n biáº¿t vá»‹ trÃ­.
			* `-C N`, `-A N`, `-B N` : in ngá»¯ cáº£nh trÆ°á»›c/sau náº¿u muá»‘n xem xung quanh dÃ²ng (khi dÃ¹ng `-v` logic khÃ¡c â€” lÆ°u Ã½ `-v` in nhá»¯ng dÃ²ng khÃ´ng khá»›p nÃªn ngá»¯ cáº£nh cÃ³ thá»ƒ lá»›n).
			* `--color=auto` : tÃ´ mÃ u pháº§n khá»›p (khi dÃ¹ng `-v`, mÃ u sáº½ giÃºp tháº¥y Ä‘Ã¢u lÃ  pháº§n Ä‘Ã£ bá»‹ loáº¡i khi káº¿t há»£p vá»›i cÃ¡c lá»‡nh khÃ¡c).
			* `-n --color=auto -i -v` : káº¿t há»£p in sá»‘ dÃ²ng + ignore-case + invert.
			* `-E` : náº¿u máº«u phá»©c táº¡p (regex) cáº§n dÃ¹ng biá»ƒu thá»©c má»Ÿ rá»™ng.

			---

			## VÃ Dá»¤ THá»°C Táº¾ (Sáº´N SÃ€NG COPY)

			1. Lá»c bá» má»i dÃ²ng chá»©a "firewall" (khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng):
			grep -vi firewall anaconda-ks.cfg

			2. Lá»c bá» vÃ  in sá»‘ dÃ²ng (tá»‘t Ä‘á»ƒ tham chiáº¿u):
			grep -n -vi firewall anaconda-ks.cfg

			3. LÆ°u káº¿t quáº£ (file Ä‘Ã£ loáº¡i bá» cÃ¡c dÃ²ng cÃ³ firewall):
			grep -vi firewall anaconda-ks.cfg > anaconda-ks-no-firewall.txt

			4. Náº¿u file chá»‰ root má»›i Ä‘á»c Ä‘Æ°á»£c, dÃ¹ng sudo (khuyáº¿n nghá»‹ dÃ¹ng Ä‘Æ°á»ng dáº«n thay vÃ¬ redirect qua shell):
			sudo grep -n -vi firewall /root/anaconda-ks.cfg

			LÆ¯U Ã: náº¿u báº¡n dÃ¹ng `sudo` kÃ¨m `>` Ä‘á»ƒ redirect, shell cá»§a báº¡n (khÃ´ng pháº£i sudo) thá»±c hiá»‡n redirect vÃ  cÃ³ thá»ƒ bá»‹ lá»—i quyá»n. Thay vÃ o Ä‘Ã³ dÃ¹ng:
			sudo sh -c "grep -vi firewall /root/anaconda-ks.cfg > /root/anaconda-ks-no-firewall.txt"

			5. Káº¿t há»£p vá»›i `sed`/`awk` Ä‘á»ƒ tiáº¿p tá»¥c xá»­ lÃ½ (vÃ­ dá»¥ xÃ³a cÃ¡c dÃ²ng trá»‘ng sau khi loáº¡i bá»):
			grep -vi firewall anaconda-ks.cfg | sed '/^\s*$/d' > anaconda-ks-no-firewall.txt

			6. So sÃ¡nh file gá»‘c vÃ  file sau khi loáº¡i bá» Ä‘á»ƒ biáº¿t cÃ³ bao nhiÃªu dÃ²ng bá»‹ loáº¡i:
			wc -l anaconda-ks.cfg
			grep -n -vi firewall anaconda-ks.cfg | wc -l

			---

			## GIáº¢I THÃCH Káº¾T QUáº¢ MáºªU

			Giáº£ sá»­ `anaconda-ks.cfg` cÃ³ ná»™i dung:

			1: # Kickstart file
			2: firewall --enabled --service=ssh
			3: network --bootproto=dhcp --device=eth0
			4: # Firewall disabled for testing
			5: timezone --utc Etc/UTC

			Cháº¡y `grep -vi firewall anaconda-ks.cfg` sáº½ in:

			1: # Kickstart file
			3: network --bootproto=dhcp --device=eth0
			5: timezone --utc Etc/UTC

			(Giáº£ sá»­ báº¡n thÃªm `-n` Ä‘á»ƒ tháº¥y sá»‘ dÃ²ng; náº¿u khÃ´ng cÃ³ `-n` thÃ¬ sáº½ chá»‰ in ná»™i dung dÃ²ng khÃ´ng cÃ³ sá»‘.)

			---

			## LÆ¯U Ã Vá»€ TÃŒNH HUá»NG Äáº¶C BIá»†T

			* `-v` lá»c má»i dÃ²ng chá»©a máº«u **báº¥t ká»ƒ á»Ÿ vá»‹ trÃ­ nÃ o trong dÃ²ng**. Náº¿u báº¡n chá»‰ muá»‘n loáº¡i bá» dÃ²ng báº¯t Ä‘áº§u báº±ng `firewall` hoáº·c chá»‰ lá»‡nh kickstart, dÃ¹ng regex chÃ­nh xÃ¡c hÆ¡n, vÃ­ dá»¥:
			grep -vi '^\s*firewall\b' anaconda-ks.cfg
			(loáº¡i bá» chá»‰ cÃ¡c dÃ²ng mÃ  `firewall` Ä‘á»©ng á»Ÿ Ä‘áº§u dÃ²ng hoáº·c sau khoáº£ng tráº¯ng)

			* Náº¿u máº«u chá»©a kÃ½ tá»± regex Ä‘áº·c biá»‡t, Ä‘áº·t pattern trong dáº¥u nhÃ¡y Ä‘Æ¡n Ä‘á»ƒ trÃ¡nh shell má»Ÿ rá»™ng.

			* Khi dÃ¹ng `-v` cÃ¹ng `-C`/`-A`/`-B`, chÃº Ã½ ráº±ng ngá»¯ cáº£nh in ra lÃ  nhá»¯ng dÃ²ng khÃ´ng khá»›p â€” káº¿t quáº£ cÃ³ thá»ƒ chá»©a cÃ¡c Ä‘oáº¡n dÃ i liÃªn tiáº¿p vÃ  khÃ´ng rÃµ rÃ ng náº¿u báº¡n mong muá»‘n xem "xung quanh" cÃ¡c dÃ²ng chá»©a firewall â€” thÆ°á»ng `-v` Ã­t cáº§n ngá»¯ cáº£nh.

			* DÃ²ng comment chá»©a tá»« `firewall` cÅ©ng sáº½ bá»‹ loáº¡i khi dÃ¹ng `-vi`. Náº¿u báº¡n muá»‘n chá»‰ loáº¡i lá»‡nh (khÃ´ng loáº¡i comment), dÃ¹ng regex Ä‘á»ƒ lá»c comment:
			grep -vi '^[[:space:]]*#.*firewall' anaconda-ks.cfg    # loáº¡i comment chá»©a firewall
			grep -n -vi '^\s*firewall\b' anaconda-ks.cfg          # loáº¡i lá»‡nh firewall

			---

			## Máº¸O HIá»†U NÄ‚NG VÃ€ AN TOÃ€N

			* Náº¿u file lá»›n, `grep` lÃ  nhanh; nhÆ°ng náº¿u thao tÃ¡c nhiá»u file hoáº·c Ä‘á»‡ quy, cÃ¢n nháº¯c `rg` (ripgrep) vÃ¬ nhanh vÃ  máº·c Ä‘á»‹nh bá» qua thÆ° má»¥c trong .gitignore.
			* Khi redirect káº¿t quáº£ sang file cÃ³ quyá»n root, dÃ¹ng `sudo sh -c "... > /path"` Ä‘á»ƒ trÃ¡nh lá»—i permission.
			* LuÃ´n sao lÆ°u file gá»‘c trÆ°á»›c khi chá»‰nh sá»­a.

			---

			## TÃ“M Táº®T NGáº®N Gá»ŒN (Dá»„ COPY)

			In táº¥t cáº£ dÃ²ng **khÃ´ng** chá»©a "firewall" (khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng):
			grep -vi firewall anaconda-ks.cfg

			In kÃ¨m sá»‘ dÃ²ng:
			grep -n -vi firewall anaconda-ks.cfg

			LÆ°u káº¿t quáº£ vÃ o file:
			grep -vi firewall anaconda-ks.cfg > anaconda-ks-no-firewall.txt

			Loáº¡i bá» chá»‰ cÃ¡c dÃ²ng báº¯t Ä‘áº§u báº±ng `firewall` (an toÃ n hÆ¡n náº¿u muá»‘n giá»¯ comment):
			grep -n -vi '^\s*firewall\b' anaconda-ks.cfg

			---


		- cmd: less anaconda-ks.cfg

			Giáº£i thÃ­ch chi tiáº¿t nháº¥t cho: `less anaconda-ks.cfg`

			---

			## Má»¤C TIÃŠU

			Ná»™i dung nÃ y giáº£i thÃ­ch tá»«ng pháº§n cá»§a lá»‡nh `less anaconda-ks.cfg`, Ã½ nghÄ©a, hÃ nh vi, cÃ¡c
			tÃ¹y chá»n vÃ  phÃ­m Ä‘iá»u khiá»ƒn quan trá»ng khi dÃ¹ng `less` Ä‘á»ƒ xem file (á»Ÿ Ä‘Ã¢y vÃ­ dá»¥ file
			kickstart `anaconda-ks.cfg`). VÄƒn báº£n Ä‘Æ°á»£c trÃ¬nh bÃ y á»Ÿ dáº¡ng plain text, rÃµ rÃ ng Ä‘á»ƒ báº¡n copy
			trá»±c tiáº¿p vÃ o file `.txt`.

			---

			## KHÃI QUÃT

			* `less` lÃ  má»™t chÆ°Æ¡ng trÃ¬nh pager (trÃ¬nh xem trang) trong Unix/Linux dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ ná»™i dung file trong
			terminal theo dáº¡ng cuá»™n (scroll) â€” há»¯u Ã­ch Ä‘á»ƒ xem file lá»›n mÃ  khÃ´ng cáº§n má»Ÿ toÃ n bá»™ vÃ o trÃ¬nh soáº¡n tháº£o.
			* `anaconda-ks.cfg` thÆ°á»ng lÃ  file kickstart (cáº¥u hÃ¬nh cÃ i Ä‘áº·t tá»± Ä‘á»™ng) do trÃ¬nh cÃ i Ä‘áº·t Anaconda táº¡o
			ra. DÃ¹ng `less` báº¡n cÃ³ thá»ƒ duyá»‡t, tÃ¬m, vÃ  trÃ­ch xuáº¥t pháº§n cáº§n thiáº¿t trong file nÃ y.

			CÃ¢u lá»‡nh cÆ¡ báº£n:
			less anaconda-ks.cfg

			Má»Ÿ file `anaconda-ks.cfg` trong `less`. Náº¿u file lá»›n, less chá»‰ náº¡p má»™t pháº§n vÃ  cho phÃ©p báº¡n Ä‘iá»u hÆ°á»›ng nhanh.

			---

			## TÃNH NÄ‚NG CHÃNH Cá»¦A less

			* Duyá»‡t lÃªn/xuá»‘ng trang nhanh (page up/page down).
			* TÃ¬m (search) theo chuá»—i, theo regex.
			* Äi tá»›i sá»‘ dÃ²ng cá»¥ thá»ƒ.
			* TrÃ­ch xuáº¥t (Ä‘Æ°a ná»™i dung ra stdout) báº±ng `-p` hoáº·c sá»­ dá»¥ng lá»‡nh `less` káº¿t há»£p vá»›i redirection.
			* Hiá»ƒn thá»‹ tá»‡p nhá»‹ phÃ¢n (binary) á»Ÿ dáº¡ng hexdump vá»›i tÃ¹y chá»n thÃ­ch há»£p.

			---

			## PHÃM Táº®T VÃ€ ÄIá»€U HÆ¯á»šNG CÆ  Báº¢N TRONG less

			(á» cháº¿ Ä‘á»™ xem less, gÃµ cÃ¡c phÃ­m sau Ä‘á»ƒ thá»±c hiá»‡n hÃ nh Ä‘á»™ng tÆ°Æ¡ng á»©ng)

			* `Space` hoáº·c `f` : trang káº¿ tiáº¿p (forward one screen)
			* `b`              : trang trÆ°á»›c (back one screen)
			* `Enter`          : xuá»‘ng má»™t dÃ²ng (forward one line)
			* `k` hoáº·c mÅ©i tÃªn lÃªn   : lÃªn má»™t dÃ²ng
			* `j` hoáº·c mÅ©i tÃªn xuá»‘ng  : xuá»‘ng má»™t dÃ²ng
			* `g`              : tá»›i Ä‘áº§u file
			* `G`              : tá»›i cuá»‘i file
			* `:<num>`         : (vÃ­ dá»¥ `:50`) nháº£y tá»›i dÃ²ng sá»‘ 50
			* `/<pattern>`     : tÃ¬m xuÃ´i theo pattern (vÃ­ dá»¥ `/firewall`)
			* `?pattern`       : tÃ¬m ngÆ°á»£c theo pattern
			* `n`              : tÃ¬m káº¿t quáº£ tiáº¿p theo (theo cÃ¹ng chiá»u tÃ¬m ban Ä‘áº§u)
			* `N`              : tÃ¬m káº¿t quáº£ trÆ°á»›c Ä‘Ã³ (ngÆ°á»£c chiá»u)
			* `&pattern`       : lá»c hiá»ƒn thá»‹ chá»‰ nhá»¯ng dÃ²ng khá»›p (giá»‘ng `grep` táº¡m thá»i)
			* `v`              : má»Ÿ file hiá»‡n táº¡i trong trÃ¬nh soáº¡n tháº£o (theo biáº¿n mÃ´i trÆ°á»ng `$EDITOR` hoáº·c `vi`)
			* `h`              : hiá»ƒn thá»‹ help (trá»£ giÃºp nhanh trong less)
			* `q`              : thoÃ¡t less
			* `-S` khi má»Ÿ less hoáº·c `S` trong less: táº¯t wrap dÃ²ng (suppress line wrapping); khi dÃ¹ng `-S`, dÃ¹ng `â†’` vÃ  `â†` Ä‘á»ƒ dá»‹ch ngang.
			* `SHIFT+F` (`F`) : theo dÃµi file (follow) nhÆ° `tail -f` â€” tiá»‡n khi xem log thay Ä‘á»•i liÃªn tá»¥c; nháº¥n `Ctrl-C` Ä‘á»ƒ thoÃ¡t cháº¿ Ä‘á»™ follow trá»Ÿ vá» less bÃ¬nh thÆ°á»ng.

			---

			## TÃ™Y CHá»ŒN hay DÃ™NG KHI Má» less

			* `less -N anaconda-ks.cfg` : hiá»ƒn thá»‹ sá»‘ dÃ²ng á»Ÿ bÃªn trÃ¡i (numbered lines)
			* `less -S anaconda-ks.cfg` : khÃ´ng wrap dÃ²ng (dÃ²ng dÃ i sáº½ bá»‹ cáº¯t ngang, dÃ¹ng phÃ­m â†’ Ä‘á»ƒ dá»‹ch ngang)
			* `less -R anaconda-ks.cfg` : giá»¯ nguyÃªn escape sequences mÃ u (useful khi file cÃ³ mÃ u ANSI)
			* `less -p pattern anaconda-ks.cfg` : má»Ÿ file vÃ  nháº£y tá»›i láº§n xuáº¥t hiá»‡n Ä‘áº§u tiÃªn cá»§a pattern
			* `less +/pattern anaconda-ks.cfg` : tÆ°Æ¡ng tá»± `-p`, dÃ¹ng cÃº phÃ¡p `+`
			* `less +G anaconda-ks.cfg` : má»Ÿ file vÃ  nháº£y tá»›i cuá»‘i file (G)
			* `less -F -X anaconda-ks.cfg` : náº¿u file ngáº¯n hÆ¡n má»™t mÃ n hÃ¬nh thÃ¬ less sáº½ hiá»ƒn thá»‹ vÃ  thoÃ¡t ngay (khÃ´ng giá»¯ láº¡i prompt)

			---

			## TÃŒM KIáº¾M TRONG less

			* TÃ¬m xuÃ´i: gÃµ `/` rá»“i nháº­p pattern rá»“i `Enter`.
			VÃ­ dá»¥: `/firewall` sáº½ nháº£y tá»›i láº§n xuáº¥t hiá»‡n tiáº¿p theo cá»§a chuá»—i "firewall".
			* TÃ¬m ngÆ°á»£c: gÃµ `?` rá»“i pattern.
			* DÃ¹ng `-i` trong grep thÃ¬ less khÃ´ng cÃ³ cá» `-i` tÆ°Æ¡ng Ä‘Æ°Æ¡ng; Ä‘á»ƒ tÃ¬m khÃ´ng phÃ¢n biá»‡t hoa thÆ°á»ng trong less, báº¡n cÃ³ thá»ƒ báº­t ignore-case tÃ¬m trong less báº±ng cÃ¡ch gÃµ `-i` (nháº­p dáº¥u `-` rá»“i `i` trong less) â€” Ä‘Ã¢y lÃ  cháº¿ Ä‘á»™ toggle cho tÃ¬m.
			* Regex: less há»— trá»£ regex POSIX; báº¡n cÃ³ thá»ƒ dÃ¹ng cÃ¡c biá»ƒu thá»©c chÃ­nh quy khi tÃ¬m.

			---

			## XUáº¤T/LIá»†T KÃŠ PHáº¦N Ná»˜I DUNG Tá»ª less

			* GÃµ `|command` trong less Ä‘á»ƒ pipe toÃ n bá»™ file qua má»™t lá»‡nh shell.
			VÃ­ dá»¥: `|grep firewall` sáº½ cho káº¿t quáº£ grep cá»§a file hiá»‡n táº¡i, hiá»ƒn thá»‹ trong less (sau khi cháº¡y, báº¡n váº«n á»Ÿ less â€” káº¿t quáº£ in xong báº¡n trá»Ÿ láº¡i less nguyÃªn gá»‘c).
			* GÃµ `s filename` Ä‘á»ƒ lÆ°u toÃ n bá»™ ná»™i dung file Ä‘ang xem thÃ nh `filename`.

			---

			## XEM FILE CHá»ˆ Äá»ŒC HOáº¶C CÃ“ QUYá»€N

			* Náº¿u file cáº§n quyá»n root (vÃ­ dá»¥ `/root/anaconda-ks.cfg`), báº¡n khÃ´ng thá»ƒ má»Ÿ trá»±c tiáº¿p báº±ng less náº¿u khÃ´ng cÃ³ quyá»n. Sá»­ dá»¥ng `sudo`:
			sudo less /root/anaconda-ks.cfg
			Hoáº·c náº¿u báº¡n muá»‘n má»Ÿ file báº±ng less nhÆ°ng Ä‘á»c báº±ng sudo cat:
			sudo sh -c 'cat /root/anaconda-ks.cfg' | less
			LÆ°u Ã½: dÃ¹ng `sudo less file` lÃ  cÃ¡ch phá»• biáº¿n vÃ  Ä‘Æ¡n giáº£n.

			---

			## TÆ¯Æ NG TÃC Vá»šI MáºªU / Káº¾T Há»¢P Vá»šI CÃC Lá»†NH KHÃC

			* Xem káº¿t quáº£ grep ngay báº±ng less:
			grep -n firewall anaconda-ks.cfg | less -R
			* Má»Ÿ file vá»›i sá»‘ dÃ²ng:
			less -N anaconda-ks.cfg
			* Theo dÃµi file log (tÆ°Æ¡ng tá»± tail -f):
			less +F /var/log/messages
			(nháº¥n Ctrl-C Ä‘á»ƒ táº¡m dá»«ng follow, sau Ä‘Ã³ `q` Ä‘á»ƒ thoÃ¡t)
			* DÃ¹ng less Ä‘á»ƒ xem output cá»§a lá»‡nh:
			journalctl -u firewalld | less

			---

			## Xá»¬ LÃ DÃ’NG DÃ€I VÃ€ MÃƒ MÃ€U

			* DÃ²ng quÃ¡ dÃ i: dÃ¹ng `-S` Ä‘á»ƒ khÃ´ng wrap; dÃ¹ng phÃ­m â†’ / â† Ä‘á»ƒ dá»‹ch ngang khi cáº§n.
			* MÃ£ mÃ u ANSI: dÃ¹ng `less -R` Ä‘á»ƒ hiá»ƒn thá»‹ mÃ u; náº¿u khÃ´ng file cÃ³ mÃ u sáº½ hiá»ƒn thá»‹ cÃ¡c kÃ½ tá»± Ä‘iá»u khiá»ƒn.

			---

			## LÆ¯U Ã Vá»€ HOáº T Äá»˜ VÃ€ HIá»†U NÄ‚NG

			* `less` ráº¥t nhanh vÃ  khÃ´ng Ä‘á»c toÃ n bá»™ file vÃ o bá»™ nhá»›, phÃ¹ há»£p Ä‘á»ƒ xem file lá»›n.
			* Khi sá»­ dá»¥ng `less` trÃªn tá»‡p thiáº¿t bá»‹ hoáº·c tá»‡p liÃªn tá»¥c tÄƒng (log), cÃ¢n nháº¯c `+F` Ä‘á»ƒ follow.
			* Náº¿u cáº§n thao tÃ¡c tÃ¬m kiáº¿m phá»©c táº¡p, káº¿t há»£p grep trÆ°á»›c rá»“i pipe qua less:
			grep -n -i firewall anaconda-ks.cfg | less -R

			---

			## MáºªU HÆ¯á»šNG DáºªN NGáº®N (Dá»„ COPY)

			Má»Ÿ file Ä‘á»ƒ xem:
			less anaconda-ks.cfg

			Má»Ÿ vÃ  hiá»ƒn thá»‹ sá»‘ dÃ²ng:
			less -N anaconda-ks.cfg

			Má»Ÿ, khÃ´ng bá»c dÃ²ng dÃ i, hiá»ƒn thá»‹ mÃ u:
			less -S -R anaconda-ks.cfg

			TÃ¬m tá»« "firewall" trong file (sau khi má»Ÿ less, gÃµ):
			/firewall  (nháº¥n Enter)

			Má»Ÿ file vá»›i quyá»n root:
			sudo less /root/anaconda-ks.cfg

			LÆ°u toÃ n bá»™ ná»™i dung Ä‘ang xem vÃ o file khÃ¡c (trong less):
			s output.txt

			Theo dÃµi file (tÆ°Æ¡ng tá»± tail -f):
			less +F /var/log/messages

			ThoÃ¡t less:
			q

			---

			## Káº¾T LUáº¬N

			* `less anaconda-ks.cfg` lÃ  cÃ¡ch nhanh, an toÃ n vÃ  hiá»‡u quáº£ Ä‘á»ƒ duyá»‡t file kickstart mÃ  khÃ´ng cáº§n chá»‰nh sá»­a.
			* Káº¿t há»£p cÃ¡c tÃ¹y chá»n nhÆ° `-N`, `-S`, `-R` sáº½ giÃºp báº¡n hiá»ƒn thá»‹ theo nhu cáº§u (sá»‘ dÃ²ng, xá»­ lÃ½ dÃ²ng dÃ i, giá»¯ mÃ u).
			* DÃ¹ng `sudo less` náº¿u file thuá»™c quyá»n root. DÃ¹ng tÃ¬m kiáº¿m `/` vÃ  `n/N` Ä‘á»ƒ duyá»‡t cÃ¡c láº§n xuáº¥t hiá»‡n.

		- cmd: more anaconda-ks.cfg

			Giáº£i thÃ­ch chi tiáº¿t nháº¥t cho: `more anaconda-ks.cfg`

			---

			## Má»¤C TIÃŠU

			TÃ i liá»‡u nÃ y giáº£i thÃ­ch Ä‘áº§y Ä‘á»§ Ã½ nghÄ©a vÃ  hÃ nh vi khi dÃ¹ng lá»‡nh `more` Ä‘á»ƒ xem file `anaconda-ks.cfg` (file
			kickstart do Anaconda táº¡o ra). Ná»™i dung bao gá»“m: mÃ´ táº£ chá»©c nÄƒng, phÃ­m Ä‘iá»u khiá»ƒn, khÃ¡c biá»‡t so vá»›i `less`,
			cÃ¡c tuá»³ chá»n vÃ  vÃ­ dá»¥ thá»±c táº¿ Ä‘á»ƒ báº¡n copy trá»±c tiáº¿p vÃ o file `.txt`.

			---

			## GIá»šI THIá»†U NGáº®N

			* `more` lÃ  má»™t pager (trÃ¬nh xem trang) cá»• Ä‘iá»ƒn trÃªn Unix/Linux dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ ná»™i dung file theo trang. ThÃ­ch
			há»£p Ä‘á»ƒ xem file vá»«a vÃ  nhá» theo thá»© tá»± tá»« trÃªn xuá»‘ng.
			* CÃº phÃ¡p cÆ¡ báº£n:
			more anaconda-ks.cfg
			Má»Ÿ file `anaconda-ks.cfg` vÃ  hiá»ƒn thá»‹ tá»«ng trang má»™t.

			---

			## HÃ€NH VI VÃ€ NGUYÃŠN LÃ

			* Khi cháº¡y `more file`, chÆ°Æ¡ng trÃ¬nh Ä‘á»c Ä‘áº§u tiÃªn má»™t mÃ n hÃ¬nh (má»™t trang) ná»™i dung vÃ  dá»«ng chá» ngÆ°á»i dÃ¹ng tÆ°Æ¡ng tÃ¡c.
			* `more` khÃ´ng táº£i toÃ n bá»™ file vÃ o bá»™ nhá»› (tÃ¹y implementation), nhÆ°ng truyá»n táº£i theo thá»© tá»± tuyáº¿n tÃ­nh; nÃªn khÃ´ng thuáº­n tiá»‡n Ä‘á»ƒ nháº£y nhanh tá»›i cuá»‘i file.
			* `more` thiáº¿t káº¿ Ä‘Æ¡n giáº£n hÆ¡n `less` vÃ  cÃ³ thá»ƒ thiáº¿u má»™t sá»‘ chá»©c nÄƒng nÃ¢ng cao nhÆ° backward search hoáº·c xá»­ lÃ½ mÃ u ANSI má»™t cÃ¡ch gá»n gÃ ng.

			---

			## PHÃM Táº®T VÃ€ ÄIá»€U KHIá»‚N CÆ  Báº¢N (TRONG CHáº¾ Äá»˜ more)

			* `Space`   : sang trang tiáº¿p theo (forward one screen)
			* `Enter`   : xuá»‘ng má»™t dÃ²ng (forward one line)
			* `b`       : quay láº¡i má»™t trang (back one screen) â€” khÃ´ng pháº£i táº¥t cáº£ implementation Ä‘á»u há»— trá»£
			* `q`       : thoÃ¡t `more`
			* `h`       : hiá»ƒn thá»‹ help (phá»¥ thuá»™c phiÃªn báº£n)
			* `/pattern`: tÃ¬m xuÃ´i theo pattern (má»™t sá»‘ phiÃªn báº£n more cÃ³ há»— trá»£ tÃ¬m)

			LÆ¯U Ã: `more` cÃ³ cÃ¡c kháº£ nÄƒng phá»¥ thuá»™c phiÃªn báº£n (bsd-more, util-more, v.v.). Náº¿u báº¡n cáº§n thao tÃ¡c nÃ¢ng cao, `less` thÆ°á»ng lÃ  lá»±a chá»n tá»‘t hÆ¡n.

			---

			## Sá»° KHÃC NHAU GIá»®A more VÃ€ less

			* `less` máº¡nh hÆ¡n vÃ  linh hoáº¡t hÆ¡n: há»— trá»£ tÃ¬m ngÆ°á»£c (`?pattern`), nháº£y Ä‘áº¿n cuá»‘i (`G`), Ä‘Ã¡nh sá»‘ dÃ²ng trá»±c tiáº¿p, giá»¯ mÃ u ANSI (`-R`), vÃ  háº§u nhÆ° luÃ´n Ä‘Æ°á»£c khuyáº¿n nghá»‹ thay cho `more`.
			* `more` thÆ°á»ng chá»‰ cho phÃ©p duyá»‡t tiáº¿n, má»™t sá»‘ implementation cÃ³ há»— trá»£ quay láº¡i nhÆ°ng khÃ´ng chuáº©n hÃ³a.
			* Náº¿u báº¡n quen vá»›i `less`, dÃ¹ng `less anaconda-ks.cfg` sáº½ tiá»‡n hÆ¡n cho viá»‡c tÃ¬m kiáº¿m vÃ  nháº£y Ä‘áº¿n vá»‹ trÃ­ cá»¥ thá»ƒ.

			---

			## TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG Vá»šI more

			(cÃ¡c tuá»³ chá»n cÃ³ thá»ƒ khÃ¡c giá»¯a cÃ¡c triá»ƒn khai)

			* `-d` : hiá»ƒn thá»‹ thÃ´ng bÃ¡o nháº¹ nhÃ ng khi háº¿t trang, vÃ  hiá»ƒn thá»‹ hÆ°á»›ng dáº«n thoÃ¡t/tiáº¿p tá»¥c.
			* `-c` : váº½ láº¡i mÃ n hÃ¬nh (clear and repaint) khi chuyá»ƒn trang thay vÃ¬ cuá»™n.
			* `-s` : co nhiá»u dÃ²ng tráº¯ng liÃªn tiáº¿p thÃ nh má»™t dÃ²ng tráº¯ng.
			* `-p` : dá»«ng á»Ÿ trang tiáº¿p theo vÃ  khÃ´ng in dÃ²ng trÃ¹ng láº­p (giá»‘ng `--pattern` trÃªn má»™t vÃ i implementation).

			VÃ­ dá»¥ má»Ÿ vá»›i option `-d`:
			more -d anaconda-ks.cfg

			---

			## TÃŒM KIáº¾M VÃ€ Lá»ŒC Ná»˜I DUNG

			* `more` cÃ³ thá»ƒ há»— trá»£ tÃ¬m cÆ¡ báº£n: gÃµ `/pattern` rá»“i Enter Ä‘á»ƒ tÃ¬m xuÃ´i (tuá»³ phiÃªn báº£n). Sau khi tÃ¬m, dÃ¹ng `n` Ä‘á»ƒ tá»›i káº¿t quáº£ tiáº¿p theo.
			* Tuy nhiÃªn náº¿u muá»‘n dÃ¹ng grep trÆ°á»›c rá»“i xem káº¿t quáº£, káº¿t há»£p nhÆ° sau:
			grep -n firewall anaconda-ks.cfg | more
			(trÆ°á»›c tiÃªn in ra cÃ¡c dÃ²ng khá»›p cÃ³ sá»‘ dÃ²ng, sau Ä‘Ã³ dÃ¹ng more Ä‘á»ƒ duyá»‡t káº¿t quáº£)

			---

			## QUYá»€N TRUY Cáº¬P VÃ€ SUDO

			* Náº¿u `anaconda-ks.cfg` náº±m á»Ÿ vá»‹ trÃ­ chá»‰ root má»›i Ä‘á»c (vÃ­ dá»¥ `/root/anaconda-ks.cfg`), má»Ÿ báº±ng sudo:
			sudo more /root/anaconda-ks.cfg
			Hoáº·c dÃ¹ng `sudo less` náº¿u báº¡n quen `less`.
			* LÆ°u Ã½ khi dÃ¹ng `sudo` káº¿t há»£p vá»›i pipe: `sudo cat /root/anaconda-ks.cfg | more` cho phÃ©p báº¡n dÃ¹ng quyá»n root Ä‘á»ƒ Ä‘á»c rá»“i truyá»n vÃ o more.

			---

			## Káº¾T Há»¢P Vá»šI CÃC Lá»†NH KHÃC

			* Xem output grep:
			grep -n firewall anaconda-ks.cfg | more
			* Xem file vÃ  Ä‘Ã¡nh sá»‘ dÃ²ng trÆ°á»›c khi xem:
			nl -ba anaconda-ks.cfg | more
			* Xem vÃ  tÃ¬m káº¿t há»£p awk/sed:
			sed -n '1,200p' anaconda-ks.cfg | more   # hiá»ƒn thá»‹ dÃ²ng 1-200 rá»“i dÃ¹ng more

			---

			## Æ¯U VÃ€ NHÆ¯á»¢C ÄIá»‚M

			Æ¯u Ä‘iá»ƒm:

			* ÄÆ¡n giáº£n, cÃ³ sáºµn trÃªn háº§u háº¿t há»‡ thá»‘ng Unix cá»• Ä‘iá»ƒn.
			* ThÃ­ch há»£p Ä‘á»ƒ xem nhanh file nhá»/nhá»-vá»«a.

			NhÆ°á»£c Ä‘iá»ƒm:

			* Ãt tÃ­nh nÄƒng so vá»›i `less` (tÃ¬m ngÆ°á»£c, theo dÃµi mÃ u, nháº£y linh hoáº¡t).
			* Má»™t sá»‘ implementation khÃ´ng há»— trá»£ quay láº¡i hoáº·c tÃ¬m nÃ¢ng cao.

			---

			## VÃ Dá»¤ THá»°C Táº¾ (Dá»„ COPY)

			1. Má»Ÿ file Ä‘á»ƒ Ä‘á»c:
			more anaconda-ks.cfg

			2. Má»Ÿ file vá»›i thÃ´ng bÃ¡o hÆ°á»›ng dáº«n khi háº¿t trang:
			more -d anaconda-ks.cfg

			3. DÃ¹ng grep rá»“i xem vá»›i more:
			grep -n firewall anaconda-ks.cfg | more

			4. Má»Ÿ file root báº±ng sudo:
			sudo more /root/anaconda-ks.cfg

			5. Hiá»ƒn thá»‹ cÃ¡c dÃ²ng 1 tá»›i 200 rá»“i dÃ¹ng more:
			sed -n '1,200p' anaconda-ks.cfg | more

			---

			## KHI NÃ€O NÃŠN DÃ™NG more

			* Khi báº¡n chá»‰ cáº§n chá»©c nÄƒng xem cÆ¡ báº£n, trong cÃ¡c há»‡ cÅ© hoáº·c mÃ´i trÆ°á»ng nÆ¡i `less` khÃ´ng cÃ³ sáºµn.
			* Náº¿u báº¡n cáº§n tÃ¬m nÃ¢ng cao, nháº£y Ä‘áº¿n dÃ²ng cá»¥ thá»ƒ, hoáº·c xá»­ lÃ½ mÃ u ANSI â€” dÃ¹ng `less` thay vÃ¬ `more`.

			---

			## TÃ“M Táº®T NGáº®N Gá»ŒN (COPY NGAY)

			Má»Ÿ file Ä‘á»ƒ xem:
			more anaconda-ks.cfg

			Má»Ÿ vÃ  dá»«ng á»Ÿ má»—i trang, hiá»ƒn thá»‹ hÆ°á»›ng dáº«n:
			more -d anaconda-ks.cfg

			Xem output grep theo trang:
			grep -n firewall anaconda-ks.cfg | more

			Má»Ÿ file root:
			sudo more /root/anaconda-ks.cfg

			ThoÃ¡t more:
			q

			---

			## Káº¾T LUáº¬N

			* `more anaconda-ks.cfg` lÃ  lá»‡nh Ä‘Æ¡n giáº£n Ä‘á»ƒ xem file kickstart. Náº¿u cáº§n tÃ­nh nÄƒng máº¡nh hÆ¡n, chuyá»ƒn sang `less`.
			* Ná»™i dung trÃªn Ä‘Ã£ soáº¡n á»Ÿ dáº¡ng plain text, trÃ¬nh bÃ y rÃµ rÃ ng Ä‘á»ƒ báº¡n copy trá»±c tiáº¿p vÃ o file `.txt`.


		- cmd: head anaconda-ks.cfg

			Giáº£i thÃ­ch chi tiáº¿t nháº¥t cho: `head anaconda-ks.cfg`

			---

			## Má»¤C TIÃŠU

			TÃ i liá»‡u nÃ y giáº£i thÃ­ch toÃ n diá»‡n lá»‡nh `head anaconda-ks.cfg`: Ã½ nghÄ©a, hoáº¡t Ä‘á»™ng, cÃ¡c tÃ¹y chá»n hay dÃ¹ng, vÃ­ dá»¥
			thá»±c táº¿ khi Ã¡p dá»¥ng cho file `anaconda-ks.cfg` (kickstart do Anaconda táº¡o ra), lÆ°u Ã½ vá» quyá»n vÃ  cÃ¡ch káº¿t há»£p vá»›i
			lá»‡nh khÃ¡c. Ná»™i dung á»Ÿ dáº¡ng plain text, trÃ¬nh bÃ y rÃµ rÃ ng Ä‘á»ƒ báº¡n copy trá»±c tiáº¿p vÃ o file `.txt`.

			---

			## KHÃI QUÃT

			* `head` lÃ  chÆ°Æ¡ng trÃ¬nh Unix/Linux dÃ¹ng Ä‘á»ƒ in ra pháº§n Ä‘áº§u (top) cá»§a má»™t file hoáº·c cá»§a dá»¯ liá»‡u tá»« stdin.
			* CÃº phÃ¡p cÆ¡ báº£n:
			head anaconda-ks.cfg
			Lá»‡nh trÃªn in 10 dÃ²ng Ä‘áº§u tiÃªn cá»§a file `anaconda-ks.cfg` (máº·c Ä‘á»‹nh `head` in 10 dÃ²ng Ä‘áº§u).

			---

			## THÃ€NH PHáº¦N VÃ€ TUÌ€Y CHá»ŒN THÆ¯á»œNG DÃ™NG

			* `-n K` hoáº·c `--lines=K` : in K dÃ²ng Ä‘áº§u. VÃ­ dá»¥ `head -n 20 anaconda-ks.cfg` in 20 dÃ²ng Ä‘áº§u.
			* `-c K` hoáº·c `--bytes=K` : in K byte Ä‘áº§u. VÃ­ dá»¥ `head -c 200 anaconda-ks.cfg` in 200 byte Ä‘áº§u.
			* `-q` hoáº·c `--quiet` / `--silent` : khi in nhiá»u file, khÃ´ng in tiÃªu Ä‘á» tÃªn file.
			* `-v` hoáº·c `--verbose` : khi in nhiá»u file, luÃ´n in tiÃªu Ä‘á» tÃªn file.
			* Khi khÃ´ng cÃ³ file (hoáº·c dÃ¹ng `-`), `head` Ä‘á»c tá»« stdin: `cat file | head -n 5` hoáº·c `head -n 5 -`.

			---

			## HÃ€NH VI Vá»šI NHIá»€U FILE

			* Náº¿u truyá»n nhiá»u file: `head -n 5 file1 file2`, `head` sáº½ in tiÃªu Ä‘á» `==> file1 <==` trÆ°á»›c ná»™i dung file, rá»“i in
			5 dÃ²ng Ä‘áº§u file1, sau Ä‘Ã³ tiÃªu Ä‘á» file2 vÃ  5 dÃ²ng Ä‘áº§u file2 (trá»« khi dÃ¹ng `-q`).
			* DÃ¹ng `-q` Ä‘á»ƒ áº©n tiÃªu Ä‘á» khi báº¡n chá»‰ muá»‘n ná»™i dung liÃªn tiáº¿p.

			---

			## VÃ Dá»¤ THá»°C Táº¾ (Dá»„ COPY)

			1. In 10 dÃ²ng Ä‘áº§u (máº·c Ä‘á»‹nh):
			head anaconda-ks.cfg

			2. In 20 dÃ²ng Ä‘áº§u:
			head -n 20 anaconda-ks.cfg

			3. In 200 byte Ä‘áº§u:
			head -c 200 anaconda-ks.cfg

			4. In 5 dÃ²ng Ä‘áº§u cá»§a nhiá»u file nhÆ°ng áº©n tiÃªu Ä‘á»:
			head -n 5 -q file1 file2

			5. Äá»c tá»« stdin (vÃ­ dá»¥ káº¿t há»£p vá»›i gzip):
			zcat anaconda-ks.cfg.gz | head -n 30

			6. LÆ°u 50 dÃ²ng Ä‘áº§u vÃ o file má»›i:
			head -n 50 anaconda-ks.cfg > anaconda-ks-head50.txt

			---

			## Sá»¬ Dá»¤NG Vá»šI QUYá»€N ROOT / FILE á» THÆ¯ Má»¤C Báº¢O Máº¬T

			* Náº¿u file chá»‰ root má»›i Ä‘á»c Ä‘Æ°á»£c (vÃ­ dá»¥ `/root/anaconda-ks.cfg`), dÃ¹ng `sudo`:
			sudo head -n 20 /root/anaconda-ks.cfg
			* TrÃ¡nh dÃ¹ng `sudo head ... > out` trá»±c tiáº¿p náº¿u `>` ghi ra file cáº§n quyá»n cao â€” redirect Ä‘Æ°á»£c thá»±c hiá»‡n bá»Ÿi shell
			cá»§a user. Thay vÃ o Ä‘Ã³ dÃ¹ng:
			sudo sh -c 'head -n 20 /root/anaconda-ks.cfg > /root/head-output.txt'

			---

			## Káº¾T Há»¢P Há»®U ÃCH Vá»šI Lá»†NH KHÃC

			* Kiá»ƒm tra nhanh header hoáº·c metadata:
			head -n 50 anaconda-ks.cfg | sed -n '1,50p'
			* Káº¿t há»£p grep Ä‘á»ƒ tÃ¬m trong pháº§n Ä‘áº§u:
			head -n 200 anaconda-ks.cfg | grep -i firewall
			* DÃ¹ng vá»›i `nl` Ä‘á»ƒ cÃ³ sá»‘ dÃ²ng:
			nl -ba anaconda-ks.cfg | head -n 50
			* So sÃ¡nh pháº§n Ä‘áº§u cá»§a hai file:
			head -n 30 file1 > f1.head
			head -n 30 file2 > f2.head
			diff -u f1.head f2.head

			---

			## Sá»° KHÃC BIá»†T Vá»šI tail, sed, awk

			* `head` in Ä‘áº§u file, `tail` in cuá»‘i file. Cáº£ hai há»— trá»£ `-n` vÃ  `-c`.
			* `sed -n '1,10p' file` tÆ°Æ¡ng Ä‘Æ°Æ¡ng `head -n 10 file` nhÆ°ng `sed` linh hoáº¡t hÆ¡n náº¿u cáº§n lá»c/chá»‰nh sá»­a.
			* `awk 'NR<=10' file` cÅ©ng tÆ°Æ¡ng Ä‘Æ°Æ¡ng vÃ  cÃ³ thá»ƒ má»Ÿ rá»™ng báº±ng logic awk.

			---

			## MáºªU OUTPUT MáºªU

			Giáº£ sá»­ `anaconda-ks.cfg` báº¯t Ä‘áº§u nhÆ° sau:

			#version=DEVEL
			install
			cdrom
			lang en_US.UTF-8
			keyboard us
			network --bootproto=dhcp --device=link --onboot=on
			rootpw --iscrypted $6$...
			firewall --enabled --service=ssh
			authconfig --enableshadow --passalgo=sha512

			Cháº¡y `head -n 8 anaconda-ks.cfg` sáº½ in 8 dÃ²ng Ä‘áº§u tÆ°Æ¡ng tá»± Ä‘oáº¡n trÃªn.

			---

			## LÆ¯U Ã VÃ€ Máº¸O

			* `head` máº·c Ä‘á»‹nh in 10 dÃ²ng; náº¿u báº¡n muá»‘n sá»‘ khÃ¡c hÃ£y dÃ¹ng `-n` vá»›i giÃ¡ trá»‹ rÃµ rÃ ng.
			* Khi dÃ¹ng `head` Ä‘á»ƒ kiá»ƒm tra cáº¥u hÃ¬nh nhanh, hÃ£y káº¿t há»£p `nl` hoáº·c `-n` Ä‘á»ƒ biáº¿t sá»‘ dÃ²ng â€“ Ä‘áº·c biá»‡t khi báº¡n sáº½ sá»­a file dá»±a trÃªn vá»‹ trÃ­.
			* DÃ¹ng `head` trÆ°á»›c khi cháº¡y lá»‡nh chá»‰nh sá»­a Ä‘á»ƒ xÃ¡c nháº­n báº¡n Ä‘ang thao tÃ¡c trÃªn Ä‘Ãºng file.
			* TrÃªn má»™t sá»‘ há»‡ thá»‘ng BSD, cÃº phÃ¡p `-n` cÃ³ thá»ƒ khÃ¡c; nhÆ°ng háº§u háº¿t Linux hiá»‡n Ä‘áº¡i (GNU coreutils) há»— trá»£ `-n` vÃ  `-c` nhÆ° mÃ´ táº£.

			---

			## TÃ“M Táº®T Äá»‚ COPY NGAY

			In 10 dÃ²ng Ä‘áº§u (máº·c Ä‘á»‹nh):
			head anaconda-ks.cfg

			In 20 dÃ²ng Ä‘áº§u:
			head -n 20 anaconda-ks.cfg

			In 200 byte Ä‘áº§u:
			head -c 200 anaconda-ks.cfg

			LÆ°u 50 dÃ²ng Ä‘áº§u vÃ o file:
			head -n 50 anaconda-ks.cfg > anaconda-ks-head50.txt

			In 100 dÃ²ng Ä‘áº§u vÃ  tÃ¬m "firewall":
			head -n 100 anaconda-ks.cfg | grep -i firewall

			---


		- cmd: head -20 anaconda-ks.cfg

			Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: `head -20 anaconda-ks.cfg`

			Má»¥c tiÃªu: VÄƒn báº£n nÃ y trÃ¬nh bÃ y rÃµ rÃ ng, á»Ÿ Ä‘á»‹nh dáº¡ng **plain text** Ä‘á»ƒ báº¡n cÃ³ thá»ƒ nháº¥n nÃºt copy (sao chÃ©p toÃ n bá»™) vÃ  dÃ¡n trá»±c tiáº¿p vÃ o má»™t file `.txt`.

			---

			1. Ã nghÄ©a nhanh:

			`head -20 anaconda-ks.cfg`

			* `head` lÃ  lá»‡nh hiá»ƒn thá»‹ pháº§n Ä‘áº§u (top) cá»§a má»™t file trong há»‡ Ä‘iá»u hÃ nh UNIX/Linux.
			* `-20` (hoáº·c `-n 20`) yÃªu cáº§u `head` in ra **20 dÃ²ng Ä‘áº§u tiÃªn** cá»§a file.
			* `anaconda-ks.cfg` lÃ  tÃªn file Ä‘áº§u vÃ o (thÆ°á»ng lÃ  file kickstart Ä‘Æ°á»£c táº¡o bá»Ÿi trÃ¬nh cÃ i Ä‘áº·t Anaconda trÃªn CentOS/RHEL).

			Káº¿t luáº­n: lá»‡nh nÃ y sáº½ in 20 dÃ²ng Ä‘áº§u tiÃªn cá»§a file `anaconda-ks.cfg` ra mÃ n hÃ¬nh (stdout).

			---

			2. CÃº phÃ¡p vÃ  cÃ¡c biáº¿n thá»ƒ thÆ°á»ng dÃ¹ng:

			* `head -20 filename`        # in 20 dÃ²ng Ä‘áº§u
			* `head -n 20 filename`      # tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i trÃªn (thÆ°á»ng rÃµ rÃ ng hÆ¡n)
			* `head filename`            # máº·c Ä‘á»‹nh in 10 dÃ²ng Ä‘áº§u
			* `head -c 100 filename`     # in 100 byte Ä‘áº§u cá»§a file

			---

			3. VÃ­ dá»¥ thá»±c táº¿:

			* Hiá»ƒn thá»‹ 20 dÃ²ng Ä‘áº§u cá»§a file:

			```
			head -20 anaconda-ks.cfg
			```

			* LÆ°u 20 dÃ²ng Ä‘áº§u Ä‘Ã³ vÃ o file má»›i `top20.txt` (thay vÃ¬ in ra mÃ n hÃ¬nh):

			```
			head -n 20 anaconda-ks.cfg > top20.txt
			```

			* Xem 20 dÃ²ng cÃ¹ng vá»›i sá»‘ dÃ²ng (dÃ¹ng `nl` Ä‘á»ƒ Ä‘Ã¡nh sá»‘ dÃ²ng):

			```
			head -n 20 anaconda-ks.cfg | nl -ba
			```

			---

			4. Khi nÃ o lá»‡nh khÃ´ng hoáº¡t Ä‘á»™ng / lá»—i thÆ°á»ng gáº·p:

			* `head: cannot open 'anaconda-ks.cfg' for reading: No such file or directory`
			-> File khÃ´ng tá»“n táº¡i á»Ÿ thÆ° má»¥c hiá»‡n táº¡i. Kiá»ƒm tra Ä‘Æ°á»ng dáº«n hoáº·c chuyá»ƒn tá»›i thÆ° má»¥c chá»©a file, hoáº·c dÃ¹ng Ä‘Æ°á»ng dáº«n Ä‘áº§y Ä‘á»§ nhÆ° `/root/anaconda-ks.cfg`.

			* Quyá»n truy cáº­p: náº¿u file thuá»™c sá»Ÿ há»¯u root vÃ  báº¡n khÃ´ng cÃ³ quyá»n Ä‘á»c, dÃ¹ng `sudo`:

			```
			sudo head -n 20 /root/anaconda-ks.cfg
			```

			---

			5. Ná»™i dung file `anaconda-ks.cfg` (ngáº¯n gá»n):

			* ÄÃ¢y thÆ°á»ng lÃ  file kickstart chá»©a cÃ¡c thÃ´ng tin cáº¥u hÃ¬nh cÃ i Ä‘áº·t tá»± Ä‘á»™ng (partitioning, packages, network, scripts) do trÃ¬nh cÃ i Ä‘áº·t Anaconda táº¡o ra.
			* 20 dÃ²ng Ä‘áº§u cÃ³ thá»ƒ chá»©a header, comment, hoáº·c cÃ¡c thiáº¿t láº­p cÆ¡ báº£n nhÆ° timezone, lang, rootpw, network.

			---

			6. Template: vÃ­ dá»¥ mÃ´ phá»ng 20 dÃ²ng Ä‘áº§u (chá»‰ lÃ  vÃ­ dá»¥ minh há»a â€” **khÃ´ng pháº£i ná»™i dung thá»±c táº¿ cá»§a mÃ¡y báº¡n**):

			```
			#version=DEVEL
			# System language
			lang en_US.UTF-8
			keyboard us
			# System timezone
			timezone Asia/Ho_Chi_Minh --isUtc
			rootpw --iscrypted $6$XYZ...example...$abc
			authconfig --enableshadow --passalgo=sha512
			selinux --enforcing
			firewall --enabled --service=ssh
			# Network information
			network --bootproto=dhcp --device=eth0 --onboot=on
			bootloader --location=mbr --append="rhgb quiet"
			# Clear the Master Boot Record
			zerombr yes
			clearpart --all --initlabel
			part /boot --fstype="xfs" --size=500
			part pv.01 --size=1 --grow
			volgroup vg_system pv.01
			logvol / --fstype="xfs" --name=lv_root --vgname=vg_system --size=10240
			%packages
			@core
			@base
			%end
			```

			---

			7. HÆ°á»›ng dáº«n nhanh Ä‘á»ƒ lÆ°u pháº§n mÃ´ táº£ nÃ y vÃ o file `.txt`:

			* Náº¿u báº¡n Ä‘ang xem ná»™i dung nÃ y trong giao diá»‡n ChatGPT cÃ³ nÃºt copy, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™.

			* Hoáº·c chá»n toÃ n bá»™ (Ctrl+A) -> sao chÃ©p (Ctrl+C) -> dÃ¡n vÃ o file text má»›i vÃ  lÆ°u `head_explanation.txt`.

			* Náº¿u báº¡n cÃ³ terminal vá»›i file gá»‘c vÃ  muá»‘n lÆ°u 20 dÃ²ng Ä‘áº§u ra trá»±c tiáº¿p tá»« lá»‡nh:

			```
			head -n 20 anaconda-ks.cfg > 20dau_anaconda-ks.txt
			```

			---

			8. Ghi chÃº cuá»‘i:

			* DÃ¹ng `-n` thay vÃ¬ chá»‰ `-20` giÃºp script rÃµ rÃ ng hÆ¡n: `head -n 20 file`.
			* Äáº£m báº£o báº¡n Ä‘ang á»Ÿ Ä‘Ãºng thÆ° má»¥c hoáº·c dÃ¹ng Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i tá»›i file.

			---

			Náº¾U Báº N MUá»N: tÃ´i cÃ³ thá»ƒ táº¡o má»™t tá»‡p plain-text sáºµn sÃ ng Ä‘á»ƒ báº¡n táº£i xuá»‘ng (vÃ­ dá»¥ `head_-20_anaconda-ks.cfg_explanation.txt`).


		- cmd: tail anaconda-ks.cfg

			Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: `tail anaconda-ks.cfg`

			Má»¥c tiÃªu: VÄƒn báº£n nÃ y trÃ¬nh bÃ y rÃµ rÃ ng, á»Ÿ Ä‘á»‹nh dáº¡ng **plain text** Ä‘á»ƒ báº¡n cÃ³ thá»ƒ nháº¥n nÃºt copy (sao chÃ©p toÃ n bá»™) vÃ  dÃ¡n trá»±c tiáº¿p vÃ o má»™t file `.txt`.

			---

			1. Ã nghÄ©a nhanh:

			`tail anaconda-ks.cfg`

			* `tail` lÃ  lá»‡nh hiá»ƒn thá»‹ pháº§n cuá»‘i (bottom) cá»§a má»™t file trong há»‡ Ä‘iá»u hÃ nh UNIX/Linux.
			* Máº·c Ä‘á»‹nh, `tail` sáº½ in **10 dÃ²ng cuá»‘i cÃ¹ng** cá»§a file.
			* `anaconda-ks.cfg` lÃ  tÃªn file Ä‘áº§u vÃ o (thÆ°á»ng lÃ  file kickstart Ä‘Æ°á»£c táº¡o bá»Ÿi trÃ¬nh cÃ i Ä‘áº·t Anaconda trÃªn CentOS/RHEL).

			Káº¿t luáº­n: lá»‡nh nÃ y sáº½ in 10 dÃ²ng cuá»‘i cÃ¹ng cá»§a file `anaconda-ks.cfg` ra mÃ n hÃ¬nh (stdout).

			---

			2. CÃº phÃ¡p vÃ  cÃ¡c biáº¿n thá»ƒ thÆ°á»ng dÃ¹ng:

			* `tail filename`                # in 10 dÃ²ng cuá»‘i (máº·c Ä‘á»‹nh)
			* `tail -n 20 filename`          # in 20 dÃ²ng cuá»‘i
			* `tail -n +20 filename`         # in tá»« dÃ²ng 20 Ä‘áº¿n háº¿t file (báº¯t Ä‘áº§u táº¡i dÃ²ng 20)
			* `tail -f filename`             # theo dÃµi file (stream) vÃ  in cÃ¡c dÃ²ng má»›i khi file Ä‘Æ°á»£c ghi tiáº¿p
			* `tail -c 200 filename`         # in 200 byte cuá»‘i cá»§a file

			Ghi chÃº: `tail -n 20` tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `tail -20` trÃªn má»™t sá»‘ há»‡ thá»‘ng, nhÆ°ng `-n` rÃµ rÃ ng vÃ  Ä‘Æ°á»£c khuyáº¿n cÃ¡o.

			---

			3. VÃ­ dá»¥ thá»±c táº¿:

			* Hiá»ƒn thá»‹ 10 dÃ²ng cuá»‘i cá»§a file:

			```
			tail anaconda-ks.cfg
			```

			* Hiá»ƒn thá»‹ 20 dÃ²ng cuá»‘i:

			```
			tail -n 20 anaconda-ks.cfg
			```

			* LÆ°u 10 dÃ²ng cuá»‘i vÃ o file má»›i `last10.txt`:

			```
			tail anaconda-ks.cfg > last10.txt
			```

			* Theo dÃµi file log (in cÃ¡c dÃ²ng khi file Ä‘Æ°á»£c cáº­p nháº­t):

			```
			tail -f anaconda-ks.cfg
			```

			* Káº¿t há»£p vá»›i `grep` Ä‘á»ƒ lá»c ná»™i dung cÃ³ tá»« khÃ³a:

			```
			tail -n 100 anaconda-ks.cfg | grep -i timezone
			```

			---

			4. Khi nÃ o lá»‡nh khÃ´ng hoáº¡t Ä‘á»™ng / lá»—i thÆ°á»ng gáº·p:

			* `tail: cannot open 'anaconda-ks.cfg' for reading: No such file or directory`
			-> File khÃ´ng tá»“n táº¡i á»Ÿ thÆ° má»¥c hiá»‡n táº¡i. Kiá»ƒm tra Ä‘Æ°á»ng dáº«n hoáº·c chuyá»ƒn tá»›i thÆ° má»¥c chá»©a file, hoáº·c dÃ¹ng Ä‘Æ°á»ng dáº«n Ä‘áº§y Ä‘á»§ nhÆ° `/root/anaconda-ks.cfg`.

			* Quyá»n truy cáº­p: náº¿u file thuá»™c sá»Ÿ há»¯u root vÃ  báº¡n khÃ´ng cÃ³ quyá»n Ä‘á»c, dÃ¹ng `sudo`:

			```
			sudo tail -n 20 /root/anaconda-ks.cfg
			```

			* `tail -f` sáº½ khÃ´ng káº¿t thÃºc náº¿u file khÃ´ng Ä‘Æ°á»£c Ä‘Ã³ng â€” nháº¥n `Ctrl+C` Ä‘á»ƒ dá»«ng theo dÃµi.

			---

			5. Ná»™i dung thÆ°á»ng tháº¥y á»Ÿ pháº§n cuá»‘i cá»§a `anaconda-ks.cfg`:

			* CÃ¡c khá»‘i `%post`, `%packages`, hoáº·c `%end` thÆ°á»ng xuáº¥t hiá»‡n á»Ÿ cuá»‘i file kickstart.
			* CÃ¡c script háº­u-cÃ i Ä‘áº·t (ná»™i dung trong `%post`) cÃ³ thá»ƒ chiáº¿m pháº§n lá»›n pháº§n cuá»‘i.

			VÃ­ dá»¥ mÃ´ phá»ng 10 dÃ²ng cuá»‘i (chá»‰ minh há»a â€” **khÃ´ng pháº£i ná»™i dung thá»±c táº¿**):

			```
			%packages
			@core
			@base
			# thÃªm cÃ¡c gÃ³i khÃ¡c
			%end
			%post --log=/root/ks-post.log
			# script cÃ i Ä‘áº·t thÃªm
			echo "Post-install tasks" >> /root/ks-post.log
			%end
			```

			---

			6. HÆ°á»›ng dáº«n nhanh Ä‘á»ƒ lÆ°u pháº§n mÃ´ táº£ nÃ y vÃ o file `.txt`:

			* Náº¿u báº¡n Ä‘ang xem ná»™i dung nÃ y trong giao diá»‡n ChatGPT cÃ³ nÃºt copy, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™.

			* Hoáº·c chá»n toÃ n bá»™ (Ctrl+A) -> sao chÃ©p (Ctrl+C) -> dÃ¡n vÃ o file text má»›i vÃ  lÆ°u `tail_anaconda-ks.cfg_explanation.txt`.

			* Náº¿u báº¡n cÃ³ terminal vÃ  muá»‘n lÆ°u 10 dÃ²ng cuá»‘i trá»±c tiáº¿p tá»« lá»‡nh:

			```
			tail -n 10 anaconda-ks.cfg > 10cuoi_anaconda-ks.txt
			```

			---

			7. Máº¹o há»¯u Ã­ch:

			* DÃ¹ng `tail -f` vá»›i cÃ¡c log Ä‘ang Ä‘Æ°á»£c ghi Ä‘á»ƒ xem cáº­p nháº­t thá»i gian thá»±c.
			* Káº¿t há»£p `tail` vá»›i `head` Ä‘á»ƒ láº¥y má»™t Ä‘oáº¡n giá»¯a file, vÃ­ dá»¥ dÃ²ng 100â€“120:

			```
			tail -n +100 anaconda-ks.cfg | head -n 21
			```

			* `less` lÃ  cÃ´ng cá»¥ tá»‘t khi báº¡n muá»‘n cuá»™n vÃ  tÃ¬m trong file lá»›n: `less anaconda-ks.cfg`.

			---

			8. Ghi chÃº cuá»‘i:

			* `tail` ráº¥t há»¯u Ã­ch Ä‘á»ƒ kiá»ƒm tra pháº§n cuá»‘i cá»§a file cáº¥u hÃ¬nh, log, hoáº·c kickstart trÆ°á»›c khi sá»­ dá»¥ng.
			* LuÃ´n kiá»ƒm tra quyá»n truy cáº­p vÃ  Ä‘Æ°á»ng dáº«n file náº¿u khÃ´ng tháº¥y káº¿t quáº£ mong Ä‘á»£i.

			---

			Náº¿u báº¡n muá»‘n, tÃ´i cÃ³ thá»ƒ táº¡o tá»‡p plain-text sáºµn sÃ ng Ä‘á»ƒ báº¡n táº£i xuá»‘ng (vÃ­ dá»¥ `tail_anaconda-ks.cfg_explanation.txt`).


		- cmd: tail -2 anaconda-ks.cfg



		- cmd: tail -f anaconda-ks.cfg

			Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: `tail -f anaconda-ks.cfg`

			Má»¥c tiÃªu: VÄƒn báº£n nÃ y trÃ¬nh bÃ y rÃµ rÃ ng, á»Ÿ Ä‘á»‹nh dáº¡ng **plain text** Ä‘á»ƒ báº¡n cÃ³ thá»ƒ nháº¥n nÃºt
			copy (sao chÃ©p toÃ n bá»™) vÃ  dÃ¡n trá»±c tiáº¿p vÃ o má»™t file `.txt`.

			---

			1. Ã nghÄ©a nhanh:

			`tail -f anaconda-ks.cfg`

			* `tail` lÃ  lá»‡nh hiá»ƒn thá»‹ pháº§n cuá»‘i (bottom) cá»§a file trong há»‡ Ä‘iá»u hÃ nh UNIX/Linux.
			* TÃ¹y chá»n `-f` (follow) cho phÃ©p theo dÃµi file: lá»‡nh sáº½ in ra 10 dÃ²ng cuá»‘i hiá»‡n táº¡i rá»“i **giá»¯ phiÃªn** má»Ÿ vÃ  tiáº¿p tá»¥c in
			cÃ¡c dÃ²ng má»›i khi cÃ³ dá»¯ liá»‡u Ä‘Æ°á»£c ghi vÃ o file. Äiá»u nÃ y há»¯u Ã­ch Ä‘á»ƒ giÃ¡m sÃ¡t file log hoáº·c báº¥t ká»³ file nÃ o Ä‘ang Ä‘Æ°á»£c cáº­p nháº­t liÃªn tá»¥c.
			* `anaconda-ks.cfg` lÃ  tÃªn file Ä‘áº§u vÃ o (thÆ°á»ng lÃ  file kickstart do Anaconda táº¡o ra). á» trÆ°á»ng há»£p nÃ y, dÃ¹ng `tail -f` Ä‘á»ƒ
			theo dÃµi xem cÃ³ script, log, hoáº·c thay Ä‘á»•i má»›i nÃ o Ä‘Æ°á»£c append vÃ o file kickstart hay khÃ´ng.

			Káº¿t luáº­n: lá»‡nh nÃ y in 10 dÃ²ng cuá»‘i cá»§a `anaconda-ks.cfg` rá»“i chá» vÃ  hiá»ƒn thá»‹ thÃªm má»i dÃ²ng má»›i Ä‘Æ°á»£c thÃªm vÃ o file theo thá»i gian thá»±c.

			---

			2. CÃº phÃ¡p vÃ  cÃ¡c biáº¿n thá»ƒ thÆ°á»ng dÃ¹ng:

			* `tail -f filename`            # theo dÃµi file vÃ  in dÃ²ng má»›i khi file Ä‘Æ°á»£c ghi tiáº¿p
			* `tail -F filename`            # giá»‘ng `-f` nhÆ°ng thÃªm kháº£ nÄƒng theo dÃµi khi file bá»‹ xoay (log rotation) hoáº·c bá»‹ xÃ³a/Ä‘Æ°á»£c thay tháº¿
			* `tail -n 50 -f filename`      # báº¯t Ä‘áº§u báº±ng 50 dÃ²ng cuá»‘i, rá»“i theo dÃµi tiáº¿p
			* `tail -c 200 -f filename`     # in 200 byte cuá»‘i hiá»‡n táº¡i rá»“i theo dÃµi file
			* `tail -f filename | grep --line-buffered "ERROR"`  # lá»c (realtime) chá»‰ nhá»¯ng dÃ²ng chá»©a ERROR

			Ghi chÃº: `-F` thÆ°á»ng an toÃ n hÆ¡n khi theo dÃµi log mÃ  há»‡ thá»‘ng cÃ³ cÆ¡ cháº¿ xoay log (logrotate), vÃ¬ `-f` sáº½ theo file descriptor
			cÅ© khi file bá»‹ thay, trong khi `-F` sáº½ cá»‘ gáº¯ng tÃ¡i káº¿t ná»‘i tá»›i file má»›i.

			---

			3. VÃ­ dá»¥ thá»±c táº¿ vÃ  ká»‹ch báº£n sá»­ dá»¥ng:

			* Theo dÃµi thay Ä‘á»•i (máº·c Ä‘á»‹nh 10 dÃ²ng cuá»‘i):

			```
			tail -f anaconda-ks.cfg
			```

			* Báº¯t Ä‘áº§u vá»›i 20 dÃ²ng cuá»‘i, rá»“i theo dÃµi:

			```
			tail -n 20 -f anaconda-ks.cfg
			```

			* LÆ°u táº¥t cáº£ cÃ¡c dÃ²ng hiá»ƒn thá»‹ (bao gá»“m cÃ¡c dÃ²ng má»›i) vÃ o file khÃ¡c (vÃ­ dá»¥ lÆ°u log giÃ¡m sÃ¡t):

			```
			tail -n 0 -f anaconda-ks.cfg >> anaconda-ks_watch.log
			```

			* Lá»‡nh trÃªn `-n 0` báº¯t Ä‘áº§u khÃ´ng in dÃ²ng nÃ o cÃ³ sáºµn, chá»‰ ghi cÃ¡c dÃ²ng **má»›i** xuáº¥t hiá»‡n sau khi lá»‡nh báº¯t Ä‘áº§u.

			* Theo dÃµi vÃ  lá»c realtime (vÃ­ dá»¥ tÃ¬m tá»« khÃ³a `post` trong file kickstart):

			```
			tail -f anaconda-ks.cfg | grep --line-buffered -i post
			```

			* Náº¿u báº¡n muá»‘n theo dÃµi file qua SSH tá»« xa:

			```
			ssh user@host "tail -f /path/to/anaconda-ks.cfg"
			```

			---

			4. Dá»«ng lá»‡nh:

			* `tail -f` lÃ  má»™t tiáº¿n trÃ¬nh cháº¡y liÃªn tá»¥c. Äá»ƒ dá»«ng vÃ  trá»Ÿ vá» shell, nháº¥n `Ctrl+C`.

			---

			5. LÆ°u Ã½ vÃ  lá»—i thÆ°á»ng gáº·p:

			* `tail: cannot open 'anaconda-ks.cfg' for reading: No such file or directory`
			-> File khÃ´ng tá»“n táº¡i á»Ÿ thÆ° má»¥c hiá»‡n táº¡i. Kiá»ƒm tra Ä‘Æ°á»ng dáº«n hoáº·c chuyá»ƒn tá»›i thÆ° má»¥c chá»©a file, hoáº·c dÃ¹ng Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i.

			* Quyá»n truy cáº­p: náº¿u file thuá»™c sá»Ÿ há»¯u root vÃ  báº¡n khÃ´ng cÃ³ quyá»n Ä‘á»c, dÃ¹ng `sudo`:

			```
			sudo tail -f /root/anaconda-ks.cfg
			```

			* Khi file bá»‹ xoay (log rotation):

			* `tail -f` cÃ³ thá»ƒ tiáº¿p tá»¥c theo file descriptor cÅ© vÃ  **khÃ´ng** hiá»ƒn thá»‹ dá»¯ liá»‡u cá»§a file má»›i Ä‘Æ°á»£c táº¡o thay
			tháº¿. DÃ¹ng `tail -F` Ä‘á»ƒ theo dÃµi chÃ­nh xÃ¡c hÆ¡n trong trÆ°á»ng há»£p nÃ y.

			* Náº¿u file nÃ y khÃ´ng thÆ°á»ng xuyÃªn Ä‘Æ°á»£c ghi thÃªm (vÃ­ dá»¥ lÃ  file cáº¥u hÃ¬nh tÄ©nh), `tail -f` sáº½ chá» vÃ´ thá»i háº¡n cho
			tá»›i khi cÃ³ dá»¯ liá»‡u má»›i â€” Ä‘iá»u nÃ y bÃ¬nh thÆ°á»ng. DÃ¹ng `tail -n` náº¿u báº¡n chá»‰ cáº§n xem pháº§n cuá»‘i má»™t láº§n.

			---

			6. TÃ­nh nÄƒng liÃªn quan lá»±a chá»n khÃ¡c:

			* `less +F filename`

			* Má»Ÿ file vá»›i `less` vÃ  vÃ o cháº¿ Ä‘á»™ follow (giá»‘ng `tail -f`). Æ¯u Ä‘iá»ƒm: báº¡n cÃ³ thá»ƒ thoÃ¡t khá»i cháº¿ Ä‘á»™ follow
			báº±ng phÃ­m `Ctrl+C` trong `less` rá»“i cuá»™n ngÆ°á»£c xem ná»™i dung trÆ°á»›c Ä‘Ã³; nháº¥n `F` láº¡i Ä‘á»ƒ tiáº¿p tá»¥c follow.

			* `multitail` hoáº·c `lnav` lÃ  cÃ¡c cÃ´ng cá»¥ nÃ¢ng cao Ä‘á»ƒ theo dÃµi nhiá»u file cÃ¹ng lÃºc hoáº·c phÃ¢n tÃ­ch log
			theo cÃ¡ch trá»±c quan.

			---

			7. á»¨ng dá»¥ng cá»¥ thá»ƒ vá»›i `anaconda-ks.cfg`:

			* ThÃ´ng thÆ°á»ng `anaconda-ks.cfg` lÃ  file kickstart tÄ©nh (Ä‘Æ°á»£c táº¡o khi cÃ i Ä‘áº·t), nÃªn Ã­t khi Ä‘Æ°á»£c ghi thÃªm. Tuy
			nhiÃªn trong má»™t sá»‘ ká»‹ch báº£n tá»± Ä‘á»™ng hÃ³a, script cÃ³ thá»ƒ append (thÃªm) thÃ´ng tin vÃ o file nÃ yâ€”`tail -f` sáº½ há»¯u
			Ã­ch Ä‘á»ƒ quan sÃ¡t nhá»¯ng thay Ä‘á»•i Ä‘Ã³ ngay láº­p tá»©c.

			* Náº¿u báº¡n chá»‰ cáº§n xem pháº§n cuá»‘i file kickstart 1 láº§n, dÃ¹ng `tail -n 50 anaconda-ks.cfg` thay vÃ¬ `-f`.

			---

			8. Máº¹o thá»±c táº¿:

			* Khi theo dÃµi file lá»›n, káº¿t há»£p `grep --line-buffered` Ä‘á»ƒ trÃ¡nh buffering lÃ m cháº­m hiá»ƒn thá»‹ vá»›i pipes.
			* Náº¿u cáº§n cháº¡y lá»‡nh trong background vÃ  váº«n ghi láº¡i output, dÃ¹ng `nohup` hoáº·c `screen`/`tmux`:

			```
			nohup tail -f anaconda-ks.cfg >> anaconda_watch.out 2>&1 &
			```

			* Äá»ƒ theo dÃµi nhiá»u file cÃ¹ng lÃºc:

			```
			tail -f file1 file2
			```

			---

			9. TÃ³m táº¯t ngáº¯n:

			* `tail -f anaconda-ks.cfg` â€” in 10 dÃ²ng cuá»‘i hiá»‡n cÃ³ rá»“i chá» in thÃªm má»i dÃ²ng má»›i Ä‘Æ°á»£c append vÃ o file theo thá»i gian thá»±c.
			* DÃ¹ng `Ctrl+C` Ä‘á»ƒ dá»«ng; dÃ¹ng `-F` náº¿u cáº§n theo dÃµi file cÃ³ thá»ƒ bá»‹ xoay bá»Ÿi logrotate hoáº·c process thay tháº¿ file.


		- cmd: tail -f yum.log



		- cmd: cut -d: -f1 /etc/passwd

			Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: `cut -d: -f1 /etc/passwd`

			Má»¥c tiÃªu: VÄƒn báº£n nÃ y trÃ¬nh bÃ y rÃµ rÃ ng, á»Ÿ Ä‘á»‹nh dáº¡ng **plain text** Ä‘á»ƒ báº¡n cÃ³ thá»ƒ nháº¥n nÃºt copy (sao chÃ©p toÃ n bá»™) vÃ  dÃ¡n trá»±c tiáº¿p vÃ o má»™t file `.txt`.

			---

			1. Ã nghÄ©a nhanh:

			`cut -d: -f1 /etc/passwd`

			* `cut` lÃ  tiá»‡n Ã­ch dÃ²ng lá»‡nh dÃ¹ng Ä‘á»ƒ trÃ­ch cÃ¡c trÆ°á»ng (fields) hoáº·c cá»™t tá»« má»—i dÃ²ng cá»§a má»™t file hoáº·c luá»“ng dá»¯ liá»‡u.
			* `-d:` chá»‰ Ä‘á»‹nh **kÃ­ tá»± phÃ¢n tÃ¡ch** (delimiter) lÃ  dáº¥u hai cháº¥m `:`. Nhiá»u file cáº¥u trÃºc á»Ÿ Linux dÃ¹ng `:` lÃ m phÃ¢n tÃ¡ch (vÃ­ dá»¥ `/etc/passwd`).
			* `-f1` yÃªu cáº§u in **trÆ°á»ng thá»© nháº¥t** (field 1) cá»§a má»—i dÃ²ng â€” tá»©c pháº§n trÆ°á»›c dáº¥u `:` Ä‘áº§u tiÃªn.
			* `/etc/passwd` lÃ  file há»‡ thá»‘ng chá»©a thÃ´ng tin cÃ¡c tÃ i khoáº£n ngÆ°á»i dÃ¹ng (username, uid, gid, home, shell, ...), má»—i dÃ²ng cÃ³ dáº¡ng `username:password:UID:GID:comment:home:shell`.

			Káº¿t luáº­n: lá»‡nh nÃ y liá»‡t kÃª **tÃªn cÃ¡c user** (username) trong há»‡ thá»‘ng â€” tá»©c cá»™t Ä‘áº§u tiÃªn cá»§a file `/etc/passwd`.

			---

			2. CÃº phÃ¡p vÃ  cÃ¡c biáº¿n thá»ƒ thÆ°á»ng dÃ¹ng:

			* `cut -d: -f1 /etc/passwd`              # láº¥y trÆ°á»ng 1, delimiter ':'
			* `cut -d: -f1-3 file`                   # láº¥y trÆ°á»ng 1 Ä‘áº¿n 3
			* `cut -d: -f2`                          # láº¥y trÆ°á»ng 2
			* `cut -f1`                              # dÃ¹ng máº·c Ä‘á»‹nh delimiter lÃ  TAB (khÃ´ng cÃ³ -d)
			* `cut -c1-10 filename`                  # láº¥y cÃ¡c kÃ½ tá»± 1..10 thay vÃ¬ trÆ°á»ng

			Ghi chÃº: `-f` cháº¥p nháº­n danh sÃ¡ch/trÆ°á»ng há»£p nhÆ°: `-f1,3,5` hoáº·c `-f1-4,6`.

			---

			3. VÃ­ dá»¥ thá»±c táº¿:

			* Liá»‡t kÃª tÃªn user tá»« file há»‡ thá»‘ng:

			```
			cut -d: -f1 /etc/passwd
			```

			* Liá»‡t kÃª usernames, sáº¯p xáº¿p vÃ  loáº¡i bá» trÃ¹ng láº·p:

			```
			cut -d: -f1 /etc/passwd | sort | uniq
			```

			* Äáº¿m sá»‘ user cÃ³ trong `/etc/passwd`:

			```
			cut -d: -f1 /etc/passwd | wc -l
			```

			* Láº¥y username vÃ  home directory (cá»™t 1 vÃ  6):

			```
			cut -d: -f1,6 /etc/passwd
			```

			* Hiá»ƒn thá»‹ username cÃ¹ng shell (cá»™t 1 vÃ  7) tÃ¡ch báº±ng dáº¥u `:` (váº«n giá»¯ delimiter):

			```
			cut -d: -f1,7 /etc/passwd
			```

			(Äá»ƒ thay Ä‘á»•i delimiter Ä‘áº§u ra, báº¡n cÃ³ thá»ƒ dÃ¹ng `awk -F:` hoáº·c `sed`.)

			---

			4. So sÃ¡nh vá»›i `awk` vÃ  khi nÃªn dÃ¹ng `cut`:

			* `cut` ráº¥t nhanh vÃ  Ä‘Æ¡n giáº£n khi báº¡n chá»‰ cáº§n trÃ­ch cÃ¡c trÆ°á»ng cá»‘ Ä‘á»‹nh theo má»™t delimiter Ä‘Æ¡n giáº£n.
			* `awk -F":" '{print $1}' /etc/passwd` cÃ³ thá»ƒ lÃ m Ä‘Æ°á»£c tÆ°Æ¡ng tá»± nhÆ°ng `awk` máº¡nh hÆ¡n cho cÃ¡c biá»ƒu thá»©c vÃ  xá»­ lÃ½ phá»©c táº¡p hÆ¡n (vÃ­ dá»¥ Ä‘iá»u kiá»‡n, format output, tÃ­nh toÃ¡n).

			VÃ­ dá»¥ tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `awk`:

			```
			awk -F: '{print $1}' /etc/passwd
			```

			---

			5. Khi nÃ o lá»‡nh cÃ³ thá»ƒ gÃ¢y lá»—i / lÆ°u Ã½:

			* Náº¿u file rá»—ng hoáº·c khÃ´ng tá»“n táº¡i: `cut` khÃ´ng tráº£ káº¿t quáº£. Kiá»ƒm tra file tá»“n táº¡i vÃ  cÃ³ quyá»n Ä‘á»c.

			* Náº¿u delimiter khÃ´ng Ä‘Ãºng: vÃ­ dá»¥ file dÃ¹ng TAB thÃ¬ `-d:` sáº½ khÃ´ng tÃ¡ch chÃ­nh xÃ¡c. Khi Ä‘Ã³ bá» `-d` hoáº·c dÃ¹ng `-d$'\t'`.

			* `cut` khÃ´ng xá»­ lÃ½ tá»‘t cÃ¡c delimiter phá»©c táº¡p hoáº·c nhiá»u kÃ­ tá»± lÃ m delimiter â€” `awk` hoáº·c `perl` phÃ¹ há»£p hÆ¡n.

			* Quyá»n truy cáº­p: náº¿u `/etc/passwd` khÃ´ng Ä‘á»c Ä‘Æ°á»£c (hiáº¿m), cáº§n quyá»n root â€” tuy nhiÃªn `/etc/passwd` thÆ°á»ng cÃ³ quyá»n Ä‘á»c cho má»i user.

			---

			6. Má»™t sá»‘ ká»‹ch báº£n dÃ¹ng thá»±c táº¿:

			* Kiá»ƒm tra nhanh danh sÃ¡ch user há»‡ thá»‘ng.
			* DÃ¹ng trong script backup hoáº·c bÃ¡o cÃ¡o (vÃ­ dá»¥ láº¥y user Ä‘á»ƒ Ä‘Äƒng kÃ½ vÃ o há»‡ thá»‘ng giÃ¡m sÃ¡t).
			* Káº¿t há»£p vá»›i `grep` Ä‘á»ƒ lá»c user cá»¥ thá»ƒ: `grep "^tuan:" /etc/passwd | cut -d: -f1`.

			---

			7. LÆ°u output ra file `.txt`:

			* LÆ°u danh sÃ¡ch usernames vÃ o file `users.txt`:

			```
			cut -d: -f1 /etc/passwd > users.txt
			```

			* ThÃªm vÃ o file (append):

			```
			cut -d: -f1 /etc/passwd >> users.txt
			```

			* Káº¿t há»£p sort vÃ  loáº¡i trÃ¹ng trÆ°á»›c khi lÆ°u:

			```
			cut -d: -f1 /etc/passwd | sort | uniq > unique_users.txt
			```

			---

			8. VÃ­ dá»¥ minh há»a Ä‘áº§u ra (giáº£ sá»­ há»‡ thá»‘ng cÃ³ cÃ¡c user):

			```
			root
			bin
			daemon
			adm
			lp
			sync
			shutdown
			halt
			mail
			operator
			tuan
			guest
			```

			(CÃ¡c dÃ²ng trÃªn chá»‰ lÃ  vÃ­ dá»¥ minh há»a.)

			---

			9. Máº¹o nÃ¢ng cao:

			* DÃ¹ng `getent passwd` thay cho `cat /etc/passwd` náº¿u báº¡n muá»‘n láº¥y thÃ´ng tin user tá»« nguá»“n NSS (Network Information Service, LDAP, nsswitch), vÃ­ dá»¥ khi há»‡ thá»‘ng dÃ¹ng LDAP:

			```
			getent passwd | cut -d: -f1
			```

			* DÃ¹ng `while IFS=: read user pass uid gid gecos home shell; do echo "$user $home"; done < /etc/passwd` náº¿u cáº§n xá»­ lÃ½ tá»«ng trÆ°á»ng theo logic trong shell script.

			---

			10. TÃ³m táº¯t ngáº¯n:

			* `cut -d: -f1 /etc/passwd` â€” trÃ­ch trÆ°á»ng 1 (username) tá»« má»—i dÃ²ng cá»§a file `/etc/passwd`.
			* Nhanh, Ä‘Æ¡n giáº£n, thÃ­ch há»£p cho thao tÃ¡c one-liner vÃ  script cÆ¡ báº£n.

			---

			HÆ°á»›ng dáº«n lÆ°u nhanh:

			* Copy toÃ n bá»™ ná»™i dung nÃ y (nháº¥n nÃºt Copy á»Ÿ khung tÃ i liá»‡u bÃªn cáº¡nh) vÃ  dÃ¡n vÃ o file `cut_-d_colon_f1_etc_passwd_explanation.txt`.


		- cmd: cut -d: -f3 /etc/passwd



		- cmd: awk -F': ' ' {print $1}' /etc/passwd

			Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: `awk -F': ' '{print $1}' /etc/passwd`

			LÆ¯U Ã NGAY: CÃº phÃ¡p báº¡n viáº¿t cÃ³ váº» thiáº¿u hoáº·c nháº§m dáº¥u nhÃ¡y (vÃ­ dá»¥: `awk -F': ' ' {print $1}' /etc/passwd`). PhiÃªn báº£n Ä‘Ãºng vÃ  hay dÃ¹ng lÃ :

			* `awk -F': ' '{print $1}' /etc/passwd`    (dÃ¹ng delimiter lÃ  hai cháº¥m theo sau 1 dáº¥u cÃ¡ch)
			* hoáº·c thÆ°á»ng gáº·p hÆ¡n: `awk -F':' '{print $1}' /etc/passwd`   (delimiter chá»‰ lÃ  dáº¥u hai cháº¥m `:`)

			TÃ´i sáº½ giáº£i thÃ­ch cáº£ hai trÆ°á»ng há»£p, vÃ  nÃªu ra Ä‘iá»ƒm cáº§n chÃº Ã½.

			---

			1. Ã nghÄ©a ngáº¯n gá»n (phiÃªn báº£n chuáº©n):

			`awk -F':' '{print $1}' /etc/passwd`

			* `awk` lÃ  trÃ¬nh thÃ´ng dá»‹ch ngÃ´n ngá»¯ xá»­ lÃ½ vÄƒn báº£n/suáº¥t (pattern scanning and processing). Ráº¥t máº¡nh Ä‘á»ƒ tÃ¡ch trÆ°á»ng, lá»c, vÃ  format dá»¯ liá»‡u.
			* `-F':'` Ä‘áº·t **delimiter** (kÃ­ tá»± phÃ¢n tÃ¡ch trÆ°á»ng) lÃ  `:`. Má»—i dÃ²ng trong `/etc/passwd` cÃ³ cÃ¡c trÆ°á»ng phÃ¢n tÃ¡ch báº±ng `:`.
			* `'{print $1}'` lÃ  chÆ°Æ¡ng trÃ¬nh `awk` in ra **trÆ°á»ng thá»© nháº¥t** cá»§a má»—i dÃ²ng (biáº¿n `$1` trong awk tÆ°Æ¡ng á»©ng trÆ°á»ng 1).
			* `/etc/passwd` lÃ  file Ä‘áº§u vÃ o chá»©a thÃ´ng tin user.

			Káº¿t luáº­n: lá»‡nh nÃ y in ra **username** (cá»™t Ä‘áº§u tiÃªn) tá»« má»—i dÃ²ng trong `/etc/passwd`.

			---

			2. KhÃ¡c biá»‡t giá»¯a `-F': '` vÃ  `-F':'`:

			* `-F': '` nghÄ©a lÃ  `awk` sáº½ coi **dáº¥u hai cháº¥m + má»™t dáº¥u cÃ¡ch** (`": "`) lÃ  delimiter. Äiá»u nÃ y chá»‰ Ä‘Ãºng náº¿u file
			thá»±c sá»± cÃ³ má»™t dáº¥u cÃ¡ch ngay sau dáº¥u hai cháº¥m (vÃ­ dá»¥ `field1: field2`).
			* `/etc/passwd` **KHÃ”NG** cÃ³ khoáº£ng tráº¯ng sau dáº¥u hai cháº¥m theo chuáº©n: cáº¥u trÃºc lÃ  `user:passwd:UID:GID:gecos:home:shell` (khÃ´ng
			cÃ³ space). VÃ¬ váº­y `-F': '` thÆ°á»ng **sai** khi dÃ¹ng vá»›i `/etc/passwd` â€” nÃ³ sáº½ coi cáº£ dÃ²ng lÃ  má»™t field (khÃ´ng tÃ¡ch Ä‘Æ°á»£c), dáº«n tá»›i `$1` trá»Ÿ thÃ nh toÃ n bá»™ dÃ²ng.

			VÃ¬ váº­y: dÃ¹ng `-F':'` cho `/etc/passwd`.

			---

			3. Váº¥n Ä‘á» cÃº phÃ¡p vÃ  dáº¥u nhÃ¡y (thá»±c táº¿ hay gáº·p):

			* Shell phÃ¢n tÃ­ch dáº¥u nhÃ¡y Ä‘Æ¡n `'` ká»¹: `awk -F': ' '{print $1}' /etc/passwd` lÃ  há»£p lá»‡ náº¿u Ä‘áº·t Ä‘Ãºng nhÆ° trÃªn (má»™t cáº·p nhÃ¡y
			Ä‘Æ¡n bao chÆ°Æ¡ng trÃ¬nh awk).
			* CÃº phÃ¡p sai thÆ°á»ng tháº¥y: `awk -F': ' ' {print $1}' /etc/passwd` (thá»«a má»™t dáº¥u nhÃ¡y Ä‘Æ¡n tÃ¡ch rá»i) -> sáº½ gÃ¢y lá»—i `bash: unexpected
			EOF while looking for matching ``'``` hoáº·c `awk: cmd. line:1: '{print $1}` error.
			* Náº¿u báº¡n cáº§n dÃ¹ng dáº¥u nhÃ¡y bÃªn trong, cÃ¢n nháº¯c dÃ¹ng nhÃ¡y kÃ©p cho pháº§n `-F` hoáº·c escape: `awk -F': ' '{print $1}'` (nhÆ° vÃ­ dá»¥)
			hoáº·c `awk -F": " '{print $1}'` (dÃ¹ng nhÃ¡y kÃ©p bao ngoÃ i cÃ¹ng trÃªn shell tÆ°Æ¡ng thÃ­ch). NhÆ°ng lÆ°u Ã½ escaping khÃ¡c nhau giá»¯a shell vÃ  awk.

			---

			4. VÃ­ dá»¥ thá»±c táº¿ Ä‘Ãºng vÃ  tÆ°Æ¡ng Ä‘Æ°Æ¡ng:

			* In usernames (phiÃªn báº£n chuáº©n):

			```
			awk -F':' '{print $1}' /etc/passwd
			```

			* TÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `cut`:

			```
			cut -d: -f1 /etc/passwd
			```

			* Náº¿u file cÃ³ dáº¡ng `key: value` (cÃ³ space sau `:`) thÃ¬ má»›i dÃ¹ng `-F': '`:

			```
			echo "name: Tuan" | awk -F': ' '{print $1}'   # in 'name'
			```

			* Láº¥y username vÃ  shell (cá»™t 1 vÃ  7) báº±ng AWK:

			```
			awk -F':' '{print $1, $7}' /etc/passwd
			```

			---

			5. Káº¿t há»£p lá»c vÃ  xá»­ lÃ½ nÃ¢ng cao:

			* Lá»c user cÃ³ shell lÃ  `/bin/bash`:

			```
			awk -F':' '$7=="/bin/bash" {print $1}' /etc/passwd
			```

			* Äáº¿m sá»‘ user:

			```
			awk -F':' 'END{print NR}' /etc/passwd
			```

			* In user vÃ  home dÆ°á»›i dáº¡ng `user:home`:

			```
			awk -F':' '{print $1":"$6}' /etc/passwd
			```

			---

			6. LÆ°u output vÃ o file `.txt`:

			* LÆ°u danh sÃ¡ch usernames vÃ o file `users.txt`:

			```
			awk -F':' '{print $1}' /etc/passwd > users.txt
			```

			* Ghi thÃªm (append):

			```
			awk -F':' '{print $1}' /etc/passwd >> users.txt
			```

			---

			7. Khi dÃ¹ng `getent` thay tháº¿ (khi há»‡ thá»‘ng dÃ¹ng LDAP/NSS):

			Náº¿u há»‡ thá»‘ng láº¥y user tá»« LDAP/NIS, dÃ¹ng `getent passwd` Ä‘á»ƒ cÃ³ káº¿t quáº£ há»£p nháº¥t tá»« NSS:

			```
			getent passwd | awk -F':' '{print $1}'
			```

			---

			8. TÃ³m táº¯t vÃ  khuyáº¿n nghá»‹:

			* Náº¿u má»¥c tiÃªu lÃ  trÃ­ch username tá»« `/etc/passwd`, dÃ¹ng `awk -F':' '{print $1}' /etc/passwd` hoáº·c `cut -d: -f1 /etc/passwd`.
			* **Äá»«ng dÃ¹ng `-F': '` cho `/etc/passwd`** vÃ¬ file khÃ´ng cÃ³ khoáº£ng tráº¯ng sau dáº¥u hai cháº¥m.
			* ChÃº Ã½ Ä‘áº·t Ä‘Ãºng dáº¥u nhÃ¡y khi viáº¿t chÆ°Æ¡ng trÃ¬nh `awk` trong shell: toÃ n bá»™ chÆ°Æ¡ng trÃ¬nh awk nÃªn Ä‘Æ°á»£c bao trong má»™t cáº·p nhÃ¡y Ä‘Æ¡n `'{ ... }'`.

		- cmd: sed 's/coronavirus/covid19/g' samplefile.txt

			Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: `sed 's/coronavirus/covid19/g' samplefile.txt`

			Má»¥c tiÃªu: VÄƒn báº£n nÃ y trÃ¬nh bÃ y rÃµ rÃ ng, á»Ÿ Ä‘á»‹nh dáº¡ng **plain text** Ä‘á»ƒ báº¡n cÃ³ thá»ƒ nháº¥n nÃºt copy (sao chÃ©p
			toÃ n bá»™) vÃ  dÃ¡n trá»±c tiáº¿p vÃ o má»™t file `.txt`.

			---

			1. Ã nghÄ©a nhanh:

			* `sed` lÃ  má»™t bá»™ lá»c dÃ²ng (stream editor) ráº¥t phá»• biáº¿n trÃªn Unix/Linux, dÃ¹ng Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c phÃ©p biáº¿n Ä‘á»•i
			vÄƒn báº£n theo kiá»ƒu tÃ¬m-thay tháº¿, chÃ¨n, xÃ³a, ...
			* `s/coronavirus/covid19/g` lÃ  biá»ƒu thá»©c thay tháº¿ (substitute):

			* `s` = substitute (thay tháº¿)
			* `coronavirus` = máº«u (pattern) cáº§n tÃ¬m
			* `covid19` = chuá»—i thay tháº¿
			* `g` = flag "global": thay tháº¿ **táº¥t cáº£** cÃ¡c láº§n xuáº¥t hiá»‡n trong má»—i dÃ²ng (khÃ´ng chá»‰ láº§n xuáº¥t hiá»‡n Ä‘áº§u tiÃªn)
			* `samplefile.txt` = tÃªn file Ä‘áº§u vÃ o.

			Káº¿t luáº­n: lá»‡nh in ra ná»™i dung cá»§a `samplefile.txt` vá»›i táº¥t cáº£ cÃ¡c tá»« `coronavirus` Ä‘Æ°á»£c thay báº±ng `covid19` (káº¿t quáº£
			Ä‘Æ°á»£c in ra stdout). File gá»‘c **khÃ´ng** bá»‹ thay Ä‘á»•i (trá»« khi báº¡n dÃ¹ng tÃ¹y chá»n `-i`).

			---

			2. CÃ¡ch cháº¡y vÃ  vÃ­ dá»¥ káº¿t quáº£:

			* Chá»‰ in káº¿t quáº£ ra mÃ n hÃ¬nh:

			```
			sed 's/coronavirus/covid19/g' samplefile.txt
			```

			* LÆ°u káº¿t quáº£ vÃ o file má»›i `output.txt`:

			```
			sed 's/coronavirus/covid19/g' samplefile.txt > output.txt
			```

			* Thá»±c hiá»‡n thay Ä‘á»•i trá»±c tiáº¿p trong file (in-place) vÃ  giá»¯ báº£n sao lÆ°u `samplefile.txt.bak`:

			```
			sed -i.bak 's/coronavirus/covid19/g' samplefile.txt
			```

			* Sau lá»‡nh trÃªn: `samplefile.txt` sáº½ Ä‘Æ°á»£c sá»­a, báº£n gá»‘c cÅ© Ä‘Æ°á»£c lÆ°u á»Ÿ `samplefile.txt.bak`.

			* Thá»±c hiá»‡n thay Ä‘á»•i trá»±c tiáº¿p khÃ´ng táº¡o báº£n sao lÆ°u (cáº©n tháº­n):

			```
			sed -i 's/coronavirus/covid19/g' samplefile.txt
			```

			(LÆ°u Ã½: cÃº phÃ¡p `-i` khÃ¡c nhau nháº¹ giá»¯a GNU sed vÃ  BSD/macOS sed â€” xem pháº§n LÆ°u Ã½ bÃªn dÆ°á»›i.)

			---

			3. Giáº£i thÃ­ch chi tiáº¿t tá»«ng pháº§n cá»§a biá»ƒu thá»©c `s/old/new/g`:

			* `s` â€” chá»‰ thá»‹ substitute.
			* Dáº¥u `/` â€” kÃ½ tá»± phÃ¢n cÃ¡ch máº·c Ä‘á»‹nh (delimiter). Báº¡n cÃ³ thá»ƒ dÃ¹ng kÃ½ tá»± khÃ¡c (vÃ­ dá»¥ `|`) khi máº«u hoáº·c chuá»—i thay tháº¿
			chá»©a dáº¥u `/`.

			* VÃ­ dá»¥: `sed 's|/old/path|/new/path|g' file` Ä‘á»ƒ trÃ¡nh pháº£i escape cÃ¡c dáº¥u `/`.
			* `old` â€” má»™t biá»ƒu thá»©c chÃ­nh quy (regular expression). Náº¿u báº¡n muá»‘n tÃ¬m chÃ­nh xÃ¡c chuá»—i chá»¯ thÆ°á»ng, Ä‘áº£m báº£o pattern
			khÃ´ng chá»©a kÃ½ tá»± metacharacters hoáº·c Ä‘Ã£ Ä‘Æ°á»£c escape.
			* `new` â€” chuá»—i thay tháº¿. Má»™t vÃ i kÃ½ tá»± Ä‘áº·c biá»‡t trong pháº§n thay tháº¿:

			* `&` Ä‘áº¡i diá»‡n cho toÃ n bá»™ pháº§n khá»›p (matched portion).
			* `\1`, `\2`, ... tham chiáº¿u Ä‘áº¿n cÃ¡c nhÃ³m báº¯t (capture groups) trong pattern khi dÃ¹ng ngoáº·c `\( ... \)` hoáº·c khi dÃ¹ng
			extended regex `(...)` vá»›i `-E`.
			* `g` â€” global trÃªn má»—i dÃ²ng; khÃ´ng cÃ³ `g` thÃ¬ chá»‰ thay láº§n khá»›p Ä‘áº§u má»—i dÃ²ng.
			* Báº¡n cÃ³ thá»ƒ thÃªm nhiá»u flag (vÃ­ dá»¥ `i` cho case-insensitive trÃªn má»™t sá»‘ phiÃªn báº£n): `s/old/new/gi`.

			---

			4. LÆ°u Ã½ vá» phÃ¢n biá»‡t chá»¯ hoa/thÆ°á»ng:

			* Máº·c Ä‘á»‹nh `sed` phÃ¢n biá»‡t chá»¯ hoa/thÆ°á»ng (case-sensitive). Náº¿u muá»‘n khÃ´ng phÃ¢n biá»‡t, cÃ³ thá»ƒ dÃ¹ng:

			* `sed 's/coronavirus/covid19/gI'` hoáº·c `sed 's/coronavirus/covid19/gi'` trÃªn cÃ¡c phiÃªn báº£n `sed` há»— trá»£ flag `I`/`i` (thÆ°á»ng
			GNU sed há»— trá»£ `I`/`i`; má»™t sá»‘ BSD/macOS sed cÃ³ khÃ¡c biá»‡t).
			* Hoáº·c dÃ¹ng biá»ƒu thá»©c regex khÃ´ng phÃ¢n biá»‡t nhÆ° `sed -E 's/[cC][oO][rR].../covid19/g'` (ráº¥t dÃ i) hoáº·c
			dÃ¹ng `perl -pe 's/coronavirus/covid19/gi'` náº¿u cáº§n tÆ°Æ¡ng thÃ­ch Ä‘áº§y Ä‘á»§.

			---

			5. TrÆ°á»ng há»£p máº«u chá»©a kÃ½ tá»± Ä‘áº·c biá»‡t hoáº·c dáº¥u `/`:

			* Náº¿u máº«u hoáº·c thay tháº¿ chá»©a `/`, dÃ¹ng delimiter khÃ¡c Ä‘á»ƒ trÃ¡nh escape ráº¯c rá»‘i:

			```
			sed 's|http://old/url|https://new/url|g' file
			```

			* Náº¿u máº«u chá»©a kÃ½ tá»± regex Ä‘áº·c biá»‡t (., *, ?, [, ], ^, $, etc.), hÃ£y escape chÃºng báº±ng `\` náº¿u muá»‘n khá»›p nguyÃªn vÄƒn.

			---

			6. VÃ­ dá»¥ nÃ¢ng cao (nhÃ³m báº¯t vÃ  tham chiáº¿u):

			* Giá»¯ pháº§n Ä‘áº§u vÃ  thay Ä‘á»•i pháº§n sau:

			```
			# giáº£ sá»­ cÃ³ 'corona-virus' vÃ  báº¡n muá»‘n thÃ nh 'corona_v1rus'
			sed -E 's/(corona)-(virus)/\1_\2/g' samplefile.txt
			```

			* DÃ¹ng `&` Ä‘á»ƒ lá»“ng láº¡i pháº§n khá»›p:

			```
			# thÃªm dáº¥u ngoáº·c quanh tá»« khá»›p
			sed 's/coronavirus/(&)/g' samplefile.txt
			```

			---

			7. Vá» in-place editing (-i) vÃ  backup:

			* An toÃ n: dÃ¹ng `-i.bak` Ä‘á»ƒ tá»± Ä‘á»™ng táº¡o file sao lÆ°u trÆ°á»›c khi sá»­a:

			```
			sed -i.bak 's/coronavirus/covid19/g' samplefile.txt
			```

			* TrÃªn macOS/BSD, cÃº phÃ¡p `-i` Ä‘Ã´i khi yÃªu cáº§u tham sá»‘ backup ngay sau `-i` (vÃ­ dá»¥ `-i ''` Ä‘á»ƒ khÃ´ng táº¡o backup):

			```
			# macOS: sá»­a in-place khÃ´ng backup
			sed -i '' 's/coronavirus/covid19/g' samplefile.txt
			```

			* TrÃªn GNU (Linux) báº¡n cÃ³ thá»ƒ dÃ¹ng `-i` hoáº·c `-i.bak` nhÆ° vÃ­ dá»¥ á»Ÿ trÃªn.

			---

			8. Hiá»‡u á»©ng vá»›i encoding vÃ  binary files:

			* `sed` hoáº¡t Ä‘á»™ng tá»‘t vá»›i vÄƒn báº£n; náº¿u file dÃ¹ng encoding khÃ¡c (vÃ­ dá»¥ UTF-16) hoáº·c lÃ  binary, káº¿t quáº£ cÃ³ thá»ƒ khÃ´ng Ä‘Ãºng. Äáº£m
			báº£o file lÃ  text (UTF-8/ASCII) khi thao tÃ¡c.

			---

			9. VÃ­ dá»¥ Ä‘áº§y Ä‘á»§: giáº£ sá»­ `samplefile.txt` cÃ³ ná»™i dung:

			```
			The new coronavirus outbreak started in 2019.
			coronavirus cases are reported worldwide.
			Some mention CoronaVirus or CORONAVIRUS in different cases.
			```

			* Cháº¡y lá»‡nh gá»‘c:

			```
			sed 's/coronavirus/covid19/g' samplefile.txt
			```

			Káº¿t quáº£ (case-sensitive) sáº½ thay:

			```
			The new coronavirus outbreak started in 2019.
			covid19 cases are reported worldwide.
			Some mention CoronaVirus or CORONAVIRUS in different cases.
			```

			* Náº¿u muá»‘n thay má»i biáº¿n thá»ƒ chá»¯ hoa/thÆ°á»ng, dÃ¹ng phiÃªn báº£n há»— trá»£ `i` flag hoáº·c perl:

			```
			perl -pe 's/coronavirus/covid19/gi' samplefile.txt
			```

			---

			10. Máº¹o vÃ  lÆ°u Ã½ an toÃ n:

			* LuÃ´n thá»­ trÆ°á»›c báº±ng cÃ¡ch redirect ra file má»›i hoáº·c chá»‰ in ra terminal trÆ°á»›c khi dÃ¹ng `-i` Ä‘á»ƒ trÃ¡nh lÃ m há»ng dá»¯ liá»‡u.
			* Náº¿u thao tÃ¡c trÃªn nhiá»u file, cÃ¢n nháº¯c backup toÃ n bá»™ thÆ° má»¥c trÆ°á»›c.
			* Khi dÃ¹ng trong script, kiá»ƒm tra exit status vÃ  báº¯t lá»—i náº¿u `sed` khÃ´ng cháº¡y Ä‘Æ°á»£c.

			---

			11. TÃ³m táº¯t ngáº¯n:

			* `sed 's/coronavirus/covid19/g' samplefile.txt` thay táº¥t cáº£ (`g`) cÃ¡c chuá»—i `coronavirus` báº±ng `covid19` trong má»—i dÃ²ng, in káº¿t quáº£ ra stdout.
			* DÃ¹ng `-i` Ä‘á»ƒ sá»­a file trá»±c tiáº¿p; dÃ¹ng delimiter khÃ¡c (`|`) náº¿u máº«u chá»©a `/`.
			* ChÃº Ã½ case-sensitivity vÃ  khÃ¡c biá»‡t giá»¯a GNU sed vÃ  BSD/macOS sed khi cáº§n flags hoáº·c cÃº phÃ¡p `-i`.

		- cmd: sed -i 's/covid19/nothing/g' samplefile.txt

			Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: `sed -i 's/covid19/nothing/g' samplefile.txt`

			Má»¥c tiÃªu: VÄƒn báº£n nÃ y trÃ¬nh bÃ y rÃµ rÃ ng, á»Ÿ Ä‘á»‹nh dáº¡ng **plain text** Ä‘á»ƒ báº¡n cÃ³ thá»ƒ nháº¥n nÃºt copy (sao
			chÃ©p toÃ n bá»™) vÃ  dÃ¡n trá»±c tiáº¿p vÃ o má»™t file `.txt`.

			---

			1. Ã nghÄ©a nhanh:

			* `sed` lÃ  trÃ¬nh xá»­ lÃ½ vÄƒn báº£n theo luá»“ng (stream editor) trÃªn Unix/Linux, thÆ°á»ng dÃ¹ng Ä‘á»ƒ tÃ¬m-thay tháº¿,
			chÃ¨n, xÃ³a cÃ¡c dÃ²ng hoáº·c pháº§n cá»§a dÃ²ng.
			* `-i` (in-place) yÃªu cáº§u `sed` **sá»­a trá»±c tiáº¿p** file Ä‘áº§u vÃ o thay vÃ¬ in káº¿t quáº£ ra stdout. Khi dÃ¹ng `-i`, file
			`samplefile.txt` sáº½ Ä‘Æ°á»£c cáº­p nháº­t vá»›i cÃ¡c thay Ä‘á»•i.
			* `'s/covid19/nothing/g'` lÃ  biá»ƒu thá»©c substitute:

			* `s` = substitute (thay tháº¿)
			* `covid19` = máº«u cáº§n tÃ¬m
			* `nothing` = chuá»—i thay tháº¿
			* `g` = global: thay tháº¿ **táº¥t cáº£** cÃ¡c láº§n khá»›p trong má»—i dÃ²ng (khÃ´ng chá»‰ láº§n Ä‘áº§u)
			* `samplefile.txt` lÃ  file Ä‘áº§u vÃ o sáº½ bá»‹ sá»­a.

			Káº¿t luáº­n: lá»‡nh nÃ y thay má»i xuáº¥t hiá»‡n cá»§a `covid19` báº±ng `nothing` trong file `samplefile.txt`, thay Ä‘á»•i Ä‘Æ°á»£c ghi
			trá»±c tiáº¿p vÃ o file.

			---

			2. VÃ­ dá»¥ vÃ  cÃ¡c biáº¿n thá»ƒ an toÃ n:

			* Thá»­ trÆ°á»›c (khÃ´ng sá»­a file, chá»‰ in káº¿t quáº£):

			```
			sed 's/covid19/nothing/g' samplefile.txt
			```

			* LÆ°u káº¿t quáº£ vÃ o file má»›i (an toÃ n):

			```
			sed 's/covid19/nothing/g' samplefile.txt > samplefile_fixed.txt
			```

			* Sá»­a in-place nhÆ°ng táº¡o báº£n sao lÆ°u tá»± Ä‘á»™ng vá»›i pháº§n Ä‘uÃ´i `.bak`:

			```
			sed -i.bak 's/covid19/nothing/g' samplefile.txt
			```

			* Sau lá»‡nh nÃ y: `samplefile.txt` Ä‘Ã£ bá»‹ sá»­a; báº£n gá»‘c trÆ°á»›c khi sá»­a váº«n náº±m á»Ÿ `samplefile.txt.bak`.

			* TrÃªn macOS/BSD (cÃº phÃ¡p `-i` khÃ¡c):

			```
			# macOS: táº¡o file backup
			sed -i .bak 's/covid19/nothing/g' samplefile.txt

			# macOS: khÃ´ng táº¡o backup (chÃº Ã½ pháº£i Ä‘á»ƒ '' ngay sau -i)
			sed -i '' 's/covid19/nothing/g' samplefile.txt
			```

			---

			3. Case-sensitivity (phÃ¢n biá»‡t chá»¯ hoa/thÆ°á»ng):

			* Máº·c Ä‘á»‹nh `sed` phÃ¢n biá»‡t chá»¯ hoa/thÆ°á»ng (case-sensitive). Lá»‡nh gá»‘c chá»‰ thay `covid19` viáº¿t Ä‘Ãºng nhÆ° váº­y, khÃ´ng
			thay `COVID19` hay `Covid19`.

			* Náº¿u muá»‘n khÃ´ng phÃ¢n biá»‡t chá»¯ hoa/thÆ°á»ng (case-insensitive):

			* Má»™t sá»‘ `sed` há»— trá»£ flag `I` hoáº·c `i`: `sed -i 's/covid19/nothing/gi' samplefile.txt` (kiá»ƒm tra phiÃªn báº£n `sed` cá»§a
			báº¡n vÃ¬ flag cÃ³ thá»ƒ khÃ¡c nhau trÃªn BSD/macOS).
			* DÃ¹ng `perl` lÃ  cÃ¡ch tÆ°Æ¡ng thÃ­ch tá»‘t: `perl -pe 's/covid19/nothing/gi' -i.bak samplefile.txt`.

			---

			4. Chá»‰ thay tá»« nguyÃªn váº¹n (word boundary):

			* Náº¿u báº¡n chá»‰ muá»‘n thay chÃ­nh xÃ¡c tá»« `covid19` (khÃ´ng thay cÃ¡c chuá»—i chá»©a nÃ³ nhÆ° `covid1999`), hÃ£y dÃ¹ng ranh giá»›i tá»«:

			```
			# GNU sed: dÃ¹ng \< vÃ  \> Ä‘á»ƒ chá»‰ ranh giá»›i tá»«
			sed -i 's/\<covid19\>/nothing/g' samplefile.txt
			```

			* Hoáº·c dÃ¹ng `perl` vá»›i \b (portable & máº¡nh hÆ¡n):

			```
			perl -pe 's/\bcovid19\b/nothing/gi' -i.bak samplefile.txt
			```

			---

			5. Khi máº«u hoáº·c thay tháº¿ chá»©a kÃ½ tá»± `/` hoáº·c kÃ½ tá»± Ä‘áº·c biá»‡t:

			* Báº¡n cÃ³ thá»ƒ Ä‘á»•i delimiter Ä‘á»ƒ dá»… Ä‘á»c:

			```
			sed -i 's|/old/path/covid19|/new/path/nothing|g' file
			```

			* Náº¿u pattern chá»©a regex metacharacters (. * ? [ ] ^ $ ...), hÃ£y escape (`\`) náº¿u muá»‘n khá»›p nguyÃªn vÄƒn.

			---

			6. Kháº£ nÄƒng phá»¥c há»“i khi dÃ¹ng `-i` (an toÃ n):

			* LuÃ´n sao lÆ°u trÆ°á»›c khi dÃ¹ng `-i` trÃªn táº­p tin quan trá»ng: `cp samplefile.txt samplefile.txt.pre-sed` hoáº·c
			dÃ¹ng `-i.bak` Ä‘á»ƒ `sed` tá»± táº¡o backup.
			* Náº¿u báº¡n Ä‘Ã£ dÃ¹ng `sed -i` mÃ  khÃ´ng táº¡o backup, báº¡n cÃ³ thá»ƒ cá»‘ phá»¥c há»“i náº¿u há»‡ thá»‘ng cÃ³ snapshot (vÃ­ dá»¥ `git` history,
			`rsync` backup, `filesystem snapshots`) â€” náº¿u khÃ´ng, viá»‡c phá»¥c há»“i ráº¥t khÃ³.

			---

			7. Quyá»n truy cáº­p vÃ  cháº¡y vá»›i sudo:

			* Náº¿u file thuá»™c sá»Ÿ há»¯u root hoáº·c chá»‰ root cÃ³ quyá»n ghi, cáº§n cháº¡y vá»›i `sudo` Ä‘á»ƒ sá»­a:

			```
			sudo sed -i 's/covid19/nothing/g' /etc/somefile.conf
			```

			* Hoáº·c táº¡o báº£n sao á»Ÿ nÆ¡i báº¡n cÃ³ quyá»n rá»“i di chuyá»ƒn láº¡i (an toÃ n hÆ¡n):

			```
			sed 's/covid19/nothing/g' samplefile.txt > /tmp/samplefile_fixed.txt && sudo mv /tmp/samplefile_fixed.txt samplefile.txt
			```

			---

			8. Encoding vÃ  file nhá»‹ phÃ¢n:

			* `sed` hoáº¡t Ä‘á»™ng tá»‘t vá»›i vÄƒn báº£n (ASCII/UTF-8). Náº¿u file cÃ³ encoding khÃ¡c (UTF-16) hoáº·c lÃ  binary, káº¿t quáº£ cÃ³ thá»ƒ
			khÃ´ng chÃ­nh xÃ¡c. Kiá»ƒm tra encoding trÆ°á»›c (vÃ­ dá»¥ `file samplefile.txt` hoáº·c `file -i samplefile.txt`).

			---

			9. VÃ­ dá»¥ thá»±c táº¿ minh há»a:

			Giáº£ sá»­ `samplefile.txt` ban Ä‘áº§u:

			```
			The covid19 pandemic affected many.
			covid19 cases rose in 2020.
			COVID19 is sometimes uppercase.
			covid1999 is not the same.
			```

			* Cháº¡y lá»‡nh gá»‘c (case-sensitive, in-place):

			```
			sed -i 's/covid19/nothing/g' samplefile.txt
			```

			Káº¿t quáº£ (`samplefile.txt` sau khi sá»­a):

			```
			The nothing pandemic affected many.
			nothing cases rose in 2020.
			COVID19 is sometimes uppercase.
			covid1999 is not the same.
			```

			* Náº¿u muá»‘n thay má»i biáº¿n thá»ƒ chá»¯ hoa/thÆ°á»ng vÃ  chá»‰ tá»« nguyÃªn váº¹n (khÃ´ng thay `covid1999`), dÃ¹ng `perl`:

			```
			perl -pe 's/\bcovid19\b/nothing/gi' -i.bak samplefile.txt
			```

			---

			10. Máº¹o an toÃ n / checklist trÆ°á»›c khi cháº¡y `sed -i` trÃªn nhiá»u file:

			* [ ] Cháº¡y lá»‡nh khÃ´ng `-i` trÆ°á»›c Ä‘á»ƒ xem output.
			* [ ] Táº¡o backup: `-i.bak` hoáº·c `cp file file.bak`.
			* [ ] Náº¿u sá»‘ lÆ°á»£ng file lá»›n, thá»­ trÃªn má»™t sample trÆ°á»›c.
			* [ ] Kiá»ƒm tra quyá»n ghi vÃ  encoding.
			* [ ] Sá»­ dá»¥ng `--` trÆ°á»›c tÃªn file náº¿u tÃªn file báº¯t Ä‘áº§u báº±ng dáº¥u `-` (hiáº¿m gáº·p): `sed -i 's/a/b/g' -- -weirdname.txt`.

			---

			11. TÃ³m táº¯t ngáº¯n:

			* `sed -i 's/covid19/nothing/g' samplefile.txt` â€” thay táº¥t cáº£ `covid19` báº±ng `nothing` **trong file** `samplefile.txt` vÃ  lÆ°u thay Ä‘á»•i trá»±c tiáº¿p.
			* Äá» nghá»‹: luÃ´n sao lÆ°u trÆ°á»›c (vÃ­ dá»¥ `-i.bak`) hoáº·c thá»­ khÃ´ng `-i` trÆ°á»›c khi Ã¡p dá»¥ng.
			* DÃ¹ng `perl` náº¿u cáº§n há»— trá»£ case-insensitive hoáº·c ranh giá»›i tá»« portable hÆ¡n.

		- cmd: sed -i 's/coronavirus/covid19/g' samplefile.txt



		- cmd: uptime > /tmp/sysinfo.txt

			Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: `uptime > /tmp/sysinfo.txt`

			Má»¥c tiÃªu: VÄƒn báº£n nÃ y trÃ¬nh bÃ y rÃµ rÃ ng, á»Ÿ Ä‘á»‹nh dáº¡ng **plain text** Ä‘á»ƒ báº¡n cÃ³ thá»ƒ nháº¥n nÃºt copy (sao chÃ©p toÃ n bá»™) vÃ  dÃ¡n
			trá»±c tiáº¿p vÃ o má»™t file `.txt`.

			---

			1. Ã nghÄ©a nhanh:

			* `uptime` lÃ  lá»‡nh in ra thá»i gian há»‡ thá»‘ng Ä‘Ã£ hoáº¡t Ä‘á»™ng (system uptime), sá»‘ ngÆ°á»i Ä‘ang Ä‘Äƒng nháº­p vÃ  táº£i trung bÃ¬nh (load average)
			trong 1, 5 vÃ  15 phÃºt.
			* `>` lÃ  toÃ¡n tá»­ chuyá»ƒn hÆ°á»›ng (redirect) trong shell: nÃ³ láº¥y stdout cá»§a lá»‡nh bÃªn trÃ¡i vÃ  ghi Ä‘Ã¨ (overwrite) vÃ o file bÃªn pháº£i.
			* `/tmp/sysinfo.txt` lÃ  Ä‘Æ°á»ng dáº«n tá»‡p Ä‘Ã­ch â€” á»Ÿ Ä‘Ã¢y lá»‡nh sáº½ táº¡o hoáº·c ghi Ä‘Ã¨ file nÃ y trong thÆ° má»¥c `/tmp`.

			Káº¿t luáº­n: lá»‡nh `uptime > /tmp/sysinfo.txt` sáº½ cháº¡y `uptime` vÃ  **ghi káº¿t quáº£ vÃ o file** `/tmp/sysinfo.txt`, thay vÃ¬ in ra mÃ n
			hÃ¬nh. Náº¿u file Ä‘Ã£ tá»“n táº¡i, ná»™i dung cÅ© sáº½ bá»‹ ghi Ä‘Ã¨.

			---

			2. VÃ­ dá»¥ Ä‘áº§u ra cá»§a `uptime`:

			Má»™t vÃ­ dá»¥ output khi cháº¡y `uptime` trá»±c tiáº¿p trÃªn terminal:

			```
			09:12:34 up 12 days,  3:21,  4 users,  load average: 0.15, 0.22, 0.30
			```

			Giáº£i thÃ­ch cÃ¡c pháº§n:

			* `09:12:34` â€” thá»i gian hiá»‡n táº¡i trÃªn há»‡ thá»‘ng (local time).
			* `up 12 days, 3:21` â€” há»‡ thá»‘ng Ä‘Ã£ hoáº¡t Ä‘á»™ng 12 ngÃ y vÃ  3 giá» 21 phÃºt.
			* `4 users` â€” sá»‘ ngÆ°á»i Ä‘ang Ä‘Äƒng nháº­p vÃ o há»‡ thá»‘ng.
			* `load average: 0.15, 0.22, 0.30` â€” táº£i trung bÃ¬nh trong 1 phÃºt, 5 phÃºt, 15 phÃºt.

			Khi dÃ¹ng redirect `>`, dÃ²ng trÃªn sáº½ Ä‘Æ°á»£c ghi vÃ o `/tmp/sysinfo.txt`.

			---

			3. CÃ¡c biáº¿n thá»ƒ thÆ°á»ng dÃ¹ng:

			* Ghi Ä‘Ã¨ (overwrite) file (nhÆ° vÃ­ dá»¥):

			```
			uptime > /tmp/sysinfo.txt
			```

			* ThÃªm vÃ o cuá»‘i file (append) mÃ  khÃ´ng ghi Ä‘Ã¨: sá»­ dá»¥ng `>>`:

			```
			uptime >> /tmp/sysinfo.txt
			```

			* DÃ¹ng `>>` há»¯u Ã­ch khi báº¡n muá»‘n lÆ°u lá»‹ch sá»­ thá»i Ä‘iá»ƒm kiá»ƒm tra uptime.

			* Ghi cÃ¹ng lÃºc stdout vÃ  stderr (náº¿u cáº§n):

			```
			uptime > /tmp/sysinfo.txt 2>&1
			```

			* `2>&1` chuyá»ƒn hÆ°á»›ng stderr (mÃ£ lá»—i) vÃ o cÃ¹ng stdout Ä‘á»ƒ táº¥t cáº£ output Ä‘Æ°á»£c lÆ°u.

			* Ghi kÃ¨m thá»i gian vÃ  format khÃ¡c báº±ng lá»‡nh bá»• trá»£ (vÃ­ dá»¥ `date`):

			```
			echo "$(date) - $(uptime)" >> /tmp/sysinfo.txt
			```

			* Ghi nhiá»u thÃ´ng tin há»‡ thá»‘ng khÃ¡c (vÃ­ dá»¥ CPU, mem):

			```
			{
			echo "=== $(date) ===";
			uptime;
			echo "--- free -h ---";
			free -h;
			echo "--- df -h ---";
			df -h;
			} > /tmp/sysinfo.txt
			```

			* DÃ¹ng khá»‘i `{ ... }` Ä‘á»ƒ gom nhiá»u lá»‡nh vÃ  redirect má»™t láº§n.

			---

			4. Quyá»n truy cáº­p vÃ  vá»‹ trÃ­ file:

			* `/tmp` thÆ°á»ng cho phÃ©p má»i user táº¡o file, nhÆ°ng náº¿u báº¡n chuyá»ƒn hÆ°á»›ng vÃ o thÆ° má»¥c cáº§n quyá»n (vÃ­ dá»¥ `/var/log`), cáº§n quyá»n root:

			```
			sudo uptime > /var/log/sysinfo.txt   # KHÃ”NG hoáº¡t Ä‘á»™ng nhÆ° mong Ä‘á»£i
			```

			* LÆ°u Ã½: `sudo uptime > /var/log/sysinfo.txt` sáº½ cháº¡y `uptime` vá»›i quyá»n root nhÆ°ng **toÃ¡n tá»­ `>` váº«n Ä‘Æ°á»£c xá»­ lÃ½ bá»Ÿi shell
			cá»§a user**, nÃªn cÃ³ thá»ƒ bá»‹ lá»—i `Permission denied` khi shell cá»‘ ghi file. CÃ¡ch Ä‘Ãºng lÃ :

			```
			sudo sh -c 'uptime > /var/log/sysinfo.txt'
			# hoáº·c
			uptime | sudo tee /var/log/sysinfo.txt > /dev/null
			```

			* `sudo sh -c '...'` cháº¡y toÃ n bá»™ chuá»—i lá»‡nh trong shell cháº¡y vá»›i quyá»n root.

			* `tee` nháº­n stdin vÃ  ghi cáº£ ra stdout vÃ  file; dÃ¹ng `sudo tee` giÃºp ghi file vá»›i quyá»n root.

			* Náº¿u báº¡n dÃ¹ng `>>` Ä‘á»ƒ append, cÅ©ng cáº§n chÃº Ã½ quyá»n tÆ°Æ¡ng tá»±.

			---

			5. Kiá»ƒm tra ná»™i dung file sau khi redirect:

			* DÃ¹ng `cat` hoáº·c `less`:

			```
			cat /tmp/sysinfo.txt
			less /tmp/sysinfo.txt
			```

			* Náº¿u muá»‘n in ra terminal Ä‘á»“ng thá»i ghi vÃ o file, dÃ¹ng `tee`:

			```
			uptime | tee /tmp/sysinfo.txt
			```

			* `tee -a` sáº½ append thay vÃ¬ overwrite: `uptime | tee -a /tmp/sysinfo.txt`.

			---

			6. VÃ­ dá»¥ sá»­ dá»¥ng trong script hoáº·c cron:

			* LÆ°u snapshot uptime má»—i 10 phÃºt báº±ng cron vÃ  append vÃ o file lá»‹ch sá»­:

			```
			# cháº¡y crontab -e vÃ  thÃªm dÃ²ng sau Ä‘á»ƒ lÆ°u má»—i 10 phÃºt
			*/10 * * * *  /bin/date "+%Y-%m-%d %H:%M:%S" >> /tmp/sysinfo.txt; /usr/bin/uptime >> /tmp/sysinfo.txt
			```

			* Hoáº·c táº¡o file chá»©a nhiá»u thÃ´ng tin Ä‘á»‹nh ká»³:

			```
			*/30 * * * *  /bin/sh -c '{ echo "--- $(date) ---"; uptime; free -h; } >> /var/log/sysinfo_history.log'
			```

			---

			7. Nhá»¯ng lá»—i/thÃ´ng bÃ¡o thÆ°á»ng gáº·p vÃ  cÃ¡ch xá»­ lÃ½:

			* `bash: /var/log/sysinfo.txt: Permission denied`
			-> Do toÃ¡n tá»­ `>` Ä‘Æ°á»£c xá»­ lÃ½ bá»Ÿi shell user, khÃ´ng cÃ³ quyá»n ghi. Kháº¯c phá»¥c báº±ng `sudo sh -c '...'` hoáº·c `... | sudo tee`.

			* File khÃ´ng xuáº¥t hiá»‡n trong `/tmp`:

			* CÃ³ thá»ƒ lá»‡nh cháº¡y trong chroot hoáº·c container vá»›i `/tmp` khÃ¡c. Kiá»ƒm tra Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i vÃ  quyá»n.

			* File bá»‹ ghi Ä‘Ã¨ vÃ´ tÃ¬nh: náº¿u báº¡n muá»‘n lÆ°u lá»‹ch sá»­, dÃ¹ng `>>` thay vÃ¬ `>`.

			---

			8. Báº£o quáº£n dá»¯ liá»‡u log lÃ¢u dÃ i:

			* `/tmp` thÆ°á»ng bá»‹ dá»n khi khá»Ÿi Ä‘á»™ng láº¡i há»‡ thá»‘ng; náº¿u báº¡n muá»‘n lÆ°u lÃ¢u dÃ i, Ä‘áº·t file á»Ÿ `/var/log` hoáº·c thÆ° má»¥c home cá»§a báº¡n.
			* Náº¿u lÆ°u dá»¯ liá»‡u thÆ°á»ng xuyÃªn, cÃ¢n nháº¯c logrotate Ä‘á»ƒ quáº£n lÃ½ kÃ­ch thÆ°á»›c file.

			---

			9. Má»™t sá»‘ máº¹o nÃ¢ng cao:

			* ThÃªm timestamp má»—i láº§n ghi (máº«u Ä‘áº¹p cho log):

			```
			printf "%s - %s\n" "$(date '+%Y-%m-%d %H:%M:%S')" "$(uptime)" >> /var/log/sysinfo.log
			```

			* Ghi cáº£ stderr cá»§a má»™t chuá»—i lá»‡nh vÃ o file:

			```
			{ uptime; somecommand; } > /tmp/sysinfo.txt 2>&1
			```

			* Ghi nhiá»u lá»‡nh song song vÃ  phÃ¢n tÃ¡ch rÃµ rÃ ng:

			```
			{
			echo "=== $(date) ===";
			echo "Uptime:"; uptime;
			echo "Memory:"; free -h;
			echo "Disk:"; df -h;
			} >> /tmp/sysinfo.txt
			```

			---

			10. TÃ³m táº¯t ngáº¯n:

			* `uptime > /tmp/sysinfo.txt` â€” cháº¡y `uptime` vÃ  ghi káº¿t quáº£ vÃ o `/tmp/sysinfo.txt`, **ghi Ä‘Ã¨** file náº¿u Ä‘Ã£ tá»“n táº¡i.
			* DÃ¹ng `>>` Ä‘á»ƒ append, `tee` hoáº·c `sudo sh -c '...'` khi cáº§n quyá»n root cho thao tÃ¡c ghi.
			* `/tmp` cÃ³ thá»ƒ bá»‹ xÃ³a sau reboot; chá»n nÆ¡i lÆ°u thÃ­ch há»£p cho má»¥c Ä‘Ã­ch lÆ°u trá»¯ lÃ¢u dÃ i.

		- cmd: ls > /tmp/sysinfo.txt



		- cmd: uptime >> /tmp/sysinfo.txt

			Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: `uptime >> /tmp/sysinfo.txt`

			Má»¥c tiÃªu: VÄƒn báº£n nÃ y trÃ¬nh bÃ y rÃµ rÃ ng, á»Ÿ Ä‘á»‹nh dáº¡ng **plain text** Ä‘á»ƒ báº¡n cÃ³ thá»ƒ nháº¥n nÃºt copy (sao chÃ©p toÃ n bá»™) vÃ  dÃ¡n trá»±c tiáº¿p vÃ o má»™t file `.txt`.

			---

			1. Ã nghÄ©a nhanh:

			* `uptime` lÃ  lá»‡nh hiá»ƒn thá»‹ thá»i gian há»‡ thá»‘ng Ä‘Ã£ hoáº¡t Ä‘á»™ng (uptime), sá»‘ user Ä‘ang Ä‘Äƒng nháº­p vÃ  load average (1, 5, 15 phÃºt).
			* `>>` lÃ  toÃ¡n tá»­ chuyá»ƒn hÆ°á»›ng **append**: thay vÃ¬ ghi Ä‘Ã¨, nÃ³ thÃªm (append) output vÃ o cuá»‘i file Ä‘Ã­ch.
			* `/tmp/sysinfo.txt` lÃ  file Ä‘Ã­châ€”náº¿u file khÃ´ng tá»“n táº¡i, shell sáº½ táº¡o file má»›i; náº¿u tá»“n táº¡i, ná»™i dung má»›i sáº½ Ä‘Æ°á»£c ná»‘i á»Ÿ cuá»‘i file hiá»‡n cÃ³.

			Káº¿t luáº­n: `uptime >> /tmp/sysinfo.txt` cháº¡y `uptime` vÃ  **thÃªm** káº¿t quáº£ vÃ o cuá»‘i `/tmp/sysinfo.txt` (lÆ°u lá»‹ch sá»­ cÃ¡c láº§n cháº¡y).

			---

			2. VÃ­ dá»¥ output máº«u cá»§a `uptime`:

			```
			09:12:34 up 12 days,  3:21,  4 users,  load average: 0.15, 0.22, 0.30
			```

			Khi dÃ¹ng `>>`, dÃ²ng tÆ°Æ¡ng tá»± sáº½ Ä‘Æ°á»£c thÃªm vÃ o file `/tmp/sysinfo.txt`.

			---

			3. So sÃ¡nh `>` vÃ  `>>`:

			* `>` : ghi **ghi Ä‘Ã¨** (overwrite) file â€” xÃ³a háº¿t ná»™i dung cÅ©, chá»‰ giá»¯ output má»›i.
			* `>>`: **append** â€” giá»¯ ná»™i dung cÅ© vÃ  ná»‘i thÃªm output má»›i vÃ o cuá»‘i.

			DÃ¹ng `>>` khi báº¡n muá»‘n lÆ°u lá»‹ch sá»­ (log) nhiá»u láº§n cháº¡y.

			---

			4. ThÃªm timestamp cho má»—i entry (thá»±c táº¿ hay dÃ¹ng):

			* Ghi timestamp cÃ¹ng uptime:

			```
			echo "$(date '+%Y-%m-%d %H:%M:%S') - $(uptime)" >> /tmp/sysinfo.txt
			```

			* Hoáº·c in nhiá»u thÃ´ng tin há»‡ thá»‘ng cÃ¹ng lÃºc:

			```
			{
			echo "=== $(date) ===";
			uptime;
			free -h;
			df -h;
			} >> /tmp/sysinfo.txt
			```

			---

			5. Ghi cáº£ stderr (náº¿u cáº§n):

			* `uptime` hiáº¿m khi in stderr, nhÆ°ng náº¿u báº¡n redirect chuá»—i lá»‡nh vÃ  muá»‘n cáº£ lá»—i:

			```
			{ uptime; somecommand; } >> /tmp/sysinfo.txt 2>&1
			```

			`2>&1` chuyá»ƒn hÆ°á»›ng stderr vÃ o cÃ¹ng stdout Ä‘á»ƒ ghi vÃ o file.

			---

			6. Quyá»n truy cáº­p vÃ  sudo:

			* `/tmp` thÆ°á»ng cho phÃ©p má»i user ghi, nÃªn lá»‡nh thÆ°á»ng cháº¡y bÃ¬nh thÆ°á»ng.
			* Náº¿u báº¡n muá»‘n append vÃ o file á»Ÿ thÆ° má»¥c yÃªu cáº§u quyá»n (vÃ­ dá»¥ `/var/log/sysinfo.log`), dÃ¹ng `sudo` Ä‘Ãºng cÃ¡ch, vÃ¬ toÃ¡n tá»­ `>>` do shell xá»­ lÃ½:

			```
			# khÃ´ng Ä‘Ãºng (toÃ¡n tá»­ >> do shell user xá»­ lÃ½):
			sudo uptime >> /var/log/sysinfo.log   # cÃ³ thá»ƒ lá»—i Permission denied

			# Ä‘Ãºng: cháº¡y toÃ n bá»™ trong shell cÃ³ quyá»n root
			sudo sh -c 'uptime >> /var/log/sysinfo.log'

			# hoáº·c dÃ¹ng tee vá»›i sudo
			uptime | sudo tee -a /var/log/sysinfo.log > /dev/null
			```

			`tee -a` append vÃ o file; `> /dev/null` Ä‘á»ƒ khÃ´ng in láº¡i ra stdout.

			---

			7. Kiá»ƒm tra file sau khi append:

			* Hiá»ƒn thá»‹ file:

			```
			tail -n 50 /tmp/sysinfo.txt   # xem 50 dÃ²ng cuá»‘i
			cat /tmp/sysinfo.txt          # xem toÃ n bá»™ (náº¿u file nhá»)
			```

			* Náº¿u báº¡n muá»‘n theo dÃµi file realtime khi cÃ¡c entry Ä‘Æ°á»£c append:

			```
			tail -f /tmp/sysinfo.txt
			```

			---

			8. Sá»­ dá»¥ng trong cron Ä‘á»ƒ lÆ°u Ä‘á»‹nh ká»³:

			* LÆ°u uptime má»—i 10 phÃºt (append) cÃ¹ng timestamp:

			```
			*/10 * * * * echo "$(date '+%Y-%m-%d %H:%M:%S') - $(uptime)" >> /var/log/sysinfo_history.log
			```

			* LÆ°u Ã½: cron cháº¡y vá»›i mÃ´i trÆ°á»ng háº¡n cháº¿ â€” hÃ£y dÃ¹ng Ä‘Æ°á»ng dáº«n Ä‘áº§y Ä‘á»§ (`/usr/bin/uptime` hoáº·c `/bin/echo`) náº¿u cáº§n.

			---

			9. Nhá»¯ng lá»—i/thÃ´ng bÃ¡o thÆ°á»ng gáº·p vÃ  cÃ¡ch xá»­ lÃ½:

			* `bash: /var/log/sysinfo.log: Permission denied`
			-> ToÃ¡n tá»­ `>>` do shell user xá»­ lÃ½, user khÃ´ng cÃ³ quyá»n ghi. DÃ¹ng `sudo sh -c '...'` hoáº·c `... | sudo tee -a` Ä‘á»ƒ kháº¯c phá»¥c.

			* File khÃ´ng lÆ°u lÃ¢u: `/tmp` thÆ°á»ng bá»‹ dá»n khi reboot; náº¿u muá»‘n lÆ°u lÃ¢u dÃ i, chá»n thÆ° má»¥c nhÆ° `/var/log` hoáº·c thÆ° má»¥c home.

			---

			10. Máº¹o nÃ¢ng cao:

			* Giá»¯ file log nhá»: dÃ¹ng `logrotate` Ä‘á»ƒ cáº¯t file theo kÃ­ch thÆ°á»›c hoáº·c thá»i gian.
			* DÃ¹ng `logger` Ä‘á»ƒ gá»­i message tá»›i syslog:

			```
			logger "uptime: $(uptime)"
			```

			* Ghi Ä‘á»‹nh dáº¡ng JSON Ä‘Æ¡n giáº£n Ä‘á»ƒ dá»… parse:

			```
			echo "{\"time\": \"$(date -Iseconds)\", \"uptime\": \"$(uptime)\"}" >> /var/log/sysinfo.json
			```

			---

			11. TÃ³m táº¯t ngáº¯n:

			* `uptime >> /tmp/sysinfo.txt` â€” cháº¡y `uptime` vÃ  **append** káº¿t quáº£ vÃ o file `/tmp/sysinfo.txt`.
			* DÃ¹ng `>>` Ä‘á»ƒ lÆ°u lá»‹ch sá»­; dÃ¹ng `>` Ä‘á»ƒ ghi Ä‘Ã¨.
			* ChÃº Ã½ quyá»n ghi khi ghi vÃ o thÆ° má»¥c há»‡ thá»‘ng; `/tmp` cÃ³ thá»ƒ bá»‹ dá»n khi reboot.

		- cmd: free -m

			Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: `free -m`

			Má»¥c tiÃªu: VÄƒn báº£n nÃ y trÃ¬nh bÃ y rÃµ rÃ ng, á»Ÿ Ä‘á»‹nh dáº¡ng **plain text** Ä‘á»ƒ báº¡n cÃ³ thá»ƒ nháº¥n nÃºt copy (sao
			chÃ©p toÃ n bá»™) vÃ  dÃ¡n trá»±c tiáº¿p vÃ o má»™t file `.txt`.

			---

			1. Ã nghÄ©a nhanh:

			`free -m` in thÃ´ng tin bá»™ nhá»› há»‡ thá»‘ng (RAM vÃ  swap) vá»›i Ä‘Æ¡n vá»‹ lÃ  **MB** (megabytes). Lá»‡nh cho biáº¿t tá»•ng, Ä‘Ã£ dÃ¹ng, cÃ²n
			trá»‘ng, bá»™ nhá»› dÃ¹ng cho shared, buffers/cache vÃ  available â€” ráº¥t há»¯u Ã­ch Ä‘á»ƒ kiá»ƒm tra nhanh tÃ¬nh tráº¡ng bá»™ nhá»›.

			---

			2. CÃº phÃ¡p cÆ¡ báº£n vÃ  cÃ¡c tÃ¹y chá»n hay dÃ¹ng:

			* `free`                 # máº·c Ä‘á»‹nh in theo kilobytes (KB) hoáº·c theo há»‡ thá»‘ng
			* `free -m`              # hiá»ƒn thá»‹ sá»‘ liá»‡u theo MB (megabytes)
			* `free -g`              # hiá»ƒn thá»‹ theo GB (gigabytes)
			* `free -h`              # human-readable (tá»± chá»n KB/MB/GB)
			* `free --si`            # dÃ¹ng Ä‘Æ¡n vá»‹ theo há»‡ tháº­p phÃ¢n (1000-based)
			* `free -s <sec>`        # láº·p in má»—i <sec> giÃ¢y (theo dÃµi thá»i gian thá»±c)
			* `free -c <count>`      # in <count> láº§n rá»“i dá»«ng
			* `free -t`              # in thÃªm dÃ²ng tá»•ng (total)
			* `free -l`              # hiá»ƒn thá»‹ low/high memory statistics (náº¿u há»— trá»£)

			---

			3. VÃ­ dá»¥ thá»±c táº¿:

			```
			free -m
			```

			Output máº«u:

			```
						   total       used         free        shared     buff/cache  available
			Mem:           7979        4300         259         607        3419        2563
			Swap:          2047           6        2041
			```

			(Con sá»‘ trÃªn chá»‰ lÃ  vÃ­ dá»¥ minh há»a.)

			---

			4. Ã nghÄ©a cÃ¡c cá»™t (giáº£i thÃ­ch tá»«ng trÆ°á»ng):

			* `total` â€” tá»•ng bá»™ nhá»› (hoáº·c swap) cÃ³ trÃªn há»‡ thá»‘ng.
			* `used` â€” bá»™ nhá»› Ä‘ang Ä‘Æ°á»£c dÃ¹ng. CÃ´ng thá»©c `used = total - free - buffers - cache` (vá»›i cÃ¡ch tÃ­nh cÅ©). VÃ¬ kernel dÃ¹ng
			bá»™ nhá»› cho cache/buffers, sá»‘ nÃ y khÃ´ng tÆ°Æ¡ng Ä‘Æ°Æ¡ng "bá»‹ chiáº¿m cháº·t"; cache/buffers cÃ³ thá»ƒ Ä‘Æ°á»£c thu há»“i khi cáº§n.
			* `free` â€” bá»™ nhá»› hoÃ n toÃ n trá»‘ng (khÃ´ng chá»©a báº¥t ká»³ dá»¯ liá»‡u nÃ o).
			* `shared` â€” bá»™ nhá»› Ä‘Æ°á»£c sá»­ dá»¥ng chung (chá»§ yáº¿u cho tmpfs, cÃ i Ä‘áº·t há»‡ thá»‘ng cá»¥ thá»ƒ), thÆ°á»ng nhá».
			* `buff/cache` â€” tá»•ng bá»™ nhá»› dÃ¹ng cho **buffers** vÃ  **page cache** (bao gá»“m slab). ÄÃ¢y lÃ  bá»™ nhá»› mÃ  kernel Ä‘ang dÃ¹ng Ä‘á»ƒ
			cache dá»¯ liá»‡u Ä‘Ä©a vÃ  cÃ³ thá»ƒ tráº£ láº¡i cho á»©ng dá»¥ng náº¿u cáº§n.
			* `available` â€” Æ°á»›c lÆ°á»£ng bá»™ nhá»› cÃ³ thá»ƒ dÃ¹ng ngay Ä‘á»ƒ khá»Ÿi cháº¡y á»©ng dá»¥ng má»›i mÃ  khÃ´ng lÃ m swap. ÄÃ¢y lÃ  chá»‰ sá»‘ thá»±c táº¿ nÃªn
			quan sÃ¡t (thay vÃ¬ chá»‰ nhÃ¬n `free`).

			---

			5. Váº¥n Ä‘á» phá»• biáº¿n â€” "táº¡i sao `free` cho tháº¥y Ã­t free nhÆ°ng há»‡ thá»‘ng váº«n cháº¡y tá»‘t?":

			Linux cá»‘ gáº¯ng táº­n dá»¥ng RAM cho cache/buffers Ä‘á»ƒ tÄƒng hiá»‡u nÄƒng I/O. VÃ¬ váº­y `free` (cá»™t free) cÃ³ thá»ƒ ráº¥t tháº¥pâ€”nhÆ°ng `available`
			cho biáº¿t bao nhiÃªu bá»™ nhá»› thá»±c sá»± cÃ³ thá»ƒ dÃ¹ng mÃ  khÃ´ng cáº§n swap. Náº¿u `available` cÃ²n nhiá»u, há»‡ thá»‘ng khÃ´ng Ä‘ang thiáº¿u bá»™ nhá»›
			nghiÃªm trá»ng.

			---

			6. So sÃ¡nh vá»›i cÃ¡c cÃ´ng cá»¥ khÃ¡c:

			* `top` / `htop` â€” hiá»ƒn thá»‹ tiáº¿n trÃ¬nh theo má»©c sá»­ dá»¥ng bá»™ nhá»›/CPU vÃ  tá»•ng quan tÆ°Æ¡ng tá»±; tá»‘t Ä‘á»ƒ tÃ¬m tiáº¿n trÃ¬nh gÃ¢y tá»‘n RAM.
			* `vmstat` â€” cung cáº¥p sá»‘ liá»‡u há»‡ thá»‘ng chi tiáº¿t vá» paging, I/O, CPU.
			* `ps aux --sort=-rss | head` hoáº·c `ps -eo pid,pmem,pcpu,args --sort=-pmem | head` â€” tÃ¬m tiáº¿n trÃ¬nh dÃ¹ng nhiá»u RAM nháº¥t.

			---

			7. CÃ¡c tÃ¬nh huá»‘ng sá»­ dá»¥ng thá»±c táº¿ (one-liners):

			* Theo dÃµi bá»™ nhá»› má»—i 2 giÃ¢y:

			```
			free -m -s 2
			```

			* Ghi output vÃ o file Ä‘á»ƒ phÃ¢n tÃ­ch sau:

			```
			free -m > /tmp/mem_snapshot_$(date +%Y%m%d%H%M%S).txt
			```

			* Káº¿t há»£p vá»›i `awk` Ä‘á»ƒ láº¥y cá»™t `available`:

			```
			free -m | awk '/^Mem:/ {print $7 " MB available"}'
			```

			* TÃ¬m 10 tiáº¿n trÃ¬nh chiáº¿m RAM cao nháº¥t:

			```
			ps aux --sort=-rss | head -n 11
			```

			---

			8. LÆ°u Ã½ phiÃªn báº£n vÃ  khÃ¡c biá»‡t lá»‹ch sá»­:

			* PhiÃªn báº£n má»›i cá»§a `free` (thuá»™c gÃ³i procps-ng) bá»• sung cá»™t `available` Ä‘á»ƒ pháº£n Ã¡nh chÃ­nh xÃ¡c bá»™ nhá»› cÃ³ thá»ƒ dÃ¹ng, thay
			cho cÃ¡ch diá»…n giáº£i xÆ°a dá»±a trÃªn `-/+ buffers/cache`.
			* Náº¿u báº¡n tháº¥y output khÃ¡c (vÃ­ dá»¥ cÃ³ cá»™t `buffers` vÃ  `cached` riÃªng), Ä‘Ã³ cÃ³ thá»ƒ lÃ  phiÃªn báº£n cÅ© hÆ¡n hoáº·c khÃ¡c phÃ¢n phá»‘i.

			---

			9. Máº¹o cháº©n Ä‘oÃ¡n nhanh:

			* Náº¿u `available` tháº¥p (gáº§n 0) vÃ  `Swap used` tÄƒng máº¡nh => cÃ³ thá»ƒ há»‡ thá»‘ng Ä‘ang swap vÃ  thiáº¿u RAM.
			* Náº¿u `buff/cache` ráº¥t lá»›n nhÆ°ng `available` váº«n cao => há»‡ thá»‘ng táº­n dá»¥ng RAM cho cache, bÃ¬nh thÆ°á»ng vÃ  cÃ³ lá»£i cho hiá»‡u nÄƒng.
			* DÃ¹ng `free -m` cÃ¹ng `ps/top` Ä‘á»ƒ xÃ¡c Ä‘á»‹nh tiáº¿n trÃ¬nh gÃ¢y ra tiÃªu thá»¥ RAM cao.

			---

			10. Má»™t vÃ­ dá»¥ phÃ¢n tÃ­ch (dá»±a trÃªn output máº«u á»Ÿ má»¥c 3):

			* `Mem total 7979 MB` â€” tá»•ng RAM lÃ  ~7.9GB.
			* `used 4300 MB` â€” trong Ä‘Ã³ cÃ³ pháº§n lÃ  memory in use bá»Ÿi tiáº¿n trÃ¬nh vÃ  pháº§n lÃ  cache.
			* `free 259 MB` â€” lÆ°á»£ng RAM hoÃ n toÃ n trá»‘ng.
			* `buff/cache 3419 MB` â€” bá»™ nhá»› cache/buffer mÃ  kernel Ä‘ang dÃ¹ng, cÃ³ thá»ƒ thu há»“i.
			* `available 2563 MB` â€” khoáº£ng 2.5GB cÃ³ thá»ƒ dÃ¹ng ngay cho á»©ng dá»¥ng má»›i.

			Káº¿t luáº­n: máº·c dÃ¹ `free` chá»‰ 259 MB, há»‡ thá»‘ng váº«n cÃ³ ~2.5GB thá»±c táº¿ Ä‘á»ƒ dÃ¹ng (available) â€” khÃ´ng pháº£i dáº¥u hiá»‡u thiáº¿u RAM ngay.

			---

			11. TÃ³m táº¯t ngáº¯n:

			* `free -m` hiá»ƒn thá»‹ bá»™ nhá»› há»‡ thá»‘ng theo MB; quan sÃ¡t cá»™t `available` Ä‘á»ƒ biáº¿t lÆ°á»£ng RAM cÃ³ thá»ƒ dÃ¹ng thá»±c táº¿; `buff/cache` lÃ 
			bá»™ nhá»› cache cÃ³ thá»ƒ thu há»“i; `free` Ä‘Æ¡n thuáº§n khÃ´ng pháº£n Ã¡nh toÃ n bá»™ kháº£ nÄƒng dÃ¹ng bá»™ nhá»›.

			---

			HÆ°á»›ng dáº«n lÆ°u nhanh:

			* Báº¡n cÃ³ thá»ƒ nháº¥n nÃºt **Copy** bÃªn cáº¡nh Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung nÃ y vÃ  dÃ¡n vÃ o file `free_-m_explanation.txt`.


		- cmd: df -h

			Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: `df -h`

			Má»¥c tiÃªu: VÄƒn báº£n nÃ y trÃ¬nh bÃ y rÃµ rÃ ng, á»Ÿ Ä‘á»‹nh dáº¡ng **plain text** Ä‘á»ƒ báº¡n cÃ³ thá»ƒ nháº¥n nÃºt copy (sao chÃ©p toÃ n bá»™) vÃ  dÃ¡n trá»±c tiáº¿p vÃ o má»™t file `.txt`.

			---

			1. Ã nghÄ©a nhanh:

			* `df` (disk free) lÃ  lá»‡nh dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ dung lÆ°á»£ng Ä‘Ä©a (filesystem) â€” tá»•ng, Ä‘Ã£ dÃ¹ng, cÃ²n trá»‘ng vÃ  Ä‘iá»ƒm mount.
			* TÃ¹y chá»n `-h` (human-readable) lÃ m cho cÃ¡c con sá»‘ dá»… Ä‘á»c báº±ng cÃ¡ch sá»­ dá»¥ng Ä‘Æ¡n vá»‹ nhÆ° K, M, G (KB/MB/GB) thay vÃ¬ in ra byte thÃ´.

			Káº¿t luáº­n: `df -h` cung cáº¥p má»™t báº£ng tÃ³m táº¯t nhanh vá» dung lÆ°á»£ng Ä‘Ä©a cá»§a cÃ¡c filesystem, vá»›i cÃ¡c kÃ­ch thÆ°á»›c á»Ÿ Ä‘á»‹nh dáº¡ng dá»… hiá»ƒu.

			---

			2. CÃº phÃ¡p cÆ¡ báº£n vÃ  cÃ¡c tÃ¹y chá»n thÆ°á»ng dÃ¹ng:

			* `df -h`                     # hiá»ƒn thá»‹ dung lÆ°á»£ng theo human-readable
			* `df -H`                     # human-readable theo há»‡ SI (1K=1000)
			* `df -k`                     # hiá»ƒn thá»‹ theo KB (máº·c Ä‘á»‹nh cÅ©)
			* `df -m`                     # hiá»ƒn thá»‹ theo MB
			* `df -T`                     # hiá»ƒn thá»‹ thÃªm kiá»ƒu filesystem (type)
			* `df -i`                     # hiá»ƒn thá»‹ thÃ´ng tin inode (total, used, free)
			* `df -h /path/to/dir`        # chá»‰ hiá»ƒn thá»‹ filesystem chá»©a Ä‘Æ°á»ng dáº«n chá»‰ Ä‘á»‹nh
			* `df -h --total`             # in thÃªm dÃ²ng tá»•ng há»£p cuá»‘i cÃ¹ng (náº¿u há»— trá»£)

			---

			3. VÃ­ dá»¥ output máº«u vÃ  Ã½ nghÄ©a tá»«ng cá»™t:

			Cháº¡y lá»‡nh:

			```
			df -h
			```

			Output máº«u:

			```
			Filesystem      Size  Used Avail Use% Mounted on
			/dev/sda1        50G   20G   28G  42% /
			udev            3.9G     0  3.9G   0% /dev
			tmpfs           788M  1.6M  786M   1% /run
			/dev/sdb1       100G   70G   25G  74% /data
			```

			Giáº£i thÃ­ch cá»™t:

			* `Filesystem` â€” tÃªn thiáº¿t bá»‹ hoáº·c filesystem (vÃ­ dá»¥ `/dev/sda1`, `tmpfs`, `udev`, `nfs-server:/export`).
			* `Size` â€” tá»•ng dung lÆ°á»£ng filesystem.
			* `Used` â€” dung lÆ°á»£ng Ä‘Ã£ sá»­ dá»¥ng.
			* `Avail` â€” dung lÆ°á»£ng cÃ²n trá»‘ng (available) cho ngÆ°á»i dÃ¹ng bÃ¬nh thÆ°á»ng.
			* `Use%` â€” pháº§n trÄƒm dung lÆ°á»£ng Ä‘Ã£ dÃ¹ng so vá»›i tá»•ng.
			* `Mounted on` â€” Ä‘iá»ƒm mount (thÆ° má»¥c nÆ¡i filesystem Ä‘Æ°á»£c gáº¯n).

			---

			4. LÆ°u Ã½ vá» `Avail` vÃ  reserved blocks:

			* TrÃªn cÃ¡c filesystem nhÆ° ext4, há»‡ thá»‘ng thÆ°á»ng giá»¯ má»™t pháº§n trá»‘ng (reserved) cho root (máº·c Ä‘á»‹nh ~5%) Ä‘á»ƒ ngÄƒn filesystem bá»‹ Ä‘áº§y hoÃ n toÃ n vÃ  giá»¯ há»‡ thá»‘ng á»•n Ä‘á»‹nh. Do Ä‘Ã³ `Avail` (Ä‘á»‘i vá»›i user thÆ°á»ng) cÃ³ thá»ƒ tháº¥p hÆ¡n `Size - Used` náº¿u cÃ³ reserved blocks.
			* DÃ¹ng `tune2fs -m 1 /dev/sda1` (vá»›i quyá»n root) Ä‘á»ƒ giáº£m tá»· lá»‡ reserved xuá»‘ng 1% náº¿u báº¡n cáº§n (tháº­n trá»ng khi lÃ m trÃªn há»‡ thá»‘ng production).

			---

			5. Kiá»ƒm tra filesystem cá»¥ thá»ƒ:

			* Muá»‘n xem filesystem chá»©a má»™t thÆ° má»¥c cá»¥ thá»ƒ:

			```
			df -h /var/log
			```

			* Muá»‘n xem kiá»ƒu filesystem cÃ¹ng thÃ´ng tin:

			```
			df -hT
			```

			* Liá»‡t kÃª má»i mount bao gá»“m pseudo filesystems (proc, sysfs, tmpfs):

			```
			df -h -a
			```

			---

			6. Inode (sá»‘ lÆ°á»£ng file cÃ³ thá»ƒ táº¡o) â€” dÃ¹ng `-i`:

			* Khi filesystem bÃ¡o Ä‘áº§y máº·c dÃ¹ `Avail` váº«n cÃ³ dung lÆ°á»£ng, nguyÃªn nhÃ¢n cÃ³ thá»ƒ do háº¿t inode (khÃ´ng thá»ƒ táº¡o file má»›i). Kiá»ƒm tra báº±ng:

			```
			df -i
			```

			Output máº«u:

			```
			Filesystem     Inodes  IUsed   IFree IUse% Mounted on
			/dev/sda1     3276800  12345 3264455    1% /
			```

			---

			7. CÃ¡c trÆ°á»ng há»£p thÆ°á»ng gáº·p vÃ  cÃ¡ch xá»­ lÃ½:

			* `100%` full trÃªn `/` hoáº·c `/var`: cáº§n xÃ³a file log cÅ©, dá»n gÃ³i táº¡m, hoáº·c má»Ÿ rá»™ng phÃ¢n vÃ¹ng.
			* File lá»›n chiáº¿m nhiá»u dung lÆ°á»£ng: dÃ¹ng `du -h --max-depth=1` trong thÆ° má»¥c Ä‘á»ƒ tÃ¬m nhanh thÆ° má»¥c chiáº¿m nhiá»u dung lÆ°á»£ng hoáº·c dÃ¹ng `ncdu` cho giao diá»‡n tÆ°Æ¡ng tÃ¡c.
			* Náº¿u filesystem bá»‹ ghi Ä‘áº§y do reserved blocks, xem xÃ©t giáº£m reserved báº±ng `tune2fs` (chá»‰ cho ext filesystems vÃ  cáº§n quyá»n root).

			---

			8. Má»™t sá»‘ lá»‡nh há»¯u Ã­ch liÃªn quan:

			* TÃ¬m file > 1G:

			```
			find / -xdev -type f -size +1G -exec ls -lh {} \; 2>/dev/null
			```

			* Xem dung lÆ°á»£ng theo thÆ° má»¥c (má»™t má»©c):

			```
			du -h --max-depth=1 /var | sort -h
			```

			* DÃ¹ng `ncdu /` (cáº§n cÃ i thÃªm) Ä‘á»ƒ duyá»‡t dung lÆ°á»£ng má»™t cÃ¡ch tÆ°Æ¡ng tÃ¡c.

			---

			9. Ghi output vÃ o file Ä‘á»ƒ bÃ¡o cÃ¡o:

			* LÆ°u vÃ o file:

			```
			df -h > /tmp/df_report_$(date +%Y%m%d%H%M%S).txt
			```

			* Ghi cáº£ thÃ´ng tin kiá»ƒu filesystem vÃ  inode:

			```
			{ df -hT; echo; df -i; } > /tmp/df_full_report.txt
			```

			---

			10. LÆ°u Ã½ khi dÃ¹ng trong script hoáº·c cron:

			* Sá»­ dá»¥ng Ä‘Æ°á»ng dáº«n Ä‘áº§y Ä‘á»§ (`/bin/df`) trong cron Ä‘á»ƒ trÃ¡nh váº¥n Ä‘á» PATH.
			* Kiá»ƒm tra threshold vÃ  gá»­i cáº£nh bÃ¡o náº¿u `Use%` vÆ°á»£t quÃ¡ ngÆ°á»¡ng:

			VÃ­ dá»¥ one-liner kiá»ƒm tra > 90%:

			```
			if [ $(df -h / | awk 'NR==2 {gsub(/%/,"",$5); print $5}') -gt 90 ]; then echo "Root partition > 90%" | mail -s "Disk alert" admin@example.com; fi
			```

			---

			11. TÃ³m táº¯t ngáº¯n:

			* `df -h` hiá»ƒn thá»‹ tá»•ng quan dung lÆ°á»£ng Ä‘Ä©a theo Ä‘Æ¡n vá»‹ dá»… Ä‘á»c (K/M/G).
			* Xem `Use%` Ä‘á»ƒ biáº¿t filesystem gáº§n Ä‘áº§y hay khÃ´ng; dÃ¹ng `du`, `find`, hoáº·c `ncdu` Ä‘á»ƒ tÃ¬m nguyÃªn nhÃ¢n chiáº¿m dung lÆ°á»£ng.
			* Kiá»ƒm tra `df -i` náº¿u báº¡n nghi ngá» háº¿t inode.

			---

			HÆ°á»›ng dáº«n lÆ°u nhanh:

			* Báº¡n cÃ³ thá»ƒ nháº¥n nÃºt **Copy** bÃªn cáº¡nh Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung nÃ y vÃ  dÃ¡n vÃ o file `df_-h_explanation.txt`.


		- cmd: echo "#############################" > /tmp/sysinfo.txt



		- cmd: date > /tmp/sysinfo.txt



		- cmd: echo "#############################" >> /tmp/sysinfo.txt



		- cmd: uptime >> /tmp/sysinfo.txt



		- cmd: free -m >> /tmp/sysinfo.txt



		- cmd: df -h >> /tmp/sysinfo.txt



		- cmd: yum install vim -y > /dev/null



		- cmd: cat /dev/null > /tmp/sysinfo.txt



		- cmd: free -m > /dev/null



		- cmd: freeeee -m 2>> /tmp//error.log

			Ná»˜I DUNG (Plain text, sáºµn sÃ ng Ä‘á»ƒ copy vÃ o file .txt)

			---

			## DÃ²ng lá»‡nh:  freeeee -m 2>> /tmp//error.log

			1. Má»¥c Ä‘Ã­ch tá»•ng quÃ¡t
			DÃ²ng lá»‡nh trÃªn cá»‘ gáº¯ng cháº¡y má»™t chÆ°Æ¡ng trÃ¬nh tÃªn `freeeee` vá»›i tÃ¹y chá»n `-m`,
			vÃ  hÆ°á»›ng cÃ¡c thÃ´ng bÃ¡o lá»—i (stderr) vÃ o file `/tmp/error.log` theo cháº¿ Ä‘á»™ ghÃ©p ná»‘i (append).

			2. PhÃ¢n tÃ­ch tá»«ng pháº§n (tá»«ng kÃ½ tá»±/tá»«)

			* `freeeee`
				â€¢ ÄÃ¢y lÃ  tÃªn chÆ°Æ¡ng trÃ¬nh hoáº·c lá»‡nh. CÃ³ kháº£ nÄƒng Ä‘Ã¢y lÃ  lá»—i gÃµ (typo).
				Lá»‡nh thÆ°á»ng gáº·p lÃ  `free` (hiá»ƒn thá»‹ bá»™ nhá»›). Náº¿u mÃ¡y khÃ´ng cÃ³ chÆ°Æ¡ng trÃ¬nh
				`freeeee`, há»‡ thá»‘ng sáº½ tráº£ vá» lá»—i: "command not found" (hoáº·c tÆ°Æ¡ng tá»±).

			* `-m`
				â€¢ ÄÃ¢y lÃ  má»™t tÃ¹y chá»n truyá»n cho chÆ°Æ¡ng trÃ¬nh `freeeee`.
				â€¢ Vá»›i lá»‡nh `free`, `-m` cÃ³ nghÄ©a lÃ  hiá»ƒn thá»‹ kÃ­ch thÆ°á»›c bá»™ nhá»› á»Ÿ Ä‘Æ¡n vá»‹ megabyte (MB).
				â€¢ Náº¿u `freeeee` khÃ´ng pháº£i `free`, Ã½ nghÄ©a `-m` phá»¥ thuá»™c vÃ o chÆ°Æ¡ng trÃ¬nh Ä‘Ã³.

			* `2>>`
				â€¢ ÄÃ¢y lÃ  cÃº phÃ¡p chuyá»ƒn hÆ°á»›ng (redirection) cá»§a shell (bash, sh...).
				â€¢ `2` Ä‘áº¡i diá»‡n cho mÃ´ táº£ tá»‡p (file descriptor) stderr (standard error).
				â€¢ `>>` cÃ³ nghÄ©a lÃ  **ghÃ©p ná»‘i** (append) vÃ o file Ä‘Ã­ch (khÃ´ng ghi Ä‘Ã¨).
				â€¢ Káº¿t há»£p láº¡i: `2>> file` gá»­i táº¥t cáº£ thÃ´ng bÃ¡o lá»—i tá»« tiáº¿n trÃ¬nh vÃ o cuá»‘i file `file`.

			* `/tmp//error.log`
				â€¢ ÄÃ¢y lÃ  Ä‘Æ°á»ng dáº«n tá»›i file Ä‘Ã­ch. Dáº¥u `//` giá»¯a `tmp` vÃ  `error.log` khÃ´ng gÃ¢y lá»—i â€” há»‡ thá»‘ng
				coi nhiá»u dáº¥u gáº¡ch chÃ©o liá»n nhau nhÆ° má»™t dáº¥u `/` duy nháº¥t.
				â€¢ File sáº½ Ä‘Æ°á»£c táº¡o náº¿u chÆ°a tá»“n táº¡i (náº¿u shell cÃ³ quyá»n ghi vÃ o thÆ° má»¥c `/tmp`).
				â€¢ Quyá»n sá»Ÿ há»¯u vÃ  quyá»n ghi sáº½ phá»¥ thuá»™c vÃ o ngÆ°á»i dÃ¹ng Ä‘ang cháº¡y lá»‡nh vÃ  thiáº¿t láº­p há»‡ thá»‘ng.

			3. HÃ nh vi thá»±c táº¿ khi cháº¡y lá»‡nh nÃ y

			* Náº¿u `freeeee` **khÃ´ng tá»“n táº¡i**:
				â€¢ Shell sáº½ in lá»—i nhÆ°: `bash: freeeee: command not found` lÃªn stderr.
				â€¢ VÃ¬ stderr Ä‘Æ°á»£c chuyá»ƒn hÆ°á»›ng báº±ng `2>> /tmp//error.log`, thÃ´ng bÃ¡o lá»—i sáº½ Ä‘Æ°á»£c ghi vÃ o cuá»‘i
				file `/tmp/error.log` (thay vÃ¬ in ra mÃ n hÃ¬nh).

			* Náº¿u `freeeee` **tá»“n táº¡i** vÃ  cháº¥p nháº­n `-m`:
				â€¢ stdout (káº¿t quáº£ bÃ¬nh thÆ°á»ng) sáº½ hiá»ƒn thá»‹ lÃªn mÃ n hÃ¬nh (trá»« khi Ä‘Æ°á»£c chuyá»ƒn hÆ°á»›ng).
				â€¢ stderr (cÃ¡c cáº£nh bÃ¡o/lá»—i) sáº½ Ä‘Æ°á»£c append vÃ o `/tmp/error.log`.

			* Náº¿u khÃ´ng cÃ³ quyá»n ghi vÃ o `/tmp` (hiáº¿m):
				â€¢ Shell sáº½ bÃ¡o lá»—i vá» chuyá»ƒn hÆ°á»›ng, vÃ­ dá»¥: `bash: /tmp//error.log: Permission denied` â€”
				thÃ´ng bÃ¡o nÃ y lÃ  cá»§a shell vÃ  xuáº¥t hiá»‡n trÃªn stderr cá»§a shell (khÃ´ng thá»ƒ redirect chÃ­nh
				nÃ³ trong cÃ¹ng cÃ¢u lá»‡nh), hoáº·c cÃ³ thá»ƒ xuáº¥t hiá»‡n lÃªn mÃ n hÃ¬nh.

			4. VÃ­ dá»¥ sá»­a lá»—i thÆ°á»ng gáº·p

			* NgÆ°á»i dÃ¹ng muá»‘n kiá»ƒm tra bá»™ nhá»› báº±ng `free` nhÆ°ng gÃµ thá»«a chá»¯:
				Sá»­a thÃ nh:  `free -m 2>> /tmp/error.log`

			* Muá»‘n cáº£ káº¿t quáº£ vÃ  lá»—i vÃ o file (ghi Ä‘Ã¨) â€” vÃ­ dá»¥ ghi má»›i:
				`free -m > /tmp/output.log 2> /tmp/error.log`    # stdout vÃ o output.log, stderr vÃ o error.log (ghi Ä‘Ã¨)

			* Muá»‘n cáº£ stdout vÃ  stderr cÃ¹ng append vÃ o má»™t file:
				`free -m >> /tmp/output.log 2>&1`
				hoáº·c trong bash má»›i hÆ¡n: `free -m &>> /tmp/output.log`  # append cáº£ 2 luá»“ng

			5. Ghi chÃº an toÃ n & quyá»n

			* `/tmp` thÆ°á»ng lÃ  thÆ° má»¥c táº¡m chung; file á»Ÿ Ä‘Ã³ cÃ³ thá»ƒ bá»‹ ngÆ°á»i khÃ¡c Ä‘á»c/ghi tÃ¹y cáº¥u hÃ¬nh há»‡ thá»‘ng.
			* Náº¿u lÆ°u thÃ´ng tin nháº¡y cáº£m, cÃ¢n nháº¯c dÃ¹ng Ä‘Æ°á»ng dáº«n riÃªng vÃ  Ä‘áº·t quyá»n phÃ¹ há»£p (chmod/chown).

			6. TÃ³m táº¯t ngáº¯n gá»n (1-2 dÃ²ng)

			* DÃ²ng lá»‡nh cá»‘ gáº¯ng cháº¡y `freeeee -m` vÃ  **append** má»i thÃ´ng bÃ¡o lá»—i vÃ o file `/tmp/error.log`.
			* ThÃ´ng thÆ°á»ng `freeeee` lÃ  lá»—i gÃµ â€” nÃªn dÃ¹ng `free -m` náº¿u má»¥c tiÃªu lÃ  xem bá»™ nhá»› theo MB.

		- cmd: free -m 1>> /tmp//error.log

			Ná»˜I DUNG (Plain text, sáºµn sÃ ng Ä‘á»ƒ copy vÃ o file .txt)

			---

			## DÃ²ng lá»‡nh:  free -m 1>> /tmp//error.log

			1. Má»¥c Ä‘Ã­ch tá»•ng quÃ¡t
			DÃ²ng lá»‡nh trÃªn cháº¡y chÆ°Æ¡ng trÃ¬nh `free` vá»›i tÃ¹y chá»n `-m`,
			vÃ  **append (ghÃ©p ná»‘i)** Ä‘áº§u ra chuáº©n (stdout) vÃ o file `/tmp/error.log`.

			2. PhÃ¢n tÃ­ch tá»«ng pháº§n (tá»«ng kÃ½ tá»±/tá»«)

			* `free`
				â€¢ LÃ  má»™t lá»‡nh chuáº©n trÃªn Linux/Unix Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin bá»™ nhá»› (RAM) vÃ  swap.

			* `-m`
				â€¢ TÃ¹y chá»n cá»§a `free` Ä‘á»ƒ hiá»ƒn thá»‹ cÃ¡c kÃ­ch thÆ°á»›c á»Ÿ Ä‘Æ¡n vá»‹ megabyte (MB).
				â€¢ VÃ­ dá»¥: thay vÃ¬ hiá»ƒn thá»‹ báº±ng kilobyte, con sá»‘ sáº½ lÃ  MB cho dá»… Ä‘á»c.

			* `1>>`
				â€¢ `1` lÃ  file descriptor cho **stdout** (luá»“ng Ä‘áº§u ra chuáº©n).
				â€¢ `>>` cÃ³ nghÄ©a lÃ  **append** (thÃªm vÃ o cuá»‘i file) â€” khÃ´ng ghi Ä‘Ã¨ file hiá»‡n cÃ³.
				â€¢ Káº¿t há»£p láº¡i: `1>> /path/to/file` gá»­i stdout vÃ o cuá»‘i file Ä‘Ã³.
				â€¢ LÆ°u Ã½: trong shell, `1>> file` vÃ  `>> file` cÃ³ cÃ¹ng Ã½ nghÄ©a (vÃ¬ máº·c Ä‘á»‹nh `>` Ã¡p dá»¥ng cho stdout).

			* `/tmp//error.log`
				â€¢ ÄÆ°á»ng dáº«n tá»›i file Ä‘Ã­ch. Nhiá»u dáº¥u gáº¡ch chÃ©o liÃªn tiáº¿p (`//`) khÃ´ng thÃ nh váº¥n Ä‘á» â€” há»‡ thá»‘ng
				coi `//` nhÆ° `/`.
				â€¢ File sáº½ Ä‘Æ°á»£c táº¡o náº¿u chÆ°a tá»“n táº¡i (náº¿u user cÃ³ quyá»n ghi vÃ o thÆ° má»¥c `/tmp`).

			3. HÃ nh vi thá»±c táº¿ khi cháº¡y lá»‡nh nÃ y

			* stdout (káº¿t quáº£ bÃ¬nh thÆ°á»ng cá»§a `free -m`) **sáº½ Ä‘Æ°á»£c ghi vÃ o cuá»‘i** `/tmp/error.log`.
			* stderr (cÃ¡c thÃ´ng bÃ¡o lá»—i/cáº£nh bÃ¡o) **sáº½ váº«n hiá»ƒn thá»‹ trÃªn mÃ n hÃ¬nh** (terminal) â€” **khÃ´ng** bá»‹
				chuyá»ƒn hÆ°á»›ng bá»Ÿi `1>>`.
			* Náº¿u file `/tmp/error.log` khÃ´ng cÃ³ quyá»n ghi cho user hiá»‡n táº¡i, shell sáº½ bÃ¡o lá»—i vá» chuyá»ƒn hÆ°á»›ng,
				vÃ­ dá»¥: `bash: /tmp//error.log: Permission denied`.

			4. VÃ­ dá»¥/TrÆ°á»ng há»£p sá»­ dá»¥ng phá»• biáº¿n

			* Muá»‘n append cáº£ stdout vÃ  stderr vÃ o cÃ¹ng má»™t file:
				`free -m >> /tmp/output.log 2>&1`    # append cáº£ stdout vÃ  stderr
				hoáº·c (bash má»›i): `free -m &>> /tmp/output.log`

			* Muá»‘n ghi Ä‘Ã¨ (overwrite) stdout vÃ o file vÃ  stderr vÃ o file khÃ¡c:
				`free -m > /tmp/output.log 2> /tmp/error.log`    # stdout ghi Ä‘Ã¨ output.log, stderr ghi Ä‘Ã¨ error.log

			* VÃ­ dá»¥ Ä‘Æ¡n giáº£n chá»‰ redirect stdout (tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `1>>`):
				`free -m >> /tmp/error.log`    # append stdout vÃ o /tmp/error.log

			5. Ghi chÃº vá» báº£o máº­t & quyá»n

			* `/tmp` thÆ°á»ng lÃ  thÆ° má»¥c táº¡m chung; file á»Ÿ Ä‘Ã³ cÃ³ thá»ƒ bá»‹ ngÆ°á»i khÃ¡c Ä‘á»c/ghi tÃ¹y cáº¥u hÃ¬nh há»‡ thá»‘ng.
			* Náº¿u thÃ´ng tin cáº§n báº£o máº­t, nÃªn sá»­ dá»¥ng thÆ° má»¥c riÃªng vÃ  thiáº¿t láº­p quyá»n báº±ng `chmod`/`chown`.

			6. TÃ³m táº¯t ngáº¯n gá»n (1-2 dÃ²ng)

			* Lá»‡nh `free -m 1>> /tmp//error.log` sáº½ cháº¡y `free` (hiá»ƒn thá»‹ bá»™ nhá»› theo MB) vÃ  *append*
				**stdout** vÃ o file `/tmp/error.log`. CÃ¡c thÃ´ng bÃ¡o lá»—i (stderr) váº«n xuáº¥t ra terminal.

			---

			Háº¾T

			Ghi chÃº: báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ ná»™i dung trÃªn vÃ o file .txt. Náº¿u giao diá»‡n chat cá»§a báº¡n cÃ³ nÃºt
			"Copy" hoáº·c "Sao chÃ©p" cho tÃ i liá»‡u nÃ y, báº¥m nÃºt Ä‘Ã³ Ä‘á»ƒ copy nhanh toÃ n bá»™ ná»™i dung.


		- cmd: free -m &>> /tmp//error.log

			Ná»˜I DUNG (Plain text, sáºµn sÃ ng Ä‘á»ƒ copy vÃ o file .txt)

			---

			## DÃ²ng lá»‡nh:  free -m &>> /tmp//error.log

			1. Má»¥c Ä‘Ã­ch tá»•ng quÃ¡t
			Lá»‡nh nÃ y cháº¡y `free -m` (hiá»ƒn thá»‹ thÃ´ng tin bá»™ nhá»› theo MB) vÃ  **append (ghÃ©p ná»‘i)** cáº£
			**stdout** (Ä‘áº§u ra chuáº©n) vÃ  **stderr** (lá»—i/chÃº Ã½) vÃ o file `/tmp/error.log`.

			2. PhÃ¢n tÃ­ch tá»«ng pháº§n (tá»«ng kÃ½ tá»±/tá»«)

			* `free`
				â€¢ LÃ  lá»‡nh chuáº©n trÃªn Linux/Unix Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin vá» RAM vÃ  swap.

			* `-m`
				â€¢ TÃ¹y chá»n cá»§a `free` Ä‘á»ƒ hiá»ƒn thá»‹ káº¿t quáº£ á»Ÿ Ä‘Æ¡n vá»‹ megabyte (MB), dá»… Ä‘á»c hÆ¡n KB.

			* `&>>`
				â€¢ ÄÃ¢y lÃ  cÃº phÃ¡p rÃºt gá»n trong Bash Ä‘á»ƒ **append cáº£ stdout vÃ  stderr** vÃ o file Ä‘Ã­ch.
				â€¢ TÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i: `>> /tmp/error.log 2>&1` (append stdout, rá»“i chuyá»ƒn stderr vá» cÃ¹ng stdout).
				â€¢ Ghi chÃº: `&>>` lÃ  cÃº phÃ¡p cá»§a Bash; khÃ´ng pháº£i má»i shell (vÃ­ dá»¥ sh nguyÃªn thá»§y) Ä‘á»u há»— trá»£ â€”
				nhÆ°ng háº§u háº¿t há»‡ thá»‘ng dÃ¹ng bash Ä‘á»u dÃ¹ng Ä‘Æ°á»£c.

			* `/tmp//error.log`
				â€¢ ÄÆ°á»ng dáº«n tá»›i file nÆ¡i ná»™i dung Ä‘Æ°á»£c ghi. Dáº¥u `//` khÃ´ng gÃ¢y lá»—i â€” há»‡ thá»‘ng coi nhiá»u
				dáº¥u gáº¡ch chÃ©o liÃªn tiáº¿p nhÆ° má»™t dáº¥u `/` duy nháº¥t.
				â€¢ File sáº½ Ä‘Æ°á»£c táº¡o náº¿u chÆ°a tá»“n táº¡i (náº¿u user cÃ³ quyá»n ghi vÃ o `/tmp`).

			3. HÃ nh vi thá»±c táº¿ khi cháº¡y lá»‡nh nÃ y

			* Cáº£ káº¿t quáº£ bÃ¬nh thÆ°á»ng (stdout) vÃ  cÃ¡c lá»—i/cáº£nh bÃ¡o (stderr) sáº½ Ä‘Æ°á»£c **thÃªm vÃ o cuá»‘i**
				file `/tmp/error.log`.
			* NgÆ°á»i dÃ¹ng sáº½ **khÃ´ng tháº¥y** output vÃ  lá»—i trÃªn terminal (trá»« khi file hoáº·c lá»‡nh khÃ¡c cho phÃ©p Ä‘á»c láº¡i).
			* Náº¿u user khÃ´ng cÃ³ quyá»n ghi vÃ o `/tmp`, shell sáº½ bÃ¡o lá»—i vá» chuyá»ƒn hÆ°á»›ng, vÃ­ dá»¥: `bash: /tmp//error.log: Permission denied`.

			4. So sÃ¡nh vá»›i cÃ¡c cÃ¡ch redirect khÃ¡c

			* Chá»‰ redirect stdout (append):
				`free -m >> /tmp/output.log`  # stderr váº«n hiá»ƒn thá»‹ trÃªn terminal

			* Redirect stdout vÃ  stderr (ghi Ä‘Ã¨) báº±ng cÃº phÃ¡p Ä‘áº§y Ä‘á»§:
				`free -m > /tmp/output.log 2> /tmp/error.log`  # stdout vÃ  stderr vÃ o hai file riÃªng

			* Append cáº£ stdout vÃ  stderr (tÆ°Æ¡ng Ä‘Æ°Æ¡ng &>>):
				`free -m >> /tmp/output.log 2>&1`  # append stdout, rá»“i redirect stderr vá» stdout

			* `&>>` lÃ  viáº¿t táº¯t gá»n cho `>> file 2>&1` trong bash.

			5. VÃ­ dá»¥ thá»±c táº¿

			* Ghi Ä‘áº§y Ä‘á»§ cáº£ output vÃ  lá»—i Ä‘á»ƒ phÃ¢n tÃ­ch sau:
				`free -m &>> /tmp/error.log`
				Sau Ä‘Ã³ cÃ³ thá»ƒ xem file báº±ng: `tail -n 50 /tmp/error.log` hoáº·c `less /tmp/error.log`.

			6. Ghi chÃº vá» báº£o máº­t & quyá»n

			* `/tmp` lÃ  thÆ° má»¥c táº¡m chung; file á»Ÿ Ä‘Ã³ cÃ³ thá»ƒ bá»‹ ngÆ°á»i dÃ¹ng khÃ¡c Ä‘á»c, tÃ¹y thuá»™c vÃ o quyá»n file.
			* Náº¿u thÃ´ng tin chá»©a dá»¯ liá»‡u nháº¡y cáº£m, hÃ£y dÃ¹ng thÆ° má»¥c riÃªng, Ä‘áº·t quyá»n cháº·t hÆ¡n (`chmod 600 file`).

			7. TÃ³m táº¯t ngáº¯n gá»n (1â€“2 dÃ²ng)

			* `free -m &>> /tmp//error.log` cháº¡y `free -m` vÃ  **append cáº£ stdout láº«n stderr** vÃ o `/tmp/error.log`.
			* `&>>` lÃ  cÃº phÃ¡p bash tiá»‡n lá»£i tÆ°Æ¡ng Ä‘Æ°Æ¡ng `>> file 2>&1`.

			---

			Háº¾T

			Ghi chÃº: báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ ná»™i dung trÃªn vÃ o file .txt. Náº¿u giao diá»‡n chat cá»§a báº¡n cÃ³ nÃºt
			"Copy" hoáº·c "Sao chÃ©p" cho tÃ i liá»‡u nÃ y, báº¥m nÃºt Ä‘Ã³ Ä‘á»ƒ copy nhanh toÃ n bá»™ ná»™i dung.


		- cmd: freesdsd -m &>> /tmp//error.log

			Ná»˜I DUNG (Plain text, sáºµn sÃ ng Ä‘á»ƒ copy vÃ o file .txt)

			---

			## DÃ²ng lá»‡nh:  free -m &>> /tmp//error.log

			1. Má»¥c Ä‘Ã­ch tá»•ng quÃ¡t
			Lá»‡nh nÃ y cháº¡y `free -m` (hiá»ƒn thá»‹ thÃ´ng tin bá»™ nhá»› theo MB) vÃ  **append (ghÃ©p ná»‘i)** cáº£
			**stdout** (Ä‘áº§u ra chuáº©n) vÃ  **stderr** (lá»—i/chÃº Ã½) vÃ o file `/tmp/error.log`.

			2. PhÃ¢n tÃ­ch tá»«ng pháº§n (tá»«ng kÃ½ tá»±/tá»«)

			* `free`
				â€¢ LÃ  lá»‡nh chuáº©n trÃªn Linux/Unix Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin vá» RAM vÃ  swap.

			* `-m`
				â€¢ TÃ¹y chá»n cá»§a `free` Ä‘á»ƒ hiá»ƒn thá»‹ káº¿t quáº£ á»Ÿ Ä‘Æ¡n vá»‹ megabyte (MB), dá»… Ä‘á»c hÆ¡n KB.

			* `&>>`
				â€¢ ÄÃ¢y lÃ  cÃº phÃ¡p rÃºt gá»n trong Bash Ä‘á»ƒ **append cáº£ stdout vÃ  stderr** vÃ o file Ä‘Ã­ch.
				â€¢ TÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i: `>> /tmp/error.log 2>&1` (append stdout, rá»“i chuyá»ƒn stderr vá» cÃ¹ng stdout).
				â€¢ Ghi chÃº: `&>>` lÃ  cÃº phÃ¡p cá»§a Bash; khÃ´ng pháº£i má»i shell (vÃ­ dá»¥ sh nguyÃªn thá»§y) Ä‘á»u há»— trá»£ â€”
				nhÆ°ng háº§u háº¿t há»‡ thá»‘ng dÃ¹ng bash Ä‘á»u dÃ¹ng Ä‘Æ°á»£c.

			* `/tmp//error.log`
				â€¢ ÄÆ°á»ng dáº«n tá»›i file nÆ¡i ná»™i dung Ä‘Æ°á»£c ghi. Dáº¥u `//` khÃ´ng gÃ¢y lá»—i â€” há»‡ thá»‘ng coi nhiá»u
				dáº¥u gáº¡ch chÃ©o liÃªn tiáº¿p nhÆ° má»™t dáº¥u `/` duy nháº¥t.
				â€¢ File sáº½ Ä‘Æ°á»£c táº¡o náº¿u chÆ°a tá»“n táº¡i (náº¿u user cÃ³ quyá»n ghi vÃ o `/tmp`).

			3. HÃ nh vi thá»±c táº¿ khi cháº¡y lá»‡nh nÃ y

			* Cáº£ káº¿t quáº£ bÃ¬nh thÆ°á»ng (stdout) vÃ  cÃ¡c lá»—i/cáº£nh bÃ¡o (stderr) sáº½ Ä‘Æ°á»£c **thÃªm vÃ o cuá»‘i**
				file `/tmp/error.log`.
			* NgÆ°á»i dÃ¹ng sáº½ **khÃ´ng tháº¥y** output vÃ  lá»—i trÃªn terminal (trá»« khi file hoáº·c lá»‡nh khÃ¡c cho phÃ©p Ä‘á»c láº¡i).
			* Náº¿u user khÃ´ng cÃ³ quyá»n ghi vÃ o `/tmp`, shell sáº½ bÃ¡o lá»—i vá» chuyá»ƒn hÆ°á»›ng, vÃ­ dá»¥: `bash: /tmp//error.log: Permission denied`.

			4. So sÃ¡nh vá»›i cÃ¡c cÃ¡ch redirect khÃ¡c

			* Chá»‰ redirect stdout (append):
				`free -m >> /tmp/output.log`  # stderr váº«n hiá»ƒn thá»‹ trÃªn terminal

			* Redirect stdout vÃ  stderr (ghi Ä‘Ã¨) báº±ng cÃº phÃ¡p Ä‘áº§y Ä‘á»§:
				`free -m > /tmp/output.log 2> /tmp/error.log`  # stdout vÃ  stderr vÃ o hai file riÃªng

			* Append cáº£ stdout vÃ  stderr (tÆ°Æ¡ng Ä‘Æ°Æ¡ng &>>):
				`free -m >> /tmp/output.log 2>&1`  # append stdout, rá»“i redirect stderr vá» stdout

			* `&>>` lÃ  viáº¿t táº¯t gá»n cho `>> file 2>&1` trong bash.

			5. VÃ­ dá»¥ thá»±c táº¿

			* Ghi Ä‘áº§y Ä‘á»§ cáº£ output vÃ  lá»—i Ä‘á»ƒ phÃ¢n tÃ­ch sau:
				`free -m &>> /tmp/error.log`
				Sau Ä‘Ã³ cÃ³ thá»ƒ xem file báº±ng: `tail -n 50 /tmp/error.log` hoáº·c `less /tmp/error.log`.

			6. Ghi chÃº vá» báº£o máº­t & quyá»n

			* `/tmp` lÃ  thÆ° má»¥c táº¡m chung; file á»Ÿ Ä‘Ã³ cÃ³ thá»ƒ bá»‹ ngÆ°á»i dÃ¹ng khÃ¡c Ä‘á»c, tÃ¹y thuá»™c vÃ o quyá»n file.
			* Náº¿u thÃ´ng tin chá»©a dá»¯ liá»‡u nháº¡y cáº£m, hÃ£y dÃ¹ng thÆ° má»¥c riÃªng, Ä‘áº·t quyá»n cháº·t hÆ¡n (`chmod 600 file`).

			7. TÃ³m táº¯t ngáº¯n gá»n (1â€“2 dÃ²ng)

			* `free -m &>> /tmp//error.log` cháº¡y `free -m` vÃ  **append cáº£ stdout láº«n stderr** vÃ o `/tmp/error.log`.
			* `&>>` lÃ  cÃº phÃ¡p bash tiá»‡n lá»£i tÆ°Æ¡ng Ä‘Æ°Æ¡ng `>> file 2>&1`.

			---

			Háº¾T

			Ghi chÃº: báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ ná»™i dung trÃªn vÃ o file .txt. Náº¿u giao diá»‡n chat cá»§a báº¡n cÃ³ nÃºt
			"Copy" hoáº·c "Sao chÃ©p" cho tÃ i liá»‡u nÃ y, báº¥m nÃºt Ä‘Ã³ Ä‘á»ƒ copy nhanh toÃ n bá»™ ná»™i dung.


		- cmd: wc -l /etc/passwd

			Ná»˜I DUNG (Plain text, sáºµn sÃ ng Ä‘á»ƒ copy vÃ o file .txt)

			---

			## DÃ²ng lá»‡nh:  wc -l /etc/passwd

			1. Má»¥c Ä‘Ã­ch tá»•ng quÃ¡t
			Lá»‡nh nÃ y Ä‘áº¿m sá»‘ **dÃ²ng** trong file `/etc/passwd` vÃ  in ra sá»‘ dÃ²ng Ä‘Ã³ kÃ¨m tÃªn file.

			* `wc` viáº¿t táº¯t cá»§a "word count" (Ä‘áº¿m tá»«), nhÆ°ng cÃ³ thá»ƒ Ä‘áº¿m kÃ½ tá»±, tá»«, hoáº·c dÃ²ng.
			* `-l` lÃ  tÃ¹y chá»n chá»‰ Ä‘áº¿m **sá»‘ dÃ²ng**.

			2. PhÃ¢n tÃ­ch tá»«ng pháº§n

			* `wc`
				â€¢ ChÆ°Æ¡ng trÃ¬nh chuáº©n trÃªn Unix/Linux dÃ¹ng Ä‘á»ƒ Ä‘áº¿m: sá»‘ dÃ²ng, sá»‘ tá»«, sá»‘ kÃ½ tá»±/byte cá»§a file hoáº·c input.

			* `-l`
				â€¢ TÃ¹y chá»n cho `wc` chá»‰ xuáº¥t sá»‘ dÃ²ng (line count). Káº¿t quáº£ lÃ  má»™t sá»‘ nguyÃªn.

			* `/etc/passwd`
				â€¢ ÄÆ°á»ng dáº«n tá»›i file há»‡ thá»‘ng chá»©a thÃ´ng tin tÃ i khoáº£n ngÆ°á»i dÃ¹ng (user accounts) dáº¡ng vÄƒn báº£n.
				â€¢ Má»—i dÃ²ng thÆ°á»ng biá»ƒu diá»…n má»™t tÃ i khoáº£n vÃ  cÃ³ cÃ¡c trÆ°á»ng phÃ¢n tÃ¡ch báº±ng dáº¥u `:`
				(username:password-placeholder:UID:GID:comment:home:shell).
				â€¢ File nÃ y thÆ°á»ng cÃ³ quyá»n Ä‘á»c cho háº§u háº¿t user (world-readable) vÃ¬ cÃ¡c chÆ°Æ¡ng trÃ¬nh
				cáº§n láº¥y thÃ´ng tin user.

			3. HÃ nh vi khi cháº¡y lá»‡nh

			* Káº¿t quáº£ xuáº¥t ra sáº½ cÃ³ dáº¡ng:  `Sá»_DÃ’NG  /etc/passwd`
				vÃ­ dá»¥: `42 /etc/passwd` (náº¿u cÃ³ 42 dÃ²ng)
			* Náº¿u muá»‘n chá»‰ in sá»‘ dÃ²ng (khÃ´ng kÃ¨m tÃªn file), cÃ³ thá»ƒ cháº¡y vá»›i input tá»« stdin, vÃ­ dá»¥:
				`wc -l < /etc/passwd`  # chá»‰ in `42`
				hoáº·c `cat /etc/passwd | wc -l`
			* Náº¿u file khÃ´ng tá»“n táº¡i hoáº·c khÃ´ng cÃ³ quyá»n Ä‘á»c, shell sáº½ bÃ¡o lá»—i, vÃ­ dá»¥: `wc: /etc/passwd: No such file or directory` hoáº·c `wc: /etc/passwd: Permission denied`.

			4. CÃ¡c biáº¿n thá»ƒ há»¯u Ã­ch

			* Äáº¿m cÃ¡c dÃ²ng khÃ´ng rá»—ng trong file (bá» dÃ²ng trá»‘ng):
				`grep -cve '^$' /etc/passwd`  # Ä‘áº¿m dÃ²ng khÃ´ng rá»—ng

			* Xem ná»™i dung file trÆ°á»›c khi Ä‘áº¿m (Ä‘á»ƒ kiá»ƒm tra):
				`nl -ba /etc/passwd | less`  # hiá»ƒn thá»‹ vá»›i sá»‘ dÃ²ng bÃªn trÃ¡i

			* Äáº¿m vÃ  chá»‰ in sá»‘ (khÃ´ng tÃªn file):
				`wc -l < /etc/passwd`  # redirect stdin, chá»‰ in sá»‘ dÃ²ng

			5. á»¨ng dá»¥ng thá»±c táº¿

			* Kiá»ƒm tra sá»‘ tÃ i khoáº£n ngÆ°á»i dÃ¹ng Ä‘Æ°á»£c khai bÃ¡o trong há»‡ thá»‘ng (má»—i dÃ²ng lÃ  má»™t entry).
			* Trong script, dÃ¹ng káº¿t quáº£ (`wc -l`) Ä‘á»ƒ thá»±c hiá»‡n kiá»ƒm tra hoáº·c Ä‘iá»u kiá»‡n.
				VÃ­ dá»¥ (bash):
				`NUM=$(wc -l < /etc/passwd)`
				`if [ "$NUM" -gt 100 ]; then echo "Nhiá»u tÃ i khoáº£n"; fi`

			6. Ghi chÃº báº£o máº­t & quyá»n

			* `/etc/passwd` hiá»‡n nay chá»©a pháº§n máº­t kháº©u á»Ÿ dáº¡ng placeholder (vÃ­ dá»¥ `x`),
				máº­t kháº©u hash thÆ°á»ng náº±m trong `/etc/shadow` (chá»‰ root má»›i Ä‘á»c Ä‘Æ°á»£c).
			* VÃ¬ `/etc/passwd` thÆ°á»ng cÃ³ quyá»n Ä‘á»c cho má»i user, viá»‡c Ä‘áº¿m dÃ²ng báº£n thÃ¢n khÃ´ng tiáº¿t lá»™
				thÃ´ng tin nháº¡y cáº£m hÆ¡n so vá»›i ná»™i dung file Ä‘Ã£ cÃ´ng khai.

			7. TÃ³m táº¯t ngáº¯n gá»n (1â€“2 dÃ²ng)

			* `wc -l /etc/passwd` Ä‘áº¿m vÃ  in ra **sá»‘ dÃ²ng** trong file `/etc/passwd` cÃ¹ng tÃªn file.
			* DÃ¹ng `wc -l < /etc/passwd` náº¿u báº¡n chá»‰ muá»‘n **chá»‰** giÃ¡ trá»‹ sá»‘ (khÃ´ng kÃ¨m tÃªn file).

			---

			Háº¾T

			Ghi chÃº: báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ ná»™i dung trÃªn vÃ o file .txt. Náº¿u giao diá»‡n chat cá»§a báº¡n cÃ³ nÃºt
			"Copy" hoáº·c "Sao chÃ©p" cho tÃ i liá»‡u nÃ y, báº¥m nÃºt Ä‘Ã³ Ä‘á»ƒ copy nhanh toÃ n bá»™ ná»™i dung.


		- cmd: wc -l < /etc/passwd



		- cmd: ls | wc -l

			Giáº£i thÃ­ch chi tiáº¿t: lá»‡nh `ls | wc -l`

			1. Má»¥c Ä‘Ã­ch chung
			Lá»‡nh nÃ y Ä‘áº¿m sá»‘ lÆ°á»£ng má»¥c (file vÃ  thÆ° má»¥c) Ä‘Æ°á»£c liá»‡t kÃª trong thÆ° má»¥c hiá»‡n táº¡i.

			2. Cáº¥u trÃºc lá»‡nh
			ls | wc -l

			* `ls` : liá»‡t kÃª ná»™i dung cá»§a thÆ° má»¥c hiá»‡n táº¡i (máº·c Ä‘á»‹nh, khÃ´ng hiá»ƒn thá»‹ file áº©n báº¯t Ä‘áº§u báº±ng dáº¥u cháº¥m).
			* `|`  : pipe â€” chuyá»ƒn Ä‘áº§u ra (stdout) cá»§a lá»‡nh bÃªn trÃ¡i lÃ m Ä‘áº§u vÃ o (stdin) cho lá»‡nh bÃªn pháº£i.
			* `wc -l` : `wc` (word count) vá»›i tham sá»‘ `-l` Ä‘áº¿m sá»‘ dÃ²ng trong Ä‘áº§u vÃ o.

			3. Ã nghÄ©a khi káº¿t há»£p

			* `ls` in má»—i má»¥c trÃªn má»™t dÃ²ng (trong nhiá»u trÆ°á»ng há»£p máº·c Ä‘á»‹nh). Khi chuyá»ƒn qua `wc -l`, ta Ä‘áº¿m Ä‘Æ°á»£c sá»‘ dÃ²ng â€” tÆ°Æ¡ng á»©ng vá»›i sá»‘ má»¥c do `ls` liá»‡t kÃª.
			* Káº¿t quáº£ lÃ  má»™t sá»‘ nguyÃªn (vÃ­ dá»¥: `12`) in ra trÃªn dÃ²ng má»›i â€” Ä‘Ã³ lÃ  tá»•ng sá»‘ file vÃ  thÆ° má»¥c (khÃ´ng tÃ­nh file áº©n máº·c Ä‘á»‹nh).

			4. VÃ­ dá»¥ thá»±c táº¿
			Giáº£ sá»­ thÆ° má»¥c chá»©a: `file1.txt`, `file2.txt`, `dirA`.

			* `ls` sáº½ xuáº¥t:
			file1.txt
			file2.txt
			dirA
			* `ls | wc -l` sáº½ xuáº¥t: `3`

			5. LÆ°u Ã½ vÃ  trÆ°á»ng há»£p Ä‘áº·c biá»‡t

			* File áº©n (báº¯t Ä‘áº§u báº±ng `.`) khÃ´ng Ä‘Æ°á»£c liá»‡t kÃª bá»Ÿi `ls` máº·c Ä‘á»‹nh. Náº¿u muá»‘n Ä‘áº¿m cáº£ file áº©n, dÃ¹ng: `ls -A | wc -l` hoáº·c `ls -a | wc -l` (lÆ°u Ã½ `-a` sáº½ bao gá»“m `.` vÃ  `..`).
			* Náº¿u báº¡n cÃ³ alias `ls` (vÃ­ dá»¥ `ls --color=auto`), Ä‘áº§u ra cÃ³ mÃ u cÃ³ thá»ƒ gÃ¢y rá»‘i khi xá»­ lÃ½ â€” nhÆ°ng `wc -l` chá»‰ Ä‘áº¿m dÃ²ng, nÃªn mÃ u khÃ´ng áº£nh hÆ°á»Ÿng sá»‘ Ä‘áº¿m. Tuy nhiÃªn, náº¿u `ls` in nhiá»u cá»™t (tÃ¹y terminal), thÃ¬ má»—i má»¥c cÃ³ thá»ƒ khÃ´ng náº±m trÃªn má»™t dÃ²ng riÃªng â€” káº¿t quáº£ sáº½ sai. Äá»ƒ Ä‘áº£m báº£o má»—i má»¥c trÃªn má»™t dÃ²ng, dÃ¹ng `ls -1 | wc -l` (sá»‘ má»™t, khÃ´ng pháº£i chá»¯ L), tá»©c `-1` Ã©p má»—i má»¥c in trÃªn má»™t dÃ²ng.
			* Äá»ƒ Ä‘áº¿m **Ä‘á»‡ quy** (bao gá»“m file trong cÃ¡c thÆ° má»¥c con), dÃ¹ng `find . -type f | wc -l` (Ä‘áº¿m file) hoáº·c `find . | wc -l` (Ä‘áº¿m cáº£ file vÃ  thÆ° má»¥c, bao gá»“m `.` á»Ÿ Ä‘áº§u).

			6. CÃ¡c biáº¿n thá»ƒ há»¯u Ã­ch

			* Äáº¿m má»¥c (bao gá»“m file áº©n, trá»« `.` `..`): `ls -A | wc -l`
			* Äáº£m báº£o má»—i má»¥c trÃªn má»™t dÃ²ng: `ls -1 | wc -l`
			* Äáº¿m chá»‰ file (khÃ´ng Ä‘áº¿m thÆ° má»¥c): `find . -maxdepth 1 -type f | wc -l`
			* Äáº¿m Ä‘á»‡ quy sá»‘ file: `find . -type f | wc -l`

			7. TÃ³m táº¯t ngáº¯n gá»n (Ä‘á»ƒ copy nhanh)
			ls | wc -l  # Ä‘áº¿m sá»‘ má»¥c (file + thÆ° má»¥c) Ä‘Æ°á»£c liá»‡t kÃª trong thÆ° má»¥c hiá»‡n táº¡i (khÃ´ng gá»“m file áº©n theo máº·c Ä‘á»‹nh)


		- cmd: ls | grep host*

			Giáº£i thÃ­ch chi tiáº¿t: lá»‡nh `ls | grep host*`

			1. Má»¥c Ä‘Ã­ch chung
			Lá»‡nh nÃ y thÆ°á»ng Ä‘Æ°á»£c má»¥c Ä‘Ã­ch lÃ  Ä‘á»ƒ lá»c (tÃ¬m) cÃ¡c má»¥c Ä‘Æ°á»£c `ls` liá»‡t kÃª cÃ³ chá»©a chuá»—i `host` trong tÃªn. Tuy
			nhiÃªn, cÃ¢u lá»‡nh cá»¥ thá»ƒ `ls | grep host*` cÃ³ hÃ nh vi phá»¥ thuá»™c vÃ o cÃ¡ch shell xá»­ lÃ½ kÃ½ tá»± `*` trÆ°á»›c khi `grep` Ä‘Æ°á»£c gá»i.

			2. Cáº¥u trÃºc lá»‡nh
			ls | grep host*

			* `ls` : liá»‡t kÃª ná»™i dung thÆ° má»¥c hiá»‡n táº¡i.
			* `|`  : pipe â€” chuyá»ƒn Ä‘áº§u ra cá»§a `ls` lÃ m Ä‘áº§u vÃ o cho `grep`.
			* `grep host*` : Ä‘Æ°á»£c hiá»ƒu nhÆ° gá»i `grep` vá»›i tham sá»‘ `host*` â€” nhÆ°ng **chÃº Ã½**: trong shell, `host*` lÃ  má»™t **glob
			(wildcard)** vÃ  Ä‘Æ°á»£c má»Ÿ rá»™ng thÃ nh tÃªn file trong thÆ° má»¥c hiá»‡n táº¡i **trÆ°á»›c** khi `grep` cháº¡y, trá»« khi Ä‘Æ°á»£c trÃ­ch dáº«n.

			3. Váº¥n Ä‘á» quan trá»ng: glob (shell wildcard) vs. pattern cá»§a grep

			* **Shell expansion (glob):** Náº¿u trong thÆ° má»¥c hiá»‡n táº¡i tá»“n táº¡i file hoáº·c thÆ° má»¥c cÃ³ tÃªn khá»Ÿi Ä‘áº§u `host` (vÃ­
			dá»¥ `hostname.txt`, `hosts`, `host123`), thÃ¬ `host*` sáº½ bá»‹ shell thay báº±ng danh sÃ¡ch cÃ¡c tÃªn file Ä‘Ã³. Khi Ä‘Ã³ `grep` sáº½
			nháº­n cÃ¡c tham sá»‘ lÃ  tÃªn file chá»© khÃ´ng pháº£i má»™t pattern. VÃ­ dá»¥:

			* Náº¿u cÃ³ file `hosts` vÃ  `hostname`, lá»‡nh thá»±c táº¿ cÃ³ thá»ƒ trá»Ÿ thÃ nh `ls | grep hosts hostname` â€” tá»©c `grep` Ä‘Æ°á»£c gá»i
			Ä‘á»ƒ tÃ¬m trong file `hosts` vÃ  `hostname` (Ä‘á»c tá»« file), chá»© **khÃ´ng** pháº£i dÃ¹ng `host*` lÃ m pattern trÃªn stdin.
			* **Káº¿t quáº£ sai Ã½ muá»‘n:** Do váº­y, thay vÃ¬ lá»c dÃ²ng tá»« `ls` theo chuá»—i `host`, `grep` cÃ³ thá»ƒ bá» qua stdin hoÃ n toÃ n
			hoáº·c bÃ¡o lá»—i náº¿u tÃªn file khÃ´ng há»£p lá»‡.

			4. CÃ¡ch Ä‘Ãºng Ä‘á»ƒ tÃ¬m chuá»—i `host` trong káº¿t quáº£ `ls`

			* **KhÃ´ng dÃ¹ng wildcard chÆ°a trÃ­ch dáº«n.** Äá»ƒ grep tÃ¬m chuá»—i `host` trong stdin (Ä‘áº§u ra cá»§a `ls`), hÃ£y truyá»n
			pattern **dÆ°á»›i dáº¡ng chuá»—i** (trÃ­ch dáº«n hoáº·c khÃ´ng chá»©a wildcard):

			* `ls | grep host`       # tÃ¬m dÃ²ng chá»©a `host` (phÃ¢n biá»‡t hoa thÆ°á»ng)
			* `ls | grep 'host'`     # giá»‘ng trÃªn, an toÃ n vá»›i kÃ½ tá»± Ä‘áº·c biá»‡t
			* `ls | grep "host"`    # tÆ°Æ¡ng tá»±
			* **Ã‰p má»—i má»¥c in trÃªn má»™t dÃ²ng** (trÃ¡nh `ls` in nhiá»u cá»™t gÃ¢y sai lá»‡ch):

			* `ls -1 | grep host`    # `-1` (sá»‘ má»™t) báº¯t buá»™c má»—i má»¥c trÃªn má»™t dÃ²ng
			* **Äáº¿m káº¿t quáº£**:

			* `ls -1 | grep -c host`  # tráº£ vá» sá»‘ dÃ²ng chá»©a 'host'

			5. CÃ¡c biáº¿n thá»ƒ há»¯u Ã­ch cá»§a `grep`

			* `grep -i host`   : khÃ´ng phÃ¢n biá»‡t hoa/thÆ°á»ng (Host, HOST, host Ä‘á»u khá»›p).
			* `grep -w host`   : khá»›p theo tá»« (chá»‰ khi `host` lÃ  má»™t tá»« riÃªng biá»‡t).
			* `grep -n host`   : in sá»‘ dÃ²ng (trong Ä‘áº§u ra) kÃ¨m vá»›i má»—i dÃ²ng khá»›p.
			* `grep -E 'host.*'` hoáº·c `egrep 'host.*'` : dÃ¹ng biá»ƒu thá»©c chÃ­nh quy má»Ÿ rá»™ng.
			* `grep -F 'host'` : tÃ¬m chuá»—i chá»¯ nguyÃªn (fast literal search).
			* `grep -v host`   : in cÃ¡c dÃ²ng **khÃ´ng** chá»©a `host` (pháº£n chiáº¿u).

			6. Náº¿u báº¡n muá»‘n dÃ¹ng glob Ä‘á»ƒ lá»c tÃªn file trÆ°á»›c khi `ls`

			* Náº¿u Ã½ Ä‘á»‹nh lÃ  liá»‡t kÃª chá»‰ cÃ¡c file báº¯t Ä‘áº§u báº±ng `host`, khÃ´ng cáº§n `grep`:

			* `ls host*`     # shell má»Ÿ rá»™ng host* thÃ nh cÃ¡c tÃªn file báº¯t Ä‘áº§u báº±ng host, rá»“i ls liá»‡t kÃª chÃºng
			* `ls -d host*`  # Ä‘á»ƒ `ls` in tÃªn máº«u (khÃ´ng má»Ÿ rá»™ng ná»™i dung bÃªn trong)
			* **LÆ°u Ã½:** `ls host*` khÃ¡c vá»›i `ls | grep host` vÃ¬ `ls host*` do shell má»Ÿ rá»™ng máº«u trÆ°á»›c khi `ls` cháº¡y.

			7. VÃ­ dá»¥ thá»±c táº¿
			Giáº£ sá»­ thÆ° má»¥c chá»©a: `hosts`, `hostname.txt`, `readme.md`, `HostA`.

			* `ls` cÃ³ thá»ƒ in (tuá»³ terminal, cÃ³ thá»ƒ khÃ¡c thá»© tá»±):
			HostA
			hostname.txt
			hosts
			readme.md

			* `ls -1 | grep host` in (phÃ¢n biá»‡t hoa thÆ°á»ng):
			hostname.txt
			hosts

			* `ls -1 | grep -i host` in:
			HostA
			hostname.txt
			hosts

			* Náº¿u báº¡n gÃµ `ls | grep host*` vÃ  cÃ³ file `hosts` tá»“n táº¡i, shell cÃ³ thá»ƒ má»Ÿ rá»™ng `host*` thÃ nh `hosts hostname.txt` vÃ  lá»‡nh thá»±c thi
			trá»Ÿ thÃ nh `ls | grep hosts hostname.txt` â€” `grep` lÃºc nÃ y cá»‘ Ä‘á»c file `hosts` vÃ  `hostname.txt` (khÃ´ng dÃ¹ng stdin), do Ä‘Ã³ káº¿t quáº£
			sáº½ khÃ¡c vÃ  **khÃ´ng pháº£i** Ä‘áº¿m/filter output cá»§a `ls`.

			8. Lá»i khuyÃªn thá»±c tiá»…n

			* Náº¿u má»¥c tiÃªu: **lá»c output cá»§a `ls` Ä‘á»ƒ tÃ¬m tÃªn cÃ³ chá»©a `host`**, dÃ¹ng `ls -1 | grep -i host` (hoáº·c `ls -1 | grep 'host'`). Äáº·t
			pattern trong dáº¥u nhÃ¡y Ä‘á»ƒ trÃ¡nh shell má»Ÿ rá»™ng.
			* TrÃ¡nh dÃ¹ng `ls | grep host*` khÃ´ng trÃ­ch dáº«n vÃ¬ dá»… gÃ¢y nháº§m láº«n do shell glob.
			* Thay `ls` báº±ng `printf '%s\n' *` hoáº·c `find . -maxdepth 1 -print` náº¿u cáº§n xá»­ lÃ½ tÃªn file an toÃ n vá»›i kÃ½ tá»± Ä‘áº·c biá»‡t.

			9. TÃ³m táº¯t ngáº¯n gá»n (Ä‘á»ƒ copy nhanh)
			ls | grep host*  # **khÃ´ng khuyáº¿n nghá»‹** â€” `host*` cÃ³ thá»ƒ bá»‹ shell má»Ÿ rá»™ng trÆ°á»›c khi grep cháº¡y

			Thay báº±ng (tá»‘t hÆ¡n):
			ls -1 | grep 'host'      # lá»c cÃ¡c má»¥c chá»©a "host" (má»—i má»¥c trÃªn má»™t dÃ²ng)
			ls -1 | grep -i 'host'   # khÃ´ng phÃ¢n biá»‡t hoa/thÆ°á»ng
			ls host*                 # liá»‡t kÃª trá»±c tiáº¿p cÃ¡c file báº¯t Ä‘áº§u báº±ng "host" (shell glob)

			-- Háº¿t --


		- cmd: ls | grep host



		- cmd: tail /var/log/messages | grep -i vagrant



		- cmd: tail -20 /var/log/messages | grep -i vagrant



		- cmd: free -m | grep Mem



		- cmd: ls -l | tail



		- cmd: ls -l | head



		- cmd: find /etc -name host*

			Giáº£i thÃ­ch chi tiáº¿t: lá»‡nh `find /etc -name host*`

			1. Má»¥c Ä‘Ã­ch chung
			Lá»‡nh nÃ y tÃ¬m (search) cÃ¡c file hoáº·c thÆ° má»¥c náº±m dÆ°á»›i thÆ° má»¥c `/etc` cÃ³ tÃªn khá»›p vá»›i máº«u `host*` (tá»©c tÃªn báº¯t Ä‘áº§u
			báº±ng chuá»—i `host`). Káº¿t quáº£ in ra Ä‘Æ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i hoáº·c tuyá»‡t Ä‘á»‘i cá»§a cÃ¡c má»¥c khá»›p.

			2. Cáº¥u trÃºc lá»‡nh
			find /etc -name host*

			* `find` : cÃ´ng cá»¥ tÃ¬m file/dir theo nhiá»u tiÃªu chÃ­, tÃ¬m Ä‘á»‡ quy vÃ o cÃ¡c thÆ° má»¥c con.
			* `/etc`  : thÆ° má»¥c gá»‘c Ä‘á»ƒ báº¯t Ä‘áº§u tÃ¬m (cÃ³ thá»ƒ thay báº±ng `.` cho thÆ° má»¥c hiá»‡n táº¡i hoáº·c báº¥t ká»³ Ä‘Æ°á»ng dáº«n nÃ o khÃ¡c).
			* `-name host*` : tham sá»‘ `-name` nháº­n má»™t **pattern (glob)** vÃ  so sÃ¡nh vá»›i **tÃªn file (basename)** cá»§a tá»«ng má»¥c. á»
			Ä‘Ã¢y `host*` nghÄ©a lÃ : báº¥t ká»³ tÃªn nÃ o báº¯t Ä‘áº§u báº±ng `host` vÃ  theo sau lÃ  0 hoáº·c nhiá»u kÃ½ tá»± báº¥t ká»³.

			3. LÆ°u Ã½ quan trá»ng: shell glob vs pattern cá»§a find

			* **Shell expansion (glob):** Náº¿u báº¡n gÃµ `find /etc -name host*` mÃ  trong thÆ° má»¥c hiá»‡n táº¡i cÃ³ cÃ¡c file báº¯t Ä‘áº§u báº±ng
			`host`, shell cÃ³ thá»ƒ **má»Ÿ rá»™ng** `host*` trÆ°á»›c khi `find` cháº¡y â€” khiáº¿n `find` nháº­n Ä‘á»‘i sá»‘ Ä‘Ã£ Ä‘Æ°á»£c má»Ÿ rá»™ng (tÃªn file cá»¥ thá»ƒ) thay vÃ¬ pattern. Káº¿t quáº£ cÃ³ thá»ƒ sai hoáº·c gÃ¢y lá»—i.
			* **CÃ¡ch trÃ¡nh:** luÃ´n **Ä‘áº·t pattern trong dáº¥u nhÃ¡y** Ä‘á»ƒ ngÄƒn shell má»Ÿ rá»™ng. VÃ­ dá»¥: `find /etc -name 'host*'` hoáº·c
			`find /etc -name "host*"`.

			4. HÃ nh vi cá»§a `-name`

			* `-name` dÃ¹ng **glob pattern** tÆ°Æ¡ng tá»± shell: `*` khá»›p má»i chuá»—i, `?` khá»›p má»™t kÃ½ tá»±, `[...]` khá»›p táº­p kÃ½ tá»±.
			* So sÃ¡nh **má»™t cÃ¡ch phÃ¢n biá»‡t hoa thÆ°á»ng** (case-sensitive). Äá»ƒ khÃ´ng phÃ¢n biá»‡t hoa/thÆ°á»ng, dÃ¹ng `-iname`.
			* `-name` chá»‰ so sÃ¡nh **basename** (tÃªn cuá»‘i cÃ¹ng), khÃ´ng so sÃ¡nh toÃ n bá»™ Ä‘Æ°á»ng dáº«n. Náº¿u muá»‘n so sÃ¡nh toÃ n bá»™ Ä‘Æ°á»ng
			dáº«n hÃ£y dÃ¹ng `-path`.

			5. Quyá»n truy cáº­p vÃ  lá»—i

			* `find` sáº½ cá»‘ truy xuáº¥t táº¥t cáº£ thÆ° má»¥c con dÆ°á»›i `/etc`. Báº¡n cÃ³ thá»ƒ gáº·p cÃ¡c thÃ´ng bÃ¡o lá»—i `Permission denied` náº¿u khÃ´ng
			cÃ³ quyá»n Ä‘á»c má»™t sá»‘ thÆ° má»¥c â€” Ä‘iá»u nÃ y bÃ¬nh thÆ°á»ng khi cháº¡y khÃ´ng pháº£i lÃ  root.
			* Äá»ƒ trÃ¡nh hiá»ƒn thá»‹ thÃ´ng bÃ¡o lá»—i, báº¡n cÃ³ thá»ƒ chuyá»ƒn stderr sang `/dev/null`:

			* `find /etc -name 'host*' 2>/dev/null`
			* Hoáº·c cháº¡y vá»›i quyá»n root (cáº©n tháº­n): `sudo find /etc -name 'host*'`

			6. VÃ­ dá»¥ thá»±c táº¿

			* Lá»‡nh Ä‘Ãºng (an toÃ n khá»i shell expansion):

			* `find /etc -name 'host*'`

			* Náº¿u cÃ³ file `/etc/hosts` vÃ  `/etc/hostname` káº¿t quáº£ cÃ³ thá»ƒ in:

			* `/etc/hosts`
			* `/etc/hostname`

			* TÃ¬m khÃ´ng phÃ¢n biá»‡t hoa/thÆ°á»ng:

			* `find /etc -iname 'host*'`

			* Chá»‰ tÃ¬m file (khÃ´ng bao gá»“m thÆ° má»¥c):

			* `find /etc -type f -name 'host*'`

			* Giá»›i háº¡n Ä‘á»™ sÃ¢u (khÃ´ng tÃ¬m quÃ¡ sÃ¢u):

			* `find /etc -maxdepth 1 -name 'host*'`  # chá»‰ tÃ¬m trá»±c tiáº¿p trong /etc, khÃ´ng vÃ o thÆ° má»¥c con

			* In kÃ¨m thÃ´ng tin (vÃ­ dá»¥ kÃ­ch thÆ°á»›c báº±ng `ls` tÆ°Æ¡ng á»©ng):

			* `find /etc -name 'host*' -exec ls -l {} \;`
			* Hoáº·c nhÃ³m nhiá»u file vÃ o má»™t lá»‡nh `xargs`: `find /etc -name 'host*' -print0 | xargs -0 ls -l`

			7. CÃ¡c biáº¿n thá»ƒ há»¯u Ã­ch

			* `-iname` : khÃ´ng phÃ¢n biá»‡t hoa/thÆ°á»ng.
			* `-type f` / `-type d` : lá»c chá»‰ file hoáº·c chá»‰ thÆ° má»¥c.
			* `-maxdepth N` / `-mindepth N` : giá»›i háº¡n Ä‘á»™ sÃ¢u tÃ¬m kiáº¿m.
			* `-path` : so sÃ¡nh toÃ n bá»™ Ä‘Æ°á»ng dáº«n (cÅ©ng há»— trá»£ glob).
			* `-regex` : dÃ¹ng biá»ƒu thá»©c chÃ­nh quy Ä‘á»ƒ so khá»›p Ä‘Æ°á»ng dáº«n.
			* `-print0` + `xargs -0` : an toÃ n vá»›i tÃªn file cÃ³ dáº¥u cÃ¡ch hoáº·c kÃ½ tá»± Ä‘áº·c biá»‡t.

			8. Tá»‘i Æ°u vÃ  hiá»‡u suáº¥t

			* Vá»›i `find /etc` trÃªn há»‡ thá»‘ng cÃ³ nhiá»u file, lá»‡nh cÃ³ thá»ƒ máº¥t chÃºt thá»i gian; trÃ¡nh cháº¡y trÃªn root `/` náº¿u khÃ´ng cáº§n thiáº¿t.
			* Náº¿u chá»‰ cáº§n tÃ¬m trong thÆ° má»¥c hiá»‡n táº¡i, dÃ¹ng `.` thay cho `/etc` Ä‘á»ƒ háº¡n cháº¿ khÃ´ng gian tÃ¬m kiáº¿m.

			9. TÃ³m táº¯t ngáº¯n gá»n (Ä‘á»ƒ copy nhanh)
			find /etc -name 'host*'   # tÃ¬m file/thÆ° má»¥c dÆ°á»›i /etc cÃ³ tÃªn báº¯t Ä‘áº§u báº±ng "host" (Ä‘áº·t pattern trong dáº¥u nhÃ¡y Ä‘á»ƒ trÃ¡nh shell expansion)

		- cmd: find / -name host*



		- cmd: yum install mlocate -y

Giáº£i thÃ­ch chi tiáº¿t: lá»‡nh `yum install mlocate -y`

1. Má»¥c Ä‘Ã­ch chung
   Lá»‡nh nÃ y cÃ i gÃ³i `mlocate` trÃªn cÃ¡c há»‡ Ä‘iá»u hÃ nh dÃ¹ng bá»™ quáº£n lÃ½ gÃ³i `yum` (vÃ­ dá»¥ CentOS 7, RHEL 7). `mlocate` cung cáº¥p lá»‡nh `locate` vÃ  cÆ¡ cháº¿ chá»‰ má»¥c (database) Ä‘á»ƒ tÃ¬m file nhanh trÃªn há»‡ thá»‘ng.

2. Cáº¥u trÃºc lá»‡nh
   yum install mlocate -y

* `yum`          : trÃ¬nh quáº£n lÃ½ gÃ³i cho má»™t sá»‘ báº£n phÃ¢n phá»‘i Linux (vÃ­ dá»¥ CentOS/RHEL). TrÃªn phiÃªn báº£n má»›i hÆ¡n cÃ³ thá»ƒ dÃ¹ng `dnf` thay cho `yum`.
* `install`      : thao tÃ¡c yÃªu cáº§u cÃ i má»™t gÃ³i.
* `mlocate`      : tÃªn gÃ³i cáº§n cÃ i (triá»ƒn khai phá»• biáº¿n cho lá»‡nh `locate`).
* `-y`           : tá»± Ä‘á»“ng Ã½ vá»›i má»i lá»i nháº¯c (yes) trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t â€” lá»‡nh sáº½ cháº¡y khÃ´ng cáº§n tÆ°Æ¡ng tÃ¡c.

3. Nhá»¯ng gÃ¬ xáº£y ra khi cháº¡y

* `yum` sáº½ kiá»ƒm tra kho (repositories) Ä‘Ã£ cáº¥u hÃ¬nh Ä‘á»ƒ tÃ¬m gÃ³i `mlocate` vÃ  cÃ¡c phá»¥ thuá»™c (dependencies).
* Náº¿u tÃ¬m tháº¥y, `yum` sáº½ táº£i vÃ  cÃ i Ä‘áº·t cÃ¡c gÃ³i cáº§n thiáº¿t.
* Vá»›i `-y`, quÃ¡ trÃ¬nh cÃ i diá»…n ra tá»± Ä‘á»™ng; náº¿u khÃ´ng cÃ³ `-y`, `yum` sáº½ há»i báº¡n xÃ¡c nháº­n trÆ°á»›c khi cÃ i.

4. Quyá»n thá»±c thi

* CÃ i gÃ³i yÃªu cáº§u quyá»n root. ThÃ´ng thÆ°á»ng cháº¡y vá»›i `sudo`:
  sudo yum install mlocate -y

5. Sau khi cÃ i: cáº­p nháº­t cÆ¡ sá»Ÿ dá»¯ liá»‡u locate

* `mlocate` lÆ°u danh sÃ¡ch file vÃ o má»™t database do `updatedb` táº¡o.
* Sau khi cÃ i, nÃªn cháº¡y ngay Ä‘á»ƒ cáº­p nháº­t database hiá»‡n táº¡i:
  sudo updatedb
* TrÃªn nhiá»u há»‡ thá»‘ng, `updatedb` Ä‘Æ°á»£c cháº¡y Ä‘á»‹nh ká»³ (vÃ­ dá»¥ cron.daily), nhÆ°ng náº¿u báº¡n cáº§n tÃ¬m file vá»«a táº¡o hÃ£y cháº¡y thá»§ cÃ´ng.

6. Kiá»ƒm tra cÃ i Ä‘áº·t

* Kiá»ƒm tra lá»‡nh locate cÃ³ thá»ƒ dÃ¹ng:
  locate --version
  which locate
* Cháº¡y má»™t vÃ­ dá»¥:
  locate hosts | head -n 20

7. LÆ°u Ã½ báº£o máº­t & quyá»n truy cáº­p

* Database `mlocate` thÆ°á»ng chá»‰ Ä‘Æ°á»£c Ä‘á»c bá»Ÿi root, vÃ  khi ngÆ°á»i dÃ¹ng bÃ¬nh thÆ°á»ng cháº¡y `locate`, káº¿t quáº£ sáº½ Ä‘Æ°á»£c lá»c theo quyá»n Ä‘á»ƒ khÃ´ng lá»™ file mÃ  há» khÃ´ng cÃ³ quyá»n xem.
* `updatedb` pháº£i truy xuáº¥t toÃ n bá»™ há»‡ thá»‘ng Ä‘á»ƒ xÃ¢y dá»±ng database; náº¿u cháº¡y vá»›i quyá»n cao (root), cáº§n cÃ¢n nháº¯c chÃ­nh sÃ¡ch báº£o máº­t vÃ  file nÃ o Ä‘Æ°á»£c index (vÃ­ dá»¥ dÃ¹ng biáº¿n mÃ´i trÆ°á»ng `PRUNEPATHS` hoáº·c cáº¥u hÃ¬nh).

8. Thay tháº¿ vÃ  tÆ°Æ¡ng thÃ­ch

* TrÃªn há»‡ thá»‘ng sá»­ dá»¥ng `dnf` (vÃ­ dá»¥ Fedora, RHEL 8+), dÃ¹ng:
  sudo dnf install mlocate -y
* TrÃªn Debian/Ubuntu dÃ¹ng apt:
  sudo apt update
  sudo apt install mlocate -y

9. Gá»¡ cÃ i (náº¿u cáº§n)

* CentOS/RHEL (yum):
  sudo yum remove mlocate -y
* Debian/Ubuntu (apt):
  sudo apt remove --purge mlocate -y

10. Xá»­ lÃ½ lá»—i thÆ°á»ng gáº·p

* "No package mlocate available" -> cÃ³ thá»ƒ chÆ°a báº­t repository chá»©a gÃ³i; kiá»ƒm tra /etc/yum.repos.d hoáº·c báº­t EPEL (náº¿u cáº§n).
* Lá»—i máº¡ng khi táº£i -> kiá»ƒm tra káº¿t ná»‘i internet hoáº·c proxy.
* Quyá»n bá»‹ tá»« chá»‘i -> cháº¡y vá»›i `sudo` hoáº·c Ä‘Äƒng nháº­p root.

11. VÃ­ dá»¥ thá»±c táº¿ (tá»«ng bÆ°á»›c nhanh)
    sudo yum install mlocate -y
    sudo updatedb
    locate hosts | head -n 20

12. TÃ³m táº¯t ngáº¯n gá»n (Ä‘á»ƒ copy nhanh)

# CÃ i mlocate vÃ  cáº­p nháº­t database locate

sudo yum install mlocate -y
sudo updatedb

-- Háº¿t --


		- cmd: updatedb

			Giáº£i thÃ­ch chi tiáº¿t: lá»‡nh `updatedb`

			1. Má»¥c Ä‘Ã­ch chung
			   `updatedb` lÃ  lá»‡nh dÃ¹ng Ä‘á»ƒ táº¡o hoáº·c cáº­p nháº­t **cÆ¡ sá»Ÿ dá»¯ liá»‡u** (database) cho cÃ´ng cá»¥ `locate` (thÆ°á»ng lÃ  `mlocate` hoáº·c
			   `slocate`). CÆ¡ sá»Ÿ dá»¯ liá»‡u nÃ y chá»©a danh sÃ¡ch cÃ¡c Ä‘Æ°á»ng dáº«n file trÃªn há»‡ thá»‘ng, cho phÃ©p `locate` tÃ¬m kiáº¿m ráº¥t nhanh mÃ 
			   khÃ´ng pháº£i quÃ©t toÃ n bá»™ há»‡ thá»‘ng file má»—i láº§n.

			2. CÃ¡ch hoáº¡t Ä‘á»™ng cÆ¡ báº£n

			* `updatedb` quÃ©t cÃ¡c Ä‘Æ°á»ng dáº«n Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh (máº·c Ä‘á»‹nh toÃ n bá»™ há»‡ thá»‘ng) vÃ  lÆ°u tÃªn file/Ä‘Æ°á»ng dáº«n vÃ o má»™t file
			database (thÆ°á»ng lÃ  `/var/lib/mlocate/mlocate.db` hoáº·c tÆ°Æ¡ng tá»± tÃ¹y triá»ƒn khai).
			* Khi báº¡n cháº¡y `locate <pattern>`, `locate` tra cá»©u pattern trong database nÃ y thay vÃ¬ truy xuáº¥t filesystem trá»±c
			tiáº¿p, nÃªn tráº£ káº¿t quáº£ ráº¥t nhanh.

			3. Quyá»n vÃ  báº£o máº­t

			* ThÆ°á»ng `updatedb` cáº§n quyá»n cao (root) Ä‘á»ƒ Ä‘á»c toÃ n bá»™ há»‡ thá»‘ng vÃ  láº­p chá»‰ má»¥c chÃ­nh xÃ¡c. VÃ¬ váº­y, database
			thÆ°á»ng Ä‘Æ°á»£c táº¡o bá»Ÿi root.
			* Database do `mlocate` táº¡o cÃ³ cÆ¡ cháº¿ lá»c káº¿t quáº£: khi má»™t user khÃ´ng pháº£i root cháº¡y `locate`, `mlocate` chá»‰ hiá»‡n
			cÃ¡c káº¿t quáº£ mÃ  user Ä‘Ã³ cÃ³ quyá»n truy cáº­p, Ä‘á»ƒ trÃ¡nh rÃ² rá»‰ thÃ´ng tin.

			4. Vá»‹ trÃ­ vÃ  cáº¥u hÃ¬nh

			* File database máº·c Ä‘á»‹nh thÆ°á»ng náº±m á»Ÿ: `/var/lib/mlocate/mlocate.db` hoáº·c `/var/db/locate.database` (tuá»³ distro/triá»ƒn khai).
			* Cáº¥u hÃ¬nh cá»§a `updatedb` (Ä‘Æ°á»ng dáº«n bá»‹ loáº¡i trá»«, PRUNEPATHS, PRUNEFS, v.v.) thÆ°á»ng náº±m trong `/etc/updatedb.conf`.

			  * `PRUNEPATHS` : danh sÃ¡ch cÃ¡c thÆ° má»¥c khÃ´ng muá»‘n láº­p chá»‰ má»¥c (vÃ­ dá»¥: `/tmp /var/tmp /proc /sys /dev`)
			  * `PRUNEFS`   : há»‡ thá»‘ng file khÃ´ng muá»‘n láº­p chá»‰ má»¥c (vÃ­ dá»¥: `tmpfs`, `proc`)

			5. Tham sá»‘ vÃ  tuá»³ chá»n thÃ´ng thÆ°á»ng
			   (Tuá»³ thuá»™c vÃ o triá»ƒn khai, nhÆ°ng cÃ¡c tuá»³ chá»n chuáº©n cho `mlocate`/`updatedb`):

			* `updatedb` : cháº¡y vá»›i cáº¥u hÃ¬nh máº·c Ä‘á»‹nh (Ä‘á»c `/etc/updatedb.conf`).
			* `updatedb --help` : xem cÃ¡c tuá»³ chá»n kháº£ dá»¥ng trÃªn há»‡ thá»‘ng cá»§a báº¡n.

			6. Khi nÃ o cáº§n cháº¡y `updatedb` thá»§ cÃ´ng

			* `updatedb` thÆ°á»ng Ä‘Æ°á»£c cháº¡y tá»± Ä‘á»™ng theo lá»‹ch (cron.daily hoáº·c systemd-timer) trÃªn nhiá»u há»‡ thá»‘ng.
			* Náº¿u báº¡n vá»«a táº¡o, di chuyá»ƒn hoáº·c xÃ³a nhiá»u file vÃ  muá»‘n `locate` pháº£n Ã¡nh ngay thay Ä‘á»•i Ä‘Ã³, hÃ£y cháº¡y thá»§ cÃ´ng:
			  sudo updatedb

			7. LÆ°u Ã½ vá» hiá»‡u suáº¥t vÃ  pháº¡m vi

			* `updatedb` cÃ³ thá»ƒ tá»‘n thá»i gian vÃ  IO náº¿u há»‡ thá»‘ng cÃ³ nhiá»u file. VÃ¬ lÃ½ do nÃ y, cáº¥u hÃ¬nh máº·c Ä‘á»‹nh thÆ°á»ng loáº¡i
			trá»« cÃ¡c thÆ° má»¥c táº¡m/Ä‘á»i sá»‘ng cao.
			* KhÃ´ng nÃªn cháº¡y `updatedb` quÃ¡ thÆ°á»ng xuyÃªn trÃªn mÃ¡y chá»§ sáº£n xuáº¥t mÃ  khÃ´ng cÃ¢n nháº¯c tÃ¡c Ä‘á»™ng IO.

			8. VÃ­ dá»¥ thá»±c táº¿

			* Cáº­p nháº­t database thÆ°á»ng dÃ¹ng root:
			  sudo updatedb

			* Cháº¡y vá»›i tuá»³ chá»n (náº¿u há»— trá»£) Ä‘á»ƒ chá»‰ má»¥c tá»« má»™t Ä‘Æ°á»ng dáº«n cá»¥ thá»ƒ (tuá»³ báº£n phÃ¢n phá»‘i):
			  updatedb --localpaths='/' --prunepaths='/proc /tmp'

			  # lÆ°u Ã½: tuá»³ chá»n cÃ³ thá»ƒ khÃ¡c trÃªn há»‡ thá»‘ng cá»§a báº¡n; kiá»ƒm tra `updatedb --help`.

			9. Kiá»ƒm tra sau khi cháº¡y

			* Sau khi cháº¡y `updatedb`, dÃ¹ng `locate` Ä‘á»ƒ tÃ¬m nhanh:
			  locate hosts | head -n 20
			* Náº¿u khÃ´ng tháº¥y file má»›i táº¡o, kiá»ƒm tra ráº±ng `updatedb` Ä‘Ã£ cháº¡y vÃ  file database Ä‘Æ°á»£c cáº­p nháº­t (xem thá»i gian sá»­a
			Ä‘á»•i cá»§a file database vá»›i `ls -l /var/lib/mlocate/mlocate.db`).

			10. Xá»­ lÃ½ lá»—i thÆ°á»ng gáº·p

			* "permission denied" khi cháº¡y non-root -> cháº¡y `sudo updatedb`.
			* File má»›i khÃ´ng xuáº¥t hiá»‡n trong `locate` -> cÃ³ thá»ƒ database chÆ°a Ä‘Æ°á»£c cáº­p nháº­t; cháº¡y `sudo updatedb` vÃ  thá»­ láº¡i.
			* Náº¿u muá»‘n exclude thÃªm thÆ° má»¥c khá»i indexing, chá»‰nh `/etc/updatedb.conf` (thÃªm vÃ o `PRUNEPATHS`) rá»“i cháº¡y `updatedb` láº¡i.

			11. TÃ³m táº¯t ngáº¯n gá»n (Ä‘á»ƒ copy nhanh)

			# Cáº­p nháº­t database cho locate

			sudo updatedb

			# Kiá»ƒm tra tÃ¬m kiáº¿m nhanh

			locate <pattern> | head -n 20

			-- Háº¿t --


		- cmd: locate host

			Giáº£i thÃ­ch chi tiáº¿t: lá»‡nh `locate host`

			1. Má»¥c Ä‘Ã­ch chung
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ tÃ¬m cÃ¡c Ä‘Æ°á»ng dáº«n (file hoáº·c thÆ° má»¥c) trÃªn há»‡ thá»‘ng cÃ³ chá»©a chuá»—i `host` trong tÃªn dá»±a
			trÃªn **cÆ¡ sá»Ÿ dá»¯ liá»‡u chá»‰ má»¥c** (index) Ä‘Ã£ Ä‘Æ°á»£c táº¡o trÆ°á»›c Ä‘Ã³ bá»Ÿi `updatedb`.

			2. Cáº¥u trÃºc cÆ¡ báº£n
			locate host

			* `locate` : cÃ´ng cá»¥ tÃ¬m nhanh sá»­ dá»¥ng cÆ¡ sá»Ÿ dá»¯ liá»‡u (thÆ°á»ng lÃ  `mlocate` hoáº·c `slocate` trÃªn nhiá»u há»‡ thá»‘ng Linux). NÃ³
			**khÃ´ng** tÃ¬m trá»±c tiáº¿p trong há»‡ thá»‘ng file má»—i láº§n cháº¡y mÃ  tra cá»©u trong database Ä‘Ã£ cÃ³ sáºµn.
			* `host` : chuá»—i tÃ¬m kiáº¿m. Máº·c Ä‘á»‹nh, `locate` tÃ¬m cÃ¡c Ä‘Æ°á»ng dáº«n chá»©a chuá»—i nÃ y (khÃ´ng cáº§n kÃ½ tá»± wildcard). VÃ­ dá»¥ `locate
			hosts` sáº½ tÃ¬m má»i Ä‘Æ°á»ng dáº«n chá»©a `hosts`.

			3. CÃ¡ch hoáº¡t Ä‘á»™ng vÃ  Ä‘iá»ƒm cáº§n lÆ°u Ã½

			* **Dá»±a trÃªn database:** `locate` tráº£ káº¿t quáº£ ráº¥t nhanh vÃ¬ tra cá»©u tá»« database cáº­p nháº­t bá»Ÿi `updatedb` (thÆ°á»ng cháº¡y
			Ä‘á»‹nh ká»³ bá»Ÿi há»‡ thá»‘ng). Náº¿u database chÆ°a Ä‘Æ°á»£c cáº­p nháº­t gáº§n Ä‘Ã¢y, `locate` cÃ³ thá»ƒ khÃ´ng hiá»ƒn thá»‹ file vá»«a táº¡o hoáº·c thay Ä‘á»•i gáº§n Ä‘Ã¢y.
			* **KhÃ´ng phÃ¢n biá»‡t hoa/thÆ°á»ng?**: Háº§u háº¿t triá»ƒn khai `locate` (vÃ­ dá»¥ `mlocate`) **phÃ¢n biá»‡t chá»¯ hoa/thÆ°á»ng** theo
			máº·c Ä‘á»‹nh khi tÃ¬m kiáº¿m chuá»—i. Äá»ƒ tÃ¬m khÃ´ng phÃ¢n biá»‡t hoa/thÆ°á»ng, cÃ³ thá»ƒ dÃ¹ng cÃ¡c tuá»³ chá»n hoáº·c regex (tuá»³ phiÃªn báº£n). (ThÆ°á»ng
			dÃ¹ng `-i` Ä‘á»ƒ khÃ´ng phÃ¢n biá»‡t hoa/thÆ°á»ng náº¿u há»— trá»£.)
			* **Pattern vs substring:** `locate` máº·c Ä‘á»‹nh tÃ¬m theo **substring** (báº¥t ká»³ vá»‹ trÃ­ trong Ä‘Æ°á»ng dáº«n). Náº¿u muá»‘n dÃ¹ng
			biá»ƒu thá»©c chÃ­nh quy, dÃ¹ng `locate -r 'regex'`.

			4. Nhá»¯ng tuá»³ chá»n há»¯u Ã­ch

			* `-r <pattern>` : sá»­ dá»¥ng biá»ƒu thá»©c chÃ­nh quy Ä‘á»ƒ lá»c káº¿t quáº£ (vÃ­ dá»¥ `locate -r '/etc/host.*'`).
			* `-i` : khÃ´ng phÃ¢n biá»‡t hoa/thÆ°á»ng (náº¿u phiÃªn báº£n locate há»— trá»£ `-i`).
			* `-n <N>` : chá»‰ in tá»‘i Ä‘a N káº¿t quáº£ (vd: `locate -n 20 host`).
			* `-c` : chá»‰ in sá»‘ lÆ°á»£ng káº¿t quáº£ (count) thay vÃ¬ liá»‡t kÃª chÃºng.
			* `-e` : chá»‰ in cÃ¡c Ä‘Æ°á»ng dáº«n hiá»‡n váº«n tá»“n táº¡i (loáº¡i bá» cÃ¡c káº¿t quáº£ lá»—i thá»i trong database).

			5. VÃ­ dá»¥ thá»±c táº¿

			* TÃ¬m má»i Ä‘Æ°á»ng dáº«n chá»©a "host":
			locate host

			* TÃ¬m khÃ´ng phÃ¢n biá»‡t hoa/thÆ°á»ng (náº¿u há»— trá»£):
			locate -i host

			* Giá»›i háº¡n 10 káº¿t quáº£ Ä‘áº§u:
			locate -n 10 host

			* DÃ¹ng regex Ä‘á»ƒ tÃ¬m file trong /etc báº¯t Ä‘áº§u báº±ng "host":
			locate -r '^/etc/host'

			* Chá»‰ Ä‘áº¿m sá»‘ káº¿t quáº£:
			locate -c host

			* Chá»‰ in nhá»¯ng Ä‘Æ°á»ng dáº«n cÃ²n tá»“n táº¡i trÃªn filesystem:
			locate -e host

			* Lá»c káº¿t quáº£ vÃ  hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t báº±ng `ls` (an toÃ n vá»›i tÃªn chá»©a khoáº£ng tráº¯ng):
			locate -0 host | xargs -0 ls -l

			6. Cáº­p nháº­t database

			* VÃ¬ `locate` dá»±a trÃªn database, náº¿u báº¡n vá»«a táº¡o file má»›i vÃ  khÃ´ng tháº¥y nÃ³ khi dÃ¹ng `locate`, hÃ£y cáº­p nháº­t database:
			sudo updatedb

			# sau Ä‘Ã³ cháº¡y láº¡i: locate host
			* LÆ°u Ã½: `updatedb` cáº§n quyá»n Ä‘á»ƒ truy xuáº¥t nhiá»u thÆ° má»¥c; trÃªn nhiá»u há»‡ thá»‘ng nÃ³ Ä‘Æ°á»£c cháº¡y Ä‘á»‹nh ká»³ bá»Ÿi cron/cron.daily.

			7. Quyá»n truy cáº­p vÃ  báº£o máº­t

			* `mlocate` (triá»ƒn khai phá»• biáº¿n) thÆ°á»ng lÆ°u database á»Ÿ má»™t nÆ¡i chá»‰ root cÃ³ thá»ƒ Ä‘á»c; khi ngÆ°á»i dÃ¹ng khÃ´ng pháº£i root
			cháº¡y `locate`, káº¿t quáº£ bá»‹ lá»c theo quyá»n truy cáº­p Ä‘á»ƒ trÃ¡nh lá»™ thÃ´ng tin file mÃ  ngÆ°á»i dÃ¹ng khÃ´ng Ä‘Æ°á»£c phÃ©p tháº¥y.

			8. Khi nÃ o dÃ¹ng `find` thay vÃ¬ `locate`

			* DÃ¹ng `locate` khi cáº§n tÃ¬m nhanh vÃ  cháº¥p nháº­n káº¿t quáº£ cÃ³ thá»ƒ hÆ¡i cÅ© (database chÆ°a cáº­p nháº­t).
			* DÃ¹ng `find` khi báº¡n cáº§n káº¿t quáº£ **thá»i gian thá»±c** (khÃ´ng phá»¥ thuá»™c database) hoáº·c tÃ¬m theo cÃ¡c tiÃªu chÃ­ phá»©c
			táº¡p (quyá»n, ngÃ y, kÃ­ch thÆ°á»›c, loáº¡i file). VÃ­ dá»¥:
			find / -type f -name '*host*' 2>/dev/null

			9. TÃ³m táº¯t ngáº¯n gá»n (Ä‘á»ƒ copy nhanh)
			locate host

			# tÃ¬m má»i Ä‘Æ°á»ng dáº«n chá»©a chuá»—i "host" theo database cá»§a locate (cáº§n cháº¡y `updatedb` Ä‘á»ƒ cáº­p nháº­t database náº¿u cáº§n)

			-- Háº¿t --


		- cmd: head -1 /etc/passwd



		- cmd: grep vagrant /etc/passwd



		
		
		
		- cmd: id vagrant
		
		
		
		- cmd: useradd ansible
		
			Giáº£i thÃ­ch chi tiáº¿t: lá»‡nh `useradd ansible`

			1. Má»¥c Ä‘Ã­ch chung
			   Lá»‡nh nÃ y táº¡o má»™t tÃ i khoáº£n ngÆ°á»i dÃ¹ng má»›i cÃ³ tÃªn `ansible` trÃªn há»‡ thá»‘ng Linux. `useradd` lÃ  cÃ´ng cá»¥ cáº¥p tháº¥p
			   dÃ¹ng Ä‘á»ƒ thÃªm user; cÃ¡c thiáº¿t láº­p nhÆ° thÆ° má»¥c home, shell, UID, nhÃ³m cÃ³ thá»ƒ Ä‘Æ°á»£c tÃ¹y chá»‰nh báº±ng tham sá»‘.

			2. Cáº¥u trÃºc cÆ¡ báº£n
			   useradd ansible

			* `useradd` : lá»‡nh há»‡ thá»‘ng Ä‘á»ƒ táº¡o tÃ i khoáº£n ngÆ°á»i dÃ¹ng má»›i.
			* `ansible`  : tÃªn tÃ i khoáº£n (username) sáº½ Ä‘Æ°á»£c táº¡o.

			3. HÃ nh vi máº·c Ä‘á»‹nh (tuá»³ theo distro vÃ  cáº¥u hÃ¬nh)

			* ThÃ´ng thÆ°á»ng `useradd` sáº½:

			  * Táº¡o má»™t entry trong `/etc/passwd` vÃ  `/etc/shadow`.
			  * Táº¡o thÆ° má»¥c home (tÃ¹y chá»n vÃ  tuá»³ cáº¥u hÃ¬nh) â€” nhiá»u há»‡ thá»‘ng sá»­ dá»¥ng `/home/ansible`.
			  * GÃ¡n shell máº·c Ä‘á»‹nh (vÃ­ dá»¥ `/bin/bash` hoáº·c `/sbin/nologin` tuá»³ cáº¥u hÃ¬nh trong `/etc/default/useradd` hoáº·c `/etc/login.defs`).
			  * GÃ¡n má»™t UID má»›i (theo /etc/login.defs hoáº·c tá»± Ä‘á»™ng tÃ¬m UID trá»‘ng tiáº¿p theo).
			  * Thiáº¿t láº­p nhÃ³m chÃ­nh (primary group) cÃ³ tÃªn trÃ¹ng username (vÃ­ dá»¥ `ansible`) hoáº·c group `users` tÃ¹y distro.
			* LÆ°u Ã½: HÃ nh vi chÃ­nh xÃ¡c phá»¥ thuá»™c vÃ o tá»‡p cáº¥u hÃ¬nh nhÆ° `/etc/default/useradd` vÃ  tÃ¹y chá»n `-m`/`-M` cá»§a lá»‡nh.

			4. Tham sá»‘ thÆ°á»ng dÃ¹ng (ráº¥t há»¯u Ã­ch)

			* `-m` : táº¡o thÆ° má»¥c home náº¿u chÆ°a tá»“n táº¡i (thÆ°á»ng `useradd` má»™t sá»‘ distro khÃ´ng táº¡o home tá»± Ä‘á»™ng). VÃ­ dá»¥: `useradd -m ansible`.
			* `-M` : KHÃ”NG táº¡o thÆ° má»¥c home.
			* `-d /path/to/home` : chá»‰ Ä‘á»‹nh Ä‘Æ°á»ng dáº«n thÆ° má»¥c home khÃ¡c: `useradd -m -d /srv/ansible ansible`.
			* `-s /bin/bash` : chá»‰ Ä‘á»‹nh shell Ä‘Äƒng nháº­p (vÃ­ dá»¥ `/sbin/nologin` Ä‘á»ƒ khÃ³a shell): `useradd -m -s /bin/bash ansible`.
			* `-u UID` : chá»‰ Ä‘á»‹nh UID cá»¥ thá»ƒ: `useradd -u 1500 -m ansible`.
			* `-g GROUP` : chá»‰ Ä‘á»‹nh nhÃ³m chÃ­nh: `useradd -m -g ansible ansible`.
			* `-G group1,group2` : thÃªm user vÃ o cÃ¡c nhÃ³m bá»• sung: `useradd -m -G wheel,developers ansible`.
			* `-c "Comment"` : mÃ´ táº£ (GECOS field): `useradd -m -c "Ansible automation user" ansible`.
			* `-r` : táº¡o tÃ i khoáº£n há»‡ thá»‘ng (system account) vá»›i UID trong khoáº£ng system UID (tÃ¹y distro): `useradd -r -s /sbin/nologin ansible`.

			5. Báº£o máº­t: Ä‘áº·t máº­t kháº©u vÃ  SSH keys

			* `useradd` **khÃ´ng** Ä‘áº·t máº­t kháº©u; sau khi táº¡o user, cáº§n pháº£i Ä‘áº·t máº­t kháº©u:
			  sudo passwd ansible
			* Nhiá»u trÆ°á»ng há»£p (vÃ­ dá»¥ account ansible cháº¡y automation) báº¡n muá»‘n KHÃ”NG cho phÃ©p Ä‘Äƒng nháº­p báº±ng máº­t kháº©u vÃ  chá»‰ dÃ¹ng SSH key:

			  * Táº¡o thÆ° má»¥c `.ssh` trong home vÃ  thÃªm `authorized_keys`:
				sudo mkdir -p /home/ansible/.ssh
				sudo chmod 700 /home/ansible/.ssh
				sudo sh -c 'echo "<public_key>" > /home/ansible/.ssh/authorized_keys'
				sudo chmod 600 /home/ansible/.ssh/authorized_keys
				sudo chown -R ansible:ansible /home/ansible/.ssh
			  * Sau Ä‘Ã³ cÃ³ thá»ƒ khÃ³a máº­t kháº©u Ä‘á»ƒ ngÄƒn Ä‘Äƒng nháº­p báº±ng máº­t kháº©u:
				sudo passwd -l ansible

			6. Quyá»n sudo (náº¿u cáº§n)

			* Náº¿u báº¡n muá»‘n user `ansible` cÃ³ quyá»n sudo (thÆ°á»ng Ä‘á»ƒ cháº¡y playbook cáº§n nÃ¢ng quyá»n), thÃªm vÃ o nhÃ³m `wheel` hoáº·c `sudo` (tuá»³ há»‡):
			  sudo usermod -aG wheel ansible   # RHEL/CentOS
			  sudo usermod -aG sudo ansible    # Debian/Ubuntu
			* Hoáº·c táº¡o entry sudoers cá»¥ thá»ƒ (dÃ¹ng `visudo`):
			  ansible ALL=(ALL) NOPASSWD:ALL   # (chá»‰ dÃ¹ng náº¿u báº¡n hiá»ƒu rá»§i ro)

			7. Táº¡o tÃ i khoáº£n system vs regular

			* `useradd -r` táº¡o system account (UID nhá», khÃ´ng cÃ³ home theo máº·c Ä‘á»‹nh, thÆ°á»ng dÃ¹ng cho dá»‹ch vá»¥).
			* Vá»›i `ansible` náº¿u dÃ¹ng Ä‘á»ƒ cháº¡y automation agent, cÃ³ thá»ƒ táº¡o system user: `useradd -r -s /sbin/nologin ansible`.

			8. Kiá»ƒm tra vÃ  xÃ¡c minh

			* Kiá»ƒm tra entry trong `/etc/passwd`:
			  grep '^ansible:' /etc/passwd
			* Kiá»ƒm tra home vÃ  quyá»n:
			  ls -ld /home/ansible
			  ls -ld /home/ansible/.ssh
			* Kiá»ƒm tra nhÃ³m:
			  id ansible

			9. XÃ³a user (náº¿u cáº§n)

			* XÃ³a user nhÆ°ng giá»¯ home:
			  sudo userdel ansible
			* XÃ³a user vÃ  thÆ° má»¥c home + mail spool:
			  sudo userdel -r ansible

			10. LÆ°u Ã½ thá»±c táº¿ vÃ  best practices

			* Náº¿u táº¡o user cho automation (Ansible), tá»‘t hÆ¡n táº¡o user khÃ´ng cÃ³ quyá»n shell (e.g. `/sbin/nologin`) hoáº·c chá»‰ SSH key, háº¡n cháº¿ sudo hoáº·c dÃ¹ng sudo vá»›i giá»›i háº¡n.
			* Kiá»ƒm tra file skeleton (`/etc/skel`) náº¿u muá»‘n sao chÃ©p cáº¥u trÃºc file máº·c Ä‘á»‹nh vÃ o home khi dÃ¹ng `-m`.
			* TrÆ°á»ng há»£p quáº£n lÃ½ user lá»›n, dÃ¹ng cÃ´ng cá»¥ quáº£n lÃ½ táº­p trung (LDAP, FreeIPA, AD) hoáº·c IaC Ä‘á»ƒ Ä‘á»“ng bá»™.

			11. VÃ­ dá»¥ nhanh (cÃ¡c lá»‡nh copy-ready)

			# Táº¡o user ansible, táº¡o home, chá»‰ Ä‘á»‹nh shell bash

			sudo useradd -m -s /bin/bash -c "Ansible automation user" ansible

			# Thiáº¿t láº­p SSH key (thay <public_key> báº±ng khoÃ¡ cÃ´ng khai cá»§a báº¡n)

			sudo mkdir -p /home/ansible/.ssh
			sudo sh -c 'echo "<public_key>" > /home/ansible/.ssh/authorized_keys'
			sudo chmod 700 /home/ansible/.ssh
			sudo chmod 600 /home/ansible/.ssh/authorized_keys
			sudo chown -R ansible:ansible /home/ansible

			# ThÃªm vÃ o nhÃ³m sudo (Debian/Ubuntu)

			sudo usermod -aG sudo ansible

			# KhÃ³a máº­t kháº©u (khÃ´ng cho Ä‘Äƒng nháº­p báº±ng máº­t kháº©u)

			sudo passwd -l ansible

			12. TÃ³m táº¯t ngáº¯n gá»n (Ä‘á»ƒ copy nhanh)
				useradd ansible   # táº¡o user má»›i tÃªn ansible (thÆ°á»ng cáº§n sudo vÃ  nÃªn thÃªm -m Ä‘á»ƒ táº¡o home)

			-- Háº¿t --
		
		
		- cmd: useradd jenkins
		
		
		
		- cmd: useradd aws
		
		
		
		- cmd: tail -4 /etc/passwd
		
		
		
		- cmd: tail -4 /etc/group
		
		
		
		- cmd: id ansible
		
		
		
		- cmd: groupadd devops
		
			Giáº£i thÃ­ch chi tiáº¿t: lá»‡nh `groupadd devops`

			1. Má»¥c Ä‘Ã­ch chung
			
			   Lá»‡nh nÃ y táº¡o má»™t nhÃ³m há»‡ thá»‘ng má»›i cÃ³ tÃªn `devops` trÃªn mÃ¡y Linux. NhÃ³m dÃ¹ng Ä‘á»ƒ táº­p há»£p cÃ¡c user cÃ³
			   quyá»n hoáº·c vai trÃ² tÆ°Æ¡ng tá»± (vÃ­ dá»¥ thÃ nh viÃªn team DevOps), giÃºp quáº£n lÃ½ quyá»n truy cáº­p tÃ i nguyÃªn vÃ 
			   phÃ¢n quyá»n dá»… dÃ ng hÆ¡n.

			2. Cáº¥u trÃºc cÆ¡ báº£n
			   groupadd devops

			* `groupadd` : lá»‡nh há»‡ thá»‘ng Ä‘á»ƒ táº¡o má»™t nhÃ³m má»›i.
			* `devops`   : tÃªn nhÃ³m (groupname) sáº½ Ä‘Æ°á»£c táº¡o.

			3. HÃ nh vi máº·c Ä‘á»‹nh

			* Thá»±c thi `groupadd devops` sáº½ táº¡o má»™t entry má»›i trong file `/etc/group` (hoáº·c tÆ°Æ¡ng Ä‘Æ°Æ¡ng) vá»›i
			tÃªn `devops` vÃ  má»™t GID (Group ID) Ä‘Æ°á»£c cáº¥p phÃ¡t tá»± Ä‘á»™ng (sá»‘ nguyÃªn chÆ°a dÃ¹ng).
			* Náº¿u cáº§n, GID cÃ³ thá»ƒ Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh báº±ng tuá»³ chá»n `-g`.

			4. Tham sá»‘ vÃ  tuá»³ chá»n thÆ°á»ng dÃ¹ng

			* `-g GID`   : chá»‰ Ä‘á»‹nh má»™t GID cá»¥ thá»ƒ cho nhÃ³m. VÃ­ dá»¥ `groupadd -g 1500 devops`.
			* `-r`       : táº¡o nhÃ³m há»‡ thá»‘ng (system group) vá»›i GID trong khoáº£ng system (tuá»³ distro). DÃ¹ng cho service/system accounts.
			* `-f`       : khi nhÃ³m Ä‘Ã£ tá»“n táº¡i, khÃ´ng bÃ¡o lá»—i (force); trÃªn má»™t sá»‘ há»‡, náº¿u nhÃ³m Ä‘Ã£ tá»“n táº¡i thÃ¬ lá»‡nh tráº£ vá» khÃ´ng lá»—i.
			* `-K KEY=VALUE` : ghi Ä‘Ã¨ má»™t sá»‘ tÃ¹y chá»n tá»« cáº¥u hÃ¬nh (hiáº¿m dÃ¹ng).

			5. Quyá»n thá»±c thi

			* Táº¡o nhÃ³m yÃªu cáº§u quyá»n root hoáº·c sudo. Cháº¡y lá»‡nh vá»›i `sudo` náº¿u báº¡n khÃ´ng pháº£i root:
			  sudo groupadd devops

			6. VÃ­ dá»¥ thá»±c táº¿ vÃ  workflow thÆ°á»ng tháº¥y

			* Táº¡o nhÃ³m devops:
			  sudo groupadd devops

			* ThÃªm user vÃ o nhÃ³m devops:
			  sudo usermod -aG devops username

			  # hoáº·c dÃ¹ng gpasswd

			  sudo gpasswd -a username devops

			* XÃ³a user khá»i nhÃ³m:
			  sudo gpasswd -d username devops

			* Táº¡o nhÃ³m vá»›i GID cá»¥ thá»ƒ:
			  sudo groupadd -g 2000 devops

			* Táº¡o nhÃ³m há»‡ thá»‘ng (khÃ´ng dÃ¹ng cho ngÆ°á»i dÃ¹ng bÃ¬nh thÆ°á»ng):
			  sudo groupadd -r devops

			7. Kiá»ƒm tra vÃ  xÃ¡c minh

			* Kiá»ƒm tra entry trong `/etc/group`:
			  grep '^devops:' /etc/group

			* Liá»‡t kÃª nhÃ³m vÃ  thÃ nh viÃªn:
			  getent group devops

			* Kiá»ƒm tra GID:
			  getent group devops | cut -d: -f3

			8. Best practices (thá»±c hÃ nh tá»‘t)

			* Sá»­ dá»¥ng tÃªn nhÃ³m rÃµ rÃ ng, ngáº¯n gá»n (vÃ­ dá»¥ `devops`, `docker`, `ansible`) Ä‘á»ƒ dá»… quáº£n lÃ½.
			* Náº¿u báº¡n quáº£n lÃ½ nhiá»u mÃ¡y hoáº·c nhiá»u mÃ´i trÆ°á»ng, cÃ¢n nháº¯c dÃ¹ng há»‡ thá»‘ng quáº£n lÃ½ danh tÃ­nh
			táº­p trung (LDAP, FreeIPA) thay vÃ¬ táº¡o nhÃ³m cá»¥c bá»™ tá»«ng mÃ¡y.
			* Khi thÃªm user vÃ o nhÃ³m Ä‘á»ƒ cáº¥p quyá»n (vÃ­ dá»¥ truy cáº­p thÆ° má»¥c hoáº·c sudo), hÃ£y kiá»ƒm tra quyá»n
			trÃªn file/thÆ° má»¥c má»¥c tiÃªu vÃ  cáº¥u hÃ¬nh sudoers.

			9. Quyá»n liÃªn quan (vÃ­ dá»¥ Ã¡p dá»¥ng cho thÆ° má»¥c)

			* Äá»ƒ cáº¥p quyá»n cho nhÃ³m `devops` truy cáº­p má»™t thÆ° má»¥c:
			  sudo chown -R :devops /srv/project
			  sudo chmod -R 770 /srv/project

			  # hoáº·c dÃ¹ng ACLs Ä‘á»ƒ Ä‘iá»u chá»‰nh chi tiáº¿t hÆ¡n: setfacl

			10. XÃ³a nhÃ³m (náº¿u cáº§n)

			* XÃ³a nhÃ³m khi khÃ´ng cÃ²n dÃ¹ng:
			  sudo groupdel devops
			* LÆ°u Ã½: náº¿u cÃ²n user tham chiáº¿u Ä‘áº¿n nhÃ³m nhÆ° group chÃ­nh, hÃ£y Ä‘iá»u chá»‰nh trÆ°á»›c khi xÃ³a Ä‘á»ƒ trÃ¡nh rá»‘i.

			11. Má»™t sá»‘ tÃ¬nh huá»‘ng hay gáº·p

			* "groupadd: group 'devops' already exists" -> nhÃ³m Ä‘Ã£ tá»“n táº¡i; kiá»ƒm tra báº±ng `getent group devops`.
			* Muá»‘n thay Ä‘á»•i GID cá»§a nhÃ³m -> dÃ¹ng `groupmod -g NEWGID devops` (cáº©n tháº­n náº¿u file sá»Ÿ há»¯u bá»Ÿi GID cÅ©).

			12. TÃ³m táº¯t ngáº¯n gá»n (Ä‘á»ƒ copy nhanh)

			# Táº¡o nhÃ³m devops (yÃªu cáº§u root)

			sudo groupadd devops

			# ThÃªm user vÃ o nhÃ³m

			essudo usermod -aG devops username
		
		
		- cmd: ls -l
		
		
		
		- cmd: ls -ld /opt/devopsdir
		
		
		
		- cmd: chown -R ansible:devops /opt/devopsdir
		
			GIáº¢I THÃCH Lá»†NH: chown -R ansible:devops /opt/devopsdir

			1. CÃ‚U Lá»†NH NGUYÃŠN Báº¢N
			   chown -R ansible:devops /opt/devopsdir

			2. Má»¤C ÄÃCH CHUNG
			   Thay Ä‘á»•i chá»§ sá»Ÿ há»¯u (owner) vÃ  nhÃ³m (group) cá»§a thÆ° má»¥c /opt/devopsdir vÃ  táº¥t cáº£ cÃ¡c tá»‡p/thÆ° má»¥c
			   con bÃªn trong, gÃ¡n chá»§ sá»Ÿ há»¯u lÃ  ngÆ°á»i dÃ¹ng "ansible" vÃ  nhÃ³m lÃ  "devops".

			3. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N

			* chown

			  * TÃªn lá»‡nh (change owner): dÃ¹ng Ä‘á»ƒ Ä‘á»•i chá»§ sá»Ÿ há»¯u vÃ /hoáº·c nhÃ³m cá»§a file hoáº·c thÆ° má»¥c.

			* -R

			  * TÃ¹y chá»n "recursive" (Ä‘á»‡ quy): Ã¡p dá»¥ng thay Ä‘á»•i cho thÆ° má»¥c Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh vÃ  má»i tá»‡p/thÆ° má»¥c con
			  bÃªn trong (Ä‘á»‡ quy xuá»‘ng táº¥t cáº£ cÃ¡c cáº¥p).
			  * Náº¿u khÃ´ng cÃ³ -R, chown chá»‰ Ä‘á»•i cho chÃ­nh tá»‡p/thÆ° má»¥c Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh, khÃ´ng cháº¡m vÃ o ná»™i dung bÃªn trong.

			* ansible:devops

			  * Pháº§n trÆ°á»›c dáº¥u hai cháº¥m (ansible) chá»‰ Ä‘á»‹nh tÃ i khoáº£n ngÆ°á»i dÃ¹ng (owner) má»›i.
			  * Pháº§n sau dáº¥u hai cháº¥m (devops) chá»‰ Ä‘á»‹nh tÃªn nhÃ³m (group) má»›i.
			  * CÃº phÃ¡p lÃ : user:group. Báº¡n cÅ©ng cÃ³ thá»ƒ dÃ¹ng user. (vÃ­ dá»¥ 'ansible' hoáº·c 'ansible:') hoáº·c
			  chá»‰ ':group' Ä‘á»ƒ thay Ä‘á»•i nhÃ³m mÃ  khÃ´ng Ä‘á»•i owner.

			* /opt/devopsdir

			  * ÄÆ°á»ng dáº«n tá»›i thÆ° má»¥c (hoáº·c tá»‡p) cáº§n thay Ä‘á»•i chá»§ sá»Ÿ há»¯u/nhÃ³m.
			  * á» vÃ­ dá»¥ nÃ y lÃ  má»™t thÆ° má»¥c phá»• biáº¿n dÃ¹ng chá»©a dá»¯ liá»‡u liÃªn quan devops Ä‘áº·t trong /opt.

			4. Há»† QUáº¢ SAU KHI CHáº Y Lá»†NH

			* Táº¥t cáº£ tá»‡p vÃ  thÆ° má»¥c náº±m trong /opt/devopsdir (bao gá»“m /opt/devopsdir chÃ­nh nÃ³) sáº½ cÃ³
			owner = ansible vÃ  group = devops.
			* Quyá»n truy cáº­p thá»±c táº¿ (r/w/x) khÃ´ng thay Ä‘á»•i; chá»‰ thay Ä‘á»•i chá»§ sá»Ÿ há»¯u vÃ  nhÃ³m.

			5. QUYá»€N Cáº¦N THIáº¾T Äá»‚ THá»°C HIá»†N

			* ThÃ´ng thÆ°á»ng cáº§n quyá»n root (hoáº·c dÃ¹ng sudo) Ä‘á»ƒ thay Ä‘á»•i owner cá»§a tá»‡p/ thÆ° má»¥c sang user khÃ¡c.
			* Náº¿u báº¡n lÃ  root: cháº¡y trá»±c tiáº¿p.
			* Náº¿u báº¡n dÃ¹ng sudo: sudo chown -R ansible:devops /opt/devopsdir

			6. KIá»‚M TRA Káº¾T QUáº¢

			* Xem owner/group hiá»‡n táº¡i: ls -l /opt | grep devopsdir
			* Kiá»ƒm tra Ä‘á»‡ quy: ls -lR /opt/devopsdir | head -n 30 (hoáº·c dÃ¹ng find Ä‘á»ƒ lá»c theo owner/group)
			* VÃ­ dá»¥ kiá»ƒm tra báº±ng find:
			  find /opt/devopsdir -maxdepth 1 -printf "%M %u %g %p\n"

			7. LÆ¯U Ã AN TOÃ€N VÃ€ Tá»I Æ¯U

			* Cáº©n tháº­n khi dÃ¹ng -R á»Ÿ thÆ° má»¥c lá»›n (vÃ­ dá»¥ /): cÃ³ thá»ƒ thay Ä‘á»•i hÃ ng ngÃ n tá»‡p.
			* Náº¿u muá»‘n chá»‰ Ä‘á»•i cho tá»‡p/thÆ° má»¥c nháº¥t Ä‘á»‹nh, trÃ¡nh -R hoáº·c giá»›i háº¡n báº±ng Ä‘Æ°á»ng dáº«n con rÃµ rÃ ng.
			* Náº¿u muá»‘n giá»¯ nguyÃªn má»™t sá»‘ tá»‡p Ä‘áº·c biá»‡t, cÃ³ thá»ƒ káº¿t há»£p vá»›i find vÃ  -prune Ä‘á»ƒ bá» qua.

			8. VÃ Dá»¤ THá»°C TIá»„N

			* Thá»±c thi vá»›i sudo (náº¿u cáº§n quyá»n root):
			  sudo chown -R ansible:devops /opt/devopsdir

			* Chá»‰ Ä‘á»•i nhÃ³m, giá»¯ owner hiá»‡n táº¡i (vÃ­ dá»¥ giá»¯ owner hiá»‡n táº¡i, Ä‘á»•i thÃ nh nhÃ³m devops):
			  sudo chown -R :devops /opt/devopsdir

			* Chá»‰ Ä‘á»•i owner, giá»¯ nhÃ³m hiá»‡n táº¡i:
			  sudo chown -R ansible: /opt/devopsdir

			9. CÃC Lá»†NH LIÃŠN QUAN Há»®U ÃCH

			* chgrp -R devops /opt/devopsdir    # thay Ä‘á»•i chá»‰ nhÃ³m (Ä‘á»‡ quy)
			* ls -lR /opt/devopsdir             # liá»‡t kÃª chi tiáº¿t Ä‘á»‡ quy
			* stat /opt/devopsdir               # xem owner, group, thá»i gian, quyá»n

			10. MáºªU Äá»‚ COPY VÃ€O FILE TXT (PLAIN TEXT)
				-- Báº¯t Ä‘áº§u máº«u --
				chown -R ansible:devops /opt/devopsdir

			# Má»¥c Ä‘Ã­ch: Thay owner (ansible) vÃ  group (devops) cho /opt/devopsdir vÃ  táº¥t cáº£ ná»™i dung bÃªn trong.

			# CÃº phÃ¡p: chown [OPTIONS] USER:GROUP PATH

			# Ghi chÃº: ThÆ°á»ng pháº£i cháº¡y báº±ng root hoáº·c sudo.

			-- Káº¿t thÃºc máº«u --

			---

			Ghi chÃº cuá»‘i: Náº¿u user hoáº·c group "ansible" hoáº·c "devops" chÆ°a tá»“n táº¡i, báº¡n cáº§n táº¡o chÃºng
			trÆ°á»›c (useradd, groupadd) hoáº·c chá»n user/group khÃ¡c há»£p lá»‡.
		
		
		- cmd: ls -ld /opt/devopsdir
		
		
		
		- cmd: chmod o-x /opt/devopsdir
		
			GIáº¢I THÃCH Lá»†NH: chmod o-x /opt/devopsdir

			1. CÃ‚U Lá»†NH NGUYÃŠN Báº¢N
			   chmod o-x /opt/devopsdir

			2. Má»¤C ÄÃCH CHUNG
			   Gá»¡ quyá»n thá»±c thi (execute) cho "others" (nhá»¯ng ngÆ°á»i khÃ´ng pháº£i owner hoáº·c thÃ nh viÃªn cá»§a group) trÃªn
			   thÆ° má»¥c hoáº·c tá»‡p /opt/devopsdir. NÃ³i cÃ¡ch khÃ¡c: ngÆ°á»i dÃ¹ng ngoÃ i owner vÃ  group sáº½ khÃ´ng cÃ²n quyá»n "x"
			   trÃªn Ä‘á»‘i tÆ°á»£ng nÃ y.

			3. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N

			* chmod

			  * TÃªn lá»‡nh (change mode): dÃ¹ng Ä‘á»ƒ thay Ä‘á»•i quyá»n truy cáº­p (permission) cho tá»‡p hoáº·c thÆ° má»¥c theo dáº¡ng
			  symbolic (rwx) hoáº·c numeric (octal).

			* o-x

			  * "o" (others): nhÃ³m ngÆ°á»i dÃ¹ng khÃ´ng thuá»™c owner (u) hoáº·c group (g).
			  * "-x": gá»¡ (remove) quyá»n thá»±c thi (execute).
			  * Káº¿t há»£p: "o-x" nghÄ©a lÃ  xÃ³a bá» bit "x" cho nhá»¯ng ngÆ°á»i thuá»™c category others.

			* /opt/devopsdir

			  * ÄÆ°á»ng dáº«n tá»›i thÆ° má»¥c (hoáº·c tá»‡p) cáº§n thay Ä‘á»•i.
			  * á» vÃ­ dá»¥ nÃ y lÃ  má»™t thÆ° má»¥c náº±m trong /opt.

			4. HÃ€NH VI VÃ€ Káº¾T QUáº¢

			* Náº¿u /opt/devopsdir lÃ  má»™t thÆ° má»¥c:

			  * Quyá»n "x" (execute) trÃªn thÆ° má»¥c cho phÃ©p ngÆ°á»i dÃ¹ng vÃ o (cd) vÃ o thÆ° má»¥c vÃ  truy cáº­p metadata/tÃªn
			  tá»‡p bÃªn trong (cáº§n cÃ³ cáº£ quyá»n Ä‘á»c Ä‘á»ƒ liá»‡t kÃª ná»™i dung).
			  * Sau lá»‡nh, users thuá»™c category others sáº½ khÃ´ng thá»ƒ "cd" vÃ o /opt/devopsdir (náº¿u chá»‰ cÃ³ quyá»n others
			  vÃ  khÃ´ng cÃ³ quyá»n tá»« group hoáº·c owner).
			* Náº¿u /opt/devopsdir lÃ  má»™t tá»‡p thá»±c thi:

			  * Gá»¡ quyá»n x nghÄ©a ngÆ°á»i khÃ¡c khÃ´ng thá»ƒ cháº¡y tá»‡p Ä‘Ã³ nhÆ° má»™t chÆ°Æ¡ng trÃ¬nh.

			5. QUYá»€N Cáº¦N THIáº¾T Äá»‚ THá»°C HIá»†N

			* Äá»ƒ thay Ä‘á»•i quyá»n cá»§a tá»‡p/thÆ° má»¥c thÆ°á»ng cáº§n cÃ³ quyá»n cá»§a owner hoáº·c quyá»n root.
			* Náº¿u báº¡n khÃ´ng pháº£i owner, dÃ¹ng sudo: sudo chmod o-x /opt/devopsdir

			6. KIá»‚M TRA Káº¾T QUáº¢

			* TrÆ°á»›c vÃ  sau khi cháº¡y, kiá»ƒm tra báº±ng:
			  ls -ld /opt/devopsdir

			  # VÃ­ dá»¥ Ä‘áº§u ra trÆ°á»›c: drwxrwxr-x  3 ansible devops 4096 ... /opt/devopsdir

			  # Sau khi cháº¡y: drwxrwxr--  3 ansible devops 4096 ... /opt/devopsdir

			* Giáº£i thÃ­ch kÃ½ tá»±:

			  * d: thÆ° má»¥c
			  * r w x: quyá»n owner
			  * r w x: quyá»n group
			  * r w x: quyá»n others
				Sau khi "o-x", kÃ½ tá»± x á»Ÿ vá»‹ trÃ­ others sáº½ bá»‹ gá»¡ (thÃ nh '-')

			7. TÃC Äá»˜NG THá»°C TIá»„N

			* NgÆ°á»i ngoÃ i owner/group sáº½ khÃ´ng thá»ƒ cd vÃ o thÆ° má»¥c náº¿u há» khÃ´ng cÃ³ quyá»n x tá»« group/owner.
			* Náº¿u báº¡n muá»‘n Ã¡p dá»¥ng thay Ä‘á»•i nÃ y Ä‘á»‡ quy (cho táº¥t cáº£ tá»‡p/thÆ° má»¥c con), pháº£i dÃ¹ng -R: sudo chmod -R o-x /opt/devopsdir

			  * Cáº©n trá»ng: chmod -R cÃ³ thá»ƒ thay Ä‘á»•i quyá»n trÃªn nhiá»u tá»‡p â€” xÃ¡c nháº­n trÆ°á»›c.

			8. Káº¾T Há»¢P Vá»šI CÃC PERMISSION KHÃC

			* Äá»ƒ ngÆ°á»i dÃ¹ng khÃ¡c váº«n cÃ³ thá»ƒ liá»‡t kÃª ná»™i dung nhÆ°ng khÃ´ng cháº¡y tá»‡p, cáº§n cÃ¢n nháº¯c quyá»n r vÃ  x káº¿t há»£p.
			* VÃ­ dá»¥: Ä‘á»ƒ ngÆ°á»i khÃ¡c chá»‰ Ä‘á»c tÃªn tá»‡p nhÆ°ng khÃ´ng truy cáº­p chi tiáº¿t: set quyá»n phÃ¹ há»£p cho owner/group vÃ  others.

			9. Lá»†NH LIÃŠN QUAN Há»®U ÃCH

			* chmod u+x file          # thÃªm quyá»n thá»±c thi cho owner
			* chmod g-w file          # gá»¡ quyá»n ghi cho group
			* chmod o+r file          # thÃªm quyá»n Ä‘á»c cho others
			* chmod -R o-x /path      # Ã¡p dá»¥ng Ä‘á»‡ quy
			* getfacl /path           # kiá»ƒm tra ACL (náº¿u há»‡ thá»‘ng dÃ¹ng ACLs)

			10. LÆ¯U Ã Vá»€ AN TOÃ€N

			* Quyá»n thá»±c thi trÃªn thÆ° má»¥c quyáº¿t Ä‘á»‹nh kháº£ nÄƒng truy cáº­p (search) cá»§a ngÆ°á»i dÃ¹ng. Giá»¯ quyá»n há»£p lÃ½ Ä‘á»ƒ trÃ¡nh
			vÃ´ tÃ¬nh khÃ³a ngÆ°á»i dÃ¹ng há»£p lá»‡ (vÃ­ dá»¥ dá»‹ch vá»¥, account system).
			* Kiá»ƒm tra owner/group trÆ°á»›c khi thay Ä‘á»•i Ä‘á»ƒ trÃ¡nh lÃ m giÃ¡n Ä‘oáº¡n dá»‹ch vá»¥.

			11. MáºªU Äá»‚ COPY VÃ€O FILE TXT (PLAIN TEXT)
				-- Báº¯t Ä‘áº§u máº«u --
				chmod o-x /opt/devopsdir

			# Má»¥c Ä‘Ã­ch: Gá»¡ quyá»n thá»±c thi (execute) cho "others" trÃªn /opt/devopsdir.

			# CÃº phÃ¡p: chmod [WHO][+-=][PERMS] PATH

			# LÆ°u Ã½: DÃ¹ng sudo náº¿u báº¡n khÃ´ng pháº£i owner.

			# Kiá»ƒm tra trÆ°á»›c/sau báº±ng: ls -ld /opt/devopsdir

			-- Káº¿t thÃºc máº«u --

			---

			Ghi chÃº cuá»‘i: Náº¿u há»‡ thá»‘ng sá»­ dá»¥ng ACL (getfacl/setfacl), chmod cÃ³ thá»ƒ khÃ´ng áº£nh hÆ°á»Ÿng hoÃ n toÃ n tá»›i quyá»n cá»§a
			má»™t sá»‘ user cá»¥ thá»ƒ. Kiá»ƒm tra ACL náº¿u cáº§n thiáº¿t.
		
		
		- cmd: chmod g+w /opt/devopsdir
		
		
		
		- cmd: su - miles
		
		
		
		- cmd: su - aws
		
		
		
		- cmd: chown aws.devops /opt/webdata
		
		
		
		- cmd: chmod -R 770 /opt/webdata
		
			GIáº¢I THÃCH Lá»†NH: chmod -R 770 /opt/webdata

			1. CÃ‚U Lá»†NH NGUYÃŠN Báº¢N
			   chmod -R 770 /opt/webdata

			2. Má»¤C ÄÃCH CHUNG
			   Ãp Ä‘áº·t quyá»n truy cáº­p 770 cho thÆ° má»¥c /opt/webdata vÃ  toÃ n bá»™ tá»‡p/thÆ° má»¥c con bÃªn trong (Ä‘á»‡ quy). Cá»¥ thá»ƒ: owner
			   cÃ³ quyá»n Ä‘á»c/ghi/thá»±c thi (rwx), group cÃ³ quyá»n Ä‘á»c/ghi/thá»±c thi (rwx), vÃ  others khÃ´ng cÃ³ quyá»n gÃ¬ (---).

			3. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N

			* chmod

			  * Lá»‡nh thay Ä‘á»•i mode (quyá»n) cá»§a file hoáº·c thÆ° má»¥c.

			* -R

			  * TÃ¹y chá»n "recursive": Ã¡p dá»¥ng thay Ä‘á»•i cho thÆ° má»¥c Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh vÃ  má»i tá»‡p/thÆ° má»¥c con bÃªn trong (Ä‘á»‡ quy).

			* 770

			  * Ba chá»¯ sá»‘ octal Ä‘áº¡i diá»‡n cho quyá»n cá»§a user (owner), group vÃ  others theo thá»© tá»±.
			  * 7 = 4+2+1 = r (read) + w (write) + x (execute) => rwx
			  * 7 (owner) = rwx
			  * 7 (group) = rwx
			  * 0 (others) = --- (khÃ´ng cÃ³ quyá»n)
			  * Ã nghÄ©a tá»•ng thá»ƒ: owner vÃ  thÃ nh viÃªn group cÃ³ toÃ n quyá»n, ngÆ°á»i khÃ¡c bá»‹ cháº·n hoÃ n toÃ n.

			* /opt/webdata

			  * ÄÆ°á»ng dáº«n tá»›i thÆ° má»¥c má»¥c tiÃªu.

			4. Há»† QUáº¢ SAU KHI CHáº Y Lá»†NH

			* /opt/webdata vÃ  táº¥t cáº£ ná»™i dung bÃªn trong sáº½ cÃ³ quyá»n nhÆ° sau khi liá»‡t kÃª báº±ng ls -l:
			  drwxrwx---  ... /opt/webdata
			* Owner vÃ  group cÃ³ thá»ƒ Ä‘á»c, ghi vÃ  thá»±c thi (vá»›i thÆ° má»¥c: thá»±c thi = cÃ³ thá»ƒ cd vÃ  truy cáº­p), trong khi others
			khÃ´ng thá»ƒ tháº¥y hoáº·c truy cáº­p gÃ¬.

			5. QUYá»€N Cáº¦N THIáº¾T Äá»‚ THá»°C HIá»†N

			* ThÆ°á»ng pháº£i lÃ  owner cá»§a file/thÆ° má»¥c hoáº·c quyá»n root Ä‘á»ƒ cháº¡y lá»‡nh nÃ y cho Ä‘Æ°á»ng dáº«n khÃ´ng thuá»™c quyá»n báº¡n.
			* Náº¿u cáº§n: sudo chmod -R 770 /opt/webdata

			6. LÆ¯U Ã Vá»€ THÆ¯ Má»¤C VS Tá»†P

			* Quyá»n "x" trÃªn thÆ° má»¥c cho phÃ©p truy cáº­p (search) vÃ o thÆ° má»¥c vÃ  truy xuáº¥t tá»‡p con. VÃ¬ váº­y 770 cho thÆ° má»¥c cho
			phÃ©p owner/group cd vÃ o vÃ  truy cáº­p ná»™i dung.
			* Tuy nhiÃªn, 770 Ã¡p cho tá»‡p sáº½ cáº¥p quyá»n thá»±c thi cho tá»‡p (náº¿u lÃ  file thÆ°á»ng). Náº¿u báº¡n cÃ³ nhiá»u file dá»¯ liá»‡u khÃ´ng
			cáº§n thá»±c thi, cÃ³ thá»ƒ khÃ´ng muá»‘n cáº¥p x cho cÃ¡c file:

			  * Má»™t chiáº¿n lÆ°á»£c an toÃ n: Ä‘áº·t 770 cho thÆ° má»¥c vÃ  660 cho file.
			  * VÃ­ dá»¥ Ä‘áº·t khÃ¡c nhau báº±ng find:
				find /opt/webdata -type d -exec chmod 770 {} ;
				find /opt/webdata -type f -exec chmod 660 {} ;

			7. KIá»‚M TRA Káº¾T QUáº¢

			* Kiá»ƒm tra quyá»n cá»§a thÆ° má»¥c chÃ­nh: ls -ld /opt/webdata
			* Kiá»ƒm tra quyá»n Ä‘á»‡ quy: ls -lR /opt/webdata | head -n 50
			* Hoáº·c dÃ¹ng find Ä‘á»ƒ liá»‡t kÃª file cÃ³ others quyá»n:
			  find /opt/webdata -perm /o+rwx

			8. TÃC Äá»˜NG THá»°C TIá»„N VÃ€ Háº¬U QUáº¢

			* Dá»‹ch vá»¥ hoáº·c user khÃ´ng thuá»™c owner/group sáº½ khÃ´ng thá»ƒ truy cáº­p /opt/webdata.
			* Cáº§n Ä‘áº£m báº£o user hoáº·c service cáº§n truy cáº­p Ä‘Æ°á»£c thÃªm vÃ o Ä‘Ãºng group (vd: devops, web) hoáº·c Ä‘á»•i owner phÃ¹ há»£p.
			* Náº¿u vÃ´ tÃ¬nh khÃ³a access cho dá»‹ch vá»¥ quan trá»ng, báº¡n cÃ³ thá»ƒ khÃ´i phá»¥c báº±ng chown/chgrp hoáº·c thay quyá»n.

			9. Lá»†NH Káº¾T Há»¢P Há»®U ÃCH

			* sudo chown -R www-data:web /opt/webdata    # Ä‘á»•i owner/group trÆ°á»›c khi chmod náº¿u cáº§n
			* find /opt/webdata -type d -exec chmod 770 {} ;  # chá»‰ Ã¡p cho thÆ° má»¥c
			* find /opt/webdata -type f -exec chmod 660 {} ;  # chá»‰ Ã¡p cho file
			* getfacl /opt/webdata   # kiá»ƒm tra ACL náº¿u há»‡ thá»‘ng dÃ¹ng ACLs

			10. Rá»¦I RO VÃ€ Lá»œI KHUYÃŠN

			* DÃ¹ng -R trÃªn cÃ¢y lá»›n cÃ³ thá»ƒ áº£nh hÆ°á»Ÿng ráº¥t nhiá»u tá»‡p; hÃ£y kiá»ƒm tra trÆ°á»›c (vÃ­ dá»¥ cháº¡y ls hoáº·c dry-run báº±ng find) trÆ°á»›c khi Ã¡p dá»¥ng.
			* Náº¿u há»‡ thá»‘ng sá»­ dá»¥ng ACL, chmod cÃ³ thá»ƒ khÃ´ng Ä‘iá»u chá»‰nh má»i quyá»n cho cÃ¡c user cá»¥ thá»ƒ; kiá»ƒm tra getfacl.
			* LuÃ´n Ä‘áº£m báº£o backup hoáº·c cÃ³ káº¿ hoáº¡ch há»“i phá»¥c náº¿u thay Ä‘á»•i quyá»n cÃ³ thá»ƒ gÃ¢y giÃ¡n Ä‘oáº¡n dá»‹ch vá»¥.

			11. MáºªU Äá»‚ COPY VÃ€O FILE TXT (PLAIN TEXT)
				-- Báº¯t Ä‘áº§u máº«u --
				chmod -R 770 /opt/webdata

			# Má»¥c Ä‘Ã­ch: Ãp quyá»n rwx cho owner vÃ  group; others khÃ´ng cÃ³ quyá»n. Ãp dá»¥ng Ä‘á»‡ quy cho táº¥t cáº£ ná»™i dung trong /opt/webdata.

			# LÆ°u Ã½: DÃ¹ng sudo náº¿u khÃ´ng pháº£i owner: sudo chmod -R 770 /opt/webdata

			# Náº¿u muá»‘n chá»‰ Ã¡p cho thÆ° má»¥c vÃ  giá»¯ file khÃ´ng-executable, dÃ¹ng:

			# find /opt/webdata -type d -exec chmod 770 {} ;

			# find /opt/webdata -type f -exec chmod 660 {} ;

			-- Káº¿t thÃºc máº«u --

			---

			Ghi chÃº cuá»‘i: TrÆ°á»›c khi Ã¡p dá»¥ng trÃªn há»‡ thá»‘ng production, kiá»ƒm tra owner/group hiá»‡n táº¡i vÃ  xÃ¡c nháº­n cÃ¡c dá»‹ch vá»¥ cáº§n
			truy cáº­p Ä‘Æ°á»£c cáº¥u hÃ¬nh Ä‘Ãºng (owner, group hoáº·c ACL).
		
		
		- cmd: chmod -R 754 /opt/webdata/
		
		
		
		- cmd: sudo yum install git -y
		
		
		
		- cmd: sudo useradd test
		
		
		
		- cmd: passwd ansible
		
			GIáº¢I THÃCH Lá»†NH: passwd ansible

			1. CÃ‚U Lá»†NH NGUYÃŠN Báº¢N
			   passwd ansible

			2. Má»¤C ÄÃCH CHUNG
			   Thay Ä‘á»•i (Ä‘áº·t) máº­t kháº©u cho tÃ i khoáº£n ngÆ°á»i dÃ¹ng cÃ³ tÃªn "ansible". Lá»‡nh thÆ°á»ng sáº½ yÃªu cáº§u nháº­p máº­t kháº©u má»›i theo cháº¿ Ä‘á»™ tÆ°Æ¡ng tÃ¡c (nháº­p hai láº§n Ä‘á»ƒ xÃ¡c nháº­n).

			3. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N

			* passwd

			  * TÃªn lá»‡nh: dÃ¹ng Ä‘á»ƒ thay Ä‘á»•i máº­t kháº©u cá»§a má»™t tÃ i khoáº£n ngÆ°á»i dÃ¹ng trÃªn há»‡ thá»‘ng Linux/UNIX.
			  * Khi cháº¡y khÃ´ng kÃ¨m tham sá»‘, passwd sáº½ thay Ä‘á»•i máº­t kháº©u cho ngÆ°á»i dÃ¹ng hiá»‡n táº¡i (ngÆ°á»i Ä‘ang Ä‘Äƒng nháº­p).

			* ansible

			  * TÃªn tÃ i khoáº£n (user) mÃ  máº­t kháº©u sáº½ Ä‘Æ°á»£c thay Ä‘á»•i. Náº¿u khÃ´ng cÃ³, há»‡ thá»‘ng sáº½ bÃ¡o lá»—i "user not found".

			4. HÃ€NH VI VÃ€ Káº¾T QUáº¢

			* Khi cháº¡y, lá»‡nh sáº½ yÃªu cáº§u quyá»n phÃ¹ há»£p (thÆ°á»ng pháº£i lÃ  root hoáº·c sudo) Ä‘á»ƒ thay Ä‘á»•i máº­t kháº©u cá»§a user khÃ¡c.
			* Há»‡ thá»‘ng sáº½ yÃªu cáº§u nháº­p máº­t kháº©u má»›i (vÃ  nháº­p láº¡i) â€” tÃ¹y cáº¥u hÃ¬nh PAM cÃ³ thá»ƒ yÃªu cáº§u máº­t kháº©u Ä‘á»§ Ä‘á»™ máº¡nh.
			* Sau khi thÃ nh cÃ´ng, user "ansible" cÃ³ máº­t kháº©u má»›i dÃ¹ng Ä‘á»ƒ Ä‘Äƒng nháº­p (SSH, su, su -l, etc.) tÃ¹y quyá»n vÃ  cáº¥u hÃ¬nh.

			5. QUYá»€N THá»°C THI

			* Äá»•i máº­t kháº©u cho user khÃ¡c (vÃ­ dá»¥ passwd ansible) thÆ°á»ng cáº§n quyá»n root.

			  * DÃ¹ng sudo: sudo passwd ansible
			* NgÆ°á»i dÃ¹ng thay Ä‘á»•i máº­t kháº©u chÃ­nh há» khÃ´ng cáº§n sudo (cháº¡y passwd vÃ  nháº­p máº­t kháº©u hiá»‡n táº¡i náº¿u há»‡ thá»‘ng yÃªu cáº§u).

			6. CHáº Y KHÃ”NG TÆ¯Æ NG TÃC (NON-INTERACTIVE)

			* TrÃªn Debian/Ubuntu/Ä‘a sá»‘ há»‡ thá»‘ng, Ä‘á»ƒ thay máº­t kháº©u khÃ´ng tÆ°Æ¡ng tÃ¡c (vÃ­ dá»¥ trong script) cÃ³ thá»ƒ dÃ¹ng chpasswd hoáº·c usermod:

			  * echo 'ansible:NewPassword123' | sudo chpasswd
			  * sudo usermod --password 'ENCRYPTED_PASSWORD' ansible   # ENCRYPTED_PASSWORD lÃ  giÃ¡ trá»‹ Ä‘Ã£ mÃ£ hÃ³a báº±ng phÆ°Æ¡ng phÃ¡p phÃ¹ há»£p
			* TrÃªn má»™t sá»‘ há»‡ thá»‘ng (vÃ­ dá»¥ CentOS/RHEL cÅ©), cÃ³ thá»ƒ dÃ¹ng: echo 'NewPassword123' | sudo passwd --stdin ansible

			  * LÆ°u Ã½: --stdin khÃ´ng cÃ³ trÃªn má»i distro; kiá»ƒm tra man passwd.

			7. KIá»‚M TRA Káº¾T QUáº¢

			* Thá»­ Ä‘Äƒng nháº­p báº±ng tÃ i khoáº£n ansible (SSH hoáº·c su) Ä‘á»ƒ xÃ¡c thá»±c máº­t kháº©u má»›i.
			* Kiá»ƒm tra file /etc/shadow (chá»‰ root má»›i Ä‘á»c Ä‘Æ°á»£c) Ä‘á»ƒ tháº¥y entry cá»§a user cÃ³ hash máº­t kháº©u Ä‘Ã£ thay Ä‘á»•i:
			  sudo grep '^ansible:' /etc/shadow

			8. LÆ¯U Ã Báº¢O Máº¬T VÃ€ AN TOÃ€N

			* KhÃ´ng lÆ°u máº­t kháº©u á»Ÿ dáº¡ng cleartext trong file hoáº·c script cÃ´ng khai.
			* Khi dÃ¹ng chpasswd hoáº·c echo | passwd --stdin, trÃ¡nh xuáº¥t lá»‡nh ra logs hoáº·c lá»‹ch sá»­ shell (bash history).
			* Ãp dá»¥ng chÃ­nh sÃ¡ch máº­t kháº©u: Ä‘á»™ dÃ i tá»‘i thiá»ƒu, kÃ½ tá»± Ä‘áº·c biá»‡t, chá»¯ hoa/chá»¯ thÆ°á»ng, v.v. (Ä‘Æ°á»£c cáº¥u hÃ¬nh qua PAM trÃªn há»‡ thá»‘ng).
			* Náº¿u user dÃ¹ng SSH key Ä‘á»ƒ Ä‘Äƒng nháº­p, thay Ä‘á»•i máº­t kháº©u khÃ´ng áº£nh hÆ°á»Ÿng key-based login.

			9. THÃ”NG BÃO Lá»–I THÆ¯á»œNG Gáº¶P

			* "user not found": user 'ansible' chÆ°a tá»“n táº¡i.
			* "Authentication token manipulation error": váº¥n Ä‘á» quyá»n hoáº·c filesystem á»Ÿ cháº¿ Ä‘á»™ chá»‰ Ä‘á»c.
			* "passwd: Permission denied": thiáº¿u quyá»n (khÃ´ng cháº¡y báº±ng root/sudo khi cáº§n).

			10. Lá»†NH LIÃŠN QUAN Há»®U ÃCH

			* sudo adduser ansible            # thÃªm user má»›i (Debian)
			* sudo useradd -m ansible         # thÃªm user (Ä‘a sá»‘ distro)
			* sudo chpasswd                   # cáº­p nháº­t máº­t kháº©u tá»« stdin
			* sudo passwd -l ansible          # lock account
			* sudo passwd -u ansible          # unlock account

			11. MáºªU Äá»‚ COPY VÃ€O FILE TXT (PLAIN TEXT)
				-- Báº¯t Ä‘áº§u máº«u --
				passwd ansible

			# Má»¥c Ä‘Ã­ch: Thay máº­t kháº©u cho user 'ansible'.

			# Ghi chÃº: ThÆ°á»ng pháº£i cháº¡y báº±ng root hoáº·c sudo Ä‘á»ƒ Ä‘á»•i máº­t kháº©u cho user khÃ¡c.

			# Náº¿u muá»‘n thá»±c hiá»‡n khÃ´ng tÆ°Æ¡ng tÃ¡c trong script, tham kháº£o:

			# echo 'ansible:NewPassword123' | sudo chpasswd

			# Hoáº·c (náº¿u há»‡ thá»‘ng há»— trá»£): echo 'NewPassword123' | sudo passwd --stdin ansible

			-- Káº¿t thÃºc máº«u --

			---

			Ghi chÃº cuá»‘i: LuÃ´n kiá»ƒm tra tá»“n táº¡i cá»§a user trÆ°á»›c khi cháº¡y lá»‡nh vÃ  tuÃ¢n thá»§ chÃ­nh sÃ¡ch báº£o máº­t máº­t kháº©u cá»§a tá»• chá»©c.
		
		
		- cmd: su - ansible
		
			GIáº¢I THÃCH Lá»†NH: su - ansible

			1. CÃ‚U Lá»†NH NGUYÃŠN Báº¢N
			   su - ansible

			2. Má»¤C ÄÃCH CHUNG
			   Chuyá»ƒn Ä‘á»•i sang tÃ i khoáº£n ngÆ°á»i dÃ¹ng "ansible" vÃ  khá»Ÿi táº¡o má»™t phiÃªn shell nhÆ° thá»ƒ user Ä‘Ã³ vá»«a Ä‘Äƒng nháº­p
			   (login shell). ToÃ n bá»™ mÃ´i trÆ°á»ng (environment) cá»§a user "ansible" sáº½ Ä‘Æ°á»£c náº¡p â€” bao gá»“m HOME, PATH,
			   shell profile (.profile/.bash_profile), v.v.

			3. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N

			* su

			  * TÃªn lá»‡nh: "substitute user" hoáº·c "switch user"; dÃ¹ng Ä‘á»ƒ chuyá»ƒn sang tÃ i khoáº£n ngÆ°á»i dÃ¹ng khÃ¡c.
			  * Náº¿u khÃ´ng kÃ¨m tham sá»‘, máº·c Ä‘á»‹nh chuyá»ƒn sang user root.

			* * (dáº¥u gáº¡ch ngang) hoáº·c -l hoáº·c --login

			  - Tham sá»‘ nÃ y yÃªu cáº§u su khá»Ÿi táº¡o má»™t "login shell" cho user Ä‘Ã­ch: xÃ³a/thiáº¿t láº­p láº¡i environment phÃ¹ há»£p vá»›i
			  login cá»§a user Ä‘Ã³.
			  - TÆ°Æ¡ng Ä‘Æ°Æ¡ng: su -l ansible hoáº·c su --login ansible.

			* ansible

			  * TÃªn tÃ i khoáº£n user muá»‘n chuyá»ƒn sang.

			4. HÃ€NH VI VÃ€ Káº¾T QUáº¢

			* Há»‡ thá»‘ng sáº½ yÃªu cáº§u máº­t kháº©u cá»§a user "ansible" (trá»« khi báº¡n Ä‘ang root).
			* Náº¿u nháº­p Ä‘Ãºng máº­t kháº©u (hoáº·c Ä‘ang root), báº¡n sáº½ Ä‘Æ°á»£c chuyá»ƒn sang shell cá»§a user "ansible" vÃ  tháº¥y:

			  * Prompt thay Ä‘á»•i tÆ°Æ¡ng á»©ng user@host
			  * Biáº¿n mÃ´i trÆ°á»ng HOME = /home/ansible (hoáº·c theo cáº¥u hÃ¬nh), PATH Ä‘Æ°á»£c náº¡p tá»« file profile cá»§a ansible
			* Náº¿u báº¡n Ä‘ang lÃ  root, lá»‡nh khÃ´ng yÃªu cáº§u máº­t kháº©u vÃ  sáº½ chuyá»ƒn trá»±c tiáº¿p.

			5. Sá»° KHÃC BIá»†T: "su ansible" vs "su - ansible"

			* su ansible

			  * Chá»‰ Ä‘á»•i user, **khÃ´ng** náº¡p environment nhÆ° login shell. Má»™t sá»‘ biáº¿n mÃ´i trÆ°á»ng hiá»‡n táº¡i váº«n giá»¯
			  nguyÃªn (vÃ­ dá»¥ PATH cá»§a root), HOME khÃ´ng Ä‘á»•i trá»« khi shell Ä‘á»•i.
			* su - ansible

			  * Äá»•i user **vÃ ** thá»±c thi login shell, náº¡p profile cá»§a user má»¥c tiÃªu (thÃ­ch há»£p khi báº¡n muá»‘n mÃ´i trÆ°á»ng cá»§a
			  user ansible giá»‘ng khi há» Ä‘Äƒng nháº­p).

			6. QUYá»€N VÃ€ XÃC THá»°C

			* ThÃ´ng thÆ°á»ng, Ä‘á»ƒ chuyá»ƒn sang user khÃ¡c báº±ng máº­t kháº©u, báº¡n pháº£i biáº¿t máº­t kháº©u user Ä‘Ã³.
			* Root cÃ³ thá»ƒ chuyá»ƒn sang báº¥t ká»³ user nÃ o mÃ  khÃ´ng cáº§n máº­t kháº©u.
			* TrÃªn má»™t sá»‘ há»‡ thá»‘ng (vÃ  tÃ¹y cáº¥u hÃ¬nh PAM/sshd), root cÃ³ quyá»n su khÃ´ng cáº§n máº­t kháº©u, nhÆ°ng user thÆ°á»ng pháº£i
			biáº¿t máº­t kháº©u má»¥c tiÃªu.

			7. á»¨NG Dá»¤NG THá»°C TIá»„N

			* Thá»±c hiá»‡n tÃ¡c vá»¥ dÆ°á»›i quyá»n ansible (chá»‰nh file, cháº¡y lá»‡nh vá»›i quyá»n user ansible) Ä‘á»ƒ Ä‘áº£m báº£o file thuá»™c vá»
			user Ä‘Ã³ hoáº·c Ä‘á»ƒ cháº¡y script trong mÃ´i trÆ°á»ng cá»§a há».
			* ThÆ°á»ng dÃ¹ng khi quáº£n trá»‹: su - deployuser Ä‘á»ƒ deploy á»©ng dá»¥ng dÆ°á»›i quyá»n deployuser.

			8. Lá»†NH THAY THáº¾ VÃ€ Káº¾T Há»¢P

			* sudo -i -u ansible

			  * TÆ°Æ¡ng tá»± su - ansible (má»Ÿ login shell cho ansible) náº¿u báº¡n cÃ³ quyá»n sudo. VÃ­ dá»¥: sudo -i -u ansible
			* sudo -u ansible command

			  * Cháº¡y má»™t lá»‡nh duy nháº¥t dÆ°á»›i quyá»n ansible (khÃ´ng vÃ o shell): sudo -u ansible whoami
			* su -l ansible

			  * TÆ°Æ¡ng Ä‘Æ°Æ¡ng vá» máº·t chá»©c nÄƒng vá»›i su - ansible

			9. KIá»‚M TRA Káº¾T QUáº¢

			* Sau khi su - ansible, kiá»ƒm tra:
			  whoami        # káº¿t quáº£: ansible
			  echo $HOME    # Ä‘Æ°á»ng dáº«n home cá»§a ansible
			  echo $SHELL   # shell Ä‘Æ°á»£c sá»­ dá»¥ng
			  env | less    # kiá»ƒm tra biáº¿n mÃ´i trÆ°á»ng

			10. LÆ¯U Ã Báº¢O Máº¬T

			* TrÃ¡nh chia sáº» máº­t kháº©u giá»¯a cÃ¡c account.
			* Æ¯u tiÃªn dÃ¹ng sudo vá»›i cáº¥u hÃ¬nh /etc/sudoers Ä‘á»ƒ kiá»ƒm soÃ¡t quyá»n thay vÃ¬ dÃ¹ng su náº¿u cÃ³ thá»ƒ (sudo kiá»ƒm soÃ¡t
			tá»‘t hÆ¡n logging vÃ  phÃ¢n quyá»n).
			* Ghi logs: su thÆ°á»ng Ã­t chi tiáº¿t hÆ¡n sudo vá» auditing. Náº¿u cáº§n audit tá»‘t, hÃ£y dÃ¹ng sudo.

			11. MáºªU Äá»‚ COPY VÃ€O FILE TXT (PLAIN TEXT)
				-- Báº¯t Ä‘áº§u máº«u --
				su - ansible

			# Má»¥c Ä‘Ã­ch: Chuyá»ƒn sang user 'ansible' vÃ  khá»Ÿi táº¡o login shell nhÆ° khi user Ä‘Äƒng nháº­p.

			# Ghi chÃº:

			# - ThÆ°á»ng sáº½ yÃªu cáº§u máº­t kháº©u cá»§a user 'ansible', trá»« khi báº¡n lÃ  root.

			# - Náº¿u muá»‘n cháº¡y má»™t lá»‡nh duy nháº¥t dÆ°á»›i quyá»n ansible khÃ´ng cáº§n vÃ o shell: sudo -u ansible <command>

			# - Náº¿u báº¡n sá»­ dá»¥ng sudo vÃ  muá»‘n cÃ³ login shell: sudo -i -u ansible

			-- Káº¿t thÃºc máº«u --

			---

			Ghi chÃº cuá»‘i: Kiá»ƒm tra chÃ­nh sÃ¡ch tá»• chá»©c vá» viá»‡c dÃ¹ng su vs sudo; nhiá»u há»‡ thá»‘ng khuyáº¿n nghá»‹ dÃ¹ng sudo Ä‘á»ƒ cÃ³
			auditing vÃ  kiá»ƒm soÃ¡t tá»‘t hÆ¡n.
		
		
		- cmd: sudo useradd test12
		
		
		
		- cmd: visudo
		
			GIáº¢I THÃCH Lá»†NH: visudo

			1. CÃ‚U Lá»†NH NGUYÃŠN Báº¢N
			   visudo

			2. Má»¤C ÄÃCH CHUNG
			   Má»Ÿ vÃ  chá»‰nh sá»­a an toÃ n file cáº¥u hÃ¬nh sudoers (thÆ°á»ng /etc/sudoers) báº±ng má»™t editor, vá»›i cÆ¡ cháº¿ kiá»ƒm tra cÃº
			   phÃ¡p vÃ  khÃ³a Ä‘á»ƒ trÃ¡nh ghi Ä‘Ã¨ hoáº·c phÃ¡ há»ng file sudoers. visudo giÃºp ngÄƒn ngÆ°á»i quáº£n trá»‹ vÃ´ tÃ¬nh lÃ m há»ng
			   cáº¥u hÃ¬nh sudo (tá»« Ä‘Ã³ khÃ³a truy cáº­p root/sudo).

			3. Táº I SAO PHáº¢I DÃ™NG visudo?

			* File /etc/sudoers ráº¥t nháº¡y cáº£m: lá»—i cÃº phÃ¡p cÃ³ thá»ƒ khiáº¿n sudo khÃ´ng hoáº¡t Ä‘á»™ng.
			* visudo sáº½:

			  * Táº¡o má»™t báº£n táº¡m (temporary copy) Ä‘á»ƒ chá»‰nh sá»­a.
			  * Kiá»ƒm tra cÃº phÃ¡p trÆ°á»›c khi ghi thay tháº¿ file gá»‘c.
			  * KhÃ³a file Ä‘á»ƒ ngÄƒn nhiá»u admin ghi chá»“ng lÃªn nhau cÃ¹ng lÃºc.
			  * Náº¿u kiá»ƒm tra cÃº phÃ¡p tháº¥t báº¡i, visudo sáº½ tá»« chá»‘i ghi vÃ  giá»¯ file gá»‘c an toÃ n.

			4. CÃC TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG

			* visudo -c

			  * Chá»‰ kiá»ƒm tra cÃº phÃ¡p cá»§a file sudoers hiá»‡n táº¡i, khÃ´ng má»Ÿ editor. Tráº£ vá» mÃ£ lá»—i náº¿u cÃ³ váº¥n Ä‘á».

			* visudo -f /path/to/file

			  * Chá»‰nh sá»­a má»™t file sudoers khÃ¡c (vÃ­ dá»¥ /etc/sudoers.d/custom) thay vÃ¬ file máº·c Ä‘á»‹nh.

			* visudo -q

			  * Cháº¡y á»Ÿ cháº¿ Ä‘á»™ quiet (Ã­t output) â€” tÃ¹y phiÃªn báº£n sudo.

			* visudo -s

			  * Kiá»ƒm tra cÃº phÃ¡p theo cháº¿ Ä‘á»™ stricter (tÃ¹y phiÃªn báº£n); dÃ¹ng Ä‘á»ƒ xÃ¡c thá»±c kiá»ƒu POSIX.

			* visudo -h hoáº·c --help

			  * Hiá»ƒn thá»‹ trá»£ giÃºp ngáº¯n.

			LÆ°u Ã½: TÃ¹y chá»n cÃ³ thá»ƒ khÃ¡c nháº¹ theo phiÃªn báº£n sudo trÃªn distro báº¡n dÃ¹ng. Kiá»ƒm tra man visudo Ä‘á»ƒ biáº¿t chi tiáº¿t: man visudo

			5. EDITOR ÄÆ¯á»¢C Sá»¬ Dá»¤NG

			* visudo sáº½ gá»i editor theo biáº¿n mÃ´i trÆ°á»ng $VISUAL hoáº·c $EDITOR (theo thá»© tá»±). VÃ­ dá»¥:
			  export VISUAL=nano
			  sudo visudo
			* Náº¿u khÃ´ng cÃ³ biáº¿n mÃ´i trÆ°á»ng, visudo máº·c Ä‘á»‹nh dÃ¹ng vi (hoáº·c editor máº·c Ä‘á»‹nh cá»§a há»‡ thá»‘ng).
			* Báº¡n cÃ³ thá»ƒ táº¡m thá»i thay editor nhÆ°:
			  sudo EDITOR=nano visudo
			  sudo VISUAL=vim visudo

			6. CÃCH HOáº T Äá»˜NG CÆ  Báº¢N

			* Khi cháº¡y visudo, má»™t báº£n copy táº¡m cá»§a sudoers Ä‘Æ°á»£c má»Ÿ báº±ng editor.
			* Báº¡n chá»‰nh sá»­a, lÆ°u vÃ  thoÃ¡t. visudo sáº½ kiá»ƒm tra cÃº phÃ¡p file táº¡m.
			* Náº¿u cÃº phÃ¡p há»£p lá»‡, visudo ghi Ä‘Ã¨ file /etc/sudoers (hoáº·c file -f chá»‰ Ä‘á»‹nh) má»™t cÃ¡ch an toÃ n.
			* Náº¿u cÃº phÃ¡p cÃ³ lá»—i, visudo thÃ´ng bÃ¡o lá»—i vÃ  khÃ´ng ghi thay, cho phÃ©p báº¡n sá»­a láº¡i hoáº·c há»§y.

			7. VÃ Dá»¤ Ná»˜I DUNG sudoers THÆ¯á»œNG Gáº¶P

			* Cáº¥u trÃºc vÃ­ dá»¥ (ghi chÃº: chá»‰nh sá»­a sudoers pháº£i ráº¥t cáº©n tháº­n):

			  # User alias

			  User_Alias ADMINS = alice, bob

			  # Cmnd alias

			  Cmnd_Alias WEB = /usr/bin/systemctl restart httpd, /bin/systemctl reload nginx

			  # Quyá»n cho nhÃ³m

			  %admin ALL=(ALL) NOPASSWD: ALL

			  # Quyá»n cá»¥ thá»ƒ cho user

			  ansible ALL=(ALL) NOPASSWD: /usr/bin/systemctl restart httpd

			  # DÃ¹ng include Ä‘á»ƒ quáº£n lÃ½ file riÃªng trong /etc/sudoers.d

			  #includedir /etc/sudoers.d

			8. QUY Táº®C AN TOÃ€N VÃ€ BEST PRACTICES

			* KhÃ´ng chá»‰nh trá»±c tiáº¿p /etc/sudoers báº±ng editor thÃ´ng thÆ°á»ng (vim/nano) â€” luÃ´n dÃ¹ng visudo.
			* KhÃ´ng thÃªm hÃ ng dÃ i tÃ¹y tiá»‡n; Æ°u tiÃªn thÃªm file riÃªng trong /etc/sudoers.d/ báº±ng visudo -f /etc/sudoers.d/yourfile Ä‘á»ƒ dá»… quáº£n lÃ½.
			* Háº¡n cháº¿ sá»­ dá»¥ng NOPASSWD: trá»« khi thá»±c sá»± cáº§n. NOPASSWD cho phÃ©p cháº¡y lá»‡nh mÃ  khÃ´ng yÃªu cáº§u máº­t kháº©u.
			* Sá»­ dá»¥ng alias (User_Alias, Cmnd_Alias, Runas_Alias) Ä‘á»ƒ trÃ¡nh láº·p mÃ£ vÃ  dá»… Ä‘á»c.
			* Kiá»ƒm tra cÃº phÃ¡p sau thay Ä‘á»•i: visudo -c hoáº·c sudo visudo sáº½ tá»± kiá»ƒm tra khi lÆ°u.
			* Sao lÆ°u file sudoers trÆ°á»›c khi thay Ä‘á»•i (vÃ­ dá»¥: sudo cp /etc/sudoers /etc/sudoers.bak).
			* Äáº£m báº£o file sudoers cÃ³ quyá»n 0440 vÃ  thuá»™c owner root:root:
			  ls -l /etc/sudoers
			  -r--r----- 1 root root ... /etc/sudoers

			9. Xá»¬ LÃ Lá»–I THÆ¯á»œNG Gáº¶P

			* "visudo: syntax error" â€” kiá»ƒm tra dÃ²ng Ä‘Æ°á»£c bÃ¡o lá»—i, sá»­a rá»“i lÆ°u láº¡i.
			* Náº¿u sudo bá»‹ há»ng vÃ  báº¡n khÃ´ng thá»ƒ dÃ¹ng sudo Ä‘á»ƒ sá»­a (vÃ­ dá»¥ do lá»—i cÃº phÃ¡p), báº¡n cáº§n truy cáº­p root báº±ng phÆ°Æ¡ng phÃ¡p
			khÃ¡c (login trá»±c tiáº¿p, su root, hoáº·c vÃ o single-user mode) Ä‘á»ƒ sá»­a /etc/sudoers.

			10. MáºªU Äá»‚ COPY VÃ€O FILE TXT (PLAIN TEXT)
				-- Báº¯t Ä‘áº§u máº«u --
				visudo

			# Má»¥c Ä‘Ã­ch: Má»Ÿ file sudoers báº±ng editor an toÃ n (kiá»ƒm tra cÃº phÃ¡p & khÃ³a file) Ä‘á»ƒ trÃ¡nh phÃ¡ cáº¥u hÃ¬nh sudo.

			# LÆ°u Ã½:

			# - DÃ¹ng VISUAL/EDITOR Ä‘á»ƒ chá»n editor: sudo EDITOR=nano visudo

			# - Kiá»ƒm tra cÃº phÃ¡p mÃ  khÃ´ng má»Ÿ editor: visudo -c

			# - Äá»ƒ thÃªm file riÃªng: sudo visudo -f /etc/sudoers.d/myfile

			# - Äáº£m báº£o quyá»n file sudoers lÃ  0440 vÃ  owner root:root

			-- Káº¿t thÃºc máº«u --

			---

			Ghi chÃº cuá»‘i: visudo lÃ  cÃ´ng cá»¥ báº¯t buá»™c pháº£i dÃ¹ng khi chá»‰nh sudoers trÃªn há»‡ thá»‘ng production Ä‘á»ƒ trÃ¡nh máº¥t quyá»n quáº£n
			trá»‹ do lá»—i cÃº phÃ¡p. LuÃ´n cÃ³ phÆ°Æ¡ng Ã¡n khÃ´i phá»¥c (root shell, console access) trÆ°á»›c khi thá»±c hiá»‡n thay Ä‘á»•i quan trá»ng.
					
			
		- cmd: ls -l /etc/sudoers
		
		
		
		- cmd: cd /etc/sudoers.d/
		
		
		
		- cmd: cat vagrant
		
		
		
		- cmd: cat *
		
		
		
		- cmd: rpm -qa
		
			GIáº¢I THÃCH Lá»†NH: rpm -qa

			1. CÃ‚U Lá»†NH NGUYÃŠN Báº¢N
			   rpm -qa

			2. Má»¤C ÄÃCH CHUNG
			   Liá»‡t kÃª táº¥t cáº£ cÃ¡c gÃ³i (packages) Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn há»‡ thá»‘ng sá»­ dá»¥ng trÃ¬nh quáº£n lÃ½ gÃ³i RPM (VÃ­ dá»¥: Red
			   Hat, CentOS, Fedora, AlmaLinux, Rocky).

			3. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N

			* rpm

			  * TÃªn chÆ°Æ¡ng trÃ¬nh: Red Hat Package Manager (rpm). DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ gÃ³i: cÃ i, gá»¡, truy váº¥n, xÃ¡c thá»±c, v.v.

			* -q

			  * TÃ¹y chá»n "query": truy váº¥n dá»¯ liá»‡u vá» gÃ³i.

			* -a

			  * Tham sá»‘ káº¿t há»£p vá»›i -q: "all" â€” nghÄ©a lÃ  truy váº¥n táº¥t cáº£ cÃ¡c gÃ³i Ä‘Ã£ cÃ i Ä‘áº·t.

			Káº¿t há»£p láº¡i: rpm -qa = query all installed packages

			4. HÃ€NH VI VÃ€ Káº¾T QUáº¢

			* Khi cháº¡y rpm -qa, lá»‡nh in ra danh sÃ¡ch cÃ¡c gÃ³i Ä‘Ã£ cÃ i, má»—i dÃ²ng má»™t gÃ³i theo dáº¡ng: name-version-release.arch

			  * VÃ­ dá»¥: httpd-2.4.6-97.el7.centos.x86_64
			* Káº¿t quáº£ cÃ³ thá»ƒ Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ tÃ¬m phiÃªn báº£n gÃ³i, kiá»ƒm tra xem gÃ³i cÃ³ cÃ i khÃ´ng, hoáº·c gá»­i list cho má»¥c Ä‘Ã­ch
			kiá»ƒm toÃ¡n.

			5. TÃ™Y CHá»ŒN PHá»” BIáº¾N Káº¾T Há»¢P

			* rpm -qa | grep httpd

			  * Kiá»ƒm tra xem gÃ³i httpd cÃ³ Ä‘Æ°á»£c cÃ i hay khÃ´ng.

			* rpm -qa --last

			  * Liá»‡t kÃª táº¥t cáº£ cÃ¡c gÃ³i kÃ¨m theo thá»i gian cÃ i Ä‘áº·t (gÃ³i má»›i cÃ i sáº½ Ä‘á»©ng Ä‘áº§u).

			* rpm -qa --queryformat '%{NAME} %{VERSION}-%{RELEASE} %{ARCH}\n'

			  * Tuá»³ chá»‰nh Ä‘á»‹nh dáº¡ng Ä‘áº§u ra.

			* rpm -qa | sort

			  * Sáº¯p xáº¿p danh sÃ¡ch (máº·c Ä‘á»‹nh rpm -qa khÃ´ng Ä‘áº£m báº£o sáº¯p xáº¿p theo tÃªn).

			6. Sá»¬ Dá»¤NG TRONG SCRIPT VÃ€ TÃNH TÆ¯Æ NG THÃCH

			* Trong script, thÆ°á»ng sá»­ dá»¥ng Ä‘á»ƒ kiá»ƒm tra state há»‡ thá»‘ng:
			  if rpm -q package-name >/dev/null 2>&1; then
			  echo "Package installed"
			  else
			  echo "Package not installed"
			  fi
			* LÆ°u Ã½: rpm -qa liá»‡t kÃª toÃ n bá»™; Ä‘á»ƒ kiá»ƒm tra 1 package cá»¥ thá»ƒ dÃ¹ng rpm -q <pkgname>.

			7. SO SÃNH Vá»šI DNF/YUM

			* TrÃ¬nh quáº£n lÃ½ cáº¥p cao hÆ¡n (yum/dnf) cÅ©ng cÃ³ lá»‡nh liá»‡t kÃª:

			  * rpm -qa       # trá»±c tiáº¿p tá»« rpm
			  * yum list installed    # liá»‡t kÃª báº±ng yum
			  * dnf list installed    # liá»‡t kÃª báº±ng dnf
			* rpm lÃ m viá»‡c trá»±c tiáº¿p vá»›i database RPM vÃ  thÆ°á»ng nhanh hÆ¡n cho thao tÃ¡c truy váº¥n thÃ´.

			8. Váº¤N Äá»€ THÆ¯á»œNG Gáº¶P VÃ€ LÆ¯U Ã

			* Quyá»n truy cáº­p: Ä‘á»c database rpm thÆ°á»ng khÃ´ng cáº§n root, nÃªn ngÆ°á»i dÃ¹ng bÃ¬nh thÆ°á»ng cÃ³ thá»ƒ cháº¡y rpm -qa.
			* Náº¿u database RPM bá»‹ há»ng, rpm cÃ³ thá»ƒ bÃ¡o lá»—i; cáº§n sá»­a database rpm hoáº·c dÃ¹ng yum/dnf Ä‘á»ƒ phá»¥c há»“i.
			* TrÃªn há»‡ thá»‘ng dÃ¹ng apt (Debian/Ubuntu), lá»‡nh nÃ y khÃ´ng há»£p lá»‡; dÃ¹ng dpkg -l hoáº·c apt list --installed.

			9. Lá»†NH LIÃŠN QUAN Há»®U ÃCH

			* rpm -q package-name            # kiá»ƒm tra package cá»¥ thá»ƒ
			* rpm -qi package-name           # thÃ´ng tin chi tiáº¿t package
			* rpm -ql package-name           # liá»‡t kÃª file do package cung cáº¥p
			* rpm -q --whatprovides <file>   # tÃ¬m package cung cáº¥p file
			* rpm -V package-name            # xÃ¡c thá»±c package (kiá»ƒm tra file thay Ä‘á»•i so vá»›i gÃ³i gá»‘c)

			10. MáºªU Äá»‚ COPY VÃ€O FILE TXT (PLAIN TEXT)
				-- Báº¯t Ä‘áº§u máº«u --
				rpm -qa

			# Má»¥c Ä‘Ã­ch: Liá»‡t kÃª táº¥t cáº£ gÃ³i RPM Ä‘Ã£ cÃ i trÃªn há»‡ thá»‘ng. Má»—i dÃ²ng Ä‘áº§u ra cÃ³ dáº¡ng: name-version-release.arch

			# VÃ­ dá»¥ sá»­ dá»¥ng:

			# rpm -qa | grep nginx          # kiá»ƒm tra xem nginx Ä‘Ã£ cÃ i chÆ°a

			# rpm -qa --last                # xem thá»© tá»± cÃ i Ä‘áº·t theo thá»i gian

			# rpm -qa --queryformat '%{NAME} %{VERSION}-%{RELEASE} %{ARCH}\n'  # tuá»³ chá»‰nh Ä‘á»‹nh dáº¡ng Ä‘áº§u ra

			# LÆ°u Ã½: DÃ¹ng rpm -q <package> Ä‘á»ƒ kiá»ƒm tra gÃ³i cá»¥ thá»ƒ vÃ  xem mÃ£ thoÃ¡t cho logic trong script.

			-- Káº¿t thÃºc máº«u --

			---

			Ghi chÃº cuá»‘i: rpm -qa lÃ  cÃ´ng cá»¥ nhanh vÃ  tiá»‡n Ä‘á»ƒ thu tháº­p danh sÃ¡ch gÃ³i trÃªn há»‡ thá»‘ng RPM-based; káº¿t quáº£ thÆ°á»ng dÃ¹ng
			cho kiá»ƒm toÃ¡n, scripting, hoáº·c so sÃ¡nh mÃ´i trÆ°á»ng.
		
		
		- cmd: telnet
		
			GIáº¢I THÃCH Lá»†NH: telnet

			1. CÃ‚U Lá»†NH NGUYÃŠN Báº¢N
			   telnet [HOST] [PORT]

			2. Má»¤C ÄÃCH CHUNG
			   Telnet lÃ  má»™t client (vÃ  cÅ©ng cÃ³ thá»ƒ lÃ  server) dÃ¹ng Ä‘á»ƒ má»Ÿ káº¿t ná»‘i TCP tá»›i má»™t host vÃ  port nháº¥t Ä‘á»‹nh, thÆ°á»ng
			   dÃ¹ng Ä‘á»ƒ kiá»ƒm tra káº¿t ná»‘i máº¡ng, giao thá»©c vÄƒn báº£n (plain-text) hoáº·c truy cáº­p thiáº¿t bá»‹/ dá»‹ch vá»¥ cÅ©. Telnet truyá»n
			   dá»¯ liá»‡u á»Ÿ dáº¡ng text khÃ´ng mÃ£ hÃ³a.

			3. KHI NÃ€O DÃ™NG telnet

			* Kiá»ƒm tra káº¿t ná»‘i tá»›i má»™t port TCP (vÃ­ dá»¥ kiá»ƒm tra port 80, 443, 22, 25, 3306...): telnet example.com 80
			* Kiá»ƒm tra giao tiáº¿p text-based protocol (HTTP/SMTP/FTP/POP3/IMAP etc.) báº±ng cÃ¡ch gá»­i cÃ¡c dÃ²ng lá»‡nh thá»§ cÃ´ng.
			* Káº¿t ná»‘i tá»›i thiáº¿t bá»‹ máº¡ng (switch, router) hoáº·c dá»‹ch vá»¥ cÅ© náº¿u thiáº¿t bá»‹ chá»‰ há»— trá»£ telnet.
			* LÆ°u Ã½: telnet khÃ´ng an toÃ n (khÃ´ng mÃ£ hÃ³a), nÃªn trÃ¡nh dÃ¹ng Ä‘á»ƒ Ä‘Äƒng nháº­p/ truyá»n dá»¯ liá»‡u nháº¡y cáº£m.

			4. CÃC THÃ€NH PHáº¦N CHÃNH

			* telnet: chÆ°Æ¡ng trÃ¬nh khÃ¡ch (client) gá»i lá»‡nh.
			* HOST: Ä‘á»‹a chá»‰ IP hoáº·c tÃªn miá»n cá»§a mÃ¡y Ä‘Ã­ch.
			* PORT: cá»•ng TCP Ä‘Ã­ch (máº·c Ä‘á»‹nh 23 náº¿u khÃ´ng chá»‰ Ä‘á»‹nh).
			* Khi káº¿t ná»‘i thÃ nh cÃ´ng, telnet gá»­i/nháº­n byte thÃ´ qua TCP â€” báº¡n cÃ³ thá»ƒ gÃµ lá»‡nh vÃ  xem pháº£n há»“i ngay láº­p tá»©c.

			5. CÃC TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG

			* telnet host port

			  * VÃ­ dá»¥: telnet 192.0.2.10 22    # kiá»ƒm tra port 22
			* telnet -l user host

			  * Má»™t vÃ i phiÃªn báº£n há»— trá»£ chá»‰ Ä‘á»‹nh user khi telnet Ä‘áº¿n host há»— trá»£.
			* Äá»ƒ thoÃ¡t telnet: báº¥m Ctrl+] Ä‘á»ƒ vÃ o prompt telnet, sau Ä‘Ã³ gÃµ quit hoáº·c close.

			6. VÃ Dá»¤ THá»°C Táº¾

			* Kiá»ƒm tra port web (HTTP):
			  telnet example.com 80
			  GET / HTTP/1.1
			  Host: example.com
			  (sau hai dÃ²ng enter)    # báº¡n sáº½ tháº¥y header/pháº£n há»“i HTTP

			* Kiá»ƒm tra SMTP (mail):
			  telnet smtp.example.com 25
			  EHLO myhost.example.com
			  MAIL FROM:[me@example.com](mailto:me@example.com)
			  RCPT TO:[you@example.com](mailto:you@example.com)
			  DATA
			  Subject: Test\n\nHello\n.\n

			* Kiá»ƒm tra káº¿t ná»‘i MySQL (chá»‰ káº¿t ná»‘i TCP, nhÆ°ng MySQL protocol khÃ´ng human-readable):
			  telnet db.example.com 3306

			  # Hiá»ƒu ráº±ng báº¡n sáº½ nhÃ¬n tháº¥y kÃ½ tá»± rÃ¡c â€” telnet cho biáº¿t port má»Ÿ nhÆ°ng khÃ´ng dÃ¹ng Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c Ä‘áº§y Ä‘á»§ vá»›i protocol nhá»‹ phÃ¢n.

			7. CÃ¡c lá»‡nh Ä‘iá»u khiá»ƒn (escape) cá»§a telnet

			* Ctrl+]  -> vÃ o prompt telnet (telnet>)
			* trong telnet> gÃµ: quit hoáº·c close Ä‘á»ƒ Ä‘Ã³ng káº¿t ná»‘i
			* open host [port]  -> má»Ÿ káº¿t ná»‘i tá»« prompt telnet
			* status  -> hiá»ƒn thá»‹ tráº¡ng thÃ¡i

			8. Báº¢O Máº¬T VÃ€ Rá»¦I RO

			* Telnet truyá»n plaintext: username, password vÃ  dá»¯ liá»‡u dá»… dÃ ng bá»‹ nghe trá»™m (sniffing). KhÃ´ng dÃ¹ng telnet qua máº¡ng khÃ´ng tin cáº­y.
			* Thay tháº¿ an toÃ n: SSH (Secure Shell) â€” mÃ£ hÃ³a káº¿t ná»‘i.
			* Náº¿u cáº§n kiá»ƒm tra port nhanh mÃ  khÃ´ng cáº§n phiÃªn tÆ°Æ¡ng tÃ¡c, dÃ¹ng:
			  nc -vz host port   # netcat (kiá»ƒm tra káº¿t ná»‘i TCP)
			  nmap -p port host  # quÃ©t port

			9. CÃ€I Äáº¶T VÃ€ Há»– TRá»¢ Há»† ÄIá»€U HÃ€NH

			* TrÃªn Debian/Ubuntu:
			  sudo apt update
			  sudo apt install telnet
			* TrÃªn CentOS/RHEL/Fedora:
			  sudo yum install telnet    # hoáº·c dnf install telnet
			* TrÃªn macOS (cÅ© cÃ³ sáºµn; má»›i cÃ³ thá»ƒ dÃ¹ng homebrew):
			  brew install telnet
			* LÆ°u Ã½: nhiá»u distro ngÃ y nay khÃ´ng cÃ i telnet client máº·c Ä‘á»‹nh do váº¥n Ä‘á» báº£o máº­t.

			10. Lá»–I THÆ¯á»œNG Gáº¶P VÃ€ KHáº®C PHá»¤C

			* "telnet: command not found" -> cÃ i telnet client.
			* Káº¿t ná»‘i bá»‹ tá»« chá»‘i (Connection refused) -> port Ä‘Ã³ng hoáº·c firewall cháº·n.
			* Timeout -> host khÃ´ng Ä‘Ã¡p á»©ng hoáº·c firewall lá»c traffic.
			* Dá»¯ liá»‡u nhÃ¬n tháº¥y lÃ  kÃ½ tá»± rÃ¡c -> protocol nhá»‹ phÃ¢n (khÃ´ng pháº£i text).

			11. Lá»œI KHUYÃŠN THá»°C Táº¾

			* DÃ¹ng telnet Ä‘á»ƒ troubleshoot nhanh port & service text-based trÃªn máº¡ng ná»™i bá»™.
			* KhÃ´ng dÃ¹ng telnet Ä‘á»ƒ login hoáº·c truyá»n dá»¯ liá»‡u nháº¡y cáº£m qua Internet.
			* Thay telnet báº±ng SSH cho remote shell, vÃ  dÃ¹ng openssl s_client Ä‘á»ƒ kiá»ƒm tra TLS/SSL (vÃ­ dá»¥: openssl s_client -connect example.com:443).

			12. MáºªU Äá»‚ COPY VÃ€O FILE TXT (PLAIN TEXT)
				-- Báº¯t Ä‘áº§u máº«u --

			# Sá»­ dá»¥ng: telnet [HOST] [PORT]

			# Má»¥c Ä‘Ã­ch: Má»Ÿ káº¿t ná»‘i TCP tá»›i HOST:PORT Ä‘á»ƒ kiá»ƒm tra port hoáº·c tÆ°Æ¡ng tÃ¡c vá»›i giao thá»©c text-based.

			# VÃ­ dá»¥ kiá»ƒm tra HTTP (port 80):

			telnet example.com 80

			# Sau khi káº¿t ná»‘i, gá»­i:

			GET / HTTP/1.1
			Host: example.com

			# VÃ­ dá»¥ kiá»ƒm tra SMTP (port 25):

			telnet smtp.example.com 25

			# Sau khi káº¿t ná»‘i, gá»­i lá»‡nh SMTP: EHLO, MAIL FROM, RCPT TO, DATA, ...

			# ThoÃ¡t telnet:

			# 1) Nháº¥n Ctrl+] Ä‘á»ƒ vÃ o prompt telnet

			# 2) GÃµ: quit

			# Thay tháº¿ an toÃ n/tiá»‡n lá»£i:

			# - Kiá»ƒm tra káº¿t ná»‘i nhanh: nc -vz host port

			# - Kiá»ƒm tra TLS/SSL: openssl s_client -connect host:port

			-- Káº¿t thÃºc máº«u --

			---

			Ghi chÃº cuá»‘i: Telnet lÃ  cÃ´ng cá»¥ há»¯u Ã­ch cho kiá»ƒm tra máº¡ng nhanh, nhÆ°ng do khÃ´ng mÃ£ hÃ³a, hÃ£y trÃ¡nh dÃ¹ng trÃªn máº¡ng cÃ´ng
			cá»™ng vÃ  Æ°u tiÃªn cÃ¡c cÃ´ng cá»¥ an toÃ n hÆ¡n khi truyá»n thÃ´ng tin nháº¡y cáº£m.
		
		
		- cmd: arch
		
			TÃŠN
				arch - hiá»ƒn thá»‹ tÃªn kiáº¿n trÃºc pháº§n cá»©ng mÃ¡y (machine architecture)

			TÃ“M Táº®T (SYNOPSIS)
				arch

			MÃ” Táº¢
				lá»‡nh `arch` in ra má»™t dÃ²ng chá»©a tÃªn kiáº¿n trÃºc pháº§n cá»©ng cá»§a há»‡ thá»‘ng mÃ  nhÃ¢n (kernel) Ä‘ang cháº¡y.
				Káº¿t quáº£ thÆ°á»ng giá»‘ng vá»›i Ä‘áº§u ra cá»§a `uname -m`. Má»¥c Ä‘Ã­ch chÃ­nh lÃ  nhanh chÃ³ng biáº¿t kiáº¿n trÃºc CPU/khung
				(vÃ­ dá»¥: x86_64, i686, armv7l, aarch64, etc.).

			CÃš PHÃP VÃ€ TÃ™Y CHá»ŒN
				arch
					KhÃ´ng cÃ³ tÃ¹y chá»n chuáº©n POSIX rá»™ng rÃ£i. Má»™t sá»‘ há»‡ thá»‘ng cÃ³ thá»ƒ há»— trá»£ cÃ¡c tÃ¹y chá»n khÃ¡c
					(tÃ¹y biáº¿n tá»« báº£n `arch` cá»§a coreutils), nhÆ°ng lá»‡nh cÆ¡ báº£n lÃ  khÃ´ng cÃ³ Ä‘á»‘i sá»‘ nÃ o.

			Äáº¦U RA (OUTPUT)
				- Má»™t chuá»—i kÃ½ tá»± Ä‘Æ¡n, khÃ´ng xuá»‘ng dÃ²ng phá»¥, theo sau lÃ  kÃ½ tá»± xuá»‘ng dÃ²ng ('\n').
				- VÃ­ dá»¥ phá»• biáº¿n:
					x86_64     (há»‡ 64-bit Intel/AMD)
					i686       (há»‡ 32-bit Intel)
					aarch64    (ARM 64-bit)
					armv7l     (ARM 32-bit, little-endian)

			MÃƒ THOÃT (EXIT STATUS)
				- 0 : thÃ nh cÃ´ng (tÃªn kiáº¿n trÃºc Ä‘Æ°á»£c in).
				- â‰ 0 : xáº£y ra lá»—i (ráº¥t hiáº¿m; vÃ­ dá»¥ lá»—i IO khi ghi ra stdout).

			SO SÃNH Vá»šI CÃC Lá»†NH TÆ¯Æ NG Tá»°
				- `uname -m` : thÆ°á»ng cho cÃ¹ng káº¿t quáº£; `uname -m` lÃ  chuáº©n rá»™ng hÆ¡n trÃªn há»‡ UNIX/Linux,
				  vÃ¬ `arch` Ä‘Ã´i khi chá»‰ Ä‘Æ¡n giáº£n lÃ  alias hoáº·c liÃªn káº¿t tá»›i `uname -m` tÃ¹y báº£n phÃ¢n phá»‘i.
				- `uname -p` : hiá»ƒn thá»‹ kiáº¿n trÃºc CPU (processor) nhÆ°ng khÃ´ng pháº£i há»‡ thá»‘ng nÃ o cÅ©ng há»— trá»£ thÃ´ng tin nÃ y.
				- `dpkg --print-architecture` (Debian/Ubuntu) : in kiáº¿n trÃºc gÃ³i theo Ä‘á»‹nh nghÄ©a cá»§a há»‡ quáº£n lÃ½ gÃ³i,
				  vÃ­ dá»¥ `amd64` thay vÃ¬ `x86_64`.

			LÆ¯U Ã THá»°C TIá»„N
				- Kiáº¿n trÃºc in ra pháº£n Ã¡nh nhÃ¢n (kernel) Ä‘ang cháº¡y, khÃ´ng nháº¥t thiáº¿t pháº£n Ã¡nh kháº£ nÄƒng pháº§n cá»©ng Ä‘áº§y Ä‘á»§
				  (vÃ­ dá»¥ má»™t kernel 32-bit cÃ³ thá»ƒ cháº¡y trÃªn CPU 64-bit náº¿u kernel Ä‘Æ°á»£c build nhÆ° váº­y; `arch` sáº½ bÃ¡o i686).
				- Má»™t sá»‘ há»‡ cÃ³ thá»ƒ khÃ´ng cÃ i `arch` riÃªng; gá»i `uname -m` luÃ´n lÃ  phÆ°Æ¡ng Ã¡n an toÃ n.
				- TÃªn kiáº¿n trÃºc khÃ´ng Ä‘á»“ng nháº¥t giá»¯a há»‡ thá»‘ng: cÃ¹ng `x86_64` cÃ³ thá»ƒ tÆ°Æ¡ng á»©ng vá»›i `amd64` á»Ÿ nÆ¡i khÃ¡c
				  (vÃ­ dá»¥ tÃªn kiáº¿n trÃºc gÃ³i).

			VÃ Dá»¤ (EXAMPLES)
				1) In kiáº¿n trÃºc hiá»‡n táº¡i
					$ arch
					x86_64

				2) DÃ¹ng trong script Ä‘á»ƒ quyáº¿t Ä‘á»‹nh hÃ nh vi theo kiáº¿n trÃºc
					#!/bin/sh
					arch_name="$(arch)"
					case "$arch_name" in
						x86_64)
							echo "Install 64-bit binaries"
							;;
						i686|i386)
							echo "Install 32-bit binaries"
							;;
						aarch64)
							echo "Install ARM64 binaries"
							;;
						*)
							echo "Unknown architecture: $arch_name"
							;;
					esac

			Máº¸O VÃ€ TRÆ¯á»œNG Há»¢P Sá»¬ Dá»¤NG
				- Khi viáº¿t script portable, kiá»ƒm tra `uname -m` hoáº·c `arch` Ä‘á»ƒ lá»±a chá»n file nhá»‹ phÃ¢n phÃ¹ há»£p.
				- Äá»«ng dá»±a vÃ o giÃ¡ trá»‹ nÃ y Ä‘á»ƒ xÃ¡c Ä‘á»‹nh "kháº£ nÄƒng" pháº§n cá»©ng (VD: CPU 64-bit) â€” Ä‘á»ƒ kiá»ƒm tra kháº£ nÄƒng
				  thá»±c táº¿ cá»§a CPU cáº§n tra /proc/cpuinfo hoáº·c cÃ´ng cá»¥ láº¯p ghÃ©p CPU chuyÃªn biá»‡t.
				- Náº¿u cáº§n Ä‘á»“ng nháº¥t tÃªn kiáº¿n trÃºc cho quáº£n lÃ½ gÃ³i, cÃ³ thá»ƒ map `x86_64 -> amd64`, `i686 -> i386`, v.v.

			THAM CHIáº¾U
				- manual page: xem `man arch` hoáº·c `man uname` náº¿u `arch` khÃ´ng cÃ³ manual riÃªng trÃªn há»‡ cá»§a báº¡n.

			TÃ“M Láº I (NGáº®N Gá»ŒN)
				`arch` lÃ  lá»‡nh Ä‘Æ¡n giáº£n Ä‘á»ƒ biáº¿t tÃªn kiáº¿n trÃºc há»‡ thá»‘ng (machine architecture). ThÆ°á»ng Ä‘Æ°á»£c dÃ¹ng
				trong script Ä‘á»ƒ quyáº¿t Ä‘á»‹nh báº£n nhá»‹ phÃ¢n/thuáº­t toÃ¡n phÃ¹ há»£p cho kiáº¿n trÃºc Ä‘Ã³. Náº¿u `arch` khÃ´ng cÃ³ sáºµn,
				`uname -m` lÃ  lá»±a chá»n thay tháº¿ phÃ¹ há»£p.

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: uname -m
		
			TÃŠN
				uname -m - hiá»ƒn thá»‹ tÃªn kiáº¿n trÃºc pháº§n cá»©ng cá»§a há»‡ thá»‘ng (machine hardware name)

			TÃ“M Táº®T (SYNOPSIS)
				uname -m

			MÃ” Táº¢
				lá»‡nh `uname -m` in ra má»™t chuá»—i ngáº¯n mÃ´ táº£ "machine hardware name" â€” tá»©c lÃ  tÃªn kiáº¿n trÃºc pháº§n cá»©ng
				(hoáº·c kiáº¿n trÃºc mÃ  kernel Ä‘ang nháº­n diá»‡n) cá»§a há»‡ thá»‘ng. ÄÃ¢y lÃ  cÃ¡ch phá»• biáº¿n vÃ  chuáº©n POSIX trÃªn
				nhiá»u há»‡ Unix/Linux Ä‘á»ƒ biáº¿t kiáº¿n trÃºc mÃ¡y (vÃ­ dá»¥: x86_64, i686, aarch64, armv7l...).

			CÃš PHÃP VÃ€ TÃ™Y CHá»ŒN
				uname -m
					- KhÃ´ng cáº§n Ä‘á»‘i sá»‘ Ä‘á»ƒ hiá»‡n tÃªn kiáº¿n trÃºc.
				(Ghi chÃº: `uname` cÃ³ nhiá»u tÃ¹y chá»n khÃ¡c nhÆ° -r (kernel release), -s (kernel name), -a (all),
				 nhÆ°ng `-m` chá»‰ in "machine hardware name".)

			Äáº¦U RA (OUTPUT)
				- Má»™t dÃ²ng chá»©a tÃªn kiáº¿n trÃºc, káº¿t thÃºc báº±ng kÃ½ tá»± xuá»‘ng dÃ²ng.
				- VÃ­ dá»¥ thÆ°á»ng gáº·p:
					x86_64     (há»‡ 64-bit Intel/AMD)
					i686       (há»‡ 32-bit Intel)
					i386       (biáº¿n thá»ƒ 32-bit)
					aarch64    (ARM 64-bit)
					armv7l     (ARM 32-bit, little-endian)

			MÃƒ THOÃT (EXIT STATUS)
				- 0 : thÃ nh cÃ´ng (Ä‘Ã£ in tÃªn kiáº¿n trÃºc).
				- â‰ 0 : lá»—i (ráº¥t hiáº¿m; vÃ­ dá»¥ lá»—i khi ghi ra stdout).

			SO SÃNH Vá»šI CÃC Lá»†NH TÆ¯Æ NG Tá»°
				- `arch`         : thÆ°á»ng cho cÃ¹ng káº¿t quáº£ (trÃªn nhiá»u há»‡ `arch` lÃ  alias cho `uname -m`).
				- `uname -p`     : in tÃªn processor; khÃ´ng pháº£i há»‡ thá»‘ng nÃ o cÅ©ng cung cáº¥p giÃ¡ trá»‹ há»¯u dá»¥ng.
				- `dpkg --print-architecture` : (Debian/Ubuntu) in tÃªn kiáº¿n trÃºc theo cÃ¡ch Ä‘áº·t tÃªn cá»§a gÃ³i, vÃ­ dá»¥ `amd64` thay vÃ¬ `x86_64`.
				- `/proc/cpuinfo`: cung cáº¥p thÃ´ng tin CPU chi tiáº¿t hÆ¡n â€” dÃ¹ng Ä‘á»ƒ kiá»ƒm tra cÃ¡c tÃ­nh nÄƒng, lÃµi, flags...

			LÆ¯U Ã THá»°C TIá»„N
				- GiÃ¡ trá»‹ in ra pháº£n Ã¡nh kernel Ä‘ang cháº¡y chá»© khÃ´ng nháº¥t thiáº¿t pháº£n Ã¡nh má»i kháº£ nÄƒng pháº§n cá»©ng.
				  VÃ­ dá»¥, kernel 32-bit cÃ³ thá»ƒ cháº¡y trÃªn CPU 64-bit; `uname -m` sáº½ bÃ¡o kiá»ƒu kernel (vÃ­ dá»¥ i686).
				- TÃªn kiáº¿n trÃºc cÃ³ thá»ƒ khÃ¡c trong cÃ¡c ngá»¯ cáº£nh khÃ¡c (vÃ­ dá»¥ quáº£n lÃ½ gÃ³i dÃ¹ng `amd64` thay vÃ¬ `x86_64`).
				- Äá»ƒ kiá»ƒm tra chi tiáº¿t kháº£ nÄƒng CPU (vÃ­ dá»¥ há»— trá»£ 64-bit hay cÃ¡c táº­p lá»‡nh), xem /proc/cpuinfo hoáº·c dÃ¹ng lá»‡nh chuyÃªn dá»¥ng (lscpu).

			VÃ Dá»¤ (EXAMPLES)
				1) In kiáº¿n trÃºc hiá»‡n táº¡i:
					$ uname -m
					x86_64

				2) LÆ°u vÃ o biáº¿n trong script vÃ  kiá»ƒm tra:
					#!/bin/sh
					arch="$(uname -m)"
					case "$arch" in
						x86_64)
							echo "System: 64-bit x86_64"
							;;
						i386|i486|i586|i686)
							echo "System: 32-bit x86"
							;;
						aarch64)
							echo "System: ARM 64-bit"
							;;
						armv7l|armv6l)
							echo "System: ARM 32-bit"
							;;
						*)
							echo "Unknown architecture: $arch"
							;;
					esac

				3) Kiá»ƒm tra trÆ°á»›c khi cÃ i gÃ³i nhá»‹ phÃ¢n:
					if [ "$(uname -m)" = "x86_64" ]; then
						echo "Download amd64 binary"
					fi

			Máº¸O VÃ€ TRÆ¯á»œNG Há»¢P Sá»¬ Dá»¤NG
				- DÃ¹ng `uname -m` trong script Ä‘á»ƒ chá»n file nhá»‹ phÃ¢n hoáº·c repo thÃ­ch há»£p cho kiáº¿n trÃºc.
				- Náº¿u cáº§n tÃªn kiáº¿n trÃºc theo chuáº©n quáº£n lÃ½ gÃ³i, hÃ£y map `x86_64 -> amd64`, `i686/i386 -> i386`, v.v.
				- KhÃ´ng dÃ¹ng chá»‰ `uname -m` Ä‘á»ƒ quyáº¿t Ä‘á»‹nh táº¥t cáº£: Ä‘á»ƒ biáº¿t tÃ­nh nÄƒng CPU chi tiáº¿t, kiá»ƒm tra thÃªm /proc/cpuinfo hoáº·c lscpu.

			THAM CHIáº¾U
				- manual page: `man uname`
				- TÃ i liá»‡u kernel /proc vÃ  lscpu Ä‘á»ƒ láº¥y thÃ´ng tin pháº§n cá»©ng chi tiáº¿t hÆ¡n.

			TÃ“M Láº I (NGáº®N Gá»ŒN)
				`uname -m` lÃ  lá»‡nh Ä‘Æ¡n giáº£n, chuáº©n Ä‘á»ƒ in tÃªn kiáº¿n trÃºc pháº§n cá»©ng (machine hardware name) mÃ  kernel
				Ä‘ang cháº¡y. Ráº¥t há»¯u Ã­ch trong script khi cáº§n xÃ¡c Ä‘á»‹nh phiÃªn báº£n nhá»‹ phÃ¢n hay hÃ nh vi phá»¥ thuá»™c kiáº¿n trÃºc.

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: curl https://rpmfind.net/linux/RPM/centos-stream/9/appstream/x86_64/telnet-0.17-85.el9.x86_64.html
		
			TÃŠN
				curl https://rpmfind.net/linux/RPM/centos-stream/9/appstream/x86_64/telnet-0.17-85.el9.x86_64.html
				â€” lá»‡nh `curl` Ä‘á»ƒ truy váº¥n (HTTP GET) trang HTML mÃ´ táº£ gÃ³i RPM "telnet" trÃªn rpmfind.net

			Má»¤C ÄÃCH
				- Lá»‡nh trÃªn dÃ¹ng `curl` (client dÃ²ng lá»‡nh) yÃªu cáº§u tÃ i nguyÃªn táº¡i URL Ä‘Ã£ cho vÃ  in ná»™i dung HTML tráº£ vá» ra stdout.
				- ThÃ´ng thÆ°á»ng dÃ¹ng Ä‘á»ƒ: xem nhanh HTML, xá»­ lÃ½ báº±ng script (vÃ­ dá»¥ pipe vÃ o grep/sed), hoáº·c lÆ°u trang vÃ o file.

			PHÃ‚N TÃCH Tá»ªNG PHáº¦N
				1) curl
					- ChÆ°Æ¡ng trÃ¬nh client dÃ²ng lá»‡nh Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c yÃªu cáº§u máº¡ng (HTTP/HTTPS, FTP, ...).
					- Theo máº·c Ä‘á»‹nh `curl <URL>` sáº½ thá»±c hiá»‡n má»™t HTTP GET vÃ  xuáº¥t (stdout) ná»™i dung tráº£ vá».

				2) https://rpmfind.net/...
					- ÄÃ¢y lÃ  URL cá»§a trang HTML mÃ´ táº£ RPM (metadata, changelog, files, dependencies) cho gÃ³i:
					  telnet-0.17-85.el9.x86_64 tá»« CentOS Stream 9 AppStream. :contentReference[oaicite:0]{index=0}

			HÃ€NH VI Máº¶C Äá»ŠNH KHI CHáº Y Lá»†NH
				- `curl` gá»­i yÃªu cáº§u GET tá»›i server vÃ  ghi (stdout) toÃ n bá»™ HTML tráº£ vá» vÃ o terminal.
				- Náº¿u cháº¡y trong terminal tÆ°Æ¡ng tÃ¡c, báº¡n sáº½ tháº¥y mÃ£ HTML; trong script thÆ°á»ng redirect output vÃ o file.

			TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG (vá»›i vÃ­ dá»¥)
				- -o <file>       : lÆ°u ná»™i dung tráº£ vá» vÃ o <file>
					vÃ­ dá»¥: curl -o telnet.html "https://...telnet-0.17-85.el9.x86_64.html"
				- -O               : lÆ°u file vá»›i tÃªn remote (nhÆ°ng vá»›i trang HTML nÃ y tÃªn remote sáº½ lÃ  telnet-0.17-85.el9.x86_64.html)
					vÃ­ dá»¥: curl -O "https://...telnet-0.17-85.el9.x86_64.html"
				- -L               : theo redirect (náº¿u URL tráº£ vá» 3xx)
					vÃ­ dá»¥: curl -L -O "https://..."
				- -s / -S          : cháº¿ Ä‘á»™ im láº·ng (giáº¥u progress), -S in lá»—i khi cÃ³ -s
					vÃ­ dá»¥: curl -sS -o telnet.html "https://..."
				- -I               : chá»‰ láº¥y header (HEAD request), khÃ´ng láº¥y body
					vÃ­ dá»¥: curl -I "https://..."
				- --fail (-f)      : tráº£ exit code â‰ 0 náº¿u HTTP >=400, vÃ  khÃ´ng in body
					vÃ­ dá»¥: curl -f -o telnet.html "https://..."
				- --insecure (-k)  : cho phÃ©p káº¿t ná»‘i tá»›i HTTPS vá»›i chá»©ng chá»‰ khÃ´ng há»£p lá»‡ (khÃ´ng khuyáº¿n nghá»‹)
				- --compressed     : yÃªu cáº§u ná»™i dung nÃ©n (gzip/deflate) vÃ  giáº£i nÃ©n tá»± Ä‘á»™ng
				- -u user:pass     : dÃ¹ng basic auth (náº¿u cáº§n)
				- --location-trusted : theo redirect vÃ  gá»­i credential náº¿u redirect sang host khÃ¡c (cáº©n trá»ng)

			MÃƒ THOÃT (EXIT CODES) CÆ  Báº¢N
				- 0 : thÃ nh cÃ´ng (HTTP code cÃ³ thá»ƒ lÃ  200, etc. náº¿u khÃ´ng dÃ¹ng --fail).
				- â‰ 0 : lá»—i do curl (vÃ­ dá»¥ 6 - could not resolve host, 7 - couldn't connect, 22 - HTTP returned error >= 400 náº¿u dÃ¹ng --fail, ...).

			KHI Báº N MUá»N Láº¤Y THÃ”NG TIN Tá»ª TRANG RPM (Gá»¢I Ã)
				- LÆ°u trang rá»“i Ä‘á»c/grep:
					curl -sS "https://rpmfind.net/...telnet-0.17-85.el9.x86_64.html" -o telnet-page.html
					grep -E "Name:|Version:|Release:|Build date:|Summary:|Requires:" telnet-page.html
				- Láº¥y chá»‰ header:
					curl -I "https://rpmfind.net/...telnet-0.17-85.el9.x86_64.html"
				- DÃ¹ng cÃ¹ng vá»›i tools (wget, xmllint, pup, hxselect) Ä‘á»ƒ trÃ­ch xuáº¥t HTML cá»¥ thá»ƒ.

			Ná»˜I DUNG LIÃŠN QUAN TRÃŠN TRANG (tÃ³m lÆ°á»£c quan trá»ng tá»« trang Ä‘Æ°á»£c trÃ­ch dáº«n)
				- TÃªn gÃ³i: telnet
				- PhiÃªn báº£n/release: 0.17-85.el9 (x86_64), tá»« CentOS Stream 9 AppStream. Build date: Tue Aug 10 07:11:47 2021. :contentReference[oaicite:1]{index=1}
				- MÃ´ táº£: client cho giao thá»©c Telnet â€” cung cáº¥p chÆ°Æ¡ng trÃ¬nh telnet dÃ²ng lá»‡nh. :contentReference[oaicite:2]{index=2}
				- YÃªu cáº§u (vÃ­ dá»¥): libc.so.6(...)(64bit), libtinfo.so.6(...), má»™t sá»‘ rpmlib feature; danh sÃ¡ch full cÃ³ trÃªn trang. :contentReference[oaicite:3]{index=3}
				- License: BSD. :contentReference[oaicite:4]{index=4}
				- Files chÃ­nh trong RPM: /usr/bin/telnet, manpage, /usr/share/doc/telnet, v.v. :contentReference[oaicite:5]{index=5}
				- Changelog tÃ³m táº¯t (má»™t vÃ i má»¥c gáº§n Ä‘Ã¢y): rebuilt cho IMA sigs, glibc 2.34, v.v. (chi tiáº¿t trÃªn trang). :contentReference[oaicite:6]{index=6}

			LÆ¯U Ã Báº¢O Máº¬T VÃ€ THá»°C TIá»„N
				- Trang rpmfind chá»‰ hiá»ƒn thá»‹ metadata. Äá»ƒ táº£i file RPM thá»±c táº¿, hÃ£y dÃ¹ng liÃªn káº¿t mirror chÃ­nh thá»©c hoáº·c repo cá»§a CentOS/CentOS Stream.
				- Kiá»ƒm tra chá»¯ kÃ½ vÃ  checksum cá»§a RPM trÆ°á»›c khi cÃ i (`rpm --checksig` hoáº·c dÃ¹ng gpg/sha256sum) náº¿u báº¡n Ä‘á»‹nh cÃ i gÃ³i.
				- Telnet lÃ  giao thá»©c khÃ´ng mÃ£ hoÃ¡ (plaintext). TrÃ¡nh dÃ¹ng telnet qua Internet cÃ´ng cá»™ng â€” dÃ¹ng SSH thay tháº¿ náº¿u cÃ³ thá»ƒ.

			VÃ­ dá»¥ thá»±c táº¿ (lÆ°u trang HTML vÃ  hiá»ƒn thá»‹ 1 dÃ²ng tÃ³m táº¯t)
				curl -sS "https://rpmfind.net/linux/RPM/centos-stream/9/appstream/x86_64/telnet-0.17-85.el9.x86_64.html" -o telnet-page.html
				grep -E "Name:|Version:|Release:|Summary:|Build date:" telnet-page.html

			VÃ­ dá»¥ táº£i file RPM (chá»‰ vÃ­ dá»¥ â€” kiá»ƒm tra link thá»±c táº¿ trÃªn trang trÆ°á»›c khi dÃ¹ng)
				# Náº¿u trang cung cáº¥p Ä‘Æ°á»ng link trá»±c tiáº¿p tá»›i .rpm, báº¡n cÃ³ thá»ƒ:
				curl -LO "https://mirror.example.org/.../telnet-0.17-85.el9.x86_64.rpm"
				# -L theo redirect, -O lÆ°u theo tÃªn remote

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- `curl <URL>` gá»­i GET tá»›i URL vÃ  in HTML tráº£ vá». DÃ¹ng cÃ¡c tÃ¹y chá»n -o/-O/-L/-s/-I/--fail Ä‘á»ƒ lÆ°u, theo redirect, im láº·ng hoáº·c chá»‰ láº¥y header.
				- URL báº¡n Ä‘Æ°a trá» tá»›i trang metadata RPM cho telnet trÃªn rpmfind.net â€” trang chá»©a tÃªn, phiÃªn báº£n, ngÃ y build, dependencies, file list, changelog vÃ  license. :contentReference[oaicite:7]{index=7}

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: curl https://rpmfind.net/linux/centos-stream/9-stream/AppStream/x86_64/os/Packages/telnet-0.17-85.el9.x86_64.rpm -o telnet-0.17-85.el9.x86_64.rpm
		
		
		
		- cmd: rpm -ivh telnet-0.17-85.el9.x86_64.rpm
		
		
		- cmd: rpm -qa | grep telnet
		
		
		
		- cmd: rpm -e telnet-0.17-85.el9.x86_64
		
		
		
		- cmd: wget https://rpmfind.net/linux/centos-stream/9-stream/AppStream/x86_64/os/Packages/httpd-2.4.57-8.el9.x86_64.rpm
		
			TÃŠN
				wget https://rpmfind.net/linux/centos-stream/9-stream/AppStream/x86_64/os/Packages/httpd-2.4.57-8.el9.x86_64.rpm
				â€” dÃ¹ng `wget` Ä‘á»ƒ táº£i file RPM cá»§a gÃ³i httpd trá»±c tiáº¿p tá»« URL Ä‘Ã£ cho

			Má»¤C ÄÃCH
				- Lá»‡nh nÃ y sáº½ táº£i xuá»‘ng file nhá»‹ phÃ¢n RPM cÃ³ tÃªn `httpd-2.4.57-8.el9.x86_64.rpm` tá»« mÃ¡y chá»§ rpmfind.net
				  vÃ  lÆ°u file Ä‘Ã³ vÃ o thÆ° má»¥c hiá»‡n hÃ nh (current directory) vá»›i Ä‘Ãºng tÃªn file tá»« URL.

			PHÃ‚N TÃCH Tá»ªNG PHáº¦N
				1) wget
					- ChÆ°Æ¡ng trÃ¬nh dÃ²ng lá»‡nh Ä‘á»ƒ táº£i tá»‡p qua HTTP/HTTPS/FTP. ThÆ°á»ng cÃ³ sáºµn trÃªn nhiá»u há»‡ Linux.
					- Theo máº·c Ä‘á»‹nh `wget <URL>` thá»±c hiá»‡n HTTP GET rá»“i lÆ°u body vÃ o file vá»›i tÃªn tÆ°Æ¡ng á»©ng cá»§a URL.

				2) https://rpmfind.net/.../httpd-2.4.57-8.el9.x86_64.rpm
					- ÄÃ¢y lÃ  URL trá»±c tiáº¿p tá»›i file RPM (gÃ³i nhá»‹ phÃ¢n) cá»§a Apache HTTP Server (httpd),
					  phiÃªn báº£n `2.4.57`, release `8.el9`, kiáº¿n trÃºc `x86_64`, Ä‘Ã³ng gÃ³i cho CentOS Stream 9 AppStream.
					- CÃ¡ch Ä‘áº·t tÃªn RPM tÃ³m táº¯t:
						httpd               -> tÃªn gÃ³i (name)
						2.4.57              -> version
						8.el9               -> release (build/packaging release; cÃ³ thá»ƒ chá»©a thÃ´ng tin distro)
						x86_64              -> kiáº¿n trÃºc package (64-bit x86)
						.rpm                -> Ä‘á»‹nh dáº¡ng gÃ³i RPM

			HÃ€NH VI Máº¶C Äá»ŠNH KHI CHáº Y Lá»†NH
				- wget káº¿t ná»‘i tá»›i server qua HTTPS, táº£i file vÃ  lÆ°u thÃ nh:
					./httpd-2.4.57-8.el9.x86_64.rpm
				- Náº¿u file Ä‘Ã£ tá»“n táº¡i, wget máº·c Ä‘á»‹nh sáº½ thÃªm háº­u tá»‘ Ä‘á»ƒ trÃ¡nh ghi Ä‘Ã¨ (vÃ­ dá»¥ file.rpm.1).  
				  (TÃ¹y báº£n wget cÃ³ thÃªm hÃ nh vi khÃ¡c; dÃ¹ng -O Ä‘á»ƒ ghi Ä‘Ã¨ trá»±c tiáº¿p.)

			TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG (KÃˆM VÃ Dá»¤)
				- LÆ°u vá»›i tÃªn cá»¥ thá»ƒ (ghi Ä‘Ã¨ náº¿u Ä‘Ã£ tá»“n táº¡i):
					wget -O httpd.rpm "https://.../httpd-2.4.57-8.el9.x86_64.rpm"

				- Tiáº¿p tá»¥c download náº¿u bá»‹ giÃ¡n Ä‘oáº¡n (resume):
					wget -c "https://.../httpd-2.4.57-8.el9.x86_64.rpm"

				- Theo redirect (má»™t sá»‘ URL tráº£ vá» redirect):
					wget --trust-server-names --content-disposition -O httpd.rpm -c "https://.../httpd-2.4.57-8.el9.x86_64.rpm"
					# hoáº·c Ä‘Æ¡n giáº£n dÃ¹ng -O hoáº·c --content-disposition Ä‘á»ƒ láº¥y tÃªn file tá»« header

				- Im láº·ng (khÃ´ng hiá»ƒn thá»‹ progress):
					wget -q --show-progress "https://.../httpd-2.4.57-8.el9.x86_64.rpm"

				- Giá»›i háº¡n bÄƒng thÃ´ng (vd 200kB/s):
					wget --limit-rate=200k "https://.../httpd-2.4.57-8.el9.x86_64.rpm"

				- ThÃªm header user-agent tÃ¹y chá»‰nh:
					wget --user-agent="MyAgent/1.0" "https://.../httpd-2.4.57-8.el9.x86_64.rpm"

			Lá»†NH THá»°C Táº¾ MáºªU (báº¡n cÃ³ thá»ƒ copy & cháº¡y)
				# Táº£i file vÃ  lÆ°u theo tÃªn remote (máº·c Ä‘á»‹nh)
				wget "https://rpmfind.net/linux/centos-stream/9-stream/AppStream/x86_64/os/Packages/httpd-2.4.57-8.el9.x86_64.rpm"

				# Táº£i vÃ  lÆ°u thÃ nh httpd.rpm, ghi Ä‘Ã¨ náº¿u Ä‘Ã£ tá»“n táº¡i
				wget -O httpd.rpm "https://rpmfind.net/linux/centos-stream/9-stream/AppStream/x86_64/os/Packages/httpd-2.4.57-8.el9.x86_64.rpm"

				# Táº£i vÃ  tiáº¿p tá»¥c náº¿u trÆ°á»›c Ä‘Ã³ bá»‹ giÃ¡n Ä‘oáº¡n
				wget -c "https://rpmfind.net/linux/centos-stream/9-stream/AppStream/x86_64/os/Packages/httpd-2.4.57-8.el9.x86_64.rpm"

			KIá»‚M TRA SAU KHI Táº¢I XONG
				- Kiá»ƒm tra file tá»“n táº¡i vÃ  kÃ­ch thÆ°á»›c:
					ls -lh httpd-2.4.57-8.el9.x86_64.rpm

				- Kiá»ƒm tra chá»¯ kÃ½/verify RPM (náº¿u cÃ³ signature kÃ¨m theo):
					rpm --checksig httpd-2.4.57-8.el9.x86_64.rpm
					# hoáº·c cÃ i Ä‘áº·t vÃ  dÃ¹ng rpm -K / verify vá»›i gpg key tÆ°Æ¡ng á»©ng

				- Kiá»ƒm tra checksum (náº¿u nhÃ  cung cáº¥p cho SHA256/MD5):
					sha256sum httpd-2.4.57-8.el9.x86_64.rpm

			LÆ¯U Ã Báº¢O Máº¬T VÃ€ THá»°C TIá»„N
				- LuÃ´n Æ°u tiÃªn táº£i tá»« kho chÃ­nh thá»©c (mirror chÃ­nh thá»©c cá»§a CentOS/CentOS Stream) thay vÃ¬ cÃ¡c mirror khÃ´ng rÃµ nguá»“n.
				- Kiá»ƒm tra chá»¯ kÃ½ vÃ /hoáº·c checksum trÆ°á»›c khi cÃ i (`rpm --checksig` hoáº·c `sha256sum`) â€” trÃ¡nh cÃ i RPM tá»« nguá»“n khÃ´ng Ä‘Ã¡ng tin.
				- Giao thá»©c HTTPS giÃºp xÃ¡c thá»±c kÃªnh; Ä‘á»«ng dÃ¹ng `--no-check-certificate` trá»« khi báº¡n hiá»ƒu rá»§i ro.
				- `httpd` (Apache) lÃ  pháº§n má»m máº¡ng; náº¿u cáº§n truy cáº­p tá»« xa, cáº¥u hÃ¬nh báº£o máº­t lÃ  ráº¥t quan trá»ng (TLS, quyá»n truy cáº­p, modulesâ€¦).
				- Náº¿u báº¡n cÃ i báº±ng `yum`/`dnf`, Æ°u tiÃªn dÃ¹ng package manager Ä‘á»ƒ Ä‘áº£m báº£o dependency vÃ  chá»¯ kÃ½:
					sudo dnf install ./httpd-2.4.57-8.el9.x86_64.rpm
				  (dnf sáº½ xá»­ lÃ½ dependency, hoáº·c báº­t repo phÃ¹ há»£p)

			MÃƒ TRáº¢ Vá»€ (EXIT CODES) CÆ  Báº¢N Cá»¦A WGET
				- 0 : thÃ nh cÃ´ng
				- 1 : lá»—i chung
				- 2 : lá»—i há»‡ thá»‘ng (build)
				- 4 : lá»—i máº¡ng
				- 6 : could not resolve host
				- 8 : server issued an error response (HTTP 4xx/5xx)
				(Cá»¥ thá»ƒ cÃ³ thá»ƒ khÃ¡c chÃºt tuá»³ phiÃªn báº£n wget; tham kháº£o `man wget`)

			THAY THáº¾ VÃ€ CÃ”NG Cá»¤ Bá»” SUNG
				- curl: curl -L -o httpd.rpm "https://.../httpd-2.4.57-8.el9.x86_64.rpm"
				- dnf/yum: tá»‘t hÆ¡n khi muá»‘n tá»± Ä‘á»™ng cÃ i vÃ  quáº£n lÃ½ dependency tá»« repo
				- aria2: táº£i Ä‘a luá»“ng (faster) náº¿u cáº§n

			TÃ“M Láº I (NGáº®N Gá»ŒN)
				- Lá»‡nh `wget <URL>` sáº½ táº£i file RPM httpd-2.4.57-8.el9.x86_64.rpm tá»« URL Ä‘Ã£ cho vÃ  lÆ°u vÃ o thÆ° má»¥c hiá»‡n hÃ nh.
				- NÃªn dÃ¹ng tÃ¹y chá»n nhÆ° `-c` Ä‘á»ƒ resume, `-O` Ä‘á»ƒ Ä‘áº·t tÃªn file rÃµ rÃ ng, vÃ  luÃ´n kiá»ƒm tra chá»¯ kÃ½/checksum trÆ°á»›c khi cÃ i.

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: cd /etc/yum.repos.d/
		
		
		
		- cmd: yum search httpd
		
			TÃŠN
				yum search httpd
				â€” tÃ¬m kiáº¿m gÃ³i (package) liÃªn quan Ä‘áº¿n "httpd" trong cÃ¡c repository Ä‘Ã£ cáº¥u hÃ¬nh báº±ng yum

			TÃ“M Táº®T (SYNOPSIS)
				yum search <tá»«-khÃ³a>
				yum search all <tá»«-khÃ³a>
				yum search <option> <pattern>

			MÃ” Táº¢
				`yum search` tÃ¬m cÃ¡c gÃ³i cÃ³ tÃªn, nhÃ£n tÃ³m táº¯t (summary) hoáº·c mÃ´ táº£ chá»©a tá»« khoÃ¡ Ä‘Æ°á»£c cung cáº¥p trong cÃ¡c repository hiá»‡n Ä‘ang báº­t.
				Káº¿t quáº£ giÃºp báº¡n xÃ¡c Ä‘á»‹nh gÃ³i cáº§n cÃ i (vÃ­ dá»¥ httpd, mod_ssl, httpd-tools, v.v.) trÆ°á»›c khi dÃ¹ng `yum install`.
				TrÃªn cÃ¡c há»‡ má»›i hÆ¡n (CentOS 8+/Fedora recent) `yum` thÆ°á»ng lÃ  wrapper cho `dnf`; cÃº phÃ¡p tÆ°Æ¡ng tá»± vá»›i `dnf search`.

			PHÃ‚N TÃCH Tá»ªNG PHáº¦N Cá»¤ THá»‚
				- yum
					TrÃ¬nh quáº£n lÃ½ gÃ³i (Yellowdog Updater Modified) dÃ¹ng trÃªn RHEL/CentOS trÆ°á»›c Ä‘Ã¢y; trÃªn CentOS Stream vÃ  báº£n má»›i hÆ¡n thÆ°á»ng lÃ  alias tá»›i dnf.
				- search
					Subcommand Ä‘á»ƒ tÃ¬m gÃ³i dá»±a trÃªn tá»« khoÃ¡.
				- httpd
					Tá»« khoÃ¡ báº¡n tÃ¬m; `yum search` so sÃ¡nh vá»›i tÃªn gÃ³i, summary, description.

			HÃ€NH VI Máº¶C Äá»ŠNH
				- Táº£i metadata tá»« cache (náº¿u cáº§n) vÃ  tÃ¬m cÃ¡c gÃ³i cÃ³ chá»©a "httpd" trong tÃªn/summary/description.
				- In danh sÃ¡ch káº¿t quáº£ vá»›i tÃªn gÃ³i, kiáº¿n trÃºc (náº¿u cÃ³), vÃ  tÃ³m táº¯t ngáº¯n.

			Káº¾T QUáº¢ MáºªU (vÃ­ dá»¥ xuáº¥t ra trÃªn terminal)
				Loaded plugins: fastestmirror, langpacks
				Loading mirror speeds from cached hostfile
				 * base: mirror.example.org
				 * extras: mirror.example.org
				 * updates: mirror.example.org
				================================================== N/S matched: httpd ==================================================
				httpd.x86_64 : Apache HTTP Server
				httpd-tools.x86_64 : Tools for use with the Apache HTTP Server
				mod_ssl.x86_64 : SSL/TLS module for the Apache HTTP Server
				httpd-devel.x86_64 : Development libraries and headers for httpd
				httpd-manual.noarch : Apache HTTP Server Manual

			GIáº¢I THÃCH Káº¾T QUáº¢
				- DÃ²ng "httpd.x86_64 : Apache HTTP Server" â€” tÃªn gÃ³i (httpd), kiáº¿n trÃºc (x86_64), dáº¥u hai cháº¥m theo sau lÃ  summary ngáº¯n.
				- `yum search` khÃ´ng phÃ¢n biá»‡t hoa/thÆ°á»ng trong tÃ¬m kiáº¿m.
				- Káº¿t quáº£ cÃ³ thá»ƒ gá»“m nhiá»u phiÃªn báº£n/biáº¿n thá»ƒ tá»« kho khÃ¡c nhau.

			TÃ™Y CHá»ŒN Há»®U ÃCH VÃ€ Lá»†NH LIÃŠN QUAN
				- yum search all <term>
					TÃ¬m trong táº¥t cáº£ trÆ°á»ng metadata (má»™t sá»‘ báº£n phÃ¢n biá»‡t `search` vs `search all`).
				- yum list available '*httpd*'
					Liá»‡t kÃª gÃ³i cÃ³ tÃªn khá»›p pattern (dÃ¹ng glob).
				- yum info httpd
					Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t vá» gÃ³i (phiÃªn báº£n, repo, summary, description, cung cáº¥p, dependencies).
				- yum provides '*/httpd'  hoáº·c yum whatprovides <file-or-capability>
					TÃ¬m gÃ³i cung cáº¥p file hoáº·c capability cá»¥ thá»ƒ (ráº¥t há»¯u dá»¥ng náº¿u báº¡n biáº¿t file cáº§n).
				- yum makecache
					Táº£i metadata má»›i vá» (táº¡o cache) trÆ°á»›c khi search náº¿u metadata cÅ©.
				- yum clean all
					XoÃ¡ cache metadata náº¿u gáº·p váº¥n Ä‘á» vá»›i index cÅ©.
				- dnf equivalents:
					dnf search httpd
					dnf info httpd
					dnf provides '*/httpd'

			Máº¸O KHI TÃŒM KIáº¾M
				- DÃ¹ng tá»« khÃ³a rá»™ng trÆ°á»›c, sau Ä‘Ã³ `yum info` trÃªn gÃ³i báº¡n chá»n Ä‘á»ƒ biáº¿t chi tiáº¿t.
				- Náº¿u khÃ´ng tháº¥y káº¿t quáº£, kiá»ƒm tra:
					- Repos Ä‘Ã£ báº­t (`yum repolist enabled`)
					- Káº¿t ná»‘i máº¡ng / mirror
					- LÃ m má»›i cache: `yum makecache` hoáº·c `yum clean all && yum makecache`
				- DÃ¹ng dáº¥u hoa thá»‹ cho globbing náº¿u báº¡n muá»‘n tÃ¬m cÃ¡c tÃªn gÃ³i chá»©a chuá»—i:
					yum list available '*httpd*'

			DÃ™NG Káº¾T Há»¢P Vá»šI GREP (khi cáº§n lá»c nhanh)
				yum search httpd | grep -i mod_ssl
				yum search httpd | sed -n '1,60p'

			VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
				# TÃ¬m cÃ¡c gÃ³i liÃªn quan tá»›i httpd
				yum search httpd

				# Láº¥y thÃ´ng tin chi tiáº¿t cá»§a gÃ³i httpd náº¿u tháº¥y trong káº¿t quáº£
				yum info httpd

				# Liá»‡t kÃª cÃ¡c gÃ³i cÃ³ tÃªn chá»©a httpd
				yum list available '*httpd*'

				# TÃ¬m gÃ³i cung cáº¥p má»™t file (vÃ­ dá»¥ /usr/sbin/httpd)
				yum provides '/usr/sbin/httpd'

				# Náº¿u metadata lá»—i hoáº·c quÃ¡ cÅ©, lÃ m má»›i cache rá»“i tÃ¬m láº¡i
				yum clean all
				yum makecache
				yum search httpd

			LÆ¯U Ã Vá»€ Báº¢O Máº¬T VÃ€ THá»°C TIá»„N
				- KhÃ´ng cÃ i gÃ³i tá»« nguá»“n khÃ´ng Ä‘Ã¡ng tin: náº¿u báº¡n tÃ¬m tháº¥y gÃ³i trong repo láº¡, kiá»ƒm tra nguá»“n trÆ°á»›c khi cÃ i.
				- Sau khi chá»n gÃ³i, dÃ¹ng `yum install <package>` Ä‘á»ƒ cÃ i; dÃ¹ng `dnf` náº¿u há»‡ cá»§a báº¡n Ä‘Ã£ chuyá»ƒn sang dnf.
				- `httpd` lÃ  server web â€” sau khi cÃ i cáº§n cáº¥u hÃ¬nh báº£o máº­t (TLS, firewall, SELinux contexts, v.v.) trÆ°á»›c khi má»Ÿ ra máº¡ng.

			MÃƒ TRáº¢ Vá»€
				- `yum search` tráº£ exit code 0 khi command thá»±c thi thÃ nh cÃ´ng (dÃ¹ cÃ³ tÃ¬m tháº¥y gÃ³i hay khÃ´ng).
				- CÃ¡c mÃ£ lá»—i khÃ¡c xuáº¥t hiá»‡n khi gáº·p lá»—i máº¡ng, repo, hoáº·c quyá»n.

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- `yum search httpd` lÃ  cÃ¡ch nhanh Ä‘á»ƒ tÃ¬m cÃ¡c gÃ³i liÃªn quan Ä‘áº¿n Apache (httpd) trong cÃ¡c repo Ä‘Ã£ báº­t.
				- Sau khi tÃ¬m Ä‘Æ°á»£c tÃªn gÃ³i mong muá»‘n, dÃ¹ng `yum info`/`yum install`/`yum provides` Ä‘á»ƒ kiá»ƒm tra vÃ  cÃ i Ä‘áº·t.
				- TrÃªn há»‡ má»›i, `dnf search httpd` hoáº¡t Ä‘á»™ng tÆ°Æ¡ng tá»± náº¿u `yum` lÃ  wrapper cho `dnf`.

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: yum install httpd
		
		
		
		- cmd: dnf remove httpd
		
		
		
		- cmd: dnf install httpd -y
		
		
		
		- cmd: dnf --help
		
		
		
		- cmd: yum upgrade
		
		
		
		- cmd: yum install jenkins
		
		
		
		- cmd: sudo wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo
		
		
		
		- cmd: sudo rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io-2023.key
		
		
		
		- cmd: sudo yum upgrade
		
		
		
		- cmd: dnf repolist
		
			TÃŠN
				dnf repolist
				â€” liá»‡t kÃª danh sÃ¡ch cÃ¡c kho pháº§n má»m (repositories) Ä‘ang Ä‘Æ°á»£c cáº¥u hÃ¬nh trong há»‡ thá»‘ng DNF

			TÃ“M Táº®T (SYNOPSIS)
				dnf repolist [options]
				dnf repolist all
				dnf repolist enabled
				dnf repolist disabled

			MÃ” Táº¢
				Lá»‡nh `dnf repolist` Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ hiá»ƒn thá»‹ danh sÃ¡ch cÃ¡c kho (repository) hiá»‡n cÃ³ trong há»‡ thá»‘ng
				quáº£n lÃ½ gÃ³i DNF (Dandified YUM â€“ tháº¿ há»‡ má»›i cá»§a YUM).  
				Má»—i kho (repo) lÃ  má»™t nguá»“n chá»©a metadata vÃ  cÃ¡c gÃ³i RPM Ä‘á»ƒ cÃ i Ä‘áº·t, cáº­p nháº­t, hoáº·c nÃ¢ng cáº¥p pháº§n má»m.

				Máº·c Ä‘á»‹nh, `dnf repolist` chá»‰ hiá»ƒn thá»‹ **cÃ¡c kho Ä‘ang báº­t (enabled repositories)**.

			PHÃ‚N TÃCH Tá»ªNG PHáº¦N
				- dnf
					TrÃ¬nh quáº£n lÃ½ gÃ³i tháº¿ há»‡ má»›i (thay tháº¿ yum trÃªn CentOS 8+, Fedora, RHEL 8+).
				- repolist
					Subcommand cá»§a dnf dÃ¹ng Ä‘á»ƒ liá»‡t kÃª thÃ´ng tin repository.

			CÃC CHáº¾ Äá»˜ HOáº T Äá»˜NG
				1) dnf repolist
					â†’ Liá»‡t kÃª cÃ¡c repository Ä‘ang báº­t (enabled).

				2) dnf repolist all
					â†’ Liá»‡t kÃª táº¥t cáº£ repository, gá»“m cáº£ Ä‘ang báº­t vÃ  bá»‹ táº¯t.

				3) dnf repolist enabled
					â†’ TÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `dnf repolist`, chá»‰ hiá»ƒn thá»‹ cÃ¡c repo Ä‘Æ°á»£c báº­t.

				4) dnf repolist disabled
					â†’ Liá»‡t kÃª cÃ¡c repo Ä‘Ã£ bá»‹ vÃ´ hiá»‡u hoÃ¡ (disabled).

			VÃ Dá»¤ Káº¾T QUáº¢ MáºªU
				$ dnf repolist
				Updating Subscription Management repositories.
				repo id                            repo name
				appstream                          CentOS Stream 9 - AppStream
				baseos                             CentOS Stream 9 - BaseOS
				extras                             CentOS Stream 9 - Extras
				epel                               Extra Packages for Enterprise Linux 9 - x86_64

				Tá»•ng sá»‘ repo hiá»ƒn thá»‹: 4

			GIáº¢I THÃCH CÃC Cá»˜T TRONG Káº¾T QUáº¢
				- repo id   : tÃªn ká»¹ thuáº­t cá»§a repo (Ä‘Æ°á»£c dÃ¹ng trong cáº¥u hÃ¬nh vÃ  lá»‡nh CLI, vÃ­ dá»¥ baseos, appstream).
				- repo name : mÃ´ táº£ dá»… Ä‘á»c cá»§a repo.
				- status    : (chá»‰ xuáº¥t hiá»‡n trong má»™t sá»‘ cháº¿ Ä‘á»™ hoáº·c náº¿u dÃ¹ng tÃ¹y chá»n -v) cho biáº¿t tráº¡ng thÃ¡i.

			TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG
				-v, --verbose
					Hiá»ƒn thá»‹ thÃªm chi tiáº¿t nhÆ° sá»‘ lÆ°á»£ng gÃ³i trong tá»«ng repo, URL nguá»“n, tráº¡ng thÃ¡i cache.
					VÃ­ dá»¥:
						dnf repolist -v

				--all
					TÆ°Æ¡ng Ä‘Æ°Æ¡ng `dnf repolist all`.

				--enabled / --disabled
					Chá»‰ hiá»ƒn thá»‹ repo Ä‘Æ°á»£c báº­t hoáº·c repo bá»‹ táº¯t.

				--cacheonly
					Hiá»ƒn thá»‹ thÃ´ng tin dá»±a trÃªn metadata Ä‘Ã£ Ä‘Æ°á»£c cache, khÃ´ng truy cáº­p máº¡ng.

				-q, --quiet
					áº¨n bá»›t thÃ´ng tin táº£i metadata (giÃºp káº¿t quáº£ gá»n hÆ¡n).

				-y
					Tá»± Ä‘á»™ng tráº£ lá»i â€œyesâ€ khi DNF há»i xÃ¡c nháº­n (khÃ´ng áº£nh hÆ°á»Ÿng `repolist` vÃ¬ lá»‡nh nÃ y chá»‰ Ä‘á»c thÃ´ng tin).

			Vá»Š TRÃ Cáº¤U HÃŒNH REPO TRÃŠN Há»† THá»NG
				- File cáº¥u hÃ¬nh repo náº±m táº¡i:
					/etc/yum.repos.d/*.repo
				  Má»—i file `.repo` cÃ³ cáº¥u trÃºc kiá»ƒu:
					[appstream]
					name=CentOS Stream 9 - AppStream
					baseurl=http://mirror.centos.org/centos/9-stream/AppStream/x86_64/os/
					enabled=1
					gpgcheck=1
					gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-9

				- `enabled=1` nghÄ©a lÃ  repo Ä‘ang báº­t (hiá»ƒn thá»‹ trong `dnf repolist`).
				- `enabled=0` nghÄ©a lÃ  repo bá»‹ táº¯t (hiá»ƒn thá»‹ khi `dnf repolist all` hoáº·c `disabled`).

			Máº¸O THá»°C Táº¾
				- Kiá»ƒm tra repo bá»‹ lá»—i hoáº·c thiáº¿u:
					dnf repolist -v | grep -i error
				- Báº­t hoáº·c táº¯t repo táº¡m thá»i khi cÃ i:
					dnf install httpd --disablerepo=extras
					dnf install php --enablerepo=epel
				- LÃ m má»›i metadata repo:
					dnf clean all
					dnf makecache
					dnf repolist
				- Xem chi tiáº¿t repo cá»¥ thá»ƒ:
					dnf repoquery --repoid=appstream --info

			KIá»‚M TRA VÃ€ KHáº®C PHá»¤C Lá»–I REPO
				- Náº¿u `dnf repolist` tráº£ lá»—i â€œCannot find a valid baseurl for repoâ€, kiá»ƒm tra:
					* File .repo trong /etc/yum.repos.d/
					* Káº¿t ná»‘i máº¡ng / proxy
					* DNS (ping mirror.centos.org)
				- CÃ³ thá»ƒ thá»­:
					dnf clean all && dnf makecache

			Lá»†NH LIÃŠN QUAN
				- dnf repoinfo           : Hiá»ƒn thá»‹ chi tiáº¿t metadata cá»§a repo.
				- dnf config-manager --add-repo <URL> : ThÃªm repo má»›i.
				- dnf config-manager --enable <repoid> : Báº­t repo.
				- dnf config-manager --disable <repoid> : Táº¯t repo.
				- dnf repolist all | grep epel         : TÃ¬m repo cá»¥ thá»ƒ trong danh sÃ¡ch.

			MÃƒ TRáº¢ Vá»€ (EXIT CODES)
				- 0 : ThÃ nh cÃ´ng.
				- â‰ 0 : CÃ³ lá»—i (vÃ­ dá»¥: metadata há»ng, repo khÃ´ng há»£p lá»‡, máº¡ng khÃ´ng truy cáº­p Ä‘Æ°á»£c).

			VÃ Dá»¤ THá»°C Táº¾ (COPY & PASTE)
				# Liá»‡t kÃª cÃ¡c repo Ä‘ang báº­t
				dnf repolist

				# Liá»‡t kÃª táº¥t cáº£ repo (báº­t vÃ  táº¯t)
				dnf repolist all

				# Liá»‡t kÃª chá»‰ repo bá»‹ táº¯t
				dnf repolist disabled

				# Hiá»ƒn thá»‹ thÃªm chi tiáº¿t (URL, sá»‘ gÃ³i)
				dnf repolist -v

				# LÃ m má»›i cache trÆ°á»›c khi xem danh sÃ¡ch
				dnf clean all
				dnf makecache
				dnf repolist

			TÃ“M Láº I (NGáº®N Gá»ŒN)
				- `dnf repolist` hiá»ƒn thá»‹ danh sÃ¡ch cÃ¡c kho (repositories) hiá»‡n cÃ³ vÃ  tráº¡ng thÃ¡i cá»§a chÃºng.
				- DÃ¹ng Ä‘á»ƒ kiá»ƒm tra xem repo nÃ o Ä‘ang báº­t/táº¯t, hoáº·c xÃ¡c nháº­n repo chá»©a gÃ³i báº¡n cáº§n.
				- CÃ¡c file cáº¥u hÃ¬nh repo náº±m trong `/etc/yum.repos.d/`.
				- Lá»‡nh há»¯u Ã­ch cho quáº£n trá»‹ viÃªn khi cáº§n kiá»ƒm tra cáº¥u hÃ¬nh repository cá»§a há»‡ thá»‘ng.

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: dnf install epel-release -y
		
		
		
		- cmd: dnf history
		
		
		
		- cmd: systemctl status httpd
		
		
		
		- cmd: systemctl start httpd
		
			TÃŠN
				systemctl start httpd
				â€” khá»Ÿi Ä‘á»™ng (start) service `httpd` báº±ng systemd

			TÃ“M Táº®T (SYNOPSIS)
				systemctl start <unit>
				systemctl start httpd.service
				# cÅ©ng cÃ³ thá»ƒ dÃ¹ng dáº¡ng rÃºt gá»n náº¿u shell há»— trá»£: systemctl start httpd

			MÃ” Táº¢
				Lá»‡nh `systemctl start httpd` gá»­i yÃªu cáº§u tá»›i systemd Ä‘á»ƒ khá»Ÿi cháº¡y unit/service cÃ³ tÃªn `httpd`
				(thÆ°á»ng lÃ  dá»‹ch vá»¥ Apache HTTP Server trÃªn há»‡ dÃ¹ng package httpd). Lá»‡nh nÃ y:
				  - thá»±c hiá»‡n hÃ nh Ä‘á»™ng "start" cho unit hiá»‡n táº¡i;
				  - náº¿u unit Ä‘Ã£ cháº¡y thÃ¬ lá»‡nh tráº£ vá» ngay mÃ  khÃ´ng lÃ m gÃ¬ thÃªm;
				  - lá»‡nh KHÃ”NG báº­t service tá»± Ä‘á»™ng khi khá»Ÿi Ä‘á»™ng láº¡i há»‡ thá»‘ng (Ä‘Ã³ lÃ  nhiá»‡m vá»¥ cá»§a `systemctl enable`).

			LÆ¯U Ã Vá»€ TÃŠN UNIT
				- TÃªn Ä‘áº§y Ä‘á»§ cá»§a unit thÆ°á»ng lÃ  httpd.service. systemctl cháº¥p nháº­n `httpd` vÃ¬ cÃ³ thá»ƒ tá»± Ä‘á»™ng
				  bá»• sung háº­u tá»‘ `.service`.
				- Náº¿u há»‡ thá»‘ng dÃ¹ng tÃªn unit khÃ¡c (vÃ­ dá»¥ apache2.service trÃªn má»™t sá»‘ distro), hÃ£y dÃ¹ng tÃªn chÃ­nh xÃ¡c.

			HÃ€NH VI CHI TIáº¾T
				- systemd sáº½:
					1. Kiá»ƒm tra file unit trong /usr/lib/systemd/system/ hoáº·c /etc/systemd/system/.
					2. Thá»±c hiá»‡n dependency (náº¿u unit yÃªu cáº§u network.target, etc., systemd sáº½ Ä‘áº£m báº£o).
					3. Thá»±c thi ExecStart Ä‘Ã£ Ä‘á»‹nh nghÄ©a trong file unit.
					4. Theo dÃµi tiáº¿n trÃ¬nh theo loáº¡i service (simple, forking, notify, oneshot, ...).
				- Náº¿u khá»Ÿi Ä‘á»™ng khÃ´ng thÃ nh cÃ´ng, systemd lÆ°u lÃ½ do gÃ¢y lá»—i vÃ  cÃ³ thá»ƒ bÃ¡o tráº¡ng thÃ¡i failed.

			QUYá»€N (PERMISSIONS)
				- Cáº§n quyá»n root Ä‘á»ƒ start/stop/enable/disable services:
					sudo systemctl start httpd
				- NgÆ°á»i dÃ¹ng khÃ´ng pháº£i root sáº½ bá»‹ tá»« chá»‘i (permission denied).

			TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG (systemctl)
				- --now         : dÃ¹ng káº¿t há»£p vá»›i enable Ä‘á»ƒ báº­t ngay vÃ  báº­t khi boot:
					sudo systemctl enable --now httpd
				- --no-block    : khÃ´ng chá» systemd hoÃ n thÃ nh start (tráº£ vá» ngay)
				- --user        : thao tÃ¡c trÃªn unit cá»§a user (khÃ´ng dÃ¹ng cho httpd)
				- --system      : thao tÃ¡c trÃªn system manager (máº·c Ä‘á»‹nh)
				- --no-ask-password : khÃ´ng há»i máº­t kháº©u trong quÃ¡ trÃ¬nh thá»±c thi (khi dÃ¹ng PolicyKit)

			KIá»‚M TRA SAU KHI CHáº Y
				- Kiá»ƒm tra tráº¡ng thÃ¡i chi tiáº¿t:
					sudo systemctl status httpd
				  (hiá»ƒn thá»‹ Active: active (running) hoáº·c failed, PID, log gáº§n nháº¥t).

				- Xem log (journal) cá»§a service:
					sudo journalctl -u httpd
				  Hoáº·c xem log realtime:
					sudo journalctl -u httpd -f

				- Kiá»ƒm tra tiáº¿n trÃ¬nh:
					ps aux | grep httpd
				  hoáº·c
					pgrep -a httpd

				- Kiá»ƒm tra port Ä‘ang láº¯ng nghe (vÃ­ dá»¥ port 80/443):
					sudo ss -ltnp | grep :80
					sudo ss -ltnp | grep :443

			SO SÃNH Vá»šI CÃC Lá»†NH KHÃC
				- systemctl enable httpd
					-> báº­t httpd Ä‘á»ƒ tá»± Ä‘á»™ng start khi boot (khÃ´ng start ngay náº¿u khÃ´ng kÃ¨m --now).
				- systemctl restart httpd
					-> stop rá»“i start láº¡i (dÃ¹ng khi cáº§n reload binary/config toÃ n pháº§n).
				- systemctl reload httpd
					-> gá»­i tÃ­n hiá»‡u reload cáº¥u hÃ¬nh náº¿u unit há»— trá»£ (thÆ°á»ng tá»‘t hÆ¡n khi chá»‰ Ä‘á»•i config).
				- systemctl stop httpd
					-> dá»«ng service.
				- systemctl is-active httpd
					-> tráº£ tráº¡ng thÃ¡i active/inactive (phÃ¹ há»£p script).

			TRÆ¯á»œNG Há»¢P THÆ¯á»œNG Gáº¶P VÃ€ CÃCH KHáº®C PHá»¤C
				1) KhÃ´ng khá»Ÿi Ä‘á»™ng Ä‘Æ°á»£c â€” tráº¡ng thÃ¡i failed
					- Kiá»ƒm tra status:
						sudo systemctl status httpd
					- Kiá»ƒm tra log chi tiáº¿t:
						sudo journalctl -u httpd --since "5 minutes ago"
					- Kiá»ƒm tra file cáº¥u hÃ¬nh Apache (náº¿u lá»—i config):
						sudo apachectl configtest
					- Náº¿u lá»—i do permission/SELinux, kiá»ƒm tra audit:
						sudo ausearch -m avc -ts recent
						sudo sealert -a /var/log/audit/audit.log   (náº¿u cÃ³ sealert)
					- Náº¿u thiáº¿u thÆ° má»¥c hoáº·c file Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh bá»Ÿi unit, sá»­a quyá»n hoáº·c táº¡o file.

				2) Port 80/443 Ä‘Ã£ bá»‹ chiáº¿m
					- Kiá»ƒm tra ai Ä‘ang dÃ¹ng port:
						sudo ss -ltnp | grep :80
					- Dá»«ng dá»‹ch vá»¥ cáº¡nh tranh hoáº·c Ä‘á»•i cáº¥u hÃ¬nh.

				3) SELinux cháº·n
					- Kiá»ƒm tra audit.log vÃ  cÃ¡c context file (restorecon náº¿u cáº§n).
					- Táº¡m thá»i thá»­ permissive Ä‘á»ƒ kiá»ƒm tra (khÃ´ng khuyáº¿n nghá»‹ trÃªn production):
						sudo setenforce 0
					  (sau kiá»ƒm tra, báº­t láº¡i vá»›i setenforce 1)

				4) Firewall cháº·n
					- Kiá»ƒm tra má»Ÿ port:
						sudo firewall-cmd --list-all
					- Má»Ÿ port HTTP/HTTPS:
						sudo firewall-cmd --permanent --add-service=http
						sudo firewall-cmd --permanent --add-service=https
						sudo firewall-cmd --reload

			AN TOÃ€N VÃ€ BEST PRACTICES
				- Kiá»ƒm tra cáº¥u hÃ¬nh (apachectl configtest) trÆ°á»›c khi start/restart trong production.
				- Sá»­ dá»¥ng systemctl enable --now httpd Ä‘á»ƒ báº­t vÃ  start cÃ¹ng lÃºc náº¿u cáº§n.
				- NÃªn cháº¡y cáº­p nháº­t báº£o máº­t cho gÃ³i httpd trÆ°á»›c khi má»Ÿ ra máº¡ng cÃ´ng cá»™ng.
				- Kiá»ƒm tra chá»¯ kÃ½ vÃ  nguá»“n gÃ³i khi cÃ i Ä‘áº·t tá»« file RPM.

			MÃƒ TRáº¢ Vá»€ (EXIT CODES) VÃ€ Ã NGHÄ¨A
				- systemctl sáº½ tráº£ exit code 0 khi lá»‡nh Ä‘Æ°á»£c gá»­i thÃ nh cÃ´ng (khÃ´ng nháº¥t thiáº¿t service Ä‘Ã£ reached running state).
				- Náº¿u systemctl gáº·p lá»—i (vÃ­ dá»¥ unit khÃ´ng tá»“n táº¡i, permission), exit code â‰ 0.
				- Äá»ƒ biáº¿t chÃ­nh xÃ¡c status sau start, dÃ¹ng `systemctl is-active --quiet httpd` vÃ  kiá»ƒm tra exit code:
					systemctl is-active --quiet httpd && echo "running" || echo "not running"

			VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
				# Khá»Ÿi Ä‘á»™ng httpd (vá»›i quyá»n root)
				sudo systemctl start httpd

				# Khá»Ÿi Ä‘á»™ng vÃ  báº­t auto-start khi boot
				sudo systemctl enable --now httpd

				# Kiá»ƒm tra tráº¡ng thÃ¡i ngay sau khi start
				sudo systemctl status httpd

				# Xem log realtime Ä‘á»ƒ debug
				sudo journalctl -u httpd -f

				# Kiá»ƒm tra cáº¥u hÃ¬nh Apache trÆ°á»›c khi start/restart
				sudo apachectl configtest

			TÃ“M Táº®T NGáº®N Gá»ŒN
				`systemctl start httpd` lÃ  lá»‡nh dÃ¹ng Ä‘á»ƒ khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥ Apache (`httpd`) trÃªn há»‡ thá»‘ng sá»­ dá»¥ng systemd.
				DÃ¹ng `status` vÃ  `journalctl` Ä‘á»ƒ kiá»ƒm tra káº¿t quáº£ vÃ  logs; dÃ¹ng `enable` náº¿u muá»‘n báº­t tá»± Ä‘á»™ng khi boot.
				Kiá»ƒm tra cáº¥u hÃ¬nh, firewall, vÃ  SELinux náº¿u dá»‹ch vá»¥ khÃ´ng khá»Ÿi Ä‘á»™ng thÃ nh cÃ´ng.

			----------------------------------------
			(END OF TEXT)		
		
		- cmd: sudo reboot
		
		
		
		- cmd: systemctl enable httpd
		
			TÃŠN
				systemctl enable httpd
				â€” báº­t dá»‹ch vá»¥ `httpd` Ä‘á»ƒ tá»± Ä‘á»™ng khá»Ÿi Ä‘á»™ng khi há»‡ thá»‘ng boot báº±ng systemd

			TÃ“M Táº®T (SYNOPSIS)
				systemctl enable <unit>
				systemctl enable httpd.service
				# há»‡ thá»‘ng tá»± hiá»ƒu .service náº¿u báº¡n chá»‰ gÃµ httpd

			MÃ” Táº¢
				Lá»‡nh `systemctl enable httpd` khÃ´ng khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥ ngay láº­p tá»©c (trá»« khi dÃ¹ng `--now`),
				mÃ  thá»±c hiá»‡n cÃ¡c thao tÃ¡c cáº§n thiáº¿t Ä‘á»ƒ service `httpd` tá»± Ä‘á»™ng start má»—i khi há»‡ thá»‘ng boot:
				  - Táº¡o symbolic links tá»« thÆ° má»¥c cáº¥u hÃ¬nh systemd (thÆ°á»ng /etc/systemd/system/multi-user.target.wants/)
					Ä‘áº¿n file unit gá»‘c (/usr/lib/systemd/system/httpd.service).
				  - Cáº­p nháº­t systemd Ä‘á»ƒ nháº­n biáº¿t ráº±ng httpd lÃ  service cáº§n báº­t khi vÃ o target (runlevel) tÆ°Æ¡ng á»©ng.
				ÄÃ¢y lÃ  bÆ°á»›c quan trá»ng khi muá»‘n server Apache luÃ´n cháº¡y sau reboot.

			HÃ€NH VI CHI TIáº¾T
				1. Kiá»ƒm tra file unit httpd:
					/usr/lib/systemd/system/httpd.service
				2. Táº¡o symbolic link trong target máº·c Ä‘á»‹nh:
					/etc/systemd/system/multi-user.target.wants/httpd.service â†’ /usr/lib/systemd/system/httpd.service
				3. systemd reload daemon náº¿u cáº§n Ä‘á»ƒ nháº­n thay Ä‘á»•i:
					(thÆ°á»ng `systemctl enable` tá»± reload, nhÆ°ng cÃ³ thá»ƒ dÃ¹ng `systemctl daemon-reload` khi sá»­a file unit thá»§ cÃ´ng)
				4. Lá»‡nh khÃ´ng start service ngay; náº¿u muá»‘n start ngay, dÃ¹ng `--now`.

			QUYá»€N (PERMISSIONS)
				- Cáº§n quyá»n root Ä‘á»ƒ enable service:
					sudo systemctl enable httpd
				- NgÆ°á»i dÃ¹ng khÃ´ng cÃ³ quyá»n sáº½ bá»‹ tá»« chá»‘i.

			TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG
				- --now
					- Báº­t service vÃ  start ngay láº­p tá»©c:
						sudo systemctl enable --now httpd
				- --force
					- Ghi Ä‘Ã¨ cÃ¡c symlink Ä‘Ã£ tá»“n táº¡i hoáº·c unit conflicting.
				- --quiet
					- áº¨n output thÃ´ng tin khi táº¡o symlink.
				- --all
					- Enable táº¥t cáº£ cÃ¡c unit matching (thÆ°á»ng dÃ¹ng vá»›i file list).

			KIá»‚M TRA SAU KHI ENABLE
				- XÃ¡c nháº­n service Ä‘Ã£ Ä‘Æ°á»£c báº­t Ä‘á»ƒ start khi boot:
					systemctl is-enabled httpd
					â†’ output: enabled / disabled / static / masked
				- Kiá»ƒm tra táº¥t cáº£ service Ä‘ang Ä‘Æ°á»£c enable:
					systemctl list-unit-files | grep enabled

			SO SÃNH Vá»šI CÃC Lá»†NH KHÃC
				- systemctl start httpd
					â†’ start service ngay láº­p tá»©c nhÆ°ng khÃ´ng thay Ä‘á»•i auto-start khi boot.
				- systemctl restart httpd
					â†’ stop + start service ngay, khÃ´ng thay Ä‘á»•i tráº¡ng thÃ¡i enable.
				- systemctl disable httpd
					â†’ táº¯t auto-start cá»§a service khi boot.
				- systemctl status httpd
					â†’ xem tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a service (running/failed/disabled).

			TRÆ¯á»œNG Há»¢P THÆ¯á»œNG Gáº¶P
				1) Muá»‘n báº­t service vÃ  start ngay
					sudo systemctl enable --now httpd
				2) Service Ä‘ang bá»‹ masked (khÃ´ng thá»ƒ enable)
					sudo systemctl unmask httpd
					sudo systemctl enable httpd
				3) Kiá»ƒm tra target máº·c Ä‘á»‹nh Ä‘á»ƒ biáº¿t runlevel service sáº½ start
					systemctl get-default
					â†’ thÆ°á»ng multi-user.target cho dá»‹ch vá»¥ máº¡ng

			LÆ¯U Ã Vá»€ Báº¢O Máº¬T VÃ€ THá»°C TIá»„N
				- Báº­t httpd auto-start giÃºp server web luÃ´n cháº¡y sau reboot.
				- TrÆ°á»›c khi enable, nÃªn kiá»ƒm tra cáº¥u hÃ¬nh Apache (sudo apachectl configtest) Ä‘á»ƒ trÃ¡nh boot lá»—i.
				- Káº¿t há»£p firewall vÃ  SELinux Ä‘á»ƒ Ä‘áº£m báº£o dá»‹ch vá»¥ hoáº¡t Ä‘á»™ng an toÃ n khi tá»± Ä‘á»™ng start.
				- Enable service khÃ´ng thay Ä‘á»•i tráº¡ng thÃ¡i hiá»‡n táº¡i; náº¿u cáº§n start ngay, dÃ¹ng --now.

			MÃƒ TRáº¢ Vá»€
				- 0 : thÃ nh cÃ´ng (symlink Ä‘Ã£ táº¡o, service Ä‘Æ°á»£c báº­t Ä‘á»ƒ start khi boot)
				- â‰ 0 : lá»—i (unit khÃ´ng tá»“n táº¡i, permission denied, masked)

			VÃ Dá»¤ THá»°C Táº¾ (COPY & PASTE)
				# Báº­t auto-start cho httpd (khÃ´ng start ngay)
				sudo systemctl enable httpd

				# Báº­t auto-start vÃ  start ngay
				sudo systemctl enable --now httpd

				# Kiá»ƒm tra service Ä‘Ã£ enable chÆ°a
				systemctl is-enabled httpd

				# Liá»‡t kÃª táº¥t cáº£ service Ä‘ang enable
				systemctl list-unit-files | grep enabled

				# Náº¿u service bá»‹ masked
				sudo systemctl unmask httpd
				sudo systemctl enable httpd

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- `systemctl enable httpd` Ä‘áº£m báº£o Apache HTTP Server sáº½ tá»± Ä‘á»™ng khá»Ÿi Ä‘á»™ng khi há»‡ thá»‘ng boot.
				- KhÃ´ng start service ngay, trá»« khi dÃ¹ng `--now`.
				- DÃ¹ng `is-enabled` Ä‘á»ƒ kiá»ƒm tra, `disable` Ä‘á»ƒ táº¯t auto-start.
				- Káº¿t há»£p kiá»ƒm tra config vÃ  log Ä‘á»ƒ Ä‘áº£m báº£o service khá»Ÿi Ä‘á»™ng thÃ nh cÃ´ng sau reboot.

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: systemctl status sshd
		
		
		
		- cmd: systemctl is-active httpd
		
		
		
		- cmd: systemctl is-enabled httpd
		
		
		
		- cmd: cat /etc/systemd/system/multi-user.target.wants/httpd.service
		
		
		
		- cmd: top
		
			TÃŠN
				top
				â€” hiá»ƒn thá»‹ thÃ´ng tin vá» cÃ¡c tiáº¿n trÃ¬nh Ä‘ang cháº¡y vÃ  tÃ i nguyÃªn há»‡ thá»‘ng theo thá»i gian thá»±c trÃªn Linux/Unix

			TÃ“M Táº®T (SYNOPSIS)
				top [options]

			MÃ” Táº¢
				`top` lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh dÃ¹ng Ä‘á»ƒ giÃ¡m sÃ¡t há»‡ thá»‘ng theo thá»i gian thá»±c, hiá»ƒn thá»‹ cÃ¡c tiáº¿n trÃ¬nh Ä‘ang cháº¡y, má»©c sá»­ dá»¥ng CPU, bá»™ nhá»›, swap, vÃ  cÃ¡c thÃ´ng sá»‘ khÃ¡c. NÃ³ giÃºp quáº£n trá»‹ viÃªn há»‡ thá»‘ng hoáº·c ngÆ°á»i dÃ¹ng theo dÃµi tráº¡ng thÃ¡i há»‡ thá»‘ng vÃ  xÃ¡c Ä‘á»‹nh cÃ¡c tiáº¿n trÃ¬nh chiáº¿m nhiá»u tÃ i nguyÃªn.

			HIá»‚N THá»Š Máº¶C Äá»ŠNH
				- Khi cháº¡y `top`, mÃ n hÃ¬nh chia thÃ nh 2 pháº§n chÃ­nh:
					1. **Header (thÃ´ng tin há»‡ thá»‘ng tá»•ng quan)**:
						- `uptime`: thá»i gian há»‡ thá»‘ng Ä‘Ã£ cháº¡y.
						- `tasks`: tá»•ng sá»‘ tiáº¿n trÃ¬nh, sá»‘ tiáº¿n trÃ¬nh cháº¡y, ngá»§, dá»«ng, zombie.
						- `%Cpu(s)`: phÃ¢n bá»‘ sá»­ dá»¥ng CPU theo user, system, nice, idle, iowait, irq, softirq.
						- `KiB Mem` hoáº·c `MiB Mem`: tá»•ng bá»™ nhá»› RAM, dÃ¹ng, free, buffers.
						- `KiB Swap` hoáº·c `MiB Swap`: tá»•ng bá»™ nhá»› swap, dÃ¹ng, free, cached.
					2. **Danh sÃ¡ch tiáº¿n trÃ¬nh (process list)**:
						- CÃ¡c cá»™t chÃ­nh:
							* PID       : Process ID
							* USER      : Chá»§ sá»Ÿ há»¯u tiáº¿n trÃ¬nh
							* PR        : Priority (Æ°u tiÃªn)
							* NI        : Nice value
							* VIRT      : Tá»•ng bá»™ nhá»› áº£o
							* RES       : Resident memory (bá»™ nhá»› thá»±c táº¿)
							* SHR       : Shared memory (bá»™ nhá»› chia sáº»)
							* S         : Tráº¡ng thÃ¡i tiáº¿n trÃ¬nh (R=Running, S=Sleeping, D=Uninterruptible sleep, Z=Zombie, T=Stopped)
							* %CPU      : Tá»· lá»‡ CPU Ä‘ang dÃ¹ng
							* %MEM      : Tá»· lá»‡ RAM Ä‘ang dÃ¹ng
							* TIME+     : Tá»•ng thá»i gian CPU Ä‘Ã£ sá»­ dá»¥ng
							* COMMAND   : TÃªn lá»‡nh hoáº·c tiáº¿n trÃ¬nh

			CHá»ˆNH Sá»¬A HIá»‚N THá»Š (TRONG TOP)
				- `P` : sáº¯p xáº¿p theo %CPU (máº·c Ä‘á»‹nh)
				- `M` : sáº¯p xáº¿p theo %MEM
				- `N` : sáº¯p xáº¿p theo PID
				- `T` : sáº¯p xáº¿p theo thá»i gian CPU (TIME+)
				- `c` : hiá»ƒn thá»‹ command line Ä‘áº§y Ä‘á»§ cá»§a tiáº¿n trÃ¬nh thay vÃ¬ chá»‰ tÃªn lá»‡nh
				- `k` : gá»­i tÃ­n hiá»‡u kill Ä‘áº¿n tiáº¿n trÃ¬nh (nháº­p PID)
				- `r` : thay Ä‘á»•i priority (renice)
				- `z` : Ä‘á»•i mÃ u hiá»ƒn thá»‹
				- `1` : hiá»ƒn thá»‹ thÃ´ng tin tá»«ng CPU náº¿u há»‡ thá»‘ng Ä‘a CPU
				- `q` : thoÃ¡t top

			TÃ™Y CHá»ŒN DÃ™NG KHI KHá»I CHáº Y
				- `top -d <seconds>` : thay Ä‘á»•i thá»i gian refresh (máº·c Ä‘á»‹nh 3s)
					vÃ­ dá»¥: top -d 1   # refresh má»—i 1 giÃ¢y
				- `top -n <count>` : cháº¡y <count> vÃ²ng refresh rá»“i thoÃ¡t
					vÃ­ dá»¥: top -n 5
				- `top -u <user>` : chá»‰ hiá»ƒn thá»‹ tiáº¿n trÃ¬nh cá»§a user
					vÃ­ dá»¥: top -u root
				- `top -p <PID1,PID2>` : chá»‰ hiá»ƒn thá»‹ tiáº¿n trÃ¬nh cá»¥ thá»ƒ
				- `top -b` : cháº¡y á»Ÿ cháº¿ Ä‘á»™ batch, khÃ´ng tÆ°Æ¡ng tÃ¡c (thÃ­ch há»£p redirect ra file)
					vÃ­ dá»¥: top -b -n 1 > top-output.txt

			Sá»¬ Dá»¤NG Káº¾T Há»¢P
				- Ghi ra file Ä‘á»ƒ phÃ¢n tÃ­ch sau:
					top -b -n 1 > top_snapshot.txt
				- Xem tiáº¿n trÃ¬nh chiáº¿m CPU cao nháº¥t:
					top â†’ nháº¥n P Ä‘á»ƒ sáº¯p xáº¿p theo %CPU
				- Xem tiáº¿n trÃ¬nh chiáº¿m RAM nhiá»u nháº¥t:
					top â†’ nháº¥n M Ä‘á»ƒ sáº¯p xáº¿p theo %MEM

			Máº¸O VÃ€ THá»°C TIá»„N
				- Cháº¡y top trong mÃ n hÃ¬nh terminal riÃªng Ä‘á»ƒ theo dÃµi liÃªn tá»¥c.
				- DÃ¹ng batch mode (-b) Ä‘á»ƒ tá»± Ä‘á»™ng ghi log, tiá»‡n cho script giÃ¡m sÃ¡t.
				- Khi phÃ¡t hiá»‡n tiáº¿n trÃ¬nh chiáº¿m nhiá»u CPU/RAM, cÃ³ thá»ƒ dÃ¹ng kill hoáº·c renice tá»« menu top (phÃ­m k/r) hoáº·c tá»« dÃ²ng lá»‡nh:
					kill -9 <PID>
					renice -n 5 -p <PID>
				- Káº¿t há»£p vá»›i cÃ¡c lá»‡nh khÃ¡c: ps, vmstat, free, htop (cÃ´ng cá»¥ tÆ°Æ¡ng tá»± vá»›i giao diá»‡n Ä‘áº¹p hÆ¡n).

			Lá»†NH LIÃŠN QUAN
				- htop : top nÃ¢ng cao, giao diá»‡n tÆ°Æ¡ng tÃ¡c trá»±c quan
				- ps aux : hiá»ƒn thá»‹ snapshot tiáº¿n trÃ¬nh
				- vmstat : giÃ¡m sÃ¡t bá»™ nhá»›, CPU, IO
				- free -m : kiá»ƒm tra RAM
				- uptime : kiá»ƒm tra táº£i trung bÃ¬nh

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- `top` lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh theo dÃµi tiáº¿n trÃ¬nh vÃ  tÃ i nguyÃªn há»‡ thá»‘ng theo thá»i gian thá»±c.
				- Header hiá»ƒn thá»‹ thÃ´ng tin tá»•ng quan CPU, RAM, Swap; báº£ng danh sÃ¡ch tiáº¿n trÃ¬nh hiá»ƒn thá»‹ PID, user, %CPU, %MEM, tráº¡ng thÃ¡i.
				- CÃ³ thá»ƒ sáº¯p xáº¿p, kill, renice, hiá»ƒn thá»‹ theo user hoáº·c PID, vÃ  xuáº¥t dá»¯ liá»‡u ra file.
				- Sá»­ dá»¥ng káº¿t há»£p vá»›i cÃ¡c lá»‡nh khÃ¡c Ä‘á»ƒ giÃ¡m sÃ¡t vÃ  tá»‘i Æ°u hÃ³a há»‡ thá»‘ng.

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: ps aux
		
			TÃŠN
				ps aux
				â€” hiá»ƒn thá»‹ danh sÃ¡ch táº¥t cáº£ cÃ¡c tiáº¿n trÃ¬nh Ä‘ang cháº¡y trÃªn há»‡ thá»‘ng Linux/Unix vá»›i thÃ´ng tin chi tiáº¿t

			TÃ“M Táº®T (SYNOPSIS)
				ps [options]
				ps aux

			MÃ” Táº¢
				Lá»‡nh `ps aux` lÃ  má»™t trong nhá»¯ng cÃ¡ch phá»• biáº¿n Ä‘á»ƒ xem táº¥t cáº£ tiáº¿n trÃ¬nh trÃªn há»‡ thá»‘ng, bao gá»“m:
				  - Tiáº¿n trÃ¬nh cá»§a táº¥t cáº£ ngÆ°á»i dÃ¹ng (`a`)
				  - Tiáº¿n trÃ¬nh khÃ´ng gáº¯n terminal (`x`)
				  - Hiá»ƒn thá»‹ thÃ´ng tin Ä‘áº§y Ä‘á»§, khÃ´ng giá»›i háº¡n cá»™t (`u`)

			CÃC TÃ™Y CHá»ŒN PHÃ‚N TÃCH
				- a : Liá»‡t kÃª táº¥t cáº£ tiáº¿n trÃ¬nh cá»§a cÃ¡c user, khÃ´ng chá»‰ tiáº¿n trÃ¬nh cá»§a terminal hiá»‡n táº¡i
				- u : Hiá»ƒn thá»‹ thÃ´ng tin dáº¡ng user-oriented (cá»™t USER, %CPU, %MEM, VSZ, RSS, STAT,â€¦)
				- x : Bao gá»“m cáº£ tiáº¿n trÃ¬nh khÃ´ng gáº¯n terminal (daemon/background processes)

			CÃC Cá»˜T THÆ¯á»œNG Gáº¶P KHI DÃ™NG ps aux
				- USER  : tÃªn ngÆ°á»i sá»Ÿ há»¯u tiáº¿n trÃ¬nh
				- PID   : Process ID
				- %CPU  : tá»· lá»‡ CPU Ä‘ang sá»­ dá»¥ng
				- %MEM  : tá»· lá»‡ RAM Ä‘ang sá»­ dá»¥ng
				- VSZ   : bá»™ nhá»› áº£o (virtual memory size) cá»§a tiáº¿n trÃ¬nh (kB)
				- RSS   : bá»™ nhá»› thá»±c táº¿ Ä‘ang dÃ¹ng (resident set size, kB)
				- TTY   : terminal gáº¯n vá»›i tiáº¿n trÃ¬nh (náº¿u cÃ³, ? náº¿u khÃ´ng gáº¯n)
				- STAT  : tráº¡ng thÃ¡i tiáº¿n trÃ¬nh
					* R : Running
					* S : Sleeping (ngá»§)
					* D : Uninterruptible sleep (thÆ°á»ng chá» IO)
					* Z : Zombie
					* T : Stopped
					* + : foreground process group
				- START : thá»i Ä‘iá»ƒm tiáº¿n trÃ¬nh báº¯t Ä‘áº§u
				- TIME  : tá»•ng thá»i gian CPU Ä‘Ã£ sá»­ dá»¥ng
				- COMMAND : tÃªn lá»‡nh / command line (cÃ³ thá»ƒ bao gá»“m cáº£ tham sá»‘)

			Káº¾T QUáº¢ MáºªU
				USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
				root         1  0.0  0.1 169148  5672 ?        Ss   Oct01   0:05 /usr/lib/systemd/systemd
				root         2  0.0  0.0      0     0 ?        S    Oct01   0:00 [kthreadd]
				nginx     1234  0.2  1.5 250000 30000 ?        S    10:12   0:01 nginx: worker process
				user      5678  1.0  2.0 500000 40000 pts/0    R+   10:15   0:03 top

			GIáº¢I THÃCH Káº¾T QUáº¢
				- USER: ai Ä‘ang cháº¡y tiáº¿n trÃ¬nh
				- PID: sá»‘ Ä‘á»‹nh danh tiáº¿n trÃ¬nh
				- %CPU/%MEM: má»©c sá»­ dá»¥ng tÃ i nguyÃªn
				- VSZ/RSS: kÃ­ch thÆ°á»›c bá»™ nhá»› áº£o vÃ  thá»±c táº¿
				- TTY: terminal gáº¯n vá»›i tiáº¿n trÃ¬nh
				- STAT: tráº¡ng thÃ¡i tiáº¿n trÃ¬nh
				- START: thá»i gian báº¯t Ä‘áº§u tiáº¿n trÃ¬nh
				- TIME: tá»•ng thá»i gian CPU Ä‘Ã£ sá»­ dá»¥ng
				- COMMAND: tiáº¿n trÃ¬nh/command line

			TÃ™Y CHá»ŒN Há»®U ÃCH
				- ps aux | grep <pattern> : tÃ¬m tiáº¿n trÃ¬nh theo tÃªn hoáº·c PID
					vÃ­ dá»¥: ps aux | grep httpd
				- ps -eo pid,user,cmd,%mem,%cpu : chá»‰ hiá»ƒn thá»‹ cÃ¡c cá»™t quan trá»ng
				- ps aux --sort=-%cpu : sáº¯p xáº¿p theo CPU giáº£m dáº§n
				- ps aux --sort=-%mem : sáº¯p xáº¿p theo RAM giáº£m dáº§n

			Máº¸O VÃ€ THá»°C TIá»„N
				- DÃ¹ng káº¿t há»£p grep Ä‘á»ƒ tÃ¬m tiáº¿n trÃ¬nh cá»¥ thá»ƒ:
					ps aux | grep nginx
				- DÃ¹ng sort Ä‘á»ƒ tÃ¬m tiáº¿n trÃ¬nh â€œngá»‘nâ€ CPU/RAM nhiá»u nháº¥t:
					ps aux --sort=-%cpu | head -n 10
					ps aux --sort=-%mem | head -n 10
				- Káº¿t há»£p kill Ä‘á»ƒ dá»«ng tiáº¿n trÃ¬nh:
					kill -9 <PID>
				- DÃ¹ng watch Ä‘á»ƒ theo dÃµi tiáº¿n trÃ¬nh liÃªn tá»¥c:
					watch "ps aux --sort=-%cpu | head -n 10"

			SO SÃNH Vá»šI CÃC Lá»†NH KHÃC
				- top / htop : giÃ¡m sÃ¡t tiáº¿n trÃ¬nh theo thá»i gian thá»±c
				- pidof <command> : láº¥y PID cá»§a tiáº¿n trÃ¬nh
				- pgrep <pattern> : tÃ¬m PID cá»§a tiáº¿n trÃ¬nh theo tÃªn
				- ps -ef : hiá»ƒn thá»‹ thÃ´ng tin tiáº¿n trÃ¬nh theo chuáº©n SysV (UID, PID, PPID, C, STIME, TTY, TIME, CMD)

			LÆ¯U Ã Vá»€ Báº¢O Máº¬T
				- ps aux hiá»ƒn thá»‹ tiáº¿n trÃ¬nh cá»§a táº¥t cáº£ user, cáº§n quyá»n root Ä‘á»ƒ xem tiáº¿n trÃ¬nh áº©n hoáº·c cá»§a user khÃ¡c trÃªn má»™t sá»‘ há»‡ thá»‘ng vá»›i cáº¥u hÃ¬nh báº£o máº­t.
				- TrÃªn há»‡ thá»‘ng multi-user, ps aux lÃ  cÃ´ng cá»¥ há»¯u Ã­ch Ä‘á»ƒ quáº£n lÃ½ tiáº¿n trÃ¬nh, phÃ¢n tÃ­ch performance, hoáº·c debug dá»‹ch vá»¥.

			VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
				# Xem táº¥t cáº£ tiáº¿n trÃ¬nh
				ps aux

				# TÃ¬m tiáº¿n trÃ¬nh Apache
				ps aux | grep httpd

				# Xem 10 tiáº¿n trÃ¬nh sá»­ dá»¥ng CPU nhiá»u nháº¥t
				ps aux --sort=-%cpu | head -n 10

				# Xem 10 tiáº¿n trÃ¬nh sá»­ dá»¥ng RAM nhiá»u nháº¥t
				ps aux --sort=-%mem | head -n 10

				# Hiá»ƒn thá»‹ PID, USER, COMMAND, %CPU, %MEM
				ps -eo pid,user,cmd,%cpu,%mem

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- `ps aux` hiá»ƒn thá»‹ danh sÃ¡ch Ä‘áº§y Ä‘á»§ cÃ¡c tiáº¿n trÃ¬nh Ä‘ang cháº¡y vá»›i thÃ´ng tin chi tiáº¿t vá» CPU, RAM, tráº¡ng thÃ¡i, PID, user, vÃ  command line.
				- CÃ³ thá»ƒ káº¿t há»£p grep, sort, head Ä‘á»ƒ lá»c vÃ  theo dÃµi tiáº¿n trÃ¬nh quan trá»ng.
				- ThÃ­ch há»£p Ä‘á»ƒ phÃ¢n tÃ­ch performance, debug dá»‹ch vá»¥ hoáº·c kiá»ƒm tra tiáº¿n trÃ¬nh â€œngá»‘nâ€ tÃ i nguyÃªn.

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: ps -ef
		
		
		
		- cmd: ps -ef | grep httpd | grep -v 'grep'
		
		
		
		- cmd: ps -ef | grep httpd | grep -v 'grep' | awk '{print $2}'
		
		
		
		- cmd: ps -ef | grep httpd | grep -v 'grep' | awk '{print $2}' | xargs kill -9
		
			TÃŠN
				ps -ef | grep httpd | grep -v 'grep' | awk '{print $2}' | xargs kill -9
				â€” káº¿t há»£p nhiá»u lá»‡nh Ä‘á»ƒ tÃ¬m vÃ  Ã©p táº¥t cáº£ tiáº¿n trÃ¬nh liÃªn quan Ä‘áº¿n `httpd` (Apache) bá»‹ kill ngay láº­p tá»©c

			TÃ“M Táº®T
				Lá»‡nh nÃ y thá»±c hiá»‡n má»™t chuá»—i thao tÃ¡c:
				  1. liá»‡t kÃª táº¥t cáº£ tiáº¿n trÃ¬nh,
				  2. lá»c cÃ¡c tiáº¿n trÃ¬nh chá»©a tÃªn `httpd`,
				  3. loáº¡i bá» tiáº¿n trÃ¬nh grep chÃ­nh nÃ³ khá»i káº¿t quáº£,
				  4. trÃ­ch xuáº¥t PID,
				  5. gá»­i tÃ­n hiá»‡u SIGKILL (-9) Ä‘á»ƒ terminate tiáº¿n trÃ¬nh ngay láº­p tá»©c.

			PHÃ‚N TÃCH Tá»ªNG PHáº¦N

			1) `ps -ef`
				- ps : hiá»ƒn thá»‹ tiáº¿n trÃ¬nh Ä‘ang cháº¡y
				- -e  : táº¥t cáº£ tiáº¿n trÃ¬nh
				- -f  : hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ thÃ´ng tin (UID, PID, PPID, C, STIME, TTY, TIME, CMD)

			2) `grep httpd`
				- Lá»c chá»‰ nhá»¯ng dÃ²ng chá»©a chuá»—i "httpd" trong output cá»§a `ps -ef`.
				- VÃ­ dá»¥: cÃ¡c tiáº¿n trÃ¬nh Apache nhÆ° `/usr/sbin/httpd -k start`.

			3) `grep -v 'grep'`
				- Loáº¡i bá» dÃ²ng tiáº¿n trÃ¬nh chÃ­nh grep Ä‘ang cháº¡y (`grep httpd`) Ä‘á»ƒ khÃ´ng tá»± kill báº£n thÃ¢n.
				- `-v` nghÄ©a lÃ  "invert match" (khÃ´ng khá»›p vá»›i pattern).

			4) `awk '{print $2}'`
				- TrÃ­ch xuáº¥t cá»™t thá»© 2 cá»§a output, cá»™t nÃ y lÃ  PID (Process ID) trong Ä‘á»‹nh dáº¡ng `ps -ef`.
				- ÄÃ¢y lÃ  danh sÃ¡ch cÃ¡c PID cá»§a tiáº¿n trÃ¬nh httpd thá»±c sá»±.

			5) `xargs kill -9`
				- `xargs` nháº­n Ä‘áº§u vÃ o (danh sÃ¡ch PID) vÃ  thá»±c thi lá»‡nh `kill -9 <PID>` vá»›i tá»«ng PID.
				- `kill -9` gá»­i tÃ­n hiá»‡u SIGKILL, Ã©p tiáº¿n trÃ¬nh terminate ngay láº­p tá»©c mÃ  khÃ´ng cho cÆ¡ há»™i cleanup.

			CHÃš Ã Vá»€ SIGKILL
				- SIGKILL (-9) lÃ  tÃ­n hiá»‡u máº¡nh, khÃ´ng thá»ƒ báº¯t hoáº·c ignore.
				- Tiáº¿n trÃ¬nh sáº½ bá»‹ terminate ngay láº­p tá»©c, dá»¯ liá»‡u chÆ°a lÆ°u hoáº·c lock cÃ³ thá»ƒ máº¥t.
				- ThÆ°á»ng chá»‰ dÃ¹ng khi SIGTERM (-15) hoáº·c stop thÃ´ng thÆ°á»ng khÃ´ng hiá»‡u quáº£.

			VÃ Dá»¤ Káº¾T QUáº¢
				Giáº£ sá»­ ps -ef | grep httpd | grep -v 'grep' | awk '{print $2}' in ra:
					1234
					1235
					1236
				Sau Ä‘Ã³ xargs kill -9 sáº½ thá»±c thi:
					kill -9 1234 1235 1236

			CÃC BIáº¾N THá»‚ VÃ€ TÃ™Y CHá»ŒN
				1) DÃ¹ng kill -15 thay vÃ¬ -9 náº¿u muá»‘n tiáº¿n trÃ¬nh cÃ³ cÆ¡ há»™i shutdown Ä‘Ãºng cÃ¡ch:
					ps -ef | grep httpd | grep -v 'grep' | awk '{print $2}' | xargs kill -15

				2) Sá»­ dá»¥ng pgrep Ä‘á»ƒ thay tháº¿ chuá»—i grep + awk:
					pgrep httpd | xargs kill -9
				  - ngáº¯n gá»n, hiá»‡u quáº£, trÃ¡nh cáº§n lá»c dÃ²ng grep.

				3) Chá»‰ kill tiáº¿n trÃ¬nh cá»§a user cá»¥ thá»ƒ:
					ps -u www-data -f | grep httpd | grep -v 'grep' | awk '{print $2}' | xargs kill -9

			Máº¸O THá»°C TIá»„N
				- LuÃ´n kiá»ƒm tra tiáº¿n trÃ¬nh trÆ°á»›c khi kill:
					ps -ef | grep httpd | grep -v 'grep'
				- TrÃ¡nh kill nháº§m tiáº¿n trÃ¬nh quan trá»ng báº±ng cÃ¡ch dÃ¹ng SIGTERM trÆ°á»›c khi dÃ¹ng SIGKILL:
					ps -ef | grep httpd | grep -v 'grep' | awk '{print $2}' | xargs kill -15
				- DÃ¹ng `-r` vá»›i xargs Ä‘á»ƒ trÃ¡nh thá»±c thi náº¿u khÃ´ng cÃ³ PID:
					xargs -r kill -9

			QUYá»€N
				- Cáº§n quyá»n root Ä‘á»ƒ kill tiáº¿n trÃ¬nh cá»§a user khÃ¡c.
				- DÃ¹ng sudo náº¿u cáº§n:
					ps -ef | grep httpd | grep -v 'grep' | awk '{print $2}' | sudo xargs kill -9

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- Lá»‡nh nÃ y lÃ  chuá»—i thao tÃ¡c Ä‘á»ƒ kill táº¥t cáº£ tiáº¿n trÃ¬nh Apache (`httpd`) Ä‘ang cháº¡y.
				- ps -ef: liá»‡t kÃª tiáº¿n trÃ¬nh; grep: lá»c httpd; grep -v: loáº¡i bá» báº£n thÃ¢n grep; awk: trÃ­ch PID; xargs kill -9: kill ngay.
				- SIGKILL (-9) máº¡nh, nÃªn tháº­n trá»ng, cÃ¢n nháº¯c dÃ¹ng SIGTERM trÆ°á»›c náº¿u cáº§n.
				- CÃ³ thá»ƒ rÃºt gá»n báº±ng `pgrep httpd | xargs kill -9`.

			VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
				# Kiá»ƒm tra tiáº¿n trÃ¬nh Apache trÆ°á»›c khi kill
				ps -ef | grep httpd | grep -v 'grep'

				# Kill táº¥t cáº£ tiáº¿n trÃ¬nh Apache ngay láº­p tá»©c
				ps -ef | grep httpd | grep -v 'grep' | awk '{print $2}' | xargs kill -9

				# Kill báº±ng SIGTERM an toÃ n hÆ¡n
				ps -ef | grep httpd | grep -v 'grep' | awk '{print $2}' | xargs kill -15

				# RÃºt gá»n vá»›i pgrep
				pgrep httpd | xargs kill -9

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: file jenkins_06122020.tar.gz
		
			TÃŠN
				file jenkins_06122020.tar.gz
				â€” xÃ¡c Ä‘á»‹nh loáº¡i táº­p tin `jenkins_06122020.tar.gz` trÃªn Linux/Unix

			TÃ“M Táº®T (SYNOPSIS)
				file [options] <tÃªn_táº­p_tin>
				file jenkins_06122020.tar.gz

			MÃ” Táº¢
				Lá»‡nh `file` Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ xÃ¡c Ä‘á»‹nh loáº¡i dá»¯ liá»‡u trong má»™t táº­p tin, dá»±a trÃªn ná»™i dung chá»© khÃ´ng dá»±a vÃ o pháº§n má»Ÿ rá»™ng. Khi báº¡n cháº¡y:
					file jenkins_06122020.tar.gz
				há»‡ thá»‘ng sáº½ phÃ¢n tÃ­ch header vÃ  cáº¥u trÃºc cá»§a file Ä‘á»ƒ Ä‘Æ°a ra káº¿t quáº£ mÃ´ táº£ loáº¡i táº­p tin.

			VÃ Dá»¤ Vá»€ Káº¾T QUáº¢ THÆ¯á»œNG Gáº¶P
				$ file jenkins_06122020.tar.gz
				jenkins_06122020.tar.gz: gzip compressed data, was "jenkins_06122020.tar", last modified: Sun Dec 6 12:34:56 2020, max compression

			GIáº¢I THÃCH Káº¾T QUáº¢
				- `gzip compressed data` : táº­p tin Ä‘Ã£ Ä‘Æ°á»£c nÃ©n báº±ng gzip.
				- `was "jenkins_06122020.tar"` : file gá»‘c trÆ°á»›c khi nÃ©n lÃ  `jenkins_06122020.tar`.
				- `last modified: ...` : ngÃ y giá» chá»‰nh sá»­a cuá»‘i cÃ¹ng cá»§a file gá»‘c.
				- `max compression` : má»©c Ä‘á»™ nÃ©n gzip (khÃ´ng pháº£i táº¥t cáº£ gzip Ä‘á»u hiá»ƒn thá»‹ thÃ´ng tin nÃ y, phá»¥ thuá»™c phiÃªn báº£n file).

			GIáº¢I THÃCH Tá»ªNG PHáº¦N
				- `.tar.gz` hay `.tgz` lÃ  file tarball nÃ©n gzip:
					1. `.tar` : archive (gá»™p nhiá»u file/thÆ° má»¥c thÃ nh 1 file)
					2. `.gz`  : nÃ©n gzip Ä‘á»ƒ giáº£m dung lÆ°á»£ng
				- file `jenkins_06122020.tar.gz` thÆ°á»ng lÃ  báº£n sao lÆ°u hoáº·c archive dá»¯ liá»‡u liÃªn quan Ä‘áº¿n Jenkins (trong vÃ­ dá»¥, ngÃ y 06/12/2020).

			CÃC Lá»†NH LIÃŠN QUAN
				1) Kiá»ƒm tra ná»™i dung file nÃ©n:
					tar -tzf jenkins_06122020.tar.gz
					â†’ liá»‡t kÃª danh sÃ¡ch file bÃªn trong tar.gz mÃ  khÃ´ng giáº£i nÃ©n.
				2) Giáº£i nÃ©n file:
					tar -xzf jenkins_06122020.tar.gz
					â†’ táº¡o thÆ° má»¥c hoáº·c file gá»‘c tá»« tar.gz.
				3) NÃ©n láº¡i tá»« thÆ° má»¥c:
					tar -czf jenkins_backup.tar.gz /path/to/jenkins
				4) Kiá»ƒm tra dung lÆ°á»£ng file:
					ls -lh jenkins_06122020.tar.gz

			TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG Cá»¦A FILE
				- -b : hiá»ƒn thá»‹ thÃ´ng tin theo block
				- -i : tráº£ vá» MIME type
					vÃ­ dá»¥: file -i jenkins_06122020.tar.gz
					â†’ output: application/gzip; charset=binary
				- -z : tá»± Ä‘á»™ng giáº£i nÃ©n gzip Ä‘á»ƒ kiá»ƒm tra ná»™i dung bÃªn trong (tÃ¹y phiÃªn báº£n)

			Máº¸O THá»°C TIá»„N
				- DÃ¹ng `file` khi khÃ´ng cháº¯c táº­p tin lÃ  gÃ¬, Ä‘áº·c biá»‡t khi tÃªn file khÃ´ng cÃ³ pháº§n má»Ÿ rá»™ng chuáº©n.
				- Káº¿t há»£p vá»›i `tar -tzf` Ä‘á»ƒ kiá»ƒm tra ná»™i dung tar.gz trÆ°á»›c khi giáº£i nÃ©n, trÃ¡nh ghi Ä‘Ã¨ hoáº·c giáº£i nÃ©n nháº§m nÆ¡i.
				- DÃ¹ng `md5sum` hoáº·c `sha256sum` Ä‘á»ƒ xÃ¡c minh tÃ­nh toÃ n váº¹n cá»§a báº£n backup.

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- `file jenkins_06122020.tar.gz` xÃ¡c Ä‘á»‹nh loáº¡i file lÃ  gzip compressed tar archive.
				- ÄÃ¢y lÃ  file backup hoáº·c archive, cáº§n dÃ¹ng tar Ä‘á»ƒ giáº£i nÃ©n.
				- file dá»±a vÃ o ná»™i dung, khÃ´ng chá»‰ pháº§n má»Ÿ rá»™ng, Ä‘á»ƒ nháº­n dáº¡ng loáº¡i file.

			VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
				# Kiá»ƒm tra loáº¡i file
				file jenkins_06122020.tar.gz

				# Hiá»ƒn thá»‹ MIME type
				file -i jenkins_06122020.tar.gz

				# Liá»‡t kÃª ná»™i dung tar.gz mÃ  khÃ´ng giáº£i nÃ©n
				tar -tzf jenkins_06122020.tar.gz

				# Giáº£i nÃ©n tar.gz
				tar -xzf jenkins_06122020.tar.gz

				# Táº¡o file tar.gz tá»« thÆ° má»¥c Jenkins
				tar -czf jenkins_backup.tar.gz /var/lib/jenkins

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: tar -czvf kenkins_06122020.tar.gz jenkins
		
			TÃŠN
				tar -czvf jenkins_06122020.tar.gz jenkins
				â€” táº¡o má»™t file archive nÃ©n gzip tá»« thÆ° má»¥c hoáº·c file `jenkins`

			TÃ“M Táº®T (SYNOPSIS)
				tar [options] <archive_name> <files_or_directories>
				tar -czvf jenkins_06122020.tar.gz jenkins

			MÃ” Táº¢
				Lá»‡nh `tar` dÃ¹ng Ä‘á»ƒ gá»™p nhiá»u file hoáº·c thÆ° má»¥c thÃ nh má»™t file duy nháº¥t (archive), Ä‘á»“ng thá»i cÃ³ thá»ƒ nÃ©n Ä‘á»ƒ tiáº¿t kiá»‡m dung lÆ°á»£ng. Trong vÃ­ dá»¥ nÃ y:

				- `jenkins_06122020.tar.gz` : tÃªn file tarball Ä‘Æ°á»£c táº¡o ra, gá»“m tar + gzip nÃ©n.
				- `jenkins` : thÆ° má»¥c hoáº·c file nguá»“n Ä‘Æ°á»£c archive.
				- `-c` : create, táº¡o archive má»›i
				- `-z` : gzip, nÃ©n file archive báº±ng gzip
				- `-v` : verbose, hiá»ƒn thá»‹ chi tiáº¿t cÃ¡c file Ä‘ang Ä‘Æ°á»£c thÃªm vÃ o archive
				- `-f` : file, chá»‰ Ä‘á»‹nh tÃªn file archive

			PHÃ‚N TÃCH Tá»ªNG TÃ™Y CHá»ŒN
				1) `-c` (create)  
					- Táº¡o archive má»›i. Náº¿u file archive Ä‘Ã£ tá»“n táº¡i, nÃ³ sáº½ bá»‹ ghi Ä‘Ã¨.
				2) `-z` (gzip)  
					- NÃ©n archive báº±ng gzip, táº¡o ra file .tar.gz (thay vÃ¬ chá»‰ .tar).
				3) `-v` (verbose)  
					- Hiá»ƒn thá»‹ danh sÃ¡ch file Ä‘ang thÃªm vÃ o archive Ä‘á»ƒ ngÆ°á»i dÃ¹ng biáº¿t tiáº¿n trÃ¬nh.
				4) `-f <filename>`  
					- Chá»‰ Ä‘á»‹nh tÃªn file archive Ä‘áº§u ra.

			Káº¾T QUáº¢ MáºªU
				Khi cháº¡y lá»‡nh, terminal sáº½ hiá»ƒn thá»‹ danh sÃ¡ch cÃ¡c file Ä‘Æ°á»£c thÃªm vÃ o tarball, vÃ­ dá»¥:
					jenkins/
					jenkins/config.xml
					jenkins/jobs/
					jenkins/jobs/job1/config.xml
					jenkins/plugins/
					...

				Sau khi hoÃ n táº¥t, sáº½ cÃ³ file `jenkins_06122020.tar.gz` chá»©a toÃ n bá»™ thÆ° má»¥c `jenkins` vÃ  nÃ©n gzip.

			Lá»†NH LIÃŠN QUAN
				1) Giáº£i nÃ©n tar.gz:
					tar -xzvf jenkins_06122020.tar.gz
					- `-x` : extract (giáº£i nÃ©n)
					- `-z` : gzip
					- `-v` : verbose
					- `-f` : file
				2) Liá»‡t kÃª ná»™i dung tar.gz mÃ  khÃ´ng giáº£i nÃ©n:
					tar -tzvf jenkins_06122020.tar.gz
					- `-t` : list ná»™i dung
				3) Chá»‰ táº¡o tar khÃ´ng nÃ©n gzip:
					tar -cvf jenkins_06122020.tar jenkins
				4) NÃ©n vá»›i bzip2 hoáº·c xz:
					tar -cjvf jenkins_06122020.tar.bz2 jenkins  # bzip2
					tar -cJvf jenkins_06122020.tar.xz jenkins   # xz

			Máº¸O THá»°C TIá»„N
				- DÃ¹ng `-C` Ä‘á»ƒ thay Ä‘á»•i thÆ° má»¥c trÆ°á»›c khi thÃªm vÃ o archive:
					tar -czvf jenkins_06122020.tar.gz -C /var/lib jenkins
				- Äá»ƒ backup an toÃ n:
					- Kiá»ƒm tra quyá»n Ä‘á»c táº¥t cáº£ file trong thÆ° má»¥c.
					- DÃ¹ng gzip má»©c nÃ©n cao hÆ¡n náº¿u cáº§n:
						gzip -9 jenkins_06122020.tar
				- Káº¿t há»£p vá»›i cron Ä‘á»ƒ táº¡o backup Ä‘á»‹nh ká»³:
					0 2 * * * tar -czf /backup/jenkins_$(date +\%d\%m\%Y).tar.gz /var/lib/jenkins

			LÆ¯U Ã
				- File archive Ä‘Æ°á»£c táº¡o sáº½ ghi Ä‘Ã¨ náº¿u tÃªn trÃ¹ng vá»›i file hiá»‡n cÃ³.
				- Äáº£m báº£o Ä‘á»§ dung lÆ°á»£ng á»• Ä‘Ä©a trÆ°á»›c khi táº¡o tarball lá»›n.
				- `-v` chá»‰ Ä‘á»ƒ hiá»ƒn thá»‹; cÃ³ thá»ƒ bá» náº¿u khÃ´ng muá»‘n quÃ¡ nhiá»u output.

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- `tar -czvf jenkins_06122020.tar.gz jenkins` táº¡o má»™t tarball nÃ©n gzip tá»« thÆ° má»¥c `jenkins`.
				- `-c` táº¡o má»›i, `-z` nÃ©n gzip, `-v` hiá»ƒn thá»‹ tiáº¿n trÃ¬nh, `-f` chá»‰ Ä‘á»‹nh tÃªn file archive.
				- File output lÃ  `jenkins_06122020.tar.gz` chá»©a toÃ n bá»™ dá»¯ liá»‡u cá»§a thÆ° má»¥c `jenkins`.

			VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
				# Táº¡o tar.gz tá»« thÆ° má»¥c Jenkins
				tar -czvf jenkins_06122020.tar.gz jenkins

				# Giáº£i nÃ©n tar.gz
				tar -xzvf jenkins_06122020.tar.gz

				# Liá»‡t kÃª ná»™i dung tar.gz mÃ  khÃ´ng giáº£i nÃ©n
				tar -tzvf jenkins_06122020.tar.gz

				# Backup Ä‘á»‹nh ká»³ vá»›i timestamp
				tar -czf jenkins_$(date +%d%m%Y).tar.gz jenkins

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: tar -xzvf jenkins_06122020.tar.gz
		
		
		
		- cmd: tar -xzvf jenkins_06122020.tar.gz -C/pop/
		
		
		
		- cmd: tar --help
		
		
		
		- cmd: yum install zip unzip -y
		
			TÃŠN
				yum install zip unzip -y
				â€” cÃ i Ä‘áº·t cÃ¡c gÃ³i pháº§n má»m `zip` vÃ  `unzip` trÃªn há»‡ thá»‘ng Linux dÃ¹ng YUM

			TÃ“M Táº®T (SYNOPSIS)
				yum install [options] <package_name(s)>
				yum install zip unzip -y

			MÃ” Táº¢
				Lá»‡nh `yum install zip unzip -y` dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t cÃ¡c gÃ³i pháº§n má»m `zip` vÃ  `unzip` trÃªn há»‡ thá»‘ng sá»­ dá»¥ng YUM (Yellowdog Updater Modified), phá»• biáº¿n trÃªn cÃ¡c báº£n phÃ¢n phá»‘i CentOS, RHEL, Fedora (phiÃªn báº£n cÅ©).  

				Trong Ä‘Ã³:
				  - `zip`  : chÆ°Æ¡ng trÃ¬nh nÃ©n vÃ  táº¡o file zip (.zip)
				  - `unzip`: chÆ°Æ¡ng trÃ¬nh giáº£i nÃ©n cÃ¡c file zip
				  - `-y`   : tá»± Ä‘á»™ng tráº£ lá»i â€œyesâ€ cho táº¥t cáº£ cÃ¡c cÃ¢u há»i khi cÃ i Ä‘áº·t, trÃ¡nh pháº£i nháº­p thá»§ cÃ´ng

			CÃC BÆ¯á»šC HOáº T Äá»˜NG
			1) Yum sáº½ kiá»ƒm tra kho pháº§n má»m Ä‘Ã£ cáº¥u hÃ¬nh (repositories) Ä‘á»ƒ tÃ¬m phiÃªn báº£n má»›i nháº¥t cá»§a `zip` vÃ  `unzip`.
			2) Kiá»ƒm tra cÃ¡c dependencies (gÃ³i liÃªn quan) vÃ  táº£i vá» náº¿u cáº§n.
			3) CÃ i Ä‘áº·t cÃ¡c gÃ³i vÃ  dependencies vÃ o há»‡ thá»‘ng.
			4) Khi dÃ¹ng `-y`, quÃ¡ trÃ¬nh cÃ i Ä‘áº·t sáº½ diá»…n ra tá»± Ä‘á»™ng mÃ  khÃ´ng há»i ngÆ°á»i dÃ¹ng.

			Lá»†NH LIÃŠN QUAN
				- yum search <package_name> : tÃ¬m kiáº¿m package trong repository
					vÃ­ dá»¥: yum search zip
				- yum list installed | grep zip : kiá»ƒm tra xem zip/unzip Ä‘Ã£ cÃ i chÆ°a
				- yum remove zip unzip : gá»¡ cÃ i Ä‘áº·t cÃ¡c gÃ³i
				- yum update zip unzip : cáº­p nháº­t gÃ³i Ä‘Ã£ cÃ i
				- dnf install zip unzip -y : tÆ°Æ¡ng tá»± trÃªn cÃ¡c há»‡ thá»‘ng dÃ¹ng DNF (CentOS 8, Fedora)

			KIá»‚M TRA SAU KHI CÃ€I Äáº¶T
				- Kiá»ƒm tra phiÃªn báº£n Ä‘Ã£ cÃ i:
					zip -v
					unzip -v
				- Thá»­ nÃ©n/giáº£i nÃ©n file:
					zip test.zip file1 file2
					unzip test.zip

			Máº¸O THá»°C TIá»„N
				- DÃ¹ng `sudo` náº¿u khÃ´ng pháº£i root:
					sudo yum install zip unzip -y
				- TrÆ°á»›c khi cÃ i, cÃ³ thá»ƒ cáº­p nháº­t repository:
					sudo yum update -y
				- TrÃ¡nh xung Ä‘á»™t gÃ³i báº±ng cÃ¡ch kiá»ƒm tra dependencies trÆ°á»›c khi cÃ i trÃªn server production.
				- `-y` ráº¥t há»¯u Ã­ch khi dÃ¹ng trong script Ä‘á»ƒ tá»± Ä‘á»™ng hÃ³a cÃ i Ä‘áº·t.

			LÆ¯U Ã
				- `yum` lÃ  trÃ¬nh quáº£n lÃ½ gÃ³i cho cÃ¡c há»‡ thá»‘ng RHEL/CentOS 7 vÃ  trÆ°á»›c Ä‘Ã³; trÃªn CentOS 8 trá»Ÿ Ä‘i, `dnf` thay tháº¿.
				- Sau khi cÃ i Ä‘áº·t, cÃ¡c lá»‡nh `zip` vÃ  `unzip` sáº½ cÃ³ sáºµn trÃªn terminal.
				- Kiá»ƒm tra quyá»n Ä‘á»ƒ ghi file trong thÆ° má»¥c hiá»‡n hÃ nh khi nÃ©n/giáº£i nÃ©n.

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- `yum install zip unzip -y` cÃ i Ä‘áº·t cÃ¡c cÃ´ng cá»¥ nÃ©n vÃ  giáº£i nÃ©n zip trÃªn há»‡ thá»‘ng CentOS/RHEL tá»± Ä‘á»™ng.
				- `zip` táº¡o file nÃ©n, `unzip` giáº£i nÃ©n; `-y` trÃ¡nh há»i confirmation.
				- DÃ¹ng `zip -v` vÃ  `unzip -v` Ä‘á»ƒ kiá»ƒm tra sau khi cÃ i Ä‘áº·t.

			VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
				# CÃ i Ä‘áº·t zip vÃ  unzip trÃªn CentOS/RHEL
				sudo yum install zip unzip -y

				# Kiá»ƒm tra phiÃªn báº£n
				zip -v
				unzip -v

				# Táº¡o file zip tá»« file1 vÃ  file2
				zip archive.zip file1 file2

				# Giáº£i nÃ©n archive.zip
				unzip archive.zip

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: zip -r jenkins_06122020.zip jenkins
		
			TÃŠN
				zip -r jenkins_06122020.zip jenkins
				â€” táº¡o file nÃ©n zip tá»« thÆ° má»¥c `jenkins` vá»›i toÃ n bá»™ ná»™i dung bÃªn trong

			TÃ“M Táº®T (SYNOPSIS)
				zip [options] <zipfile> <files_or_directories>
				zip -r jenkins_06122020.zip jenkins

			MÃ” Táº¢
				Lá»‡nh `zip` Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ nÃ©n file hoáº·c thÆ° má»¥c thÃ nh Ä‘á»‹nh dáº¡ng `.zip`. Trong vÃ­ dá»¥ nÃ y:

				- `jenkins_06122020.zip` : tÃªn file zip Ä‘áº§u ra sáº½ Ä‘Æ°á»£c táº¡o ra.
				- `jenkins`              : thÆ° má»¥c nguá»“n muá»‘n nÃ©n.
				- `-r` (recursive)       : nÃ©n toÃ n bá»™ thÆ° má»¥c vÃ  cÃ¡c file/thÆ° má»¥c con bÃªn trong, Ä‘á»‡ quy.

			PHÃ‚N TÃCH Tá»ªNG TÃ™Y CHá»ŒN
				1) `-r` (recursive)
					- Bao gá»“m táº¥t cáº£ cÃ¡c file vÃ  thÆ° má»¥c con trong thÆ° má»¥c `jenkins`.
					- Náº¿u bá» `-r`, chá»‰ cÃ¡c file trá»±c tiáº¿p trong thÆ° má»¥c `jenkins` sáº½ Ä‘Æ°á»£c nÃ©n, khÃ´ng bao gá»“m thÆ° má»¥c con.
				2) `jenkins_06122020.zip`
					- TÃªn file zip sáº½ táº¡o ra; náº¿u file tá»“n táº¡i, zip sáº½ cáº­p nháº­t ná»™i dung hoáº·c ghi Ä‘Ã¨ (tÃ¹y tÃ¹y chá»n).
				3) `jenkins`
					- ThÆ° má»¥c nguá»“n cáº§n nÃ©n.

			HOáº T Äá»˜NG Cá»¦A Lá»†NH
				- zip sáº½ Ä‘á»c toÃ n bá»™ ná»™i dung thÆ° má»¥c `jenkins`, bao gá»“m file, thÆ° má»¥c con vÃ  sub-directory.
				- Táº¡o file `jenkins_06122020.zip` chá»©a táº¥t cáº£ dá»¯ liá»‡u Ä‘Ã³.
				- Hiá»ƒn thá»‹ danh sÃ¡ch cÃ¡c file Ä‘ang Ä‘Æ°á»£c nÃ©n trÃªn terminal (máº·c Ä‘á»‹nh verbose).

			Lá»†NH LIÃŠN QUAN
				1) Giáº£i nÃ©n zip:
					unzip jenkins_06122020.zip
				2) Kiá»ƒm tra ná»™i dung zip mÃ  khÃ´ng giáº£i nÃ©n:
					unzip -l jenkins_06122020.zip
				3) NÃ©n nhiá»u thÆ° má»¥c/file cÃ¹ng lÃºc:
					zip -r backup.zip jenkins config logs
				4) NÃ©n vá»›i máº­t kháº©u báº£o vá»‡:
					zip -r -e jenkins_06122020.zip jenkins
					â†’ sáº½ yÃªu cáº§u nháº­p máº­t kháº©u khi giáº£i nÃ©n.
				5) Cáº­p nháº­t zip cÃ³ sáºµn:
					zip -ru jenkins_06122020.zip jenkins
					- `-u` (update) chá»‰ thÃªm file má»›i hoáº·c thay Ä‘á»•i.

			Máº¸O THá»°C TIá»„N
				- DÃ¹ng `-q` Ä‘á»ƒ nÃ©n im láº·ng, khÃ´ng hiá»ƒn thá»‹ danh sÃ¡ch file.
				- TrÃ¡nh nÃ©n file Ä‘ang má»Ÿ/ghi Ä‘á»ƒ Ä‘áº£m báº£o backup Ä‘áº§y Ä‘á»§.
				- CÃ³ thá»ƒ káº¿t há»£p vá»›i cron Ä‘á»ƒ backup Ä‘á»‹nh ká»³:
					0 2 * * * zip -r /backup/jenkins_$(date +\%d\%m\%Y).zip /var/lib/jenkins
				- Kiá»ƒm tra dung lÆ°á»£ng file zip sau khi nÃ©n:
					ls -lh jenkins_06122020.zip

			LÆ¯U Ã
				- Zip giá»¯ nguyÃªn cáº¥u trÃºc thÆ° má»¥c.
				- CÃ³ thá»ƒ nÃ©n nhiá»u file/thÆ° má»¥c cÃ¹ng lÃºc.
				- TrÃªn há»‡ thá»‘ng Linux, cáº§n cÃ i Ä‘áº·t gÃ³i `zip` trÆ°á»›c khi sá»­ dá»¥ng:
					yum install zip -y

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- `zip -r jenkins_06122020.zip jenkins` nÃ©n toÃ n bá»™ thÆ° má»¥c `jenkins` thÃ nh file zip.
				- `-r` cho phÃ©p nÃ©n Ä‘á»‡ quy táº¥t cáº£ file vÃ  thÆ° má»¥c con.
				- DÃ¹ng `unzip` Ä‘á»ƒ giáº£i nÃ©n, `-l` Ä‘á»ƒ liá»‡t kÃª ná»™i dung.
				- CÃ³ thá»ƒ káº¿t há»£p máº­t kháº©u hoáº·c cáº­p nháº­t file zip báº±ng cÃ¡c tÃ¹y chá»n `-e` vÃ  `-u`.

			VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
				# NÃ©n toÃ n bá»™ thÆ° má»¥c Jenkins thÃ nh zip
				zip -r jenkins_06122020.zip jenkins

				# Kiá»ƒm tra ná»™i dung zip
				unzip -l jenkins_06122020.zip

				# Giáº£i nÃ©n file zip
				unzip jenkins_06122020.zip

				# NÃ©n vá»›i máº­t kháº©u
				zip -r -e jenkins_06122020.zip jenkins

				# Backup Ä‘á»‹nh ká»³ vá»›i timestamp
				zip -r /backup/jenkins_$(date +%d%m%Y).zip /var/lib/jenkins

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: ls -ltr jenkins*
		
		
		
		- cmd: rm -rf jenkins
		
			TÃŠN
				rm -rf jenkins
				â€” xÃ³a thÆ° má»¥c `jenkins` vÃ  toÃ n bá»™ ná»™i dung bÃªn trong mÃ  khÃ´ng há»i xÃ¡c nháº­n

			TÃ“M Táº®T (SYNOPSIS)
				rm [options] <file_or_directory>
				rm -rf jenkins

			MÃ” Táº¢
				Lá»‡nh `rm` dÃ¹ng Ä‘á»ƒ xÃ³a file hoáº·c thÆ° má»¥c trÃªn Linux/Unix. Khi káº¿t há»£p vá»›i cÃ¡c tÃ¹y chá»n `-r` vÃ  `-f`:

				- `-r` (recursive) : xÃ³a Ä‘á»‡ quy táº¥t cáº£ file vÃ  thÆ° má»¥c con bÃªn trong thÆ° má»¥c `jenkins`.
				- `-f` (force)     : Ã©p xÃ³a mÃ  khÃ´ng há»i xÃ¡c nháº­n, bá» qua cÃ¡c lá»—i nhÆ° file khÃ´ng tá»“n táº¡i.

			PHÃ‚N TÃCH Tá»ªNG TÃ™Y CHá»ŒN
				1) `-r` (recursive)
					- Cho phÃ©p xÃ³a cáº£ thÆ° má»¥c, khÃ´ng chá»‰ file Ä‘Æ¡n láº».
					- Cáº§n thiáº¿t khi xÃ³a thÆ° má»¥c chá»©a file con hoáº·c thÆ° má»¥c con.
				2) `-f` (force)
					- KhÃ´ng hiá»ƒn thá»‹ cáº£nh bÃ¡o, khÃ´ng há»i ngÆ°á»i dÃ¹ng xÃ¡c nháº­n.
					- Bá» qua lá»—i "No such file or directory".
				3) `jenkins`
					- TÃªn thÆ° má»¥c hoáº·c file cáº§n xÃ³a.

			Rá»¦I RO
				- ÄÃ¢y lÃ  lá»‡nh nguy hiá»ƒm náº¿u dÃ¹ng nháº§m tÃªn thÆ° má»¥c hoáº·c file, Ä‘áº·c biá»‡t vá»›i quyá»n root.
				- KhÃ´ng thá»ƒ phá»¥c há»“i file sau khi xÃ³a báº±ng `rm -rf`.
				- Náº¿u dÃ¹ng biáº¿n khÃ´ng chÃ­nh xÃ¡c, cÃ³ thá»ƒ xÃ³a toÃ n bá»™ há»‡ thá»‘ng:
					rm -rf /*  â†’ cá»±c ká»³ nguy hiá»ƒm!

			BIá»†N PHÃP AN TOÃ€N
				1) Kiá»ƒm tra thÆ° má»¥c trÆ°á»›c khi xÃ³a:
					ls -l jenkins
				2) Thay `-f` báº±ng `-i` Ä‘á»ƒ há»i xÃ¡c nháº­n tá»«ng file:
					rm -ri jenkins
				3) Sá»­ dá»¥ng Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i Ä‘á»ƒ trÃ¡nh nháº§m láº«n:
					rm -rf /home/user/jenkins
				4) DÃ¹ng `trash-cli` hoáº·c `gio trash` Ä‘á»ƒ xÃ³a vÃ o thÃ¹ng rÃ¡c thay vÃ¬ xÃ³a vÄ©nh viá»…n:
					gio trash jenkins

			Lá»†NH LIÃŠN QUAN
				- rmdir <dir> : xÃ³a thÆ° má»¥c rá»—ng, khÃ´ng xÃ³a file con.
				- unlink <file> : xÃ³a file Ä‘Æ¡n láº».
				- find <path> -name "jenkins" -exec rm -rf {} \; : xÃ³a cÃ¡c thÆ° má»¥c tÃªn `jenkins` trong nhiá»u nÆ¡i.
				- rm -rf * : xÃ³a toÃ n bá»™ ná»™i dung thÆ° má»¥c hiá»‡n hÃ nh (cáº©n tháº­n).

			Máº¸O THá»°C TIá»„N
				- LuÃ´n kiá»ƒm tra tÃªn thÆ° má»¥c trÆ°á»›c khi dÃ¹ng `rm -rf`.
				- Náº¿u dÃ¹ng trong script, kiá»ƒm tra biáº¿n chá»©a Ä‘Æ°á»ng dáº«n:
					DIR_TO_REMOVE="/home/user/jenkins"
					rm -rf "$DIR_TO_REMOVE"
				- DÃ¹ng `echo` Ä‘á»ƒ mÃ´ phá»ng lá»‡nh trÆ°á»›c khi thá»±c thi:
					echo rm -rf "$DIR_TO_REMOVE"

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- `rm -rf jenkins` xÃ³a thÆ° má»¥c `jenkins` vÃ  táº¥t cáº£ file/thÆ° má»¥c con bÃªn trong mÃ  khÃ´ng há»i.
				- `-r` = xÃ³a Ä‘á»‡ quy; `-f` = force, bá» qua lá»—i vÃ  xÃ¡c nháº­n.
				- Ráº¥t nguy hiá»ƒm náº¿u dÃ¹ng nháº§m, Ä‘áº·c biá»‡t vá»›i quyá»n root; nÃªn kiá»ƒm tra ká»¹ tÃªn Ä‘Æ°á»ng dáº«n trÆ°á»›c khi cháº¡y.

			VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
				# XÃ³a thÆ° má»¥c Jenkins vÄ©nh viá»…n mÃ  khÃ´ng há»i
				rm -rf jenkins

				# XÃ³a thÆ° má»¥c vá»›i há»i xÃ¡c nháº­n tá»«ng file (an toÃ n hÆ¡n)
				rm -ri jenkins

				# DÃ¹ng Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i Ä‘á»ƒ trÃ¡nh nháº§m láº«n
				rm -rf /home/user/jenkins

				# MÃ´ phá»ng lá»‡nh trÆ°á»›c khi xÃ³a trong script
				DIR_TO_REMOVE="/home/user/jenkins"
				echo rm -rf "$DIR_TO_REMOVE"

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: unzip jenkins_06122020.zip
		
		
		
		- cmd: userdel -r devops
		
			TÃŠN
				userdel -r devops
				â€” xÃ³a tÃ i khoáº£n ngÆ°á»i dÃ¹ng `devops` vÃ  thÆ° má»¥c home cá»§a ngÆ°á»i dÃ¹ng Ä‘Ã³ trÃªn há»‡ thá»‘ng Linux/Unix

			TÃ“M Táº®T (SYNOPSIS)
				userdel [options] <username>
				userdel -r devops

			MÃ” Táº¢
				Lá»‡nh `userdel` Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ xÃ³a tÃ i khoáº£n ngÆ°á»i dÃ¹ng trÃªn há»‡ thá»‘ng Linux. Khi káº¿t há»£p vá»›i tÃ¹y chá»n `-r`:

				- `-r` : xÃ³a cáº£ thÆ° má»¥c home vÃ  cÃ¡c file mail spool cá»§a ngÆ°á»i dÃ¹ng.
				- `devops` : tÃªn tÃ i khoáº£n ngÆ°á»i dÃ¹ng cáº§n xÃ³a.

			PHÃ‚N TÃCH Tá»ªNG TÃ™Y CHá»ŒN
				1) `-r` (remove)
					- XÃ³a thÆ° má»¥c home: `/home/devops` vÃ  toÃ n bá»™ ná»™i dung bÃªn trong.
					- XÃ³a mail spool (náº¿u cÃ³) trong `/var/mail/devops` hoáº·c `/var/spool/mail/devops`.
					- Náº¿u bá» `-r`, chá»‰ xÃ³a tÃ i khoáº£n nhÆ°ng giá»¯ láº¡i thÆ° má»¥c home.
				2) `devops`
					- TÃ i khoáº£n ngÆ°á»i dÃ¹ng cáº§n xÃ³a.

			HOáº T Äá»˜NG Cá»¦A Lá»†NH
				1) Kiá»ƒm tra xem tÃ i khoáº£n `devops` cÃ³ tá»“n táº¡i khÃ´ng.
				2) Ngáº¯t táº¥t cáº£ tiáº¿n trÃ¬nh Ä‘ang cháº¡y cá»§a user `devops`.
				3) XÃ³a entry trong `/etc/passwd`, `/etc/shadow`, `/etc/group`, `/etc/gshadow`.
				4) Náº¿u cÃ³ `-r`, xÃ³a thÆ° má»¥c home vÃ  file mail cá»§a user.
				5) ThÃ´ng bÃ¡o lá»—i náº¿u user khÃ´ng tá»“n táº¡i hoáº·c Ä‘ang login (trong má»™t sá»‘ trÆ°á»ng há»£p).

			CÃC TÃ™Y CHá»ŒN KHÃC
				- `-f` (force) : Ã©p xÃ³a user ngay cáº£ khi Ä‘ang login hoáº·c user khÃ´ng tá»“n táº¡i. CÃ³ thá»ƒ dÃ¹ng káº¿t há»£p vá»›i `-r`:
					userdel -rf devops
				- `-h` : hiá»ƒn thá»‹ help
				- `--remove` : tÆ°Æ¡ng tá»± `-r`, xÃ³a home vÃ  mail spool

			Lá»†NH LIÃŠN QUAN
				- adduser / useradd : táº¡o ngÆ°á»i dÃ¹ng má»›i
				- passwd : thay Ä‘á»•i máº­t kháº©u user
				- groupdel : xÃ³a nhÃ³m
				- id <username> : kiá»ƒm tra UID/GID cá»§a user
				- who / w / finger : kiá»ƒm tra user Ä‘ang login

			Máº¸O THá»°C TIá»„N
				1) Kiá»ƒm tra tiáº¿n trÃ¬nh cá»§a user trÆ°á»›c khi xÃ³a:
					ps -u devops
				2) Dá»«ng tiáº¿n trÃ¬nh hoáº·c logout user náº¿u cáº§n:
					pkill -u devops
				3) Backup thÆ° má»¥c home trÆ°á»›c khi xÃ³a:
					tar -czvf devops_home_backup.tar.gz /home/devops
				4) Kiá»ƒm tra user Ä‘Ã£ xÃ³a:
					id devops
					â†’ náº¿u user khÃ´ng tá»“n táº¡i, id sáº½ bÃ¡o lá»—i.

			QUYá»€N
				- Chá»‰ root hoáº·c sudo má»›i Ä‘Æ°á»£c phÃ©p xÃ³a user:
					sudo userdel -r devops

			LÆ¯U Ã
				- Lá»‡nh nÃ y xÃ³a vÄ©nh viá»…n dá»¯ liá»‡u user náº¿u dÃ¹ng `-r`.
				- KhÃ´ng thá»ƒ phá»¥c há»“i user hoáº·c home directory náº¿u khÃ´ng cÃ³ backup.
				- TrÆ°á»›c khi xÃ³a user, luÃ´n kiá»ƒm tra cÃ¡c file vÃ  tiáº¿n trÃ¬nh quan trá»ng cá»§a há».

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- `userdel -r devops` xÃ³a tÃ i khoáº£n user `devops` vÃ  toÃ n bá»™ thÆ° má»¥c home + mail spool.
				- `-r` = remove home vÃ  mail, khÃ´ng chá»‰ xÃ³a entry trong /etc/passwd.
				- DÃ¹ng root hoáº·c sudo Ä‘á»ƒ thá»±c hiá»‡n.
				- NÃªn backup dá»¯ liá»‡u trÆ°á»›c khi xÃ³a vÄ©nh viá»…n.

			VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
				# XÃ³a user devops vÃ  thÆ° má»¥c home
				sudo userdel -r devops

				# Kiá»ƒm tra user devops cÃ²n tá»“n táº¡i khÃ´ng
				id devops

				# Backup thÆ° má»¥c home trÆ°á»›c khi xÃ³a
				tar -czvf devops_home_backup.tar.gz /home/devops

				# Dá»«ng táº¥t cáº£ tiáº¿n trÃ¬nh cá»§a user trÆ°á»›c khi xÃ³a
				pkill -u devops

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: export EDITOR=vim
		
			TÃŠN
				export EDITOR=vim
				â€” Ä‘áº·t biáº¿n mÃ´i trÆ°á»ng `EDITOR` cho shell, chá»‰ Ä‘á»‹nh `vim` lÃ m trÃ¬nh soáº¡n tháº£o máº·c Ä‘á»‹nh

			TÃ“M Táº®T (SYNOPSIS)
				export VAR=value
				export EDITOR=vim

			MÃ” Táº¢
				Lá»‡nh `export` trong Linux/Unix dÃ¹ng Ä‘á»ƒ táº¡o hoáº·c thay Ä‘á»•i biáº¿n mÃ´i trÆ°á»ng vÃ  lÃ m cho biáº¿n nÃ y cÃ³ hiá»‡u lá»±c cho táº¥t cáº£ cÃ¡c tiáº¿n trÃ¬nh con cá»§a shell hiá»‡n táº¡i.

				Trong vÃ­ dá»¥ nÃ y:

				- `EDITOR` : lÃ  biáº¿n mÃ´i trÆ°á»ng chuáº©n trong Linux/Unix dÃ¹ng Ä‘á»ƒ chá»‰ Ä‘á»‹nh trÃ¬nh soáº¡n tháº£o vÄƒn báº£n máº·c Ä‘á»‹nh. Má»™t sá»‘ lá»‡nh, chÆ°Æ¡ng trÃ¬nh sáº½ dÃ¹ng biáº¿n nÃ y Ä‘á»ƒ má»Ÿ editor, vÃ­ dá»¥:
					- `crontab -e` : má»Ÿ crontab báº±ng editor máº·c Ä‘á»‹nh
					- `git commit` : má»Ÿ trÃ¬nh soáº¡n tháº£o commit message
					- `visudo` : cÃ³ thá»ƒ dÃ¹ng biáº¿n EDITOR Ä‘á»ƒ chá»n editor

				- `vim` : Ä‘áº·t trÃ¬nh soáº¡n tháº£o `vim` lÃ  editor máº·c Ä‘á»‹nh.

			PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
				1) `export` :
					- LÃ m biáº¿n mÃ´i trÆ°á»ng cÃ³ hiá»‡u lá»±c vá»›i tiáº¿n trÃ¬nh con (child process)
					- Náº¿u chá»‰ `EDITOR=vim` mÃ  khÃ´ng export, biáº¿n chá»‰ tá»“n táº¡i trong shell hiá»‡n táº¡i vÃ  khÃ´ng Ä‘Æ°á»£c cÃ¡c tiáº¿n trÃ¬nh con nháº­n.
				2) `EDITOR=vim` :
					- GÃ¡n giÃ¡ trá»‹ `vim` cho biáº¿n `EDITOR`.

			CÃCH KIá»‚M TRA
				- Kiá»ƒm tra giÃ¡ trá»‹ hiá»‡n táº¡i cá»§a biáº¿n:
					echo $EDITOR
				- Kiá»ƒm tra xem biáº¿n cÃ³ Ä‘Æ°á»£c export khÃ´ng:
					env | grep EDITOR

			LÆ¯U Ã Vá»€ Cáº¤U HÃŒNH VÄ¨NH VIá»„N
				- Náº¿u muá»‘n thiáº¿t láº­p vÄ©nh viá»…n cho user, thÃªm dÃ²ng nÃ y vÃ o file cáº¥u hÃ¬nh shell:
					- `~/.bashrc` hoáº·c `~/.bash_profile` cho bash
					- `~/.zshrc` cho zsh
				- Sau Ä‘Ã³ reload shell:
					source ~/.bashrc

			Lá»†NH LIÃŠN QUAN
				- export VAR=value : táº¡o/thiáº¿t láº­p biáº¿n mÃ´i trÆ°á»ng
				- unset VAR : xÃ³a biáº¿n mÃ´i trÆ°á»ng
				- echo $VAR : hiá»ƒn thá»‹ giÃ¡ trá»‹ biáº¿n
				- env : liá»‡t kÃª táº¥t cáº£ biáº¿n mÃ´i trÆ°á»ng
				- crontab -e, git commit : dÃ¹ng biáº¿n EDITOR Ä‘á»ƒ má»Ÿ trÃ¬nh soáº¡n tháº£o

			Máº¸O THá»°C TIá»„N
				1) Äáº·t editor máº·c Ä‘á»‹nh cho toÃ n há»‡ thá»‘ng (náº¿u dÃ¹ng update-alternatives):
					sudo update-alternatives --config editor
				2) Thay Ä‘á»•i editor cho má»™t láº§n sá»­ dá»¥ng:
					EDITOR=nano crontab -e
				3) Káº¿t há»£p vá»›i VISUAL:
					export VISUAL=vim
				  - Má»™t sá»‘ chÆ°Æ¡ng trÃ¬nh Æ°u tiÃªn VISUAL hÆ¡n EDITOR náº¿u cÃ³ cáº£ hai.

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- `export EDITOR=vim` chá»‰ Ä‘á»‹nh `vim` lÃ  trÃ¬nh soáº¡n tháº£o máº·c Ä‘á»‹nh.
				- Biáº¿n nÃ y cÃ³ hiá»‡u lá»±c cho shell hiá»‡n táº¡i vÃ  cÃ¡c tiáº¿n trÃ¬nh con.
				- DÃ¹ng khi muá»‘n cÃ¡c lá»‡nh nhÆ° `crontab -e`, `git commit` má»Ÿ vim thay vÃ¬ editor khÃ¡c.
				- ThÃªm vÃ o `.bashrc` hoáº·c `.zshrc` Ä‘á»ƒ thiáº¿t láº­p vÄ©nh viá»…n.

			VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
				# Thiáº¿t láº­p editor máº·c Ä‘á»‹nh lÃ  vim
				export EDITOR=vim

				# Kiá»ƒm tra biáº¿n EDITOR
				echo $EDITOR

				# Má»Ÿ crontab báº±ng vim
				crontab -e

				# Thiáº¿t láº­p vÄ©nh viá»…n trong bash
				echo "export EDITOR=vim" >> ~/.bashrc
				source ~/.bashrc

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: wget http://archive.ubuntu.com/ubuntu/pool/universe/t/tree/tree_2.0.2-1_amd64.deb
		
		
		
		- cmd: dpkg -i tree_2.0.2-1_amd64.deb
		
			TÃŠN
				dpkg -i tree_2.0.2-1_amd64.deb
				â€” cÃ i Ä‘áº·t gÃ³i pháº§n má»m `.deb` trÃªn há»‡ thá»‘ng Debian/Ubuntu

			TÃ“M Táº®T (SYNOPSIS)
				dpkg [options] -i <package_file>
				dpkg -i tree_2.0.2-1_amd64.deb

			MÃ” Táº¢
				Lá»‡nh `dpkg` (Debian Package) lÃ  cÃ´ng cá»¥ quáº£n lÃ½ gÃ³i cÆ¡ báº£n trÃªn cÃ¡c há»‡ thá»‘ng Debian vÃ  Ubuntu. NÃ³ dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t, xÃ³a, kiá»ƒm tra cÃ¡c gÃ³i `.deb` mÃ  khÃ´ng cáº§n káº¿t ná»‘i internet.  

				Trong vÃ­ dá»¥ nÃ y:

				- `-i` (install) : cÃ i Ä‘áº·t gÃ³i `.deb` Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh.
				- `tree_2.0.2-1_amd64.deb` : file gÃ³i `.deb` cá»§a pháº§n má»m `tree`, phiÃªn báº£n 2.0.2-1 cho kiáº¿n trÃºc amd64.

			PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
				1) `dpkg` :
					- TrÃ¬nh quáº£n lÃ½ gÃ³i cÆ¡ báº£n cho Debian/Ubuntu.
					- KhÃ´ng tá»± Ä‘á»™ng giáº£i quyáº¿t dependencies, chá»‰ cÃ i Ä‘áº·t gÃ³i cÃ³ sáºµn.
				2) `-i` :
					- Chá»‰ thá»‹ cÃ i Ä‘áº·t gÃ³i.
				3) `tree_2.0.2-1_amd64.deb` :
					- TÃªn file gÃ³i `.deb` cáº§n cÃ i Ä‘áº·t.
					- `amd64` chá»‰ kiáº¿n trÃºc 64-bit.

			HOáº T Äá»˜NG Cá»¦A Lá»†NH
				1) Kiá»ƒm tra file `.deb` cÃ³ tá»“n táº¡i vÃ  há»£p lá»‡.
				2) Giáº£i nÃ©n cÃ¡c file trong gÃ³i vÃ o há»‡ thá»‘ng.
				3) Cáº­p nháº­t database cá»§a dpkg vá» cÃ¡c file, phiÃªn báº£n vÃ  tráº¡ng thÃ¡i gÃ³i.
				4) Náº¿u thiáº¿u dependencies, lá»‡nh cÃ³ thá»ƒ bÃ¡o lá»—i.

			Xá»¬ LÃ DEPENDENCIES
				- Náº¿u gÃ³i cáº§n thÆ° viá»‡n khÃ¡c, dpkg sáº½ bÃ¡o lá»—i:
					dpkg: dependency problems prevent configuration of tree
				- DÃ¹ng `apt-get -f install` Ä‘á»ƒ tá»± Ä‘á»™ng cÃ i dependencies:
					sudo apt-get -f install

			Lá»†NH LIÃŠN QUAN
				- dpkg -r <package_name> : gá»¡ cÃ i Ä‘áº·t gÃ³i Ä‘Ã£ cÃ i.
				- dpkg -l : liá»‡t kÃª gÃ³i Ä‘Ã£ cÃ i.
				- dpkg -L <package_name> : liá»‡t kÃª file cá»§a gÃ³i.
				- apt install ./tree_2.0.2-1_amd64.deb : cÃ i Ä‘áº·t gÃ³i vÃ  tá»± Ä‘á»™ng giáº£i quyáº¿t dependencies (thÃ­ch há»£p cho ngÆ°á»i má»›i).
				- dpkg -i <package_file> : cÃ i gÃ³i offline tá»« file .deb.

			Máº¸O THá»°C TIá»„N
				1) DÃ¹ng sudo náº¿u khÃ´ng pháº£i root:
					sudo dpkg -i tree_2.0.2-1_amd64.deb
				2) Kiá»ƒm tra phiÃªn báº£n sau khi cÃ i:
					tree --version
				3) Xem chi tiáº¿t thÃ´ng tin gÃ³i:
					dpkg -I tree_2.0.2-1_amd64.deb
				4) Náº¿u gáº·p lá»—i dependency:
					sudo apt-get install -f

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- `dpkg -i tree_2.0.2-1_amd64.deb` cÃ i Ä‘áº·t gÃ³i tree tá»« file `.deb`.
				- `dpkg` khÃ´ng tá»± giáº£i quyáº¿t dependencies, cáº§n dÃ¹ng `apt-get -f install` náº¿u thiáº¿u thÆ° viá»‡n.
				- `sudo` cáº§n thiáº¿t Ä‘á»ƒ cÃ i Ä‘áº·t vÃ o há»‡ thá»‘ng.
				- DÃ¹ng `dpkg -l` Ä‘á»ƒ kiá»ƒm tra gÃ³i Ä‘Ã£ cÃ i vÃ  `tree --version` Ä‘á»ƒ kiá»ƒm tra pháº§n má»m.

			VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
				# CÃ i Ä‘áº·t gÃ³i tree tá»« file .deb
				sudo dpkg -i tree_2.0.2-1_amd64.deb

				# Kiá»ƒm tra xem tree Ä‘Ã£ cÃ i thÃ nh cÃ´ng
				tree --version

				# Náº¿u gáº·p lá»—i dependency
				sudo apt-get -f install

				# Liá»‡t kÃª cÃ¡c gÃ³i Ä‘Ã£ cÃ i
				dpkg -l | grep tree

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: dpkg -l
		
		
		
		- cmd: dpkg -l | grep tree
		
		
		
		- cmd: dpkg -r tree
		
		
		
		- cmd: apt update
		
		
		
		- cmd: apt search tree
		
		
		
		- cmd: apt install tree
		
		
		
		- cmd: apt install apache2
		
		
		
		- cmd: systemctl status apache2
		
		
		
		- cmd: apt upgrade
		
		
		
		- cmd: apt remove apache2
		
		
		
		- cmd: apt purge apache2
		
	
	TrÃªn host: báº¡n khÃ´ng cÃ³ sudo â†’ lá»—i.

	Sau khi vagrant ssh: báº¡n Ä‘ang á»Ÿ trong mÃ¡y áº£o, nÆ¡i sudo Ä‘Ã£ Ä‘Æ°á»£c cÃ i vÃ  cáº¥u hÃ¬nh sáºµn â†’ cháº¡y Ä‘Æ°á»£c sudo -i.
	
	$ vagrant ssh
	
		A Vagrant environment or target machine is required to run this
		command. Run `vagrant init` to create a new Vagrant environment. Or,
		get an ID of a target machine from `vagrant global-status` to run
		this command on. A final option is to change to a directory with a
		Vagrantfile and to try again.
		
		CÃ³ nghÄ©a lÃ  báº¡n Ä‘ang cháº¡y vagrant ssh nhÆ°ng Vagrant khÃ´ng biáº¿t báº¡n muá»‘n SSH vÃ o mÃ¡y áº£o nÃ o.
		
		Báº¡n chÆ°a táº¡o mÃ¡y áº£o báº±ng vagrant init + vagrant up.

		Hoáº·c báº¡n Ä‘ang khÃ´ng Ä‘á»©ng trong thÆ° má»¥c cÃ³ chá»©a file Vagrantfile.

		Hoáº·c chÆ°a cÃ³ mÃ¡y áº£o nÃ o Ä‘ang cháº¡y.
		
	CÃ¡ch thoÃ¡t ra khá»i vim:

		Nháº¥n phÃ­m Esc (Ä‘á»ƒ cháº¯c cháº¯n khÃ´ng cÃ²n á»Ÿ cháº¿ Ä‘á»™ nháº­p vÄƒn báº£n ná»¯a).

		Sau Ä‘Ã³ gÃµ má»™t trong cÃ¡c lá»‡nh sau rá»“i báº¥m Enter:

		:q â†’ thoÃ¡t náº¿u chÆ°a chá»‰nh sá»­a gÃ¬.

		:q! â†’ thoÃ¡t bá» qua thay Ä‘á»•i (khÃ´ng lÆ°u).

		:wq â†’ lÆ°u rá»“i thoÃ¡t.

		:x â†’ tÆ°Æ¡ng tá»± :wq (lÆ°u rá»“i thoÃ¡t).

	Vim:
	
		Lá»‡nh Shift + g
		
			Di chuyá»ƒn con trá» xuá»‘ng dÃ²ng cuá»‘i cÃ¹ng cá»§a file.
			
		Lá»‡nh yy

			yy = yank line (sao chÃ©p 1 dÃ²ng hiá»‡n táº¡i).

			Khi báº¡n Ä‘ang á»Ÿ cháº¿ Ä‘á»™ Normal mode (báº¥m Esc Ä‘á»ƒ cháº¯c cháº¯n):

			yy sáº½ copy nguyÃªn cáº£ dÃ²ng nÆ¡i con trá» Ä‘ang Ä‘á»©ng vÃ o bá»™ nhá»› táº¡m (clipboard cá»§a Vim).

			VÃ­ dá»¥:
			
				Con trá» Ä‘ang á»Ÿ dÃ²ng sá»‘ 5, gÃµ yy â†’ dÃ²ng sá»‘ 5 Ä‘Æ°á»£c copy.
				
		Lá»‡nh yyyy

		Lá»‡nh p

			p = put (dÃ¡n sau con trá»).

			Sau khi copy báº±ng yy, báº¡n cÃ³ thá»ƒ dÃ¡n dÃ²ng Ä‘Ã³ xuá»‘ng ngay dÆ°á»›i con trá» báº±ng p.

			VÃ­ dá»¥:

				Báº¡n Ä‘á»©ng á»Ÿ dÃ²ng sá»‘ 5, gÃµ yy.

				Sau Ä‘Ã³ xuá»‘ng dÃ²ng sá»‘ 10, gÃµ p.

				DÃ²ng sá»‘ 5 sáº½ Ä‘Æ°á»£c chÃ¨n vÃ o sau dÃ²ng sá»‘ 10.
				
		Lá»‡nh dd
		
		Lá»‡nh ddddd
		
		Lá»‡nh u
		
		Lá»‡nh /
		
		Lá»‡nh :%s/coronavirus/covid19/g
		
			Thay toÃ n bá»™ táº¥t cáº£ cÃ¡c chá»¯ "coronavirus" trong file thÃ nh "covid19".
			
			Giáº£i thÃ­ch tá»«ng pháº§n:
		
				: â†’ vÃ o command mode trong Vim (gÃµ lá»‡nh).

				% â†’ pháº¡m vi Ã¡p dá»¥ng: toÃ n bá»™ file.

				Náº¿u chá»‰ viáº¿t :s/.../.../ thÃ¬ nÃ³ chá»‰ thay trong dÃ²ng hiá»‡n táº¡i.

				% nghÄ©a lÃ  tá»« dÃ²ng 1 Ä‘áº¿n dÃ²ng cuá»‘i.

				s â†’ viáº¿t táº¯t cá»§a substitute (thay tháº¿).

				coronavirus â†’ lÃ  chuá»—i tÃ¬m kiáº¿m (cÃ¡i cáº§n thay).

				covid19 â†’ lÃ  chuá»—i thay tháº¿.

				g â†’ global trong dÃ²ng â†’ thay táº¥t cáº£ cÃ¡c láº§n xuáº¥t hiá»‡n trong má»—i dÃ²ng.

				Náº¿u bá» g, thÃ¬ trÃªn má»—i dÃ²ng chá»‰ thay láº§n xuáº¥t hiá»‡n Ä‘áº§u tiÃªn.
		
		Lá»‡nh :%s/covid19//g
		
			XÃ³a toÃ n bá»™ táº¥t cáº£ cÃ¡c chá»¯ covid19 trong toÃ n bá»™ file.
			
			Giáº£i thÃ­ch ngáº¯n gá»n:

				:% â†’ Ã¡p dá»¥ng cho toÃ n bá»™ file.

				s â†’ substitute (thay tháº¿).

				covid19 â†’ chuá»—i cáº§n tÃ¬m.

				// â†’ thay tháº¿ báº±ng chuá»—i rá»—ng (nghÄ©a lÃ  xÃ³a Ä‘i).

				g â†’ thay táº¥t cáº£ cÃ¡c láº§n xuáº¥t hiá»‡n trÃªn má»—i dÃ²ng.
		
	Grep:
	
		grep trong Linux lÃ  má»™t lá»‡nh dÃ¹ng Ä‘á»ƒ tÃ¬m kiáº¿m chuá»—i (string/pattern) trong file hoáº·c
		trong output cá»§a lá»‡nh khÃ¡c. NÃ³ lÃ  viáº¿t táº¯t cá»§a Global Regular Expression Print.
		
		CÃ¡ch hoáº¡t Ä‘á»™ng

			grep sáº½ quÃ©t qua tá»«ng dÃ²ng dá»¯ liá»‡u.

			Náº¿u dÃ²ng nÃ o khá»›p vá»›i chuá»—i hoáº·c biá»ƒu thá»©c chÃ­nh quy (regex) mÃ  báº¡n chá»‰ Ä‘á»‹nh â†’ nÃ³ sáº½ in dÃ²ng Ä‘Ã³ ra mÃ n hÃ¬nh.
			
	dnf:
	
		Trong Linux (Ä‘áº·c biá»‡t lÃ  CentOS, RHEL, Fedora), dnf lÃ  má»™t trÃ¬nh quáº£n lÃ½ gÃ³i (package manager).
		
		Giáº£i thÃ­ch ngáº¯n gá»n

			dnf viáº¿t táº¯t cá»§a Dandified YUM.

			NÃ³ lÃ  phiÃªn báº£n má»›i thay tháº¿ cho yum tá»« RHEL/CentOS 8 trá»Ÿ Ä‘i.

			DÃ¹ng Ä‘á»ƒ:

			CÃ i Ä‘áº·t pháº§n má»m.

			Gá»¡ bá» pháº§n má»m.

			Cáº­p nháº­t há»‡ thá»‘ng.

			Quáº£n lÃ½ kho (repository).
			
	yum:
	
		Trong Linux (Ä‘áº·c biá»‡t lÃ  cÃ¡c báº£n CentOS, RHEL, Fedora cÅ©), yum lÃ  má»™t trÃ¬nh quáº£n lÃ½ gÃ³i (package manager).
		
		Giáº£i thÃ­ch ngáº¯n gá»n

			yum viáº¿t táº¯t cá»§a Yellowdog Updater, Modified.

			NÃ³ giÃºp báº¡n cÃ i Ä‘áº·t, cáº­p nháº­t, gá»¡ bá» vÃ  quáº£n lÃ½ pháº§n má»m trÃªn há»‡ thá»‘ng Linux dá»±a trÃªn gÃ³i RPM.

			yum lÃ m viá»‡c vá»›i cÃ¡c repository (kho pháº§n má»m) Ä‘á»ƒ tá»± Ä‘á»™ng táº£i vá» vÃ  xá»­ lÃ½ phá»¥ thuá»™c giá»¯a cÃ¡c gÃ³i (dependencies).

		Quan há»‡ giá»¯a yum vÃ  dnf

			yum lÃ  cÃ´ng cá»¥ cÅ© (dÃ¹ng trÃªn CentOS 7, RHEL 7 trá»Ÿ xuá»‘ng).

			Tá»« CentOS/RHEL 8 trá»Ÿ Ä‘i, yum Ä‘Ã£ Ä‘Æ°á»£c thay tháº¿ bá»Ÿi dnf.

			Tuy nhiÃªn, Ä‘á»ƒ trÃ¡nh gÃ¢y rá»‘i cho ngÆ°á»i dÃ¹ng quen yum, nhiá»u há»‡ thá»‘ng má»›i váº«n Ä‘á»ƒ lá»‡nh yum tá»“n táº¡i, nhÆ°ng thá»±c
			cháº¥t nÃ³ chá»‰ lÃ  symlink (liÃªn káº¿t) trá» tá»›i dnf.
			
	apt:
	
		apt (Advanced Package Tool) lÃ  trÃ¬nh quáº£n lÃ½ gÃ³i (package manager) dÃ¹ng trong cÃ¡c há»‡ Ä‘iá»u hÃ nh Linux
		thuá»™c há» Debian (nhÆ° Ubuntu, Debian, Linux Mint).

		NÃ³ giÃºp báº¡n cÃ i Ä‘áº·t, nÃ¢ng cáº¥p, gá»¡ bá» vÃ  quáº£n lÃ½ pháº§n má»m má»™t cÃ¡ch dá»… dÃ ng, thay vÃ¬ pháº£i táº£i thá»§ cÃ´ng tá»«ng file .deb.
		
		
		
--- GIT:

	- Commands:
	
		- cmd: git init
		
Giáº£i thÃ­ch chi tiáº¿t vá»: git init

Má»¤C TIÃŠU

* Giáº£i thÃ­ch "git init" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng, vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng chá»©a kÃ½ hiá»‡u markdown phá»©c táº¡p) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: git init

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   git init lÃ  lá»‡nh khá»Ÿi táº¡o má»™t kho Git (repository) má»›i trong thÆ° má»¥c hiá»‡n táº¡i. Lá»‡nh nÃ y táº¡o ra thÆ° má»¥c con .git chá»©a toÃ n bá»™ dá»¯ liá»‡u cáº§n thiáº¿t Ä‘á»ƒ Git theo dÃµi lá»‹ch sá»­ thay Ä‘á»•i (commit, branch, config, objects...). Sau khi cháº¡y git init, thÆ° má»¥c hiá»‡n táº¡i trá»Ÿ thÃ nh má»™t repository Git (local repository).

2. Khi nÃ o dÃ¹ng

* Khi báº¡n muá»‘n báº¯t Ä‘áº§u theo dÃµi phiÃªn báº£n mÃ£ nguá»“n cá»§a má»™t dá»± Ã¡n má»›i.
* Khi báº¡n muá»‘n chuyá»ƒn má»™t thÆ° má»¥c hiá»‡n cÃ³ (chá»©a mÃ£) sang má»™t Git repository Ä‘á»ƒ báº¯t Ä‘áº§u commit lá»‹ch sá»­.
* Khi báº¡n cáº§n khá»Ÿi táº¡o má»™t repository cá»¥c bá»™ trÆ°á»›c khi káº¿t ná»‘i tá»›i remote (vÃ­ dá»¥: GitHub, GitLab).

3. CÃ¡ch hoáº¡t Ä‘á»™ng (má»™t cÃ¡ch Ä‘Æ¡n giáº£n)

* Táº¡o thÆ° má»¥c áº©n .git trong thÆ° má»¥c hiá»‡n táº¡i.
* Táº¡o file cáº¥u hÃ¬nh ban Ä‘áº§u (.git/config), refs (nguá»“n tham chiáº¿u cho branch), vÃ  cÆ¡ sá»Ÿ dá»¯ liá»‡u object (objects/), cÃ¹ng há»‡ thá»‘ng lÆ°u trá»¯ metadata khÃ¡c.
* KhÃ´ng tá»± Ä‘á»™ng thÃªm file vÃ o index/staging area; báº¡n váº«n pháº£i dÃ¹ng git add Ä‘á»ƒ Ä‘Æ°a file vÃ o staging, vÃ  git commit Ä‘á»ƒ ghi láº¡i lá»‹ch sá»­.

4. CÃº phÃ¡p cÆ¡ báº£n

* git init
  -> Khá»Ÿi táº¡o repository trong thÆ° má»¥c hiá»‡n táº¡i.
* git init <tÃªn-thÆ°-má»¥c>
  -> Táº¡o thÆ° má»¥c má»›i cÃ³ tÃªn <tÃªn-thÆ°-má»¥c> vÃ  khá»Ÿi táº¡o repository trong Ä‘Ã³ (tÃ¹y vÃ o shell, cÃ³ thá»ƒ cáº§n táº¡o trÆ°á»›c thÆ° má»¥c rá»“i cd vÃ o).

5. VÃ­ dá»¥ thá»±c táº¿ (dÃ¹ng trong terminal)
   VÃ­ dá»¥ 1: Khá»Ÿi táº¡o repository trong thÆ° má»¥c hiá»‡n táº¡i
   $ cd /duong/dan/du-an
   $ git init
   Initialized empty Git repository in /duong/dan/du-an/.git/

VÃ­ dá»¥ 2: Khá»Ÿi táº¡o repository trong thÆ° má»¥c má»›i
$ git init new-project
Initialized empty Git repository in /.../new-project/.git/
$ cd new-project

6. Sau khi git init, thÆ°á»ng lÃ m gÃ¬ tiáº¿p theo

* Kiá»ƒm tra tráº¡ng thÃ¡i
  $ git status
* ThÃªm file vÃ o staging area
  $ git add file1.txt
  hoáº·c thÃªm táº¥t cáº£
  $ git add .
* Táº¡o commit Ä‘áº§u tiÃªn
  $ git commit -m "Initial commit"
* Thiáº¿t láº­p remote (náº¿u cáº§n, vÃ­ dá»¥ GitHub)
  $ git remote add origin [git@github.com](mailto:git@github.com):username/repo.git
  $ git push -u origin main

7. TÃ¹y chá»n vÃ  biáº¿n thá»ƒ

* git init --bare
  -> Táº¡o repository á»Ÿ dáº¡ng "bare" (khÃ´ng cÃ³ working directory), thÆ°á»ng dÃ¹ng Ä‘á»ƒ lÃ m remote repository trÃªn server. KhÃ´ng dÃ¹ng Ä‘á»ƒ phÃ¡t triá»ƒn trá»±c tiáº¿p trong thÆ° má»¥c Ä‘Ã³.
* git init --separate-git-dir=<dir>
  -> LÆ°u thÆ° má»¥c .git á»Ÿ nÆ¡i khÃ¡c, há»¯u Ã­ch náº¿u báº¡n muá»‘n tÃ¡ch metadata Git ra khá»i working tree.

8. LÃ m viá»‡c vá»›i thÆ° má»¥c Ä‘Ã£ cÃ³ file (má»™t workflow phá»• biáº¿n)

1) Táº¡o hoáº·c vÃ o thÆ° má»¥c dá»± Ã¡n:
   $ mkdir myproject && cd myproject
2) Khá»Ÿi táº¡o git
   $ git init
3) ThÃªm file (vÃ­ dá»¥ README)
   $ echo "# My Project" > README.md
4) ÄÆ°a file vÃ o staging
   $ git add README.md
5) Commit
   $ git commit -m "Add README"
6) (TÃ¹y chá»n) ThÃªm remote vÃ  push
   $ git remote add origin [git@github.com](mailto:git@github.com):you/myproject.git
   $ git push -u origin main

9. Nhá»¯ng Ä‘iá»u cáº§n lÆ°u Ã½

* git init chá»‰ áº£nh hÆ°á»Ÿng tá»›i thÆ° má»¥c hiá»‡n táº¡i (vÃ  cÃ¡c thÆ° má»¥c con) â€” nÃ³ khÃ´ng Ä‘á»¥ng tá»›i file ngoÃ i thÆ° má»¥c Ä‘Ã³.
* Náº¿u thÆ° má»¥c Ä‘Ã£ chá»©a má»™t thÆ° má»¥c .git (Ä‘Ã£ lÃ  repo), cháº¡y git init sáº½ khÃ´ng xÃ³a lá»‹ch sá»­; nÃ³ cÃ³ thá»ƒ tÃ¡i táº¡o file cÃ i Ä‘áº·t Git hoáº·c sá»­a má»™t sá»‘ cáº¥u hÃ¬nh, nhÆ°ng háº§u háº¿t thá»i gian khÃ´ng nÃªn cháº¡y láº¡i trá»« khi báº¡n biáº¿t rÃµ lÃ½ do.
* Quyá»n truy cáº­p: náº¿u dÃ¹ng --bare Ä‘á»ƒ lÃ m remote trÃªn server, cáº§n cáº¥u hÃ¬nh quyá»n truy cáº­p (SSH, HTTPS) phÃ¹ há»£p.
* Náº¿u báº¡n chá»‰ muá»‘n thá»­ nghiá»‡m local vÃ  khÃ´ng muá»‘n táº¡o .git trong thÆ° má»¥c gá»‘c, cÃ³ thá»ƒ dÃ¹ng git init trong má»™t thÆ° má»¥c con.

10. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
    Q: git init cÃ³ táº¡o branch máº·c Ä‘á»‹nh khÃ´ng?
    A: Git khá»Ÿi táº¡o repository vá»›i branch máº·c Ä‘á»‹nh; á»Ÿ cÃ¡c phiÃªn báº£n Git cÅ© lÃ  master, cÃ¡c phiÃªn báº£n má»›i hÆ¡n (tÃ¹y cáº¥u hÃ¬nh) cÃ³ thá»ƒ máº·c Ä‘á»‹nh lÃ  main. Báº¡n cÃ³ thá»ƒ kiá»ƒm tra hoáº·c Ä‘á»•i báº±ng git branch -M main.

Q: CÃ³ thá»ƒ khá»Ÿi táº¡o repository náº¿u Ä‘ang trong project cá»§a ngÆ°á»i khÃ¡c khÃ´ng?
A: CÃ³, nhÆ°ng cáº©n tháº­n: thÃªm .git lÃ m repository trong má»™t thÆ° má»¥c cÃ³ thá»ƒ lÃ m lá»™n lá»‹ch sá»­ náº¿u thÆ° má»¥c trÆ°á»›c Ä‘Ã³ lÃ  má»™t submodule hoáº·c managed bá»Ÿi há»‡ thá»‘ng khÃ¡c.

Q: TÃ´i tháº¥y thÆ° má»¥c .git/ â€” cÃ³ nÃªn xÃ³a khÃ´ng?
A: XÃ³a .git sáº½ xÃ³a toÃ n bá»™ lá»‹ch sá»­ Git vÃ  lÃ m thÆ° má»¥c trá»Ÿ thÃ nh thÆ° má»¥c bÃ¬nh thÆ°á»ng. HÃ£y backup trÆ°á»›c khi xÃ³a.

11. TÃ i nguyÃªn tham kháº£o nhanh (lá»‡nh há»¯u Ã­ch sau git init)

* git status
* git add <file>
* git commit -m "message"
* git branch -M main
* git remote add origin <url>
* git push -u origin main

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: ls -a
		
Giáº£i thÃ­ch chi tiáº¿t vá»: ls -a

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "ls -a" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng, vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng chá»©a kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: ls -a

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   ls lÃ  lá»‡nh liá»‡t kÃª ná»™i dung thÆ° má»¥c trong há»‡ Ä‘iá»u hÃ nh loáº¡i Unix/Linux. TÃ¹y chá»n -a (viáº¿t táº¯t cá»§a --all) cho phÃ©p hiá»ƒn thá»‹ táº¥t cáº£ cÃ¡c file vÃ  thÆ° má»¥c, bao gá»“m cÃ¡c file áº©n (nhá»¯ng file báº¯t Ä‘áº§u báº±ng dáº¥u cháº¥m "."), vÃ  cÅ©ng hiá»ƒn thá»‹ " . " (thÆ° má»¥c hiá»‡n táº¡i) vÃ  " .. " (thÆ° má»¥c cha).

2. Khi nÃ o dÃ¹ng

* Khi báº¡n muá»‘n xem cáº£ file áº©n trong má»™t thÆ° má»¥c (vÃ­ dá»¥: .git, .bashrc, .env).
* Khi cáº§n kiá»ƒm tra cáº¥u trÃºc thÆ° má»¥c Ä‘áº§y Ä‘á»§ trÆ°á»›c khi xÃ³a, di chuyá»ƒn, hoáº·c chá»‰nh sá»­a.

3. CÃ¡ch hoáº¡t Ä‘á»™ng (má»™t cÃ¡ch Ä‘Æ¡n giáº£n)

* ThÃ´ng thÆ°á»ng ls khÃ´ng hiá»ƒn thá»‹ cÃ¡c file báº¯t Ä‘áº§u báº±ng dáº¥u cháº¥m.
* Khi thÃªm -a, ls sáº½ quÃ©t táº¥t cáº£ má»¥c trong thÆ° má»¥c vÃ  xuáº¥t danh sÃ¡ch bao gá»“m cáº£ nhá»¯ng má»¥c áº©n.

4. CÃº phÃ¡p cÆ¡ báº£n

* ls -a
  -> Liá»‡t kÃª toÃ n bá»™ má»¥c trong thÆ° má»¥c hiá»‡n táº¡i, bao gá»“m file áº©n vÃ  cÃ¡c entry . vÃ  .. .
* ls -a <Ä‘Æ°á»ng-dáº«n>
  -> Liá»‡t kÃª táº¥t cáº£ má»¥c trong thÆ° má»¥c Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh.

5. CÃ¡c biáº¿n thá»ƒ hay dÃ¹ng (káº¿t há»£p vá»›i cÃ¡c tÃ¹y chá»n khÃ¡c)

* ls -la hoáº·c ls -al
  -> Káº¿t há»£p -l (long format) vÃ  -a Ä‘á»ƒ hiá»ƒn thá»‹ chi tiáº¿t quyá»n, chá»§ sá»Ÿ há»¯u, kÃ­ch thÆ°á»›c, thá»i gian sá»­a, Ä‘á»“ng thá»i bao gá»“m file áº©n.
* ls -A
  -> TÆ°Æ¡ng tá»± -a nhÆ°ng bá» qua hai entry Ä‘áº·c biá»‡t . vÃ  .. (khÃ´ng liá»‡t kÃª thÆ° má»¥c hiá»‡n táº¡i vÃ  thÆ° má»¥c cha).
* ls -lah
  -> ThÆ°á»ng dÃ¹ng: -l: chi tiáº¿t, -a: táº¥t cáº£, -h: human-readable cho kÃ­ch thÆ°á»›c (vÃ­ dá»¥ 4.0K, 1.2M).

6. VÃ­ dá»¥ thá»±c táº¿ (dÃ¹ng trong terminal)
   VÃ­ dá»¥ 1: Liá»‡t kÃª táº¥t cáº£ trong thÆ° má»¥c hiá»‡n táº¡i
   $ ls -a
   .  ..  .bashrc  .git  README.md  src  .env

VÃ­ dá»¥ 2: Liá»‡t kÃª chi tiáº¿t má»i má»¥c trong thÆ° má»¥c project
$ ls -la /home/user/myproject
total 56
drwxr-xr-x  7 user user  4096 Jan 01 12:00 .
drwxr-xr-x 10 user user  4096 Jan 01 11:00 ..
-rw-r--r--  1 user user   220 Jan 01 10:00 .bashrc
drwxr-xr-x  8 user user  4096 Jan 01 12:00 .git
-rw-r--r--  1 user user   512 Jan 01 09:00 README.md

VÃ­ dá»¥ 3: DÃ¹ng ls -A Ä‘á»ƒ khÃ´ng tháº¥y . vÃ  ..
$ ls -A
.bashrc  .git  README.md  src  .env

7. Ã nghÄ©a cá»§a cÃ¡c entry Ä‘áº·c biá»‡t

* "." : thÆ° má»¥c hiá»‡n táº¡i (dÃ¹ng khi cháº¡y lá»‡nh liÃªn quan tá»›i Ä‘Æ°á»ng dáº«n, vÃ­ dá»¥ ./script.sh).
* ".." : thÆ° má»¥c cha (dÃ¹ng Ä‘á»ƒ di chuyá»ƒn lÃªn cáº¥p trÃªn, vÃ­ dá»¥ cd ..).
  Lá»‡nh ls -a hiá»ƒn thá»‹ cáº£ hai nÃªn danh sÃ¡ch sáº½ bao gá»“m chÃºng.

8. Nhá»¯ng Ä‘iá»u cáº§n lÆ°u Ã½

* File áº©n (báº¯t Ä‘áº§u báº±ng ".") khÃ´ng Ä‘á»“ng nghÄ©a lÃ  báº£o máº­t; chÃºng chá»‰ áº©n trong hiá»ƒn thá»‹ thÃ´ng thÆ°á»ng. Báº¡n váº«n cÃ³ thá»ƒ truy cáº­p vÃ  Ä‘á»c náº¿u cÃ³ quyá»n.
* Náº¿u chá»‰ muá»‘n xem file áº©n mÃ  khÃ´ng cáº§n . vÃ  .., dÃ¹ng -A thay vÃ¬ -a.
* Káº¿t quáº£ ls cÃ³ thá»ƒ khÃ¡c nhau tÃ¹y shell, alias, hoáº·c biáº¿n mÃ´i trÆ°á»ng LS_COLORS; kiá»ƒm tra alias báº±ng: $ alias ls
* TrÃªn má»™t sá»‘ há»‡ thá»‘ng, ls cÃ³ thá»ƒ Ä‘Æ°á»£c bá»c báº±ng alias máº·c Ä‘á»‹nh nhÆ° ls --color=auto; Ä‘iá»u nÃ y chá»‰ áº£nh hÆ°á»Ÿng tá»›i mÃ u hiá»ƒn thá»‹, khÃ´ng áº£nh hÆ°á»Ÿng tá»›i -a.

9. Káº¿t há»£p vá»›i cÃ¡c lá»‡nh khÃ¡c (pipe/redirect)

* ls -la | less
  -> Xem danh sÃ¡ch dÃ i theo trang vá»›i less.
* ls -a > filelist.txt
  -> Ghi danh sÃ¡ch táº¥t cáº£ file (ká»ƒ cáº£ áº©n) vÃ o file filelist.txt.

10. Máº¹o thá»±c táº¿

* Muá»‘n nhanh chÃ³ng tháº¥y file cáº¥u hÃ¬nh áº©n trong home:
  $ ls -a ~
* Muá»‘n tÃ¬m file áº©n cá»¥ thá»ƒ vÃ­ dá»¥ .env:
  $ ls -a | grep "^.env$"   (hoáº·c dÃ¹ng ls -a | grep ".env")
* Äá»ƒ trÃ¡nh hiá»ƒn thá»‹ quÃ¡ nhiá»u thÃ´ng tin, thÆ°á»ng dÃ¹ng ls -A hoáº·c ls -la <thÆ°-má»¥c-cá»¥-thá»ƒ>.

11. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
    Q: Táº¡i sao file .bashrc khÃ´ng xuáº¥t hiá»‡n khi tÃ´i gÃµ ls?
    A: VÃ¬ ls máº·c Ä‘á»‹nh khÃ´ng hiá»ƒn thá»‹ file báº¯t Ä‘áº§u báº±ng dáº¥u cháº¥m. Sá»­ dá»¥ng ls -a hoáº·c ls -A Ä‘á»ƒ tháº¥y nÃ³.

Q: Sá»± khÃ¡c biá»‡t giá»¯a -a vÃ  -A lÃ  gÃ¬?
A: -a hiá»ƒn thá»‹ táº¥t cáº£, bao gá»“m . vÃ  ..; -A hiá»ƒn thá»‹ háº§u háº¿t cÃ¡c má»¥c áº©n nhÆ°ng bá» qua . vÃ  .. .

Q: ls -a cÃ³ hiá»ƒn thá»‹ file áº©n trong thÆ° má»¥c con khÃ´ng?
A: ls -a chá»‰ liá»‡t kÃª má»¥c trong thÆ° má»¥c Ä‘Æ°á»£c yÃªu cáº§u (hiá»‡n táº¡i hoáº·c Ä‘Æ°á»ng dáº«n Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh). Äá»ƒ liá»‡t kÃª Ä‘á»‡ quy, dÃ¹ng ls -aR.

12. CÃ¡c lá»‡nh liÃªn quan

* ls (khÃ´ng cÃ³ -a): liá»‡t kÃª khÃ´ng hiá»ƒn thá»‹ file áº©n.
* ls -l: Ä‘á»‹nh dáº¡ng dÃ i (chi tiáº¿t).
* ls -R: liá»‡t kÃª Ä‘á»‡ quy trong cÃ¡c thÆ° má»¥c con.
* find . -maxdepth 1 -name ".*" : tÃ¬m file áº©n trong cáº¥p hiá»‡n táº¡i báº±ng find.

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: touch saturn{1..10}.py
		
Giáº£i thÃ­ch chi tiáº¿t vá»: touch saturn{1..10}.py

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "touch saturn{1..10}.py" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng, vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng chá»©a kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: touch saturn{1..10}.py

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   Lá»‡nh touch saturn{1..10}.py sá»­ dá»¥ng tÃ­nh nÄƒng "brace expansion" cá»§a shell Ä‘á»ƒ táº¡o (hoáº·c cáº­p nháº­t timestamp) 10 file cÃ³ tÃªn saturn1.py, saturn2.py, ..., saturn10.py trong thÆ° má»¥c hiá»‡n táº¡i. Náº¿u file chÆ°a tá»“n táº¡i, touch sáº½ táº¡o file rá»—ng; náº¿u file Ä‘Ã£ tá»“n táº¡i, touch sáº½ chá»‰ cáº­p nháº­t thá»i gian truy cáº­p/sá»­a Ä‘á»•i (access/modify timestamps).

2. Khi nÃ o dÃ¹ng

* Khi báº¡n muá»‘n nhanh chÃ³ng táº¡o nhiá»u file rá»—ng vá»›i tÃªn tuáº§n tá»± (vÃ­ dá»¥ táº¡o nhiá»u file test, máº«u code, hoáº·c cáº¥u trÃºc file ban Ä‘áº§u).
* Khi báº¡n muá»‘n cáº­p nháº­t timestamp cá»§a nhiá»u file.

3. CÃ¡ch hoáº¡t Ä‘á»™ng (giáº£i thÃ­ch tá»«ng pháº§n)

* touch: lá»‡nh Unix dÃ¹ng Ä‘á»ƒ thay Ä‘á»•i thá»i gian truy cáº­p/sá»­a Ä‘á»•i cá»§a file; náº¿u file khÃ´ng tá»“n táº¡i, touch sáº½ táº¡o file rá»—ng (vá»›i quyá»n máº·c Ä‘á»‹nh cá»§a umask).
* saturn{1..10}.py: pháº§n trong dáº¥u ngoáº·c nhá»n lÃ  "brace expansion". Shell (vÃ­ dá»¥ bash) má»Ÿ rá»™ng biá»ƒu thá»©c nÃ y thÃ nh má»™t dÃ£y kÃ½ tá»±: saturn1.py saturn2.py ... saturn10.py trÆ°á»›c khi cháº¡y lá»‡nh touch.
* ToÃ n bá»™ lá»‡nh Ä‘Æ°á»£c thá»±c hiá»‡n sau khi shell Ä‘Ã£ má»Ÿ rá»™ng danh sÃ¡ch file, tá»©c lÃ  touch nháº­n má»™t danh sÃ¡ch 10 Ä‘á»‘i sá»‘ tÆ°Æ¡ng á»©ng 10 tÃªn file.

4. CÃº phÃ¡p cÆ¡ báº£n vÃ  vÃ­ dá»¥

* CÃº phÃ¡p báº¡n gÃµ:
  $ touch saturn{1..10}.py
* Sau khi cháº¡y, cÃ¡c file táº¡o ra (hoáº·c cáº­p nháº­t) lÃ :
  saturn1.py
  saturn2.py
  ...
  saturn10.py

VÃ­ dá»¥ minh há»a toÃ n bá»™ thao tÃ¡c trong terminal:
$ pwd
/home/user/projects
$ ls -1
(no output náº¿u thÆ° má»¥c trá»‘ng)
$ touch saturn{1..10}.py
$ ls -1
saturn1.py
saturn10.py
saturn2.py
saturn3.py
saturn4.py
saturn5.py
saturn6.py
saturn7.py
saturn8.py
saturn9.py

LÆ°u Ã½: ls hiá»ƒn thá»‹ theo thá»© tá»± tÃªn, nÃªn saturn10.py cÃ³ thá»ƒ xuáº¥t hiá»‡n trÆ°á»›c saturn2.py trong má»™t sá»‘ sáº¯p xáº¿p; dÃ¹ng ls -v Ä‘á»ƒ sáº¯p xáº¿p tá»± nhiÃªn (numeric):
$ ls -1v
saturn1.py
saturn2.py
...
saturn10.py

5. Má»™t sá»‘ biáº¿n thá»ƒ há»¯u Ã­ch

* Zero-padded (thÃªm sá»‘ 0 phÃ­a trÆ°á»›c Ä‘á»ƒ sáº¯p xáº¿p chá»¯ sá»‘ Ä‘Ãºng):
  $ touch saturn{01..10}.py
  -> Táº¡o saturn01.py ... saturn10.py
* Thay Ä‘á»•i pháº¡m vi sá»‘ hoáº·c bÆ°á»›c nháº£y:
  $ touch saturn{5..15}.py   -> saturn5.py ... saturn15.py
  $ touch saturn{1..10..2}.py -> saturn1.py saturn3.py saturn5.py ... (tÃ¹y shell há»— trá»£ step)
* Káº¿t há»£p tÃªn khÃ¡c nhau:
  $ touch saturn{A,B,C}.py    -> saturnA.py saturnB.py saturnC.py
* Táº¡o file trong thÆ° má»¥c con cÃ¹ng lÃºc:
  $ mkdir -p src && touch src/saturn{1..3}.py
  -> Táº¡o src/saturn1.py, src/saturn2.py, src/saturn3.py

6. Shell/Portability: nÆ¡i brace expansion hoáº¡t Ä‘á»™ng

* Brace expansion há»— trá»£ trÃªn bash, zsh, ksh. Trong shell ráº¥t Ä‘Æ¡n giáº£n (sh dash) hoáº·c má»™t sá»‘ shell khÃ¡c khÃ´ng cÃ³ brace expansion máº·c Ä‘á»‹nh; khi Ä‘Ã³ lá»‡nh sáº½ khÃ´ng Ä‘Æ°á»£c má»Ÿ rá»™ng vÃ  cÃ³ thá»ƒ táº¡o file tÃªn nguyÃªn gá»‘c cÃ³ dáº¥u ngoáº·c (tÃ¹y shell).
* Náº¿u báº¡n Ä‘áº·t ngoáº·c nhá»n trong dáº¥u nhÃ¡y ("" hoáº·c ''), shell sáº½ khÃ´ng má»Ÿ rá»™ng:
  $ touch 'saturn{1..3}.py'   -> Táº¡o má»™t file tÃªn Ä‘Ãºng lÃ  saturn{1..3}.py (khÃ´ng má»Ÿ rá»™ng)

7. HÃ nh vi khi file Ä‘Ã£ tá»“n táº¡i

* Náº¿u file Ä‘Ã£ tá»“n táº¡i, touch chá»‰ cáº­p nháº­t timestamps (thá»i gian access vÃ  modify) chá»© khÃ´ng ghi Ä‘Ã¨ ná»™i dung.
* Äá»ƒ khÃ´ng táº¡o file má»›i náº¿u file chÆ°a tá»“n táº¡i, dÃ¹ng tÃ¹y chá»n -c (no create):
  $ touch -c nonexisting.txt
  -> KhÃ´ng táº¡o file má»›i, khÃ´ng bÃ¡o lá»—i.

8. Quyá»n táº¡o file

* File má»›i Ä‘Æ°á»£c táº¡o vá»›i quyá»n dá»±a trÃªn umask hiá»‡n táº¡i. VÃ­ dá»¥ umask máº·c Ä‘á»‹nh 0022 dáº«n tá»›i file cÃ³ quyá»n 0644 (rw-r--r--).
* Náº¿u user khÃ´ng cÃ³ quyá»n ghi vÃ o thÆ° má»¥c, touch sáº½ tháº¥t báº¡i vÃ  bÃ¡o lá»—i permission denied.

9. Thao tÃ¡c kiá»ƒm tra vÃ  xÃ¡c thá»±c

* Kiá»ƒm tra file vá»«a táº¡o:
  $ ls -1v saturn*.py
  $ stat saturn1.py   (xem timestamps vÃ  quyá»n)
* Náº¿u muá»‘n ná»™i dung máº·c Ä‘á»‹nh ngay khi táº¡o, cÃ³ thá»ƒ dÃ¹ng here-doc hoáº·c redirect:
  $ for i in {1..10}; do echo "# saturn$i" > saturn${i}.py; done
  -> Táº¡o file vá»›i dÃ²ng comment Ä‘áº§u tiÃªn.

10. Cáº£nh bÃ¡o vÃ  lá»—i thÆ°á»ng gáº·p

* KhÃ´ng cÃ³ brace expansion náº¿u dÃ¹ng shell khÃ´ng há»— trá»£ -> lá»‡nh khÃ´ng hoáº¡t Ä‘á»™ng nhÆ° mong Ä‘á»£i.
* Náº¿u báº¡n quÃªn escape hoáº·c quote sai, cÃ³ thá»ƒ táº¡o ra file vá»›i tÃªn chá»©a dáº¥u ngoáº·c thay vÃ¬ nhiá»u file.
* Viá»‡c táº¡o nhiá»u file vá»›i tÃªn giá»‘ng nhau do typo cÃ³ thá»ƒ ghi Ä‘Ã¨ ná»™i dung náº¿u dÃ¹ng > thay vÃ¬ touch.

11. CÃ¡c lá»‡nh thay tháº¿ khi shell khÃ´ng há»— trá»£

* DÃ¹ng vÃ²ng for trong POSIX sh:
  $ i=1; while [ $i -le 10 ]; do touch "saturn${i}.py"; i=$((i+1)); done
* DÃ¹ng seq (nhiá»u há»‡ thá»‘ng):
  $ for n in $(seq 1 10); do touch "saturn${n}.py"; done

12. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
    Q: touch saturn{1..10}.py cÃ³ táº¡o thÆ° má»¥c khÃ´ng?
    A: KhÃ´ng. touch chá»‰ táº¡o file rá»—ng. Äá»ƒ táº¡o thÆ° má»¥c, dÃ¹ng mkdir.

Q: Táº¡i sao tÃ´i tháº¥y má»™t file tÃªn saturn{1..10}.py thay vÃ¬ 10 file riÃªng?
A: CÃ³ thá»ƒ báº¡n Ä‘Ã£ Ä‘áº·t dáº¥u nhÃ¡y quanh biá»ƒu thá»©c hoáº·c Ä‘ang dÃ¹ng shell khÃ´ng há»— trá»£ brace expansion. HÃ£y dÃ¹ng bash hoáº·c zsh, hoáº·c bá» dáº¥u nhÃ¡y.

Q: LÃ m sao Ä‘á»ƒ tÃªn file sáº¯p xáº¿p tá»± nhiÃªn (saturn1, saturn2, ..., saturn10) khi ls?
A: DÃ¹ng ls -v Ä‘á»ƒ sáº¯p xáº¿p theo sá»‘ tá»± nhiÃªn: ls -1v

Q: TÃ´i cáº§n táº¡o file vá»›i sá»‘ 3 chá»¯ sá»‘ (001..010). LÃ m tháº¿ nÃ o?
A: DÃ¹ng zero-padding trong brace expansion náº¿u shell há»— trá»£, vÃ­ dá»¥ {001..010}. Náº¿u shell khÃ´ng há»— trá»£ bÆ°á»›c nÃ y, dÃ¹ng printf trong vÃ²ng láº·p:
$ for i in $(seq -f "%03g" 1 10); do touch "saturn${i}.py"; done

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: git status
		
Giáº£i thÃ­ch chi tiáº¿t vá»: git status

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "git status" má»™t cÃ¡ch chi tiáº¿t, dá»… hiá»ƒu vÃ  chuáº©n Ä‘á»ƒ sao chÃ©p vÃ o file .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: git status

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   git status hiá»ƒn thá»‹ tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a working directory vÃ  staging area (index) trong repository Git. NÃ³ cho biáº¿t file nÃ o Ä‘Ã£ Ä‘Æ°á»£c thay Ä‘á»•i, file nÃ o Ä‘Ã£ Ä‘Æ°á»£c thÃªm vÃ o staging (sáºµn sÃ ng commit), file nÃ o chÆ°a Ä‘Æ°á»£c theo dÃµi (untracked), cÅ©ng nhÆ° thÃ´ng tin vá» branch hiá»‡n táº¡i vÃ  tráº¡ng thÃ¡i so vá»›i remote (náº¿u cÃ³).

2. Khi nÃ o dÃ¹ng

* Kiá»ƒm tra thay Ä‘á»•i trÆ°á»›c khi commit hoáº·c push.
* XÃ¡c minh file Ä‘Ã£ Ä‘Æ°á»£c git add hay chÆ°a.
* Xem branch hiá»‡n táº¡i vÃ  xem repository Ä‘ang ahead/behind remote nhÆ° tháº¿ nÃ o.

3. CÃ¡ch hoáº¡t Ä‘á»™ng (má»™t cÃ¡ch Ä‘Æ¡n giáº£n)

* So sÃ¡nh ba vÃ¹ng: working directory (táº­p tin trÃªn Ä‘Ä©a), staging area (index), vÃ  repository (HEAD â€” commit cuá»‘i cÃ¹ng). git status tá»•ng há»£p vÃ  in ra nhá»¯ng khÃ¡c biá»‡t giá»¯a cÃ¡c vÃ¹ng nÃ y.

4. CÃº phÃ¡p cÆ¡ báº£n

* git status
  -> Hiá»ƒn thá»‹ tráº¡ng thÃ¡i chi tiáº¿t (máº·c Ä‘á»‹nh á»Ÿ dáº¡ng "human-readable").
* git status -s
  -> Hiá»ƒn thá»‹ á»Ÿ dáº¡ng ngáº¯n (short) â€” tiá»‡n cho Ä‘á»c nhanh.
* git status --porcelain
  -> Dáº¡ng mÃ¡y (stable output) Ä‘á»ƒ dÃ¹ng trong script; Ä‘á»‹nh dáº¡ng giá»¯ á»•n Ä‘á»‹nh giá»¯a cÃ¡c phiÃªn báº£n Git.
* git status -b
  -> Hiá»ƒn thá»‹ branch hiá»‡n táº¡i cÃ¹ng vá»›i thÃ´ng tin upstream (vÃ­ dá»¥ "ahead" hoáº·c "behind").
* git status --ignored
  -> ThÃªm má»¥c Ä‘Ã£ bá»‹ ignored vÃ o danh sÃ¡ch.

5. VÃ­ dá»¥ vÃ  giáº£i thÃ­ch Ä‘áº§u ra (human-readable)
   VÃ­ dá»¥ 1: KhÃ´ng cÃ³ thay Ä‘á»•i
   $ git status
   On branch main
   Your branch is up to date with 'origin/main'.

nothing to commit, working tree clean

Giáº£i thÃ­ch:

* On branch main: báº¡n Ä‘ang á»Ÿ branch main.
* Your branch is up to date with 'origin/main': local branch Ä‘Ã£ cáº­p nháº­t so vá»›i remote.
* nothing to commit, working tree clean: khÃ´ng cÃ³ file thay Ä‘á»•i hoáº·c untracked.

VÃ­ dá»¥ 2: File Ä‘Ã£ staged vÃ  file chÆ°a staged
$ git status
On branch feature
Changes to be committed:
(use "git restore --staged <file>..." to unstage)
modified:   a.txt
new file:   b.txt

Changes not staged for commit:
(use "git add <file>..." to update what will be committed)
(use "git restore <file>..." to discard changes in working directory)
modified:   c.txt

Untracked files:
(use "git add <file>..." to include in what will be committed)
d.log

Giáº£i thÃ­ch:

* "Changes to be committed": cÃ¡c file Ä‘Ã£ Ä‘Æ°á»£c git add (staged), sáº½ Ä‘Æ°á»£c ghi vÃ o commit tiáº¿p theo.
* "Changes not staged for commit": file Ä‘Ã£ bá»‹ sá»­a nhÆ°ng chÆ°a git add, cáº§n add náº¿u muá»‘n commit.
* "Untracked files": file má»›i chÆ°a Ä‘Æ°á»£c Git theo dÃµi; dÃ¹ng git add Ä‘á»ƒ báº¯t Ä‘áº§u theo dÃµi.

6. Dáº¡ng ngáº¯n (short) vÃ  kÃ½ hiá»‡u
   Dáº¡ng -s hoáº·c --short in ra má»—i file vá»›i hai kÃ½ tá»± tráº¡ng thÃ¡i trÆ°á»›c tÃªn file: XY <file>

* X: tráº¡ng thÃ¡i trÃªn index (staged)
* Y: tráº¡ng thÃ¡i trÃªn working tree (unstaged)
  Má»™t sá»‘ giÃ¡ trá»‹ phá»• biáº¿n cá»§a X vÃ  Y:
* ' ' (space): khÃ´ng thay Ä‘á»•i
* M: modified
* A: added
* D: deleted
* R: renamed
* C: copied
* U: updated but unmerged (conflict)
* ?: untracked
* !: ignored

Báº£ng vÃ­ dá»¥ (X Y) -> Ã½ nghÄ©a
" M" (space M): file modified but not staged
"M " (M space): file staged (modified in index)
"A " : staged as new file
"D " : staged for deletion
"R " : staged as renamed
"??": untracked file
"UU": file cÃ³ xung Ä‘á»™t merge (unmerged)

VÃ­ dá»¥
$ git status -s
M c.txt
A  b.txt
?? d.log

7. CÃ¡c lá»‡nh thÆ°á»ng dÃ¹ng kÃ¨m theo (tiáº¿p theo khi nhÃ¬n tháº¥y tráº¡ng thÃ¡i)

* git add <file>             : Ä‘Æ°a file vÃ o staging area (Changes to be committed)
* git restore --staged <file>: bá» file ra khá»i staging (unstage)
* git restore <file>         : khÃ´i phá»¥c file tá»« HEAD, há»§y thay Ä‘á»•i chÆ°a staged (cáº©n tháº­n, máº¥t thay Ä‘á»•i)
* git checkout -- <file>     : tÆ°Æ¡ng tá»± git restore trÆ°á»›c Ä‘Ã¢y (cÃ¡c phiÃªn báº£n Git cÅ©)
* git commit -m "message"    : táº¡o commit tá»« nhá»¯ng file Ä‘Ã£ staged
* git reset HEAD <file>      : unstage (cÃ¡ch cÅ© hÆ¡n, tÆ°Æ¡ng Ä‘Æ°Æ¡ng git restore --staged)
* git clean -n               : giáº£ láº­p xÃ³a file untracked (dry-run)
* git clean -f               : xÃ³a file untracked (thá»±c hiá»‡n)
* git status --porcelain=v2  : Ä‘á»‹nh dáº¡ng mÃ¡y nÃ¢ng cao, dá»… parse hÆ¡n cho script

8. ThÃ´ng tin branch vÃ  upstream (ahead/behind)

* Khi báº¡n tháº¥y: "Your branch is ahead of 'origin/main' by 2 commits.", nghÄ©a lÃ  local cÃ³ 2 commit chÆ°a push lÃªn remote.
* Khi tháº¥y: "Your branch is behind 'origin/main' by 3 commits.", nghÄ©a lÃ  remote cÃ³ 3 commit má»›i hÆ¡n; nÃªn git pull trÆ°á»›c khi push hoáº·c rebase.
* git status -sb hiá»ƒn thá»‹ tÃ³m táº¯t: vÃ­ dá»¥ "## feature...origin/feature [ahead 1]"

9. TrÆ°á»ng há»£p xung Ä‘á»™t merge (merge conflicts)

* Khi merge dáº«n tá»›i xung Ä‘á»™t, git status sáº½ liá»‡t kÃª file unmerged vÃ  chá»‰ dáº«n cÃ¡ch giáº£i quyáº¿t.
* VÃ­ dá»¥ Ä‘áº§u ra:
  Both modified: file.txt
  Unmerged paths:
  (use "git add <file>..." to mark resolution)

CÃ¡ch giáº£i quyáº¿t cÆ¡ báº£n:

1. Má»Ÿ file, giáº£i quyáº¿t conflict báº±ng tay.

2. git add <file> Ä‘á»ƒ Ä‘Ã¡nh dáº¥u Ä‘Ã£ giáº£i quyáº¿t.

3. git commit Ä‘á»ƒ hoÃ n táº¥t merge.

4. LÆ°u Ã½ vÃ  máº¹o

* git status khÃ´ng thay Ä‘á»•i repository; nÃ³ chá»‰ Ä‘á»c thÃ´ng tin vÃ  in ra.
* Sá»­ dá»¥ng git status --porcelain trong script vÃ¬ Ä‘á»‹nh dáº¡ng vÄƒn báº£n máº·c Ä‘á»‹nh cÃ³ thá»ƒ thay Ä‘á»•i giá»¯a phiÃªn báº£n Git.
* Náº¿u thÆ°á»ng xuyÃªn gÃµ git status, báº¡n cÃ³ thá»ƒ dÃ¹ng alias ngáº¯n: git config --global alias.st "status -sb" vÃ  sau Ä‘Ã³ gÃµ git st.
* MÃ u sáº¯c output (náº¿u báº­t) giÃºp phÃ¢n biá»‡t tráº¡ng thÃ¡i; nhÆ°ng khi redirect Ä‘áº§u ra sang file thÃ¬ mÃ u sáº½ khÃ´ng cÃ³.

11. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
    Q: "git status" nÃ³i "nothing to commit, working tree clean" nhÆ°ng tÃ´i tháº¥y file má»›i trÃªn thÆ° má»¥c. Táº¡i sao?
    A: CÃ³ thá»ƒ file Ä‘Ã³ bá»‹ ignore (náº±m trong .gitignore) hoáº·c báº¡n chÆ°a á»Ÿ Ä‘Ãºng thÆ° má»¥c repo hay nhÃ¡nh. DÃ¹ng git status --ignored Ä‘á»ƒ kiá»ƒm tra file ignored.

Q: TÃ´i Ä‘Ã£ git add file nhÆ°ng git status váº«n liá»‡t kÃª nÃ³ trong "Changes not staged for commit".
A: CÃ³ thá»ƒ báº¡n Ä‘Ã£ chá»‰nh sá»­a file sau khi git add. LÃºc nÃ y file Ä‘Ã£ Ä‘Æ°á»£c staged á»Ÿ tráº¡ng thÃ¡i cÅ©; náº¿u muá»‘n cáº­p nháº­t staging vá»›i thay Ä‘á»•i má»›i, cháº¡y git add láº¡i.

Q: LÃ m sao biáº¿t file nÃ o sáº½ bá»‹ xÃ³a khi cháº¡y git clean?
A: DÃ¹ng git clean -n Ä‘á»ƒ mÃ´ phá»ng sáº½ xÃ³a file nÃ o (dry-run) trÆ°á»›c khi cháº¡y git clean -f.

12. TÃ³m táº¯t nhanh cÃ¡c lá»‡nh há»¯u Ã­ch

* Kiá»ƒm tra tráº¡ng thÃ¡i: git status
* Dáº¡ng ngáº¯n: git status -s hoáº·c git status --porcelain
* Xem branch vÃ  upstream: git status -b
* ThÃªm file vÃ o staging: git add <file>
* Bá» staging: git restore --staged <file>
* Há»§y thay Ä‘á»•i (vá» HEAD): git restore <file>
* XoÃ¡ file untracked: git clean -n  (dry run)  -> git clean -f  (thá»±c hiá»‡n)

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: git add .
		
Giáº£i thÃ­ch chi tiáº¿t vá»: git add .

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "git add ." má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng, dá»… hiá»ƒu vÃ  chuáº©n Ä‘á»ƒ sao chÃ©p vÃ o file .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: git add .

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   git add . lÃ  lá»‡nh dÃ¹ng Ä‘á»ƒ thÃªm cÃ¡c thay Ä‘á»•i trong thÆ° má»¥c hiá»‡n táº¡i (vÃ  cÃ¡c thÆ° má»¥c con) vÃ o staging area (index) cá»§a Git, chuáº©n bá»‹ Ä‘á»ƒ commit. Dáº¥u cháº¥m "." chá»‰ thÆ° má»¥c hiá»‡n táº¡i; khi dÃ¹ng vá»›i git add, nÃ³ nÃ³i vá»›i Git: "thÃªm má»i thay Ä‘á»•i trong cÃ¢y thÆ° má»¥c hiá»‡n táº¡i vÃ o staging".

2. Khi nÃ o dÃ¹ng

* Khi báº¡n Ä‘Ã£ sá»­a nhiá»u file trong má»™t project vÃ  muá»‘n nhanh chÃ³ng Ä‘Æ°a táº¥t cáº£ cÃ¡c thay Ä‘á»•i (trá»« nhá»¯ng file bá»‹ .gitignore) vÃ o staging Ä‘á»ƒ commit.
* Khi báº¡n táº¡o nhiá»u file má»›i hoáº·c xÃ³a file vÃ  muá»‘n há» Ä‘á»u Ä‘Æ°á»£c ghi nháº­n cho commit tiáº¿p theo.

3. PhÃ¢n biá»‡t khÃ¡i niá»‡m

* Working directory: nÆ¡i báº¡n Ä‘ang lÃ m viá»‡c, chá»©a file thá»±c táº¿.
* Staging area (index): nÆ¡i táº¡m giá»¯ cÃ¡c thay Ä‘á»•i Ä‘Ã£ Ä‘Æ°á»£c chá»n Ä‘á»ƒ commit.
* Repository (HEAD): commit cuá»‘i cÃ¹ng.
  git add . chuyá»ƒn cÃ¡c thay Ä‘á»•i tá»« working directory vÃ o staging area.

4. CÃº phÃ¡p cÆ¡ báº£n

* git add .
  -> ThÃªm má»i thay Ä‘á»•i (new, modified) trong thÆ° má»¥c hiá»‡n táº¡i vÃ  con vÃ o index, TRá»ª nhá»¯ng file bá»‹ ignore.
* git add <Ä‘Æ°á»ng-dáº«n>   (vÃ­ dá»¥ git add src/)
  -> Chá»‰ thÃªm thay Ä‘á»•i trong Ä‘Æ°á»ng dáº«n cá»¥ thá»ƒ.
* git add -A hoáº·c git add --all
  -> ThÃªm táº¥t cáº£ thay Ä‘á»•i trong repository (bao gá»“m xÃ³a file) â€” tÆ°Æ¡ng tá»± git add . khi gá»i tá»« root repo, nhÆ°ng khÃ¡c khi gá»i tá»« má»™t subdirectory.
* git add -u
  -> Cáº­p nháº­t index cho cÃ¡c file Ä‘Ã£ tracked (modified hoáº·c deleted) nhÆ°ng khÃ´ng thÃªm file untracked má»›i.

5. HÃ nh vi chi tiáº¿t

* ThÃªm file má»›i (untracked): náº¿u file khÃ´ng bá»‹ .gitignore, git add . sáº½ Ä‘Ã¡nh dáº¥u file Ä‘Ã³ lÃ  staged (sáºµn sÃ ng commit).
* ThÃªm file Ä‘Ã£ sá»­a: git add . láº¥y ná»™i dung hiá»‡n táº¡i cá»§a file vÃ  lÆ°u vÃ o index Ä‘á»ƒ commit.
* XÃ³a file: náº¿u báº¡n xÃ³a file trong working directory, git add . sáº½ stage viá»‡c xÃ³a Ä‘Ã³ (tÆ°Æ¡ng tá»± git rm --cached náº¿u báº¡n chá»‰ muá»‘n unstage). LÆ°u Ã½: trong má»™t sá»‘ trÆ°á»ng há»£p, git add . á»Ÿ subfolder cÃ³ thá»ƒ khÃ´ng stage xÃ³a á»Ÿ ngoÃ i pháº¡m vi.
* File bá»‹ ignore (.gitignore): git add . bá» qua file match quy táº¯c .gitignore (khÃ´ng thÃªm chÃºng trá»« khi dÃ¹ng --force).

6. VÃ­ dá»¥ thá»±c táº¿ (terminal)
   VÃ­ dá»¥ 1: Trong root cá»§a repo
   $ git status
   On branch main
   Changes not staged for commit:
   modified: a.txt
   deleted:  b.log
   Untracked files:
   newfile.py

$ git add .
$ git status
Changes to be committed:
modified: a.txt
deleted:  b.log
new file: newfile.py

VÃ­ dá»¥ 2: Trong thÆ° má»¥c con
$ cd src/components
$ git add .
-> Chá»‰ stage thay Ä‘á»•i náº±m trong src/components vÃ  cÃ¡c con; thay Ä‘á»•i á»Ÿ src/ khÃ¡c hoáº·c á»Ÿ root cÃ³ thá»ƒ khÃ´ng bá»‹ áº£nh hÆ°á»Ÿng.

7. So sÃ¡nh git add . vs git add -A vs git add -u

* git add .    : ThÃªm new/modified trong thÆ° má»¥c hiá»‡n táº¡i vÃ  con; cÅ©ng stage deletions trong cÃ¹ng pháº¡m vi khi gá»i tá»« root sáº½ bao gá»“m toÃ n repo.
* git add -A  (or --all): ThÃªm táº¥t cáº£ thay Ä‘á»•i trong toÃ n bá»™ repository (new, modified, deleted), báº¥t ká»ƒ báº¡n Ä‘ang á»Ÿ thÆ° má»¥c nÃ o (vÃ¬ -A Ã¡p dá»¥ng repository-wide khi Ä‘Æ°á»£c Git phiÃªn báº£n má»›i há»— trá»£).
* git add -u   : Chá»‰ cáº­p nháº­t cÃ¡c file Ä‘Ã£ Ä‘Æ°á»£c tracked (modified hoáº·c deleted), khÃ´ng thÃªm file untracked má»›i.

8. TÃ¹y chá»n há»¯u Ã­ch

* git add -p   : Cháº¡y interactive patch mode â€” báº¡n cÃ³ thá»ƒ chá»n nhá»¯ng thay Ä‘á»•i (hunks) cá»¥ thá»ƒ trong file Ä‘á»ƒ thÃªm vÃ o staging.
* git add -A    hoáº·c git add --all: thÃªm táº¥t cáº£ (nhÆ° Ä‘Ã£ nÃªu).
* git add --force (hoáº·c -f): thÃªm file bá»‹ ignore (báº¯t buá»™c), vÃ­ dá»¥ khi báº¡n cáº§n commit file Ä‘Ã£ bá»‹ .gitignore.
* git add -n hoáº·c --dry-run: mÃ´ phá»ng sáº½ thÃªm nhá»¯ng file nÃ o, khÃ´ng thá»±c hiá»‡n thay Ä‘á»•i.

9. Unstage vÃ  sá»­a lá»—i

* Náº¿u báº¡n Ä‘Ã£ git add . nhÆ°ng muá»‘n bá» staging cho toÃ n bá»™ hoáº·c tá»«ng file:
  $ git restore --staged <file>
  hoáº·c bá» staging toÃ n bá»™:
  $ git restore --staged .
* CÃ¡ch cÅ© tÆ°Æ¡ng Ä‘Æ°Æ¡ng (cÃ¡c phiÃªn báº£n Git cÅ©): git reset HEAD <file>

10. TÆ°Æ¡ng tÃ¡c vá»›i .gitignore

* File match .gitignore sáº½ khÃ´ng bá»‹ thÃªm bá»Ÿi git add . trá»« khi dÃ¹ng --force.
* Äá»ƒ thÃªm file Ä‘Ã£ lá»¡ Ä‘áº·t trong .gitignore, cáº§n dÃ¹ng git add -f <file>.
* Náº¿u file Ä‘Ã£ tá»«ng Ä‘Æ°á»£c tracked trÆ°á»›c Ä‘Ã³ vÃ  sau Ä‘Ã³ thÃªm vÃ o .gitignore, Git váº«n sáº½ track tiáº¿p cho tá»›i khi báº¡n remove nÃ³ khá»i index (git rm --cached <file>), vÃ¬ .gitignore chá»‰ áº£nh hÆ°á»Ÿng tá»›i file untracked.

11. Máº¹o vÃ  lÆ°u Ã½ thá»±c táº¿

* TrÆ°á»›c khi cháº¡y git add ., tá»‘t nháº¥t cháº¡y git status Ä‘á»ƒ biáº¿t báº¡n sáº½ thÃªm gÃ¬.
* TrÃ¡nh commit file nháº¡y cáº£m (vÃ­ dá»¥ khÃ³a API, credentials): Ä‘áº£m báº£o .gitignore Ä‘Ã£ loáº¡i trá»« hoáº·c kiá»ƒm tra danh sÃ¡ch trÆ°á»›c khi commit.
* DÃ¹ng git add -p khi báº¡n muá»‘n chia commit thÃ nh nhiá»u pháº§n nhá», logic hÆ¡n.
* Sá»­ dá»¥ng git add . tá»« root repo náº¿u báº¡n muá»‘n stage táº¥t cáº£ thay Ä‘á»•i trong toÃ n bá»™ project. Náº¿u Ä‘ang á»Ÿ subfolder vÃ  muá»‘n áº£nh hÆ°á»Ÿng toÃ n repo, dÃ¹ng git add -A tá»« root hoáº·c cd vá» root.

12. CÃ¡c lá»—i thÆ°á»ng gáº·p vÃ  cÃ¡ch kháº¯c phá»¥c

* "permission denied" khi thÃªm file: kiá»ƒm tra quyá»n ghi thÆ° má»¥c.
* Tháº¥y file váº«n á»Ÿ "untracked" sau khi git add .: cÃ³ thá»ƒ do file match .gitignore hoáº·c báº¡n Ä‘ang á»Ÿ nhÃ¡nh/subdir khÃ¡c. Kiá»ƒm tra .gitignore.
* Lá»¡ commit file nháº¡y cáº£m: báº¡n cáº§n xÃ³a lá»‹ch sá»­ (git rm --cached file; commit; sau Ä‘Ã³ dÃ¹ng git filter-branch hoáº·c BFG Ä‘á»ƒ loáº¡i file khá»i history náº¿u cáº§n).

13. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
    Q: git add . cÃ³ thÃªm file bá»‹ .gitignore khÃ´ng?
    A: KhÃ´ng, trá»« khi dÃ¹ng --force.

Q: TÃ´i cháº¡y git add . nhÆ°ng git status váº«n bÃ¡o untracked. Táº¡i sao?
A: CÃ³ thá»ƒ file match .gitignore hoáº·c báº¡n Ä‘ang á»Ÿ thÆ° má»¥c khÃ¡c. DÃ¹ng git status --ignored Ä‘á»ƒ kiá»ƒm tra file bá»‹ ignore.

Q: TÃ´i muá»‘n chá»‰ thÃªm file Ä‘Ã£ chá»‰nh sá»­a vÃ  xÃ³a, khÃ´ng thÃªm file má»›i. DÃ¹ng gÃ¬?
A: DÃ¹ng git add -u Ä‘á»ƒ chá»‰ cáº­p nháº­t cÃ¡c file Ä‘Ã£ tracked (modified/deleted) mÃ  khÃ´ng thÃªm untracked file.

Q: TÃ´i muá»‘n chá»n má»™t pháº§n thay Ä‘á»•i trong file Ä‘á»ƒ stage. LÃ m tháº¿ nÃ o?
A: DÃ¹ng git add -p Ä‘á»ƒ vÃ o interactive patch mode vÃ  chá»n hunks tá»«ng pháº§n.

14. TÃ³m táº¯t nhanh

* git add . : stage má»i thay Ä‘á»•i (new/modified/deleted trong pháº¡m vi hiá»‡n táº¡i) Ä‘á»ƒ chuáº©n bá»‹ commit.
* DÃ¹ng git status trÆ°á»›c, git restore --staged Ä‘á»ƒ unstage náº¿u cáº§n.
* DÃ¹ng -p Ä‘á»ƒ chá»n hunk, -A Ä‘á»ƒ Ã¡p dá»¥ng toÃ n repo, -u Ä‘á»ƒ chá»‰ cáº­p nháº­t file Ä‘Ã£ tracked.

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: git commit -m "new files commited"
		
Giáº£i thÃ­ch chi tiáº¿t vá»: git commit -m "new files commited"

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "git commit -m "new files commited"" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng vÃ  chÃ­nh xÃ¡c Ä‘á»ƒ sao chÃ©p vÃ o file .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: git commit -m "new files commited"

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   git commit lÃ  lá»‡nh Ä‘á»ƒ táº¡o má»™t commit má»›i trong Git â€” tá»©c lÃ  ghi láº¡i snapshot (báº£n chá»¥p) cá»§a nhá»¯ng thay Ä‘á»•i Ä‘Ã£ Ä‘Æ°á»£c Ä‘Æ°a vÃ o staging area (index). TÃ¹y chá»n -m "message" cho phÃ©p báº¡n cung cáº¥p thÃ´ng Ä‘iá»‡p commit trá»±c tiáº¿p trÃªn dÃ²ng lá»‡nh, á»Ÿ Ä‘Ã¢y message lÃ  "new files commited".

2. Khi nÃ o dÃ¹ng

* Sau khi Ä‘Ã£ dÃ¹ng git add Ä‘á»ƒ Ä‘Æ°a cÃ¡c thay Ä‘á»•i (file má»›i, file sá»­a, file xÃ³a) vÃ o staging area, báº¡n dÃ¹ng git commit Ä‘á»ƒ ghi láº¡i cÃ¡c thay Ä‘á»•i Ä‘Ã³ vÃ o lá»‹ch sá»­ repository.
* Sá»­ dá»¥ng -m khi báº¡n muá»‘n viáº¿t thÃ´ng Ä‘iá»‡p commit ngáº¯n gá»n ngay trong command line (khÃ´ng má»Ÿ editor).

3. CÃ¡ch hoáº¡t Ä‘á»™ng (má»™t cÃ¡ch Ä‘Æ¡n giáº£n)

* Git láº¥y ná»™i dung hiá»‡n cÃ³ trong staging area vÃ  táº¡o má»™t Ä‘á»‘i tÆ°á»£ng commit chá»©a: con trá» tá»›i cÃ¢y (tree) cÃ¡c file, metadata (author, date), vÃ  thÃ´ng Ä‘iá»‡p commit. Commit nÃ y Ä‘Æ°á»£c ná»‘i vÃ o Ä‘áº§u branch hiá»‡n táº¡i (HEAD).
* Náº¿u staging area rá»—ng, cháº¡y git commit sáº½ bÃ¡o "nothing to commit" hoáº·c tÆ°Æ¡ng tá»±.

4. CÃº phÃ¡p cÆ¡ báº£n

* git commit -m "thÃ´ng Ä‘iá»‡p ngáº¯n"
  -> Táº¡o commit vá»›i thÃ´ng Ä‘iá»‡p cung cáº¥p.
* git commit -a -m "msg"
  -> TÃ¹y chá»n -a tá»± Ä‘á»™ng stage (giá»‘ng git add) cÃ¡c file Ä‘Ã£ tracked (modified/deleted) trÆ°á»›c khi commit; khÃ´ng thÃªm file untracked má»›i.
* git commit --amend -m "new message"
  -> Sá»­a commit cuá»‘i cÃ¹ng (thay Ä‘á»•i thÃ´ng Ä‘iá»‡p hoáº·c thÃªm thay Ä‘á»•i má»›i) â€” cáº©n tháº­n náº¿u commit Ä‘Ã£ Ä‘Æ°á»£c push.
* git commit --verbose
  -> Hiá»ƒn thá»‹ diff trong editor khi soáº¡n commit message (há»¯u Ã­ch khi dÃ¹ng editor Ä‘á»ƒ viáº¿t message).

5. VÃ­ dá»¥ thá»±c táº¿ (terminal)
   VÃ­ dá»¥ 1: Quy trÃ¬nh cÆ¡ báº£n
   $ git status
   On branch main
   Changes to be committed:
   new file:  file1.txt
   modified:  file2.py

$ git commit -m "new files commited"
[main a1b2c3d] new files commited
2 files changed, 10 insertions(+), 0 deletions(-)

Giáº£i thÃ­ch:

* DÃ²ng [main a1b2c3d] cho biáº¿t branch vÃ  hash rÃºt gá»n cá»§a commit má»›i.
* ThÃ´ng tin phÃ­a sau mÃ´ táº£ sá»‘ file vÃ  thay Ä‘á»•i.

VÃ­ dá»¥ 2: ThÃªm thay Ä‘á»•i tracked tá»± Ä‘á»™ng trÆ°á»›c commit
$ git commit -a -m "update configs"
-> Tá»± Ä‘á»™ng stage cÃ¡c file Ä‘Ã£ tracked sau Ä‘Ã³ commit; file má»›i (untracked) khÃ´ng Ä‘Æ°á»£c thÃªm.

6. Viáº¿t thÃ´ng Ä‘iá»‡p commit tá»‘t

* Ngáº¯n gá»n tÃ³m táº¯t hÃ nh Ä‘á»™ng (dÃ²ng tiÃªu Ä‘á» ~50 kÃ½ tá»±)
* Náº¿u cáº§n, thÃªm dÃ²ng trá»‘ng rá»“i mÃ´ táº£ chi tiáº¿t hÆ¡n (body). Khi cáº§n body, khÃ´ng dÃ¹ng -m cho toÃ n bá»™; má»Ÿ editor hoáº·c dÃ¹ng -m nhiá»u láº§n: git commit -m "tiÃªu Ä‘á»" -m "mÃ´ táº£ chi tiáº¿t".
* VÃ­ dá»¥ tiÃªu Ä‘á» tá»‘t: "Add user authentication"; vÃ­ dá»¥ kÃ©m: "fix".

7. CÃ¡c tÃ¹y chá»n quan trá»ng

* --amend : sá»­a commit cuá»‘i (káº¿t há»£p thay Ä‘á»•i staged hoáº·c chá»‰ sá»­a message). LÆ°u Ã½: rewrite history; khÃ´ng amend náº¿u commit Ä‘Ã£ push Ä‘Ãºng cÃ¡ch cho team.
* -a : tÆ°Æ¡ng tá»± git add cÃ¡c file Ä‘Ã£ tracked trÆ°á»›c khi commit.
* -v hoáº·c --verbose : show diff trong editor.
* -q hoáº·c --quiet : giáº£m output.
* --no-edit : khi dÃ¹ng --amend Ä‘á»ƒ sá»­a commit sá»­ dá»¥ng message cÅ© (khÃ´ng má»Ÿ editor).

8. TÃ¬nh huá»‘ng hay gáº·p vÃ  cÃ¡ch xá»­ lÃ½

* "nothing to commit, working tree clean": khÃ´ng cÃ³ thay Ä‘á»•i staged â€” hÃ£y dÃ¹ng git add Ä‘á»ƒ stage file hoáº·c git commit -a náº¿u muá»‘n tá»± Ä‘á»™ng stage tracked.
* Muá»‘n thÃªm má»™t file quÃªn chÆ°a Ä‘Æ°á»£c staged vÃ o commit vá»«a táº¡o: dÃ¹ng git commit --amend --no-edit sau khi git add <file>, Ä‘á»ƒ thÃªm vÃ o commit cuá»‘i cÃ¹ng.
* Náº¿u commit Ä‘Ã£ push rá»“i vÃ  báº¡n amend, sáº½ pháº£i force push (git push --force) â€” Ä‘iá»u nÃ y cÃ³ thá»ƒ gÃ¢y váº¥n Ä‘á» vá»›i ngÆ°á»i khÃ¡c. TrÃ¡nh rewrite history á»Ÿ branch chia sáº».

9. Quyá»n tÃ¡c giáº£ vÃ  thÃ´ng tin thá»i gian

* Git lÆ°u author vÃ  committer (thÃ´ng thÆ°á»ng lÃ  cÃ¹ng ngÆ°á»i). Báº¡n cÃ³ thá»ƒ thiáº¿t láº­p tÃªn vÃ  email toÃ n cá»¥c hoáº·c cho repo:
  $ git config --global user.name "Your Name"
  $ git config --global user.email "[you@example.com](mailto:you@example.com)"
* Commit sáº½ lÆ°u timestamp táº¡o commit.

10. Unstage hoáº·c há»§y commit

* Náº¿u báº¡n muá»‘n bá» commit cuá»‘i cÃ¹ng (váº«n giá»¯ thay Ä‘á»•i trong working tree):
  $ git reset --soft HEAD~1   (bá» commit nhÆ°ng giá»¯ staged)
  $ git reset --mixed HEAD~1  (bá» commit vÃ  bá» staging, giá»¯ thay Ä‘á»•i trong working tree)
  $ git reset --hard HEAD~1   (bá» commit vÃ  xÃ³a thay Ä‘á»•i â€” **cáº©n tháº­n**)
* Náº¿u commit Ä‘Ã£ push, Ä‘á»ƒ undo an toÃ n nÃªn táº¡o commit má»›i Ä‘áº£o ngÆ°á»£c hoáº·c tháº£o luáº­n vá»›i team trÆ°á»›c khi force push.

11. ThÃ´ng bÃ¡o lá»—i phá»• biáº¿n

* "empty commit message": náº¿u dÃ¹ng -m "" (rá»—ng) Git cÃ³ thá»ƒ tá»« chá»‘i tÃ¹y cáº¥u hÃ¬nh.
* "please tell me who you are": xáº£y ra náº¿u user.name hoáº·c user.email chÆ°a Ä‘Æ°á»£c cáº¥u hÃ¬nh.
* "Your branch is ahead of 'origin/main' by X commits": commit thÃ nh cÃ´ng á»Ÿ local nhÆ°ng chÆ°a push lÃªn remote.

12. Máº¹o thá»±c táº¿

* DÃ¹ng git commit -m "short summary" -m "detailed description" Ä‘á»ƒ cÃ³ tiÃªu Ä‘á» vÃ  body khi commit tá»« dÃ²ng lá»‡nh.
* DÃ¹ng git commit --amend Ä‘á»ƒ sá»­a lá»—i nhá» ngay sau commit nhÆ°ng trÆ°á»›c khi push.
* Táº¡o commit nhá», cÃ³ Ã½ nghÄ©a, má»—i commit lÃ m má»™t viá»‡c rÃµ rÃ ng giÃºp review vÃ  revert dá»… hÆ¡n.

13. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
    Q: TÃ´i Ä‘Ã£ quÃªn -m vÃ  chá»‰ gÃµ git commit â€” má»Ÿ editor. LÃ m sao thoÃ¡t?
    A: Viáº¿t message rá»“i lÆ°u vÃ  Ä‘Ã³ng editor. Náº¿u editor lÃ  vim: gÃµ :wq rá»“i Enter.

Q: TÃ´i muá»‘n commit chá»‰ file má»›i, khÃ´ng commit file sá»­a khÃ¡c. LÃ m sao?
A: DÃ¹ng git add <file> chá»‰ vá»›i file má»›i, sau Ä‘Ã³ git commit -m "message".

Q: Commit cÃ³ thá»ƒ chá»©a nhiá»u file. LÃ m sao biáº¿t file nÃ o náº±m trong commit?
A: DÃ¹ng git show --name-only <commit-hash> hoáº·c git log -p Ä‘á»ƒ xem thay Ä‘á»•i chi tiáº¿t.

14. TÃ³m táº¯t nhanh

* git commit -m "new files commited": táº¡o commit má»›i tá»« nhá»¯ng thay Ä‘á»•i Ä‘Ã£ stage vá»›i thÃ´ng Ä‘iá»‡p "new files commited".
* Kiá»ƒm tra git status trÆ°á»›c khi commit, dÃ¹ng git add Ä‘á»ƒ stage, dÃ¹ng --amend náº¿u cáº§n sá»­a commit cuá»‘i.
* TrÃ¡nh rewrite history Ä‘Ã£ Ä‘áº©y lÃªn remote mÃ  khÃ´ng tháº£o luáº­n.

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: git config --global user.email "ngoctuanqng1@gmail.com"
		
Giáº£i thÃ­ch chi tiáº¿t vá»: git config --global user.email "[ngoctuanqng1@gmail.com](mailto:ngoctuanqng1@gmail.com)"

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "git config --global user.email "[ngoctuanqng1@gmail.com](mailto:ngoctuanqng1@gmail.com)"" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: git config --global user.email "[ngoctuanqng1@gmail.com](mailto:ngoctuanqng1@gmail.com)"

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   Lá»‡nh nÃ y thiáº¿t láº­p Ä‘á»‹a chá»‰ email máº·c Ä‘á»‹nh cho cÃ¡c commit Git do ngÆ°á»i dÃ¹ng hiá»‡n táº¡i thá»±c hiá»‡n trÃªn mÃ¡y tÃ­nh, vÃ  lÆ°u thiáº¿t láº­p á»Ÿ pháº¡m vi toÃ n cá»¥c (global) â€” tá»©c lÃ  Ã¡p dá»¥ng cho táº¥t cáº£ repository cá»§a user trÃªn há»‡ thá»‘ng. Email Ä‘Æ°á»£c lÆ°u trong file cáº¥u hÃ¬nh Git toÃ n cá»¥c (thÆ°á»ng lÃ  ~/.gitconfig).

2. Khi nÃ o dÃ¹ng

* Khi báº¡n láº§n Ä‘áº§u cÃ i Ä‘áº·t Git trÃªn mÃ¡y tÃ­nh vÃ  cáº§n chá»‰ Ä‘á»‹nh tÃªn vÃ  email Ä‘á»ƒ Git ghi vÃ o metadata cá»§a commit.
* Khi muá»‘n thay Ä‘á»•i email Ä‘Æ°á»£c ghi vÃ o commit (vÃ­ dá»¥ Ä‘á»•i email cÃ´ng viá»‡c, email cÃ¡ nhÃ¢n).
* Khi báº¡n muá»‘n Ä‘áº£m báº£o commit cÃ³ thÃ´ng tin tÃ¡c giáº£ chÃ­nh xÃ¡c Ä‘á»ƒ hiá»ƒn thá»‹ trÃªn dá»‹ch vá»¥ remote nhÆ° GitHub, GitLab.

3. CÃ¡ch hoáº¡t Ä‘á»™ng (má»™t cÃ¡ch Ä‘Æ¡n giáº£n)

* git config: lá»‡nh dÃ¹ng Ä‘á»ƒ Ä‘á»c/ghi cáº¥u hÃ¬nh Git.
* --global: chá»‰ thá»‹ ráº±ng thay Ä‘á»•i Ä‘Æ°á»£c lÆ°u á»Ÿ file cáº¥u hÃ¬nh toÃ n cá»¥c (~/.gitconfig) cho user hiá»‡n táº¡i. Náº¿u bá» --global, cáº¥u hÃ¬nh sáº½ Ä‘Æ°á»£c lÆ°u á»Ÿ file .git/config cá»§a repository hiá»‡n táº¡i (pháº¡m vi repo-local).
* user.email: khÃ³a cáº¥u hÃ¬nh chá»©a Ä‘á»‹a chá»‰ email sáº½ Ä‘Æ°á»£c dÃ¹ng khi táº¡o commit (field author/committer).
* "[ngoctuanqng1@gmail.com](mailto:ngoctuanqng1@gmail.com)": giÃ¡ trá»‹ email báº¡n cung cáº¥p.

4. CÃº phÃ¡p cÆ¡ báº£n

* Thiáº¿t láº­p global email:
  $ git config --global user.email "[you@example.com](mailto:you@example.com)"
* Thiáº¿t láº­p email cho repository hiá»‡n táº¡i (cá»¥c bá»™):
  $ git config user.email "[you@example.com](mailto:you@example.com)"
* Xem giÃ¡ trá»‹ Ä‘Ã£ cáº¥u hÃ¬nh:
  $ git config --global user.email
  hoáº·c
  $ git config user.email   (náº¿u muá»‘n kiá»ƒm tra trong repo)
* Xem toÃ n bá»™ file cáº¥u hÃ¬nh global:
  $ git config --list --global
  hoáº·c Ä‘á»c file: cat ~/.gitconfig

5. VÃ­ dá»¥ thá»±c táº¿ (terminal)
   VÃ­ dá»¥ 1: Thiáº¿t láº­p email toÃ n cá»¥c
   $ git config --global user.email "[ngoctuanqng1@gmail.com](mailto:ngoctuanqng1@gmail.com)"

Kiá»ƒm tra:
$ git config --global user.email
[ngoctuanqng1@gmail.com](mailto:ngoctuanqng1@gmail.com)

Khi báº¡n táº¡o commit sau Ä‘Ã³, Git sáº½ dÃ¹ng email nÃ y Ä‘á»ƒ Ä‘iá»n vÃ o metadata cá»§a commit.

VÃ­ dá»¥ 2: Thiáº¿t láº­p email chá»‰ cho repo hiá»‡n táº¡i
$ cd /duong/dan/repo
$ git config user.email "[work@company.com](mailto:work@company.com)"
$ git config user.email
[work@company.com](mailto:work@company.com)

Trong vÃ­ dá»¥ 2, email nÃ y chá»‰ Ã¡p dá»¥ng cho repo Ä‘Ã³; cÃ¡c repo khÃ¡c váº«n dÃ¹ng email global.

6. Táº¡i sao email quan trá»ng?

* Email xuáº¥t hiá»‡n trong metadata commit (author vÃ  committer) giÃºp truy váº¿t ai Ä‘Ã£ thá»±c hiá»‡n thay Ä‘á»•i.
* Dá»‹ch vá»¥ remote (GitHub/GitLab/Bitbucket) dÃ¹ng email Ä‘á»ƒ liÃªn káº¿t commit vá»›i tÃ i khoáº£n ngÆ°á»i dÃ¹ng (náº¿u email khá»›p vá»›i email Ä‘Äƒng kÃ½ trÃªn dá»‹ch vá»¥ Ä‘Ã³, commit sáº½ hiá»ƒn thá»‹ dÆ°á»›i tÃ i khoáº£n cá»§a báº¡n).
* Email chÃ­nh xÃ¡c giÃºp audit, liÃªn há»‡, vÃ  lá»‹ch sá»­ Ä‘Ã³ng gÃ³p rÃµ rÃ ng.

7. Báº£o máº­t vÃ  quyá»n riÃªng tÆ°

* Náº¿u khÃ´ng muá»‘n lá»™ Ä‘á»‹a chá»‰ email tháº­t trÃªn public repo, báº¡n cÃ³ thá»ƒ dÃ¹ng email áº©n cá»§a GitHub (vÃ­ dá»¥ [123456+username@users.noreply.github.com](mailto:123456+username@users.noreply.github.com)) hoáº·c cáº¥u hÃ¬nh Ä‘á»ƒ sá»­ dá»¥ng email chuyÃªn dá»¥ng.
* TrÃ¡nh commit file chá»©a thÃ´ng tin nháº¡y cáº£m cÃ¹ng vá»›i email náº¿u khÃ´ng muá»‘n cÃ´ng khai.

8. Má»™t sá»‘ tÃ¹y chá»n liÃªn quan

* git config --global user.name "Your Name"
  -> Thiáº¿t láº­p tÃªn tÃ¡c giáº£ (cÃ¹ng pháº¡m vi global).
* git config --system ...
  -> Thiáº¿t láº­p cáº¥u hÃ¬nh á»Ÿ cáº¥p há»‡ thá»‘ng (Ã¡p dá»¥ng cho táº¥t cáº£ user trÃªn mÃ¡y; cáº§n quyá»n admin).
* git config --local ...
  -> Thiáº¿t láº­p trong repo (máº·c Ä‘á»‹nh khi báº¡n khÃ´ng dÃ¹ng --global).

9. Thay Ä‘á»•i email cho commit Ä‘Ã£ táº¡o (Ä‘Ã£ commit)

* Náº¿u báº¡n muá»‘n sá»­a thÃ´ng tin email trong commit Ä‘Ã£ táº¡o (váº«n chÆ°a push):
  $ git commit --amend --author="Your Name [newemail@example.com](mailto:newemail@example.com)" --no-edit
* Náº¿u commit Ä‘Ã£ push vÃ  báº¡n cáº§n sá»­a nhiá»u commit lá»‹ch sá»­: cáº§n thao tÃ¡c rewrite history (git rebase -i hoáº·c filter-branch / BFG) vÃ  sau Ä‘Ã³ force-push â€” cáº§n tháº­n trá»ng vÃ¬ cÃ³ thá»ƒ áº£nh hÆ°á»Ÿng tá»›i ngÆ°á»i khÃ¡c.

10. LÆ°u Ã½ vÃ  máº¹o

* Thiáº¿t láº­p user.name vÃ  user.email lÃ  bÆ°á»›c cÆ¡ báº£n khi báº¯t Ä‘áº§u dÃ¹ng Git trÃªn mÃ¡y má»›i.
* Äá»ƒ kiá»ƒm tra táº¥t cáº£ cáº¥u hÃ¬nh Git Ä‘ang cÃ³ hiá»‡u lá»±c (ká»ƒ cáº£ config repo, global vÃ  system), dÃ¹ng:
  $ git config --list --show-origin
* Náº¿u báº¡n dÃ¹ng nhiá»u tÃ i khoáº£n (vÃ­ dá»¥ cÃ¡ nhÃ¢n vÃ  cÃ´ng ty), cÃ¢n nháº¯c thiáº¿t láº­p email theo repo (local) hoáº·c sá»­ dá»¥ng conditional includes trong .gitconfig Ä‘á»ƒ tá»± Ä‘á»™ng chá»n cáº¥u hÃ¬nh dá»±a trÃªn Ä‘Æ°á»ng dáº«n repo.

11. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
    Q: TÃ´i Ä‘Ã£ set --global nhÆ°ng commit váº«n dÃ¹ng email khÃ¡c. Táº¡i sao?
    A: CÃ³ thá»ƒ repo cÃ³ cáº¥u hÃ¬nh local (git config user.email) ghi Ä‘Ã¨ giÃ¡ trá»‹ global. Kiá»ƒm tra git config --list --show-origin Ä‘á»ƒ biáº¿t chÃ­nh xÃ¡c file nÃ o thiáº¿t láº­p giÃ¡ trá»‹.

Q: TÃ´i muá»‘n áº©n email tháº­t khi push lÃªn GitHub. LÃ m tháº¿ nÃ o?
A: DÃ¹ng email noreply cá»§a GitHub hoáº·c báº­t tÃ­nh nÄƒng "Keep my email address private" trÃªn GitHub vÃ  dÃ¹ng email [123456+username@users.noreply.github.com](mailto:123456+username@users.noreply.github.com). Sau Ä‘Ã³ cáº¥u hÃ¬nh git config --global user.email "[123456+username@users.noreply.github.com](mailto:123456+username@users.noreply.github.com)".

Q: CÃ³ thá»ƒ dÃ¹ng nhiá»u email cho cÃ¡c repo khÃ¡c nhau khÃ´ng?
A: CÃ³, thiáº¿t láº­p user.email á»Ÿ pháº¡m vi repo (khÃ´ng dÃ¹ng --global) cho tá»«ng repo.

12. TÃ³m táº¯t nhanh

* Lá»‡nh: git config --global user.email "[ngoctuanqng1@gmail.com](mailto:ngoctuanqng1@gmail.com)"
* TÃ¡c dá»¥ng: lÆ°u email dÃ¹ng cho commit á»Ÿ cáº¥p ngÆ°á»i dÃ¹ng (global), lÆ°u trong ~/.gitconfig.
* Kiá»ƒm tra: git config --global user.email
* Thay Ä‘á»•i cho repo cá»¥ thá»ƒ: cd repo && git config user.email "email@domain"

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: git config --global user.name  "ngoctuanqng1"
		
Giáº£i thÃ­ch chi tiáº¿t vá»: git config --global user.name "ngoctuanqng1"

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "git config --global user.name "ngoctuanqng1"" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: git config --global user.name "ngoctuanqng1"

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   Lá»‡nh nÃ y thiáº¿t láº­p tÃªn tÃ¡c giáº£ (user.name) mÃ  Git sáº½ gÃ¡n vÃ o metadata cá»§a cÃ¡c commit do ngÆ°á»i dÃ¹ng hiá»‡n táº¡i thá»±c hiá»‡n trÃªn mÃ¡y. TÃ¹y chá»n --global lÆ°u thiáº¿t láº­p á»Ÿ pháº¡m vi toÃ n cá»¥c cho user (thÆ°á»ng trong file ~/.gitconfig), tá»©c lÃ  Ã¡p dá»¥ng cho táº¥t cáº£ repository trÃªn mÃ¡y cá»§a user Ä‘Ã³.

2. Khi nÃ o dÃ¹ng

* Khi báº¡n cÃ i Ä‘áº·t Git láº§n Ä‘áº§u trÃªn mÃ¡y vÃ  cáº§n cáº¥u hÃ¬nh tÃªn hiá»ƒn thá»‹ cho commit.
* Khi muá»‘n thay Ä‘á»•i tÃªn hiá»ƒn thá»‹ (vÃ­ dá»¥ chuyá»ƒn tá»« tÃªn viáº¿t táº¯t sang tÃªn Ä‘áº§y Ä‘á»§ hoáº·c ngÆ°á»£c láº¡i).
* Khi sá»­ dá»¥ng nhiá»u mÃ¡y vÃ  muá»‘n tÃªn commit Ä‘á»“ng nháº¥t (thiáº¿t láº­p --global trÃªn má»—i mÃ¡y hoáº·c dÃ¹ng cÃ¹ng file cáº¥u hÃ¬nh).

3. CÃ¡ch hoáº¡t Ä‘á»™ng (má»™t cÃ¡ch Ä‘Æ¡n giáº£n)

* git config lÃ  cÃ´ng cá»¥ Ä‘á»c/ghi cÃ¡c khÃ³a cáº¥u hÃ¬nh cá»§a Git.
* --global chá»‰ Ä‘á»‹nh lÆ°u vÃ o file cáº¥u hÃ¬nh toÃ n cá»¥c (~/.gitconfig) cho user hiá»‡n táº¡i.
* key user.name lÃ  trÆ°á»ng chá»©a tÃªn hiá»ƒn thá»‹ cá»§a tÃ¡c giáº£ commit. Khi báº¡n commit, Git sáº½ ghi tÃªn nÃ y vÃ o trÆ°á»ng Author vÃ  Committer cá»§a commit.

4. CÃº phÃ¡p cÆ¡ báº£n

* Thiáº¿t láº­p global:
  $ git config --global user.name "Your Name"
* Thiáº¿t láº­p cá»¥c bá»™ (chá»‰ cho repo hiá»‡n táº¡i):
  $ git config user.name "Your Name"
* Kiá»ƒm tra giÃ¡ trá»‹ Ä‘Ã£ thiáº¿t láº­p:
  $ git config --global user.name
  hoáº·c trong repo: git config user.name
* Xem toÃ n bá»™ cáº¥u hÃ¬nh Ä‘ang cÃ³ hiá»‡u lá»±c:
  $ git config --list --show-origin

5. VÃ­ dá»¥ thá»±c táº¿ (terminal)
   VÃ­ dá»¥ 1: Thiáº¿t láº­p tÃªn global
   $ git config --global user.name "ngoctuanqng1"

Kiá»ƒm tra:
$ git config --global user.name
ngoctuanqng1

Khi báº¡n táº¡o commit sau Ä‘Ã³, thÃ´ng tin Author sáº½ hiá»ƒn thá»‹ tÃªn nÃ y kÃ¨m email (náº¿u Ä‘Ã£ cáº¥u hÃ¬nh user.email).

VÃ­ dá»¥ 2: Thiáº¿t láº­p tÃªn chá»‰ cho repo hiá»‡n táº¡i
$ cd /duong/dan/repo
$ git config user.name "Work User"
$ git config user.name
Work User

6. Táº¡i sao tÃªn (user.name) quan trá»ng?

* Git lÆ°u tÃªn nÃ y trong metadata commit Ä‘á»ƒ biáº¿t ai lÃ  tÃ¡c giáº£.
* Dá»‹ch vá»¥ remote (GitHub, GitLab, Bitbucket) sá»­ dá»¥ng tÃªn/email Ä‘á»ƒ hiá»ƒn thá»‹ ngÆ°á»i Ä‘Ã³ng gÃ³p; email thÆ°á»ng quyáº¿t Ä‘á»‹nh liÃªn káº¿t tá»›i tÃ i khoáº£n, nhÆ°ng tÃªn giÃºp Ä‘á»c lá»‹ch sá»­ dá»… hiá»ƒu.
* TÃªn rÃµ rÃ ng giÃºp audit vÃ  liÃªn há»‡ khi cáº§n thiáº¿t.

7. Báº£o máº­t vÃ  quyá»n riÃªng tÆ°

* TÃªn thÆ°á»ng khÃ´ng nháº¡y cáº£m nhÆ° email, nhÆ°ng náº¿u báº¡n muá»‘n áº©n danh, cÃ³ thá»ƒ dÃ¹ng bÃ­ danh.
* Khi káº¿t há»£p vá»›i email cÃ´ng khai, commit sáº½ dá»… liÃªn káº¿t tá»›i tÃ i khoáº£n tháº­t; cÃ¢n nháº¯c sá»­ dá»¥ng email noreply náº¿u cáº§n áº©n Ä‘á»‹a chá»‰.

8. Káº¿t há»£p vá»›i user.email

* ThÃ´ng thÆ°á»ng báº¡n nÃªn cáº¥u hÃ¬nh cáº£ user.name vÃ  user.email Ä‘á»ƒ commit cÃ³ Ä‘áº§y Ä‘á»§ metadata:
  $ git config --global user.name "Your Name"
  $ git config --global user.email "[you@example.com](mailto:you@example.com)"
* Dá»‹ch vá»¥ nhÆ° GitHub sáº½ sá»­ dá»¥ng email Ä‘á»ƒ map commit vá»›i tÃ i khoáº£n; tÃªn lÃ  pháº§n hiá»ƒn thá»‹.

9. Thay Ä‘á»•i tÃªn trong commit Ä‘Ã£ táº¡o

* Náº¿u cáº§n thay tÃªn author trong commit vá»«a táº¡o (chÆ°a push):
  $ git commit --amend --author="New Name [email@example.com](mailto:email@example.com)" --no-edit
* Äá»ƒ thay Ä‘á»•i nhiá»u commit Ä‘Ã£ push, cáº§n rewrite history (git rebase -i, filter-branch hoáº·c BFG) vÃ  force-push â€” tháº­n trá»ng vÃ¬ áº£nh hÆ°á»Ÿng tá»›i cá»™ng tÃ¡c viÃªn.

10. Conditional configuration (nhiá»u tÃªn cho nhiá»u repo)

* Náº¿u báº¡n dÃ¹ng nhiá»u tÃªn (vÃ­ dá»¥ cÃ¡ nhÃ¢n vÃ  cÃ´ng ty), cÃ³ thá»ƒ thiáº¿t láº­p user.name cá»¥c bá»™ cho tá»«ng repo.
* Báº¡n cÅ©ng cÃ³ thá»ƒ dÃ¹ng includeIf trong ~/.gitconfig Ä‘á»ƒ Ã¡p dá»¥ng config khÃ¡c nhau dá»±a trÃªn Ä‘Æ°á»ng dáº«n repo. VÃ­ dá»¥ (khÃ´ng pháº£i lá»‡nh, lÃ  ná»™i dung .gitconfig):
  [includeIf "gitdir:~/work/"]
  path = ~/.gitconfig-work

11. LÆ°u Ã½ vÃ  máº¹o

* Náº¿u báº¡n tháº¥y commit hiá»ƒn thá»‹ tÃªn khÃ´ng Ä‘Ãºng, kiá»ƒm tra thá»© tá»± override: repo-local > global > system.
* Äá»ƒ biáº¿t file nÃ o Ä‘ang thiáº¿t láº­p giÃ¡ trá»‹, dÃ¹ng: git config --list --show-origin | grep user.name
* Báº¡n cÃ³ thá»ƒ táº¡o alias Ä‘á»ƒ nhanh cáº¥u hÃ¬nh: git config --global alias.confname "config --global user.name"

12. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
    Q: TÃ´i Ä‘Ã£ set --global nhÆ°ng commit váº«n hiá»ƒn thá»‹ tÃªn khÃ¡c. Táº¡i sao?
    A: CÃ³ thá»ƒ repo cÃ³ cáº¥u hÃ¬nh local (git config user.name) hoáº·c commit cÅ© Ä‘Ã£ táº¡o trÆ°á»›c khi báº¡n Ä‘á»•i cáº¥u hÃ¬nh. Kiá»ƒm tra báº±ng git config --list --show-origin Ä‘á»ƒ biáº¿t nguá»“n giÃ¡ trá»‹.

Q: TÃ´i muá»‘n dÃ¹ng tÃªn Ä‘áº§y Ä‘á»§ nhÆ°ng GitHub láº¡i hiá»ƒn thá»‹ username. Táº¡i sao?
A: GitHub liÃªn káº¿t commit vá»›i tÃ i khoáº£n dá»±a trÃªn email; tÃªn chá»‰ lÃ  trÆ°á»ng hiá»ƒn thá»‹. Náº¿u email tÆ°Æ¡ng á»©ng vá»›i tÃ i khoáº£n, commit sáº½ hiá»ƒn thá»‹ dÆ°á»›i tÃ i khoáº£n Ä‘Ã³ nhÆ°ng tÃªn trong commit váº«n lÃ  giÃ¡ trá»‹ báº¡n thiáº¿t láº­p.

Q: TÃ´i cÃ³ thá»ƒ Ä‘áº·t tÃªn cÃ³ dáº¥u tiáº¿ng Viá»‡t khÃ´ng?
A: CÃ³, Git cháº¥p nháº­n tÃªn UTF-8, nhÆ°ng lÆ°u Ã½ hiá»ƒn thá»‹ phá»¥ thuá»™c terminal vÃ  dá»‹ch vá»¥ remote.

13. TÃ³m táº¯t nhanh

* Lá»‡nh: git config --global user.name "ngoctuanqng1"
* TÃ¡c dá»¥ng: lÆ°u tÃªn tÃ¡c giáº£ cho commit á»Ÿ pháº¡m vi global (file ~/.gitconfig).
* Kiá»ƒm tra: git config --global user.name
* Thay Ä‘á»•i cho repo cá»¥ thá»ƒ: cd repo && git config user.name "TÃªn khÃ¡c"

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: git remote add origin https://github.com/ngoctuanqng/gitpractice.git
		
Giáº£i thÃ­ch chi tiáº¿t vá»: git remote add origin [https://github.com/ngoctuanqng/gitpractice.git](https://github.com/ngoctuanqng/gitpractice.git)

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "git remote add origin [https://github.com/ngoctuanqng/gitpractice.git](https://github.com/ngoctuanqng/gitpractice.git)" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: git remote add origin [https://github.com/ngoctuanqng/gitpractice.git](https://github.com/ngoctuanqng/gitpractice.git)

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   Lá»‡nh nÃ y thÃªm má»™t remote má»›i tÃªn lÃ  "origin" cho repository cá»¥c bá»™, vá»›i URL trá» tá»›i kho tá»« xa (remote repository) trÃªn GitHub: [https://github.com/ngoctuanqng/gitpractice.git](https://github.com/ngoctuanqng/gitpractice.git). Remote lÃ  tÃªn gá»i cho má»™t vá»‹ trÃ­ lÆ°u trá»¯ Git á»Ÿ nÆ¡i khÃ¡c (vÃ­ dá»¥ GitHub, GitLab, server ná»™i bá»™) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ push/pull/sync mÃ£ nguá»“n.

2. Khi nÃ o dÃ¹ng

* Khi báº¡n Ä‘Ã£ khá»Ÿi táº¡o repository cá»¥c bá»™ (vÃ­ dá»¥ báº±ng git init) vÃ  muá»‘n káº¿t ná»‘i nÃ³ vá»›i má»™t repository trÃªn GitHub Ä‘á»ƒ push code lÃªn.
* Khi clone khÃ´ng dÃ¹ng (hoáº·c muá»‘n thÃªm remote má»›i) â€” vÃ­ dá»¥ báº¡n táº¡o repo local rá»“i táº¡o repo remote trÃªn GitHub vÃ  cáº§n liÃªn káº¿t.

3. CÃ¡ch hoáº¡t Ä‘á»™ng (má»™t cÃ¡ch Ä‘Æ¡n giáº£n)

* git remote add <tÃªn> <url> ghi vÃ o cáº¥u hÃ¬nh Git (file .git/config) má»™t entry remote vá»›i tÃªn vÃ  URL tÆ°Æ¡ng á»©ng.
* Sau khi thÃªm, báº¡n cÃ³ thá»ƒ dÃ¹ng git push origin <branch> Ä‘á»ƒ Ä‘áº©y commit lÃªn remote nÃ y, hoáº·c git pull origin <branch> Ä‘á»ƒ kÃ©o vá».

4. CÃº phÃ¡p cÆ¡ báº£n vÃ  Ã½ nghÄ©a tá»«ng pháº§n

* git remote: lá»‡nh quáº£n lÃ½ danh sÃ¡ch remote.
* add: hÃ nh Ä‘á»™ng thÃªm má»™t remote má»›i.
* origin: tÃªn remote â€” Ä‘Ã¢y lÃ  tÃªn convention (máº·c Ä‘á»‹nh) thÆ°á»ng dÃ¹ng cho remote chÃ­nh; báº¡n cÃ³ thá»ƒ Ä‘áº·t tÃªn khÃ¡c (vÃ­ dá»¥ upstream, github, origin2).
* [https://github.com/ngoctuanqng/gitpractice.git](https://github.com/ngoctuanqng/gitpractice.git): URL cá»§a remote repository. CÃ³ thá»ƒ lÃ  URL HTTPS hoáº·c SSH (vÃ­ dá»¥ [git@github.com](mailto:git@github.com):username/repo.git).

5. VÃ­ dá»¥ thá»±c táº¿ (terminal)
   BÆ°á»›c 1: Khá»Ÿi táº¡o repo local vÃ  commit Ä‘áº§u tiÃªn
   $ git init
   $ touch README.md
   $ git add README.md
   $ git commit -m "Initial commit"

BÆ°á»›c 2: ThÃªm remote origin
$ git remote add origin [https://github.com/ngoctuanqng/gitpractice.git](https://github.com/ngoctuanqng/gitpractice.git)

BÆ°á»›c 3: Push branch main lÃªn remote
$ git branch -M main
$ git push -u origin main

Giáº£i thÃ­ch: -u (hoáº·c --set-upstream) thiáº¿t láº­p upstream tracking giá»¯a branch local vÃ  branch origin/main, giÃºp sau nÃ y chá»‰ cáº§n git push hoáº·c git pull.

6. URL dáº¡ng HTTPS vs SSH

* HTTPS: [https://github.com/username/repo.git](https://github.com/username/repo.git)
  -> Dá»… dÃ¹ng, yÃªu cáº§u nháº­p user/password hoáº·c token khi push (nÃªn dÃ¹ng Personal Access Token cho GitHub thay password).
* SSH: [git@github.com](mailto:git@github.com):username/repo.git
  -> DÃ¹ng khÃ³a SSH, thuáº­n tiá»‡n khi Ä‘Ã£ cáº¥u hÃ¬nh SSH keys, khÃ´ng cáº§n nháº­p máº­t kháº©u má»—i láº§n.

7. Kiá»ƒm tra remote Ä‘Ã£ thÃªm

* Liá»‡t kÃª remote:
  $ git remote
  -> output: origin
* Xem URL chi tiáº¿t:
  $ git remote -v
  -> origin  [https://github.com/ngoctuanqng/gitpractice.git](https://github.com/ngoctuanqng/gitpractice.git) (fetch)
  origin  [https://github.com/ngoctuanqng/gitpractice.git](https://github.com/ngoctuanqng/gitpractice.git) (push)

8. Thay Ä‘á»•i hoáº·c xÃ³a remote

* Thay Ä‘á»•i URL cá»§a origin:
  $ git remote set-url origin [git@github.com](mailto:git@github.com):ngoctuanqng/gitpractice.git
* XÃ³a remote origin:
  $ git remote remove origin
  hoáº·c
  $ git remote rm origin

9. Nhá»¯ng lÆ°u Ã½ khi push láº§n Ä‘áº§u

* Náº¿u remote rá»—ng vÃ  báº¡n chÆ°a cÃ³ branch cÃ¹ng tÃªn, khi push Ä‘áº§u tiÃªn dÃ¹ng:
  $ git push -u origin main
* Náº¿u remote Ä‘Ã£ cÃ³ commit khÃ¡c (vÃ­ dá»¥ báº¡n táº¡o README trÃªn GitHub lÃºc táº¡o repo), báº¡n cÃ³ thá»ƒ cáº§n git pull --rebase origin main trÆ°á»›c khi push Ä‘á»ƒ trÃ¡nh xung Ä‘á»™t lá»‹ch sá»­.
* Náº¿u nháº­n lá»—i "failed to push some refs" hoáº·c "non-fast-forward", thÆ°á»ng do lá»‹ch sá»­ khÃ¡c nhau â€” hÃ£y thá»±c hiá»‡n pull hoáº·c rebase theo hÆ°á»›ng dáº«n.

10. TrÆ°á»ng há»£p dÃ¹ng multiple remotes

* Báº¡n cÃ³ thá»ƒ thÃªm nhiá»u remote, vÃ­ dá»¥ upstream trá» tá»›i upstream repository gá»‘c vÃ  origin trá» tá»›i fork cá»§a báº¡n.
  $ git remote add upstream [https://github.com/original/project.git](https://github.com/original/project.git)
* Khi push, chá»‰ push tá»›i remote mong muá»‘n: git push origin main hoáº·c git push upstream main.

11. Báº£o máº­t vÃ  tokens

* Vá»›i HTTPS, GitHub Ä‘Ã£ deprecated password authentication; khi push cáº§n dÃ¹ng Personal Access Token (PAT) hoáº·c credential helper Ä‘á»ƒ lÆ°u token.
* Vá»›i SSH, cáº§n táº¡o SSH key (ssh-keygen) vÃ  thÃªm public key vÃ o GitHub account.

12. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
    Q: TÃ´i dÃ¹ng git remote add origin nhÆ°ng git push bÃ¡o lá»—i authentication. Táº¡i sao?
    A: CÃ³ thá»ƒ báº¡n chÆ°a cáº¥u hÃ¬nh credential (token) cho HTTPS, hoáº·c chÆ°a cáº¥u hÃ¬nh SSH key cho SSH URL. Vá»›i HTTPS, táº¡o PAT vÃ  sá»­ dá»¥ng hoáº·c cáº¥u hÃ¬nh credential helper; vá»›i SSH, thÃªm SSH public key vÃ o GitHub.

Q: TÃ´i Ä‘Ã£ add origin sai URL. LÃ m sao sá»­a?
A: DÃ¹ng git remote set-url origin <new-url> Ä‘á»ƒ sá»­a, hoáº·c git remote remove origin rá»“i git remote add origin <new-url>.

Q: TÃ´i muá»‘n push táº¥t cáº£ branch lÃªn origin. LÃ m sao?
A: DÃ¹ng git push --all origin vÃ  git push --tags origin Ä‘á»ƒ push tag.

13. TÃ³m táº¯t nhanh

* Lá»‡nh: git remote add origin [https://github.com/ngoctuanqng/gitpractice.git](https://github.com/ngoctuanqng/gitpractice.git)
* TÃ¡c dá»¥ng: thÃªm remote tÃªn origin trá» tá»›i URL repo trÃªn GitHub.
* Sau khi thÃªm: git remote -v Ä‘á»ƒ kiá»ƒm tra; git push -u origin main Ä‘á»ƒ push vÃ  thiáº¿t láº­p upstream.

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: cat .git/config
		
Giáº£i thÃ­ch chi tiáº¿t vá»: cat .git/config

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "cat .git/config" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: cat .git/config

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   Lá»‡nh "cat .git/config" dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ ná»™i dung cá»§a file cáº¥u hÃ¬nh Git á»Ÿ repository cá»¥c bá»™. File nÃ y chá»©a cÃ¡c thiáº¿t láº­p repo-local, bao gá»“m thÃ´ng tin vá» remote, branch, vÃ  cÃ¡c thiáº¿t láº­p Git khÃ¡c chá»‰ Ã¡p dá»¥ng cho repository hiá»‡n táº¡i.

2. Khi nÃ o dÃ¹ng

* Khi báº¡n muá»‘n xem chi tiáº¿t cáº¥u hÃ¬nh Git cá»§a repository hiá»‡n táº¡i.
* Khi kiá»ƒm tra URL cá»§a remote, branch máº·c Ä‘á»‹nh, hoáº·c cÃ¡c tÃ¹y chá»n riÃªng láº» Ä‘Æ°á»£c thiáº¿t láº­p cho repository nÃ y.
* Khi debug lá»—i liÃªn quan Ä‘áº¿n remote, push/pull, hoáº·c merge.

3. CÃ¡ch hoáº¡t Ä‘á»™ng (má»™t cÃ¡ch Ä‘Æ¡n giáº£n)

* "cat" lÃ  lá»‡nh Unix/Linux dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ ná»™i dung file.
* .git/config lÃ  file náº±m trong thÆ° má»¥c .git cá»§a repository Git, chá»©a cÃ¡c khÃ³a vÃ  giÃ¡ trá»‹ cáº¥u hÃ¬nh dáº¡ng INI.
* Khi thá»±c thi cat .git/config, terminal sáº½ in ra toÃ n bá»™ ná»™i dung file nÃ y.

4. Ná»™i dung Ä‘iá»ƒn hÃ¬nh cá»§a file .git/config
   VÃ­ dá»¥ má»™t repository Git cÃ³ file .git/config:

[core]
repositoryformatversion = 0
filemode = true
bare = false
logallrefupdates = true

[remote "origin"]
url = [https://github.com/ngoctuanqng/gitpractice.git](https://github.com/ngoctuanqng/gitpractice.git)
fetch = +refs/heads/*:refs/remotes/origin/*

[branch "main"]
remote = origin
merge = refs/heads/main

Giáº£i thÃ­ch:

* [core]: chá»©a thiáº¿t láº­p cá»‘t lÃµi, vÃ­ dá»¥ bare repo hay khÃ´ng, quyá»n file, version repo.
* [remote "origin"]: thÃ´ng tin remote origin, bao gá»“m URL vÃ  refspec fetch.
* [branch "main"]: thÃ´ng tin branch, liÃªn káº¿t vá»›i remote vÃ  branch tÆ°Æ¡ng á»©ng.

5. CÃ¡c thao tÃ¡c liÃªn quan

* Xem toÃ n bá»™ config cá»¥c bá»™ (tÆ°Æ¡ng tá»± cat):
  $ git config --local --list
* Xem config toÃ n cá»¥c:
  $ git config --global --list
* ThÃªm, sá»­a, hoáº·c xÃ³a config:
  $ git config --local key value
  $ git config --global key value
  $ git config --unset key

6. VÃ­ dá»¥ thá»±c táº¿ (terminal)
   $ cat .git/config
   [core]
   repositoryformatversion = 0
   filemode = true
   bare = false
   logallrefupdates = true

[remote "origin"]
url = [https://github.com/ngoctuanqng/gitpractice.git](https://github.com/ngoctuanqng/gitpractice.git)
fetch = +refs/heads/*:refs/remotes/origin/*

[branch "main"]
remote = origin
merge = refs/heads/main

* Káº¿t quáº£ hiá»ƒn thá»‹ lÃ  cÃ¡c thiáº¿t láº­p cá»¥c bá»™ repo.
* Báº¡n cÃ³ thá»ƒ dÃ¹ng thÃ´ng tin nÃ y Ä‘á»ƒ kiá»ƒm tra URL remote hoáº·c branch tracking.

7. LÆ°u Ã½

* KhÃ´ng sá»­a trá»±c tiáº¿p file .git/config báº±ng cat. Náº¿u muá»‘n thay Ä‘á»•i config, nÃªn dÃ¹ng git config Ä‘á»ƒ Ä‘áº£m báº£o tÃ­nh toÃ n váº¹n vÃ  trÃ¡nh lá»—i file.
* File nÃ y cÃ³ thá»ƒ bá»‹ áº©n (.git) trong thÆ° má»¥c repo.
* CÃ¡c lá»‡nh git remote, git branch, git config thá»±c cháº¥t Ä‘á»c dá»¯ liá»‡u tá»« file nÃ y vÃ  cÃ¡c file config khÃ¡c (global, system).

8. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
   Q: TÃ´i muá»‘n xem remote origin URL. DÃ¹ng cat .git/config Ä‘Æ°á»£c khÃ´ng?
   A: CÃ³, báº¡n sáº½ tháº¥y URL trong section [remote "origin"].

Q: TÃ´i cÃ³ thá»ƒ sá»­a trá»±c tiáº¿p file .git/config khÃ´ng?
A: CÃ³ thá»ƒ, nhÆ°ng khÃ´ng khuyáº¿n nghá»‹. NÃªn dÃ¹ng git config Ä‘á»ƒ thay Ä‘á»•i vÃ¬ Git sáº½ validate vÃ  cáº­p nháº­t cáº¥u trÃºc Ä‘Ãºng.

Q: File nÃ y cÃ³ áº£nh hÆ°á»Ÿng Ä‘áº¿n toÃ n bá»™ repo hay chá»‰ local?
A: Chá»‰ áº£nh hÆ°á»Ÿng repo hiá»‡n táº¡i (local repository).

9. TÃ³m táº¯t nhanh

* Lá»‡nh: cat .git/config
* TÃ¡c dá»¥ng: hiá»ƒn thá»‹ ná»™i dung file cáº¥u hÃ¬nh Git cá»¥c bá»™.
* DÃ¹ng Ä‘á»ƒ kiá»ƒm tra remote, branch, vÃ  cÃ¡c thiáº¿t láº­p repo-local.
* Thao tÃ¡c thay Ä‘á»•i nÃªn dÃ¹ng git config thay vÃ¬ sá»­a trá»±c tiáº¿p.

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: git branch -m main
		
Giáº£i thÃ­ch chi tiáº¿t vá»: git branch -m main

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "git branch -m main" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: git branch -m main

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   Lá»‡nh "git branch -m main" dÃ¹ng Ä‘á»ƒ **Ä‘á»•i tÃªn branch hiá»‡n táº¡i** thÃ nh "main". TÃ¹y chá»n -m (hoáº·c --move) giÃºp di chuyá»ƒn tÃªn branch cÅ© sang tÃªn má»›i, giá»¯ nguyÃªn lá»‹ch sá»­ commit vÃ  cÃ¡c thay Ä‘á»•i.

2. Khi nÃ o dÃ¹ng

* Khi báº¡n muá»‘n Ä‘á»•i tÃªn branch máº·c Ä‘á»‹nh tá»« "master" sang "main" (thÆ°á»ng dÃ¹ng trong cÃ¡c dá»± Ã¡n hiá»‡n Ä‘áº¡i theo convention má»›i).
* Khi muá»‘n sá»­a tÃªn branch cho rÃµ rÃ ng, dá»… hiá»ƒu hÆ¡n.
* Khi branch Ä‘ang lÃ m viá»‡c nhÆ°ng muá»‘n Ä‘áº·t tÃªn phÃ¹ há»£p vá»›i naming convention cá»§a team.

3. CÃ¡ch hoáº¡t Ä‘á»™ng (má»™t cÃ¡ch Ä‘Æ¡n giáº£n)

* Git Ä‘á»•i tÃªn branch trong metadata repo cá»¥c bá»™.
* Náº¿u branch Ä‘Ã£ push lÃªn remote, Ä‘á»•i tÃªn cá»¥c bá»™ khÃ´ng tá»± Ä‘á»™ng Ä‘á»•i tÃªn trÃªn remote. Báº¡n cáº§n push branch má»›i vÃ  xÃ³a branch cÅ© trÃªn remote sau khi Ä‘á»•i tÃªn.

4. CÃº phÃ¡p cÆ¡ báº£n vÃ  Ã½ nghÄ©a

* git branch -m <new-name> : Ä‘á»•i tÃªn branch hiá»‡n táº¡i sang <new-name>
* git branch -m <old-name> <new-name> : Ä‘á»•i tÃªn branch <old-name> sang <new-name>, branch hiá»‡n táº¡i khÃ´ng nháº¥t thiáº¿t pháº£i lÃ  <old-name>

5. VÃ­ dá»¥ thá»±c táº¿ (terminal)
   VÃ­ dá»¥ 1: Äá»•i tÃªn branch hiá»‡n táº¡i thÃ nh main
   $ git branch

* master
  develop
  $ git branch -m main
  $ git branch
* main
  develop

VÃ­ dá»¥ 2: Äá»•i tÃªn branch khÃ¡c (khÃ´ng pháº£i branch hiá»‡n táº¡i)
$ git branch -m develop dev
$ git branch

* main
  dev

6. Push branch má»›i lÃªn remote sau khi Ä‘á»•i tÃªn

* Náº¿u branch má»›i chÆ°a tá»“n táº¡i trÃªn remote:
  $ git push -u origin main
* XÃ³a branch cÅ© trÃªn remote náº¿u muá»‘n:
  $ git push origin --delete master

7. Kiá»ƒm tra branch

* Liá»‡t kÃª cÃ¡c branch cá»¥c bá»™:
  $ git branch
* Liá»‡t kÃª cÃ¡c branch remote:
  $ git branch -r
* Liá»‡t kÃª cáº£ cá»¥c bá»™ vÃ  remote:
  $ git branch -a

8. LÆ°u Ã½

* Náº¿u branch má»›i trÃ¹ng tÃªn vá»›i branch Ä‘Ã£ tá»“n táº¡i, Git sáº½ bÃ¡o lá»—i.
* Äá»•i tÃªn branch cá»¥c bá»™ khÃ´ng thay Ä‘á»•i branch trÃªn remote, cáº§n push branch má»›i vÃ  xÃ³a branch cÅ© náº¿u muá»‘n Ä‘á»“ng bá»™.
* Náº¿u Ä‘ang lÃ m viá»‡c trÃªn branch cÅ©, táº¥t cáº£ commit vÃ  thay Ä‘á»•i váº«n giá»¯ nguyÃªn sau khi Ä‘á»•i tÃªn.

9. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
   Q: TÃ´i Ä‘Ã£ Ä‘á»•i tÃªn branch cá»¥c bá»™ nhÆ°ng remote váº«n lÃ  master. LÃ m sao Ä‘á»“ng bá»™?
   A: Push branch má»›i vÃ  xÃ³a branch cÅ© trÃªn remote:
   $ git push -u origin main
   $ git push origin --delete master

Q: TÃ´i cÃ³ Ä‘ang á»Ÿ branch khÃ¡c mÃ  váº«n muá»‘n Ä‘á»•i tÃªn branch master. CÃ³ Ä‘Æ°á»£c khÃ´ng?
A: CÃ³, dÃ¹ng cÃº phÃ¡p git branch -m master main, Git sáº½ Ä‘á»•i tÃªn branch master mÃ  khÃ´ng cáº§n chuyá»ƒn sang branch Ä‘Ã³.

Q: Viá»‡c Ä‘á»•i tÃªn áº£nh hÆ°á»Ÿng Ä‘áº¿n commit history khÃ´ng?
A: KhÃ´ng, chá»‰ Ä‘á»•i tÃªn branch, toÃ n bá»™ lá»‹ch sá»­ commit vÃ  ná»™i dung repo giá»¯ nguyÃªn.

10. TÃ³m táº¯t nhanh

* Lá»‡nh: git branch -m main
* TÃ¡c dá»¥ng: Ä‘á»•i tÃªn branch hiá»‡n táº¡i sang main.
* Kiá»ƒm tra branch: git branch
* Äá»“ng bá»™ vá»›i remote: git push -u origin main vÃ  git push origin --delete <old-branch>

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: git push -u origin main
		
Giáº£i thÃ­ch chi tiáº¿t vá»: git push -u origin main

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "git push -u origin main" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: git push -u origin main

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   Lá»‡nh "git push -u origin main" dÃ¹ng Ä‘á»ƒ **Ä‘áº©y (push) cÃ¡c commit tá»« branch cá»¥c bá»™ 'main' lÃªn remote repository tÃªn 'origin'**. TÃ¹y chá»n -u (hoáº·c --set-upstream) thiáº¿t láº­p branch 'main' cá»¥c bá»™ theo dÃµi branch 'main' trÃªn remote, giÃºp báº¡n trong cÃ¡c láº§n push/pull sau chá»‰ cáº§n dÃ¹ng lá»‡nh git push hoáº·c git pull mÃ  khÃ´ng cáº§n chá»‰ Ä‘á»‹nh remote vÃ  branch.

2. Khi nÃ o dÃ¹ng

* Khi push branch láº§n Ä‘áº§u tá»« local lÃªn remote.
* Khi muá»‘n thiáº¿t láº­p upstream branch Ä‘á»ƒ Ä‘á»“ng bá»™ branch cá»¥c bá»™ vá»›i branch trÃªn remote.
* Khi repo cá»¥c bá»™ vÃ  repo remote chÆ°a cÃ³ branch trÃ¹ng tÃªn.

3. CÃ¡ch hoáº¡t Ä‘á»™ng (má»™t cÃ¡ch Ä‘Æ¡n giáº£n)

* Git so sÃ¡nh branch cá»¥c bá»™ main vá»›i branch main trÃªn origin.
* Náº¿u cÃ³ commit má»›i chÆ°a cÃ³ trÃªn remote, Git sáº½ Ä‘áº©y commit Ä‘Ã³ lÃªn remote.
* Thiáº¿t láº­p tracking: branch cá»¥c bá»™ main sáº½ biáº¿t ráº±ng upstream lÃ  origin/main, giÃºp cÃ¡c lá»‡nh git pull vÃ  git push tá»± Ä‘á»™ng Ã¡p dá»¥ng mÃ  khÃ´ng cáº§n tÃªn remote/branch.

4. CÃº phÃ¡p cÆ¡ báº£n vÃ  Ã½ nghÄ©a

* git push: Ä‘áº©y commit tá»« local lÃªn remote.
* -u hoáº·c --set-upstream: Ä‘áº·t branch upstream (tracking branch) cho branch hiá»‡n táº¡i.
* origin: tÃªn remote (thÆ°á»ng lÃ  remote chÃ­nh, báº¡n cÃ³ thá»ƒ dÃ¹ng tÃªn khÃ¡c).
* main: tÃªn branch cá»¥c bá»™ báº¡n muá»‘n Ä‘áº©y vÃ  thiáº¿t láº­p theo dÃµi.

5. VÃ­ dá»¥ thá»±c táº¿ (terminal)
   BÆ°á»›c 1: Kiá»ƒm tra branch hiá»‡n táº¡i
   $ git branch

* main
  develop

BÆ°á»›c 2: Push branch main lÃªn remote origin láº§n Ä‘áº§u
$ git push -u origin main
Enumerating objects: 5, done.
Counting objects: 100% (5/5), done.
Delta compression using up to 4 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (5/5), 500 bytes | 500.00 KiB/s, done.
Total 5 (delta 0), reused 0 (delta 0)
To [https://github.com/ngoctuanqng/gitpractice.git](https://github.com/ngoctuanqng/gitpractice.git)

* [new branch]      main -> main
  Branch 'main' set up to track remote branch 'main' from 'origin'.

Giáº£i thÃ­ch:

* Git Ä‘áº©y táº¥t cáº£ commit má»›i tá»« branch main lÃªn remote.
* ThÃ´ng bÃ¡o xÃ¡c nháº­n branch má»›i Ä‘Æ°á»£c táº¡o trÃªn remote.
* Thiáº¿t láº­p tracking: branch local main theo dÃµi origin/main.

6. Push branch láº§n sau

* Sau khi thiáº¿t láº­p upstream, báº¡n chá»‰ cáº§n:
  $ git push
  Git tá»± Ä‘á»™ng Ä‘áº©y branch main lÃªn origin mÃ  khÃ´ng cáº§n chá»‰ Ä‘á»‹nh tÃªn branch.

7. Náº¿u remote Ä‘Ã£ cÃ³ branch trÃ¹ng tÃªn

* Git sáº½ thá»±c hiá»‡n push náº¿u local cÃ³ commit má»›i chÆ°a cÃ³ trÃªn remote.
* Náº¿u cÃ³ xung Ä‘á»™t lá»‹ch sá»­, Git sáº½ bÃ¡o lá»—i vÃ  yÃªu cáº§u pull/rebase trÆ°á»›c khi push:
  $ git pull --rebase origin main
  $ git push

8. XÃ³a branch remote (náº¿u cáº§n)

* Sau khi Ä‘á»•i tÃªn branch hoáº·c khÃ´ng dÃ¹ng ná»¯a:
  $ git push origin --delete <branch>

9. CÃ¡c lÆ°u Ã½ quan trá»ng

* Khi push láº§n Ä‘áº§u trÃªn HTTPS, cáº§n nháº­p Personal Access Token náº¿u GitHub tá»« chá»‘i password.
* Khi push SSH, cáº§n cáº¥u hÃ¬nh SSH key.
* -u chá»‰ cáº§n dÃ¹ng láº§n Ä‘áº§u Ä‘á»ƒ thiáº¿t láº­p upstream; cÃ¡c láº§n push sau cÃ³ thá»ƒ bá».
* Äáº£m báº£o báº¡n Ä‘ang á»Ÿ branch muá»‘n push, náº¿u khÃ´ng chá»‰ Ä‘á»‹nh branch sáº½ Ä‘áº©y branch hiá»‡n táº¡i.

10. Kiá»ƒm tra tráº¡ng thÃ¡i upstream
    $ git branch -vv

* main  a1b2c3d [origin/main] Initial commit

- Hiá»ƒn thá»‹ branch cá»¥c bá»™, commit hiá»‡n táº¡i, vÃ  branch remote theo dÃµi.

11. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
    Q: TÃ´i push láº§n Ä‘áº§u nhÆ°ng Git bÃ¡o non-fast-forward. Pháº£i lÃ m sao?
    A: Pull trÆ°á»›c vá»›i git pull --rebase origin main, giáº£i quyáº¿t xung Ä‘á»™t náº¿u cÃ³, sau Ä‘Ã³ push láº¡i.

Q: TÃ´i muá»‘n push branch khÃ¡c vá»›i tÃªn branch cá»¥c bá»™, Ä‘Æ°á»£c khÃ´ng?
A: CÃ³, cÃº phÃ¡p: git push -u origin <local-branch>:<remote-branch>

Q: TÃ´i cÃ³ thá»ƒ bá» -u khÃ´ng?
A: CÃ³, nhÆ°ng láº§n push sau pháº£i chá»‰ Ä‘á»‹nh remote vÃ  branch Ä‘áº§y Ä‘á»§: git push origin main

12. TÃ³m táº¯t nhanh

* Lá»‡nh: git push -u origin main
* TÃ¡c dá»¥ng: Ä‘áº©y branch cá»¥c bá»™ main lÃªn remote origin vÃ  thiáº¿t láº­p tracking branch.
* Láº§n push sau chá»‰ cáº§n git push hoáº·c git pull.
* LÆ°u Ã½: HTTPS cáº§n token, SSH cáº§n key, vÃ  xá»­ lÃ½ xung Ä‘á»™t náº¿u branch trÃªn remote khÃ¡c vá»›i local.

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: git add satural.py
		
Giáº£i thÃ­ch chi tiáº¿t vá»: git add satural.py

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "git add satural.py" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: git add satural.py

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   Lá»‡nh "git add satural.py" dÃ¹ng Ä‘á»ƒ **thÃªm file satural.py vÃ o staging area** cá»§a Git. Staging area lÃ  khu vá»±c táº¡m thá»i lÆ°u cÃ¡c thay Ä‘á»•i sáº½ Ä‘Æ°á»£c commit, giÃºp báº¡n kiá»ƒm soÃ¡t chÃ­nh xÃ¡c nhá»¯ng gÃ¬ sáº½ Ä‘Æ°á»£c ghi vÃ o commit tiáº¿p theo.

2. Khi nÃ o dÃ¹ng

* Khi báº¡n Ä‘Ã£ táº¡o hoáº·c chá»‰nh sá»­a file satural.py vÃ  muá»‘n chuáº©n bá»‹ commit.
* Khi báº¡n muá»‘n commit má»™t file cá»¥ thá»ƒ mÃ  khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c file khÃ¡c.
* Khi báº¡n muá»‘n kiá»ƒm soÃ¡t cÃ¡c thay Ä‘á»•i tá»«ng pháº§n (vÃ­ dá»¥ add file riÃªng biá»‡t hoáº·c tá»«ng hunk).

3. CÃ¡ch hoáº¡t Ä‘á»™ng (má»™t cÃ¡ch Ä‘Æ¡n giáº£n)

* Git khÃ´ng tá»± Ä‘á»™ng commit má»i thay Ä‘á»•i; báº¡n pháº£i xÃ¡c nháº­n cÃ¡c file cáº§n commit.
* git add Ä‘Æ°a file vÃ o staging area.
* Khi thá»±c hiá»‡n git commit, chá»‰ nhá»¯ng file trong staging area má»›i Ä‘Æ°á»£c Ä‘Æ°a vÃ o commit.

4. CÃº phÃ¡p cÆ¡ báº£n vÃ  Ã½ nghÄ©a

* git add <file>: thÃªm file cá»¥ thá»ƒ vÃ o staging area.
* git add . : thÃªm táº¥t cáº£ file Ä‘Ã£ thay Ä‘á»•i trong repo.
* git add -p : thÃªm tá»«ng pháº§n thay Ä‘á»•i (hunk) cá»§a file.
* git add *.py : thÃªm táº¥t cáº£ file Python trong thÆ° má»¥c hiá»‡n táº¡i.

5. VÃ­ dá»¥ thá»±c táº¿ (terminal)
   VÃ­ dá»¥ 1: ThÃªm má»™t file cá»¥ thá»ƒ
   $ git status
   On branch main
   Changes not staged for commit:
   (use "git add <file>..." to update what will be committed)
   (use "git restore <file>..." to discard changes in working directory)
   modified:   satural.py

$ git add satural.py
$ git status
On branch main
Changes to be committed:
(use "git restore --staged <file>..." to unstage)
modified:   satural.py

VÃ­ dá»¥ 2: ThÃªm nhiá»u file
$ git add satural.py helper.py
$ git status
Changes to be committed:
modified:   satural.py
modified:   helper.py

6. CÃ¡c lÆ°u Ã½ quan trá»ng

* Náº¿u file chÆ°a tá»“n táº¡i trong repo, git add sáº½ thÃªm file má»›i vÃ o staging area vÃ  repo khi commit.
* Náº¿u file Ä‘Ã£ tá»“n táº¡i vÃ  cÃ³ thay Ä‘á»•i, git add sáº½ cáº­p nháº­t cÃ¡c thay Ä‘á»•i trong staging area.
* Báº¡n cÃ³ thá»ƒ há»§y staging báº±ng:
  $ git restore --staged satural.py

7. Thao tÃ¡c liÃªn quan

* Commit sau khi add:
  $ git commit -m "Add satural.py or update changes"
* Xem tráº¡ng thÃ¡i trÆ°á»›c vÃ  sau khi add:
  $ git status
* Xem chi tiáº¿t cÃ¡c thay Ä‘á»•i trÆ°á»›c khi add:
  $ git diff satural.py          # thay Ä‘á»•i chÆ°a staging
  $ git diff --staged satural.py  # thay Ä‘á»•i Ä‘Ã£ staging

8. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
   Q: TÃ´i muá»‘n commit má»™t pháº§n cá»§a file, cÃ³ Ä‘Æ°á»£c khÃ´ng?
   A: CÃ³, dÃ¹ng git add -p satural.py Ä‘á»ƒ chá»n tá»«ng hunk.

Q: TÃ´i add file rá»“i nhÆ°ng muá»‘n bá» staging. LÃ m sao?
A: DÃ¹ng git restore --staged satural.py.

Q: TÃ´i add file nhÆ°ng khÃ´ng muá»‘n commit ngay. CÃ³ Ä‘Æ°á»£c khÃ´ng?
A: CÃ³, báº¡n cÃ³ thá»ƒ add file vÃ o staging vÃ  commit sau.

9. TÃ³m táº¯t nhanh

* Lá»‡nh: git add satural.py
* TÃ¡c dá»¥ng: thÃªm file satural.py vÃ o staging area Ä‘á»ƒ chuáº©n bá»‹ commit.
* Kiá»ƒm tra tráº¡ng thÃ¡i: git status
* Bá» staging náº¿u cáº§n: git restore --staged satural.py

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: git push origin main
		
Giáº£i thÃ­ch chi tiáº¿t vá»: git push origin main

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "git push origin main" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: git push origin main

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   Lá»‡nh "git push origin main" dÃ¹ng Ä‘á»ƒ **Ä‘áº©y cÃ¡c commit tá»« branch cá»¥c bá»™ 'main' lÃªn remote repository tÃªn 'origin'** mÃ  khÃ´ng thiáº¿t láº­p upstream (tracking branch). KhÃ¡c vá»›i `git push -u origin main`, lá»‡nh nÃ y khÃ´ng thiáº¿t láº­p branch cá»¥c bá»™ theo dÃµi branch remote, nÃªn láº§n push tiáº¿p theo váº«n cáº§n chá»‰ Ä‘á»‹nh Ä‘áº§y Ä‘á»§ remote vÃ  branch.

2. Khi nÃ o dÃ¹ng

* Khi báº¡n muá»‘n Ä‘áº©y commit tá»« branch cá»¥c bá»™ lÃªn remote nhÆ°ng khÃ´ng cáº§n thiáº¿t láº­p tracking.
* Khi branch Ä‘Ã£ cÃ³ upstream Ä‘Æ°á»£c thiáº¿t láº­p tá»« trÆ°á»›c hoáº·c báº¡n muá»‘n quáº£n lÃ½ upstream theo cÃ¡ch thá»§ cÃ´ng.
* Khi lÃ m viá»‡c vá»›i nhiá»u remote vÃ  muá»‘n push cá»¥ thá»ƒ tá»›i má»™t remote mÃ  khÃ´ng áº£nh hÆ°á»Ÿng tracking.

3. CÃ¡ch hoáº¡t Ä‘á»™ng (má»™t cÃ¡ch Ä‘Æ¡n giáº£n)

* Git so sÃ¡nh branch cá»¥c bá»™ main vá»›i branch main trÃªn remote origin.
* Náº¿u cÃ³ commit má»›i chÆ°a cÃ³ trÃªn remote, Git sáº½ Ä‘áº©y commit Ä‘Ã³ lÃªn remote.
* Lá»‡nh nÃ y chá»‰ áº£nh hÆ°á»Ÿng Ä‘áº¿n remote repository, khÃ´ng thay Ä‘á»•i branch local hoáº·c thiáº¿t láº­p upstream.

4. CÃº phÃ¡p cÆ¡ báº£n vÃ  Ã½ nghÄ©a

* git push: Ä‘áº©y commit tá»« local lÃªn remote.
* origin: tÃªn remote, thÆ°á»ng lÃ  remote chÃ­nh (cÃ³ thá»ƒ lÃ  GitHub, GitLab, v.v.).
* main: branch cá»¥c bá»™ muá»‘n Ä‘áº©y.
* KhÃ¡c vá»›i -u: khÃ´ng thiáº¿t láº­p tracking, nÃªn láº§n push tiáº¿p theo pháº£i chá»‰ Ä‘á»‹nh Ä‘áº§y Ä‘á»§: git push origin main.

5. VÃ­ dá»¥ thá»±c táº¿ (terminal)
   BÆ°á»›c 1: Kiá»ƒm tra branch hiá»‡n táº¡i
   $ git branch

* main
  develop

BÆ°á»›c 2: Push branch main lÃªn remote origin
$ git push origin main
Enumerating objects: 5, done.
Counting objects: 100% (5/5), done.
Delta compression using up to 4 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (5/5), 500 bytes | 500.00 KiB/s, done.
Total 5 (delta 0), reused 0 (delta 0)
To [https://github.com/ngoctuanqng/gitpractice.git](https://github.com/ngoctuanqng/gitpractice.git)
a1b2c3d..e4f5g6h  main -> main

Giáº£i thÃ­ch:

* Git Ä‘áº©y táº¥t cáº£ commit má»›i tá»« branch main lÃªn remote.
* KhÃ´ng thiáº¿t láº­p upstream, nghÄ©a lÃ  láº§n push sau váº«n pháº£i chá»‰ Ä‘á»‹nh git push origin main.

6. Náº¿u remote Ä‘Ã£ cÃ³ branch trÃ¹ng tÃªn

* Git sáº½ thá»±c hiá»‡n push náº¿u local cÃ³ commit má»›i chÆ°a cÃ³ trÃªn remote.
* Náº¿u cÃ³ xung Ä‘á»™t lá»‹ch sá»­, Git bÃ¡o lá»—i: cáº§n pull/rebase trÆ°á»›c khi push:
  $ git pull --rebase origin main
  $ git push origin main

7. XÃ³a branch remote (náº¿u cáº§n)
   $ git push origin --delete <branch>

8. CÃ¡c lÆ°u Ã½ quan trá»ng

* Khi push láº§n Ä‘áº§u trÃªn HTTPS, cáº§n nháº­p Personal Access Token náº¿u GitHub tá»« chá»‘i password.
* Khi push SSH, cáº§n cáº¥u hÃ¬nh SSH key.
* KhÃ´ng thiáº¿t láº­p tracking vá»›i -u; náº¿u muá»‘n push Ä‘Æ¡n giáº£n trong tÆ°Æ¡ng lai, dÃ¹ng git push -u origin main láº§n Ä‘áº§u.
* Äáº£m báº£o Ä‘ang á»Ÿ branch muá»‘n push, náº¿u khÃ´ng chá»‰ Ä‘á»‹nh branch sáº½ Ä‘áº©y branch hiá»‡n táº¡i.

9. Kiá»ƒm tra tráº¡ng thÃ¡i remote

* Liá»‡t kÃª branch remote:
  $ git branch -r
* Liá»‡t kÃª cáº£ cá»¥c bá»™ vÃ  remote:
  $ git branch -a

10. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
    Q: TÃ´i muá»‘n láº§n sau push chá»‰ cáº§n gÃµ git push. LÃ m sao?
    A: DÃ¹ng git push -u origin main Ä‘á»ƒ thiáº¿t láº­p upstream branch.

Q: TÃ´i push branch khÃ¡c vá»›i tÃªn branch cá»¥c bá»™? CÃ³ Ä‘Æ°á»£c khÃ´ng?
A: CÃ³, dÃ¹ng cÃº phÃ¡p: git push origin <local-branch>:<remote-branch>

Q: TÃ´i nháº­n lá»—i non-fast-forward. Pháº£i lÃ m sao?
A: Pull trÆ°á»›c vá»›i git pull --rebase origin main, giáº£i quyáº¿t xung Ä‘á»™t náº¿u cÃ³, sau Ä‘Ã³ push láº¡i.

11. TÃ³m táº¯t nhanh

* Lá»‡nh: git push origin main
* TÃ¡c dá»¥ng: Ä‘áº©y branch cá»¥c bá»™ main lÃªn remote origin.
* KhÃ´ng thiáº¿t láº­p tracking, láº§n push sau pháº£i chá»‰ Ä‘á»‹nh Ä‘áº§y Ä‘á»§ remote vÃ  branch.
* LÆ°u Ã½: HTTPS cáº§n token, SSH cáº§n key, vÃ  xá»­ lÃ½ xung Ä‘á»™t náº¿u branch trÃªn remote khÃ¡c vá»›i local.

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: git log
		
Giáº£i thÃ­ch chi tiáº¿t vá»: git log

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "git log" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: git log

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   Lá»‡nh "git log" dÃ¹ng Ä‘á»ƒ **hiá»ƒn thá»‹ lá»‹ch sá»­ cÃ¡c commit cá»§a repository Git**. NÃ³ cho phÃ©p xem cÃ¡c commit Ä‘Ã£ thá»±c hiá»‡n, bao gá»“m thÃ´ng tin nhÆ° hash commit, tÃ¡c giáº£, ngÃ y giá» vÃ  message commit.

2. Khi nÃ o dÃ¹ng

* Khi muá»‘n kiá»ƒm tra lá»‹ch sá»­ commit Ä‘á»ƒ hiá»ƒu cÃ¡c thay Ä‘á»•i Ä‘Ã£ thá»±c hiá»‡n.
* Khi muá»‘n tÃ¬m commit cá»¥ thá»ƒ dá»±a trÃªn thÃ´ng tin tÃ¡c giáº£, ngÃ y thÃ¡ng hoáº·c message.
* Khi debug hoáº·c review code Ä‘á»ƒ hiá»ƒu tiáº¿n trÃ¬nh phÃ¡t triá»ƒn cá»§a project.

3. CÃ¡ch hoáº¡t Ä‘á»™ng (má»™t cÃ¡ch Ä‘Æ¡n giáº£n)

* Git Ä‘á»c dá»¯ liá»‡u commit tá»« repository cá»¥c bá»™ vÃ  hiá»ƒn thá»‹ theo thá»© tá»± gáº§n nháº¥t trÆ°á»›c (newest first).
* Má»—i commit hiá»ƒn thá»‹ gá»“m cÃ¡c trÆ°á»ng: commit hash, Author, Date, vÃ  commit message.

4. CÃº phÃ¡p cÆ¡ báº£n vÃ  Ã½ nghÄ©a

* git log : hiá»ƒn thá»‹ danh sÃ¡ch commit máº·c Ä‘á»‹nh.
* git log --oneline : hiá»ƒn thá»‹ commit dÆ°á»›i dáº¡ng ngáº¯n gá»n, má»™t dÃ²ng má»—i commit.
* git log --graph : hiá»ƒn thá»‹ commit dÆ°á»›i dáº¡ng biá»ƒu Ä‘á»“ nhÃ¡nh.
* git log --author="tÃªn" : lá»c commit theo tÃ¡c giáº£.
* git log --since="2025-01-01" : lá»c commit sau má»™t ngÃ y nháº¥t Ä‘á»‹nh.
* git log --until="2025-01-31" : lá»c commit trÆ°á»›c má»™t ngÃ y nháº¥t Ä‘á»‹nh.
* git log -p : hiá»ƒn thá»‹ chi tiáº¿t thay Ä‘á»•i cá»§a má»—i commit.

5. VÃ­ dá»¥ thá»±c táº¿ (terminal)
   VÃ­ dá»¥ 1: Hiá»ƒn thá»‹ log Ä‘áº§y Ä‘á»§
   $ git log
   commit e4f5g6h7i8j9k0l1m2n3
   Author: ngoctuanqng1 [ngoctuanqng1@gmail.com](mailto:ngoctuanqng1@gmail.com)
   Date:   Wed Nov 13 18:00:00 2025 +0700

   Initial commit

commit a1b2c3d4e5f6g7h8i9j0
Author: ngoctuanqng1 [ngoctuanqng1@gmail.com](mailto:ngoctuanqng1@gmail.com)
Date:   Wed Nov 13 17:45:00 2025 +0700

```
Add satural.py
```

VÃ­ dá»¥ 2: Hiá»ƒn thá»‹ log ngáº¯n gá»n
$ git log --oneline
e4f5g6h Initial commit
a1b2c3d Add satural.py

VÃ­ dá»¥ 3: Hiá»ƒn thá»‹ log vá»›i biá»ƒu Ä‘á»“ nhÃ¡nh
$ git log --oneline --graph --all

* e4f5g6h Initial commit
* a1b2c3d Add satural.py

6. CÃ¡c lÆ°u Ã½ quan trá»ng

* Git log chá»‰ hiá»ƒn thá»‹ commit trÃªn branch hiá»‡n táº¡i trá»« khi thÃªm --all.
* commit hash lÃ  mÃ£ Ä‘á»‹nh danh duy nháº¥t cho má»—i commit, cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ checkout hoáº·c revert.
* git log khÃ´ng thay Ä‘á»•i tráº¡ng thÃ¡i repository, chá»‰ hiá»ƒn thá»‹ thÃ´ng tin.
* CÃ³ thá»ƒ káº¿t há»£p nhiá»u option Ä‘á»ƒ lá»c, sáº¯p xáº¿p, hiá»ƒn thá»‹ commit.

7. Thao tÃ¡c liÃªn quan

* Xem log cá»§a file cá»¥ thá»ƒ:
  $ git log satural.py
* Xem sá»‘ lÆ°á»£ng commit gáº§n nháº¥t:
  $ git log -n 5
* Xem log vá»›i patch chi tiáº¿t:
  $ git log -p
* Xem log vá»›i thÃ´ng tin commit gá»n hÆ¡n:
  $ git log --pretty=oneline
* Xem log vá»›i Ä‘á»‹nh dáº¡ng tÃ¹y chá»‰nh:
  $ git log --pretty=format:"%h - %an, %ar : %s"

8. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
   Q: TÃ´i muá»‘n tÃ¬m commit theo message. LÃ m sao?
   A: DÃ¹ng grep: git log --grep="message"

Q: TÃ´i muá»‘n xem commit cá»§a má»™t tÃ¡c giáº£ cá»¥ thá»ƒ?
A: DÃ¹ng --author: git log --author="ngoctuanqng1"

Q: TÃ´i muá»‘n xem cÃ¡c thay Ä‘á»•i tá»«ng file trong commit?
A: DÃ¹ng -p: git log -p

9. TÃ³m táº¯t nhanh

* Lá»‡nh: git log
* TÃ¡c dá»¥ng: hiá»ƒn thá»‹ lá»‹ch sá»­ commit cá»§a repository.
* CÃ¡c option phá»• biáº¿n: --oneline, --graph, --author, -p, --since, --until.
* KhÃ´ng thay Ä‘á»•i tráº¡ng thÃ¡i repo, chá»‰ xem lá»‹ch sá»­.

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: git log --oneline
		
Giáº£i thÃ­ch chi tiáº¿t vá»: git log --oneline

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "git log --oneline" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: git log --oneline

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   Lá»‡nh "git log --oneline" dÃ¹ng Ä‘á»ƒ **hiá»ƒn thá»‹ lá»‹ch sá»­ commit cá»§a repository dÆ°á»›i dáº¡ng ngáº¯n gá»n**, má»—i commit chiáº¿m má»™t dÃ²ng, bao gá»“m má»™t pháº§n hash commit rÃºt gá»n vÃ  message commit.

2. Khi nÃ o dÃ¹ng

* Khi muá»‘n xem nhanh lá»‹ch sá»­ commit mÃ  khÃ´ng cáº§n quÃ¡ nhiá»u chi tiáº¿t.
* Khi muá»‘n tá»•ng quan vá» tiáº¿n trÃ¬nh phÃ¡t triá»ƒn cá»§a dá»± Ã¡n.
* Khi review cÃ¡c commit trÆ°á»›c khi merge hoáº·c push.

3. CÃ¡ch hoáº¡t Ä‘á»™ng

* Git rÃºt gá»n commit hash (thÆ°á»ng 7 kÃ½ tá»± Ä‘áº§u) vÃ  chá»‰ hiá»ƒn thá»‹ message commit.
* Thá»© tá»± hiá»ƒn thá»‹: commit má»›i nháº¥t á»Ÿ trÃªn cÃ¹ng, commit cÅ© hÆ¡n á»Ÿ dÆ°á»›i.
* GiÃºp dá»… dÃ ng scan cÃ¡c commit nhanh mÃ  váº«n nháº­n biáº¿t Ä‘Æ°á»£c cÃ¡c thay Ä‘á»•i.

4. CÃº phÃ¡p cÆ¡ báº£n vÃ  Ã½ nghÄ©a

* git log --oneline : hiá»ƒn thá»‹ commit gá»n, má»™t dÃ²ng má»—i commit.
* Káº¿t há»£p vá»›i --graph: hiá»ƒn thá»‹ nhÃ¡nh commit dÆ°á»›i dáº¡ng Ä‘á»“ thá»‹.
* Káº¿t há»£p vá»›i --all: hiá»ƒn thá»‹ commit tá»« táº¥t cáº£ cÃ¡c nhÃ¡nh.

5. VÃ­ dá»¥ thá»±c táº¿ (terminal)
   VÃ­ dá»¥ 1: Hiá»ƒn thá»‹ log ngáº¯n gá»n
   $ git log --oneline
   e4f5g6h Initial commit
   a1b2c3d Add satural.py

VÃ­ dá»¥ 2: Hiá»ƒn thá»‹ log ngáº¯n gá»n vá»›i biá»ƒu Ä‘á»“
$ git log --oneline --graph

* e4f5g6h Initial commit
* a1b2c3d Add satural.py

VÃ­ dá»¥ 3: Hiá»ƒn thá»‹ log ngáº¯n gá»n táº¥t cáº£ nhÃ¡nh
$ git log --oneline --graph --all

* e4f5g6h Initial commit (HEAD -> main, origin/main)
* a1b2c3d Add satural.py (develop)

6. CÃ¡c lÆ°u Ã½ quan trá»ng

* Commit hash rÃºt gá»n váº«n Ä‘á»§ Ä‘á»ƒ tham chiáº¿u cÃ¡c commit (vÃ­ dá»¥ checkout hoáº·c revert).
* KhÃ´ng hiá»ƒn thá»‹ Author, Date, chi tiáº¿t thay Ä‘á»•i; náº¿u cáº§n, dÃ¹ng git log hoáº·c git log -p.
* CÃ³ thá»ƒ káº¿t há»£p nhiá»u option Ä‘á»ƒ lá»c commit, vÃ­ dá»¥ --author, --since, --until.

7. Thao tÃ¡c liÃªn quan

* Hiá»ƒn thá»‹ 5 commit gáº§n nháº¥t ngáº¯n gá»n:
  $ git log --oneline -n 5
* Lá»c theo tÃ¡c giáº£:
  $ git log --oneline --author="ngoctuanqng1"
* Xem commit cá»§a file cá»¥ thá»ƒ:
  $ git log --oneline satural.py
* Xem commit cÃ¹ng patch chi tiáº¿t:
  $ git log --oneline -p

8. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
   Q: TÃ´i muá»‘n xem nhanh lá»‹ch sá»­ mÃ  váº«n biáº¿t nhÃ¡nh nÃ o Ä‘ang theo dÃµi?
   A: DÃ¹ng git log --oneline --graph --all

Q: TÃ´i muá»‘n rÃºt gá»n commit hash nhÆ°ng váº«n xem chi tiáº¿t message?
A: git log --oneline hiá»ƒn thá»‹ rÃºt gá»n hash kÃ¨m message commit Ä‘áº§y Ä‘á»§.

Q: TÃ´i muá»‘n xem commit cá»§a file cá»¥ thá»ƒ ngáº¯n gá»n?
A: git log --oneline <file>

9. TÃ³m táº¯t nhanh

* Lá»‡nh: git log --oneline
* TÃ¡c dá»¥ng: hiá»ƒn thá»‹ lá»‹ch sá»­ commit ngáº¯n gá»n, má»™t dÃ²ng má»—i commit.
* Káº¿t há»£p option: --graph, --all, --author, --since, --until Ä‘á»ƒ lá»c hoáº·c hiá»ƒn thá»‹ thÃªm.
* KhÃ´ng thay Ä‘á»•i tráº¡ng thÃ¡i repository, chá»‰ xem lá»‹ch sá»­.

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: git show 625b034
		
Giáº£i thÃ­ch chi tiáº¿t vá»: git show 625b034

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "git show 625b034" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: git show 625b034

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   Lá»‡nh "git show 625b034" dÃ¹ng Ä‘á»ƒ **hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t cá»§a má»™t commit cá»¥ thá»ƒ** trong Git, bao gá»“m commit hash, tÃ¡c giáº£, ngÃ y giá», message commit vÃ  cÃ¡c thay Ä‘á»•i (diff) trong commit Ä‘Ã³. 625b034 lÃ  hash commit (cÃ³ thá»ƒ lÃ  hash rÃºt gá»n).

2. Khi nÃ o dÃ¹ng

* Khi báº¡n muá»‘n xem chi tiáº¿t má»™t commit cá»¥ thá»ƒ.
* Khi debug, review code hoáº·c xÃ¡c Ä‘á»‹nh ná»™i dung vÃ  cÃ¡c file Ä‘Ã£ thay Ä‘á»•i trong commit.
* Khi cáº§n trÃ­ch xuáº¥t patch tá»« má»™t commit.

3. CÃ¡ch hoáº¡t Ä‘á»™ng (má»™t cÃ¡ch Ä‘Æ¡n giáº£n)

* Git tÃ¬m commit vá»›i hash 625b034 trong repository cá»¥c bá»™.
* Git hiá»ƒn thá»‹:

  * ThÃ´ng tin commit: hash, tÃ¡c giáº£, ngÃ y giá»
  * Message commit
  * Diff chi tiáº¿t tá»«ng file thay Ä‘á»•i trong commit

4. CÃº phÃ¡p cÆ¡ báº£n vÃ  Ã½ nghÄ©a

* git show <commit-hash> : hiá»ƒn thá»‹ chi tiáº¿t commit cá»¥ thá»ƒ.
* git show <branch-name> : hiá»ƒn thá»‹ commit HEAD hiá»‡n táº¡i cá»§a branch.
* git show <tag-name> : hiá»ƒn thá»‹ commit mÃ  tag trá» tá»›i.
* git show <commit-hash> --name-only : chá»‰ hiá»ƒn thá»‹ tÃªn file thay Ä‘á»•i.
* git show <commit-hash> --stat : hiá»ƒn thá»‹ tÃ³m táº¯t thay Ä‘á»•i (sá»‘ dÃ²ng thÃªm/bá»›t, file).

5. VÃ­ dá»¥ thá»±c táº¿ (terminal)
   VÃ­ dá»¥ 1: Hiá»ƒn thá»‹ commit Ä‘áº§y Ä‘á»§
   $ git show 625b034
   commit 625b034abcd1234ef5678...
   Author: ngoctuanqng1 [ngoctuanqng1@gmail.com](mailto:ngoctuanqng1@gmail.com)
   Date:   Thu Nov 13 18:30:00 2025 +0700

   Update satural.py function

diff --git a/satural.py b/satural.py
index a1b2c3d..e4f5g6h 100644
--- a/satural.py
+++ b/satural.py
@@ -1,4 +1,6 @@
def main():

* print("Hello World")

- print("Hello Saturn")
- return True

VÃ­ dá»¥ 2: Hiá»ƒn thá»‹ tÃ³m táº¯t commit
$ git show 625b034 --stat
satural.py | 2 ++
1 file changed, 2 insertions(+)

6. CÃ¡c lÆ°u Ã½ quan trá»ng

* Commit hash cÃ³ thá»ƒ dÃ¹ng hash Ä‘áº§y Ä‘á»§ hoáº·c rÃºt gá»n (Ã­t nháº¥t 7 kÃ½ tá»± Ä‘á»ƒ Ä‘áº£m báº£o duy nháº¥t).
* Náº¿u commit khÃ´ng tá»“n táº¡i trong repo cá»¥c bá»™, Git sáº½ bÃ¡o lá»—i.
* git show khÃ´ng thay Ä‘á»•i tráº¡ng thÃ¡i repository, chá»‰ hiá»ƒn thá»‹ thÃ´ng tin.
* CÃ³ thá»ƒ káº¿t há»£p vá»›i nhiá»u option nhÆ° --name-only, --stat, --pretty Ä‘á»ƒ tÃ¹y chá»‰nh hiá»ƒn thá»‹.

7. Thao tÃ¡c liÃªn quan

* Xem log Ä‘á»ƒ láº¥y commit hash:
  $ git log --oneline
* Xem diff giá»¯a hai commit:
  $ git diff <hash1> <hash2>
* Xuáº¥t patch tá»« commit:
  $ git show 625b034 > patch.diff

8. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
   Q: TÃ´i chá»‰ muá»‘n xem tÃªn file Ä‘Ã£ thay Ä‘á»•i trong commit. LÃ m sao?
   A: git show 625b034 --name-only

Q: TÃ´i muá»‘n xem tÃ³m táº¯t sá»‘ dÃ²ng thÃªm/bá»›t mÃ  khÃ´ng cáº§n diff chi tiáº¿t?
A: git show 625b034 --stat

Q: TÃ´i cÃ³ thá»ƒ xuáº¥t commit thÃ nh patch Ä‘á»ƒ Ã¡p dá»¥ng sau khÃ´ng?
A: CÃ³, git show 625b034 > patch.diff

9. TÃ³m táº¯t nhanh

* Lá»‡nh: git show 625b034
* TÃ¡c dá»¥ng: hiá»ƒn thá»‹ chi tiáº¿t commit vá»›i thÃ´ng tin commit vÃ  diff thay Ä‘á»•i.
* Option há»¯u Ã­ch: --stat, --name-only, > patch.diff
* KhÃ´ng thay Ä‘á»•i tráº¡ng thÃ¡i repo, chá»‰ xem commit.

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: git pull
		
Giáº£i thÃ­ch chi tiáº¿t vá»: git pull

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "git pull" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: git pull

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   Lá»‡nh "git pull" dÃ¹ng Ä‘á»ƒ **táº£i cÃ¡c thay Ä‘á»•i tá»« remote repository vá» branch hiá»‡n táº¡i vÃ  tá»± Ä‘á»™ng merge vÃ o branch cá»¥c bá»™**. NÃ³ lÃ  sá»± káº¿t há»£p cá»§a hai lá»‡nh: `git fetch` vÃ  `git merge`.

2. Khi nÃ o dÃ¹ng

* Khi muá»‘n cáº­p nháº­t branch cá»¥c bá»™ vá»›i cÃ¡c commit má»›i tá»« remote.
* TrÆ°á»›c khi báº¯t Ä‘áº§u lÃ m viá»‡c Ä‘á»ƒ Ä‘áº£m báº£o code cá»¥c bá»™ lÃ  má»›i nháº¥t.
* Khi Ä‘á»“ng bá»™ vá»›i Ä‘á»“ng nghiá»‡p lÃ m viá»‡c trÃªn cÃ¹ng branch.

3. CÃ¡ch hoáº¡t Ä‘á»™ng

* Git káº¿t ná»‘i vá»›i remote (máº·c Ä‘á»‹nh lÃ  origin) Ä‘á»ƒ láº¥y cÃ¡c commit má»›i.
* Tá»± Ä‘á»™ng merge commit má»›i vÃ o branch cá»¥c bá»™ hiá»‡n táº¡i.
* Náº¿u cÃ³ xung Ä‘á»™t merge, Git yÃªu cáº§u báº¡n giáº£i quyáº¿t thá»§ cÃ´ng.

4. CÃº phÃ¡p cÆ¡ báº£n vÃ  Ã½ nghÄ©a

* git pull : táº£i vÃ  merge tá»« remote máº·c Ä‘á»‹nh cá»§a branch hiá»‡n táº¡i.
* git pull <remote> <branch> : chá»‰ Ä‘á»‹nh remote vÃ  branch muá»‘n pull.
* git pull --rebase : thay vÃ¬ merge, Git sáº½ rebase commit cá»¥c bá»™ lÃªn commit má»›i tá»« remote.

5. VÃ­ dá»¥ thá»±c táº¿ (terminal)
   VÃ­ dá»¥ 1: Pull tá»« remote máº·c Ä‘á»‹nh (origin) trÃªn branch main
   $ git pull
   remote: Enumerating objects: 5, done.
   remote: Counting objects: 100% (5/5), done.
   remote: Compressing objects: 100% (3/3), done.
   Unpacking objects: 100% (5/5), done.
   From [https://github.com/ngoctuanqng/gitpractice.git](https://github.com/ngoctuanqng/gitpractice.git)
   a1b2c3d..e4f5g6h  main       -> origin/main
   Updating a1b2c3d..e4f5g6h
   Fast-forward
   satural.py | 2 ++
   1 file changed, 2 insertions(+)

VÃ­ dá»¥ 2: Pull tá»« remote vÃ  branch cá»¥ thá»ƒ
$ git pull origin develop

VÃ­ dá»¥ 3: Pull vá»›i rebase Ä‘á»ƒ giá»¯ lá»‹ch sá»­ commit tháº³ng hÃ ng
$ git pull --rebase origin main

6. CÃ¡c lÆ°u Ã½ quan trá»ng

* Náº¿u branch cá»¥c bá»™ cÃ³ commit chÆ°a push, git pull cÃ³ thá»ƒ táº¡o merge commit.
* Sá»­ dá»¥ng --rebase Ä‘á»ƒ trÃ¡nh merge commit khÃ´ng cáº§n thiáº¿t.
* Náº¿u xung Ä‘á»™t, Git yÃªu cáº§u giáº£i quyáº¿t xung Ä‘á»™t, sau Ä‘Ã³ commit hoáº·c rebase --continue.
* Git pull áº£nh hÆ°á»Ÿng trá»±c tiáº¿p Ä‘áº¿n branch hiá»‡n táº¡i.

7. Thao tÃ¡c liÃªn quan

* Kiá»ƒm tra remote:
  $ git remote -v
* Xem tráº¡ng thÃ¡i trÆ°á»›c pull:
  $ git status
* Pull cÃ¡c thay Ä‘á»•i nhÆ°ng khÃ´ng merge ngay:
  $ git fetch
* Xem commit má»›i trÆ°á»›c khi merge:
  $ git log ..origin/main

8. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
   Q: TÃ´i muá»‘n pull nhÆ°ng khÃ´ng muá»‘n merge ngay. LÃ m sao?
   A: DÃ¹ng git fetch Ä‘á»ƒ táº£i commit má»›i, sau Ä‘Ã³ merge hoáº·c rebase thá»§ cÃ´ng.

Q: TÃ´i nháº­n lá»—i conflict khi pull. Pháº£i lÃ m sao?
A: Git bÃ¡o xung Ä‘á»™t, báº¡n cáº§n sá»­a cÃ¡c file xung Ä‘á»™t, sau Ä‘Ã³:
$ git add <file>
$ git commit  (hoáº·c git rebase --continue náº¿u dÃ¹ng rebase)

Q: Pull cÃ³ xÃ³a branch cá»¥c bá»™ khÃ´ng?
A: KhÃ´ng, git pull chá»‰ cáº­p nháº­t branch hiá»‡n táº¡i.

9. TÃ³m táº¯t nhanh

* Lá»‡nh: git pull
* TÃ¡c dá»¥ng: táº£i vÃ  merge commit tá»« remote vá» branch cá»¥c bá»™.
* Option há»¯u Ã­ch: <remote> <branch>, --rebase
* LÆ°u Ã½: cÃ³ thá»ƒ xáº£y ra xung Ä‘á»™t, áº£nh hÆ°á»Ÿng trá»±c tiáº¿p Ä‘áº¿n branch hiá»‡n táº¡i.

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: git branch -c sprintl
		
Giáº£i thÃ­ch chi tiáº¿t vá»: git branch -c sprintl

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "git branch -c sprintl" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: git branch -c sprintl

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   Lá»‡nh "git branch -c sprintl" dÃ¹ng Ä‘á»ƒ **Ä‘á»•i tÃªn branch hiá»‡n táº¡i sang 'sprintl'**. ÄÃ¢y lÃ  cÃº phÃ¡p tÆ°Æ¡ng tá»± nhÆ° `git branch --move sprintl`.

2. Khi nÃ o dÃ¹ng

* Khi báº¡n muá»‘n Ä‘áº·t tÃªn má»›i cho branch hiá»‡n táº¡i.
* Khi branch hiá»‡n táº¡i cÃ³ tÃªn khÃ´ng rÃµ rÃ ng hoáº·c cáº§n tuÃ¢n theo quy Æ°á»›c Ä‘áº·t tÃªn.
* Khi cáº§n chuáº©n hÃ³a tÃªn branch trÆ°á»›c khi push lÃªn remote.

3. CÃ¡ch hoáº¡t Ä‘á»™ng

* Git xÃ¡c nháº­n báº¡n Ä‘ang á»Ÿ branch nÃ o.
* Git thay Ä‘á»•i tÃªn branch hiá»‡n táº¡i sang 'sprintl'.
* Náº¿u branch má»›i Ä‘Ã£ tá»“n táº¡i, Git sáº½ bÃ¡o lá»—i trá»« khi báº¡n dÃ¹ng tÃ¹y chá»n force.

4. CÃº phÃ¡p cÆ¡ báº£n vÃ  Ã½ nghÄ©a

* git branch -c <new-branch-name> : Ä‘á»•i tÃªn branch hiá»‡n táº¡i sang tÃªn má»›i.
* git branch --move <new-branch-name> : tÆ°Æ¡ng tá»± -c, Ä‘á»•i tÃªn branch.
* git branch -m <old> <new> : Ä‘á»•i tÃªn branch cÅ© sang branch má»›i (khi khÃ´ng á»Ÿ branch Ä‘Ã³).

5. VÃ­ dá»¥ thá»±c táº¿ (terminal)
   VÃ­ dá»¥ 1: Äá»•i tÃªn branch hiá»‡n táº¡i
   $ git branch

* main
  develop

$ git branch -c sprintl
$ git branch

* sprintl
  develop

VÃ­ dá»¥ 2: Äá»•i tÃªn branch khÃ¡c khÃ´ng pháº£i branch hiá»‡n táº¡i
$ git branch -m develop feature/develop
$ git branch
sprintl

* feature/develop

6. CÃ¡c lÆ°u Ã½ quan trá»ng

* Khi Ä‘á»•i tÃªn branch Ä‘Ã£ push lÃªn remote, remote váº«n giá»¯ tÃªn cÅ©. Cáº§n push branch má»›i vÃ  xÃ³a branch cÅ© trÃªn remote:
  $ git push origin sprintl
  $ git push origin --delete main
* Äáº£m báº£o khÃ´ng trÃ¹ng tÃªn branch Ä‘Ã£ tá»“n táº¡i.
* KhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n commit hoáº·c lá»‹ch sá»­, chá»‰ thay Ä‘á»•i tÃªn branch.
* Náº¿u Ä‘ang trÃªn branch hiá»‡n táº¡i, -c hoáº·c -m Ä‘á»u Ä‘Æ°á»£c sá»­ dá»¥ng.

7. Thao tÃ¡c liÃªn quan

* Xem branch hiá»‡n táº¡i:
  $ git branch
* XÃ³a branch cÅ© trÃªn remote:
  $ git push origin --delete <old-branch>
* Push branch má»›i lÃªn remote:
  $ git push origin <new-branch>
* Thiáº¿t láº­p upstream branch cho branch má»›i:
  $ git push -u origin sprintl

8. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
   Q: TÃ´i Ä‘á»•i tÃªn branch rá»“i nhÆ°ng remote váº«n cÃ²n tÃªn cÅ©. LÃ m sao?
   A: Push branch má»›i vÃ  xÃ³a branch cÅ© trÃªn remote, sau Ä‘Ã³ cáº­p nháº­t upstream.

Q: TÃ´i cÃ³ thá»ƒ Ä‘á»•i tÃªn branch mÃ  khÃ´ng checkout vÃ o branch Ä‘Ã³ khÃ´ng?
A: CÃ³, dÃ¹ng git branch -m <old> <new> Ä‘á»ƒ Ä‘á»•i tÃªn branch khÃ´ng pháº£i branch hiá»‡n táº¡i.

Q: Äá»•i tÃªn branch cÃ³ máº¥t commit khÃ´ng?
A: KhÃ´ng, lá»‹ch sá»­ commit váº«n nguyÃªn váº¹n.

9. TÃ³m táº¯t nhanh

* Lá»‡nh: git branch -c sprintl
* TÃ¡c dá»¥ng: Ä‘á»•i tÃªn branch hiá»‡n táº¡i sang sprintl.
* LÆ°u Ã½: remote giá»¯ tÃªn cÅ©, cáº§n push branch má»›i vÃ  xÃ³a branch cÅ© náº¿u muá»‘n Ä‘á»“ng bá»™.
* KhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n commit hay lá»‹ch sá»­.

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: git branch -a
		
Giáº£i thÃ­ch chi tiáº¿t vá»: git branch -a

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "git branch -a" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: git branch -a

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   Lá»‡nh "git branch -a" dÃ¹ng Ä‘á»ƒ **liá»‡t kÃª táº¥t cáº£ cÃ¡c branch trong repository**, bao gá»“m cáº£ branch cá»¥c bá»™ (local) vÃ  branch trÃªn remote (remote-tracking branches).

2. Khi nÃ o dÃ¹ng

* Khi muá»‘n kiá»ƒm tra táº¥t cáº£ branch hiá»‡n cÃ³ trong repo.
* Khi muá»‘n biáº¿t branch remote Ä‘á»ƒ checkout hoáº·c Ä‘á»“ng bá»™.
* Khi muá»‘n quáº£n lÃ½ branch cá»¥c bá»™ vÃ  remote.

3. CÃ¡ch hoáº¡t Ä‘á»™ng

* Git liá»‡t kÃª branch cá»¥c bá»™ báº±ng cÃ¡ch hiá»ƒn thá»‹ tÃªn branch hiá»‡n táº¡i vá»›i dáº¥u '*'.
* Git liá»‡t kÃª branch remote vá»›i tiá»n tá»‘ `remotes/<remote-name>/`.
* ThÃ´ng tin nÃ y giÃºp xÃ¡c Ä‘á»‹nh branch nÃ o cÃ³ sáºµn Ä‘á»ƒ checkout hoáº·c merge.

4. CÃº phÃ¡p cÆ¡ báº£n vÃ  Ã½ nghÄ©a

* git branch : liá»‡t kÃª branch cá»¥c bá»™.
* git branch -a : liá»‡t kÃª táº¥t cáº£ branch, cáº£ cá»¥c bá»™ vÃ  remote.
* git branch -r : liá»‡t kÃª branch remote.
* git branch -v : hiá»ƒn thá»‹ commit cuá»‘i cÃ¹ng cá»§a má»—i branch.

5. VÃ­ dá»¥ thá»±c táº¿ (terminal)
   VÃ­ dá»¥ 1: Liá»‡t kÃª táº¥t cáº£ branch
   $ git branch -a

* main
  develop
  feature/login
  remotes/origin/main
  remotes/origin/develop
  remotes/origin/feature/login

VÃ­ dá»¥ 2: Liá»‡t kÃª branch remote
$ git branch -r
origin/main
origin/develop
origin/feature/login

6. CÃ¡c lÆ°u Ã½ quan trá»ng

* Dáº¥u '*' chá»‰ branch hiá»‡n táº¡i.
* TÃªn branch remote cÃ³ tiá»n tá»‘ remotes/<remote-name>/.
* Git branch -a khÃ´ng thay Ä‘á»•i tráº¡ng thÃ¡i repository, chá»‰ hiá»ƒn thá»‹ thÃ´ng tin.
* DÃ¹ng thÃ´ng tin branch remote Ä‘á»ƒ checkout branch má»›i:
  $ git checkout -b <branch-local> <remote>/<branch-remote>

7. Thao tÃ¡c liÃªn quan

* Checkout branch remote vá» cá»¥c bá»™:
  $ git checkout -b develop origin/develop
* XÃ³a branch cá»¥c bá»™:
  $ git branch -d feature/login
* XÃ³a branch remote:
  $ git push origin --delete feature/login

8. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
   Q: Táº¡i sao tÃ´i tháº¥y branch remote mÃ  khÃ´ng checkout Ä‘Æ°á»£c?
   A: VÃ¬ branch remote chá»‰ lÃ  tham chiáº¿u, cáº§n checkout vá» branch cá»¥c bá»™ trÆ°á»›c.

Q: TÃ´i muá»‘n chá»‰ liá»‡t kÃª branch cá»¥c bá»™ cÃ³ Ä‘Æ°á»£c khÃ´ng?
A: DÃ¹ng git branch.

Q: TÃ´i muá»‘n xem commit cuá»‘i cÃ¹ng cá»§a má»—i branch?
A: DÃ¹ng git branch -v hoáº·c git branch -av.

9. TÃ³m táº¯t nhanh

* Lá»‡nh: git branch -a
* TÃ¡c dá»¥ng: liá»‡t kÃª táº¥t cáº£ branch, bao gá»“m cá»¥c bá»™ vÃ  remote.
* LÆ°u Ã½: dáº¥u '*' lÃ  branch hiá»‡n táº¡i, branch remote cÃ³ tiá»n tá»‘ remotes/<remote>/.
* KhÃ´ng thay Ä‘á»•i tráº¡ng thÃ¡i repo, chá»‰ hiá»ƒn thá»‹ thÃ´ng tin.

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: git checkout sprintl
		
Giáº£i thÃ­ch chi tiáº¿t vá»: git checkout sprintl

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "git checkout sprintl" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: git checkout sprintl

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   Lá»‡nh "git checkout sprintl" dÃ¹ng Ä‘á»ƒ **chuyá»ƒn sang branch cÃ³ tÃªn 'sprintl'** trong repository Git. Náº¿u branch chÆ°a tá»“n táº¡i cá»¥c bá»™ nhÆ°ng cÃ³ trÃªn remote, cÃ³ thá»ƒ cáº§n káº¿t há»£p vá»›i -b Ä‘á»ƒ táº¡o branch cá»¥c bá»™ tá»« remote.

2. Khi nÃ o dÃ¹ng

* Khi muá»‘n lÃ m viá»‡c trÃªn branch sprintl.
* Khi cáº§n kiá»ƒm tra hoáº·c chá»‰nh sá»­a code trÃªn branch khÃ¡c.
* Khi muá»‘n Ä‘á»“ng bá»™ cÃ´ng viá»‡c vá»›i branch sprintl trÆ°á»›c khi commit hoáº·c push.

3. CÃ¡ch hoáº¡t Ä‘á»™ng

* Git cáº­p nháº­t HEAD Ä‘á»ƒ trá» vÃ o branch sprintl.
* Ná»™i dung thÆ° má»¥c lÃ m viá»‡c Ä‘Æ°á»£c thay Ä‘á»•i Ä‘á»ƒ pháº£n Ã¡nh commit cuá»‘i cÃ¹ng cá»§a branch sprintl.
* Náº¿u cÃ³ thay Ä‘á»•i chÆ°a commit trÃªn branch hiá»‡n táº¡i, Git cÃ³ thá»ƒ yÃªu cáº§u stash hoáº·c commit trÆ°á»›c khi chuyá»ƒn.

4. CÃº phÃ¡p cÆ¡ báº£n vÃ  Ã½ nghÄ©a

* git checkout <branch> : chuyá»ƒn sang branch cá»¥c bá»™ Ä‘Ã£ tá»“n táº¡i.
* git checkout -b <new-branch> : táº¡o branch má»›i vÃ  chuyá»ƒn sang branch Ä‘Ã³.
* git checkout -t <remote>/<branch> : táº¡o branch cá»¥c bá»™ theo dÃµi branch remote.

5. VÃ­ dá»¥ thá»±c táº¿ (terminal)
   VÃ­ dá»¥ 1: Chuyá»ƒn sang branch cá»¥c bá»™
   $ git branch

* main
  develop
  sprintl

$ git checkout sprintl
Switched to branch 'sprintl'
$ git branch
main
develop

* sprintl

VÃ­ dá»¥ 2: Checkout branch remote vá» cá»¥c bá»™
$ git checkout -b sprintl origin/sprintl
Branch 'sprintl' set up to track remote branch 'sprintl' from 'origin'.
Switched to a new branch 'sprintl'

6. CÃ¡c lÆ°u Ã½ quan trá»ng

* Náº¿u cÃ³ thay Ä‘á»•i chÆ°a commit trÃªn branch hiá»‡n táº¡i, Git cÃ³ thá»ƒ bÃ¡o lá»—i vÃ  yÃªu cáº§u stash hoáº·c commit.
* Chuyá»ƒn branch sáº½ cáº­p nháº­t thÆ° má»¥c lÃ m viá»‡c theo commit cuá»‘i cÃ¹ng cá»§a branch Ä‘Ã³.
* HEAD luÃ´n trá» tá»›i branch hiá»‡n táº¡i sau khi checkout.
* Äá»‘i vá»›i branch remote, cáº§n táº¡o branch cá»¥c bá»™ theo dÃµi náº¿u muá»‘n lÃ m viá»‡c vÃ  push.

7. Thao tÃ¡c liÃªn quan

* Xem branch hiá»‡n táº¡i:
  $ git branch
* Táº¡o branch má»›i vÃ  chuyá»ƒn sang branch Ä‘Ã³:
  $ git checkout -b feature/login
* Chuyá»ƒn branch vÃ  tá»± Ä‘á»™ng track remote:
  $ git checkout -t origin/feature/login
* Stash thay Ä‘á»•i trÆ°á»›c khi checkout:
  $ git stash
  $ git checkout sprintl
  $ git stash pop

8. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
   Q: TÃ´i nháº­n lá»—i khi checkout do thay Ä‘á»•i chÆ°a commit. LÃ m sao?
   A: DÃ¹ng git stash Ä‘á»ƒ lÆ°u táº¡m thay Ä‘á»•i, sau Ä‘Ã³ checkout.

Q: TÃ´i muá»‘n checkout branch remote chÆ°a cÃ³ cá»¥c bá»™. LÃ m sao?
A: DÃ¹ng git checkout -b <branch> <remote>/<branch>

Q: Checkout cÃ³ xÃ³a commit hoáº·c thay Ä‘á»•i khÃ´ng?
A: KhÃ´ng, chá»‰ thay Ä‘á»•i HEAD vÃ  thÆ° má»¥c lÃ m viá»‡c. Commit Ä‘Ã£ commit váº«n nguyÃªn.

9. TÃ³m táº¯t nhanh

* Lá»‡nh: git checkout sprintl
* TÃ¡c dá»¥ng: chuyá»ƒn sang branch sprintl.
* LÆ°u Ã½: cáº§n commit hoáº·c stash cÃ¡c thay Ä‘á»•i chÆ°a commit trÆ°á»›c khi checkout.
* Náº¿u branch chá»‰ cÃ³ trÃªn remote, cáº§n táº¡o branch cá»¥c bá»™ theo dÃµi.

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: git rm saturn6.py saturn7.py saturn8.py
		
Giáº£i thÃ­ch chi tiáº¿t vá»: git rm saturn6.py saturn7.py saturn8.py

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "git rm saturn6.py saturn7.py saturn8.py" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: git rm saturn6.py saturn7.py saturn8.py

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   Lá»‡nh "git rm" dÃ¹ng Ä‘á»ƒ **xÃ³a cÃ¡c file khá»i cáº£ thÆ° má»¥c lÃ m viá»‡c vÃ  staging area trong Git**. Khi báº¡n cháº¡y `git rm saturn6.py saturn7.py saturn8.py`, Git sáº½ xÃ³a cÃ¡c file nÃ y vÃ  chuáº©n bá»‹ Ä‘á»ƒ commit sá»± xÃ³a Ä‘Ã³.

2. Khi nÃ o dÃ¹ng

* Khi muá»‘n xÃ³a file khá»i dá»± Ã¡n vÃ  tá»« repository Git.
* Khi muá»‘n loáº¡i bá» file khÃ´ng cáº§n thiáº¿t vÃ  muá»‘n ghi nháº­n xÃ³a trong commit.
* Khi chuáº©n bá»‹ dá»n dáº¹p cÃ¡c file Ä‘Ã£ bá»‹ thay tháº¿ hoáº·c lá»—i thá»i.

3. CÃ¡ch hoáº¡t Ä‘á»™ng

* Git xÃ³a file khá»i thÆ° má»¥c lÃ m viá»‡c.
* Git cÅ©ng xÃ³a file khá»i staging area, nghÄ©a lÃ  láº§n commit tiáº¿p theo sáº½ ghi nháº­n sá»± xÃ³a nÃ y.
* Náº¿u muá»‘n giá»¯ file trong thÆ° má»¥c lÃ m viá»‡c nhÆ°ng váº«n xÃ³a khá»i Git, cáº§n dÃ¹ng `git rm --cached`.

4. CÃº phÃ¡p cÆ¡ báº£n vÃ  Ã½ nghÄ©a

* git rm <file1> <file2> ... : xÃ³a file khá»i Git vÃ  thÆ° má»¥c lÃ m viá»‡c.
* git rm --cached <file> : xÃ³a file khá»i Git nhÆ°ng giá»¯ trong thÆ° má»¥c lÃ m viá»‡c.
* git rm -f <file> : buá»™c xÃ³a file Ä‘ang cÃ³ thay Ä‘á»•i chÆ°a commit.

5. VÃ­ dá»¥ thá»±c táº¿ (terminal)
   VÃ­ dá»¥ 1: XÃ³a nhiá»u file
   $ git rm saturn6.py saturn7.py saturn8.py
   rm 'saturn6.py'
   rm 'saturn7.py'
   rm 'saturn8.py'

$ git status
Changes to be committed:
(use "git restore --staged <file>..." to unstage)

deleted:    saturn6.py
deleted:    saturn7.py
deleted:    saturn8.py

VÃ­ dá»¥ 2: XÃ³a file khá»i Git nhÆ°ng giá»¯ trong thÆ° má»¥c lÃ m viá»‡c
$ git rm --cached saturn6.py

6. CÃ¡c lÆ°u Ã½ quan trá»ng

* Sau khi xÃ³a file, cáº§n commit Ä‘á»ƒ lÆ°u thay Ä‘á»•i:
  $ git commit -m "Remove saturn6.py, saturn7.py, saturn8.py"
* Náº¿u file Ä‘ang cÃ³ thay Ä‘á»•i chÆ°a commit, Git sáº½ bÃ¡o lá»—i trá»« khi dÃ¹ng -f.
* KhÃ´ng thá»ƒ undo xÃ³a file Ä‘Ã£ commit náº¿u khÃ´ng cÃ³ backup hoáº·c lá»‹ch sá»­ Git.
* XÃ³a file sáº½ áº£nh hÆ°á»Ÿng cáº£ branch hiá»‡n táº¡i.

7. Thao tÃ¡c liÃªn quan

* Kiá»ƒm tra tráº¡ng thÃ¡i file trÆ°á»›c khi xÃ³a:
  $ git status
* KhÃ´i phá»¥c file Ä‘Ã£ xÃ³a trÆ°á»›c khi commit:
  $ git restore <file>
* KhÃ´i phá»¥c file Ä‘Ã£ xÃ³a sau khi commit:
  $ git checkout HEAD <file>

8. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
   Q: TÃ´i chá»‰ muá»‘n xÃ³a file khá»i Git nhÆ°ng giá»¯ file trong thÆ° má»¥c lÃ m viá»‡c. LÃ m sao?
   A: DÃ¹ng git rm --cached <file>

Q: TÃ´i nháº­n lá»—i file Ä‘Ã£ thay Ä‘á»•i khi xÃ³a. LÃ m sao?
A: DÃ¹ng git rm -f <file> hoáº·c commit/stash trÆ°á»›c khi xÃ³a.

Q: LÃ m sao khÃ´i phá»¥c file Ä‘Ã£ xÃ³a náº¿u commit Ä‘Ã£ thá»±c hiá»‡n?
A: git checkout HEAD <file>

9. TÃ³m táº¯t nhanh

* Lá»‡nh: git rm saturn6.py saturn7.py saturn8.py
* TÃ¡c dá»¥ng: xÃ³a cÃ¡c file khá»i Git vÃ  thÆ° má»¥c lÃ m viá»‡c.
* Option há»¯u Ã­ch: --cached, -f
* Sau khi xÃ³a cáº§n commit Ä‘á»ƒ ghi nháº­n sá»± thay Ä‘á»•i.

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: git mv saturn1.py saturn11.py
		
Giáº£i thÃ­ch chi tiáº¿t vá»: git mv saturn1.py saturn11.py

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "git mv saturn1.py saturn11.py" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: git mv saturn1.py saturn11.py

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   Lá»‡nh "git mv saturn1.py saturn11.py" dÃ¹ng Ä‘á»ƒ **Ä‘á»•i tÃªn (move) file saturn1.py thÃ nh saturn11.py** trong repository Git, Ä‘á»“ng thá»i cáº­p nháº­t thay Ä‘á»•i nÃ y vÃ o staging area Ä‘á»ƒ chuáº©n bá»‹ commit. ÄÃ¢y lÃ  cÃ¡ch Git káº¿t há»£p thao tÃ¡c há»‡ thá»‘ng tá»‡p (rename) vÃ  thao tÃ¡c theo dÃµi (stage) trong má»™t bÆ°á»›c duy nháº¥t.

2. Khi nÃ o dÃ¹ng

* Khi báº¡n muá»‘n Ä‘á»•i tÃªn file trong dá»± Ã¡n vÃ  muá»‘n Git theo dÃµi viá»‡c Ä‘á»•i tÃªn nÃ y.
* Khi muá»‘n di chuyá»ƒn file sang thÆ° má»¥c khÃ¡c (vÃ­ dá»¥ git mv file dir/).
* Khi muá»‘n giá»¯ lá»‹ch sá»­ thay Ä‘á»•i liÃªn káº¿t vá»›i file sau khi Ä‘á»•i tÃªn.

3. CÃ¡ch hoáº¡t Ä‘á»™ng (má»™t cÃ¡ch Ä‘Æ¡n giáº£n)

* git mv thá»±c hiá»‡n ba bÆ°á»›c ná»™i bá»™: xÃ³a file cÅ© khá»i working directory, táº¡o file má»›i vá»›i tÃªn má»›i, vÃ  stage cáº£ xÃ³a láº«n thÃªm Ä‘Ã³ vÃ o index (staging area).
* Khi commit, Git sáº½ ghi nháº­n hÃ nh Ä‘á»™ng rename báº±ng cÃ¡ch lÆ°u diff: xÃ³a saturn1.py vÃ  thÃªm saturn11.py; Git thÆ°á»ng phÃ¡t hiá»‡n Ä‘Ã³ lÃ  rename khi tÃ­nh toÃ¡n diff dá»±a trÃªn ná»™i dung.

4. CÃº phÃ¡p cÆ¡ báº£n vÃ  Ã½ nghÄ©a

* git mv <old> <new> : Ä‘á»•i tÃªn hoáº·c di chuyá»ƒn file/dir.
* git mv <file> <dir/> : di chuyá»ƒn file vÃ o thÆ° má»¥c dir.
* git mv -k <file> <new> : tiáº¿p tá»¥c náº¿u cÃ³ lá»—i (tÃ¹y phiÃªn báº£n Git há»— trá»£).

5. VÃ­ dá»¥ thá»±c táº¿ (terminal)
   VÃ­ dá»¥ 1: Äá»•i tÃªn file
   $ ls
   saturn1.py  saturn2.py
   $ git mv saturn1.py saturn11.py
   $ ls
   saturn11.py  saturn2.py
   $ git status
   Changes to be committed:
   (use "git restore --staged <file>..." to unstage)
   renamed:    saturn1.py -> saturn11.py

VÃ­ dá»¥ 2: Di chuyá»ƒn file vÃ o thÆ° má»¥c má»›i
$ mkdir -p src
$ git mv saturn11.py src/
$ git status
Changes to be committed:
renamed:    saturn11.py -> src/saturn11.py

6. LÆ°u Ã½ vá» lá»‹ch sá»­ (history)

* Git khÃ´ng lÆ°u "rename" nhÆ° má»™t Ä‘á»‘i tÆ°á»£ng riÃªng; nÃ³ lÆ°u xÃ³a vÃ  thÃªm. Khi hiá»ƒn thá»‹ diff, Git cá»‘ gáº¯ng phÃ¡t hiá»‡n rename dá»±a trÃªn ngÆ°á»¡ng giá»‘ng nhau giá»¯a ná»™i dung file cÅ© vÃ  má»›i.
* Äá»ƒ Git dá»… nháº­n diá»‡n rename trong log/diff, trÃ¡nh thay Ä‘á»•i lá»›n ná»™i dung file cÃ¹ng lÃºc vá»›i rename.

7. TrÆ°á»ng há»£p file Ä‘Ã£ tá»“n táº¡i vá»›i tÃªn má»›i

* Náº¿u saturn11.py Ä‘Ã£ tá»“n táº¡i, git mv sáº½ ghi Ä‘Ã¨ file má»›i báº±ng giÃ¡ trá»‹ tá»« saturn1.py (tÃ¹y quyá»n há»‡ thá»‘ng tá»‡p) â€” Git cÃ³ thá»ƒ bÃ¡o lá»—i náº¿u tá»“n táº¡i xung Ä‘á»™t. Kiá»ƒm tra trÆ°á»›c báº±ng ls hoáº·c git status.

8. Khi khÃ´ng dÃ¹ng git mv (thá»±c hiá»‡n báº±ng tay)

* Báº¡n cÃ³ thá»ƒ Ä‘á»•i tÃªn báº±ng lá»‡nh há»‡ thá»‘ng: mv saturn1.py saturn11.py
  Sau Ä‘Ã³ stage thay Ä‘á»•i:
  $ git add saturn11.py
  $ git rm saturn1.py
* git mv Ä‘Æ¡n giáº£n hÃ³a thao tÃ¡c nÃ y trong má»™t lá»‡nh vÃ  Ä‘áº£m báº£o staging Ä‘Ãºng cÃ¡ch.

9. KhÃ´i phá»¥c náº¿u Ä‘á»•i tÃªn nháº§m

* Náº¿u Ä‘Ã£ git mv nhÆ°ng chÆ°a commit vÃ  muá»‘n há»§y staging:
  $ git restore --staged saturn11.py
  $ git restore --source=HEAD --saturn11.py  (hoáº·c git checkout -- saturn1.py Ä‘á»ƒ khÃ´i phá»¥c file cÅ©)
* Náº¿u Ä‘Ã£ commit, cÃ³ thá»ƒ Ä‘á»•i tÃªn láº¡i hoáº·c dÃ¹ng git revert/rehistory tÃ¹y tÃ¬nh huá»‘ng.

10. TÆ°Æ¡ng tÃ¡c vá»›i remote

* Sau khi git mv vÃ  git commit -m "Rename saturn1.py to saturn11.py", push thay Ä‘á»•i lÃªn remote:
  $ git push origin main
* Remote sáº½ nháº­n commit cÃ³ thay Ä‘á»•i xÃ³a vÃ  thÃªm; trÃªn dá»‹ch vá»¥ nhÆ° GitHub, diff thÆ°á»ng hiá»ƒn thá»‹ rename náº¿u ná»™i dung Ä‘á»§ giá»‘ng.

11. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
    Q: Git cÃ³ giá»¯ lá»‹ch sá»­ khi Ä‘á»•i tÃªn file khÃ´ng?
    A: CÃ³ â€” lá»‹ch sá»­ váº«n tá»“n táº¡i trong commit cÅ©; Git thÆ°á»ng phÃ¡t hiá»‡n rename khi so sÃ¡nh ná»™i dung. Tuy nhiÃªn, Git khÃ´ng lÆ°u rename nhÆ° Ä‘á»‘i tÆ°á»£ng riÃªng, nÃªn viá»‡c detect phá»¥ thuá»™c vÃ o ná»™i dung.

Q: TÃ´i cÃ³ thá»ƒ Ä‘á»•i tÃªn nhiá»u file cÃ¹ng lÃºc khÃ´ng?
A: CÃ³, dÃ¹ng git mv file1 file2 ... hoáº·c láº·p qua nhiá»u lá»‡nh git mv.

Q: TÃ´i Ä‘Ã£ Ä‘á»•i tÃªn báº±ng mv mÃ  khÃ´ng dÃ¹ng git mv. CÃ³ sao khÃ´ng?
A: KhÃ´ng sao, nhÆ°ng báº¡n cáº§n stage thay Ä‘á»•i báº±ng git add <new> vÃ  git rm <old> Ä‘á»ƒ Git theo dÃµi.

12. TÃ³m táº¯t nhanh

* Lá»‡nh: git mv saturn1.py saturn11.py
* TÃ¡c dá»¥ng: Ä‘á»•i tÃªn file saturn1.py thÃ nh saturn11.py vÃ  stage thay Ä‘á»•i.
* Sau lá»‡nh: cháº¡y git commit -m "Rename saturn1.py to saturn11.py" Ä‘á»ƒ lÆ°u lá»‹ch sá»­.
* LÆ°u Ã½: kiá»ƒm tra tá»“n táº¡i file má»›i, vÃ  push Ä‘á»ƒ Ä‘á»“ng bá»™ remote náº¿u cáº§n.

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: touch jupiter{1..4}.rb
		
Giáº£i thÃ­ch chi tiáº¿t vá»: touch jupiter{1..4}.rb

Má»¤C TIÃŠU

* Giáº£i thÃ­ch lá»‡nh "touch jupiter{1..4}.rb" má»™t cÃ¡ch chi tiáº¿t, rÃµ rÃ ng vÃ  dá»… sao chÃ©p vÃ o tá»‡p .txt.
* Äá»‹nh dáº¡ng: plain text (khÃ´ng dÃ¹ng kÃ½ hiá»‡u markdown) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ bÃ´i chá»n vÃ  sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TIÃŠU Äá»€: touch jupiter{1..4}.rb

1. Äá»‹nh nghÄ©a ngáº¯n gá»n
   Lá»‡nh "touch jupiter{1..4}.rb" sá»­ dá»¥ng tÃ­nh nÄƒng "brace expansion" cá»§a shell Ä‘á»ƒ táº¡o (hoáº·c chá»‰ cáº­p nháº­t timestamp) 4 file cÃ³ tÃªn jupiter1.rb, jupiter2.rb, jupiter3.rb, jupiter4.rb trong thÆ° má»¥c hiá»‡n táº¡i. Náº¿u file chÆ°a tá»“n táº¡i, touch sáº½ táº¡o file rá»—ng; náº¿u file Ä‘Ã£ tá»“n táº¡i, touch chá»‰ cáº­p nháº­t thá»i gian truy cáº­p/sá»­a Ä‘á»•i (access/modify timestamps).

2. Khi nÃ o dÃ¹ng

* Khi báº¡n muá»‘n nhanh chÃ³ng táº¡o nhiá»u file rá»—ng vá»›i tÃªn tuáº§n tá»± (vÃ­ dá»¥ táº¡o nhiá»u file Ruby Ä‘á»ƒ báº¯t Ä‘áº§u phÃ¡t triá»ƒn hoáº·c test).
* Khi muá»‘n cáº­p nháº­t timestamp cá»§a nhiá»u file cÃ¹ng lÃºc.

3. Giáº£i thÃ­ch tá»«ng pháº§n

* touch: lá»‡nh Unix Ä‘á»ƒ táº¡o file rá»—ng hoáº·c cáº­p nháº­t timestamps cá»§a file.
* jupiter{1..4}.rb: pháº§n trong dáº¥u ngoáº·c nhá»n lÃ  "brace expansion". Shell má»Ÿ rá»™ng biá»ƒu thá»©c thÃ nh jupiter1.rb jupiter2.rb jupiter3.rb jupiter4.rb trÆ°á»›c khi gá»i touch.
* ToÃ n bá»™ lá»‡nh Ä‘Æ°á»£c thá»±c hiá»‡n sau khi shell Ä‘Ã£ má»Ÿ rá»™ng danh sÃ¡ch file.

4. CÃº phÃ¡p cÆ¡ báº£n vÃ  vÃ­ dá»¥

* GÃµ trong terminal:
  $ touch jupiter{1..4}.rb
* Káº¿t quáº£: táº¡o hoáº·c cáº­p nháº­t cÃ¡c file:
  jupiter1.rb
  jupiter2.rb
  jupiter3.rb
  jupiter4.rb
* Kiá»ƒm tra:
  $ ls -1v jupiter*.rb
  jupiter1.rb
  jupiter2.rb
  jupiter3.rb
  jupiter4.rb
  (ls -v sáº¯p xáº¿p theo cÃ¡ch tá»± nhiÃªn Ä‘á»ƒ jupiter10 khÃ´ng chen giá»¯a jupiter1 vÃ  jupiter2 náº¿u cÃ³)

5. Biáº¿n thá»ƒ há»¯u Ã­ch

* Zero-padding (náº¿u muá»‘n sá»‘ cÃ³ Ä‘á»™ dÃ i cá»‘ Ä‘á»‹nh):
  $ touch jupiter{01..04}.rb   -> jupiter01.rb ... jupiter04.rb
* Thay Ä‘á»•i khoáº£ng giÃ¡ trá»‹:
  $ touch jupiter{3..6}.rb    -> jupiter3.rb ... jupiter6.rb
* BÆ°á»›c nháº£y (nhiá»u shell há»— trá»£):
  $ touch jupiter{1..4..2}.rb  -> jupiter1.rb jupiter3.rb  (tÃ¹y shell)
* Káº¿t há»£p tÃªn khÃ¡c nhau:
  $ touch jupiter{a,b,c}.rb   -> jupitera.rb jupiterb.rb jupiterc.rb
* Táº¡o trong thÆ° má»¥c con:
  $ mkdir -p src && touch src/jupiter{1..4}.rb

6. Shell vÃ  tÃ­nh tÆ°Æ¡ng thÃ­ch

* Brace expansion hoáº¡t Ä‘á»™ng trÃªn bash, zsh, ksh. TrÃªn má»™t sá»‘ shell POSIX nháº¹ (nhÆ° dash), brace expansion cÃ³ thá»ƒ khÃ´ng cÃ³ sáºµn.
* Náº¿u báº¡n Ä‘áº·t biá»ƒu thá»©c trong dáº¥u nhÃ¡y Ä‘Æ¡n hoáº·c kÃ©p, shell sáº½ KHÃ”NG má»Ÿ rá»™ng:
  $ touch 'jupiter{1..4}.rb'   -> táº¡o má»™t file tÃªn Ä‘Ãºng lÃ  jupiter{1..4}.rb

7. HÃ nh vi khi file Ä‘Ã£ tá»“n táº¡i

* Náº¿u file Ä‘Ã£ tá»“n táº¡i, touch chá»‰ cáº­p nháº­t timestamps mÃ  khÃ´ng thay Ä‘á»•i ná»™i dung.
* Náº¿u muá»‘n táº¡o file vá»›i ná»™i dung máº·c Ä‘á»‹nh ngay khi táº¡o, cÃ³ thá»ƒ káº¿t há»£p vÃ²ng láº·p:
  $ for i in {1..4}; do echo "# jupiter$i" > jupiter${i}.rb; done

8. Quyá»n vÃ  umask

* File má»›i Ä‘Æ°á»£c táº¡o vá»›i quyá»n dá»±a trÃªn umask cá»§a há»‡ thá»‘ng. VÃ­ dá»¥ umask 0022 thÆ°á»ng táº¡o file vá»›i quyá»n 0644 (rw-r--r--).
* Náº¿u báº¡n khÃ´ng cÃ³ quyá»n ghi vÃ o thÆ° má»¥c, touch sáº½ bÃ¡o lá»—i permission denied.

9. Kiá»ƒm tra vÃ  gá»¡ lá»—i

* Náº¿u báº¡n khÃ´ng tháº¥y file mong muá»‘n, kiá»ƒm tra:
  $ echo $SHELL    # xem shell Ä‘ang dÃ¹ng
  $ alias touch     # kiá»ƒm tra alias
  $ ls -la | grep jupiter
* Náº¿u báº¡n tháº¥y má»™t file cÃ³ tÃªn chá»©a dáº¥u ngoáº·c, cÃ³ thá»ƒ báº¡n Ä‘Ã£ dÃ¹ng dáº¥u nhÃ¡y.

10. Thay tháº¿ khi shell khÃ´ng há»— trá»£ brace expansion

* DÃ¹ng vÃ²ng láº·p POSIX sh:
  $ i=1; while [ $i -le 4 ]; do touch "jupiter${i}.rb"; i=$((i+1)); done
* Hoáº·c dÃ¹ng seq:
  $ for n in $(seq 1 4); do touch "jupiter${n}.rb"; done

11. CÃ¢u há»i thÆ°á»ng gáº·p (FAQ)
    Q: Táº¡i sao tÃ´i chá»‰ tháº¥y má»™t file jupiter{1..4}.rb?
    A: CÃ³ thá»ƒ báº¡n Ä‘Ã£ Ä‘áº·t biá»ƒu thá»©c trong dáº¥u nhÃ¡y (single hoáº·c double) hoáº·c shell khÃ´ng há»— trá»£ brace expansion. HÃ£y dÃ¹ng bash hoáº·c zsh, hoáº·c bá» dáº¥u nhÃ¡y.

Q: TÃ´i muá»‘n táº¡o 100 file, cÃ³ cÃ¡ch nhanh khÃ´ng?
A: CÃ³. VÃ­ dá»¥: touch jupiter{1..100}.rb hoáº·c for n in $(seq 1 100); do touch "jupiter${n}.rb"; done

Q: LÃ m sao Ä‘á»ƒ cÃ¡c file sáº¯p xáº¿p tá»± nhiÃªn khi dÃ¹ng ls?
A: DÃ¹ng ls -v Ä‘á»ƒ sáº¯p xáº¿p theo giÃ¡ trá»‹ sá»‘ tá»± nhiÃªn: ls -1v jupiter*.rb

12. TÃ³m táº¯t nhanh

* Lá»‡nh: touch jupiter{1..4}.rb
* TÃ¡c dá»¥ng: táº¡o hoáº·c cáº­p nháº­t timestamp cho jupiter1.rb ... jupiter4.rb báº±ng brace expansion.
* LÆ°u Ã½: hoáº¡t Ä‘á»™ng trÃªn bash/zsh/ksh; náº¿u dÃ¹ng shell khÃ¡c hoáº·c Ä‘áº·t trong dáº¥u nhÃ¡y thÃ¬ sáº½ khÃ´ng má»Ÿ rá»™ng.

---

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG: Báº¡n cÃ³ thá»ƒ bÃ´i chá»n toÃ n bá»™ ná»™i dung nÃ y vÃ  sao chÃ©p vÃ o tá»‡p .txt. Náº¿u giao diá»‡n hiá»ƒn thá»‹ nÃºt "Copy" cho tÃ i liá»‡u, nháº¥n nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung má»™t láº§n.

---

END OF DOCUMENT
		
		
		- cmd: git push origin sprintl
		
HÆ¯á»šNG DáºªN CHI TIáº¾T: git push origin sprintl

Má»¥c Ä‘Ã­ch:

* Lá»‡nh nÃ y Ä‘áº©y (push) cÃ¡c commit tá»« nhÃ¡nh hiá»‡n táº¡i cá»§a repository cá»¥c bá»™ (local) lÃªn nhÃ¡nh cÃ³ tÃªn "sprintl" trÃªn remote cÃ³ tÃªn "origin".

CÃº phÃ¡p cÆ¡ báº£n:

* git push <remote> <branch>
* Trong trÆ°á»ng há»£p nÃ y: git push origin sprintl

Giáº£i thÃ­ch tá»«ng thÃ nh pháº§n:

* git: chÆ°Æ¡ng trÃ¬nh Git (há»‡ thá»‘ng quáº£n lÃ½ phiÃªn báº£n phÃ¢n tÃ¡n).
* push: hÃ nh Ä‘á»™ng gá»­i (Ä‘áº©y) commit tá»« local lÃªn remote.
* origin: tÃªn remote máº·c Ä‘á»‹nh khi clone repository. ThÆ°á»ng trá» tá»›i URL cá»§a repository tá»« nÆ¡i báº¡n Ä‘Ã£ clone (vÃ­ dá»¥: [https://github.com/username/repo.git](https://github.com/username/repo.git) hoáº·c [git@github.com](mailto:git@github.com):username/repo.git).
* sprintl: tÃªn nhÃ¡nh Ä‘Ã­ch trÃªn remote. ÄÃ¢y cÃ³ thá»ƒ lÃ  má»™t nhÃ¡nh Ä‘Ã£ tá»“n táº¡i trÃªn origin hoáº·c má»™t nhÃ¡nh má»›i sáº½ Ä‘Æ°á»£c táº¡o trÃªn origin khi push (tÃ¹y quyá»n truy cáº­p vÃ  cáº¥u hÃ¬nh repository).

Ká»‹ch báº£n phá»• biáº¿n:

1. Báº¡n Ä‘ang á»Ÿ nhÃ¡nh local cÃ³ tÃªn sprintl:
   git checkout sprintl
   (táº¡o/Ä‘á»•i sang nhÃ¡nh sprintl náº¿u cáº§n)
   git push origin sprintl
   -> Äáº©y nhÃ¡nh local sprintl lÃªn origin, remote sáº½ cÃ³ má»™t nhÃ¡nh sprintl tÆ°Æ¡ng á»©ng.

2. Báº¡n Ä‘ang á»Ÿ nhÃ¡nh local vá»›i tÃªn khÃ¡c (vÃ­ dá»¥ feature/abc) nhÆ°ng muá»‘n Ä‘áº©y lÃªn nhÃ¡nh sprintl trÃªn origin:
   git push origin feature/abc:sprintl
   -> CÃº phÃ¡p: <local_branch>:<remote_branch>
   -> Äiá»u nÃ y Ä‘áº©y ná»™i dung local branch feature/abc lÃªn remote branch sprintl (táº¡o hoáº·c cáº­p nháº­t remote branch sprintl).

Tráº¡ng thÃ¡i upstream (tracking):

* Náº¿u nhÃ¡nh local chÆ°a Ä‘Æ°á»£c liÃªn káº¿t vá»›i nhÃ¡nh remote (khÃ´ng cÃ³ upstream), báº¡n cÃ³ thá»ƒ dÃ¹ng:
  git push -u origin sprintl
  -> TÃ¹y chá»n -u hoáº·c --set-upstream thiáº¿t láº­p nhÃ¡nh upstream (tracking). Sau láº§n nÃ y, báº¡n chá»‰ cáº§n dÃ¹ng git push hoáº·c git pull khi Ä‘ang á»Ÿ trÃªn nhÃ¡nh Ä‘Ã³.

TÃ¹y chá»n hay dÃ¹ng:

* git push origin sprintl       # Ä‘áº©y nhÃ¡nh sprintl lÃªn origin (khÃ´ng thiáº¿t láº­p upstream náº¿u chÆ°a cÃ³)
* git push -u origin sprintl    # Ä‘áº©y vÃ  thiáº¿t láº­p upstream
* git push --force origin sprintl   # Ã©p ghi (force) remote branch â€” trÃ¡nh dÃ¹ng náº¿u khÃ´ng hiá»ƒu háº­u quáº£
* git push --force-with-lease origin sprintl  # force an toÃ n hÆ¡n: chá»‰ force náº¿u remote chÆ°a bá»‹ thay Ä‘á»•i tá»« láº§n báº¡n láº¥y vá»
* git push origin :sprintl     # xÃ³a branch sprintl trÃªn origin (cÃº phÃ¡p: <remote>:<branch>, Ä‘á»ƒ xÃ³a Ä‘á»ƒ trá»‘ng local tÃªn)

VÃ­ dá»¥ Ä‘áº§u ra thÆ°á»ng gáº·p khi cháº¡y lá»‡nh:

* Náº¿u thÃ nh cÃ´ng (nhÃ¡nh Ä‘Æ°á»£c cáº­p nháº­t hoáº·c táº¡o):
  Enumerating objects: 5, done.
  Counting objects: 100% (5/5), done.
  Delta compression using up to 8 threads
  Compressing objects: 100% (3/3), done.
  Writing objects: 100% (3/3), 345 bytes | 345.00 KiB/s, done.
  Total 3 (delta 2), reused 0 (delta 0), pack-reused 0
  To github.com:username/repo.git
  abc1234..def5678  sprintl -> sprintl

* Náº¿u bá»‹ tá»« chá»‘i do khÃ´ng cáº­p nháº­t fast-forward:
  ! [rejected]        sprintl -> sprintl (non-fast-forward)
  error: failed to push some refs to '[git@github.com](mailto:git@github.com):username/repo.git'
  hint: Updates were rejected because the tip of your current branch is behind
  hint: its remote counterpart. Integrate the remote changes (e.g. 'git pull')
  hint: before pushing again.

CÃ¡c lá»—i phá»• biáº¿n vÃ  cÃ¡ch xá»­ lÃ½:

1. Lá»—i xÃ¡c thá»±c (authentication failed / permission denied)

   * NguyÃªn nhÃ¢n: SSH key chÆ°a thÃªm vÃ o tÃ i khoáº£n hoáº·c credential kÃ©m há»£p lá»‡ vá»›i HTTPS.
   * Kháº¯c phá»¥c: Kiá»ƒm tra SSH key (ssh-add, ssh-keygen), thÃªm public key vÃ o GitHub/GitLab/Bitbucket; hoáº·c cáº­p nháº­t credential helper cho HTTPS (git config --global credential.helper ...).

2. Lá»—i non-fast-forward (bá»‹ tá»« chá»‘i):

   * NguyÃªn nhÃ¢n: Remote cÃ³ commit má»›i mÃ  local chÆ°a cÃ³.
   * Kháº¯c phá»¥c:
     a) Pull vÃ  rebase/merge: git pull --rebase origin sprintl (náº¿u muá»‘n rebase)
     b) Hoáº·c merge: git pull origin sprintl
     Sau Ä‘Ã³ xá»­ lÃ½ conflict (náº¿u cÃ³), commit, rá»“i git push origin sprintl.
   * Náº¿u báº¡n cháº¯c cháº¯n muá»‘n ghi Ä‘Ã¨ remote (cáº©n trá»ng): git push --force-with-lease origin sprintl

3. XÃ³a nhÃ¡nh trÃªn remote:

   * git push origin --delete sprintl
   * hoáº·c: git push origin :sprintl

An toÃ n khi dÃ¹ng force push:

* TrÃ¡nh dÃ¹ng --force trÃªn nhÃ¡nh chung (vÃ­ dá»¥ main, master, develop, hoáº·c nhÃ¡nh mÃ  ngÆ°á»i khÃ¡c cÃ¹ng lÃ m viá»‡c) vÃ¬ nÃ³ ghi Ä‘Ã¨ lá»‹ch sá»­ vÃ  cÃ³ thá»ƒ lÃ m máº¥t commit cá»§a ngÆ°á»i khÃ¡c.
* Thay vÃ o Ä‘Ã³, Æ°u tiÃªn --force-with-lease Ä‘á»ƒ giáº£m nguy cÆ¡ máº¥t commit do remote Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t tá»« ngÆ°á»i khÃ¡c.

Khi nÃ o branch sprintl sáº½ Ä‘Æ°á»£c táº¡o trÃªn origin?

* Náº¿u sprintl chÆ°a tá»“n táº¡i trÃªn origin vÃ  báº¡n cÃ³ quyá»n ghi, lá»‡nh git push origin sprintl sáº½ táº¡o branch sprintl trÃªn origin vá»›i cÃ¹ng lá»‹ch sá»­ cá»§a branch local Ä‘Ã£ push.

Thiáº¿t láº­p remote origin (náº¿u cáº§n kiá»ƒm tra):

* Xem remote hiá»‡n táº¡i: git remote -v
  origin  [git@github.com](mailto:git@github.com):username/repo.git (fetch)
  origin  [git@github.com](mailto:git@github.com):username/repo.git (push)
* ThÃªm remote origin: git remote add origin <url>

VÃ­ dá»¥ quy trÃ¬nh thá»±c táº¿:

1. Táº¡o nhÃ¡nh local vÃ  lÃ m viá»‡c:
   git checkout -b sprintl

   # sá»­a file, git add, git commit

   git commit -m "Add feature X"
2. Äáº©y nhÃ¡nh lÃªn origin vÃ  thiáº¿t láº­p upstream:
   git push -u origin sprintl
3. Láº§n sau khi tiáº¿p tá»¥c lÃ m viá»‡c trÃªn nhÃ¡nh sprintl, chá»‰ cáº§n:
   git push
   (vÃ¬ upstream Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t láº­p)

Máº¹o vÃ  quy Æ°á»›c:

* origin thÆ°á»ng lÃ  remote chÃ­nh; náº¿u báº¡n lÃ m fork, origin cÃ³ thá»ƒ lÃ  fork cá»§a báº¡n. Trong Ä‘á»™i, upstream thÆ°á»ng lÃ  repo gá»‘c (vÃ­ dá»¥: tÃªn remote upstream trá» Ä‘áº¿n tá»• chá»©c).
* Kiá»ƒm tra nhÃ¡nh hiá»‡n táº¡i: git branch hoáº·c git status
* TrÆ°á»›c khi push, nÃªn pull (git pull --rebase) Ä‘á»ƒ Ä‘áº£m báº£o local cáº­p nháº­t vÃ  trÃ¡nh conflict khÃ´ng cáº§n thiáº¿t.

TÃ³m táº¯t ngáº¯n gá»n (1 dÃ²ng):

* "git push origin sprintl" gá»­i cÃ¡c commit tá»« nhÃ¡nh local hiá»‡n táº¡i lÃªn nhÃ¡nh sprintl trÃªn remote origin (táº¡o nhÃ¡nh náº¿u chÆ°a cÃ³), nhÆ°ng cÃ³ thá»ƒ bá»‹ tá»« chá»‘i náº¿u remote cÃ³ commit má»›i â€” khi Ä‘Ã³ cáº§n pull trÆ°á»›c hoáº·c dÃ¹ng tÃ¹y chá»n force cáº©n tháº­n.

Háº¿t.
		
		
		- cmd: touch sun earth venus mercury
		
HÆ¯á»šNG DáºªN CHI TIáº¾T: touch sun earth venus mercury

Má»¥c Ä‘Ã­ch chung:

* Lá»‡nh nÃ y sá»­ dá»¥ng chÆ°Æ¡ng trÃ¬nh `touch` Ä‘á»ƒ táº¡o cÃ¡c tá»‡p rá»—ng (náº¿u chÆ°a tá»“n táº¡i) hoáº·c cáº­p nháº­t dáº¥u thá»i gian (access/modification time) cá»§a cÃ¡c tá»‡p Ä‘Ã£ cÃ³.

CÃº phÃ¡p thá»±c hiá»‡n trong trÆ°á»ng há»£p nÃ y:

* touch sun earth venus mercury

Giáº£i thÃ­ch tá»«ng thÃ nh pháº§n:

* touch: lá»‡nh trÃªn há»‡ thá»‘ng Unix/Linux dÃ¹ng Ä‘á»ƒ táº¡o tá»‡p rá»—ng hoáº·c thay Ä‘á»•i thá»i gian truy cáº­p/ghi cá»§a tá»‡p.
* sun earth venus mercury: danh sÃ¡ch tÃªn tá»‡p (4 tá»‡p) sáº½ Ä‘Æ°á»£c `touch` xá»­ lÃ½. Náº¿u tá»‡p khÃ´ng tá»“n táº¡i thÃ¬ `touch` sáº½ táº¡o tá»‡p má»›i rá»—ng vá»›i tÃªn Ä‘Ã³; náº¿u Ä‘Ã£ tá»“n táº¡i, `touch` sáº½ cáº­p nháº­t thá»i gian truy cáº­p (atime) vÃ /hoáº·c thá»i gian sá»­a Ä‘á»•i (mtime) cá»§a tá»‡p.

HÃ nh vi chi tiáº¿t:

1. Táº¡o tá»‡p má»›i náº¿u chÆ°a tá»“n táº¡i:

   * Náº¿u trong thÆ° má»¥c hiá»‡n táº¡i chÆ°a cÃ³ tá»‡p tÃªn `sun`, `earth`, `venus` hoáº·c `mercury`, lá»‡nh sáº½ táº¡o cÃ¡c tá»‡p rá»—ng tÆ°Æ¡ng á»©ng vá»›i kÃ­ch thÆ°á»›c 0 byte.

2. Cáº­p nháº­t thá»i gian (náº¿u tá»‡p Ä‘Ã£ tá»“n táº¡i):

   * `touch` sáº½ thiáº¿t láº­p thá»i Ä‘iá»ƒm truy cáº­p vÃ /hoáº·c sá»­a Ä‘á»•i cá»§a tá»‡p thÃ nh thá»i Ä‘iá»ƒm hiá»‡n táº¡i theo máº·c Ä‘á»‹nh.
   * Ná»™i dung tá»‡p sáº½ khÃ´ng bá»‹ thay Ä‘á»•i (khÃ´ng ghi Ä‘Ã¨ ná»™i dung).

3. Náº¿u tá»‡p lÃ  thÆ° má»¥c:

   * `touch` khÃ´ng táº¡o thÆ° má»¥c; náº¿u báº¡n truyá»n tÃªn thÆ° má»¥c hiá»‡n cÃ³, `touch` sáº½ cáº­p nháº­t thá»i gian cá»§a entry thÆ° má»¥c (náº¿u há»‡ thá»‘ng cho phÃ©p) â€” nhÆ°ng khÃ´ng thá»ƒ táº¡o má»™t thÆ° má»¥c má»›i thay cho tá»‡p.

TÃ¹y chá»n há»¯u Ã­ch cá»§a `touch` (thÆ°á»ng cÃ³ trÃªn GNU coreutils):

* -a : chá»‰ thay Ä‘á»•i thá»i gian truy cáº­p (access time)
* -m : chá»‰ thay Ä‘á»•i thá»i gian sá»­a Ä‘á»•i (modification time)
* -c, --no-create : khÃ´ng táº¡o tá»‡p má»›i náº¿u tá»‡p khÃ´ng tá»“n táº¡i (chá»‰ cáº­p nháº­t thá»i gian náº¿u tá»‡p Ä‘Ã£ cÃ³)
* -d, --date=STRING : Ä‘áº·t thá»i gian cá»¥ thá»ƒ theo chuá»—i (vÃ­ dá»¥ "2025-11-18 12:34:00")
* -t STAMP : Ä‘áº·t thá»i gian vá»›i Ä‘á»‹nh dáº¡ng [[CC]YY]MMDDhhmm[.ss]
* -r, --reference=FILE : sao chÃ©p mtime/atime tá»« FILE

VÃ­ dá»¥ liÃªn quan (thá»±c táº¿):

1. Táº¡o 4 tá»‡p rá»—ng trong thÆ° má»¥c hiá»‡n táº¡i:
   touch sun earth venus mercury

2. Náº¿u muá»‘n táº¡o cÃ¹ng tÃªn nhÆ°ng trong thÆ° má»¥c con:
   touch /path/to/dir/sun /path/to/dir/earth /path/to/dir/venus /path/to/dir/mercury

3. Táº¡o nhiá»u tá»‡p vá»›i expansion cá»§a shell (Ä‘á»¡ gÃµ tÃªn dÃ i):
   touch {sun,earth,venus,mercury}

4. Chá»‰ cáº­p nháº­t mtime (khÃ´ng táº¡o má»›i náº¿u khÃ´ng cÃ³) â€” vÃ­ dá»¥ muá»‘n giá»¯ an toÃ n:
   touch -c sun earth venus mercury

5. Äáº·t thá»i gian cá»¥ thá»ƒ cho cÃ¡c tá»‡p (vÃ­ dá»¥ 1-Jan-2024 00:00):
   touch -t 202401010000.00 sun earth venus mercury

Quyá»n vÃ  lá»—i thÆ°á»ng gáº·p:

* Permission denied (khÃ´ng cÃ³ quyá»n):

  * Náº¿u báº¡n khÃ´ng cÃ³ quyá»n ghi vÃ o thÆ° má»¥c hiá»‡n táº¡i, `touch` khÃ´ng thá»ƒ táº¡o tá»‡p má»›i vÃ  sáº½ bÃ¡o lá»—i. Kháº¯c phá»¥c báº±ng cÃ¡ch chuyá»ƒn thÆ° má»¥c, thay Ä‘á»•i quyá»n (chá»‰ khi phÃ¹ há»£p) hoáº·c dÃ¹ng `sudo` náº¿u cáº§n.

* Invalid option / khÃ´ng há»— trá»£ tÃ¹y chá»n: má»™t sá»‘ há»‡ thá»‘ng (BSD vs GNU) cÃ³ khÃ¡c biá»‡t nhá» vá» tÃ¹y chá»n. Kiá»ƒm tra `man touch` hoáº·c `touch --help`.

Máº¹o sá»­ dá»¥ng:

* `touch` lÃ  cÃ¡ch nhanh Ä‘á»ƒ táº¡o tá»‡p placeholder (vÃ­ dá»¥ .gitkeep) hoáº·c Ä‘á»ƒ lÃ m cho cÃ¡c tá»‡p cÃ³ timestamp má»›i (Ä‘Ã´i khi há»¯u Ã­ch cho viá»‡c build há»‡ thá»‘ng/Makefile).
* TrÃ¡nh dÃ¹ng `touch` Ä‘á»ƒ "táº¡o thÆ° má»¥c" â€” dÃ¹ng `mkdir` cho thÆ° má»¥c.
* Káº¿t há»£p `touch` vá»›i `find` Ä‘á»ƒ cáº­p nháº­t hoáº·c tÃ¬m tá»‡p theo thá»i gian: vÃ­ dá»¥ `find . -name '*.log' -exec touch {} +`.

TÃ³m táº¯t (1 dÃ²ng):

* Lá»‡nh `touch sun earth venus mercury` sáº½ táº¡o bá»‘n tá»‡p rá»—ng (sun, earth, venus, mercury) náº¿u chÆ°a tá»“n táº¡i, hoáº·c náº¿u Ä‘Ã£ tá»“n táº¡i sáº½ cáº­p nháº­t dáº¥u thá»i gian cá»§a cÃ¡c tá»‡p Ä‘Ã³ mÃ  khÃ´ng thay Ä‘á»•i ná»™i dung.

Háº¿t.
		
		
		- cmd: git switch sprint1
		
git switch sprint1

MÃ´ táº£ ngáº¯n:
Lá»‡nh `git switch sprint1` chuyá»ƒn trÃ¬nh lÃ m viá»‡c (working directory) sang nhÃ¡nh (branch) cÃ³ tÃªn `sprint1`. Náº¿u nhÃ¡nh `sprint1` tá»“n táº¡i cá»¥c bá»™, Git sáº½ cáº­p nháº­t con trá» `HEAD` vÃ  tá»‡p trong thÆ° má»¥c lÃ m viá»‡c theo commit cuá»‘i cÃ¹ng cá»§a nhÃ¡nh Ä‘Ã³.

CÃº phÃ¡p cÆ¡ báº£n:
git switch <tÃªn-nhÃ¡nh>

VÃ­ dá»¥ cá»¥ thá»ƒ:
git switch sprint1

TrÆ°á»ng há»£p thÆ°á»ng gáº·p & giáº£i thÃ­ch chi tiáº¿t:

1. Náº¿u nhÃ¡nh `sprint1` Ä‘Ã£ tá»“n táº¡i cá»¥c bá»™:

   * Git sáº½ thay Ä‘á»•i `HEAD` Ä‘á»ƒ trá» tá»›i nhÃ¡nh `sprint1`.
   * Ná»™i dung tá»‡p trong thÆ° má»¥c lÃ m viá»‡c sáº½ Ä‘Æ°á»£c cáº­p nháº­t Ä‘á»ƒ khá»›p vá»›i commit hiá»‡n táº¡i cá»§a nhÃ¡nh Ä‘Ã³ (náº¿u khÃ´ng cÃ³ thay Ä‘á»•i chÆ°a commit gÃ¢y xung Ä‘á»™t).

2. Náº¿u nhÃ¡nh `sprint1` khÃ´ng tá»“n táº¡i cá»¥c bá»™ nhÆ°ng tá»“n táº¡i trÃªn remote (vÃ­ dá»¥: origin/sprint1):

   * TrÆ°á»›c tiÃªn báº¡n cÃ³ thá»ƒ cháº¡y `git fetch` Ä‘á»ƒ cáº­p nháº­t thÃ´ng tin remote.
   * Sau Ä‘Ã³ dÃ¹ng `git switch --track origin/sprint1` hoáº·c táº¡o nhÃ¡nh má»›i theo remote:
     git switch -c sprint1 origin/sprint1
   * Hoáº·c ngáº¯n gá»n: `git switch --track sprint1` (náº¿u cáº¥u hÃ¬nh remote/branch phÃ¹ há»£p).

3. Táº¡o vÃ  chuyá»ƒn sang nhÃ¡nh má»›i cÃ¹ng lÃºc:

   * Náº¿u báº¡n muá»‘n Táº O nhÃ¡nh `sprint1` má»›i vÃ  ngay láº­p tá»©c chuyá»ƒn sang Ä‘Ã³, dÃ¹ng:
     git switch -c sprint1
   * `-c` lÃ  viáº¿t táº¯t cá»§a `--create`.

4. Khi cÃ³ thay Ä‘á»•i chÆ°a commit:

   * Náº¿u báº¡n cÃ³ thay Ä‘á»•i chÆ°a commit trong working directory vÃ  nhá»¯ng thay Ä‘á»•i Ä‘Ã³ khÃ´ng xung Ä‘á»™t vá»›i nhÃ¡nh Ä‘Ã­ch, Git sáº½ cho phÃ©p chuyá»ƒn.
   * Náº¿u cÃ³ xung Ä‘á»™t (vÃ­ dá»¥ tá»‡p sáº½ bá»‹ ghi Ä‘Ã¨ khi chuyá»ƒn), Git sáº½ tá»« chá»‘i chuyá»ƒn vÃ  bÃ¡o lá»—i: "Your local changes to the following files would be overwritten by checkout" (hoáº·c tÆ°Æ¡ng Ä‘Æ°Æ¡ng). Trong trÆ°á»ng há»£p nÃ y, báº¡n cÃ³ thá»ƒ:
     a) Commit hoáº·c stash cÃ¡c thay Ä‘á»•i hiá»‡n táº¡i:
     git add .
     git commit -m "WIP: lÆ°u trÆ°á»›c khi chuyá»ƒn branch"
     hoáº·c
     git stash push -m "WIP before switching to sprint1"
     b) Sau khi commit hoáº·c stash xong, cháº¡y láº¡i `git switch sprint1`.

So sÃ¡nh `git switch` vs `git checkout`:

* `git switch` chá»‰ dÃ¹ng Ä‘á»ƒ chuyá»ƒn hoáº·c táº¡o branch â€” giao diá»‡n rÃµ rÃ ng vÃ  an toÃ n hÆ¡n.
* `git checkout` lÃ  lá»‡nh cá»• hÆ¡n, kiÃªm nhiá»‡m nhiá»u chá»©c nÄƒng (chuyá»ƒn branch, checkout file, v.v.), dá»… gÃ¢y nháº§m láº«n. Hiá»‡n Git khuyáº¿n khÃ­ch dÃ¹ng `git switch` vÃ  `git restore` Ä‘á»ƒ thay tháº¿ cÃ¡c trÆ°á»ng há»£p thÃ´ng dá»¥ng cá»§a `checkout`.

CÃ¡c lá»‡nh há»¯u Ã­ch kÃ¨m theo Ä‘á»ƒ kiá»ƒm tra tráº¡ng thÃ¡i:
git status           # xem tráº¡ng thÃ¡i hiá»‡n táº¡i, branch Ä‘ang Ä‘á»©ng
git branch           # liá»‡t kÃª cÃ¡c nhÃ¡nh cá»¥c bá»™, * chá»‰ nhÃ¡nh hiá»‡n táº¡i
git branch -a        # liá»‡t kÃª cáº£ nhÃ¡nh remote
git log --oneline --graph --all --decorate   # xem lá»‹ch sá»­ commit trá»±c quan
git fetch            # cáº­p nháº­t thÃ´ng tin remote

Má»™t sá»‘ lá»—i phá»• biáº¿n & cÃ¡ch xá»­ lÃ½:
â€¢ Lá»—i: "error: Your local changes to the following files would be overwritten by checkout"
-> Giáº£i phÃ¡p: commit hoáº·c stash cÃ¡c thay Ä‘á»•i trÆ°á»›c khi chuyá»ƒn.

â€¢ Lá»—i: "fatal: switching to 'sprint1' failed"
-> Kiá»ƒm tra ká»¹ tÃªn nhÃ¡nh (chÃº Ã½ phÃ¢n biá»‡t hoa thÆ°á»ng) vÃ  xem `git branch -a` Ä‘á»ƒ biáº¿t nhÃ¡nh cÃ³ tá»“n táº¡i hay khÃ´ng.

â€¢ Náº¿u muá»‘n thiáº¿t láº­p Ä‘á»ƒ branch má»›i theo dÃµi remote tá»± Ä‘á»™ng khi táº¡o:
git switch -c sprint1 --track origin/sprint1

Máº¹o & best practices:

* LuÃ´n `git fetch` trÆ°á»›c khi táº¡o nhÃ¡nh má»›i theo remote Ä‘á»ƒ Ä‘áº£m báº£o cÃ³ thÃ´ng tin má»›i nháº¥t.
* DÃ¹ng `git stash` Ä‘á»ƒ táº¡m lÆ°u cÃ´ng viá»‡c chÆ°a xong náº¿u cáº§n chuyá»ƒn branch nhanh.
* Äáº·t tÃªn branch rÃµ rÃ ng (vÃ­ dá»¥: feature/login, bugfix/123-fix-null, sprint1) Ä‘á»ƒ dá»… quáº£n lÃ½.

PhiÃªn báº£n Git:

* Lá»‡nh `git switch` Ä‘Æ°á»£c giá»›i thiá»‡u tá»« Git 2.23 (thÃ¡ng 8/2019). Náº¿u báº¡n dÃ¹ng Git cÅ© hÆ¡n, lá»‡nh nÃ y cÃ³ thá»ƒ khÃ´ng tá»“n táº¡i; pháº£I dÃ¹ng `git checkout` thay tháº¿.

## TÃ³m táº¯t ngáº¯n gá»n (plain text, copy trá»±c tiáº¿p):

git switch sprint1

# Náº¿u sprint1 Ä‘Ã£ tá»“n táº¡i: chuyá»ƒn sang branch sprint1.

# Náº¿u sprint1 chÆ°a tá»“n táº¡i vÃ  báº¡n muá»‘n táº¡o má»›i: git switch -c sprint1

# Náº¿u muá»‘n táº¡o branch má»›i theo remote: git switch -c sprint1 origin/sprint1

# Náº¿u cÃ³ thay Ä‘á»•i chÆ°a commit: commit hoáº·c git stash trÆ°á»›c khi switch.

---

Háº¿t.
		
		
		- cmd: git merge sprintl
		
git merge sprint1

MÃ´ táº£ ngáº¯n:
Lá»‡nh `git merge sprint1` há»£p nháº¥t (merge) nhÃ¡nh `sprint1` vÃ o nhÃ¡nh Ä‘ang check-out (nhÃ¡nh hiá»‡n táº¡i). Sau khi cháº¡y lá»‡nh, git sáº½ cá»‘ gáº¯ng káº¿t há»£p cÃ¡c commit tá»« nhÃ¡nh `sprint1` vÃ o nhÃ¡nh báº¡n Ä‘ang Ä‘á»©ng.

CÃº phÃ¡p cÆ¡ báº£n:
git merge <tÃªn-nhÃ¡nh>

VÃ­ dá»¥ cá»¥ thá»ƒ:
# Giáº£ sá»­ báº¡n Ä‘ang á»Ÿ branch `main` vÃ  muá»‘n há»£p nhÃ¡nh `sprint1` vÃ o main
git checkout main
git merge sprint1

CÃ¡c trÆ°á»ng há»£p há»£p nháº¥t & giáº£i thÃ­ch chi tiáº¿t:

1. Fast-forward merge (khÃ´ng cáº§n commit merge):

   * Xáº£y ra khi nhÃ¡nh Ä‘Ã­ch (vÃ­ dá»¥ `main`) chÆ°a cÃ³ commit má»›i so vá»›i Ä‘iá»ƒm xuáº¥t phÃ¡t cá»§a `sprint1` â€” nghÄ©a lÃ  `main` náº±m trÆ°á»›c `sprint1` vÃ  khÃ´ng cÃ³ commit song song.
   * Git chá»‰ Ä‘Æ¡n giáº£n di chuyá»ƒn con trá» `HEAD` cá»§a `main` tá»›i commit cá»§a `sprint1` (khÃ´ng táº¡o commit merge má»›i).
   * VÃ­ dá»¥: sau khi táº¡o nhÃ¡nh `sprint1` tá»« `main` vÃ  chá»‰ commit trÃªn `sprint1`, `git merge sprint1` tá»« `main` sáº½ lÃ  fast-forward.

2. True merge (merge commit):

   * Xáº£y ra khi cáº£ hai nhÃ¡nh Ä‘á»u cÃ³ commit má»›i ká»ƒ tá»« Ä‘iá»ƒm tÃ¡ch nhÃ¡nh (cÃ³ lá»‹ch sá»­ song song).
   * Git sáº½ táº¡o má»™t commit merge má»›i (má»™t commit cÃ³ hai parent) Ä‘á»ƒ káº¿t há»£p lá»‹ch sá»­.
   * Commit merge cÃ³ thá»ƒ cÃ³ message máº·c Ä‘á»‹nh "Merge branch 'sprint1' into main" â€” báº¡n cÃ³ thá»ƒ sá»­a message nÃ y.

3. Xung Ä‘á»™t merge (merge conflicts):

   * Khi cÃ¹ng má»™t Ä‘oáº¡n tá»‡p Ä‘Ã£ bá»‹ sá»­a khÃ¡c nhau trÃªn hai nhÃ¡nh, Git khÃ´ng thá»ƒ tá»± quyáº¿t vÃ  sáº½ bÃ¡o conflict.
   * Git sáº½:
     â€¢ ÄÃ¡nh dáº¥u cÃ¡c tá»‡p xung Ä‘á»™t trong `git status` (Unmerged paths).
     â€¢ Ghi cÃ¡c vÃ¹ng xung Ä‘á»™t trong tá»‡p vá»›i dáº¥u phÃ¢n cÃ¡ch `<<<<<<<`, `=======`, `>>>>>>>`.
   * CÃ¡ch xá»­ lÃ½ xung Ä‘á»™t:
     a) Má»Ÿ tá»«ng tá»‡p cÃ³ xung Ä‘á»™t, chá»‰nh sá»­a Ä‘á»ƒ giá»¯ ná»™i dung mong muá»‘n.
     b) Sau khi sá»­a xong, Ä‘Ã¡nh dáº¥u lÃ  Ä‘Ã£ giáº£i quyáº¿t:
     git add <file-da-chinh-sua>
     c) HoÃ n táº¥t merge báº±ng cÃ¡ch commit (náº¿u Git khÃ´ng tá»± táº¡o commit merge):
     git commit
     d) Hoáº·c dÃ¹ng `git merge --continue` náº¿u báº¡n Ä‘ang á»Ÿ trong quÃ¡ trÃ¬nh merge (vá»›i phiÃªn báº£n Git há»— trá»£).

4. Há»§y merge (abort):

   * Náº¿u Ä‘ang giá»¯a chá»«ng merge vÃ  muá»‘n quay láº¡i tráº¡ng thÃ¡i trÆ°á»›c khi merge báº¯t Ä‘áº§u:
     git merge --abort
     (lÆ°u Ã½: `--abort` chá»‰ hoáº¡t Ä‘á»™ng khi merge Ä‘ang trong tráº¡ng thÃ¡i xung Ä‘á»™t chÆ°a Ä‘Æ°á»£c giáº£i quyáº¿t).
   * TrÆ°á»ng há»£p khÃ¡c (vÃ­ dá»¥ Ä‘Ã£ commit merge) báº¡n cÃ³ thá»ƒ dÃ¹ng `git reset --hard <commit-trÆ°á»›c-khi-merge>` (cáº©n trá»ng, sáº½ máº¥t thay Ä‘á»•i chÆ°a lÆ°u).

TÃ¹y chá»n há»¯u Ã­ch:
â€¢ `--no-ff` : luÃ´n táº¡o má»™t merge commit ngay cáº£ khi merge cÃ³ thá»ƒ fast-forward.
git merge --no-ff sprint1
-> DÃ¹ng khi báº¡n muá»‘n giá»¯ lá»‹ch sá»­ rÃµ rÃ ng (má»™t commit thá»ƒ hiá»‡n viá»‡c há»£p nhÃ¡nh Ä‘Æ°á»£c hoÃ n táº¥t).

â€¢ `--squash` : gom (squash) táº¥t cáº£ commit cá»§a `sprint1` thÃ nh má»™t set thay Ä‘á»•i duy nháº¥t vÃ  Ã¡p lÃªn nhÃ¡nh hiá»‡n táº¡i, nhÆ°ng khÃ´ng táº¡o commit merge tá»± Ä‘á»™ng. Sau Ä‘Ã³ báº¡n cáº§n commit báº±ng tay.
git merge --squash sprint1
git commit -m "Squash merge sprint1"

â€¢ `--abort` : há»§y merge khi gáº·p xung Ä‘á»™t vÃ  báº¡n muá»‘n trá»Ÿ láº¡i tráº¡ng thÃ¡i trÆ°á»›c merge.
git merge --abort

Ká»‹ch báº£n khi `sprint1` lÃ  remote branch (vÃ­ dá»¥ origin/sprint1):

* TrÆ°á»›c khi merge, nÃªn cáº­p nháº­t state remote:
  git fetch origin
* Náº¿u muá»‘n merge remote branch trá»±c tiáº¿p:
  git merge origin/sprint1
* ThÃ´ng thÆ°á»ng, ta táº¡o/checkout nhÃ¡nh local tracking rá»“i merge:
  git switch -c sprint1 origin/sprint1    # hoáº·c git checkout -b sprint1 origin/sprint1
  git switch main
  git merge sprint1

So sÃ¡nh `merge` vs `rebase`:

* `git merge` báº£o tá»“n lá»‹ch sá»­ (giá»¯ cáº£ hai nhÃ¡nh vÃ  táº¡o merge commit khi cáº§n) â€” thuáº­n tiá»‡n khi muá»‘n giá»¯ lá»‹ch sá»­ phÃ¢n nhÃ¡nh.
* `git rebase` Ä‘áº·t cÃ¡c commit cá»§a nhÃ¡nh hiá»‡n táº¡i lÃªn Ä‘áº§u nhÃ¡nh Ä‘Ã­ch (lÃ m lá»‹ch sá»­ tuyáº¿n tÃ­nh), phÃ¹ há»£p Ä‘á»ƒ giá»¯ lá»‹ch sá»­ gá»n nhÆ°ng thay Ä‘á»•i hash commit (cáº§n tháº­n trá»ng trÃªn nhÃ¡nh public/shared).
* Quy táº¯c: trÃ¡nh rebase cÃ¡c commit Ä‘Ã£ push-cÃ´ng khai; merge an toÃ n cho nhÃ¡nh shared.

Lá»—i thÆ°á»ng gáº·p & cÃ¡ch xá»­ lÃ½ nhanh:
â€¢ "Automatic merge failed; fix conflicts and then commit the result."
-> Kiá»ƒm tra `git status`, sá»­a xung Ä‘á»™t tá»«ng file, `git add` rá»“i `git commit`.

â€¢ "Already up to date."
-> NhÃ¡nh hiá»‡n táº¡i Ä‘Ã£ chá»©a má»i commit cá»§a `sprint1`, khÃ´ng cáº§n merge.

â€¢ "fatal: Not possible to fast-forward, aborting."
-> ThÃ´ng bÃ¡o khÃ¡c nhau tÃ¹y tÃ¹y chá»n; kiá»ƒm tra tráº¡ng thÃ¡i vÃ  dÃ¹ng `--no-ff` náº¿u muá»‘n commit merge.

CÃ¡c lá»‡nh há»¯u Ã­ch kÃ¨m theo Ä‘á»ƒ kiá»ƒm tra tráº¡ng thÃ¡i trÆ°á»›c/ sau merge:
git status
git log --oneline --graph --decorate --all
git diff <branchA>..<branchB>      # xem khÃ¡c biá»‡t giá»¯a hai nhÃ¡nh
git fetch origin

Best practices:

* TrÆ°á»›c khi merge, luÃ´n `git fetch` vÃ  `git pull` (hoáº·c `git pull --rebase` náº¿u nhÃ³m dÃ¹ng rebase) trÃªn nhÃ¡nh Ä‘Ã­ch Ä‘á»ƒ giáº£m xung Ä‘á»™t.
* Kiá»ƒm tra `git diff` hoáº·c PR review trÆ°á»›c khi merge Ä‘á»ƒ nhÃ¬n rÃµ thay Ä‘á»•i.
* DÃ¹ng `--no-ff` náº¿u muá»‘n má»—i feature branch táº¡o má»™t commit merge rÃµ rÃ ng trong lá»‹ch sá»­.
* Khi xáº£y ra xung Ä‘á»™t, tÃ¡ch nhá» váº¥n Ä‘á» vÃ  test sau khi merge.

PhiÃªn báº£n Git:

* `git merge` lÃ  lá»‡nh cá»‘t lÃµi cÃ³ tá»« ráº¥t sá»›m trong Git; há»— trá»£ á»Ÿ má»i phiÃªn báº£n hiá»‡n hÃ nh.

## TÃ³m táº¯t ngáº¯n gá»n (plain text, copy trá»±c tiáº¿p):

git merge sprint1

# Há»£p nhÃ¡nh `sprint1` vÃ o nhÃ¡nh hiá»‡n táº¡i.

# Fast-forward: náº¿u nhÃ¡nh hiá»‡n táº¡i khÃ´ng cÃ³ commit má»›i thÃ¬ Git chá»‰ di chuyá»ƒn con trá» (khÃ´ng táº¡o merge commit).

# Náº¿u cÃ³ lá»‹ch sá»­ song song, Git táº¡o má»™t merge commit Ä‘á»ƒ káº¿t há»£p hai nhÃ¡nh.

# Náº¿u cÃ³ xung Ä‘á»™t: sá»­a file, git add <file>, rá»“i git commit (hoáº·c git merge --continue).

# Há»§y merge giá»¯a chá»«ng: git merge --abort

# TÃ¹y chá»n phá»• biáº¿n: --no-ff, --squash

---

Háº¿t.
		
		
		- cmd: git clone https://github.com/ngoctuanqng/gitpractice.git
		
git clone [https://github.com/ngoctuanqng/gitpractice.git](https://github.com/ngoctuanqng/gitpractice.git)

MÃ´ táº£ ngáº¯n:
Lá»‡nh `git clone` sao chÃ©p toÃ n bá»™ repository Git tá»« URL (remote repository) vá» mÃ¡y tÃ­nh cá»¥c bá»™, bao gá»“m toÃ n bá»™ lá»‹ch sá»­ commit, nhÃ¡nh, vÃ  cÃ¡c file. Sau khi clone, báº¡n cÃ³ má»™t báº£n sao Ä‘áº§y Ä‘á»§ cá»§a repository, cÃ³ thá»ƒ lÃ m viá»‡c vÃ  commit Ä‘á»™c láº­p.

CÃº phÃ¡p cÆ¡ báº£n:
git clone <URL> [<thÆ°-má»¥c-Ä‘Ã­ch>]

VÃ­ dá»¥ cá»¥ thá»ƒ:
git clone [https://github.com/ngoctuanqng/gitpractice.git](https://github.com/ngoctuanqng/gitpractice.git)

Chi tiáº¿t tá»«ng bÆ°á»›c khi cháº¡y lá»‡nh:

1. Git sáº½ káº¿t ná»‘i tá»›i URL Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh (`https://github.com/ngoctuanqng/gitpractice.git`).
2. Git sao chÃ©p toÃ n bá»™ lá»‹ch sá»­ commit vÃ  cÃ¡c nhÃ¡nh tá»« remote repository vá» mÃ¡y cá»¥c bá»™.
3. Git táº¡o má»™t thÆ° má»¥c má»›i trÃªn mÃ¡y cá»¥c bá»™, máº·c Ä‘á»‹nh tÃªn thÆ° má»¥c trÃ¹ng vá»›i tÃªn repository (trong vÃ­ dá»¥: `gitpractice`).
4. ThÆ° má»¥c má»›i chá»©a Ä‘áº§y Ä‘á»§ code, lá»‹ch sá»­ commit, vÃ  thÃ´ng tin remote (origin) Ä‘á»ƒ cÃ³ thá»ƒ pull/push sau nÃ y.

TÃ¹y chá»n phá»• biáº¿n:
â€¢ Chá»‰ clone má»™t nhÃ¡nh cá»¥ thá»ƒ:
git clone --branch <tÃªn-nhÃ¡nh> <URL>

â€¢ Clone nhÆ°ng khÃ´ng láº¥y toÃ n bá»™ lá»‹ch sá»­ (shallow clone):
git clone --depth 1 <URL>
-> Chá»‰ láº¥y commit má»›i nháº¥t, giáº£m dung lÆ°á»£ng vÃ  thá»i gian táº£i vá».

â€¢ Äá»•i tÃªn thÆ° má»¥c Ä‘Ã­ch:
git clone <URL> <tÃªn-thÆ°-má»¥c-Ä‘Ã­ch>
-> VÃ­ dá»¥: git clone [https://github.com/ngoctuanqng/gitpractice.git](https://github.com/ngoctuanqng/gitpractice.git) myproject

CÃ¡c lá»‡nh há»¯u Ã­ch sau khi clone:
git status           # kiá»ƒm tra tráº¡ng thÃ¡i repo má»›i clone
git branch -a        # xem cÃ¡c nhÃ¡nh local vÃ  remote
git remote -v        # xem URL remote origin
git pull             # cáº­p nháº­t nhÃ¡nh hiá»‡n táº¡i tá»« remote
git push             # Ä‘áº©y commit tá»« local lÃªn remote

LÆ°u Ã½:

* Báº¡n cáº§n cÃ³ káº¿t ná»‘i Internet Ä‘á»ƒ clone tá»« remote repository.
* Náº¿u repository private, Git sáº½ yÃªu cáº§u xÃ¡c thá»±c (username/password hoáº·c token).
* Clone chá»‰ cáº§n lÃ m má»™t láº§n Ä‘á»ƒ cÃ³ báº£n sao cá»¥c bá»™; sau Ä‘Ã³ sá»­ dá»¥ng `git pull` Ä‘á»ƒ cáº­p nháº­t.

## TÃ³m táº¯t ngáº¯n gá»n (plain text, copy trá»±c tiáº¿p):

git clone [https://github.com/ngoctuanqng/gitpractice.git](https://github.com/ngoctuanqng/gitpractice.git)

# Sao chÃ©p toÃ n bá»™ repository tá»« GitHub vá» mÃ¡y cá»¥c bá»™.

# ThÆ° má»¥c má»›i sáº½ máº·c Ä‘á»‹nh tÃªn gitpractice.

# CÃ³ thá»ƒ thÃªm tÃ¹y chá»n --branch, --depth, hoáº·c tÃªn thÆ° má»¥c Ä‘Ã­ch.

# Sau khi clone, dÃ¹ng git status, git branch -a, git remote -v Ä‘á»ƒ kiá»ƒm tra.

---

Háº¿t.
		
		
		- cmd: git checkout jupiter1.rb
		
Giáº£i thÃ­ch chi tiáº¿t cho lá»‡nh: `git checkout jupiter1.rb`

---- Má»¥c tiÃªu tÃ i liá»‡u ----
TÃ i liá»‡u nÃ y giáº£i thÃ­ch rÃµ rÃ ng, Ä‘áº§y Ä‘á»§ vÃ  tá»«ng bÆ°á»›c vá» Ã½ nghÄ©a, hÃ nh vi, vÃ  nhá»¯ng tÃ¬nh huá»‘ng thÆ°á»ng gáº·p khi cháº¡y lá»‡nh `git checkout jupiter1.rb`. Ná»™i dung Ä‘Æ°á»£c Ä‘á»‹nh dáº¡ng plain text (dá»… copy vÃ o file .txt).

---- 1) Tá»•ng quan ngáº¯n ----
`git checkout jupiter1.rb` lÃ  má»™t lá»‡nh Git cÃ³ thá»ƒ thá»±c hiá»‡n hai hÃ nh vi khÃ¡c nhau tuá»³ theo ngá»¯ cáº£nh:

1. Náº¿u tá»“n táº¡i má»™t **branch** cÃ³ tÃªn `jupiter1.rb`, lá»‡nh sáº½ cá»‘ gáº¯ng **chuyá»ƒn sang branch Ä‘Ã³**.
2. Náº¿u khÃ´ng pháº£i branch mÃ  `jupiter1.rb` lÃ  **tÃªn tá»‡p** trong repository, lá»‡nh sáº½ **khÃ´i phá»¥c/ghi Ä‘Ã¨ tá»‡p trong working directory** báº±ng phiÃªn báº£n cá»§a tá»‡p tá»« commit hiá»‡n táº¡i (thÆ°á»ng lÃ  HEAD) hoáº·c tá»« index â€” má»¥c Ä‘Ã­ch lÃ  huá»· thay Ä‘á»•i chÆ°a commit cho tá»‡p Ä‘Ã³.

LÆ°u Ã½: HÃ nh vi chÃ­nh xÃ¡c cÃ³ thá»ƒ khÃ¡c nháº¹ theo phiÃªn báº£n Git; ká»ƒ tá»« Git 2.23+ ngÆ°á»i dÃ¹ng thÆ°á»ng Ä‘Æ°á»£c khuyáº¿n nghá»‹ dÃ¹ng `git switch` (cho branch) vÃ  `git restore` (cho tá»‡p) Ä‘á»ƒ phÃ¢n tÃ¡ch rÃµ rÃ ng hai chá»©c nÄƒng nÃ y.

---- 2) TrÆ°á»ng há»£p 1 â€” `jupiter1.rb` lÃ  tÃªn branch ----
Khi báº¡n cÃ³ branch tÃªn `jupiter1.rb`, cháº¡y:

```
git checkout jupiter1.rb
```

sáº½:

* Kiá»ƒm tra xem cÃ³ thay Ä‘á»•i chÆ°a commit trong working directory mÃ  sáº½ xung Ä‘á»™t vá»›i thay Ä‘á»•i trÃªn branch Ä‘Ã­ch hay khÃ´ng. Náº¿u cÃ³ xung Ä‘á»™t, Git sáº½ tá»« chá»‘i chuyá»ƒn branch vÃ  yÃªu cáº§u báº¡n stash hoáº·c commit cÃ¡c thay Ä‘á»•i trÆ°á»›c.
* Náº¿u khÃ´ng cÃ³ xung Ä‘á»™t, Git sáº½ cáº­p nháº­t HEAD Ä‘á»ƒ trá» tá»›i branch `jupiter1.rb`, thay Ä‘á»•i files trong working directory sang tráº¡ng thÃ¡i cá»§a branch Ä‘Ã³, vÃ  cáº­p nháº­t index.

VÃ­ dá»¥ (ká»‹ch báº£n):

* Báº¡n Ä‘ang trÃªn branch `main`.
* Báº¡n cÃ³ branch `jupiter1.rb` Ä‘Ã£ tá»“n táº¡i.
* Cháº¡y `git checkout jupiter1.rb` â†’ báº¡n chuyá»ƒn sang branch `jupiter1.rb`.

Äá»ƒ kiá»ƒm tra trÆ°á»›c xem branch cÃ³ tá»“n táº¡i khÃ´ng:

```
git branch --list jupiter1.rb
```

hoáº·c (global):

```
git branch -a | grep jupiter1.rb
```

---- 3) TrÆ°á»ng há»£p 2 â€” `jupiter1.rb` lÃ  tÃªn tá»‡p ----
Náº¿u `jupiter1.rb` khÃ´ng pháº£i lÃ  branch mÃ  lÃ  tá»‡p theo tracked path trong repo, thÃ¬ `git checkout jupiter1.rb` vá» cÆ¡ báº£n sáº½ **khÃ´i phá»¥c ná»™i dung tá»‡p tá»« HEAD (hoáº·c tá»« index)** vÃ o working directory, nghÄ©a lÃ  *bá»* nhá»¯ng chá»‰nh sá»­a cá»¥c bá»™ chÆ°a commit cho tá»‡p Ä‘Ã³.

Hai biáº¿n thá»ƒ thÆ°á»ng dÃ¹ng vÃ  an toÃ n hÆ¡n:

* `git checkout -- jupiter1.rb`  (dáº¥u `--` ngÄƒn Git hiá»ƒu `jupiter1.rb` lÃ  tÃªn branch khi cÃ³ nháº§m láº«n).
* `git restore jupiter1.rb`      (cÃ¡ch má»›i, rÃµ rÃ ng hÆ¡n; giá»›i thiá»‡u trong Git 2.23+).

VÃ­ dá»¥ hÃ nh vi:

* Báº¡n sá»­a `jupiter1.rb` nhÆ°ng chÆ°a commit.
* Cháº¡y `git checkout jupiter1.rb` â†’ ná»™i dung trong working directory cá»§a `jupiter1.rb` sáº½ bá»‹ thay báº±ng ná»™i dung cá»§a tá»‡p trong HEAD (hoáº·c index), tá»©c lÃ  má»i chá»‰nh sá»­a chÆ°a commit sáº½ **máº¥t** (bá»‹ há»§y) cho tá»‡p Ä‘Ã³.

Äá»ƒ kiá»ƒm tra tá»‡p cÃ³ Ä‘Æ°á»£c track hay khÃ´ng:

```
git ls-files --error-unmatch jupiter1.rb
```

(náº¿u lá»‡nh tráº£ lá»—i tá»©c lÃ  tá»‡p khÃ´ng náº±m trong index/tracked).

---- 4) Khi nÃ o lá»‡nh sáº½ tháº¥t báº¡i hoáº·c cáº£nh bÃ¡o ----

* Náº¿u `jupiter1.rb` lÃ  tÃªn branch nhÆ°ng báº¡n cÃ³ thay Ä‘á»•i cá»¥c bá»™ chÆ°a commit sáº½ xung Ä‘á»™t vá»›i branch Ä‘Ã­ch â†’ Git tá»« chá»‘i chuyá»ƒn branch.
* Náº¿u `jupiter1.rb` lÃ  tá»‡p chÆ°a Ä‘Æ°á»£c track (untracked), `git checkout jupiter1.rb` sáº½ bÃ¡o lá»—i vÃ¬ khÃ´ng cÃ³ phiÃªn báº£n lÆ°u trong HEAD Ä‘á»ƒ khÃ´i phá»¥c.
* Náº¿u tÃªn vá»«a trÃ¹ng tÃªn branch vá»«a trÃ¹ng tÃªn tá»‡p, Git cÃ³ thá»ƒ Æ°u tiÃªn branch (tuá»³ phiÃªn báº£n). Äá»ƒ trÃ¡nh nháº§m láº«n, dÃ¹ng `--` trÆ°á»›c tÃªn tá»‡p: `git checkout -- jupiter1.rb`.

---- 5) CÃ¡c lá»‡nh thay tháº¿ (khuyáº¿n nghá»‹) ----
Git hiá»‡n Ä‘áº¡i tÃ¡ch rÃµ hai chá»©c nÄƒng:

* Chuyá»ƒn branch: `git switch jupiter1.rb` (hoáº·c `git checkout jupiter1.rb` náº¿u báº¡n dÃ¹ng cÃ¡ch cÅ©).
* KhÃ´i phá»¥c tá»‡p: `git restore jupiter1.rb` (hoáº·c `git checkout -- jupiter1.rb` náº¿u dÃ¹ng style cÅ©).

VÃ­ dá»¥:

```
# Chuyá»ƒn branch (náº¿u lÃ  branch):
git switch jupiter1.rb

# KhÃ´i phá»¥c tá»‡p (bá» thay Ä‘á»•i chÆ°a commit):
git restore jupiter1.rb
```

---- 6) CÃ¡c lá»‡nh há»¯u Ã­ch kiá»ƒm tra trÆ°á»›c khi cháº¡y ----

* Xem branch hiá»‡n táº¡i:

  git status -sb

* Kiá»ƒm tra branch cÃ³ tá»“n táº¡i khÃ´ng:

  git branch --list jupiter1.rb

* Kiá»ƒm tra tá»‡p cÃ³ Ä‘Æ°á»£c track khÃ´ng:

  git ls-files --error-unmatch jupiter1.rb

* Xem thay Ä‘á»•i hiá»‡n táº¡i trong tá»‡p:

  git diff -- jupiter1.rb

---- 7) VÃ­ dá»¥ thá»±c táº¿ + káº¿t quáº£ máº«u ----
A) Ká»‹ch báº£n: Ä‘á»•i nhÃ¡nh

```
$ git branch
  main
* feature-x
  jupiter1.rb

$ git checkout jupiter1.rb
Switched to branch 'jupiter1.rb'
```

B) Ká»‹ch báº£n: khÃ´i phá»¥c tá»‡p (bá» thay Ä‘á»•i)

```
$ git status
On branch main
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        modified:   jupiter1.rb

$ git checkout -- jupiter1.rb
# (khÃ´ng cÃ³ output náº¿u thÃ nh cÃ´ng)

$ git status
On branch main
nothing to commit, working tree clean
```

---- 8) Cáº£nh bÃ¡o quan trá»ng ----

* `git checkout jupiter1.rb` khi dÃ¹ng Ä‘á»ƒ khÃ´i phá»¥c tá»‡p sáº½ **xÃ³a bá»** má»i chá»‰nh sá»­a chÆ°a commit cho tá»‡p Ä‘Ã³. Náº¿u báº¡n muá»‘n giá»¯ báº£n sao trÆ°á»›c khi khÃ´i phá»¥c, hÃ£y lÆ°u copy thá»§ cÃ´ng hoáº·c dÃ¹ng `git stash` hoáº·c `git diff > patchfile`.

  # LÆ°u thay Ä‘á»•i táº¡m trÆ°á»›c khi thá»­

  git add jupiter1.rb
  git stash push -m "save jupiter1.rb changes"

* Tá»‘t hÆ¡n háº¿t lÃ  dÃ¹ng `git restore` Ä‘á»ƒ má»¥c Ä‘Ã­ch khÃ´i phá»¥c tá»‡p (dá»… Ä‘á»c, Ã­t gÃ¢y nháº§m láº«n):

  git restore --staged jupiter1.rb   # bá» add trong index
  git restore jupiter1.rb            # khÃ´i phá»¥c tá»« HEAD

---- 9) CÃ¢u há»i kiá»ƒm tra (debug) náº¿u lá»‡nh khÃ´ng cháº¡y nhÆ° mong muá»‘n ----

* Lá»‡nh bÃ¡o "pathspec 'jupiter1.rb' did not match any file(s) known to git" â†’ cÃ³ thá»ƒ tá»‡p chÆ°a Ä‘Æ°á»£c track hoáº·c báº¡n sai Ä‘Æ°á»ng dáº«n/tÃªn.
* Lá»‡nh bÃ¡o "Your local changes to the following files would be overwritten by checkout" â†’ báº¡n cÃ³ thay Ä‘á»•i cá»¥c bá»™ xung Ä‘á»™t; stash hoáº·c commit trÆ°á»›c.
* Lá»‡nh Ä‘á»•i sang branch nhÆ°ng ná»™i dung khÃ´ng nhÆ° mong Ä‘á»£i â†’ kiá»ƒm tra `git log` vÃ  `git show` trÃªn branch Ä‘Ã­ch.

---- 10) TÃ³m táº¯t ngáº¯n (one-liner) ----

* `git checkout jupiter1.rb` = **chuyá»ƒn branch** náº¿u `jupiter1.rb` lÃ  branch; náº¿u khÃ´ng, **khÃ´i phá»¥c tá»‡p** `jupiter1.rb` tá»« HEAD (bá» thay Ä‘á»•i chÆ°a commit). Äá»ƒ trÃ¡nh nháº§m láº«n, dÃ¹ng `git switch` Ä‘á»ƒ Ä‘á»•i branch vÃ  `git restore` Ä‘á»ƒ khÃ´i phá»¥c tá»‡p.

---- Háº¿t ----

(Ghi chÃº: ná»™i dung trÃªn Ä‘Æ°á»£c viáº¿t Ä‘á»ƒ copy trá»±c tiáº¿p vÃ o file .txt náº¿u báº¡n cáº§n lÆ°u, in, hoáº·c gá»­i.)
		
		
		- cmd: git diff
		
git checkout jupiter1.rb

MÃ´ táº£ ngáº¯n:
Lá»‡nh `git checkout jupiter1.rb` Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ thay Ä‘á»•i tráº¡ng thÃ¡i cá»§a *working directory* báº±ng ná»™i dung cá»§a file `jupiter1.rb` tá»« commit hiá»‡n táº¡i (HEAD) hoáº·c Ä‘á»ƒ checkout má»™t file cá»¥ thá»ƒ tá»« má»™t branch hoáº·c commit khÃ¡c. LÆ°u Ã½: `git checkout` lÃ  lá»‡nh Ä‘a nÄƒng (chuyá»ƒn branch, restore file...), vÃ  trong cÃ¡c phiÃªn báº£n Git má»›i ngÆ°á»i ta khuyáº¿n nghá»‹ dÃ¹ng `git switch` vÃ  `git restore` Ä‘á»ƒ phÃ¢n tÃ¡ch chá»©c nÄƒng.

CÃº phÃ¡p cÆ¡ báº£n liÃªn quan Ä‘áº¿n file:
git checkout -- <file>
git checkout <commit-or-branch> -- <file>

CÃ¡c vÃ­ dá»¥ cá»¥ thá»ƒ:

1. KhÃ´i phá»¥c file `jupiter1.rb` vá» tráº¡ng thÃ¡i giá»‘ng nhÆ° trong HEAD (ná»™i dung commit hiá»‡n táº¡i):
   git checkout -- jupiter1.rb

   * DÃ¹ng khi báº¡n Ä‘Ã£ sá»­a `jupiter1.rb` trong working directory nhÆ°ng muá»‘n bá» cÃ¡c thay Ä‘á»•i chÆ°a staged vÃ  tráº£ file vá» phiÃªn báº£n Ä‘Ã£ commit gáº§n nháº¥t.

2. Láº¥y file `jupiter1.rb` tá»« má»™t branch khÃ¡c (vÃ­ dá»¥ branch `feature`):
   git checkout feature -- jupiter1.rb

   * Lá»‡nh nÃ y sao chÃ©p ná»™i dung `jupiter1.rb` á»Ÿ Ä‘áº§u branch `feature` vÃ o working directory cá»§a báº¡n (khÃ´ng chuyá»ƒn branch hiá»‡n táº¡i).

3. Láº¥y file `jupiter1.rb` tá»« má»™t commit cá»¥ thá»ƒ (báº±ng hash):
   git checkout <commit-hash> -- jupiter1.rb

   * Sao chÃ©p ná»™i dung file táº¡i commit Ä‘Ã³ vÃ o working directory.

HÃ nh vi chi tiáº¿t & lÆ°u Ã½:
â€¢ Khi cháº¡y `git checkout jupiter1.rb` (khÃ´ng cÃ³ `--` vÃ  khÃ´ng chá»‰ rÃµ commit/branch), Git cÃ³ thá»ƒ hiá»ƒu lÃ  muá»‘n chuyá»ƒn sang má»™t branch cÃ³ tÃªn `jupiter1.rb` náº¿u tá»“n táº¡i nhÃ¡nh cÃ¹ng tÃªn. Äá»ƒ trÃ¡nh nháº§m láº«n khi báº¡n thá»±c sá»± muá»‘n checkout file, nÃªn dÃ¹ng `--` nhÆ° trong `git checkout -- jupiter1.rb`.

â€¢ Náº¿u file `jupiter1.rb` cÃ³ thay Ä‘á»•i chÆ°a Ä‘Æ°á»£c lÆ°u (modified) vÃ  báº¡n cháº¡y `git checkout -- jupiter1.rb`, cÃ¡c thay Ä‘á»•i Ä‘Ã³ sáº½ bá»‹ máº¥t (bá»‹ ghi Ä‘Ã¨) â€” Git KHÃ”NG lÆ°u láº¡i tá»± Ä‘á»™ng. Náº¿u báº¡n muá»‘n giá»¯ táº¡m thay Ä‘á»•i trÆ°á»›c khi thá»­ nghiá»‡m, hÃ£y dÃ¹ng `git stash`.

â€¢ Náº¿u file `jupiter1.rb` khÃ´ng Ä‘Æ°á»£c theo dÃµi (untracked) vÃ  báº¡n cháº¡y `git checkout -- jupiter1.rb`, Git sáº½ bÃ¡o lá»—i vÃ¬ khÃ´ng cÃ³ phiÃªn báº£n nÃ o trong HEAD Ä‘á»ƒ khÃ´i phá»¥c.

â€¢ Náº¿u file `jupiter1.rb` bá»‹ xÃ³a cá»¥c bá»™ (deleted) vÃ  báº¡n muá»‘n khÃ´i phá»¥c tá»« HEAD:
git checkout -- jupiter1.rb
-> File sáº½ Ä‘Æ°á»£c phá»¥c há»“i tá»« commit gáº§n nháº¥t.

â€¢ Khi checkout file tá»« má»™t branch/commit khÃ¡c, Git chá»‰ cáº­p nháº­t working copy vÃ  *khÃ´ng* táº¡o commit nÃ o; báº¡n cáº§n `git add` vÃ  `git commit` náº¿u muá»‘n lÆ°u thay Ä‘á»•i nÃ y vÃ o branch hiá»‡n táº¡i.

Thay tháº¿ hiá»‡n Ä‘áº¡i:

* Git hiá»‡n khuyáº¿n nghá»‹ dÃ¹ng `git restore` cho hÃ nh Ä‘á»™ng khÃ´i phá»¥c file, vÃ­ dá»¥:
  git restore jupiter1.rb         # tÆ°Æ¡ng Ä‘Æ°Æ¡ng git checkout -- jupiter1.rb
  git restore --source feature -- jupiter1.rb   # tÆ°Æ¡ng Ä‘Æ°Æ¡ng git checkout feature -- jupiter1.rb
* DÃ¹ng `git switch` Ä‘á»ƒ chuyá»ƒn branch (khÃ´ng dÃ¹ng checkout cho má»i viá»‡c).

CÃ¡c lá»—i thÆ°á»ng gáº·p & cÃ¡ch xá»­ lÃ½:
â€¢ Lá»—i: "pathspec 'jupiter1.rb' did not match any file(s) known to git"
-> NguyÃªn nhÃ¢n: file khÃ´ng tá»“n táº¡i trong commit/branch Ä‘Æ°á»£c tham chiáº¿u hoáº·c tÃªn file sai. Kiá»ƒm tra `git ls-files` hoáº·c `git status` Ä‘á»ƒ xÃ¡c nháº­n.

â€¢ Báº¡n vÃ´ tÃ¬nh máº¥t thay Ä‘á»•i sau khi `git checkout -- jupiter1.rb`:
-> Náº¿u thay Ä‘á»•i chÆ°a Ä‘Æ°á»£c commit vÃ  báº¡n Ä‘Ã£ ghi Ä‘Ã¨, viá»‡c phá»¥c há»“i ráº¥t khÃ³; náº¿u trÆ°á»›c Ä‘Ã³ báº¡n Ä‘Ã£ stash, dÃ¹ng `git stash pop` Ä‘á»ƒ láº¥y láº¡i. Náº¿u Ä‘Ã£ commit trÆ°á»›c, dÃ¹ng `git reflog` vÃ  `git checkout <commit>` Ä‘á»ƒ tÃ¬m commit chá»©a thay Ä‘á»•i.

Lá»‡nh há»¯u Ã­ch kÃ¨m theo Ä‘á»ƒ kiá»ƒm tra hiá»‡n tráº¡ng:
git status
git diff jupiter1.rb            # xem khÃ¡c biá»‡t giá»¯a working copy vÃ  HEAD
git ls-files | grep jupiter1.rb # kiá»ƒm tra file cÃ³ Ä‘Æ°á»£c theo dÃµi khÃ´ng
git log -- jupiter1.rb          # xem lá»‹ch sá»­ commit cá»§a file

## TÃ³m táº¯t ngáº¯n gá»n (plain text, copy trá»±c tiáº¿p):

git checkout -- jupiter1.rb

# KhÃ´i phá»¥c "jupiter1.rb" vá» phiÃªn báº£n trong HEAD (bá» má»i thay Ä‘á»•i chÆ°a staged).

# Láº¥y file tá»« branch khÃ¡c: git checkout <branch> -- jupiter1.rb

# Láº¥y file tá»« commit: git checkout <commit-hash> -- jupiter1.rb

# Náº¿u báº¡n muá»‘n trÃ¡nh lá»‡nh Ä‘a nÄƒng, dÃ¹ng git restore:

# git restore jupiter1.rb

# LÆ°u Ã½: hÃ nh Ä‘á»™ng nÃ y cÃ³ thá»ƒ ghi Ä‘Ã¨ máº¥t thay Ä‘á»•i chÆ°a commit. Náº¿u cáº§n giá»¯ táº¡m, git stash trÆ°á»›c.

---

Háº¿t.
		
		
		- cmd: git diff --cached
		
Giáº£i thÃ­ch chi tiáº¿t cho lá»‡nh: `git diff --cached`

---- Má»¥c tiÃªu tÃ i liá»‡u ----
TÃ i liá»‡u nÃ y mÃ´ táº£ rÃµ rÃ ng, tá»«ng bÆ°á»›c, báº±ng plain text vá» Ã½ nghÄ©a, cÃ¡ch hoáº¡t Ä‘á»™ng, cÃ¡c vÃ­ dá»¥ thá»±c táº¿ vÃ  cÃ¡c lÆ°u Ã½ khi dÃ¹ng lá»‡nh `git diff --cached`. Báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p toÃ n bá»™ ná»™i dung nÃ y vÃ o file `.txt`.

---- 1) Tá»•ng quan ngáº¯n ----
`git diff --cached` hiá»ƒn thá»‹ **sá»± khÃ¡c nhau giá»¯a index (staging area) vÃ  commit hiá»‡n thá»i (HEAD)**. NÃ³i cÃ¡ch khÃ¡c, nÃ³ cho báº¡n tháº¥y nhá»¯ng thay Ä‘á»•i báº¡n Ä‘Ã£ "staged" (Ä‘Ã£ `git add`) Ä‘á»ƒ chuáº©n bá»‹ cho commit tiáº¿p theo, so vá»›i phiÃªn báº£n Ä‘Ã£ commit trÆ°á»›c Ä‘Ã³.

LÆ°u Ã½: `--cached` tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `--staged` (hai tÃªn thay tháº¿ nhau). Má»™t sá»‘ ngÆ°á»i dÃ¹ng cÅ©ng hay viáº¿t `git diff --staged` mÃ  hiá»‡u quáº£ giá»‘ng há»‡t.

---- 2) Ã nghÄ©a cá»§a cÃ¡c thÃ nh pháº§n ----

* **Working directory (thÆ° má»¥c lÃ m viá»‡c):** nÆ¡i báº¡n chá»‰nh sá»­a file.
* **Index / Staging area (chá»‰ má»¥c):** nÆ¡i báº¡n thÃªm file báº±ng `git add` trÆ°á»›c khi commit.
* **HEAD:** commit hiá»‡n táº¡i (nÆ¡i con trá» HEAD Ä‘ang trá» tá»›i).

`git diff --cached` so sÃ¡nh **index** vá»›i **HEAD**.

---- 3) Khi nÃ o dÃ¹ng `git diff --cached` ----

* Muá»‘n xem chÃ­nh xÃ¡c nhá»¯ng gÃ¬ sáº½ Ä‘Æ°á»£c commit trong commit tiáº¿p theo (nhá»¯ng gÃ¬ Ä‘Ã£ staged).
* Sau khi `git add` má»™t hoáº·c nhiá»u file, muá»‘n kiá»ƒm tra láº¡i patch trÆ°á»›c khi `git commit`.

---- 4) So sÃ¡nh vá»›i cÃ¡c lá»‡nh liÃªn quan ----

* `git diff` (khÃ´ng cÃ³ tham sá»‘): so sÃ¡nh **working directory** vá»›i **index** â€” tá»©c lÃ  hiá»ƒn thá»‹ thay Ä‘á»•i chÆ°a Ä‘Æ°á»£c staged.
* `git diff --cached`: so sÃ¡nh **index** vá»›i **HEAD** â€” hiá»ƒn thá»‹ thay Ä‘á»•i Ä‘Ã£ staged sáº½ Ä‘i vÃ o commit.
* `git diff HEAD`: so sÃ¡nh **working directory** vá»›i **HEAD** â€” hiá»ƒn thá»‹ táº¥t cáº£ thay Ä‘á»•i (staged + unstaged) so vá»›i HEAD.
* `git status` cho cÃ¡i nhÃ¬n tá»•ng quan (danh sÃ¡ch file changed, staged/unstaged) nhÆ°ng khÃ´ng show diff chi tiáº¿t.

---- 5) VÃ­ dá»¥ thá»±c táº¿ ----
Giáº£ sá»­ báº¡n sá»­a 2 file: `a.txt` vÃ  `b.txt`.

```
# Báº¡n sá»­a a.txt vÃ  b.txt
git add a.txt            # chá»‰ stage a.txt
```

BÃ¢y giá»:

* `git diff` sáº½ hiá»ƒn thá»‹ diff cho `b.txt` (chÆ°a staged) so vá»›i index.
* `git diff --cached` sáº½ hiá»ƒn thá»‹ diff cho `a.txt` (nhá»¯ng thay Ä‘á»•i Ä‘Ã£ staged so vá»›i HEAD).

VÃ­ dá»¥ output máº«u cho `git diff --cached`:

```
diff --git a/a.txt b/a.txt
index e69de29..b6fc4c6 100644
--- a/a.txt
+++ b/a.txt
@@ -0,0 +1,3 @@
+Hello world
+This is a staged change
+End of file
```

(KÃ½ hiá»‡u `+` lÃ  dÃ²ng thÃªm; `-` lÃ  dÃ²ng xoÃ¡)

---- 6) CÃ¡c tuá»³ chá»n há»¯u Ã­ch khi dÃ¹ng ----

* `git diff --cached --name-only` : chá»‰ liá»‡t kÃª tÃªn cÃ¡c file Ä‘Ã£ staged (khÃ´ng show ná»™i dung diff).
* `git diff --cached --name-status` : liá»‡t kÃª file kÃ¨m tráº¡ng thÃ¡i (A = added, M = modified, D = deleted).
* `git diff --cached <commit>` : so sÃ¡nh index vá»›i commit Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh (thÆ°á»ng Ã­t dÃ¹ng; máº·c Ä‘á»‹nh so vá»›i HEAD).
* `git diff --staged` : tÆ°Æ¡ng Ä‘Æ°Æ¡ng `--cached`.

---- 7) Máº¹o & workflow phá»• biáº¿n ----

* Kiá»ƒm tra ká»¹ trÆ°á»›c khi commit:

  git add -p    # stage theo tá»«ng chunk (patch)
  git diff --cached   # kiá»ƒm tra láº¡i nhá»¯ng gÃ¬ Ä‘Ã£ stage
  git commit -m "..."

* Náº¿u báº¡n staged nháº§m file hoáº·c muá»‘n chá»‰nh sá»­a láº¡i index:

  git restore --staged file.txt   # bá» file khá»i staging area (Git 2.23+)

  # hoáº·c (cÃ¡ch cÅ©)

  git reset HEAD -- file.txt

* Náº¿u báº¡n muá»‘n commit má»i thay Ä‘á»•i (staged) ngay:

  git commit -m "message"

---- 8) LÆ°u Ã½ quan trá»ng ----

* `git diff --cached` khÃ´ng hiá»ƒn thá»‹ thay Ä‘á»•i chÆ°a Ä‘Æ°á»£c staged (Ä‘Ã³ lÃ  `git diff`). Náº¿u báº¡n muá»‘n tháº¥y má»i thá»© so vá»›i HEAD (staged + unstaged), dÃ¹ng `git diff HEAD`.
* `git diff --cached` hiá»ƒn thá»‹ nhá»¯ng gÃ¬ sáº½ *thá»±c sá»±* Ä‘i vÃ o commit, vÃ¬ commit láº¥y ná»™i dung tá»« index.
* Náº¿u báº¡n thay Ä‘á»•i má»™t file sau khi Ä‘Ã£ `git add` (vÃ­ dá»¥: `git add a.txt` rá»“i sá»­a tiáº¿p `a.txt`), thÃ¬ index váº«n giá»¯ phiÃªn báº£n Ä‘Æ°á»£c staged â€” `git diff --cached` sáº½ khÃ´ng hiá»ƒn thá»‹ pháº§n chá»‰nh sá»­a sau khi `git add` (trá»« khi báº¡n `git add` láº¡i). Äá»ƒ tháº¥y sá»± khÃ¡c biá»‡t giá»¯a staged vÃ  working tree, dÃ¹ng `git diff`.

---- 9) VÃ­ dá»¥ ká»‹ch báº£n â€” minh hoáº¡ chi tiáº¿t ----
BÆ°á»›c 1: Táº¡o repo máº«u

```
mkdir demo && cd demo
git init
echo "line1" > file.txt
git add file.txt
git commit -m "initial"
```

BÆ°á»›c 2: Sá»­a file 2 láº§n

```
echo "line2" >> file.txt   # sá»­a láº§n 1
git add file.txt           # stage láº§n 1
echo "line3" >> file.txt  # sá»­a láº§n 2 (chÆ°a stage)
```

Kiá»ƒm tra:

* `git diff --cached` sáº½ show diff chá»©a dÃ²ng `line2` (phiÃªn báº£n Ä‘Ã£ staged so vá»›i HEAD)
* `git diff` sáº½ show diff chá»©a dÃ²ng `line3` (sá»± khÃ¡c giá»¯a working tree vÃ  index)
* `git diff HEAD` sáº½ show cáº£ `line2` vÃ  `line3` so vá»›i HEAD

---- 10) CÃ¡c lá»—i/thÃ´ng bÃ¡o thÆ°á»ng gáº·p vÃ  cÃ¡ch xá»­ lÃ½ ----

* KhÃ´ng tháº¥y gÃ¬ khi cháº¡y `git diff --cached`: cÃ³ thá»ƒ chÆ°a stage file nÃ o (index trÃ¹ng vá»›i HEAD). Kiá»ƒm tra `git status`.
* Muá»‘n tháº¥y file nÃ o staged nhÆ°ng khÃ´ng muá»‘n diff chi tiáº¿t: dÃ¹ng `git diff --cached --name-only`.

---- 11) TÃ­ch há»£p vá»›i GUI/IDE vÃ  CI ----

* Háº§u háº¿t GUI Git (SourceTree, GitKraken, VS Code) hiá»ƒn thá»‹ khu vá»±c "Staged changes" tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i output `git diff --cached`.
* Trong scripts/CI, báº¡n cÃ³ thá»ƒ dÃ¹ng `git diff --cached --name-only` Ä‘á»ƒ kiá»ƒm tra xem cÃ³ file staged hay khÃ´ng trÆ°á»›c khi thá»±c hiá»‡n bÆ°á»›c tiáº¿p.

---- 12) TÃ³m táº¯t ngáº¯n (one-liner) ----
`git diff --cached` = hiá»ƒn thá»‹ diff giá»¯a **staging area (index)** vÃ  **HEAD** â†’ tá»©c lÃ  nhá»¯ng gÃ¬ sáº½ Ä‘Æ°á»£c commit náº¿u báº¡n cháº¡y `git commit` ngay bÃ¢y giá». `--cached` tÆ°Æ¡ng Ä‘Æ°Æ¡ng `--staged`.

---- Háº¿t ----

(Ghi chÃº: tÃ i liá»‡u nÃ y Ä‘Æ°á»£c viáº¿t Ä‘á»ƒ copy trá»±c tiáº¿p vÃ o file .txt, chá»©a cÃ¡c vÃ­ dá»¥ vÃ  lá»‡nh Ä‘á»ƒ báº¡n dÃ¡n vÃ  cháº¡y trÃªn terminal.)
		
		
		- cmd: git restore --staged jupiter1.rb
		
Giáº£i thÃ­ch chi tiáº¿t cho lá»‡nh: `git restore --staged jupiter1.rb`

---- Má»¥c tiÃªu tÃ i liá»‡u ----
TÃ i liá»‡u nÃ y giáº£i thÃ­ch chi tiáº¿t Ã½ nghÄ©a, hÃ nh vi, vÃ­ dá»¥ vÃ  lÆ°u Ã½ khi cháº¡y lá»‡nh `git restore --staged jupiter1.rb`. Ná»™i dung á»Ÿ Ä‘á»‹nh dáº¡ng plain text, sáºµn sÃ ng Ä‘á»ƒ copy trá»±c tiáº¿p vÃ o file `.txt`.

---- 1) Tá»•ng quan ngáº¯n ----
`git restore --staged jupiter1.rb` dÃ¹ng Ä‘á»ƒ **bá» (unstage) file `jupiter1.rb` ra khá»i staging area (index)** mÃ  khÃ´ng thay Ä‘á»•i ná»™i dung hiá»‡n cÃ³ trong working directory. NÃ³i cÃ¡ch khÃ¡c: phiÃªn báº£n cá»§a `jupiter1.rb` trong index sáº½ Ä‘Æ°á»£c thay báº±ng phiÃªn báº£n hiá»‡n Ä‘ang á»Ÿ HEAD (hoáº·c bá»‹ xÃ³a khá»i index), nhÆ°ng file trÃªn Ä‘Ä©a (thÆ° má»¥c lÃ m viá»‡c) **khÃ´ng bá»‹ revert** â€” cÃ¡c thay Ä‘á»•i cá»¥c bá»™ váº«n cÃ²n.

LÆ°u Ã½: `git restore` lÃ  lá»‡nh má»›i (Git 2.23+) Ä‘á»ƒ thay tháº¿ má»™t sá»‘ hÃ nh vi cá»§a `git checkout`/`git reset`. Tham sá»‘ `--staged` tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i hÃ nh vi cá»§a `git reset HEAD -- <file>` trong cÃ¡ch lÃ m cÅ©.

---- 2) Ã nghÄ©a chi tiáº¿t cá»§a hÃ nh Ä‘á»™ng ----

* **TrÆ°á»›c lá»‡nh**: báº¡n cÃ³ thá»ƒ Ä‘Ã£ cháº¡y `git add jupiter1.rb` (Ä‘Ã£ staged má»™t sá»‘ thay Ä‘á»•i) vÃ  file Ä‘Ã³ sáº½ Ä‘Æ°á»£c Ä‘Æ°a vÃ o commit tiáº¿p theo.
* **Sau lá»‡nh `git restore --staged jupiter1.rb`**:

  * Má»¥c Ä‘Ã­ch: **bá»** jupiter1.rb khá»i staging area.
  * Káº¿t quáº£: file `jupiter1.rb` sáº½ **khÃ´ng cÃ²n** trong danh sÃ¡ch cÃ¡c file staged (tá»©c sáº½ khÃ´ng vÃ o commit tiáº¿p theo) â€” nhÆ°ng sá»­a Ä‘á»•i báº¡n lÃ m trong working directory váº«n **giá»¯ nguyÃªn** (khÃ´ng bá»‹ xÃ³a).
  * Vá» máº·t ká»¹ thuáº­t: ná»™i dung Ä‘Æ°á»£c lÆ°u trong index cho file Ä‘Ã³ Ä‘Æ°á»£c thay báº±ng ná»™i dung tá»« HEAD (hoáº·c index bá»‹ xÃ³a náº¿u file má»›i Ä‘Æ°á»£c thÃªm vÃ o), do Ä‘Ã³ index vÃ  working directory sáº½ khÃ¡c nhau náº¿u báº¡n váº«n chÆ°a thay Ä‘á»•i file sau khi unstaged.

---- 3) Khi nÃ o nÃªn dÃ¹ng ----

* Báº¡n Ä‘Ã£ `git add` nháº§m file hoáº·c nháº§m pháº§n sá»­a Ä‘á»•i vÃ  muá»‘n loáº¡i bá» nÃ³ khá»i commit sáº¯p tá»›i.
* Báº¡n muá»‘n chá»‰nh sá»­a thÃªm file trÆ°á»›c khi stage láº¡i vÃ  commit.
* Báº¡n muá»‘n giá»¯ thay Ä‘á»•i trÃªn working directory nhÆ°ng khÃ´ng muá»‘n chÃºng xuáº¥t hiá»‡n trong commit tiáº¿p theo.

---- 4) So sÃ¡nh vá»›i lá»‡nh cÅ© tÆ°Æ¡ng Ä‘Æ°Æ¡ng ----

* TÆ°Æ¡ng Ä‘Æ°Æ¡ng (cÃ¡ch cá»•):

  git reset HEAD -- jupiter1.rb

  `git restore --staged jupiter1.rb` lÃ  cÃº phÃ¡p má»›i, rÃµ rÃ ng hÆ¡n vÃ  Ä‘Æ°á»£c khuyáº¿n nghá»‹ trÃªn Git hiá»‡n Ä‘áº¡i.

---- 5) VÃ­ dá»¥ cá»¥ thá»ƒ ----
Ká»‹ch báº£n:

```
# 1. Sá»­a file
echo "change A" >> jupiter1.rb

# 2. Stage thay Ä‘á»•i
git add jupiter1.rb

# 3. LÃºc nÃ y git status hiá»‡n nhÆ°:
# Changes to be committed:
#   modified: jupiter1.rb

# 4. Báº¡n quyáº¿t Ä‘á»‹nh bá» thay Ä‘á»•i khá»i staging (nhÆ°ng váº«n giá»¯ thay Ä‘á»•i trÃªn disk)
git restore --staged jupiter1.rb

# 5. Sau Ä‘Ã³ git status sáº½ hiá»ƒn thá»‹:
# Changes not staged for commit:
#   modified: jupiter1.rb
```

Káº¿t luáº­n: thay Ä‘á»•i váº«n hiá»‡n trong working directory nhÆ°ng khÃ´ng cÃ²n staged.

---- 6) Tuá»³ chá»n há»¯u Ã­ch ----

* `git restore --staged .` : bá» táº¥t cáº£ cÃ¡c file Ä‘ang staged.
* `git restore --staged --source=HEAD jupiter1.rb` : rÃµ rÃ ng chá»‰ Ä‘á»‹nh nguá»“n Ä‘á»ƒ restore (máº·c Ä‘á»‹nh `HEAD` khi unstaging).

---- 7) CÃ¡c trÆ°á»ng há»£p Ä‘áº·c biá»‡t vÃ  hÃ nh vi cáº§n lÆ°u Ã½ ----

* Náº¿u `jupiter1.rb` lÃ  file má»›i (untracked) vÃ  báº¡n Ä‘Ã£ `git add jupiter1.rb` (tá»©c Ä‘Ã£ staged file má»›i), `git restore --staged jupiter1.rb` sáº½ **loáº¡i bá»** file nÃ y khá»i index â€” nghÄ©a lÃ  nÃ³ trá»Ÿ láº¡i tráº¡ng thÃ¡i untracked (váº«n tá»“n táº¡i trÃªn Ä‘Ä©a nhÆ°ng khÃ´ng staged).
* Náº¿u báº¡n Ä‘Ã£ staged pháº§n A cá»§a má»™t file báº±ng `git add -p` rá»“i muá»‘n bá» staged Ä‘Ã³ mÃ  chá»‰ giá»¯ pháº§n cÃ²n láº¡i unstaged, `git restore --staged` bá» toÃ n bá»™ file khá»i index (khÃ´ng bá» tá»«ng hunk). Äá»ƒ thao tÃ¡c tá»«ng hunk, dÃ¹ng `git reset -p` hoáº·c `git add -p` láº¡i theo Ã½ muá»‘n.
* Lá»‡nh nÃ y **khÃ´ng** thay Ä‘á»•i working directory; náº¿u báº¡n muá»‘n cáº£ unstaging vÃ  khÃ´i phá»¥c ná»™i dung file vá» HEAD, báº¡n sáº½ cáº§n thÃªm `git restore jupiter1.rb` (khÃ´ng cÃ³ `--staged`) Ä‘á»ƒ reset ná»™i dung working tree.

---- 8) Káº¿t há»£p workflow gá»£i Ã½ ----

* Muá»‘n chá»‰nh sá»­a rá»“i resume staging/committing má»™t pháº§n:

  # stage cÃ¡c file cáº§n thiáº¿t

  git add file1 file2

  # báº¡n staged nháº§m jupiter1.rb

  git restore --staged jupiter1.rb

  # chá»‰nh sá»­a thÃªm jupiter1.rb náº¿u cáº§n

  # sau khi á»•n, stage láº¡i

  git add jupiter1.rb
  git commit -m "..."

---- 9) CÃ¡c lá»—i/thÃ´ng bÃ¡o thÆ°á»ng gáº·p ----

* Náº¿u lá»‡nh bÃ¡o "pathspec 'jupiter1.rb' did not match any file(s) known to git": cÃ³ thá»ƒ báº¡n gÃµ sai tÃªn hoáº·c repo khÃ´ng track file Ä‘Ã³ (hoáº·c file khÃ´ng tá»“n táº¡i Ä‘Æ°á»ng dáº«n hiá»‡n táº¡i). Kiá»ƒm tra `git status` hoáº·c `ls`.
* Náº¿u báº¡n mong muá»‘n lá»‡nh nÃ y cÅ©ng khÃ´i phá»¥c working directory vá» HEAD nhÆ°ng chá»‰ dÃ¹ng `--staged`, thÃ¬ báº¡n sáº½ tháº¥y file váº«n giá»¯ thay Ä‘á»•i â€” Ä‘Ã³ lÃ  hÃ nh vi Ä‘Ãºng (vÃ¬ `--staged` chá»‰ affect index).

---- 10) TÃ³m táº¯t ngáº¯n (one-liner) ----
`git restore --staged jupiter1.rb` = **bá»** file `jupiter1.rb` khá»i staging area (index) mÃ  **khÃ´ng xÃ³a** cÃ¡c thay Ä‘á»•i trÃªn working directory; tÆ°Æ¡ng Ä‘Æ°Æ¡ng `git reset HEAD -- jupiter1.rb` trong cÃ¡ch dÃ¹ng cÅ©.

---- Háº¿t ----

(Ghi chÃº: ná»™i dung Ä‘Æ°á»£c viáº¿t Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ o file `.txt`. Náº¿u muá»‘n báº£n rÃºt gá»n hÆ¡n hoáº·c vÃ­ dá»¥ báº±ng tiáº¿ng Anh, mÃ¬nh sáº½ táº¡o thÃªm.)
		
		
		- cmd: git diff 8dff644..cbb01a8
		
Giáº£i thÃ­ch chi tiáº¿t cho lá»‡nh: `git diff 8dff644..cbb01a8`

---- Má»¥c tiÃªu tÃ i liá»‡u ----
TÃ i liá»‡u nÃ y mÃ´ táº£ chi tiáº¿t Ã½ nghÄ©a, cÃ¡ch hoáº¡t Ä‘á»™ng, cÃ¡c tÃ¹y chá»n, vÃ­ dá»¥ vÃ  cÃ¡ch Ä‘á»c káº¿t quáº£ khi cháº¡y `git diff <commit1>..<commit2>`, cá»¥ thá»ƒ vá»›i hai commit `8dff644` vÃ  `cbb01a8`. Ná»™i dung Ä‘á»‹nh dáº¡ng plain text, sáºµn sÃ ng Ä‘á»ƒ copy vÃ o file `.txt`.

---- 1) Tá»•ng quan ngáº¯n ----
`git diff 8dff644..cbb01a8` so sÃ¡nh **sá»± khÃ¡c nhau giá»¯a hai commit** cÃ³ hash (hoáº·c prefix hash) `8dff644` vÃ  `cbb01a8` vÃ  in ra **patch** (cÃ¡c dÃ²ng thÃªm/xÃ³a) Ä‘á»ƒ báº¡n tháº¥y chÃ­nh xÃ¡c nhá»¯ng gÃ¬ thay Ä‘á»•i tá»« commit `8dff644` sang commit `cbb01a8`.

LÆ°u Ã½ cÃº phÃ¡p: `A..B` (hai dáº¥u cháº¥m) trong `git diff` thÆ°á»ng tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `git diff A B` â€” nghÄ©a lÃ  so sÃ¡nh **A** nhÆ° nguá»“n vÃ  **B** nhÆ° Ä‘Ã­ch, hiá»ƒn thá»‹ diff cáº§n Ã¡p dá»¥ng lÃªn A Ä‘á»ƒ Ä‘Æ°á»£c B.

---- 2) Ã nghÄ©a cá»¥ thá»ƒ cá»§a `8dff644..cbb01a8` ----

* `8dff644` lÃ  commit cÅ© (base).
* `cbb01a8` lÃ  commit má»›i (target).
* Lá»‡nh cho biáº¿t: "Nhá»¯ng gÃ¬ Ä‘Ã£ thay Ä‘á»•i tá»« `8dff644` sang `cbb01a8`?" (patch cáº§n Ä‘á»ƒ chuyá»ƒn code á»Ÿ tráº¡ng thÃ¡i `8dff644` thÃ nh tráº¡ng thÃ¡i `cbb01a8`).

---- 3) CÃº phÃ¡p thay tháº¿ vÃ  tÆ°Æ¡ng Ä‘Æ°Æ¡ng ----

* `git diff 8dff644 cbb01a8`         # tÆ°Æ¡ng Ä‘Æ°Æ¡ng
* `git diff 8dff644..cbb01a8`       # viáº¿t ngáº¯n dáº¡ng range (thÆ°á»ng dÃ¹ng)
* `git diff 8dff644...cbb01a8`      # (ba dáº¥u cháº¥m) cÃ³ Ã½ nghÄ©a khÃ¡c (so sÃ¡nh merge base vá»›i cbb01a8)

ChÃº Ã½: **hai dáº¥u cháº¥m (`..`)** so sÃ¡nh trá»±c tiáº¿p hai commit; **ba dáº¥u cháº¥m (`...`)** so sÃ¡nh thay Ä‘á»•i tá»« *merge-base* cá»§a hai commit tá»›i commit thá»© hai.

---- 4) Khi dÃ¹ng `..` hay `...` ----

* DÃ¹ng `git diff A..B` hoáº·c `git diff A B` khi báº¡n muá»‘n diff trá»±c tiáº¿p A -> B.
* DÃ¹ng `git diff A...B` khi A vÃ  B lÃ  hai nhÃ¡nh khÃ¡c nhau vÃ  báº¡n muá»‘n xem nhá»¯ng thay Ä‘á»•i trÃªn B **so vá»›i Ä‘iá»ƒm chung (merge-base)** cá»§a A vÃ  B â€” há»¯u Ã­ch Ä‘á»ƒ tháº¥y nhá»¯ng commit mÃ  B cÃ³ thÃªm so vá»›i A khi lÃ m review nhÃ¡nh.

---- 5) VÃ­ dá»¥ káº¿t quáº£ máº«u ----
Output thÆ°á»ng dáº¡ng patch unified diff, vÃ­ dá»¥:

```
diff --git a/src/app.js b/src/app.js
index e3a1c2b..d4f5a6b 100644
--- a/src/app.js
+++ b/src/app.js
@@ -10,7 +10,8 @@ function start() {
-  console.log('old log');
+  console.log('new log');
+  console.log('another line');
```

Dáº¥u `-` phÃ­a trÆ°á»›c dÃ²ng nghÄ©a lÃ  dÃ²ng bá»‹ xÃ³a tá»« commit cÅ©; dáº¥u `+` nghÄ©a lÃ  dÃ²ng thÃªm vÃ o á»Ÿ commit má»›i.

---- 6) CÃ¡c tuá»³ chá»n há»¯u Ã­ch khi diff commit..commit ----

* `--name-only` : chá»‰ hiá»‡n tÃªn file Ä‘Ã£ thay Ä‘á»•i.

  git diff --name-only 8dff644..cbb01a8

* `--name-status` : hiá»‡n tráº¡ng thÃ¡i (A, M, D) kÃ¨m tÃªn file.

  git diff --name-status 8dff644..cbb01a8

* `--stat` : hiá»‡n thá»‘ng kÃª (sá»‘ file thay Ä‘á»•i, sá»‘ dÃ²ng add/remove).

  git diff --stat 8dff644..cbb01a8

* `--patch` (máº·c Ä‘á»‹nh): hiá»‡n patch chi tiáº¿t (nhiá»u tuá»³ chá»n khÃ¡c cÃ³ thá»ƒ káº¿t há»£p).

* `-U<num>` : thay Ä‘á»•i sá»‘ dÃ²ng context hiá»ƒn thá»‹ xung quanh diff (máº·c Ä‘á»‹nh 3).

---- 7) Xem commit message vÃ  contexts kÃ¨m theo ----
Náº¿u báº¡n muá»‘n biáº¿t commit messages giá»¯a hai commit (danh sÃ¡ch commit), dÃ¹ng:

```
git log --oneline 8dff644..cbb01a8
```

Äiá»u nÃ y liá»‡t kÃª cÃ¡c commit mÃ  `cbb01a8` cÃ³ nhÆ°ng `8dff644` khÃ´ng cÃ³ (theo hÆ°á»›ng A..B). Sau Ä‘Ã³ báº¡n cÃ³ thá»ƒ diff tá»«ng commit náº¿u cáº§n.

---- 8) TrÆ°á»ng há»£p Ä‘áº·c biá»‡t: hai commits khÃ´ng cÃ¹ng dÃ²ng lá»‹ch sá»­ ----

* Náº¿u `8dff644` khÃ´ng lÃ  ancestor cá»§a `cbb01a8` (vÃ­ dá»¥ hai nhÃ¡nh khÃ¡c nhau), `git diff 8dff644..cbb01a8` váº«n sáº½ so sÃ¡nh snapshot cá»§a tree á»Ÿ `8dff644` vÃ  `cbb01a8` â€” tá»©c so sÃ¡nh tráº¡ng thÃ¡i file há»‡ thá»‘ng giá»¯a hai commit, khÃ´ng quan tÃ¢m lá»‹ch sá»­.
* Náº¿u báº¡n muá»‘n xem thay Ä‘á»•i "tá»« nÆ¡i chung" tá»›i commit má»›i, dÃ¹ng `...` nhÆ° Ä‘Ã£ mÃ´ táº£.

---- 9) VÃ­ dá»¥ workflow (ká»‹ch báº£n thá»±c táº¿) ----
Ká»‹ch báº£n: báº¡n muá»‘n kiá»ƒm tra thay Ä‘á»•i giá»¯a commit Ä‘Ã¡y release vÃ  commit sau khi sá»­a bug.

```
git diff 8dff644..cbb01a8 > patch-for-review.diff
```

Báº¡n cÃ³ thá»ƒ gá»­i file `patch-for-review.diff` cho reviewer hoáº·c cháº¡y `git apply patch-for-review.diff` á»Ÿ repository khÃ¡c.

---- 10) CÃ¡ch Ã¡p dá»¥ng patch hoáº·c táº¡o file patch ----

* Xuáº¥t diff ra file:

  git diff 8dff644..cbb01a8 > changes.patch

* Ãp dá»¥ng patch á»Ÿ nÆ¡i khÃ¡c:

  git apply changes.patch

* Náº¿u muá»‘n táº¡o patch dáº¡ng commit series (dÃ¹ng `git format-patch`) thay vÃ¬ `git diff`:

  git format-patch 8dff644..cbb01a8

---- 11) CÃ¡c lá»—i/thÃ´ng bÃ¡o thÆ°á»ng gáº·p vÃ  cÃ¡ch xá»­ lÃ½ ----

* Náº¿u má»™t trong hai hash khÃ´ng tá»“n táº¡i: Git sáº½ bÃ¡o lá»—i "bad revision". HÃ£y kiá»ƒm tra báº±ng `git show 8dff644`.
* Náº¿u output quÃ¡ dÃ i: káº¿t há»£p `--name-only` hoáº·c `--stat` Ä‘á»ƒ tÃ³m táº¯t.
* Náº¿u muá»‘n diff chá»‰ cho 1 file giá»¯a hai commit:

  git diff 8dff644..cbb01a8 -- path/to/file

---- 12) Káº¿t há»£p vá»›i cÃ´ng cá»¥ khÃ¡c (GUI, IDE) ----

* Háº§u háº¿t GUI Git (VSCode, SourceTree) cho phÃ©p chá»n 2 commit vÃ  xem diff tÆ°Æ¡ng tá»±.
* Lá»‡nh `git difftool 8dff644..cbb01a8` má»Ÿ diff báº±ng external diff tool (náº¿u cáº¥u hÃ¬nh `difftool`).

---- 13) Máº¹o Ä‘á»c diff hiá»‡u quáº£ ----

* DÃ¹ng `--stat` trÆ°á»›c Ä‘á»ƒ biáº¿t file nÃ o quan trá»ng (sá»‘ dÃ²ng thay Ä‘á»•i lá»›n).
* Náº¿u báº¡n tháº¥y nhiá»u thay Ä‘á»•i format (vÃ­ dá»¥ whitespace), thá»­ `git diff -w` Ä‘á»ƒ ignore whitespace.
* DÃ¹ng `-U0` hoáº·c `-U1` Ä‘á»ƒ giáº£m context náº¿u muá»‘n táº­p trung vÃ o thay Ä‘á»•i ngáº¯n.

---- 14) TÃ³m táº¯t ngáº¯n (one-liner) ----
`git diff 8dff644..cbb01a8` hiá»ƒn thá»‹ patch nhá»¯ng thay Ä‘á»•i cáº§n Ä‘á»ƒ biáº¿n tree á»Ÿ commit `8dff644` thÃ nh tree á»Ÿ commit `cbb01a8` (so sÃ¡nh snapshot giá»¯a hai commit). DÃ¹ng `--name-only`, `--stat`, `--name-status` Ä‘á»ƒ tÃ³m táº¯t, hoáº·c `...` (ba dáº¥u cháº¥m) náº¿u báº¡n muá»‘n so sÃ¡nh tá»« merge-base.

---- Háº¿t ----

(Ghi chÃº: vÄƒn báº£n nÃ y viáº¿t Ä‘á»ƒ copy nguyÃªn xi vÃ o file `.txt`. Náº¿u báº¡n muá»‘n kÃ¨m vÃ­ dá»¥ output thá»±c táº¿ tá»« repo cá»§a báº¡n, dÃ¡n hai hash tháº­t vÃ  mÃ¬nh sáº½ táº¡o vÃ­ dá»¥ tÆ°Æ¡ng á»©ng.)
		
		
		- cmd: git revert HEAD
		
Giáº£i thÃ­ch chi tiáº¿t cho lá»‡nh: `git revert HEAD`

---- Má»¥c tiÃªu tÃ i liá»‡u ----
TÃ i liá»‡u nÃ y giáº£i thÃ­ch rÃµ rÃ ng, tá»«ng bÆ°á»›c, báº±ng plain text vá» Ã½ nghÄ©a, hÃ nh vi, cÃ¡c tuá»³ chá»n, vÃ­ dá»¥ thá»±c táº¿ vÃ  lÆ°u Ã½ khi cháº¡y lá»‡nh `git revert HEAD`. Ná»™i dung Ä‘Æ°á»£c viáº¿t Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ o file `.txt`.

---- 1) Tá»•ng quan ngáº¯n ----
`git revert HEAD` táº¡o má»™t commit má»›i *lÃ m ngÆ°á»£c láº¡i* thay Ä‘á»•i cá»§a commit hiá»‡n táº¡i mÃ  HEAD Ä‘ang trá» tá»›i (tá»©c commit gáº§n nháº¥t trÃªn nhÃ¡nh hiá»‡n táº¡i). ÄÃ¢y lÃ  cÃ¡ch an toÃ n Ä‘á»ƒ "hoÃ n tÃ¡c" má»™t commit Ä‘Ã£ Ä‘Æ°á»£c public (Ä‘Ã£ push), vÃ¬ nÃ³ khÃ´ng sá»­a láº¡i lá»‹ch sá»­ commit cÅ© mÃ  thÃªm má»™t commit Ä‘áº£o ngÆ°á»£c.

---- 2) Ã nghÄ©a chi tiáº¿t ----

* **HEAD** lÃ  con trá» tá»›i commit hiá»‡n táº¡i trÃªn nhÃ¡nh (latest commit trÃªn nhÃ¡nh Ä‘ang checkout).
* `git revert HEAD` táº¡o má»™t commit má»›i (revert commit) cÃ³ ná»™i dung lÃ  patch nghá»‹ch Ä‘áº£o cá»§a commit HEAD: má»i dÃ²ng thÃªm á»Ÿ commit gá»‘c sáº½ bá»‹ xÃ³a á»Ÿ commit revert, má»i dÃ²ng xÃ³a sáº½ bá»‹ thÃªm trá»Ÿ láº¡i.
* Sau khi revert thÃ nh cÃ´ng, lá»‹ch sá»­ váº«n giá»¯ commit gá»‘c; chá»‰ cÃ³ má»™t commit má»›i xuáº¥t hiá»‡n ngay sau HEAD lÃ m nhiá»‡m vá»¥ Ä‘áº£o ngÆ°á»£c hÃ nh vi.

---- 3) Khi nÃ o dÃ¹ng `git revert` ----

* Khi báº¡n Ä‘Ã£ **push** commit vÃ  muá»‘n hoÃ n tÃ¡c nhÆ°ng khÃ´ng muá»‘n rewrite lá»‹ch sá»­ (khÃ´ng dÃ¹ng `git reset`), vÃ¬ rewrite lá»‹ch sá»­ gÃ¢y rá»‘i cho ngÆ°á»i khÃ¡c.
* Khi báº¡n muá»‘n cháº¯c cháº¯n an toÃ n trong mÃ´i trÆ°á»ng team/CI: revert thÃªm commit má»›i, má»i ngÆ°á»i pull sáº½ nháº­n revert.

---- 4) So sÃ¡nh vá»›i `git reset` ----

* `git revert` **thÃªm** má»™t commit Ä‘á»ƒ Ä‘áº£o ngÆ°á»£c thay Ä‘á»•i (khÃ´ng thay Ä‘á»•i lá»‹ch sá»­ cÅ©). An toÃ n cho commits Ä‘Ã£ push.
* `git reset` **di chuyá»ƒn** con trá» branch (HEAD) vá» má»™t commit trÆ°á»›c Ä‘Ã³, cÃ³ thá»ƒ thay Ä‘á»•i lá»‹ch sá»­â€”khÃ´ng an toÃ n náº¿u commit Ä‘Ã£ Ä‘Æ°á»£c push cho ngÆ°á»i khÃ¡c. Tá»‘t cho chá»‰nh sá»­a cá»¥c bá»™.

---- 5) VÃ­ dá»¥ thá»±c táº¿ ----
Ká»‹ch báº£n:

```
# check log
git log --oneline -n 3
a1b2c3d (HEAD -> main) Fix bug feature X
9f8e7d6 Add new util
123abcd Initial commit
```

BÃ¢y giá» báº¡n muá»‘n hoÃ n tÃ¡c commit "Fix bug feature X":

```
git revert HEAD
```

Sau lá»‡nh, Git má»Ÿ editor Ä‘á»ƒ báº¡n chá»‰nh sá»­a message cho commit revert (máº·c Ä‘á»‹nh cÃ³ "Revert "Fix bug feature X" ..."). LÆ°u vÃ  Ä‘Ã³ng editor Ä‘á»ƒ hoÃ n táº¥t.

Káº¿t quáº£ `git log --oneline -n 3`:

```
e5f6g7h (HEAD -> main) Revert "Fix bug feature X"
a1b2c3d Fix bug feature X
9f8e7d6 Add new util
```

---- 6) Tuá»³ chá»n há»¯u Ã­ch ----

* `git revert --no-edit HEAD` : táº¡o commit revert dÃ¹ng message máº·c Ä‘á»‹nh, khÃ´ng má»Ÿ editor.
* `git revert --no-commit HEAD` (hoáº·c `-n`) : Ã¡p dá»¥ng patch revert vÃ o working directory vÃ  index nhÆ°ng **khÃ´ng** táº¡o commit. Cho phÃ©p báº¡n nhÃ³m nhiá»u revert vÃ o má»™t commit duy nháº¥t.
* `git revert -m 1 <merge-commit>` : revert má»™t merge commit. `-m parent-number` chá»‰ Ä‘á»‹nh parent nÃ o giá»¯ láº¡i (cáº§n tháº­n trá»ng).
* `git revert <commit>` : revert commit cá»¥ thá»ƒ (khÃ´ng nháº¥t thiáº¿t lÃ  HEAD).

---- 7) Revert nhiá»u commit ----
Báº¡n cÃ³ thá»ƒ revert má»™t dÃ£y commit theo thá»© tá»± tá»« cÅ© -> má»›i (Ä‘á»ƒ trÃ¡nh xung Ä‘á»™t logic):

```
git revert <oldest>^..<newest>
```

Hoáº·c revert tá»«ng commit tá»« má»›i xuá»‘ng cÅ© (phá»• biáº¿n trong má»™t sá»‘ ká»‹ch báº£n):

```
git revert commitC commitB commitA
```

Hoáº·c dÃ¹ng `--no-commit` Ä‘á»ƒ gom nhiá»u revert rá»“i commit 1 láº§n:

```
git revert --no-commit A B C
git commit -m "Revert A B C"
```

---- 8) Xung Ä‘á»™t khi revert ----

* Revert cÃ³ thá»ƒ dáº«n Ä‘áº¿n conflict náº¿u thay Ä‘á»•i Ä‘áº£o ngÆ°á»£c va cháº¡m vá»›i thay Ä‘á»•i khÃ¡c hiá»‡n táº¡i. Khi xáº£y ra conflict, Git sáº½ bÃ¡o, báº¡n cáº§n chá»‰nh sá»­a file, `git add` cÃ¡c file Ä‘Ã£ fix, rá»“i `git revert --continue` (hoáº·c `git commit` náº¿u dÃ¹ng `--no-commit`).
* Äá»ƒ huá»· quÃ¡ trÃ¬nh revert khi gáº·p ráº¯c rá»‘i: `git revert --abort` (náº¿u revert Ä‘ang trong tráº¡ng thÃ¡i conflict vÃ  báº¡n muá»‘n quay láº¡i trÆ°á»›c khi revert).

---- 9) Revert merge commit ----

* Revert merge phá»©c táº¡p hÆ¡n vÃ¬ commit merge cÃ³ nhiá»u parent. Báº¡n dÃ¹ng `-m <parent-number>` Ä‘á»ƒ chá»n parent lÃ m base. Thá»±c hiá»‡n sai cÃ³ thá»ƒ táº¡o ra thay Ä‘á»•i khÃ´ng mong muá»‘n.
* VÃ­ dá»¥: `git revert -m 1 <merge-hash>` (1 lÃ  parent 1). HÃ£y Ä‘á»c ká»¹ log vÃ  thá»­ trÃªn branch thá»­ nghiá»‡m trÆ°á»›c.

---- 10) HoÃ n tÃ¡c má»™t revert (undo revert) ----

* VÃ¬ revert táº¡o commit má»›i, náº¿u báº¡n muá»‘n undo revert vá»«a táº¡o, báº¡n cÃ³ thá»ƒ `git revert <revert-commit-hash>` (revert the revert). Hoáº·c náº¿u revert má»›i chÆ°a push vÃ  báº¡n muá»‘n xÃ³a nÃ³: `git reset --hard HEAD~1` (cáº©n tháº­n náº¿u Ä‘Ã£ push).

---- 11) LÆ°u Ã½ khi revert cÃ¡c commit Ä‘Ã£ push ----

* Revert lÃ  cÃ¡ch an toÃ n Ä‘á»ƒ undo commit Ä‘Ã£ push vÃ¬ nÃ³ khÃ´ng rewrite lá»‹ch sá»­.
* Sau khi revert, báº¡n cáº§n `git push` Ä‘á»ƒ Ä‘Æ°a revert commit lÃªn remote, ngÆ°á»i khÃ¡c pull sáº½ tháº¥y revert.

---- 12) Má»™t sá»‘ vÃ­ dá»¥ thÃªm ----

1. Revert HEAD mÃ  khÃ´ng má»Ÿ editor:

   git revert --no-edit HEAD

2. Ãp dá»¥ng revert vÃ o working tree nhÆ°ng chÆ°a commit:

   git revert --no-commit HEAD

   # kiá»ƒm tra, chá»‰nh sá»­a náº¿u cáº§n

   git commit -m "Combined revert"

3. Revert má»™t range cá»¥ thá»ƒ (tá»« commit A Ä‘áº¿n B):

   git revert A..B

(Ghi chÃº: thá»© tá»± revert cÃ³ thá»ƒ quan trá»ng; test trÃªn branch táº¡m trÆ°á»›c khi lÃ m trÃªn main)

---- 13) ThÃ´ng bÃ¡o/lá»—i hay gáº·p ----

* "error: could not apply <hash>" â†’ cÃ³ conflict, cáº§n resolve.
* "fatal: bad revision" â†’ commit hash sai.
* Náº¿u báº¡n revert commit Ä‘Ã£ Ä‘Æ°á»£c revert trÆ°á»›c Ä‘Ã³, káº¿t quáº£ cÃ³ thá»ƒ khÃ´ng nhÆ° mong Ä‘á»£i (cáº§n kiá»ƒm tra ká»¹).

---- 14) TÃ³m táº¯t ngáº¯n (one-liner) ----
`git revert HEAD` táº¡o má»™t commit má»›i Ä‘áº£o ngÆ°á»£c thay Ä‘á»•i cá»§a commit hiá»‡n táº¡i (HEAD). ÄÃ¢y lÃ  cÃ¡ch an toÃ n Ä‘á»ƒ hoÃ n tÃ¡c commit Ä‘Ã£ push vÃ¬ khÃ´ng sá»­a lá»‹ch sá»­ cÅ© mÃ  thÃªm commit má»›i.

---- Háº¿t ----

(Ghi chÃº: vÄƒn báº£n nÃ y Ä‘Æ°á»£c soáº¡n sáºµn Ä‘á»ƒ copy nguyÃªn xi vÃ o file `.txt`. Náº¿u báº¡n muá»‘n mÃ¬nh viáº¿t báº£n rÃºt gá»n hoáº·c báº£n tiáº¿ng Anh, mÃ¬nh sáº½ táº¡o thÃªm.)
		
		
		- cmd: git reset --hard 8dff644
		
Giáº£i thÃ­ch chi tiáº¿t cho lá»‡nh: `git reset --hard 8dff644`

---- Má»¥c tiÃªu tÃ i liá»‡u ----
TÃ i liá»‡u nÃ y giáº£i thÃ­ch rÃµ rÃ ng, chi tiáº¿t vÃ  tá»«ng bÆ°á»›c vá» Ã½ nghÄ©a, hÃ nh vi, rá»§i ro vÃ  cÃ¡c trÆ°á»ng há»£p sá»­ dá»¥ng cá»§a lá»‡nh `git reset --hard 8dff644`. Ná»™i dung á»Ÿ Ä‘á»‹nh dáº¡ng plain text, sáºµn sÃ ng Ä‘á»ƒ copy trá»±c tiáº¿p vÃ o file `.txt`.

---- 1) Tá»•ng quan ngáº¯n ----
`git reset --hard 8dff644` di chuyá»ƒn con trá» HEAD (vÃ  branch hiá»‡n táº¡i) Ä‘áº¿n commit cÃ³ hash `8dff644`, Ä‘á»“ng thá»i **cáº­p nháº­t index (staging area) vÃ  working directory** theo chÃ­nh xÃ¡c tree cá»§a commit Ä‘Ã³. Tá»©c lÃ :

* HEAD trá» tá»›i commit `8dff644` (branch hiá»‡n táº¡i sáº½ trá» tá»›i commit nÃ y)
* Index Ä‘Æ°á»£c Ä‘áº·t láº¡i theo commit `8dff644`
* Working directory Ä‘Æ°á»£c ghi Ä‘Ã¨ theo commit `8dff644` â€” má»i thay Ä‘á»•i chÆ°a commit (staged hoáº·c unstaged) **bá»‹ xoÃ¡**.

---- 2) Ã nghÄ©a chi tiáº¿t ----

* `git reset [<mode>] <commit>`: di chuyá»ƒn HEAD/branch tá»›i commit chá»‰ Ä‘á»‹nh.
* CÃ¡c mode thÆ°á»ng dÃ¹ng: `--soft`, `--mixed` (máº·c Ä‘á»‹nh), `--hard`.

  * `--soft`: chá»‰ di chuyá»ƒn HEAD (branch) â€” index vÃ  working directory giá»¯ nguyÃªn.
  * `--mixed` (máº·c Ä‘á»‹nh náº¿u khÃ´ng ghi mode): di chuyá»ƒn HEAD vÃ  cáº­p nháº­t index, nhÆ°ng giá»¯ working directory.
  * `--hard`: di chuyá»ƒn HEAD, cáº­p nháº­t index vÃ  ghi Ä‘Ã¨ working directory theo commit, xÃ³a má»i thay Ä‘á»•i chÆ°a commit.

`--hard` lÃ  cháº¿ Ä‘á»™ máº¡nh nháº¥t vÃ  **máº¥t dá»¯ liá»‡u cá»¥c bá»™ chÆ°a commit** (trong working tree vÃ  index) náº¿u khÃ´ng cÃ³ cÃ¡ch phá»¥c há»“i.

---- 3) Khi nÃ o dÃ¹ng `git reset --hard` ----

* Báº¡n cháº¯c cháº¯n muá»‘n loáº¡i bá» toÃ n bá»™ thay Ä‘á»•i chÆ°a commit vÃ  trá»Ÿ vá» tráº¡ng thÃ¡i cá»§a commit chá»‰ Ä‘á»‹nh.
* Dá»n dáº¹p nhanh working directory khi muá»‘n há»§y táº¥t cáº£ thay Ä‘á»•i cá»¥c bá»™.
* Di chuyá»ƒn nhÃ¡nh Ä‘á»ƒ khÃ´i phá»¥c tráº¡ng thÃ¡i trÆ°á»›c Ä‘Ã³ trong repo cá»¥c bá»™ (khÃ´ng khuyáº¿n nghá»‹ náº¿u Ä‘Ã£ push vÃ  nhiá»u ngÆ°á»i cÃ¹ng lÃ m viá»‡c).

---- 4) VÃ­ dá»¥ thá»±c táº¿ ----
Ká»‹ch báº£n:

```
# Hiá»‡n táº¡i trÃªn nhÃ¡nh feature
git status
# On branch feature
# Changes not staged for commit:
#   modified: file1.txt
#   modified: file2.txt
```

Báº¡n muá»‘n bá» táº¥t cáº£ thay Ä‘á»•i vÃ  trá»Ÿ vá» commit 8dff644:

```
git reset --hard 8dff644
```

Sau lá»‡nh, `git status` thÆ°á»ng sáº½ cho tháº¥y:
# On branch feature
# nothing to commit, working tree clean

VÃ  lá»‹ch sá»­ `git log` sáº½ chá»‰ ra HEAD Ä‘ang á»Ÿ `8dff644`.

---- 5) So sÃ¡nh vá»›i cÃ¡c lá»‡nh khÃ¡c ----

* `git reset --soft 8dff644`      -> chá»‰ di chuyá»ƒn HEAD (an toÃ n hÆ¡n)
* `git reset 8dff644`            -> tÆ°Æ¡ng Ä‘Æ°Æ¡ng `--mixed`: HEAD + index thay Ä‘á»•i, working directory giá»¯ nguyÃªn
* `git checkout -- file`         -> chá»‰ khÃ´i phá»¥c file trong working directory
* `git revert <commit>`          -> táº¡o commit má»›i Ä‘áº£o ngÆ°á»£c (an toÃ n cho commits Ä‘Ã£ push)

---- 6) Rá»§i ro vÃ  Cáº¢NH BÃO ----

* `git reset --hard` **xoÃ¡ má»i thay Ä‘á»•i chÆ°a commit**. Náº¿u báº¡n chÆ°a commit vÃ  chÆ°a stash, thay Ä‘á»•i Ä‘Ã³ sáº½ bá»‹ máº¥t khá»i working directory.
* Náº¿u báº¡n reset sang commit cÅ© vÃ  **Ä‘Ã£ push** cÃ¡c commit sau Ä‘Ã³ lÃªn remote, viá»‡c Ä‘áº©y (push) láº¡i cÃ³ thá»ƒ yÃªu cáº§u `--force` vÃ  gÃ¢y rá»‘i cho ngÆ°á»i khÃ¡c. TrÃ¡nh dÃ¹ng `--hard` Ä‘á»ƒ rewrite lá»‹ch sá»­ Ä‘Ã£ chia sáº» vá»›i team.

---- 7) Phá»¥c há»“i sau khi `git reset --hard` (náº¿u cáº§n) ----
KhÃ´ng pháº£i trong má»i trÆ°á»ng há»£p Ä‘á»u máº¥t vÄ©nh viá»…n â€” báº¡n cÃ³ thá»ƒ thá»­ phá»¥c há»“i theo cÃ¡c cÃ¡ch sau:

1. **git reflog**

   * `git reflog` liá»‡t kÃª má»i vá»‹ trÃ­ HEAD tá»«ng trá» tá»›i gáº§n Ä‘Ã¢y.
   * TÃ¬m commit trÆ°á»›c khi reset (vÃ­ dá»¥: `abc1234 HEAD@{2}`
   * Sau Ä‘Ã³: `git reset --hard abc1234` Ä‘á»ƒ quay láº¡i.

2. **git fsck --lost-found** (nÃ¢ng cao)

   * Náº¿u object chÆ°a bá»‹ garbage-collected, báº¡n cÃ³ thá»ƒ tÃ¬m blobs/commits bá»‹ máº¥t.

3. **Náº¿u Ä‘Ã£ push** cÃ¡c commit Ä‘Ã£ bá»‹ reset thÃ¬ cÃ³ thá»ƒ láº¥y láº¡i tá»« remote:

   * `git fetch origin` rá»“i `git log origin/branch` Ä‘á»ƒ tÃ¬m commit.

**LÆ°u Ã½:** Náº¿u Ä‘Ã£ cháº¡y `git gc` hoáº·c Ä‘Ã£ qua quÃ¡ nhiá»u thá»i gian, objects cÃ³ thá»ƒ Ä‘Ã£ bá»‹ xÃ³a vÄ©nh viá»…n.

---- 8) CÃ¡c tÃ¹y chá»n há»¯u Ã­ch khi báº¡n chÆ°a cháº¯c cháº¯n ----

* Äáº§u tiÃªn hÃ£y **kiá»ƒm tra current status**:

  git status
  git log --oneline --decorate --graph -n 10
  git reflog -n 20

* Náº¿u chá»‰ muá»‘n bá» thay Ä‘á»•i trong má»™t file: dÃ¹ng `git checkout -- file` (cÃ¡ch cÅ©) hoáº·c `git restore file` (má»›i).

* Náº¿u muá»‘n lÆ°u táº¡m thay Ä‘á»•i trÆ°á»›c khi reset: `git stash push -m "save before reset"` â€” sau Ä‘Ã³ báº¡n cÃ³ thá»ƒ `git stash pop` náº¿u muá»‘n.

---- 9) Ká»‹ch báº£n an toÃ n vá»›i reset --hard ----

* Báº¡n lÃ m trÃªn branch cá»¥c bá»™, chÆ°a push lÃªn remote.
* Báº¡n Ä‘Ã£ stash má»i thá»© quan trá»ng (`git stash`) hoáº·c commit chÃºng vÃ o branch khÃ¡c.
* Sau Ä‘Ã³ cháº¡y `git reset --hard <commit>` Ä‘á»ƒ dá»n sáº¡ch.

---- 10) VÃ­ dá»¥ phá»¥c há»“i báº±ng reflog (chi tiáº¿t) ----
Giáº£ sá»­ báº¡n do má»™t reset sai.

```
$ git reflog
d4f5a6b (HEAD -> feature) HEAD@{0}: reset: moving to 8dff644
abc1234 HEAD@{1}: commit: add new feature
ef56789 HEAD@{2}: commit: work in progress
```

Báº¡n muá»‘n quay láº¡i `abc1234`:

```
git reset --hard abc1234
```

BÃ¢y giá» lá»‹ch sá»­ vÃ  working tree sáº½ quay vá» commit abc1234.

---- 11) Lá»i khuyÃªn thá»±c táº¿ ----

* TrÆ°á»›c khi dÃ¹ng `--hard`, luÃ´n check `git status` vÃ  `git log`.
* Náº¿u cÃ³ nghi ngá», **stash** trÆ°á»›c: `git stash push -m "before hard reset"`.
* TrÃ¡nh dÃ¹ng `--hard` náº¿u báº¡n vá»«a push commits lÃªn remote vÃ  cÃ³ ngÆ°á»i khÃ¡c Ä‘ang lÃ m viá»‡c trÃªn cÃ¹ng branch.
* Trong mÃ´i trÆ°á»ng lÃ m viá»‡c nhÃ³m, Ä‘á»ƒ undo commit Ä‘Ã£ Ä‘Æ°á»£c chia sáº» hÃ£y dÃ¹ng `git revert` thay vÃ¬ reset.

---- 12) CÃ¡c thÃ´ng bÃ¡o/lá»—i hay gáº·p ----

* "You have unmerged paths." â†’ cÃ³ merge conflict chÆ°a resolve; cáº§n resolve hoáº·c abort merge trÆ°á»›c khi reset.
* "fatal: ambiguous argument '8dff644'" â†’ hash khÃ´ng tá»“n táº¡i; kiá»ƒm tra láº¡i báº±ng `git log --oneline`.

---- 13) TÃ³m táº¯t ngáº¯n (one-liner) ----
`git reset --hard 8dff644` = di chuyá»ƒn HEAD vÃ  branch hiá»‡n táº¡i vá» commit `8dff644`, Ä‘á»“ng thá»i ghi Ä‘Ã¨ index vÃ  working directory theo commit Ä‘Ã³ â€” má»i thay Ä‘á»•i chÆ°a commit sáº½ **bá»‹ loáº¡i bá»**. DÃ¹ng cáº©n trá»ng; náº¿u chÆ°a cháº¯c, stash hoáº·c dÃ¹ng reflog Ä‘á»ƒ cÃ³ thá»ƒ phá»¥c há»“i.

---- Háº¿t ----

(Ghi chÃº: ná»™i dung nÃ y Ä‘Ã£ chuáº©n bá»‹ sáºµn Ä‘á»ƒ copy vÃ o file `.txt`. Náº¿u báº¡n muá»‘n báº£n ngáº¯n hÆ¡n hoáº·c báº£n tiáº¿ng Anh, mÃ¬nh sáº½ táº¡o thÃªm.)
		
		
		- cmd: cat .git/config
		
Giáº£i thÃ­ch chi tiáº¿t cho lá»‡nh: `cat .git/config`

---- Má»¥c tiÃªu tÃ i liá»‡u ----
TÃ i liá»‡u nÃ y trÃ¬nh bÃ y rÃµ rÃ ng, tá»«ng bÆ°á»›c, Ã½ nghÄ©a vÃ  cÃ¡ch Ä‘á»c ná»™i dung file `.git/config` khi báº¡n cháº¡y `cat .git/config`. Ná»™i dung á»Ÿ Ä‘á»‹nh dáº¡ng plain text, sáºµn sÃ ng Ä‘á»ƒ copy trá»±c tiáº¿p vÃ o file `.txt`.

---- 1) Má»¥c Ä‘Ã­ch cá»§a lá»‡nh `cat .git/config` ----

* `cat` lÃ  lá»‡nh Unix/Windows (trong mÃ´i trÆ°á»ng Git Bash / WSL / terminal) dÃ¹ng Ä‘á»ƒ in ná»™i dung cá»§a tá»‡p ra chuáº©n Ä‘áº§u ra (stdout).
* `.git/config` lÃ  tá»‡p cáº¥u hÃ¬nh **local** cá»§a repository Git hiá»‡n táº¡i (náº±m trong thÆ° má»¥c áº©n `.git` á»Ÿ gá»‘c repo).

Khi cháº¡y `cat .git/config`, báº¡n sáº½ **xem trá»±c tiáº¿p** ná»™i dung file cáº¥u hÃ¬nh repo â€” há»¯u Ã­ch Ä‘á»ƒ kiá»ƒm tra remote, branch máº·c Ä‘á»‹nh, hoáº·c cÃ¡c thiáº¿t láº­p riÃªng cá»§a repo.

---- 2) Vá»‹ trÃ­ vÃ  táº§m quan trá»ng cá»§a `.git/config` ----

* ÄÆ°á»ng dáº«n: `<repo-root>/.git/config`.

* ÄÃ¢y lÃ  cáº¥u hÃ¬nh **local cho repository** (khÃ´ng pháº£i cáº¥u hÃ¬nh toÃ n cá»¥c cá»§a user). CÃ¡c má»©c cáº¥u hÃ¬nh theo thá»© tá»± Æ°u tiÃªn (tháº¥p â†’ cao):

  1. `/etc/gitconfig` (system)
  2. `~/.gitconfig` hoáº·c `~/.config/git/config` (global/user)
  3. `<repo>/.git/config` (local) â€” file báº¡n Ä‘ang xem báº±ng `cat .git/config`

* File cÃ³ Ä‘á»‹nh dáº¡ng kiá»ƒu INI (section headers trong ngoáº·c vuÃ´ng, cÃ¡c key = value).

---- 3) Cáº¥u trÃºc phá»• biáº¿n cá»§a `.git/config` (vÃ­ dá»¥ máº«u) ----
DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ­ dá»¥ Ä‘iá»ƒn hÃ¬nh cá»§a `.git/config` vÃ  giáº£i thÃ­ch tá»«ng pháº§n.

VÃ­ dá»¥:

```
[core]
    repositoryformatversion = 0
    filemode = true
    bare = false
    logallrefupdates = true
[remote "origin"]
    url = git@github.com:username/repo.git
    fetch = +refs/heads/*:refs/remotes/origin/*
[branch "main"]
    remote = origin
    merge = refs/heads/main
[user]
    name = Tuan Nguyen
    email = tuan@example.com
[pull]
    rebase = false
```

Giáº£i thÃ­ch:

* `[core]` : cÃ i Ä‘áº·t cÆ¡ báº£n cho repo (filemode, bare repository, version format).
* `[remote "origin"]` : khai bÃ¡o remote tÃªn "origin" vá»›i `url` vÃ  `fetch` refspec. ÄÃ¢y lÃ  nÆ¡i Git biáº¿t push/fetch tá»›i Ä‘Ã¢u.
* `[branch "main"]` : cÃ i Ä‘áº·t cho branch `main`, thÆ°á»ng chá»‰ ra remote tracking vÃ  ref merge.
* `[user]` : cáº¥u hÃ¬nh user cá»¥c bá»™ (Ã­t khi dÃ¹ng á»Ÿ local, thÃ´ng thÆ°á»ng user á»Ÿ má»©c global).
* `[pull]` : chÃ­nh sÃ¡ch pull (rebase hay merge).

---- 4) CÃ¡c section hay gáº·p khÃ¡c ----

* `[submodule "path/to/submodule"]` : cáº¥u hÃ¬nh submodule.
* `[receive]` : cáº¥u hÃ¬nh server-side hook, thÆ°á»ng trÃªn bare repo server.
* `[credential]` : cÃ³ thá»ƒ chá»©a helper credential; **cáº©n tháº­n** náº¿u chá»©a thÃ´ng tin xÃ¡c thá»±c (thÆ°á»ng credential helpers lÆ°u á»Ÿ nÆ¡i khÃ¡c).
* `[merge]`, `[diff]`, `[alias]` : alias lá»‡nh, cáº¥u hÃ¬nh merge/diff.

---- 5) LÆ°u Ã½ báº£o máº­t ----

* **KHÃ”NG bao giá»** chia sáº» `.git/config` cÃ´ng khai náº¿u nÃ³ chá»©a URL dáº¡ng `https://username:password@host/...` (Ä‘Ã´i khi ngÆ°á»i dÃ¹ng táº¯t báº£o máº­t vÃ  lÆ°u credentials trong URL). Náº¿u tháº¥y credentials trong URL, hÃ£y xÃ³a hoáº·c Ä‘á»•i sang SSH.
* Credential helpers thÆ°á»ng giá»¯ máº­t kháº©u ngoÃ i file nÃ y; nhÆ°ng váº«n nÃªn kiá»ƒm tra.

---- 6) CÃ¡c lá»‡nh thay tháº¿ an toÃ n Ä‘á»ƒ xem cáº¥u hÃ¬nh ----
Thay vÃ¬ `cat .git/config`, báº¡n cÃ³ thá»ƒ dÃ¹ng `git config` Ä‘á»ƒ xem á»Ÿ nhiá»u má»©c Ä‘á»™ vÃ  Ä‘á»‹nh dáº¡ng an toÃ n hÆ¡n:

* `git config --list --local` : liá»‡t kÃª táº¥t cáº£ config local (nhÆ° .git/config) á»Ÿ dáº¡ng key=value.
* `git config --local --get remote.origin.url` : láº¥y giÃ¡ trá»‹ cá»¥ thá»ƒ (vÃ­ dá»¥ url cá»§a origin).
* `git config --show-origin --list` : show nguá»“n cá»§a má»—i key (náº±m á»Ÿ file nÃ o).

VÃ­ dá»¥:

```
git config --local --get remote.origin.url
```

Sáº½ in ra: `git@github.com:username/repo.git`

---- 7) Sá»­a cáº¥u hÃ¬nh (an toÃ n) ----

* Báº¡n nÃªn dÃ¹ng `git config` Ä‘á»ƒ thay Ä‘á»•i, thay vÃ¬ sá»­a trá»±c tiáº¿p file `.git/config` báº±ng editor, trá»« khi báº¡n biáº¿t rÃµ mÃ¬nh lÃ m gÃ¬.

Má»™t sá»‘ lá»‡nh phá»• biáº¿n:

```
# Thiáº¿t láº­p url origin
git remote set-url origin git@github.com:username/repo.git

# CÃ i user cho repo (local)
git config --local user.name "Tuan Nguyen"
git config --local user.email "tuan@example.com"

# XoÃ¡ key
git config --local --unset user.email

# Má»Ÿ file .git/config báº±ng editor (náº¿u cáº§n chá»‰nh tay)
git config --local --edit
```

---- 8) Ká»‹ch báº£n thá»±c táº¿ â€” vÃ­ dá»¥ kiá»ƒm tra remote trÆ°á»›c khi push ----

1. Kiá»ƒm tra remote origin url:

   git config --local --get remote.origin.url

2. Náº¿u muá»‘n xem toÃ n bá»™ config local (tÃ³m táº¯t):

   git config --list --local

---- 9) Xá»­ lÃ½ khi .git/config bá»‹ lá»—i hoáº·c há»ng ----

* Náº¿u file bá»‹ corrupt (khÃ´ng Ä‘Ãºng INI) hoáº·c cáº¥u hÃ¬nh sai, Git cÃ³ thá»ƒ bÃ¡o lá»—i khi thao tÃ¡c.
* CÃ¡ch khÃ´i phá»¥c:

  * Náº¿u báº¡n cÃ²n báº£n sao working repo khÃ¡c, copy file `.git/config` tá»« repo lÃ nh.
  * Hoáº·c thiáº¿t láº­p láº¡i remote báº±ng `git remote add origin <url>` hoáº·c `git remote set-url`.
  * Báº¡n cÃ³ thá»ƒ xÃ³a `.git/config` vÃ  khá»Ÿi táº¡o láº¡i repo (cáº©n tháº­n) nhÆ°ng tá»‘t hÆ¡n lÃ  sá»­a tá»«ng pháº§n.

---- 10) VÃ­ dá»¥ output thá»±c táº¿ khÃ¡c (remote multiple) ----

```
[remote "origin"]
    url = https://github.com/username/repo.git
    fetch = +refs/heads/*:refs/remotes/origin/*
[remote "upstream"]
    url = https://github.com/another/repo.git
    fetch = +refs/heads/*:refs/remotes/upstream/*
```

Giáº£i thÃ­ch: repo cÃ³ 2 remote: `origin` (thÆ°á»ng lÃ  fork cá»§a báº¡n) vÃ  `upstream` (repo gá»‘c). ÄÃ¢y lÃ  cáº¥u trÃºc phá»• biáº¿n khi báº¡n fork má»™t project.

---- 11) TÃ³m táº¯t ngáº¯n (one-liner) ----
`cat .git/config` in ra ná»™i dung file cáº¥u hÃ¬nh local cá»§a repo (INI-style), giÃºp báº¡n kiá»ƒm tra remote, branch tracking, alias vÃ  cÃ¡c thiáº¿t láº­p riÃªng cá»§a repository. DÃ¹ng `git config` Ä‘á»ƒ Ä‘á»c/ghi an toÃ n.

---- Háº¿t ----

(Ghi chÃº: vÄƒn báº£n Ä‘Ã£ soáº¡n sáºµn Ä‘á»ƒ copy trá»±c tiáº¿p vÃ o file `.txt`. Náº¿u báº¡n muá»‘n mÃ¬nh táº¡o thÃªm báº£n tiáº¿ng Anh hoáº·c báº£n rÃºt gá»n, mÃ¬nh sáº½ táº¡o ngay.)
		
		
		- cmd: rm -rf .ssh/*
		
Giáº£i thÃ­ch chi tiáº¿t cho lá»‡nh: `rm -rf .ssh/*`

---- Má»¥c tiÃªu tÃ i liá»‡u ----
TÃ i liá»‡u nÃ y giáº£i thÃ­ch tá»‰ má»‰ Ã½ nghÄ©a, hÃ nh vi, rá»§i ro vÃ  cÃ¡c bÆ°á»›c an toÃ n liÃªn quan Ä‘áº¿n lá»‡nh `rm -rf .ssh/*`. Ná»™i dung Ä‘Æ°á»£c trÃ¬nh bÃ y báº±ng plain text, rÃµ rÃ ng Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ o file `.txt`.

---- 1) Tá»•ng quan ngáº¯n ----
`rm -rf .ssh/*` lÃ  lá»‡nh UNIX (bash, zsh, sh...) dÃ¹ng Ä‘á»ƒ **xoÃ¡ toÃ n bá»™ ná»™i dung bÃªn trong thÆ° má»¥c `.ssh`** (nhÆ°ng thÆ°á»ng khÃ´ng xoÃ¡ chÃ­nh thÆ° má»¥c `.ssh` náº¿u dÃ¹ng dáº¥u `/*`).

* `rm` : remove (xÃ³a file/directory)
* `-r` : recursive â€” xÃ³a Ä‘á»‡ quy (thÆ° má»¥c vÃ  toÃ n bá»™ ná»™i dung bÃªn trong)
* `-f` : force â€” khÃ´ng há»i xÃ¡c nháº­n, bá» qua lá»—i khÃ´ng tá»“n táº¡i
* `.ssh/*` : má»i file vÃ  folder con náº±m trong thÆ° má»¥c `.ssh` (Ä‘Æ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i tá»« thÆ° má»¥c hiá»‡n táº¡i)

Káº¿t quáº£: táº¥t cáº£ key riÃªng (private keys), public keys, cáº¥u hÃ¬nh SSH, file `known_hosts`, file `authorized_keys` (náº¿u Ä‘ang thao tÃ¡c trÃªn server vá»›i home cá»§a user), sáº½ bá»‹ xÃ³a â€” **hÃ nh Ä‘á»™ng nÃ y cÃ³ thá»ƒ lÃ m máº¥t quyá»n truy cáº­p SSH vÃ o cÃ¡c mÃ¡y chá»§**.

---- 2) Chi tiáº¿t cÃ¡c file thÆ°á»ng gáº·p trong ~/.ssh ----
ThÆ° má»¥c `~/.ssh` (hoáº·c `.ssh` trong thÆ° má»¥c hiá»‡n hÃ nh) thÆ°á»ng chá»©a:

* `id_rsa` / `id_ecdsa` / `id_ed25519` : private keys â€” **ráº¥t nháº¡y cáº£m** vÃ  pháº£i báº£o máº­t
* `id_rsa.pub` / `id_ecdsa.pub` / `id_ed25519.pub` : public keys
* `authorized_keys` : danh sÃ¡ch public keys Ä‘Æ°á»£c phÃ©p Ä‘Äƒng nháº­p vÃ o account (trÃªn server)
* `known_hosts` : fingerprints cá»§a server báº¡n tá»«ng connect
* `config` : cáº¥u hÃ¬nh SSH client (Host, IdentityFile, Port...)
* thÆ° má»¥c con (vÃ­ dá»¥ `keys/`, `certs/`)

XÃ³a `~/.ssh/*` cÃ³ thá»ƒ:

* Máº¥t kháº£ nÄƒng SSH tá»›i server náº¿u báº¡n chá»‰ cÃ³ private key Ä‘Ã³.
* Máº¥t cáº¥u hÃ¬nh host aliases, lÃ m báº¡n pháº£i nháº­p host Ä‘áº§y Ä‘á»§ láº§n sau.
* Máº¥t danh sÃ¡ch known_hosts (khi káº¿t ná»‘i láº¡i, SSH sáº½ cáº£nh bÃ¡o host key má»›i).
* Vá»›i `authorized_keys` (náº¿u xÃ³a trÃªn server), táº¥t cáº£ public key auth sáº½ bá»‹ xÃ³a â€” **ngay láº­p tá»©c khÃ³a táº¥t cáº£ login SSH key**.

---- 3) Rá»§i ro nghiÃªm trá»ng ----

* **Máº¥t private key**: náº¿u key bá»‹ xÃ³a vÃ  báº¡n khÃ´ng cÃ³ báº£n backup, báº¡n khÃ´ng thá»ƒ xÃ¡c thá»±c báº±ng key Ä‘Ã³ ná»¯a â†’ cáº§n táº¡o key má»›i vÃ  cáº­p nháº­t public key lÃªn server.
* **KhÃ³a báº£n thÃ¢n ra khá»i server**: Náº¿u server chá»‰ cho phÃ©p login báº±ng SSH key (no password) vÃ  báº¡n xÃ³a `~/.ssh/authorized_keys` trÃªn server, báº¡n cÃ³ thá»ƒ bá»‹ khÃ³a ra, cáº§n truy cáº­p console váº­t lÃ½ hoáº·c panel remote cá»§a VPS Ä‘á»ƒ phá»¥c há»“i.
* **XÃ³a nháº§m Ä‘Æ°á»ng dáº«n**: náº¿u báº¡n cháº¡y lá»‡nh á»Ÿ thÆ° má»¥c ngÆ°á»i dÃ¹ng root hoáº·c dÃ¹ng biáº¿n mÃ´i trÆ°á»ng sai, báº¡n cÃ³ thá»ƒ xÃ³a file quan trá»ng â€” cáº©n tháº­n khi dÃ¹ng `rm -rf`.

---- 4) VÃ­ dá»¥ hÃ nh vi ----
Giáº£ sá»­ báº¡n Ä‘ang á»Ÿ `~` (home) vÃ  cháº¡y:

```
rm -rf .ssh/*
```

Terminal sáº½ khÃ´ng in gÃ¬ (trá»« lá»—i). Kiá»ƒm tra sau lá»‡nh:

```
ls -la .ssh
```

Káº¿t quáº£ cÃ³ thá»ƒ lÃ : `total 8` vÃ  chá»‰ tháº¥y thÆ° má»¥c rá»—ng hoáº·c chá»‰ cÃ³ quyá»n/owner, khÃ´ng tháº¥y file key.

---- 5) CÃ¡c lá»±a chá»n an toÃ n thay vÃ¬ cháº¡y lá»‡nh trá»±c tiáº¿p ----
TrÆ°á»›c khi xÃ³a, hÃ£y lÃ m theo thá»© tá»± nÃ y:

1. **Kiá»ƒm tra ná»™i dung hiá»‡n cÃ³**:

   ls -la ~/.ssh
   tree ~/.ssh   # náº¿u cÃ³ tree

2. **Sao lÆ°u vÃ o nÆ¡i an toÃ n** (ráº¥t quan trá»ng náº¿u báº¡n muá»‘n phá»¥c há»“i):

   mkdir -p ~/backup_ssh_$(date +%F_%T)
   cp -a ~/.ssh/* ~/backup_ssh_$(date +%F_%T)/

hoáº·c nÃ©n:

```
tar czf ~/ssh-backup-$(date +%F).tar.gz -C ~ .ssh
```

3) **Chá»‰ xÃ³a file cá»¥ thá»ƒ** thay vÃ¬ toÃ n bá»™:

```
rm ~/.ssh/known_hosts
rm ~/.ssh/id_old_key
```

4) **DÃ¹ng interactive Ä‘á»ƒ trÃ¡nh xÃ³a nháº§m**:

```
rm -ri ~/.ssh/*
```

`-i` sáº½ há»i tá»«ng file má»™t.

5. Náº¿u má»¥c tiÃªu lÃ  **xoÃ¡ private keys nhÆ°ng giá»¯ public/config**, xÃ³a chá»‰ private keys:

   rm ~/.ssh/id_rsa ~/.ssh/id_ed25519

6. Náº¿u má»¥c tiÃªu lÃ  reset known_hosts:

   > ~/.ssh/known_hosts  # truncate

---- 6) Phá»¥c há»“i khi Ä‘Ã£ xÃ³a (náº¿u lá»¡ tay) ----

* Náº¿u báº¡n Ä‘Ã£ **backup**, giáº£i nÃ©n backup vÃ o `~/.ssh`:

  tar xzf ~/ssh-backup-YYYY-MM-DD.tar.gz -C ~
  chmod 700 ~/.ssh
  chmod 600 ~/.ssh/*

* Náº¿u khÃ´ng cÃ³ backup:

  * Kiá»ƒm tra `trash`/Recycle bin (trÃªn má»™t sá»‘ há»‡ thá»‘ng desktop file manager cÃ³ thá»ƒ chuyá»ƒn file vÃ o Ä‘Ã³, nhÆ°ng `rm` thÆ°á»ng xÃ³a vÄ©nh viá»…n).
  * Náº¿u filesystem cÃ³ snapshots (vÃ­ dá»¥: Btrfs, ZFS, hoáº·c cÃ¡c hoster cÃ³ snapshot), phá»¥c há»“i qua snapshot.
  * DÃ¹ng `extundelete`/`photorec`/`testdisk` hoáº·c cÃ¡c cÃ´ng cá»¥ phá»¥c há»“i file (tuá»³ filesystem) â€” khÃ´ng Ä‘áº£m báº£o thÃ nh cÃ´ng vÃ  phá»©c táº¡p.

* Náº¿u private key máº¥t: **táº¡o key má»›i** vÃ  cáº­p nháº­t public key lÃªn server(s):

  ssh-keygen -t ed25519 -C "[your_email@example.com](mailto:your_email@example.com)"

  # copy public key to server (ssh-copy-id hoáº·c paste vÃ o authorized_keys)

Náº¿u báº¡n Ä‘Ã£ xÃ³a `authorized_keys` trÃªn server vÃ  máº¥t má»i phÆ°Æ¡ng thá»©c truy cáº­p, báº¡n cáº§n truy cáº­p console thÃ´ng qua provider (VPS panel) hoáº·c yÃªu cáº§u admin má»Ÿ láº¡i.

---- 7) LÆ°u Ã½ vá» quyá»n (permissions) sau khi phá»¥c há»“i ----
Äáº£m báº£o quyá»n Ä‘Ãºng Ä‘á»ƒ SSH hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng:

```
chmod 700 ~/.ssh
chmod 600 ~/.ssh/*
chown $(whoami):$(whoami) -R ~/.ssh
```

Quyá»n sai cÃ³ thá»ƒ khiáº¿n SSH client/server tá»« chá»‘i key.

---- 8) TrÆ°á»ng há»£p Ä‘áº·c biá»‡t: cháº¡y vá»›i sudo hoáº·c root ----

* `sudo rm -rf /root/.ssh/*` trÃªn server sáº½ xÃ³a SSH keys cá»§a root (cÃ³ thá»ƒ phÃ¡ vá»¡ automation/cron hoáº·c access root báº±ng key).
* HÃ£y Ä‘áº·c biá»‡t cáº©n tháº­n khi dÃ¹ng `rm -rf` vá»›i quyá»n root â€” ls trÆ°á»›c khi xÃ³a.

---- 9) Gá»£i Ã½ an toÃ n cho script tá»± Ä‘á»™ng ----

* Trong script, trÃ¡nh `rm -rf ~/.ssh/*` trá»« khi cháº¯c cháº¯n. Thay vÃ o Ä‘Ã³:

  * Kiá»ƒm tra cÃ³ biáº¿n mÃ´i trÆ°á»ng HOME há»£p lá»‡
  * YÃªu cáº§u xÃ¡c nháº­n
  * LÆ°u backup tá»± Ä‘á»™ng

VÃ­ dá»¥ snippet an toÃ n:

```
if [ -z "$HOME" ]; then
  echo "HOME not set, abort"
  exit 1
fi
echo "Backing up ~/.ssh to ~/ssh-backup"
mkdir -p ~/ssh-backup
cp -a ~/.ssh/* ~/ssh-backup/
read -p "Are you sure to delete ~/.ssh/* ? (yes/NO) " ans
if [ "$ans" = "yes" ]; then
  rm -rf ~/.ssh/*
fi
```

---- 10) CÃ¡c lá»‡nh liÃªn quan há»¯u Ã­ch ----

* Kiá»ƒm tra file trÆ°á»›c khi xÃ³a:

  ls -la ~/.ssh
  stat ~/.ssh/id_ed25519

* Backup nhanh:

  cp -a ~/.ssh ~/.ssh.bak

* Táº¡o key má»›i:

  ssh-keygen -t ed25519 -f ~/.ssh/id_ed25519 -C "[you@example.com](mailto:you@example.com)"

* Sao chÃ©p public key lÃªn server:

  ssh-copy-id -i ~/.ssh/id_ed25519.pub user@server

---- 11) VÃ­ dá»¥ minh hoáº¡ ká»‹ch báº£n thá»±c táº¿ ----
Ká»‹ch báº£n 1 â€” báº¡n muá»‘n xÃ³a known_hosts vÃ¬ host key thay Ä‘á»•i:

```
# an toÃ n hÆ¡n
mv ~/.ssh/known_hosts ~/.ssh/known_hosts.bak
# hoáº·c chá»‰ xÃ³a
rm ~/.ssh/known_hosts
```

Ká»‹ch báº£n 2 â€” báº¡n lá»¡ tay xÃ³a táº¥t cáº£ vÃ  cáº§n táº¡o key má»›i:

```
ssh-keygen -t ed25519 -C "you@example.com"
# rá»“i copy public key lÃªn táº¥t cáº£ server cáº§n thiáº¿t
```

---- 12) TÃ³m táº¯t ngáº¯n (one-liner) ----
`rm -rf .ssh/*` xÃ³a toÃ n bá»™ ná»™i dung trong thÆ° má»¥c `.ssh` mÃ  khÃ´ng há»i â€” hÃ nh Ä‘á»™ng **ráº¥t nguy hiá»ƒm** náº¿u báº¡n khÃ´ng cÃ³ backup vÃ¬ cÃ³ thá»ƒ máº¥t private key vÃ  khÃ³a truy cáº­p SSH. LuÃ´n kiá»ƒm tra, sao lÆ°u vÃ  cÃ¢n nháº¯c cÃ¡c lá»±a chá»n an toÃ n (mv, rm -ri, cp backup) trÆ°á»›c khi xÃ³a.

---- Háº¿t ----

(Ghi chÃº: vÄƒn báº£n nÃ y Ä‘Æ°á»£c soáº¡n sáºµn Ä‘á»ƒ báº¡n copy nguyÃªn xi vÃ o file `.txt`. Náº¿u báº¡n muá»‘n báº£n ngáº¯n hÆ¡n hoáº·c kÃ¨m cÃ¡c lá»‡nh phá»¥c há»“i cá»¥ thá»ƒ cho há»‡ Ä‘iá»u hÃ nh cá»§a báº¡n, cho biáº¿t há»‡ thá»‘ng (Linux, macOS, Windows) vÃ  mÃ¬nh sáº½ táº¡o ngay.)
		
		
		- cmd: cat .ssh/id_rsa.pub
		
HÆ¯á»šNG DáºªN CHI TIáº¾T (PLAIN TEXT) â€” Lá»†NH: cat ~/.ssh/id_rsa.pub
------------------------------------------------------------

1) Má»¥c Ä‘Ã­ch chung
   - Lá»‡nh `cat ~/.ssh/id_rsa.pub` **hiá»ƒn thá»‹ ná»™i dung** cá»§a file public key SSH (máº·c Ä‘á»‹nh tÃªn id_rsa.pub) lÃªn mÃ n hÃ¬nh terminal.
   - DÃ¹ng khi báº¡n muá»‘n **xem**, **sao chÃ©p** hoáº·c **gá»­i** public key cho mÃ¡y chá»§ / dá»‹ch vá»¥ (GitHub, GitLab, VPS, ...).

2) Giáº£i thÃ­ch tá»«ng pháº§n
   - `cat` : chÆ°Æ¡ng trÃ¬nh in (concatenate) ná»™i dung file ra tiÃªu chuáº©n Ä‘áº§u ra (stdout).
   - `~/.ssh/id_rsa.pub` :
     - `~` lÃ  thÆ° má»¥c home cá»§a ngÆ°á»i dÃ¹ng hiá»‡n táº¡i (vÃ­ dá»¥ `/home/username` hoáº·c `C:\Users\username` trong WSL).
     - `.ssh` lÃ  thÆ° má»¥c chá»©a cÃ¡c key SSH.
     - `id_rsa.pub` lÃ  file **public key** (khÃ´ng nháº¡y cáº£m nhÆ° private key). TÃªn cÃ³ thá»ƒ khÃ¡c náº¿u báº¡n táº¡o key vá»›i tÃªn khÃ¡c (vÃ­ dá»¥ `id_ed25519.pub`).

3) VÃ­ dá»¥ Ä‘áº§u ra (máº«u, KHÃ”NG PHáº¢I key tháº­t)
   - Khi cháº¡y lá»‡nh báº¡n sáº½ tháº¥y 1 dÃ²ng dÃ i báº¯t Ä‘áº§u báº±ng loáº¡i key, tiáº¿p theo lÃ  chuá»—i mÃ£ vÃ  pháº§n chÃº thÃ­ch:
     ```
     ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC3...restOfKey... user@hostname
     ```
   - Má»™t sá»‘ key cÃ³ thá»ƒ báº¯t Ä‘áº§u báº±ng `ssh-ed25519` thay vÃ¬ `ssh-rsa`.

4) CÃ¡ch sao chÃ©p ná»™i dung public key vÃ o file .txt (Ä‘á»ƒ gá»­i/ lÆ°u)
   - Ghi tháº³ng ra file text:
     ```
     cat ~/.ssh/id_rsa.pub > ~/id_rsa_pub.txt
     ```
     -> táº¡o file `id_rsa_pub.txt` trong thÆ° má»¥c Home chá»©a ná»™i dung public key.
   - Ghi vÃ o thÆ° má»¥c hiá»‡n táº¡i:
     ```
     cat ~/.ssh/id_rsa.pub > id_rsa_pub.txt
     ```
   - Náº¿u muá»‘n Ä‘áº·t tÃªn khÃ¡c:
     ```
     cat ~/.ssh/id_rsa.pub > ~/Desktop/my_ssh_key_for_github.txt
     ```

5) CÃ¡ch copy public key vÃ o clipboard (nhiá»u há»‡ Ä‘iá»u hÃ nh)
   - macOS:
     ```
     pbcopy < ~/.ssh/id_rsa.pub
     ```
   - Linux (X11) cÃ³ `xclip`:
     ```
     xclip -selection clipboard < ~/.ssh/id_rsa.pub
     ```
     hoáº·c (náº¿u dÃ¹ng `xsel`):
     ```
     xsel --clipboard < ~/.ssh/id_rsa.pub
     ```
   - Windows (PowerShell trong WSL / Git Bash):
     - WSL -> Windows clipboard:
       ```
       cat ~/.ssh/id_rsa.pub | clip.exe
       ```
     - PowerShell (náº¿u file á»Ÿ Windows path):
       ```
       Get-Content $env:USERPROFILE\.ssh\id_rsa.pub | Set-Clipboard
       ```
   - LÆ°u Ã½: cÃ¡c lá»‡nh clipboard yÃªu cáº§u cÃ´ng cá»¥ tÆ°Æ¡ng á»©ng Ä‘Ã£ Ä‘Æ°á»£c cÃ i.

6) Quy táº¯c an toÃ n (quan trá»ng)
   - **KhÃ´ng** chia sáº» **private key** (`~/.ssh/id_rsa` hoáº·c `id_ed25519`) bao giá». Chá»‰ chia sáº» file `.pub`.
   - Kiá»ƒm tra quyá»n truy cáº­p thÆ° má»¥c `.ssh` vÃ  file private:
     ```
     ls -la ~/.ssh
     chmod 700 ~/.ssh
     chmod 600 ~/.ssh/id_rsa
     ```
   - Náº¿u public key rÃ² rá»‰ thÃ¬ khÃ´ng nguy hiá»ƒm (má»™t mÃ¬nh nÃ³ khÃ´ng cho phÃ©p truy cáº­p). NhÆ°ng náº¿u private key bá»‹ lá»™, **revoke** / táº¡o key má»›i ngay.

7) Náº¿u file public key khÃ´ng tá»“n táº¡i
   - Táº¡o cáº·p key má»›i (vÃ­ dá»¥ RSA 4096 hoáº·c ed25519):
     - RSA:
       ```
       ssh-keygen -t rsa -b 4096 -f ~/.ssh/id_rsa
       ```
     - ED25519 (khuyáº¿n nghá»‹ hiá»‡n nay):
       ```
       ssh-keygen -t ed25519 -f ~/.ssh/id_ed25519
       ```
     - Sau Ä‘Ã³ public key sáº½ náº±m á»Ÿ `~/.ssh/id_rsa.pub` hoáº·c `~/.ssh/id_ed25519.pub`.

8) VÃ­ dá»¥ quy trÃ¬nh nhanh Ä‘á»ƒ gá»­i public key lÃªn GitHub (tÃ³m táº¯t)
   1. Hiá»ƒn thá»‹ key:
      ```
      cat ~/.ssh/id_rsa.pub
      ```
   2. Sao chÃ©p (hoáº·c dÃ¹ng lá»‡nh clipboard bÃªn trÃªn).
   3. DÃ¡n vÃ o trang "SSH and GPG keys" cá»§a GitHub vÃ  lÆ°u.

9) TÃ³m táº¯t ngáº¯n gá»n (copy vÃ o file .txt náº¿u cáº§n)
   - Hiá»ƒn thá»‹ ná»™i dung public key:
     ```
     cat ~/.ssh/id_rsa.pub
     ```
   - LÆ°u ra file .txt:
     ```
     cat ~/.ssh/id_rsa.pub > ~/id_rsa_pub.txt
     ```
   - Sao chÃ©p vÃ o clipboard (vÃ­ dá»¥ macOS):
     ```
     pbcopy < ~/.ssh/id_rsa.pub
     ```

------------------------------------------------------------
Háº¾T
		
		
		- cmd: git tag
		
HÆ¯á»šNG DáºªN CHI TIáº¾T (PLAIN TEXT) â€” Lá»†NH: git tag
------------------------------------------------------------
Má»¤C TIÃŠU
  - `git tag` dÃ¹ng Ä‘á»ƒ **gáº¯n nhÃ£n (tag)** cho má»™t commit trong Git â€” thÆ°á»ng dÃ¹ng Ä‘á»ƒ Ä‘Ã¡nh dáº¥u cÃ¡c release/version (vÃ­ dá»¥ v1.0.0).
  - Tags khÃ¡c vá»›i branches: tag lÃ  má»™t Ä‘iá»ƒm cá»‘ Ä‘á»‹nh, khÃ´ng di chuyá»ƒn khi commit má»›i Ä‘Æ°á»£c thÃªm.

KIá»‚U TAG
  1) Lightweight tag (nhÃ£n nháº¹)
     - Vá» báº£n cháº¥t lÃ  má»™t **Ä‘iá»ƒm tham chiáº¿u** tá»›i commit (giá»‘ng má»™t nhÃ£n tÄ©nh).
     - KhÃ´ng chá»©a metadata (tÃ¡c giáº£, ngÃ y, message).
     - Táº¡o báº±ng lá»‡nh:
       ```
       git tag <tagname>
       ```
     - VÃ­ dá»¥:
       ```
       git tag v1.0.0
       ```

  2) Annotated tag (nhÃ£n cÃ³ chÃº thÃ­ch) â€” KHÃ”NG NÃŠN Bá» QUA
     - LÆ°u metadata: tÃ¡c giáº£, email, ngÃ y, message; cÃ³ thá»ƒ kÃ½ (GPG).
     - ÄÆ°á»£c khuyÃªn dÃ¹ng cho release vÃ¬ lÆ°u thÃ´ng tin Ä‘áº§y Ä‘á»§.
     - Táº¡o báº±ng:
       ```
       git tag -a <tagname> -m "Release message"
       ```
     - VÃ­ dá»¥:
       ```
       git tag -a v1.0.0 -m "Release version 1.0.0 â€” initial stable release"
       ```
     - Äá»ƒ táº¡o annotated tag vá»›i ná»™i dung message báº±ng trÃ¬nh soáº¡n tháº£o (náº¿u khÃ´ng dÃ¹ng `-m`):
       ```
       git tag -a v1.0.0
       # sáº½ má»Ÿ editor Ä‘á»ƒ báº¡n viáº¿t message
       ```

  3) Signed tag (gpg-signed)
     - DÃ¹ng Ä‘á»ƒ xÃ¡c thá»±c tag báº±ng GPG.
     - Táº¡o báº±ng:
       ```
       git tag -s <tagname> -m "My signed release"
       ```
     - Hoáº·c dÃ¹ng annotated + sign:
       ```
       git tag -a v1.0.0 -m "Release v1.0.0" -s
       ```

KIá»‚M TRA TAG HIá»†N CÃ“ TRONG REPO
  - Show táº¥t cáº£ tag:
    ```
    git tag
    ```
  - Show tag theo pattern:
    ```
    git tag -l "v1.*"
    ```
  - Hiá»ƒn thá»‹ chi tiáº¿t cá»§a má»™t tag (Ä‘áº·c biá»‡t annotated):
    ```
    git show <tagname>
    ```
    VÃ­ dá»¥:
    ```
    git show v1.0.0
    ```

Táº O TAG CHO Má»˜T COMMIT KHÃC (KHÃ”NG PHáº¢I HEAD)
  - Táº¡o tag táº¡i commit hash:
    ```
    git tag -a v1.1.0 <commit-hash> -m "Release v1.1.0 for bugfix"
    ```
  - Hoáº·c lightweight:
    ```
    git tag v1.1.0 <commit-hash>
    ```

Äáº¨Y (PUSH) TAG LÃŠN REMOTE
  1) Push 1 tag:
     ```
     git push origin <tagname>
     ```
     VÃ­ dá»¥:
     ```
     git push origin v1.0.0
     ```
  2) Push táº¥t cáº£ tag:
     ```
     git push origin --tags
     ```
     LÆ°u Ã½: `--tags` sáº½ push táº¥t cáº£ tag local chÆ°a tá»“n táº¡i á»Ÿ remote.

XÃ“A TAG
  1) XÃ³a tag local:
     ```
     git tag -d <tagname>
     ```
     VÃ­ dá»¥:
     ```
     git tag -d v1.0.0
     ```
  2) XÃ³a tag trÃªn remote (sau khi xÃ³a local náº¿u muá»‘n Ä‘á»“ng bá»™):
     ```
     git push origin :refs/tags/<tagname>
     ```
     hoáº·c:
     ```
     git push origin --delete tag <tagname>
     ```
     VÃ­ dá»¥:
     ```
     git push origin :refs/tags/v1.0.0
     # hoáº·c
     git push origin --delete tag v1.0.0
     ```

LÃ€M VIá»†C Vá»šI TAG TRONG CI / RELEASE
  - Nhiá»u CI sáº½ trigger pipeline khi cÃ³ tag má»›i Ä‘Æ°á»£c push (vÃ­ dá»¥ GitHub Actions `on: push: tags:`).
  - DÃ¹ng tag Ä‘á»ƒ build artifact tÆ°Æ¡ng á»©ng vá»›i release cá»¥ thá»ƒ.
  - Káº¿t há»£p tag vá»›i semver (semantic versioning) â€” vÃ­ dá»¥: vMAJOR.MINOR.PATCH (v1.2.3).

CHECKOUT TAG (LÆ¯U Ã: detached HEAD)
  - Checkout má»™t tag sáº½ Ä‘Æ°a báº¡n vÃ o tráº¡ng thÃ¡i *detached HEAD* (khÃ´ng trÃªn branch):
    ```
    git checkout <tagname>
    ```
  - VÃ­ dá»¥:
    ```
    git checkout v1.0.0
    ```
  - Náº¿u muá»‘n sá»­a vÃ  commit trÃªn tag Ä‘Ã£ checkout, hÃ£y táº¡o branch tá»« Ä‘Ã³:
    ```
    git checkout -b fix-from-v1.0.0 v1.0.0
    ```

XEM TAG Gáº®N Vá»šI Má»˜T COMMIT Cá»¤ THá»‚
  - Xem tag trá» Ä‘áº¿n commit hiá»‡n táº¡i:
    ```
    git describe --tags
    ```
  - Liá»‡t kÃª cÃ¡c tag trá» tá»›i commit:
    ```
    git tag --contains <commit-hash>
    ```

KIá»‚M TRA CHá»® KÃ (GPG)
  - Kiá»ƒm tra chá»¯ kÃ½ tag:
    ```
    git tag -v <tagname>
    ```
  - VÃ­ dá»¥:
    ```
    git tag -v v1.0.0
    ```

QUY Æ¯á»šC Äáº¶T TÃŠN TAG (THÃ”NG THÆ¯á»œNG)
  - Semantic versioning: `v1.2.3`
  - Release candidate: `v1.2.3-rc.1` (tÃ¹y convention cá»§a team)
  - TÃªn tháº£o luáº­n: `deploy-2025-11-22` (Ã­t dÃ¹ng cho production releases)

TIPS & BEST PRACTICES
  - DÃ¹ng **annotated tags** cho release (lÆ°u metadata).
  - KÃ½ tag báº±ng GPG náº¿u cáº§n Ä‘áº£m báº£o nguá»“n gá»‘c release.
  - TrÃ¡nh sá»­a tag Ä‘Ã£ public trÃªn remote â€” náº¿u sá»­a, thÃ´ng bÃ¡o team vÃ  cÃ¢n nháº¯c táº¡o tag má»›i.
  - Push tags riÃªng (khÃ´ng dÃ¹ng `--tags` bá»«a bÃ£i) náº¿u báº¡n muá»‘n kiá»ƒm soÃ¡t release.
  - DÃ¹ng `git show <tag>` Ä‘á»ƒ xem chÃ­nh xÃ¡c commit vÃ  message gáº¯n vá»›i tag.
  - Trong workflow CI/CD, trigger build chá»‰ khi cÃ³ tag matching pattern (vÃ­ dá»¥ `v*.*.*`).

Má»˜T Sá» Lá»†NH Há»®U ÃCH Tá»”NG Há»¢P
  - List tags: `git tag`
  - Create lightweight: `git tag v1.0.0`
  - Create annotated: `git tag -a v1.0.0 -m "Release v1.0.0"`
  - Create signed: `git tag -s v1.0.0 -m "Signed release"`
  - Show tag detail: `git show v1.0.0`
  - Push single tag: `git push origin v1.0.0`
  - Push all tags: `git push origin --tags`
  - Delete local tag: `git tag -d v1.0.0`
  - Delete remote tag: `git push origin --delete tag v1.0.0`
  - Checkout tag (detached HEAD): `git checkout v1.0.0`
  - Create branch from tag: `git checkout -b hotfix/v1.0.1 v1.0.0`
  - Verify GPG-signed tag: `git tag -v v1.0.0`

CÃC TÃŒNH HUá»NG THá»°C Táº¾
  1) Báº¡n hoÃ n thÃ nh release v2.0.0:
     ```
     git tag -a v2.0.0 -m "Release v2.0.0: new features and fixes"
     git push origin v2.0.0
     ```
  2) Báº¡n muá»‘n push táº¥t cáº£ tag local má»›i lÃªn remote:
     ```
     git push origin --tags
     ```
  3) Báº¡n Ä‘Ã£ lá»¡ táº¡o tag sai vÃ  muá»‘n thay tháº¿ (khÃ´ng khuyáº¿n nghá»‹ náº¿u Ä‘Ã£ push):
     - XÃ³a local:
       ```
       git tag -d v1.0.0
       ```
     - Táº¡o tag Ä‘Ãºng:
       ```
       git tag -a v1.0.0 -m "Corrected release"
       ```
     - XÃ³a remote cÅ© vÃ  push láº¡i:
       ```
       git push origin --delete tag v1.0.0
       git push origin v1.0.0
       ```

TÃ€I LIá»†U THAM KHáº¢O NGáº®N
  - `git help tag` hoáº·c `man git-tag` (xem táº¥t cáº£ tÃ¹y chá»n).
  - Git docs: https://git-scm.com/docs/git-tag

------------------------------------------------------------
Háº¾T
		
		
		- cmd: git show v2.0.0
		
Giáº£i thÃ­ch chi tiáº¿t: `git show v2.0.0`

## Má»¥c Ä‘Ã­ch

`git show <object>` dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t vá» má»™t Ä‘á»‘i tÆ°á»£ng Git (thÆ°á»ng lÃ  commit, tag, hoáº·c blob). Khi báº¡n cháº¡y `git show v2.0.0`, Git sáº½ cá»‘ gáº¯ng tÃ¬m Ä‘á»‘i tÆ°á»£ng cÃ³ tÃªn `v2.0.0` (thÆ°á»ng lÃ  má»™t tag) vÃ  hiá»ƒn thá»‹ thÃ´ng tin liÃªn quan.

## Káº¿t quáº£ máº·c Ä‘á»‹nh

Khi `v2.0.0` lÃ  **tag tham chiáº¿u tá»›i má»™t commit** (thÆ°á»ng lÃ  trÆ°á»ng há»£p phá»• biáº¿n):

* Náº¿u tag lÃ  **annotated tag** (cÃ³ metadata: tagger, message), `git show` sáº½ hiá»ƒn thá»‹ thÃ´ng tin tag (tagger, ngÃ y thÃ¡ng, message tag), sau Ä‘Ã³ hiá»ƒn thá»‹ commit mÃ  tag trá» tá»›i (commit SHA, author, date, message) vÃ  diff (patch) cá»§a commit Ä‘Ã³.
* Náº¿u tag lÃ  **lightweight tag** (chá»‰ lÃ  má»™t tÃªn tham chiáº¿u Ä‘áº¿n commit, khÃ´ng cÃ³ message), `git show` sáº½ trá»±c tiáº¿p hiá»ƒn thá»‹ thÃ´ng tin commit vÃ  diff.

## VÃ­ dá»¥ Ä‘áº§u ra (máº«u)

DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ­ dá»¥ minh há»a â€” **lÆ°u Ã½: Ä‘Ã¢y lÃ  máº«u giáº£ láº­p**, khÃ´ng pháº£i dá»¯ liá»‡u thá»±c tá»« repo cá»§a báº¡n:

---

Tag: v2.0.0
Tagger: Alice Nguyen [alice@example.com](mailto:alice@example.com)
Date:   Sat Mar 15 10:12:34 2025 +0700

Release v2.0.0 â€” major features and bugfixes

commit 9f1c2a3b4d5e6f7890abcdef1234567890abcdef
Author: Bob Tran [bob@example.com](mailto:bob@example.com)
Date:   Fri Mar 14 09:00:00 2025 +0700

```
Add new authentication flow and fix token refresh bug
```

src/auth/login.js | 34 ++++++++++++++++++++++++++++++
src/auth/token.js | 12 ++++++++++
2 files changed, 46 insertions(+)
---------------------------------

## Giáº£i thÃ­ch tá»«ng pháº§n cá»§a output

1. **ThÃ´ng tin tag (náº¿u cÃ³)**

   * `Tag: v2.0.0` â€” tÃªn tag Ä‘Æ°á»£c hiá»ƒn thá»‹ náº¿u Ä‘Ã³ lÃ  annotated tag.
   * `Tagger: ...` / `Date:` â€” ai táº¡o tag vÃ  khi nÃ o.
   * Náº±m ngay dÆ°á»›i lÃ  **message cá»§a tag** (thÆ°á»ng dÃ¹ng Ä‘á»ƒ mÃ´ táº£ release).

2. **ThÃ´ng tin commit**

   * `commit <SHA>` â€” mÃ£ hash cá»§a commit mÃ  tag trá» tá»›i.
   * `Author: ...` / `Date:` â€” tÃ¡c giáº£ commit vÃ  thá»i gian.
   * DÃ²ng trá»‘ng rá»“i Ä‘áº¿n **commit message** (mÃ´ táº£ commit).

3. **Diff / Patch**

   * Theo sau lÃ  pháº§n `diff` (sá»± khÃ¡c nhau) giá»¯a commit nÃ y vÃ  parent cá»§a nÃ³ â€” hiá»ƒn thá»‹ thay Ä‘á»•i trong file (thÃªm/xÃ³a/sá»­a) theo Ä‘á»‹nh dáº¡ng patch.
   * ThÃ´ng tin tÃ³m táº¯t `X files changed, Y insertions(+), Z deletions(-)` cÅ©ng thÆ°á»ng xuáº¥t hiá»‡n.

## Máº¹o & tuá»³ chá»n há»¯u Ã­ch

* `git show --name-only v2.0.0` â€” chá»‰ liá»‡t kÃª tÃªn tá»‡p thay Ä‘á»•i (khÃ´ng hiá»ƒn thá»‹ diff ná»™i dung).
* `git show --name-status v2.0.0` â€” liá»‡t kÃª tÃªn tá»‡p kÃ¨m tráº¡ng thÃ¡i (A/M/D...).
* `git show --stat v2.0.0` â€” hiá»ƒn thá»‹ thá»‘ng kÃª tÃ³m táº¯t thay Ä‘á»•i theo file (sá»‘ dÃ²ng thÃªm/bá»›t).
* `git show --pretty=fuller v2.0.0` â€” hiá»ƒn thá»‹ thÃ´ng tin commit chi tiáº¿t hÆ¡n (Author/Committer Ä‘áº§y Ä‘á»§).
* `git show --no-patch v2.0.0` â€” chá»‰ hiá»ƒn thá»‹ metadata (commit message, author...) **khÃ´ng** show diff.
* `git show v2.0.0^{}` â€” "dereference" tag: náº¿u `v2.0.0` lÃ  annotated tag, `^{}` buá»™c Git tráº£ vá» Ä‘á»‘i tÆ°á»£ng gá»‘c (thÆ°á»ng lÃ  commit) mÃ  tag trá» tá»›i.
* `git show v2.0.0:README.md` â€” hiá»ƒn thá»‹ ná»™i dung cá»§a file `README.md` trong commit/tag `v2.0.0` (dÃ¹ng Ä‘á»ƒ Ä‘á»c file á»Ÿ tráº¡ng thÃ¡i Ä‘Ã³ mÃ  khÃ´ng checkout).
* `git show --pretty=format:"%h %an %ad %s" v2.0.0` â€” tuá»³ chá»‰nh Ä‘á»‹nh dáº¡ng hiá»ƒn thá»‹ (vÃ­ dá»¥: hash ngáº¯n, author, date, subject).

## TrÆ°á»ng há»£p tag lightweight vs annotated

* **Lightweight tag**: chá»‰ lÃ  má»™t ref trá» tháº³ng tá»›i commit. `git show v2.0.0` sáº½ hiá»ƒn thá»‹ commit (Author/Date/message) + diff.
* **Annotated tag**: lÃ  má»™t Ä‘á»‘i tÆ°á»£ng riÃªng trong git chá»©a metadata (tagger, date, message) vÃ  trá» tá»›i má»™t commit. `git show v2.0.0` sáº½ hiá»ƒn thá»‹ pháº§n tag (tagger + message) **trÆ°á»›c** khi hiá»ƒn thá»‹ commit target.

## CÃ¡ch kiá»ƒm tra tag lÃ  annotated hay lightweight

* `git cat-file -t v2.0.0` â€” náº¿u káº¿t quáº£ lÃ  `tag` => annotated; náº¿u káº¿t quáº£ lÃ  `commit` => lightweight (vÃ¬ ref trá»±c tiáº¿p tá»›i commit).
* `git show v2.0.0` â€” náº¿u báº¡n tháº¥y pháº§n `Tagger:` vÃ  message tag => annotated.

## á»¨ng dá»¥ng thá»±c táº¿

* Kiá»ƒm tra ná»™i dung má»™t release nhanh chÃ³ng (xem message tag + commit kÃ¨m diff).
* Äá»c file táº¡i má»™t tag cá»¥ thá»ƒ (`git show v2.0.0:docs/guide.md`).
* DÃ¹ng trong script/batch Ä‘á»ƒ láº¥y metadata release: `git show --no-patch --pretty=format:"%H%n%an%n%ad%n%B" v2.0.0` Ä‘á»ƒ xuáº¥t hash, author, date, body message cho xá»­ lÃ½.

## Má»™t sá»‘ lÆ°u Ã½ báº£o máº­t

* Tag message (annotated tag) cÃ³ thá»ƒ chá»©a báº¥t cá»© chá»¯ nÃ o â€” náº¿u báº¡n hiá»ƒn thá»‹ output ra web, hÃ£y escape trÆ°á»›c khi render.
* Khi dÃ¹ng `git show <tag>:<path>` Ä‘á»ƒ láº¥y ná»™i dung file, hÃ£y cáº©n tháº­n náº¿u path do ngÆ°á»i dÃ¹ng cung cáº¥p Ä‘á»ƒ trÃ¡nh chiÃªu trÃ² (sanitize input).

## Tá»•ng káº¿t ngáº¯n gá»n

* `git show v2.0.0` = hiá»ƒn thá»‹ (tag info náº¿u cÃ³) â†’ commit info â†’ diff cá»§a commit.
* DÃ¹ng cÃ¡c tuá»³ chá»n `--stat`, `--name-only`, `--no-patch`, `--pretty=...` Ä‘á»ƒ láº¥y Ä‘Ãºng pháº§n báº¡n cáº§n.

---

Náº¿u báº¡n muá»‘n, mÃ¬nh cÃ³ thá»ƒ cung cáº¥p thÃªm: vÃ­ dá»¥ Ä‘áº§u ra thá»±c táº¿ tá»« repo cá»§a báº¡n (náº¿u báº¡n paste `git show v2.0.0` á»Ÿ Ä‘Ã¢y), hoáº·c file .txt Ä‘Ã£ sáºµn sÃ ng Ä‘á»ƒ táº£i xuá»‘ng.
		
		
		- cmd: git tag -a v3.5.3 -m "Release 3.5.3"
		
HÆ¯á»šNG DáºªN CHI TIáº¾T (PLAIN TEXT) â€” Lá»†NH: git tag -a v3.5.3 -m "Release 3.5.3"
-----------------------------------------------------------------------

Má»¤C TIÃŠU CHUNG
  - Lá»‡nh nÃ y **táº¡o má»™t annotated tag** tÃªn `v3.5.3` vá»›i message `"Release 3.5.3"`.
  - Annotated tag lÆ°u metadata (tÃ¡c giáº£, email, ngÃ y giá») vÃ  message â€” phÃ¹ há»£p Ä‘á»ƒ Ä‘Ã¡nh dáº¥u release.

GIáº¢I THÃCH Tá»ªNG PHáº¦N
  - `git tag`        : lá»‡nh quáº£n lÃ½ tag trong Git.
  - `-a`             : táº¡o **annotated tag** (cÃ³ metadata + message). KhÃ´ng dÃ¹ng `-a` sáº½ táº¡o lightweight tag.
  - `v3.5.3`         : tÃªn tag báº¡n Ä‘áº·t (thÆ°á»ng theo semantic versioning `vMAJOR.MINOR.PATCH`).
  - `-m "Release 3.5.3"` : message cho tag (giá»‘ng commit message) â€” ghi chÃº ngáº¯n vá» release.

KHI CHáº Y Lá»†NH NÃ€Y
  - Git sáº½ táº¡o má»™t object tag chá»©a:
    - tÃªn tag (`v3.5.3`),
    - tagger (tÃªn & email cá»§a ngÆ°á»i táº¡o tag),
    - ngÃ y giá» táº¡o,
    - message `"Release 3.5.3"`,
    - con trá» tá»›i commit hiá»‡n táº¡i (HEAD) náº¿u khÃ´ng chá»‰ Ä‘á»‹nh commit khÃ¡c.
  - Tag nÃ y **chá»‰ tá»“n táº¡i local** cho tá»›i khi báº¡n push lÃªn remote.

CÃC BIáº¾N THá»‚ THÆ¯á»œNG DÃ™NG
  1) Táº¡o annotated tag táº¡i commit hiá»‡n táº¡i (HEAD):
     ```
     git tag -a v3.5.3 -m "Release 3.5.3"
     ```
  2) Táº¡o annotated tag táº¡i má»™t commit cá»¥ thá»ƒ (báº±ng hash):
     ```
     git tag -a v3.5.3 <commit-hash> -m "Release 3.5.3"
     ```
     VÃ­ dá»¥:
     ```
     git tag -a v3.5.3 9fceb02 -m "Release 3.5.3"
     ```
  3) Táº¡o signed (GPG) annotated tag:
     - Náº¿u báº¡n Ä‘Ã£ cáº¥u hÃ¬nh GPG key, kÃ½ tag Ä‘á»ƒ xÃ¡c thá»±c nguá»“n gá»‘c:
       ```
       git tag -s v3.5.3 -m "Release 3.5.3"
       ```
     - Hoáº·c thÃªm `-s` cÃ¹ng `-a`:
       ```
       git tag -a v3.5.3 -m "Release 3.5.3" -s
       ```

KIá»‚M TRA / HIá»‚N THá»Š TAG
  - Liá»‡t kÃª tag hiá»‡n cÃ³:
    ```
    git tag
    ```
  - Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t cá»§a tag (metadata + commit):
    ```
    git show v3.5.3
    ```
    Káº¿t quáº£ sáº½ cho biáº¿t tagger, ngÃ y, message, vÃ  diff cá»§a commit trá» tá»›i.
  - Kiá»ƒm tra chá»¯ kÃ½ GPG (náº¿u tag Ä‘Æ°á»£c kÃ½):
    ```
    git tag -v v3.5.3
    ```

Äáº¨Y TAG LÃŠN REMOTE
  - Push má»™t tag cá»¥ thá»ƒ:
    ```
    git push origin v3.5.3
    ```
  - Push má»i tag local chÆ°a cÃ³ trÃªn remote:
    ```
    git push origin --tags
    ```
  - LÆ°u Ã½: `--tags` sáº½ push táº¥t cáº£ tag â€” cáº©n tháº­n náº¿u báº¡n cÃ³ tag thá»­ nghiá»‡m.

XÃ“A / Sá»¬A TAG
  - XÃ³a tag local:
    ```
    git tag -d v3.5.3
    ```
  - XÃ³a tag trÃªn remote:
    ```
    git push origin --delete tag v3.5.3
    ```
    hoáº·c:
    ```
    git push origin :refs/tags/v3.5.3
    ```
  - Sá»­a message tag Ä‘Ã£ táº¡o (khÃ´ng thá»ƒ chá»‰nh trá»±c tiáº¿p): 
    1. XÃ³a tag local `git tag -d v3.5.3`.
    2. Táº¡o láº¡i tag vá»›i message/cÃ i Ä‘áº·t má»›i: `git tag -a v3.5.3 -m "Corrected message"`.
    3. XÃ³a tag remote vÃ  push tag má»›i:
       ```
       git push origin --delete tag v3.5.3
       git push origin v3.5.3
       ```
    - **Cáº£nh bÃ¡o:** trÃ¡nh thay Ä‘á»•i tag Ä‘Ã£ public náº¿u nhiá»u ngÆ°á»i/CI Ä‘Ã£ dÃ¹ng nÃ³ â€” thay Ä‘á»•i cÃ³ thá»ƒ gÃ¢y nháº§m láº«n.

CHECKOUT TAG (detached HEAD)
  - Náº¿u báº¡n checkout tag:
    ```
    git checkout v3.5.3
    ```
    Git sáº½ vÃ o tráº¡ng thÃ¡i *detached HEAD* â€” khÃ´ng á»Ÿ trÃªn branch. Náº¿u cáº§n chá»‰nh sá»­a, táº¡o branch tá»« tag:
    ```
    git checkout -b fix-from-v3.5.3 v3.5.3
    ```

TIPS & BEST PRACTICES
  - DÃ¹ng **annotated tags** cho release vÃ¬ lÆ°u thÃ´ng tin (ngÆ°á»i táº¡o, ngÃ y, message).
  - Sá»­ dá»¥ng **GPG-signed tags** náº¿u báº¡n cáº§n Ä‘áº£m báº£o tÃ­nh xÃ¡c thá»±c (security-sensitive releases).
  - DÃ¹ng **semantic versioning** (vÃ­ dá»¥ `v3.5.3`) Ä‘á»ƒ dá»… quáº£n lÃ½ release.
  - TrÆ°á»›c khi tag, Ä‘áº£m báº£o commit báº¡n tag lÃ  commit chÃ­nh xÃ¡c (kiá»ƒm tra `git log -n 1` hoáº·c `git show HEAD`).
  - TrÃ¡nh dÃ¹ng `git push --tags` náº¿u báº¡n muá»‘n kiá»ƒm soÃ¡t tag nÃ o Ä‘Æ°á»£c public â€” push tag cá»¥ thá»ƒ thay vÃ¬ `--tags`.

CÃC Lá»†NH Há»®U ÃCH Tá»”NG Há»¢P
  - Táº¡o annotated tag: `git tag -a v3.5.3 -m "Release 3.5.3"`
  - Táº¡o signed tag: `git tag -s v3.5.3 -m "Release 3.5.3"`
  - Táº¡o tag cho commit cá»¥ thá»ƒ: `git tag -a v3.5.3 <commit-hash> -m "Release 3.5.3"`
  - Show tag detail: `git show v3.5.3`
  - Verify signed tag: `git tag -v v3.5.3`
  - Push specific tag: `git push origin v3.5.3`
  - Push all tags: `git push origin --tags`
  - Delete local tag: `git tag -d v3.5.3`
  - Delete remote tag: `git push origin --delete tag v3.5.3`

MáºªU QUY TRÃŒNH Táº O VÃ€ ÄÄ‚NG RELEASE NHANH
  1) Kiá»ƒm tra commit hiá»‡n táº¡i:
     ```
     git log -1 --oneline
     ```
  2) Táº¡o annotated tag:
     ```
     git tag -a v3.5.3 -m "Release 3.5.3"
     ```
  3) Push tag lÃªn remote:
     ```
     git push origin v3.5.3
     ```
  4) (Tuá»³ ná»n táº£ng) Táº¡o Release trÃªn GitHub/GitLab tá»« tag `v3.5.3`.

TÃ“M Táº®T NGáº®N Gá»ŒN
  - `git tag -a v3.5.3 -m "Release 3.5.3"`: táº¡o **annotated tag** `v3.5.3` vá»›i message Ä‘Ã£ cho; tag ban Ä‘áº§u lÃ  local; dÃ¹ng `git push origin v3.5.3` Ä‘á»ƒ public.

-----------------------------------------------------------------------
Háº¾T
		
		
		- cmd: systemctl restart httpd
		
HÆ¯á»šNG DáºªN CHI TIáº¾T (PLAIN TEXT) â€” Lá»†NH: systemctl restart httpd
------------------------------------------------------------

1) Má»¤C ÄÃCH CHUNG
   - Lá»‡nh `systemctl restart httpd` dÃ¹ng Ä‘á»ƒ **khá»Ÿi Ä‘á»™ng láº¡i (restart)** dá»‹ch vá»¥ HTTP (Apache) cÃ³ tÃªn `httpd` trÃªn cÃ¡c há»‡ thá»‘ng Linux sá»­ dá»¥ng systemd (RHEL, CentOS, Fedora, AlmaLinux, Rocky, ...).
   - "Restart" sáº½ **dá»«ng** dá»‹ch vá»¥ hiá»‡n táº¡i (náº¿u Ä‘ang cháº¡y) rá»“i **khá»Ÿi Ä‘á»™ng láº¡i** ngay â€” Ã¡p dá»¥ng thay Ä‘á»•i cáº¥u hÃ¬nh, module, hoáº·c kháº¯c phá»¥c tráº¡ng thÃ¡i treo.

2) CÃš PHÃP CÆ  Báº¢N
   - Thá»±c hiá»‡n restart:
     ```
     sudo systemctl restart httpd
     ```
   - Ghi chÃº:
     - `sudo` cáº§n náº¿u báº¡n khÃ´ng pháº£i root.
     - `httpd` lÃ  tÃªn unit service; trÃªn Debian/Ubuntu tÆ°Æ¡ng Ä‘Æ°Æ¡ng thÆ°á»ng lÃ  `apache2`:
       ```
       sudo systemctl restart apache2
       ```

3) PHÃ‚N TÃCH Tá»ªNG PHáº¦N
   - `systemctl` : cÃ´ng cá»¥ cá»§a systemd Ä‘á»ƒ quáº£n lÃ½ system services (start/stop/restart/status/enable/disable...).
   - `restart` : action â€” dá»«ng vÃ  sau Ä‘Ã³ khá»Ÿi Ä‘á»™ng láº¡i service.
   - `httpd` : tÃªn unit (service) cá»§a Apache HTTP Server trÃªn há»‡ phÃ¢n phá»‘i dÃ²ng RHEL.

4) Káº¾T Há»¢P TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG
   - Kiá»ƒm tra tráº¡ng thÃ¡i ngay sau khi restart:
     ```
     sudo systemctl status httpd
     ```
   - Xem log (journal) tá»« systemd:
     ```
     sudo journalctl -u httpd --since "5 minutes ago"
     ```
   - Restart vá»›i chá» hoÃ n táº¥t (default behavior Ä‘Ã£ chá»): `systemctl` sáº½ chá» lá»‡nh hoÃ n thÃ nh; náº¿u muá»‘n khÃ´ng chá», dÃ¹ng `--no-block`:
     ```
     sudo systemctl restart httpd --no-block
     ```

5) SO SÃNH `restart` vs `reload` vs `try-restart`
   - `restart` : dá»«ng rá»“i khá»Ÿi Ä‘á»™ng láº¡i service (máº¥t káº¿t ná»‘i táº¡m thá»i).
   - `reload` : yÃªu cáº§u service náº¡p láº¡i cáº¥u hÃ¬nh mÃ  *khÃ´ng* dá»«ng tiáº¿n trÃ¬nh (náº¿u service há»— trá»£ SIGHUP hoáº·c reload). VÃ­ dá»¥:
     ```
     sudo systemctl reload httpd
     ```
     (khÃ´ng pháº£i service nÃ o cÅ©ng há»— trá»£ `reload`).
   - `try-restart` : chá»‰ restart khi service Ä‘ang cháº¡y (khÃ´ng start náº¿u Ä‘ang dá»«ng).
     ```
     sudo systemctl try-restart httpd
     ```

6) TRÆ¯á»šC KHI RESTART â€” LÆ¯U Ã AN TOÃ€N
   - Kiá»ƒm tra cáº¥u hÃ¬nh Apache trÆ°á»›c khi restart Ä‘á»ƒ trÃ¡nh lá»—i ngáº¯t dá»‹ch vá»¥:
     - TrÃªn RHEL/CentOS (httpd):
       ```
       sudo apachectl configtest
       # hoáº·c
       sudo httpd -t
       ```
     - TrÃªn Debian/Ubuntu (apache2):
       ```
       sudo apache2ctl configtest
       ```
     - Náº¿u output lÃ  `Syntax OK` thÃ¬ cÃ³ thá»ƒ restart an toÃ n.
   - Náº¿u cáº¥u hÃ¬nh sai, sá»­a lá»—i rá»“i má»›i restart.

7) Xá»¬ LÃ Sá»° Cá» THÆ¯á»œNG Gáº¶P
   - Sau restart, service khÃ´ng cháº¡y (failed):
     ```
     sudo systemctl status httpd
     sudo journalctl -u httpd -b
     ```
     - Kiá»ƒm tra lá»—i cáº¥u hÃ¬nh (vhost, module), port trÃ¹ng (80/443), hoáº·c permission file.
   - Cá»•ng 80/443 Ä‘Ã£ bá»‹ chiáº¿m:
     ```
     sudo ss -tulpn | grep -E ':80|:443'
     ```
   - Lá»—i permission/SELinux:
     - SELinux cÃ³ thá»ƒ cháº·n Ä‘á»c file; kiá»ƒm tra audit log:
       ```
       sudo ausearch -m avc -ts recent
       sudo sealert -a /var/log/audit/audit.log   # náº¿u cÃ³ sealert
       ```
     - Táº¡m thá»i táº¯t SELinux **khÃ´ng khuyáº¿n nghá»‹**; thay vÃ o Ä‘Ã³ xá»­ lÃ½ label file.

8) Káº¾ HOáº CH Tá»° KHá»I Äáº¦U Vá»šI Há»† THá»NG
   - Äá»ƒ service tá»± start khi boot:
     ```
     sudo systemctl enable httpd
     ```
   - NgÄƒn khÃ´ng cho tá»± start:
     ```
     sudo systemctl disable httpd
     ```

9) Lá»†NH Há»®U ÃCH KHÃC LIÃŠN QUAN
   - Start:
     ```
     sudo systemctl start httpd
     ```
   - Stop:
     ```
     sudo systemctl stop httpd
     ```
   - Restart vÃ  show status liá»n:
     ```
     sudo systemctl restart httpd && sudo systemctl status httpd
     ```
   - TÄƒng verboseness khi kiá»ƒm tra journal:
     ```
     sudo journalctl -u httpd -n 200 --no-pager
     ```

10) TRÆ¯á»œNG Há»¢P Äáº¶C BIá»†T
    - Náº¿u dÃ¹ng container (Docker) hoáº·c process manager khÃ¡c, command bÃªn trong container hoáº·c cÃ¡ch khá»Ÿi Ä‘á»™ng service cÃ³ thá»ƒ khÃ¡c.
    - TrÃªn Ubuntu dÃ¹ng `apache2` thay cho `httpd` (tÃªn unit khÃ¡c).

11) Ká»ŠCH Báº¢N PHá»¤C Há»’I (KHI RESTART LÃ€M Há»NG SITE)
    - 1) Kiá»ƒm tra nhanh cáº¥u hÃ¬nh:
       ```
       sudo apachectl configtest
       ```
    - 2) Xem last logs:
       ```
       sudo journalctl -u httpd -n 200
       sudo tail -n 200 /var/log/httpd/error_log     # RHEL-based
       sudo tail -n 200 /var/log/apache2/error.log   # Debian-based
       ```
    - 3) Rollback cáº¥u hÃ¬nh (náº¿u báº¡n cÃ³ báº£n backup file config), rá»“i start:
       ```
       sudo cp /etc/httpd/conf/httpd.conf.bak /etc/httpd/conf/httpd.conf
       sudo systemctl restart httpd
       ```

12) QUYá»€N (PERMISSIONS)
    - Cáº§n quyá»n root Ä‘á»ƒ restart service. Sá»­ dá»¥ng `sudo` hoáº·c login root.
    - Kiá»ƒm tra user cháº¡y httpd (vÃ­ dá»¥ `apache` hoáº·c `www-data`) khi xá»­ lÃ½ permission file/static.

13) TÃ“M Táº®T NGáº®N Gá»ŒN (COPY-N-PASTE)
    - Kiá»ƒm tra cáº¥u hÃ¬nh:
      ```
      sudo apachectl configtest
      ```
    - Restart service:
      ```
      sudo systemctl restart httpd
      ```
    - Kiá»ƒm tra tráº¡ng thÃ¡i:
      ```
      sudo systemctl status httpd
      ```
    - Xem log recent:
      ```
      sudo journalctl -u httpd --since "10 minutes ago"
      ```

------------------------------------------------------------
Háº¾T
		
		
		
		
	Ta cÃ³ thá»ƒ táº¡o á»Ÿ local trÆ°á»›c, sau Ä‘Ã³ táº¡o á»Ÿ remote, dÃ¹ng lá»‡nh git remote add origin Ä‘á»ƒ Ä‘áº©y local vÃ o remote
	
	touch a vÃ  touch a/ lÃ  khÃ¡c nhau, touch a sáº½ táº¡o file a, cÃ²n touch a/ sáº½ táº¡o folder tÃªn lÃ  a
	

--- Vagrant and Linux Servers:

	- Command:
	
		- cmd: vagrant destroy --force
		
		
		
		- cmd: ls ~/.vagrant.d/
		
		
		
		- cmd: cat /proc/cpuinfo
		
		
		
		- cmd: vagrant reload --provision
		
			TÃŠN
				vagrant reload --provision
				â€” khá»Ÿi Ä‘á»™ng láº¡i mÃ¡y áº£o Vagrant vÃ  cháº¡y láº¡i cÃ¡c provisioner Ä‘Ã£ Ä‘á»‹nh nghÄ©a

			TÃ“M Táº®T (SYNOPSIS)
				vagrant reload [options]
				vagrant reload --provision

			MÃ” Táº¢
				Lá»‡nh `vagrant reload` Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ:

				1) Dá»«ng mÃ¡y áº£o hiá»‡n táº¡i.
				2) Khá»Ÿi Ä‘á»™ng láº¡i mÃ¡y áº£o.
				3) Cáº­p nháº­t cáº¥u hÃ¬nh náº¿u cÃ³ thay Ä‘á»•i trong `Vagrantfile`.

				TÃ¹y chá»n `--provision` yÃªu cáº§u Vagrant cháº¡y láº¡i táº¥t cáº£ cÃ¡c provisioner Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong `Vagrantfile`, vÃ­ dá»¥ nhÆ°:

				  - Shell script
				  - Ansible
				  - Puppet
				  - Chef

				ÄÃ¢y lÃ  cÃ¡ch thuáº­n tiá»‡n Ä‘á»ƒ Ã¡p dá»¥ng cÃ¡c thay Ä‘á»•i cáº¥u hÃ¬nh mÃ  khÃ´ng cáº§n destroy vÃ  táº¡o láº¡i VM.

			PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
				1) `vagrant reload`
					- Dá»«ng vÃ  khá»Ÿi Ä‘á»™ng láº¡i VM.
					- Ãp dá»¥ng láº¡i cÃ¡c thay Ä‘á»•i trong `Vagrantfile`.
				2) `--provision`
					- Báº¯t buá»™c cháº¡y láº¡i táº¥t cáº£ provisioner.
					- Náº¿u bá», mÃ¡y áº£o sáº½ khá»Ÿi Ä‘á»™ng láº¡i nhÆ°ng khÃ´ng cháº¡y provisioner.
			  
			HOáº T Äá»˜NG Cá»¦A Lá»†NH
				1) Vagrant gá»­i lá»‡nh táº¯t VM.
				2) VM táº¯t hoÃ n toÃ n.
				3) Vagrant khá»Ÿi Ä‘á»™ng láº¡i VM.
				4) Náº¿u `--provision` Ä‘Æ°á»£c thÃªm, Vagrant thá»±c thi táº¥t cáº£ provisioner theo thá»© tá»± Ä‘á»‹nh nghÄ©a trong `Vagrantfile`.

			Lá»†NH LIÃŠN QUAN
				- vagrant up : táº¡o vÃ  khá»Ÿi Ä‘á»™ng VM, cháº¡y provisioner láº§n Ä‘áº§u.
				- vagrant provision : chá»‰ cháº¡y provisioner mÃ  khÃ´ng khá»Ÿi Ä‘á»™ng láº¡i VM.
				- vagrant halt : táº¯t VM mÃ  khÃ´ng xÃ³a.
				- vagrant destroy : xÃ³a VM hoÃ n toÃ n.
				- vagrant status : kiá»ƒm tra tráº¡ng thÃ¡i VM.

			Máº¸O THá»°C TIá»„N
				1) DÃ¹ng khi báº¡n chá»‰nh sá»­a `Vagrantfile` hoáº·c cÃ¡c script provisioner:
					vagrant reload --provision
				2) DÃ¹ng `--provision-with <name>` Ä‘á»ƒ chá»‰ cháº¡y provisioner cá»¥ thá»ƒ:
					vagrant reload --provision-with shell
				3) Kiá»ƒm tra tráº¡ng thÃ¡i VM trÆ°á»›c khi reload:
					vagrant status
				4) Äáº£m báº£o VM khÃ´ng bá»‹ treo, náº¿u cÃ³ lá»—i cÃ³ thá»ƒ thá»­:
					vagrant halt
					vagrant up --provision

			LÆ¯U Ã
				- Cáº§n quyá»n phÃ¹ há»£p Ä‘á»ƒ cháº¡y cÃ¡c provisioner (vÃ­ dá»¥ sudo náº¿u shell script yÃªu cáº§u).
				- Náº¿u VM Ä‘ang cháº¡y, lá»‡nh `reload` sáº½ táº¯t vÃ  khá»Ÿi Ä‘á»™ng láº¡i; táº¥t cáº£ tiáº¿n trÃ¬nh bÃªn trong VM sáº½ bá»‹ dá»«ng.
				- QuÃ¡ trÃ¬nh provision cÃ³ thá»ƒ máº¥t thá»i gian tÃ¹y script hoáº·c cáº¥u hÃ¬nh.

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- `vagrant reload --provision` restart VM vÃ  cháº¡y láº¡i provisioner.
				- Tiá»‡n lá»£i khi cÃ³ thay Ä‘á»•i cáº¥u hÃ¬nh hoáº·c script provisioner.
				- CÃ¡c provisioner cÃ³ thá»ƒ lÃ  shell, Ansible, Puppet, Chef, â€¦
				- Thay vÃ¬ destroy VM, reload giÃºp giá»¯ dá»¯ liá»‡u vÃ  Ã¡p dá»¥ng cáº­p nháº­t.

			VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
				# Khá»Ÿi Ä‘á»™ng láº¡i VM vÃ  cháº¡y láº¡i táº¥t cáº£ provisioner
				vagrant reload --provision

				# Chá»‰ cháº¡y provisioner shell cá»¥ thá»ƒ sau khi reload
				vagrant reload --provision-with shell

				# Kiá»ƒm tra tráº¡ng thÃ¡i VM trÆ°á»›c khi reload
				vagrant status

				# Náº¿u cáº§n táº¯t VM trÆ°á»›c
				vagrant halt
				vagrant up --provision

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: vi /etc/hostname
		
TiÃªu Ä‘á»: Giáº£i thÃ­ch lá»‡nh vÃ  file: vi /etc/hostname

1) Má»¥c Ä‘Ã­ch chung
- Lá»‡nh: vi /etc/hostname
  - Má»Ÿ file /etc/hostname báº±ng trÃ¬nh soáº¡n tháº£o vÄƒn báº£n vi.
  - ThÃ­ch há»£p Ä‘á»ƒ thay Ä‘á»•i tÃªn mÃ¡y (hostname) trÃªn há»‡ thá»‘ng Linux.
- File /etc/hostname
  - Chá»©a tÃªn mÃ¡y (host name) cá»§a há»‡ Ä‘iá»u hÃ nh.
  - ThÆ°á»ng chá»‰ cÃ³ má»™t dÃ²ng duy nháº¥t: tÃªn mÃ¡y khÃ´ng cÃ³ khoáº£ng tráº¯ng (vÃ­ dá»¥: my-server).
  - Há»‡ thá»‘ng Ä‘á»c file nÃ y khi khá»Ÿi Ä‘á»™ng Ä‘á»ƒ thiáº¿t láº­p hostname.

2) Ná»™i dung thÆ°á»ng tháº¥y trong /etc/hostname
- VÃ­ dá»¥ há»£p lá»‡ (má»™t dÃ²ng duy nháº¥t):
  my-server
- Ghi chÃº:
  - TÃªn mÃ¡y nÃªn gá»“m chá»¯, sá»‘, dáº¥u gáº¡ch ngang (-). TrÃ¡nh dáº¥u cÃ¡ch vÃ  kÃ½ tá»± Ä‘áº·c biá»‡t.
  - KhÃ´ng cáº§n comment; náº¿u cÃ³ comment, há»‡ thá»‘ng cÃ³ thá»ƒ bá» qua hoáº·c gÃ¢y lá»—i tÃ¹y distro.

3) Quyá»n truy cáº­p
- File thuá»™c quyá»n root; cáº§n quyá»n root Ä‘á»ƒ ghi thay Ä‘á»•i.
- Náº¿u khÃ´ng cÃ³ quyá»n root, dÃ¹ng sudo:
  sudo vi /etc/hostname

4) CÃ¡ch dÃ¹ng vi Ä‘á»ƒ chá»‰nh sá»­a (bÆ°á»›c-bÆ°á»›c)
- Má»Ÿ file:
  sudo vi /etc/hostname
- Cháº¿ Ä‘á»™ xem/di chuyá»ƒn:
  - Báº¡n vÃ o vi á»Ÿ cháº¿ Ä‘á»™ Normal (phÃ­m máº·c Ä‘á»‹nh).
  - DÃ¹ng phÃ­m mÅ©i tÃªn hoáº·c h, j, k, l Ä‘á»ƒ di chuyá»ƒn.
- Chuyá»ƒn sang cháº¿ Ä‘á»™ Insert (Ä‘á»ƒ sá»­a):
  - Nháº¥n i  (insert trÆ°á»›c con trá»)
  - Hoáº·c nháº¥n a  (append â€” thÃªm sau con trá»)
- Sá»­a ná»™i dung: nháº­p tÃªn mÃ¡y má»›i, vÃ­ dá»¥: my-new-host
  - Náº¿u file cÃ³ nhiá»u dÃ²ng, chá»‰ giá»¯ dÃ²ng chá»©a tÃªn mÃ¡y; xÃ³a dÃ²ng thá»«a.
- LÆ°u vÃ  thoÃ¡t:
  - Nháº¥n Esc Ä‘á»ƒ vá» cháº¿ Ä‘á»™ Normal.
  - GÃµ :wq rá»“i Enter  â†’ lÆ°u file vÃ  thoÃ¡t.
- ThoÃ¡t khÃ´ng lÆ°u:
  - Nháº¥n Esc rá»“i gÃµ :q! rá»“i Enter  â†’ thoÃ¡t mÃ  khÃ´ng lÆ°u.

5) Ãp dá»¥ng thay Ä‘á»•i ngay (khÃ´ng khá»Ÿi Ä‘á»™ng láº¡i)
- Thay Ä‘á»•i trong /etc/hostname sáº½ Ä‘Æ°á»£c dÃ¹ng á»Ÿ láº§n khá»Ÿi Ä‘á»™ng tiáº¿p theo.
- Äá»ƒ Ã¡p dá»¥ng ngay (táº¡m thá»i hoáº·c cá»‘ Ä‘á»‹nh) tÃ¹y distro:
  - Táº¡m thá»i (máº¥t sau reboot):
    sudo hostname my-new-host
  - Cá»‘ Ä‘á»‹nh (systemd):
    sudo hostnamectl set-hostname my-new-host
  - LÆ°u Ã½: má»™t sá»‘ dá»‹ch vá»¥ (ssh, network, db, prompts) cÃ³ thá»ƒ cáº§n restart hoáº·c logout/login Ä‘á»ƒ hiá»ƒn thá»‹ tÃªn má»›i.

6) Kiá»ƒm tra hostname hiá»‡n táº¡i
- Hiá»ƒn thá»‹ tÃªn mÃ¡y hiá»‡n táº¡i:
  hostname
  hoáº·c
  hostnamectl status

7) LÆ°u Ã½ an toÃ n
- LuÃ´n backup trÆ°á»›c khi sá»­a:
  sudo cp /etc/hostname /etc/hostname.bak
- Chá»‰ sá»­a báº±ng tÃ i khoáº£n cÃ³ quyá»n quáº£n trá»‹ (root/sudo).
- TrÃ¡nh Ä‘áº·t hostname trÃ¹ng gÃ¢y nháº§m láº«n trong máº¡ng.
- TrÃ¡nh khoáº£ng tráº¯ng vÃ  kÃ½ tá»± láº¡.

8) VÃ­ dá»¥ tá»•ng há»£p (thao tÃ¡c thá»±c táº¿)
- Backup:
  sudo cp /etc/hostname /etc/hostname.bak
- Má»Ÿ vÃ  chá»‰nh:
  sudo vi /etc/hostname
  (thay ná»™i dung thÃ nh: my-new-host)
- Ãp dá»¥ng ngay:
  sudo hostnamectl set-hostname my-new-host
- Kiá»ƒm tra:
  hostname
  hostnamectl status

â€” Háº¿t â€”
		
		
		- cmd: hostname finance
		
Giáº£i thÃ­ch chi tiáº¿t: lá»‡nh `hostname finance`

MÃ´ táº£ ngáº¯n gá»n:

* `hostname` lÃ  má»™t lá»‡nh trÃªn há»‡ Ä‘iá»u hÃ nh UNIX/Linux dÃ¹ng Ä‘á»ƒ xem hoáº·c thiáº¿t láº­p tÃªn mÃ¡y (hostname) cá»§a há»‡ thá»‘ng.
* Khi báº¡n cháº¡y `hostname finance`, lá»‡nh nÃ y *thay Ä‘á»•i* (thiáº¿t láº­p) hostname hiá»‡n táº¡i cá»§a mÃ¡y thÃ nh "finance" (náº¿u báº¡n cÃ³ Ä‘á»§ quyá»n).

CÃº phÃ¡p cÆ¡ báº£n:

* Xem hostname hiá»‡n táº¡i:
  hostname

* Thiáº¿t láº­p hostname táº¡m thá»i (chá»‰ cÃ³ hiá»‡u lá»±c cho tá»›i khi khá»Ÿi Ä‘á»™ng láº¡i):
  hostname <tÃªn_má»›i>
  VÃ­ dá»¥: hostname finance

* Thiáº¿t láº­p hostname bá»n vá»¯ng (khuyÃªn dÃ¹ng trÃªn há»‡ thá»‘ng hiá»‡n Ä‘áº¡i):
  sudo hostnamectl set-hostname finance
  Hoáº·c sá»­a file /etc/hostname (yÃªu cáº§u quyá»n root) báº±ng cÃ¡ch ghi "finance" vÃ o file Ä‘Ã³ vÃ  khá»Ÿi Ä‘á»™ng láº¡i hoáº·c dÃ¹ng hostnamectl Ä‘á»ƒ Ã¡p dá»¥ng ngay.

Quyá»n vÃ  pháº¡m vi tÃ¡c Ä‘á»™ng:

* Thay Ä‘á»•i báº±ng `hostname finance` thÆ°á»ng yÃªu cáº§u quyá»n root (sudo) trÃªn nhiá»u báº£n phÃ¢n phá»‘i. Náº¿u khÃ´ng cÃ³ quyá»n, lá»‡nh sáº½ tráº£ lá»—i hoáº·c khÃ´ng thay Ä‘á»•i gÃ¬.
* Thay Ä‘á»•i báº±ng `hostname` (khÃ´ng dÃ¹ng hostnamectl) thÆ°á»ng lÃ  táº¡m thá»i â€” hostname sáº½ quay vá» giÃ¡ trá»‹ trong /etc/hostname sau khi khá»Ÿi Ä‘á»™ng láº¡i.
* `hostnamectl set-hostname` (Systemd) sáº½ thay Ä‘á»•i bá»n vá»¯ng vÃ  cáº­p nháº­t cáº£ thÃ´ng tin trong /etc/hostname.

áº¢nh hÆ°á»Ÿng khi thay Ä‘á»•i hostname:

* TÃªn hiá»ƒn thá»‹ trong prompt shell cÃ³ thá»ƒ thay Ä‘á»•i (tÃ¹y cáº¥u hÃ¬nh PS1).
* Má»™t sá»‘ dá»‹ch vá»¥ máº¡ng, chá»©ng thá»±c, logging, hoáº·c cáº¥u hÃ¬nh mÃ¡y chá»§ cÃ³ thá»ƒ phá»¥ thuá»™c vÃ o hostname â€” cáº§n kiá»ƒm tra trÆ°á»›c khi thay Ä‘á»•i trÃªn mÃ¡y production.
* Káº¿t ná»‘i SSH hiá»‡n táº¡i thÆ°á»ng khÃ´ng bá»‹ ngáº¯t, nhÆ°ng cáº¥u hÃ¬nh xÃ¡c thá»±c theo hostname (náº¿u cÃ³) cÃ³ thá»ƒ bá»‹ áº£nh hÆ°á»Ÿng.

VÃ­ dá»¥ thá»±c táº¿:

1. Xem hostname hiá»‡n táº¡i:
   $ hostname
   server-old

2. Thay Ä‘á»•i táº¡m thá»i (chá»‰ Ä‘áº¿n láº§n khá»Ÿi Ä‘á»™ng tiáº¿p theo):
   $ sudo hostname finance
   $ hostname
   finance

3. Thay Ä‘á»•i bá»n vá»¯ng (systemd):
   $ sudo hostnamectl set-hostname finance
   $ hostnamectl
   Static hostname: finance
   Icon name: computer-vm
   Machine ID: xxxxx
   ...

4. KhÃ´i phá»¥c láº¡i hostname cÅ© (báº±ng hostnamectl):
   $ sudo hostnamectl set-hostname server-old

LÆ°u Ã½ vÃ  khuyáº¿n cÃ¡o an toÃ n:

* TrÃªn mÃ¡y production, hÃ£y kiá»ƒm tra cÃ¡c dá»‹ch vá»¥ (web server, mail, LDAP, Kerberos, chá»©ng chá»‰ TLS) trÆ°á»›c khi Ä‘á»•i hostname vÃ¬ cÃ³ kháº£ nÄƒng gÃ¢y lá»—i xÃ¡c thá»±c hoáº·c há»ng cáº¥u hÃ¬nh.
* Náº¿u há»‡ thá»‘ng dÃ¹ng tÃªn tÄ©nh trong DNS, cÃ¢n nháº¯c cáº­p nháº­t báº£n ghi DNS phÃ¹ há»£p.
* TrÃªn má»™t sá»‘ há»‡ thá»‘ng (vÃ­ dá»¥ Docker container) lá»‡nh `hostname` cÃ³ thá»ƒ hoáº¡t Ä‘á»™ng khÃ¡c (thÆ°á»ng chá»‰ thay Ä‘á»•i tÃªn trong mÃ´i trÆ°á»ng container vÃ  khÃ´ng áº£nh hÆ°á»Ÿng host).

MÃ£ tráº£ vá» (exit code):

* 0: thÃ nh cÃ´ng
* â‰ 0: cÃ³ lá»—i (vÃ­ dá»¥ quyá»n, cÃº phÃ¡p, hoáº·c lá»—i ná»™i bá»™)

TÃ³m táº¯t ngáº¯n gá»n:

* `hostname finance` thiáº¿t láº­p hostname hiá»‡n táº¡i thÃ nh "finance" (thÆ°á»ng cáº§n quyá»n root).
* Äá»ƒ thay Ä‘á»•i bá»n vá»¯ng trÃªn há»‡ thá»‘ng sá»­ dá»¥ng systemd, dÃ¹ng `sudo hostnamectl set-hostname finance`.
* LuÃ´n kiá»ƒm tra há»‡ thá»‘ng vÃ  dá»‹ch vá»¥ liÃªn quan trÆ°á»›c khi thay Ä‘á»•i hostname trÃªn mÃ¡y production.

---

Háº¿t. (Báº¡n cÃ³ thá»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung nÃ y vÃ o file .txt)
		
		
		- cmd: yum install httpd wget vim unzip zip -y
		
Lá»†NH: yum install httpd wget vim unzip zip -y

MÃ” Táº¢:
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t nhiá»u gÃ³i pháº§n má»m cÃ¹ng lÃºc trÃªn há»‡ Ä‘iá»u hÃ nh Linux
(RHEL, CentOS, AlmaLinux, Rocky Linuxâ€¦) báº±ng trÃ¬nh quáº£n lÃ½ gÃ³i YUM.

Cáº¤U TRÃšC:
yum install <tÃªn_gÃ³i_1> <tÃªn_gÃ³i_2> ... -y

Ã NGHÄ¨A Tá»ªNG THÃ€NH PHáº¦N:

1. yum
   - TrÃ¬nh quáº£n lÃ½ gÃ³i cá»§a RedHat/CentOS dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t, cáº­p nháº­t,
     gá»¡ cÃ i Ä‘áº·t cÃ¡c pháº§n má»m.
   - Tá»± Ä‘á»™ng xá»­ lÃ½ dependency (cÃ¡c gÃ³i phá»¥ thuá»™c).

2. install
   - YÃªu cáº§u YUM tiáº¿n hÃ nh cÃ i Ä‘áº·t má»™t hoáº·c nhiá»u package.

3. httpd
   - GÃ³i cÃ i Ä‘áº·t Apache Web Server.
   - ÄÃ¢y lÃ  dá»‹ch vá»¥ web phá»• biáº¿n nháº¥t Ä‘á»ƒ cháº¡y website, API, hosting fileâ€¦
   - Sau khi cÃ i Ä‘áº·t, báº¡n cÃ³ thá»ƒ báº­t dá»‹ch vá»¥ báº±ng:
       systemctl start httpd
       systemctl enable httpd

4. wget
   - CÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ táº£i file tá»« internet qua HTTP/HTTPS/FTP.
   - ThÆ°á»ng dÃ¹ng Ä‘á»ƒ táº£i file cÃ i Ä‘áº·t, script, packageâ€¦

5. vim
   - TrÃ¬nh soáº¡n tháº£o vÄƒn báº£n máº¡nh máº½ trÃªn terminal.
   - DÃ¹ng Ä‘á»ƒ chá»‰nh sá»­a file cáº¥u hÃ¬nh, code, logâ€¦

6. unzip
   - CÃ´ng cá»¥ giáº£i nÃ©n file .zip qua dÃ²ng lá»‡nh.

7. zip
   - CÃ´ng cá»¥ táº¡o file nÃ©n .zip qua dÃ²ng lá»‡nh.

8. -y
   - Tham sá»‘ tá»± Ä‘á»™ng tráº£ lá»i â€œyesâ€ cho má»i cÃ¢u há»i trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t.
   - Nhá» Ä‘Ã³ lá»‡nh cháº¡y hoÃ n toÃ n tá»± Ä‘á»™ng, khÃ´ng dá»«ng láº¡i Ä‘á»ƒ yÃªu cáº§u xÃ¡c nháº­n.

TÃ“M Táº®T CHá»¨C NÄ‚NG:
- CÃ i Apache web server (httpd)
- CÃ´ng cá»¥ táº£i file (wget)
- TrÃ¬nh soáº¡n tháº£o (vim)
- CÃ´ng cá»¥ nÃ©n/giáº£i nÃ©n file ZIP (zip + unzip)
- Tá»± Ä‘á»™ng cÃ i Ä‘áº·t khÃ´ng há»i xÃ¡c nháº­n (-y)

Lá»†NH TÆ¯Æ NG ÄÆ¯Æ NG á» DISTRO KHÃC (THAM KHáº¢O):
- Debian/Ubuntu: apt install apache2 wget vim unzip zip -y
- OpenSUSE: zypper install apache2 wget vim unzip zip -y

GHI CHÃš:
Sau khi cÃ i httpd, hÃ£y kiá»ƒm tra tráº¡ng thÃ¡i:
   systemctl status httpd

VÃ€ Má» FIREWALL (Náº¾U Cáº¦N):
   firewall-cmd --add-service=http --permanent
   firewall-cmd --reload
		
		
		- cmd: unzip 2138_aqua_nova.zip
		
Giáº£i thÃ­ch chi tiáº¿t nháº¥t cho: unzip 2138_aqua_nova.zip

Má»¥c Ä‘Ã­ch

* Lá»‡nh `unzip` dÃ¹ng Ä‘á»ƒ giáº£i nÃ©n táº­p tin Ä‘á»‹nh dáº¡ng ZIP trÃªn há»‡ thá»‘ng Unix-like (Linux, macOS) hoáº·c trong cÃ¡c mÃ´i trÆ°á»ng cÃ³ cÃ i cÃ´ng cá»¥ phÃ¹ há»£p.

CÃº phÃ¡p cÆ¡ báº£n

* unzip <tÃ¹y_chá»n> <file.zip>
  VÃ­ dá»¥ cá»¥ thá»ƒ: unzip 2138_aqua_nova.zip

Giáº£i thÃ­ch tá»«ng pháº§n cá»§a cÃ¢u lá»‡nh máº«u

1. unzip

   * ChÆ°Æ¡ng trÃ¬nh (utility) thá»±c hiá»‡n viá»‡c Ä‘á»c file ZIP vÃ  giáº£i nÃ©n ná»™i dung.
2. 2138_aqua_nova.zip

   * TÃªn tá»‡p ZIP báº¡n muá»‘n giáº£i nÃ©n. ÄÆ°á»ng dáº«n cÃ³ thá»ƒ lÃ  tÆ°Æ¡ng Ä‘á»‘i hoáº·c tuyá»‡t Ä‘á»‘i.
     VÃ­ dá»¥: /home/tuan/downloads/2138_aqua_nova.zip

CÃ¡c tÃ¹y chá»n thÆ°á»ng dÃ¹ng (kÃ¨m vÃ­ dá»¥)

* Liá»‡t kÃª ná»™i dung trong file ZIP (khÃ´ng giáº£i nÃ©n):
  unzip -l 2138_aqua_nova.zip
  -> Hiá»ƒn thá»‹ danh sÃ¡ch tá»‡p bÃªn trong, kÃ­ch thÆ°á»›c, vÃ  tá»•ng sá»‘.

* Giáº£i nÃ©n vÃ o thÆ° má»¥c hiá»‡n táº¡i:
  unzip 2138_aqua_nova.zip
  -> Táº¡o cÃ¡c tá»‡p vÃ  thÆ° má»¥c theo cáº¥u trÃºc cÃ³ trong file ZIP vÃ o thÆ° má»¥c Ä‘ang Ä‘á»©ng.

* Giáº£i nÃ©n vÃ o thÆ° má»¥c chá»‰ Ä‘á»‹nh:
  unzip 2138_aqua_nova.zip -d /path/to/destination
  -> Náº¿u thÆ° má»¥c Ä‘Ã­ch chÆ°a tá»“n táº¡i, `unzip` sáº½ cá»‘ gáº¯ng táº¡o thÆ° má»¥c.

* Ghi Ä‘Ã¨ táº¥t cáº£ tá»‡p mÃ  khÃ´ng há»i (overwrite):
  unzip -o 2138_aqua_nova.zip
  -> Tá»± Ä‘á»™ng ghi Ä‘Ã¨ cÃ¡c tá»‡p cÃ¹ng tÃªn trong thÆ° má»¥c Ä‘Ã­ch.

* KhÃ´ng ghi Ä‘Ã¨ tá»‡p Ä‘Ã£ tá»“n táº¡i (never overwrite):
  unzip -n 2138_aqua_nova.zip
  -> Bá» qua cÃ¡c tá»‡p Ä‘Ã£ cÃ³, giá»¯ nguyÃªn tá»‡p hiá»‡n cÃ³.

* Giáº£i nÃ©n chá»‰ cÃ¡c tá»‡p cá»¥ thá»ƒ (theo máº«u hoáº·c tÃªn):
  unzip 2138_aqua_nova.zip file1.txt images/*.png
  -> Chá»‰ giáº£i nÃ©n file1.txt vÃ  cÃ¡c png trong thÆ° má»¥c images.

* Bá» qua cáº¥u trÃºc thÆ° má»¥c (Ä‘áº·t táº¥t cáº£ tá»‡p vÃ o thÆ° má»¥c hiá»‡n táº¡i):
  unzip -j 2138_aqua_nova.zip
  -> "Junk paths" â€” bá» háº¿t Ä‘Æ°á»ng dáº«n, chá»‰ láº¥y file.

* Giáº£i nÃ©n file ZIP cÃ³ máº­t kháº©u (náº¿u ZIP Ä‘Æ°á»£c mÃ£ hÃ³a):
  unzip -P MATKHAU 2138_aqua_nova.zip
  -> LÆ°u Ã½: phÆ°Æ¡ng thá»©c nÃ y cÃ³ thá»ƒ Ä‘á»ƒ lá»™ máº­t kháº©u trong lá»‹ch sá»­ shell; an toÃ n hÆ¡n lÃ  dÃ¹ng cÃ´ng cá»¥ tÆ°Æ¡ng tÃ¡c Ä‘á»ƒ nháº­p máº­t kháº©u.

* Cháº¡y á»Ÿ cháº¿ Ä‘á»™ yÃªn láº·ng / ráº¥t yÃªn láº·ng (giáº£m output):
  unzip -q 2138_aqua_nova.zip    # Ã­t output
  unzip -qq 2138_aqua_nova.zip   # ráº¥t Ã­t output

* Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t khi giáº£i nÃ©n (verbose):
  unzip -v 2138_aqua_nova.zip
  -> LÆ°u Ã½: trÃªn má»™t vÃ i há»‡ `-v` cÃ³ thá»ƒ in phiÃªn báº£n; Ä‘á»ƒ verbose quÃ¡ trÃ¬nh giáº£i nÃ©n thÃ´ng thÆ°á»ng chá»‰ cáº§n khÃ´ng dÃ¹ng -q.

Lá»—i thÆ°á»ng gáº·p vÃ  cÃ¡ch xá»­ lÃ½

* "cannot find or open 2138_aqua_nova.zip":

  * Kiá»ƒm tra chÃ­nh xÃ¡c tÃªn tá»‡p vÃ  Ä‘Æ°á»ng dáº«n. DÃ¹ng `ls -l` hoáº·c `pwd` Ä‘á»ƒ Ä‘áº£m báº£o báº¡n Ä‘ang á»Ÿ thÆ° má»¥c Ä‘Ãºng.
  * VÃ­ dá»¥: ls -l 2138_aqua_nova.zip

* "End-of-central-directory signature not found":

  * File ZIP bá»‹ há»ng hoáº·c táº£i vá» khÃ´ng hoÃ n chá»‰nh. Thá»­ táº£i láº¡i file hoáº·c kiá»ƒm tra checksum.

* "replacement file exists" (há»i ghi Ä‘Ã¨):

  * DÃ¹ng `-o` Ä‘á»ƒ tá»± Ä‘á»™ng ghi Ä‘Ã¨, hoáº·c `-n` Ä‘á»ƒ khÃ´ng ghi Ä‘Ã¨.

* Váº¥n Ä‘á» quyá»n (permission denied):

  * Náº¿u báº¡n khÃ´ng cÃ³ quyá»n ghi vÃ o thÆ° má»¥c Ä‘Ã­ch, chuyá»ƒn sang thÆ° má»¥c mÃ  báº¡n cÃ³ quyá»n, hoáº·c dÃ¹ng `sudo unzip ...` náº¿u phÃ¹ há»£p.
  * VÃ­ dá»¥: sudo unzip 2138_aqua_nova.zip -d /opt/somewhere

Quyá»n vÃ  chá»§ sá»Ÿ há»¯u tá»‡p

* Khi giáº£i nÃ©n, `unzip` giá»¯ láº¡i thÃ´ng tin quyá»n tá»‡p (permissions) nhÆ°ng ownership (chá»§ sá»Ÿ há»¯u) thÆ°á»ng sáº½ lÃ  user Ä‘ang cháº¡y lá»‡nh trá»« khi cháº¡y dÆ°á»›i quyá»n root.
* Náº¿u cáº§n giá»¯ nguyÃªn owner/gid tá»« file ZIP (hiáº¿m): cáº§n cháº¡y dÆ°á»›i quyá»n tÆ°Æ¡ng á»©ng hoáº·c Ä‘iá»u chá»‰nh sau khi giáº£i nÃ©n báº±ng `chown`.

CÃ i Ä‘áº·t `unzip` náº¿u chÆ°a cÃ³

* Debian/Ubuntu:
  sudo apt update && sudo apt install unzip
* CentOS/RHEL/Fedora:
  sudo dnf install unzip    # hoáº·c sudo yum install unzip
* macOS: thÆ°á»ng Ä‘Ã£ cÃ³ sáºµn `unzip` trong Terminal. Náº¿u cáº§n, cÃ³ thá»ƒ dÃ¹ng Homebrew: `brew install unzip` (thá»±c táº¿ macOS thÆ°á»ng Ä‘á»§ sáºµn).
* Windows: sá»­ dá»¥ng 7-Zip, WinRAR, hoáº·c Windows Explorer (kÃ©o tháº£ hoáº·c click pháº£i -> Extract All). TrÃªn WSL (Windows Subsystem for Linux) cÃ³ thá»ƒ dÃ¹ng `unzip` nhÆ° Linux.

VÃ­ dá»¥ thá»±c táº¿ (bÆ°á»›c bÆ°á»›c)

1. Kiá»ƒm tra táº­p tin:
   pwd
   ls -l 2138_aqua_nova.zip

2. Liá»‡t kÃª ná»™i dung ZIP (khÃ´ng giáº£i nÃ©n):
   unzip -l 2138_aqua_nova.zip

3. Giáº£i nÃ©n vÃ o thÆ° má»¥c con `2138_aqua_nova/`:
   mkdir -p 2138_aqua_nova
   unzip 2138_aqua_nova.zip -d 2138_aqua_nova

4. Náº¿u muá»‘n ghi Ä‘Ã¨ táº¥t cáº£ tá»‡p trong lÃºc giáº£i nÃ©n:
   unzip -o 2138_aqua_nova.zip -d 2138_aqua_nova

Ghi chÃº an toÃ n

* TrÃ¡nh giáº£i nÃ©n cÃ¡c file ZIP khÃ´ng rÃµ nguá»“n gá»‘c trÃªn há»‡ thá»‘ng sáº£n xuáº¥t; chÃºng cÃ³ thá»ƒ chá»©a mÃ£ Ä‘á»™c hoáº·c tá»‡p thá»±c thi nguy hiá»ƒm.
* Kiá»ƒm tra ná»™i dung báº±ng `unzip -l` trÆ°á»›c khi giáº£i nÃ©n.

TÃ³m táº¯t ngáº¯n gá»n (báº£n Ä‘á»ƒ copy nhanh)

* Liá»‡t kÃª:              unzip -l 2138_aqua_nova.zip
* Giáº£i nÃ©n cÆ¡ báº£n:       unzip 2138_aqua_nova.zip
* Giáº£i nÃ©n vÃ o thÆ° má»¥c:  unzip 2138_aqua_nova.zip -d /path/to/dest
* Ghi Ä‘Ã¨:               unzip -o 2138_aqua_nova.zip
* KhÃ´ng ghi Ä‘Ã¨:          unzip -n 2138_aqua_nova.zip
* Bá» Ä‘Æ°á»ng dáº«n:          unzip -j 2138_aqua_nova.zip
* Máº­t kháº©u:              unzip -P MATKHAU 2138_aqua_nova.zip

---

Háº¾T

(Ná»™i dung trÃªn lÃ  plain text, báº¡n cÃ³ thá»ƒ chá»n toÃ n bá»™ vÃ  sao chÃ©p vÃ o má»™t file .txt.)
		
		
		- cmd: rm -r 2138_aqua_nova
		
TiÃªu Ä‘á»: Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: rm -r 2138_aqua_nova

1) Lá»‡nh gá»‘c
- rm -r 2138_aqua_nova

2) PhÃ¢n tÃ­ch tá»«ng pháº§n
- rm
  - LÃ  lá»‡nh â€œremoveâ€ trong Linux/Unix dÃ¹ng Ä‘á»ƒ xÃ³a file hoáº·c thÆ° má»¥c.
- -r
  - TÃ¹y chá»n "recursive" â€” xÃ³a Ä‘á»‡ quy: náº¿u má»¥c Ä‘Ã­ch lÃ  má»™t thÆ° má»¥c thÃ¬ sáº½ xÃ³a táº¥t cáº£ cÃ¡c táº­p tin vÃ  thÆ° má»¥c con bÃªn trong nÃ³.
- 2138_aqua_nova
  - TÃªn má»¥c (file hoáº·c thÆ° má»¥c) sáº½ bá»‹ xÃ³a. á» Ä‘Ã¢y lÃ  má»™t má»¥c cÃ³ tÃªn "2138_aqua_nova" trong thÆ° má»¥c hiá»‡n hÃ nh hoáº·c theo Ä‘Æ°á»ng dáº«n cung cáº¥p.

3) HÃ nh vi máº·c Ä‘á»‹nh
- Náº¿u "2138_aqua_nova" lÃ  thÆ° má»¥c: lá»‡nh sáº½ xÃ³a toÃ n bá»™ thÆ° má»¥c Ä‘Ã³ vÃ  má»i ná»™i dung bÃªn trong (file, thÆ° má»¥c con, liÃªn káº¿t).
- Náº¿u lÃ  file: "-r" khÃ´ng gÃ¢y háº¡i â€” rm sáº½ xÃ³a file.
- Lá»‡nh khÃ´ng há»i xÃ¡c nháº­n (khÃ´ng cÃ³ prompt) khi cháº¡y bÃ¬nh thÆ°á»ng â€” náº¿u cháº¡y dÆ°á»›i quyá»n ngÆ°á»i dÃ¹ng cÃ³ quyá»n ghi/xÃ³a.

4) Rá»§i ro & Cáº£nh bÃ¡o quan trá»ng
- HÃ nh Ä‘á»™ng **khÃ´ng thá»ƒ hoÃ n tÃ¡c** báº±ng lá»‡nh thÃ´ng thÆ°á»ng: dá»¯ liá»‡u bá»‹ xÃ³a sáº½ khÃ´ng náº±m trong "thÃ¹ng rÃ¡c".
- Náº¿u lá»‡nh Ä‘Æ°á»£c cháº¡y vá»›i quyá»n root (sudo), lá»‡nh cÃ³ thá»ƒ xÃ³a báº¥t ká»³ thá»© gÃ¬ há»‡ thá»‘ng cho phÃ©p â€” nguy cÆ¡ máº¥t dá»¯ liá»‡u lá»›n.
- Náº¿u tÃªn chá»©a kÃ½ tá»± Ä‘áº¡i diá»‡n (wildcard) hoáº·c sai Ä‘Æ°á»ng dáº«n, báº¡n cÃ³ thá»ƒ vÃ´ tÃ¬nh xÃ³a nhiá»u má»¥c hÆ¡n dá»± Ä‘á»‹nh.
- KHÃ”NG cháº¡y lá»‡nh tÆ°Æ¡ng tá»± vá»›i cÃ¡c tham sá»‘ nguy hiá»ƒm khÃ¡c (vÃ­ dá»¥ `rm -rf /` hoáº·c `rm -rf *` trong thÆ° má»¥c nháº§m).

5) CÃ¡ch an toÃ n hÆ¡n (khuyáº¿n nghá»‹ trÆ°á»›c khi cháº¡y)
- Kiá»ƒm tra má»¥c tiÃªu trÆ°á»›c:
  - ls -ld 2138_aqua_nova
  - ls -la 2138_aqua_nova
- Xem ná»™i dung (náº¿u lÃ  thÆ° má»¥c):
  - tree 2138_aqua_nova   (náº¿u cÃ³ tree)
  - find 2138_aqua_nova -maxdepth 2 -ls
- Thá»±c hiá»‡n sao lÆ°u (náº¿u cáº§n) trÆ°á»›c khi xÃ³a:
  - cp -a 2138_aqua_nova /path/to/backup_location
  - tar -czf 2138_aqua_nova-backup.tar.gz 2138_aqua_nova

6) CÃ¡c biáº¿n thá»ƒ an toÃ n cá»§a lá»‡nh
- Há»i xÃ¡c nháº­n tá»«ng file:
  - rm -r -i 2138_aqua_nova
  - (hoáº·c) rm -ri 2138_aqua_nova
- Chá»‰ xÃ³a náº¿u thuá»™c loáº¡i file cá»¥ thá»ƒ:
  - find 2138_aqua_nova -type f -name '*.log' -exec rm -i {} \;
- Di chuyá»ƒn vÃ o "thÃ¹ng rÃ¡c" thay vÃ¬ xÃ³a ngay:
  - Náº¿u desktop environment: gio trash 2138_aqua_nova
  - Hoáº·c dÃ¹ng script Ä‘á»ƒ chuyá»ƒn vÃ o ~/.local/share/Trash/files/

7) VÃ­ dá»¥ thá»±c táº¿
- XÃ³a thÆ° má»¥c (khÃ´ng há»i):
  - rm -r 2138_aqua_nova
- XÃ³a vá»›i xÃ¡c nháº­n:
  - rm -ri 2138_aqua_nova
- Sao lÆ°u rá»“i xÃ³a:
  - tar -czf 2138_aqua_nova-$(date +%F).tar.gz 2138_aqua_nova
  - rm -r 2138_aqua_nova

8) Quyá»n vÃ  sudo
- Náº¿u báº¡n khÃ´ng cÃ³ quyá»n xÃ³a: lá»‡nh sáº½ bÃ¡o lá»—i "Permission denied".
- Sá»­ dá»¥ng sudo chá»‰ khi báº¡n cháº¯c cháº¯n:
  - sudo rm -r 2138_aqua_nova
- LÆ°u Ã½: sudo lÃ m máº¥t lá»›p báº£o vá»‡ â€” cáº©n tháº­n hÆ¡n ná»¯a trÆ°á»›c khi nháº¥n Enter.

9) KhÃ´i phá»¥c dá»¯ liá»‡u (khi lá»¡ xÃ³a)
- Kháº£ nÄƒng khÃ´i phá»¥c phá»¥ thuá»™c vÃ o filesystem, hoáº¡t Ä‘á»™ng Ä‘Ã£ thá»±c hiá»‡n sau khi xÃ³a, vÃ  cÃ³ backup hay khÃ´ng.
- Náº¿u cÃ³ backup: phá»¥c há»“i tá»« báº£n backup (tar, rsync, báº£n saoâ€¦).
- Náº¿u khÃ´ng cÃ³ backup:
  - Dá»«ng ghi dá»¯ liá»‡u vÃ o phÃ¢n vÃ¹ng chá»©a file Ä‘Ã£ xÃ³a ngay láº­p tá»©c (ngáº¯t/mount readonly) Ä‘á»ƒ tá»‘i Ä‘a cÆ¡ há»™i phá»¥c há»“i.
  - Sá»­ dá»¥ng cÃ´ng cá»¥ phá»¥c há»“i (tuá»³ filesystem):
    - ext4: photorec, extundelete (cáº§n phÃ¢n vÃ¹ng unmounted hoáº·c cháº¿ Ä‘á»™ read-only).
    - XFS, Btrfs, ZFS: cÃ³ cÃ¡c cÃ´ng cá»¥ vÃ  quy trÃ¬nh khÃ¡c â€” thÃ nh cÃ´ng khÃ´ng Ä‘áº£m báº£o.
  - LÆ°u Ã½: cÃ¡c cÃ´ng cá»¥ khÃ´i phá»¥c thÆ°á»ng phá»©c táº¡p vÃ  khÃ´ng Ä‘áº£m báº£o 100% phá»¥c há»“i.

10) Checklist trÆ°á»›c khi cháº¡y (tÃ³m táº¯t)
- [ ] XÃ¡c nháº­n báº¡n Ä‘ang á»Ÿ Ä‘Ãºng thÆ° má»¥c (pwd).
- [ ] Kiá»ƒm tra ls -ld 2138_aqua_nova.
- [ ] Sao lÆ°u náº¿u dá»¯ liá»‡u quan trá»ng.
- [ ] DÃ¹ng rm -ri náº¿u muá»‘n xÃ¡c nháº­n tá»«ng file.
- [ ] TrÃ¡nh dÃ¹ng sudo trá»« khi báº¯t buá»™c.

11) Ghi chÃº thÃªm
- Náº¿u tÃªn chá»©a khoáº£ng tráº¯ng hoáº·c kÃ½ tá»± Ä‘áº·c biá»‡t, hÃ£y quote hoáº·c escape:
  - rm -r "2138_aqua_nova"
  - rm -r '2138_aqua_nova'
- Náº¿u má»¥c lÃ  má»™t liÃªn káº¿t symbol (symlink), rm sáº½ xÃ³a liÃªn káº¿t, khÃ´ng xÃ³a target (trá»« khi dÃ¹ng cÃ¡c thao tÃ¡c Ä‘áº·c biá»‡t).

--- Káº¿t thÃºc ---
		
		
		- cmd: cp -r * /var/www/html/
		
Giáº£i thÃ­ch chi tiáº¿t: lá»‡nh `cp -r * /var/www/html/`

MÃ´ táº£ ngáº¯n gá»n:

* `cp` lÃ  lá»‡nh sao chÃ©p file vÃ  thÆ° má»¥c trÃªn há»‡ Ä‘iá»u hÃ nh UNIX/Linux.
* TÃ¹y chá»n `-r` (hoáº·c `-R`) yÃªu cáº§u sao chÃ©p Ä‘á»‡ quy â€” tá»©c lÃ  náº¿u Ä‘á»‘i tÆ°á»£ng lÃ  thÆ° má»¥c thÃ¬ sáº½ sao chÃ©p toÃ n bá»™ cÃ¢y thÆ° má»¥c con.
* `*` lÃ  pattern (glob) do shell má»Ÿ rá»™ng thÃ nh danh sÃ¡ch táº¥t cáº£ file vÃ  thÆ° má»¥c **khÃ´ng áº©n** trong thÆ° má»¥c hiá»‡n táº¡i (khÃ´ng bao gá»“m nhá»¯ng file báº¯t Ä‘áº§u báº±ng dáº¥u cháº¥m).
* `/var/www/html/` lÃ  Ä‘Æ°á»ng dáº«n Ä‘Ã­ch (thÆ° má»¥c Ä‘Ã­ch) â€” thÆ°á»ng lÃ  thÆ° má»¥c gá»‘c cá»§a web server nhÆ° Apache hoáº·c Nginx.

Ã nghÄ©a Ä‘áº§y Ä‘á»§ cá»§a `cp -r * /var/www/html/`:

* Sao chÃ©p táº¥t cáº£ file vÃ  thÆ° má»¥c (ngoáº¡i trá»« file áº©n) tá»« thÆ° má»¥c hiá»‡n táº¡i vÃ o thÆ° má»¥c `/var/www/html/`, giá»¯ cáº¥u trÃºc thÆ° má»¥c con do `-r` thá»±c hiá»‡n.
* VÃ­ dá»¥: náº¿u thÆ° má»¥c hiá»‡n táº¡i cÃ³ `index.html` vÃ  thÆ° má»¥c `css/`, sau khi cháº¡y lá»‡nh, báº¡n sáº½ cÃ³ `/var/www/html/index.html` vÃ  `/var/www/html/css/...`.

Chi tiáº¿t quan trá»ng vÃ  lÆ°u Ã½:

1. Má»Ÿ rá»™ng glob `*`:

   * `*` do shell má»Ÿ rá»™ng trÆ°á»›c khi lá»‡nh `cp` Ä‘Æ°á»£c gá»i. Náº¿u thÆ° má»¥c hiá»‡n táº¡i rá»—ng hoáº·c chá»‰ cÃ³ cÃ¡c file áº©n, shell cÃ³ thá»ƒ truyá»n chÃ­nh chuá»—i `*` tÃ¹y cáº¥u hÃ¬nh hoáº·c bÃ¡o lá»—i "no match".
   * `*` **khÃ´ng** bao gá»“m file/dir báº¯t Ä‘áº§u báº±ng `.` (vÃ­ dá»¥ `.env`, `.git/`). Náº¿u muá»‘n sao chÃ©p cáº£ file áº©n, cÃ³ thá»ƒ dÃ¹ng `shopt -s dotglob` (bash) rá»“i cháº¡y lá»‡nh, hoáº·c dÃ¹ng pattern khÃ¡c nhÆ° `cp -r .[!.]* ..?* * /var/www/html/` (phá»©c táº¡p). Má»™t cÃ¡ch Ä‘Æ¡n giáº£n lÃ  dÃ¹ng `cp -a . /var/www/html/` (xem pháº§n â€œThay tháº¿ khuyáº¿n nghá»‹â€).

2. TÃ¹y chá»n `-r` vs `-a`:

   * `-r` chá»‰ sao chÃ©p Ä‘á»‡ quy; nÃ³ sáº½ sao chÃ©p ná»™i dung nhÆ°ng **khÃ´ng** nháº¥t thiáº¿t giá»¯ nguyÃªn táº¥t cáº£ thuá»™c tÃ­nh file (chá»§ sá»Ÿ há»¯u, thá»i gian, quyá»n Ä‘áº·c biá»‡t, liÃªn káº¿t tÆ°á»£ng trÆ°ng, v.v.).
   * `-a` (archive) tÆ°Æ¡ng Ä‘Æ°Æ¡ng gáº§n nhÆ° `-dR --preserve=all` â€” sao chÃ©p Ä‘á»‡ quy **vÃ ** cá»‘ gáº¯ng báº£o toÃ n táº¥t cáº£ thuá»™c tÃ­nh (permissions, timestamps, owner, symlinks). ThÆ°á»ng an toÃ n hÆ¡n khi di chuyá»ƒn ná»™i dung á»©ng dá»¥ng web.

3. Ghi Ä‘Ã¨ vÃ  rá»§i ro máº¥t dá»¯ liá»‡u:

   * `cp` sáº½ ghi Ä‘Ã¨ cÃ¡c file cÃ¹ng tÃªn á»Ÿ Ä‘Ã­ch. Náº¿u muá»‘n cáº£nh bÃ¡o trÆ°á»›c khi ghi Ä‘Ã¨, dÃ¹ng `-i` (interactive) â€” `cp -ri * /var/www/html/`.
   * Náº¿u muá»‘n khÃ´ng ghi Ä‘Ã¨, dÃ¹ng `-n` (no-clobber): `cp -rn * /var/www/html/`.
   * Äá»ƒ xem hÃ nh Ä‘á»™ng thá»±c táº¿ mÃ  khÃ´ng lÃ m thay Ä‘á»•i, `cp` khÃ´ng cÃ³ tÃ¹y chá»n dry-run; thay vÃ o Ä‘Ã³ cÃ¢n nháº¯c dÃ¹ng `rsync --dry-run`.

4. Quyá»n (permissions) vÃ  SELinux:

   * Sao chÃ©p vÃ o `/var/www/html/` thÆ°á»ng yÃªu cáº§u quyá»n root â€” dÃ¹ng `sudo` (vÃ­ dá»¥ `sudo cp -r * /var/www/html/`).
   * Sau khi sao chÃ©p, báº¡n cÃ³ thá»ƒ cáº§n Ä‘iá»u chá»‰nh owner/group (vÃ­ dá»¥ `sudo chown -R www-data:www-data /var/www/html/` trÃªn Debian/Ubuntu) Ä‘á»ƒ web server cÃ³ thá»ƒ Ä‘á»c/ghi náº¿u cáº§n.
   * TrÃªn há»‡ thá»‘ng cÃ³ SELinux (vÃ­ dá»¥ CentOS/RHEL), cÃ²n pháº£i Ä‘áº£m báº£o context SELinux phÃ¹ há»£p (`restorecon -R /var/www/html/` hoáº·c dÃ¹ng `chcon`), náº¿u khÃ´ng web server cÃ³ thá»ƒ khÃ´ng phá»¥c vá»¥ file dÃ¹ permission xem ra Ä‘Ãºng.

5. Hiá»‡u á»©ng cá»§a dáº¥u gáº¡ch chÃ©o `/` á»Ÿ Ä‘Ã­ch:

   * Viá»‡c viáº¿t `/var/www/html/` hay `/var/www/html` thÆ°á»ng khÃ´ng khÃ¡c nhau vá»›i `cp` â€” cáº£ hai Ä‘á»u chá»‰ Ä‘á»‹nh thÆ° má»¥c Ä‘Ã­ch. Tuy nhiÃªn hÃ£y cháº¯c cháº¯n ráº±ng `/var/www/html` tá»“n táº¡i; náº¿u khÃ´ng, `cp` cÃ³ thá»ƒ táº¡o file cÃ³ tÃªn Ä‘Ã³ (tuá»³ hÃ nh vi vÃ  shell) hoáº·c bÃ¡o lá»—i khi cá»‘ sao chÃ©p nhiá»u má»¥c vÃ o má»™t file Ä‘Ã­ch.

6. Hidden files (file báº¯t Ä‘áº§u báº±ng `.`):

   * NhÆ° Ä‘Ã£ nÃ³i, `*` khÃ´ng chá»n file áº©n. Äá»ƒ sao chÃ©p cáº£ file áº©n vÃ  khÃ´ng áº©n, cÃ¡ch Ä‘Æ¡n giáº£n lÃ  dÃ¹ng: `sudo cp -a . /var/www/html/` (sao chÃ©p toÃ n bá»™ thÆ° má»¥c hiá»‡n táº¡i, bao gá»“m dáº¥u cháº¥m), hoáº·c báº­t `dotglob` trong bash trÆ°á»›c khi dÃ¹ng `*`.

7. Thay tháº¿ khuyáº¿n nghá»‹ (an toÃ n hÆ¡n cho deploy web):

   * DÃ¹ng `cp -a` Ä‘á»ƒ báº£o toÃ n thuá»™c tÃ­nh: `sudo cp -a . /var/www/html/`
   * Tá»‘t hÆ¡n ná»¯a lÃ  dÃ¹ng `rsync` Ä‘á»ƒ cÃ³ nhiá»u tÃ¹y chá»n (dry-run, tá»‘i Æ°u hÃ³a, giá»¯ thuá»™c tÃ­nh):
     `sudo rsync -av --delete --progress ./ /var/www/html/`

     * `-a` archive, `-v` verbose, `--delete` xÃ³a file Ä‘Ã­ch khÃ´ng cÃ³ á»Ÿ nguá»“n (tuá»³ Ã½), `./` giÃºp sao chÃ©p ná»™i dung thÆ° má»¥c hiá»‡n táº¡i (khÃ´ng táº¡o thÆ° má»¥c `.` bÃªn trong Ä‘Ã­ch).

VÃ­ dá»¥ thá»±c táº¿ vÃ  káº¿t quáº£ mong Ä‘á»£i:

1. ThÆ° má»¥c nguá»“n cÃ³: `index.html`, `app/`, `.env` (áº©n)
   Lá»‡nh: `cp -r * /var/www/html/`
   Káº¿t quáº£: `/var/www/html/index.html` vÃ  `/var/www/html/app/...` Ä‘Æ°á»£c sao chÃ©p. File `.env` **sáº½ khÃ´ng** Ä‘Æ°á»£c sao chÃ©p.

2. Thay báº±ng `sudo cp -a . /var/www/html/` sáº½ sao chÃ©p `index.html`, `app/`, vÃ  cáº£ `.env`, giá»¯ nguyÃªn timestamp vÃ  permission (náº¿u cÃ³ quyá»n).

Exit code (mÃ£ thoÃ¡t):

* 0: sao chÃ©p thÃ nh cÃ´ng (khÃ´ng lá»—i quan trá»ng).
* â‰ 0: cÃ³ lá»—i (vÃ­ dá»¥ thiáº¿u quyá»n, Ä‘Ã­ch khÃ´ng tá»“n táº¡i, lá»—i I/O). Báº¡n cÃ³ thá»ƒ kiá»ƒm tra giÃ¡ trá»‹ tráº£ vá» báº±ng `echo $?` ngay sau lá»‡nh.

CÃ¡c tuá»³ chá»n hay dÃ¹ng vá»›i `cp`:

* `-r` / `-R`: sao chÃ©p Ä‘á»‡ quy (thÆ° má»¥c vÃ  ná»™i dung).
* `-a`: archive (giá»¯ attributes, tÆ°Æ¡ng Ä‘Æ°Æ¡ng -dR --preserve=all).
* `-i`: interactive, há»i trÆ°á»›c khi ghi Ä‘Ã¨.
* `-n`: no-clobber, khÃ´ng ghi Ä‘Ã¨ file Ä‘Ã£ tá»“n táº¡i.
* `-v`: verbose, hiá»ƒn thá»‹ file Ä‘ang Ä‘Æ°á»£c sao chÃ©p.

VÃ­ dá»¥ lá»‡nh an toÃ n (thÃ´ng thÆ°á»ng dÃ¹ng khi deploy):
sudo cp -a . /var/www/html/

# hoáº·c dÃ¹ng rsync:

sudo rsync -av --progress ./ /var/www/html/

Kiá»ƒm tra sau khi sao chÃ©p:

* Kiá»ƒm tra quyá»n: `ls -l /var/www/html/`
* Kiá»ƒm tra owner/group: `sudo chown -R www-data:www-data /var/www/html/` (tÃ¹y distro)
* Náº¿u cÃ³ SELinux: `sudo restorecon -R /var/www/html/`
* Kiá»ƒm tra web server logs náº¿u trang khÃ´ng load Ä‘Æ°á»£c: `/var/log/apache2/error.log` hoáº·c `/var/log/httpd/error_log` (tuá»³ phÃ¢n phá»‘i).

TÃ³m táº¯t nhanh:

* `cp -r * /var/www/html/` sao chÃ©p táº¥t cáº£ file vÃ  thÆ° má»¥c khÃ´ng áº©n tá»« thÆ° má»¥c hiá»‡n táº¡i vÃ o `/var/www/html/` Ä‘á»‡ quy.
* KhÃ´ng sao chÃ©p file áº©n; khÃ´ng báº£o toÃ n má»i thuá»™c tÃ­nh (nÃªn dÃ¹ng `-a` náº¿u cáº§n).
* ThÆ°á»ng cáº§n `sudo` Ä‘á»ƒ ghi vÃ o `/var/www/html/`.
* CÃ¢n nháº¯c `rsync` cho deploy vÃ¬ cÃ³ nhiá»u tÃ­nh nÄƒng an toÃ n hÆ¡n.

---

Háº¿t.
		
		
		- cmd: systemctl status firewalld
		
Lá»†NH: systemctl status firewalld

MÃ” Táº¢ CHUNG:
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ kiá»ƒm tra tráº¡ng thÃ¡i dá»‹ch vá»¥ firewalld trÃªn há»‡ thá»‘ng Linux sá»­ dá»¥ng systemd
(vÃ­ dá»¥: RHEL, CentOS, Fedora, AlmaLinux, Rocky Linux). Firewalld lÃ  daemon quáº£n lÃ½ firewall
dá»±a trÃªn zones vÃ  services, cung cáº¥p giao diá»‡n Ä‘á»™ng Ä‘á»ƒ má»Ÿ/Ä‘Ã³ng port vÃ  quáº£n lÃ½ quy táº¯c iptables/nftables.

Cáº¤U TRÃšC:
systemctl status <tÃªn_dá»‹ch_vá»¥>
VÃ­ dá»¥ á»Ÿ Ä‘Ã¢y: systemctl status firewalld

Ã NGHÄ¨A Tá»ªNG THÃ€NH PHáº¦N:
1. systemctl
   - CÃ´ng cá»¥ quáº£n lÃ½ systemd, dÃ¹ng Ä‘á»ƒ start/stop/restart vÃ  kiá»ƒm tra tráº¡ng thÃ¡i dá»‹ch vá»¥,
     cÅ©ng nhÆ° kÃ­ch hoáº¡t dá»‹ch vá»¥ khi khá»Ÿi Ä‘á»™ng (enable/disable).

2. status
   - Tham sá»‘ yÃªu cáº§u systemctl hiá»ƒn thá»‹ tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a dá»‹ch vá»¥, cÃ¹ng vá»›i
     cÃ¡c thÃ´ng tin log gáº§n nháº¥t.

3. firewalld
   - TÃªn dá»‹ch vá»¥ cáº§n kiá»ƒm tra.

Ná»˜I DUNG Äáº¦U RA THÆ¯á»œNG Gáº¶P VÃ€ CÃCH Äá»ŒC:
Khi cháº¡y lá»‡nh, báº¡n sáº½ tháº¥y má»™t khá»‘i thÃ´ng tin chá»©a cÃ¡c pháº§n chÃ­nh sau:

â— Unit / Service info
   - VÃ­ dá»¥: â— firewalld.service - firewalld - dynamic firewall daemon
   - Cho biáº¿t tÃªn dá»‹ch vá»¥, mÃ´ táº£ ngáº¯n.

â— Loaded
   - Tráº¡ng thÃ¡i file Ä‘Æ¡n vá»‹ (unit file): loaded, enabled/disabled, vÃ  Ä‘Æ°á»ng dáº«n file unit.
   - "enabled" nghÄ©a lÃ  dá»‹ch vá»¥ sáº½ tá»± khá»Ÿi Ä‘á»™ng khi boot; "disabled" nghÄ©a khÃ´ng tá»± khá»Ÿi Ä‘á»™ng.

â— Active
   - Tráº¡ng thÃ¡i runtime: active (running) / inactive / failed / activating / deactivating.
   - "active (running)" = Ä‘ang cháº¡y bÃ¬nh thÆ°á»ng.
   - KÃ¨m theo thá»i gian cháº¡y (since ...) vÃ  PID.

â— Main PID
   - Process ID chÃ­nh cá»§a daemon (náº¿u cÃ³). DÃ¹ng Ä‘á»ƒ tra cá»©u trong ps hoáº·c kill náº¿u cáº§n.

â— Tasks / Memory / CGroup (tuá»³ há»‡ thá»‘ng)
   - ThÃ´ng tin tÃ i nguyÃªn dá»‹ch vá»¥ Ä‘ang sá»­ dá»¥ng.

â— Recent logs (journal)
   - Má»™t vÃ i dÃ²ng log gáº§n Ä‘Ã¢y tá»« journalctl, hiá»ƒn thá»‹ hoáº¡t Ä‘á»™ng, lá»—i, cáº£nh bÃ¡o.

VD MáºªU Káº¾T QUáº¢:
â— firewalld.service - firewalld - dynamic firewall daemon
   Loaded: loaded (/usr/lib/systemd/system/firewalld.service; enabled; vendor preset: enabled)
   Active: active (running) since Mon 2025-12-01 08:12:34 +07; 2h 5min ago
     Docs: man:firewalld(1)
 Main PID: 1234 (firewalld)
    Tasks: 2 (limit: 2345)
   Memory: 10.5M
   CGroup: /system.slice/firewalld.service
           â””â”€1234 /usr/bin/python3 -s /usr/sbin/firewalld --nofork --nopid

Dec 01 08:12:34 hostname systemd[1]: Started firewalld - dynamic firewall daemon.
Dec 01 08:12:35 hostname firewalld[1234]: WARNING: AllowZoneDrifting is enabled. This is considered an insecure option.

CÃCH Xá»¬ LÃ THEO TRáº NG THÃI:
1. Náº¿u "active (running)" â†’ BÃ¬nh thÆ°á»ng, firewall Ä‘ang hoáº¡t Ä‘á»™ng.
   - Kiá»ƒm tra cáº¥u hÃ¬nh: firewall-cmd --list-all (máº·c Ä‘á»‹nh zone)
   - Kiá»ƒm tra zones: firewall-cmd --get-active-zones

2. Náº¿u "inactive" hoáº·c "failed" â†’ Cáº§n khá»Ÿi Ä‘á»™ng láº¡i vÃ  kiá»ƒm tra log:
   - systemctl start firewalld
   - systemctl status firewalld   (kiá»ƒm tra láº¡i)
   - journalctl -u firewalld --since "10 minutes ago"   (xem log chi tiáº¿t)
   - Kiá»ƒm tra lá»—i config: firewall-cmd --check-config (náº¿u há»‡ thá»‘ng há»— trá»£)

3. Náº¿u "disabled" (Loaded: disabled) nhÆ°ng báº¡n muá»‘n tá»± khá»Ÿi Ä‘á»™ng khi boot:
   - systemctl enable firewalld

4. Náº¿u cáº§n táº¯t/khá»Ÿi Ä‘á»™ng láº¡i:
   - systemctl stop firewalld
   - systemctl restart firewalld
   - systemctl reload firewalld   (náº¡p láº¡i config mÃ  khÃ´ng dá»«ng dá»‹ch vá»¥, náº¿u há»— trá»£)

CÃC Lá»†NH Há»®U ÃCH LIÃŠN QUAN (firewalld):
- Kiá»ƒm tra cáº¥u hÃ¬nh hiá»‡n táº¡i (máº·c Ä‘á»‹nh zone):
    firewall-cmd --list-all

- Kiá»ƒm tra táº¥t cáº£ zones:
    firewall-cmd --list-all-zones

- Má»Ÿ port táº¡m thá»i (máº¥t sau reboot):
    firewall-cmd --add-port=8080/tcp

- Má»Ÿ port vÄ©nh viá»…n:
    firewall-cmd --permanent --add-port=8080/tcp
    firewall-cmd --reload

- ThÃªm service (vÃ­ dá»¥ http):
    firewall-cmd --add-service=http --permanent
    firewall-cmd --reload

- Hiá»ƒn thá»‹ cÃ¡c service Ä‘Æ°á»£c kÃ­ch hoáº¡t:
    firewall-cmd --list-services

LÆ¯U Ã & GHI CHÃš:
- TrÃªn má»™t sá»‘ há»‡ thá»‘ng firewalld chá»‰ lÃ  giao diá»‡n cho nftables/iptables. Khi Ä‘á»•i giá»¯a cÃ¡c backend,
  cáº§n Ä‘áº£m báº£o cÃ¡c quy táº¯c cÅ© khÃ´ng xung Ä‘á»™t.
- Náº¿u dÃ¹ng cloud provider (AWS/GCP/Azure), ngoÃ i firewalld cÃ²n cÃ³ security group / network ACL cáº§n kiá»ƒm tra.
- Náº¿u firewall gÃ¢y máº¥t káº¿t ná»‘i SSH, báº¡n cÃ³ thá»ƒ bá»‹ khÃ³a truy cáº­p â€” hÃ£y Ä‘áº£m báº£o má»Ÿ port 22 trÆ°á»›c khi thay Ä‘á»•i chÃ­nh sÃ¡ch.
    VÃ­ dá»¥: firewall-cmd --permanent --add-service=ssh && firewall-cmd --reload

TÃ“M Táº®T NGáº®N Gá»ŒN:
- `systemctl status firewalld` cho báº¡n biáº¿t dá»‹ch vá»¥ firewalld cÃ³ Ä‘ang cháº¡y hay khÃ´ng,
  file Ä‘Æ¡n vá»‹ Ä‘Ã£ Ä‘Æ°á»£c load nhÆ° tháº¿ nÃ o, PID, má»™t vÃ i tÃ i nguyÃªn, vÃ  log gáº§n nháº¥t.
- DÃ¹ng káº¿t há»£p `firewall-cmd` Ä‘á»ƒ xem vÃ  thay Ä‘á»•i quy táº¯c; dÃ¹ng `journalctl -u firewalld`
  Ä‘á»ƒ xem log chi tiáº¿t khi gáº·p lá»—i.

-------------------------
END OF FILE
		
		
		- cmd: systemctl stop firewalld
		
Giáº£i thÃ­ch chi tiáº¿t nháº¥t cho: systemctl stop firewalld

Má»¥c Ä‘Ã­ch

* Lá»‡nh `systemctl stop firewalld` dÃ¹ng Ä‘á»ƒ dá»«ng (stop) dá»‹ch vá»¥ Firewalld trÃªn há»‡ thá»‘ng Linux sá»­ dá»¥ng systemd (vÃ­ dá»¥: RHEL, CentOS, Fedora, Debian má»›i, Ubuntu hiá»‡n Ä‘áº¡i).
* Khi dá»«ng, daemon quáº£n lÃ½ firewall (firewalld) sáº½ ngá»«ng cháº¡y ngay láº­p tá»©c vÃ  cÃ¡c quy táº¯c/zon hiá»‡n Ä‘ang Ã¡p dá»¥ng sáº½ khÃ´ng cÃ²n Ä‘Æ°á»£c cáº­p nháº­t bá»Ÿi firewalld. LÆ°u Ã½: dá»«ng dá»‹ch vá»¥ khÃ´ng nháº¥t thiáº¿t má»Ÿ táº¥t cáº£ cá»•ng â€” tráº¡ng thÃ¡i káº¿t ná»‘i hiá»‡n táº¡i váº«n tá»“n táº¡i; tuy nhiÃªn náº¿u báº¡n dá»«ng vÃ  khÃ´ng cÃ³ firewall thay tháº¿, há»‡ thá»‘ng cÃ³ thá»ƒ Ä‘á»ƒ lá»™ cÃ¡c dá»‹ch vá»¥.

Quyá»n vÃ  mÃ´i trÆ°á»ng thá»±c thi

* Cáº§n quyá»n root (hoáº·c sudo) Ä‘á»ƒ thá»±c hiá»‡n lá»‡nh thá»±c thi dá»‹ch vá»¥:
  sudo systemctl stop firewalld
* TrÃªn há»‡ thá»‘ng khÃ´ng dÃ¹ng systemd (vÃ­ dá»¥ system V init cÅ©), `systemctl` khÃ´ng tá»“n táº¡i vÃ  lá»‡nh nÃ y khÃ´ng Ã¡p dá»¥ng.

CÃº phÃ¡p cÆ¡ báº£n

* systemctl stop <tÃªn_dá»‹ch_vá»¥>
  VÃ­ dá»¥: systemctl stop firewalld
  Vá»›i sudo (thÆ°á»ng dÃ¹ng): sudo systemctl stop firewalld

Giáº£i thÃ­ch tá»«ng pháº§n

1. systemctl

   * CÃ´ng cá»¥ quáº£n lÃ½ systemd dÃ¹ng Ä‘á»ƒ start/stop/restart/enable/disable/status cÃ¡c dá»‹ch vá»¥ (units).
2. stop

   * HÃ nh Ä‘á»™ng: dá»«ng dá»‹ch vá»¥ ngay láº­p tá»©c (khÃ´ng xÃ³a cáº¥u hÃ¬nh, chá»‰ táº¯t tiáº¿n trÃ¬nh Ä‘ang cháº¡y).
3. firewalld

   * TÃªn dá»‹ch vá»¥ (unit) cá»§a firewall daemon hiá»‡n Ä‘áº¡i quáº£n lÃ½ quy táº¯c máº¡ng theo vÃ¹ng (zones).

Lá»‡nh liÃªn quan thÆ°á»ng dÃ¹ng

* Kiá»ƒm tra tráº¡ng thÃ¡i dá»‹ch vá»¥:
  systemctl status firewalld
  sudo systemctl status firewalld
  -> Hiá»ƒn thá»‹ tráº¡ng thÃ¡i hiá»‡n táº¡i, nháº­t kÃ½ gáº§n nháº¥t vÃ  PID náº¿u Ä‘ang cháº¡y.

* Dá»«ng vÃ  táº¯t khá»Ÿi Ä‘á»™ng tá»± Ä‘á»™ng (dá»«ng hiá»‡n táº¡i + disable Ä‘á»ƒ khÃ´ng start sau reboot):
  sudo systemctl stop firewalld
  sudo systemctl disable firewalld
  Hoáº·c káº¿t há»£p:
  sudo systemctl disable --now firewalld
  -> `--now` káº¿t há»£p stop + disable.

* Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥:
  sudo systemctl restart firewalld

* Báº­t láº¡i (start) dá»‹ch vá»¥:
  sudo systemctl start firewalld
  Náº¿u muá»‘n khá»Ÿi Ä‘á»™ng cÃ¹ng há»‡ thá»‘ng:
  sudo systemctl enable --now firewalld

* Xem logs chi tiáº¿t (journal):
  sudo journalctl -u firewalld
  sudo journalctl -u firewalld -f   # theo dÃµi real-time

Há»‡ quáº£ vÃ  rá»§i ro khi dá»«ng firewalld

* Máº¥t lá»›p báº£o vá»‡: náº¿u khÃ´ng cÃ³ firewall khÃ¡c (iptables trá»±c tiáº¿p, nftables, hoáº·c thiáº¿t bá»‹ máº¡ng ngoÃ i), dá»«ng firewalld cÃ³ thá»ƒ Ä‘á»ƒ há»‡ thá»‘ng má»Ÿ cÃ¡c cá»•ng vÃ  dá»… bá»‹ táº¥n cÃ´ng.
* Dá»‹ch vá»¥ vÃ  káº¿t ná»‘i hiá»‡n thá»i: cÃ¡c káº¿t ná»‘i TCP hiá»‡n cÃ³ thÆ°á»ng váº«n tá»“n táº¡i, nhÆ°ng cÃ¡c káº¿t ná»‘i má»›i cÃ³ thá»ƒ bá»‹ phÃ©p/khÃ´ng tÃ¹y vÃ o quy táº¯c kernel hiá»‡n táº¡i.
* áº¢nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c vÃ¹ng vÃ  quy táº¯c Ä‘á»™ng: firewalld quáº£n lÃ½ quy táº¯c theo vÃ¹ng; khi dá»«ng, báº¥t ká»³ thay Ä‘á»•i Ä‘á»™ng nÃ o cáº§n firewalld sáº½ khÃ´ng Ä‘Æ°á»£c Ã¡p dá»¥ng.
* CÃ¡c á»©ng dá»¥ng phá»¥ thuá»™c: má»™t sá»‘ pháº§n má»m cÃ³ thá»ƒ phá»¥ thuá»™c vÃ o giao diá»‡n API cá»§a firewalld Ä‘á»ƒ cáº¥u hÃ¬nh rules; dá»«ng firewalld cÃ³ thá»ƒ gÃ¢y lá»—i hoáº·c thay Ä‘á»•i hÃ nh vi.

Khi nÃ o nÃªn dá»«ng firewalld

* Thá»­ nghiá»‡m cá»¥c bá»™ (local testing) hoáº·c mÃ´i trÆ°á»ng phÃ¡t triá»ƒn, biáº¿t rÃµ háº­u quáº£.
* Khi cÃ i Ä‘áº·t giáº£i phÃ¡p firewall khÃ¡c (vÃ­ dá»¥: nftables, iptables-services) vÃ  cáº§n táº¯t firewalld Ä‘á»ƒ trÃ¡nh xung Ä‘á»™t.
* Khi kháº¯c phá»¥c sá»± cá»‘ (debug) vÃ  báº¡n hiá»ƒu rÃµ cÃ¡c rá»§i ro.

Máº¹o an toÃ n

* LuÃ´n kiá»ƒm tra tráº¡ng thÃ¡i trÆ°á»›c vÃ  sau khi dá»«ng:
  sudo systemctl status firewalld
  sudo iptables -L -n -v    # hoáº·c sudo nft list ruleset
* Sao lÆ°u cáº¥u hÃ¬nh trÆ°á»›c khi thao tÃ¡c: copy /etc/firewalld/ náº¿u cáº§n khÃ´i phá»¥c.
* Náº¿u quáº£n lÃ½ mÃ¡y tá»« xa (SSH), Ä‘áº£m báº£o port SSH váº«n Ä‘Æ°á»£c phÃ©p trÆ°á»›c khi dá»«ng firewall; náº¿u khÃ´ng, báº¡n cÃ³ thá»ƒ máº¥t truy cáº­p tá»« xa.
  VÃ­ dá»¥: kiá»ƒm tra zone hiá»‡n táº¡i vÃ  luáº­t SSH:
  sudo firewall-cmd --get-active-zones
  sudo firewall-cmd --list-all --zone=public

Xá»­ lÃ½ váº¥n Ä‘á» phá»• biáº¿n

* "Failed to stop firewalld.service: Unit firewalld.service not found." :

  * Firewalld khÃ´ng Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn mÃ¡y nÃ y hoáº·c tÃªn unit khÃ¡c. Kiá»ƒm tra `ls /usr/lib/systemd/system | grep firewalld` hoáº·c `which firewall-cmd`.

* "Access denied" hoáº·c cáº§n quyá»n:

  * Cháº¡y vá»›i sudo hoáº·c Ä‘Äƒng nháº­p root.

* Máº¥t káº¿t ná»‘i SSH sau khi dá»«ng:

  * CÃ³ thá»ƒ port SSH bá»‹ cháº·n bá»Ÿi quy táº¯c kernel; náº¿u máº¥t, cáº§n truy cáº­p váº­t lÃ½ hoáº·c console provider Ä‘á»ƒ khÃ´i phá»¥c.

VÃ­ dá»¥ thao tÃ¡c an toÃ n (bÆ°á»›c-by-step)

1. Kiá»ƒm tra tráº¡ng thÃ¡i hiá»‡n táº¡i:
   sudo systemctl status firewalld

2. Kiá»ƒm tra xem SSH Ä‘Æ°á»£c cho phÃ©p trong zone hiá»‡n táº¡i:
   sudo firewall-cmd --list-services
   sudo firewall-cmd --get-active-zones
   sudo firewall-cmd --zone=public --list-services

3. Náº¿u an toÃ n, dá»«ng firewalld:
   sudo systemctl stop firewalld

4. (TÃ¹y chá»n) Táº¯t auto-start:
   sudo systemctl disable firewalld

   # hoáº·c káº¿t há»£p

   sudo systemctl disable --now firewalld

5. XÃ¡c nháº­n Ä‘Ã£ dá»«ng:
   sudo systemctl status firewalld
   sudo firewall-cmd --state   # náº¿u firewalld Ä‘Ã£ dá»«ng, lá»‡nh nÃ y cÃ³ thá»ƒ bÃ¡o lá»—i

TÃ³m táº¯t ngáº¯n (báº£n Ä‘á»ƒ copy nhanh)

* Dá»«ng ngay:            sudo systemctl stop firewalld
* Dá»«ng + táº¯t khá»Ÿi Ä‘á»™ng: sudo systemctl disable --now firewalld
* Báº­t láº¡i:              sudo systemctl start firewalld
* Kiá»ƒm tra tráº¡ng thÃ¡i:  sudo systemctl status firewalld
* Xem log:              sudo journalctl -u firewalld -f

Ghi chÃº

* Ná»™i dung trÃªn lÃ  plain text, trÃ¬nh bÃ y rÃµ rÃ ng Ä‘á»ƒ báº¡n dá»… copy vÃ o file .txt.
* HÃ£y cáº©n trá»ng khi thao tÃ¡c trÃªn há»‡ thá»‘ng sáº£n xuáº¥t hoáº·c mÃ¡y chá»§ tá»« xa.

---

Háº¾T
		
		
		- cmd: systemctl disable firewalld
		
			TÃŠN
				systemctl disable firewalld
				â€” vÃ´ hiá»‡u hÃ³a dá»‹ch vá»¥ `firewalld` trÃªn há»‡ thá»‘ng Linux sá»­ dá»¥ng systemd

			TÃ“M Táº®T (SYNOPSIS)
				systemctl [options] disable <service_name>
				systemctl disable firewalld

			MÃ” Táº¢
				Lá»‡nh `systemctl` lÃ  cÃ´ng cá»¥ quáº£n lÃ½ systemd trÃªn cÃ¡c há»‡ thá»‘ng Linux hiá»‡n Ä‘áº¡i (CentOS 7/8, RHEL 7/8, Fedora). NÃ³ Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ cÃ¡c dá»‹ch vá»¥ (service) nhÆ° start, stop, enable, disable, status, v.v.

				Trong vÃ­ dá»¥ nÃ y:

				- `firewalld` : dá»‹ch vá»¥ firewall Ä‘á»™ng, quáº£n lÃ½ firewall thÃ´ng qua zones vÃ  rules.
				- `disable`    : vÃ´ hiá»‡u hÃ³a dá»‹ch vá»¥ khi khá»Ÿi Ä‘á»™ng há»‡ thá»‘ng (system startup).  

				Khi cháº¡y:
					systemctl disable firewalld
				Há»‡ thá»‘ng sáº½ xÃ³a liÃªn káº¿t (symlink) tá»« thÆ° má»¥c `multi-user.target.wants/` Ä‘áº¿n file service `firewalld.service`. Káº¿t quáº£ lÃ  firewalld **khÃ´ng tá»± Ä‘á»™ng khá»Ÿi Ä‘á»™ng** khi mÃ¡y khá»Ÿi Ä‘á»™ng láº¡i.  

			PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
				1) `systemctl` :
					- CÃ´ng cá»¥ quáº£n lÃ½ dá»‹ch vá»¥, systemd unit.
				2) `disable` :
					- XÃ³a cÃ¡c liÃªn káº¿t auto-start, dá»‹ch vá»¥ sáº½ khÃ´ng cháº¡y khi boot.
					- KhÃ´ng táº¯t dá»‹ch vá»¥ Ä‘ang cháº¡y ngay láº­p tá»©c. Náº¿u muá»‘n táº¯t ngay, dÃ¹ng `stop`.
				3) `firewalld` :
					- TÃªn dá»‹ch vá»¥ cáº§n thao tÃ¡c.

			HOáº T Äá»˜NG Cá»¦A Lá»†NH
				1) XÃ³a symlink trong `/etc/systemd/system/multi-user.target.wants/` hoáº·c tÆ°Æ¡ng Ä‘Æ°Æ¡ng.
				2) Dá»‹ch vá»¥ hiá»‡n táº¡i váº«n cháº¡y (khÃ´ng bá»‹ dá»«ng).
				3) Khi reboot, firewalld sáº½ khÃ´ng tá»± Ä‘á»™ng start.

			Lá»†NH LIÃŠN QUAN
				- systemctl enable firewalld   : báº­t auto-start khi khá»Ÿi Ä‘á»™ng
				- systemctl start firewalld    : khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥ ngay láº­p tá»©c
				- systemctl stop firewalld     : dá»«ng dá»‹ch vá»¥ ngay láº­p tá»©c
				- systemctl status firewalld   : kiá»ƒm tra tráº¡ng thÃ¡i dá»‹ch vá»¥
				- firewall-cmd --state         : kiá»ƒm tra tráº¡ng thÃ¡i firewall hiá»‡n táº¡i
				- systemctl mask firewalld     : ngÄƒn cháº·n dá»‹ch vá»¥ start cáº£ báº±ng tay hoáº·c tá»± Ä‘á»™ng

			Máº¸O THá»°C TIá»„N
				1) DÃ¹ng cÃ¹ng `stop` náº¿u muá»‘n táº¯t dá»‹ch vá»¥ ngay:
					sudo systemctl stop firewalld
					sudo systemctl disable firewalld
				2) Kiá»ƒm tra tráº¡ng thÃ¡i sau khi disable:
					systemctl is-enabled firewalld
					â†’ sáº½ tráº£ vá» "disabled"
				3) Thay tháº¿ firewalld báº±ng iptables trá»±c tiáº¿p náº¿u cáº§n:
					sudo systemctl mask firewalld
					sudo systemctl enable iptables

			LÆ¯U Ã
				- `disable` chá»‰ áº£nh hÆ°á»Ÿng Ä‘áº¿n auto-start, khÃ´ng dá»«ng dá»‹ch vá»¥ hiá»‡n táº¡i.
				- Táº¯t firewall cÃ³ thá»ƒ lÃ m mÃ¡y tÃ­nh lá»™ ra internet; chá»‰ nÃªn thá»±c hiá»‡n trÃªn mÃ´i trÆ°á»ng test hoáº·c khi cÃ³ firewall khÃ¡c thay tháº¿.
				- DÃ¹ng sudo hoáº·c root Ä‘á»ƒ thao tÃ¡c systemctl vá»›i firewalld.

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- `systemctl disable firewalld` vÃ´ hiá»‡u hÃ³a auto-start cá»§a dá»‹ch vá»¥ firewalld.
				- Dá»‹ch vá»¥ váº«n cháº¡y náº¿u chÆ°a dá»«ng báº±ng `systemctl stop`.
				- Kiá»ƒm tra tráº¡ng thÃ¡i vá»›i `systemctl is-enabled firewalld`.
				- DÃ¹ng `enable` Ä‘á»ƒ báº­t láº¡i auto-start náº¿u cáº§n.

			VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
				# VÃ´ hiá»‡u hÃ³a auto-start firewalld
				sudo systemctl disable firewalld

				# Dá»«ng dá»‹ch vá»¥ ngay láº­p tá»©c
				sudo systemctl stop firewalld

				# Kiá»ƒm tra tráº¡ng thÃ¡i dá»‹ch vá»¥
				systemctl status firewalld

				# Kiá»ƒm tra tráº¡ng thÃ¡i auto-start
				systemctl is-enabled firewalld

				# Báº­t láº¡i auto-start náº¿u cáº§n
				sudo systemctl enable firewalld

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: vagrant init ubuntu/focal64
		
Lá»‡nh: vagrant init ubuntu/focal64

1. Má»¥c Ä‘Ã­ch:
   Lá»‡nh nÃ y Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ khá»Ÿi táº¡o má»™t dá»± Ã¡n Vagrant má»›i báº±ng cÃ¡ch táº¡o má»™t file cáº¥u hÃ¬nh Vagrantfile trong thÆ° má»¥c hiá»‡n táº¡i. File Vagrantfile nÃ y sáº½ chá»©a cÃ¡c thiáº¿t láº­p cÆ¡ báº£n Ä‘á»ƒ quáº£n lÃ½ má»™t mÃ¡y áº£o (VM) dá»±a trÃªn box mÃ  báº¡n chá»‰ Ä‘á»‹nh.

2. Cáº¥u trÃºc lá»‡nh:
   - vagrant: lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ cÃ¡c mÃ¡y áº£o dá»±a trÃªn Vagrant.
   - init: lÃ  hÃ nh Ä‘á»™ng khá»Ÿi táº¡o má»™t dá»± Ã¡n Vagrant má»›i.
   - ubuntu/focal64: lÃ  tÃªn box (hÃ¬nh áº£nh mÃ¡y áº£o) mÃ  Vagrant sáº½ sá»­ dá»¥ng. Trong trÆ°á»ng há»£p nÃ y:
       * "ubuntu" lÃ  tÃªn nhÃ  phÃ¡t triá»ƒn box.
       * "focal64" chá»‰ phiÃªn báº£n Ubuntu 20.04 LTS 64-bit.

3. HÃ nh vi:
   - Khi cháº¡y lá»‡nh nÃ y, Vagrant sáº½ táº¡o má»™t file tÃªn lÃ  `Vagrantfile` trong thÆ° má»¥c hiá»‡n táº¡i.
   - Vagrantfile chá»©a cÃ¡c thiáº¿t láº­p cÆ¡ báº£n nhÆ°:
       * box name (ubuntu/focal64)
       * network settings (cÃ³ thá»ƒ tÃ¹y chá»‰nh)
       * synced folders (thÆ° má»¥c Ä‘á»“ng bá»™ giá»¯a host vÃ  VM)
       * provisioners (náº¿u muá»‘n tá»± Ä‘á»™ng cÃ i Ä‘áº·t pháº§n má»m khi VM khá»Ÿi Ä‘á»™ng)
   - Lá»‡nh nÃ y **chá»‰ táº¡o file cáº¥u hÃ¬nh**, chÆ°a táº£i box vá» vÃ  chÆ°a táº¡o mÃ¡y áº£o. Box sáº½ Ä‘Æ°á»£c táº£i vá» khi báº¡n cháº¡y lá»‡nh `vagrant up`.

4. VÃ­ dá»¥ sá»­ dá»¥ng:
   $ mkdir my-vagrant-project
   $ cd my-vagrant-project
   $ vagrant init ubuntu/focal64
   => Táº¡o file Vagrantfile vá»›i box ubuntu/focal64
		
		
		- cmd: sudo apt update
	
========================================================================
Lá»‡nh: sudo apt update
========================================================================

1. Má»¥c Ä‘Ã­ch:
   Lá»‡nh nÃ y Ä‘Æ°á»£c sá»­ dá»¥ng trÃªn cÃ¡c há»‡ Ä‘iá»u hÃ nh dá»±a trÃªn Debian/Ubuntu Ä‘á»ƒ cáº­p nháº­t danh sÃ¡ch cÃ¡c gÃ³i (packages) tá»« cÃ¡c kho lÆ°u trá»¯ (repositories). 
   NÃ³ khÃ´ng cÃ i Ä‘áº·t hay nÃ¢ng cáº¥p gÃ³i, chá»‰ lÃ m má»›i thÃ´ng tin vá» cÃ¡c phiÃªn báº£n má»›i nháº¥t cá»§a pháº§n má»m cÃ³ sáºµn.

2. Cáº¥u trÃºc lá»‡nh:
   sudo apt update

   - sudo: Cháº¡y lá»‡nh vá»›i quyá»n quáº£n trá»‹ (root), vÃ¬ viá»‡c truy cáº­p kho lÆ°u trá»¯ yÃªu cáº§u quyá»n cao hÆ¡n.
   - apt: TrÃ¬nh quáº£n lÃ½ gÃ³i (Advanced Package Tool) dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ cÃ i Ä‘áº·t, nÃ¢ng cáº¥p, gá»¡ bá» pháº§n má»m.
   - update: Thao tÃ¡c lÃ m má»›i danh sÃ¡ch gÃ³i tá»« cÃ¡c repository Ä‘Æ°á»£c khai bÃ¡o trong file /etc/apt/sources.list vÃ  thÆ° má»¥c /etc/apt/sources.list.d/.

3. QuÃ¡ trÃ¬nh thá»±c hiá»‡n:
   Khi cháº¡y lá»‡nh nÃ y, há»‡ thá»‘ng sáº½ thá»±c hiá»‡n cÃ¡c bÆ°á»›c sau:
   a) Káº¿t ná»‘i internet Ä‘áº¿n cÃ¡c Ä‘á»‹a chá»‰ repository Ä‘Æ°á»£c cáº¥u hÃ¬nh.
   b) Táº£i vá» cÃ¡c file mÃ´ táº£ cÃ¡c gÃ³i pháº§n má»m má»›i nháº¥t.
      - Bao gá»“m: tÃªn gÃ³i, phiÃªn báº£n má»›i nháº¥t, thÃ´ng tin vá» phá»¥ thuá»™c (dependencies).
   c) Cáº­p nháº­t cache cá»§a apt trÃªn mÃ¡y tÃ­nh vá»›i cÃ¡c thÃ´ng tin má»›i táº£i vá».

4. Káº¿t quáº£:
   - Náº¿u thÃ nh cÃ´ng: há»‡ thá»‘ng sáº½ hiá»ƒn thá»‹ danh sÃ¡ch cÃ¡c repository Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t.
   - Náº¿u cÃ³ lá»—i: thÆ°á»ng do máº¡ng, sai Ä‘á»‹a chá»‰ repository, hoáº·c thiáº¿u quyá»n truy cáº­p.

5. LÆ°u Ã½ quan trá»ng:
   - Lá»‡nh nÃ y **khÃ´ng cÃ i Ä‘áº·t hay nÃ¢ng cáº¥p gÃ³i**. Äá»ƒ nÃ¢ng cáº¥p, cáº§n cháº¡y thÃªm:
     sudo apt upgrade        # NÃ¢ng cáº¥p cÃ¡c gÃ³i Ä‘Ã£ cÃ i lÃªn phiÃªn báº£n má»›i
   - NÃªn cháº¡y Ä‘á»‹nh ká»³ Ä‘á»ƒ há»‡ thá»‘ng nháº­n biáº¿t cÃ¡c phiÃªn báº£n má»›i vÃ  báº£n vÃ¡ báº£o máº­t.
   - Chá»‰ nÃªn cháº¡y trÃªn há»‡ thá»‘ng cÃ³ káº¿t ná»‘i máº¡ng á»•n Ä‘á»‹nh.

6. VÃ­ dá»¥ sá»­ dá»¥ng:
   # Cáº­p nháº­t danh sÃ¡ch gÃ³i trÆ°á»›c khi nÃ¢ng cáº¥p
   sudo apt update
   sudo apt upgrade

========================================================================

	
		- cmd: sudo apt install apache2 \
                 ghostscript \
                 libapache2-mod-php \
                 mysql-server \
                 php \
                 php-bcmath \
                 php-curl \
                 php-imagick \
                 php-intl \
                 php-json \
                 php-mbstring \
                 php-mysql \
                 php-xml \
                 php-zip
				 
# Lá»‡nh: sudo apt install apache2 \
#       ghostscript \
#       libapache2-mod-php \
#       mysql-server \
#       php \
#       php-bcmath \
#       php-curl \
#       php-imagick \
#       php-intl \
#       php-json \
#       php-mbstring \
#       php-mysql \
#       php-xml \
#       php-zip

# 1. sudo
#    - Cháº¡y lá»‡nh vá»›i quyá»n quáº£n trá»‹ (root) Ä‘á»ƒ cÃ³ thá»ƒ cÃ i Ä‘áº·t pháº§n má»m há»‡ thá»‘ng.

# 2. apt
#    - TrÃ¬nh quáº£n lÃ½ gÃ³i cá»§a Ubuntu/Debian.
#    - Sá»­ dá»¥ng Ä‘á»ƒ cÃ i Ä‘áº·t, cáº­p nháº­t, hoáº·c xÃ³a pháº§n má»m.

# 3. install
#    - Tham sá»‘ cá»§a apt, dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t cÃ¡c gÃ³i Ä‘Æ°á»£c liá»‡t kÃª phÃ­a sau.

# 4. apache2
#    - MÃ¡y chá»§ web Apache.
#    - Chá»‹u trÃ¡ch nhiá»‡m nháº­n cÃ¡c yÃªu cáº§u HTTP/HTTPS tá»« trÃ¬nh duyá»‡t vÃ  tráº£ vá» ná»™i dung web.

# 5. ghostscript
#    - CÃ´ng cá»¥ xá»­ lÃ½ file PostScript vÃ  PDF.
#    - ThÆ°á»ng dÃ¹ng Ä‘á»ƒ chuyá»ƒn Ä‘á»•i, in hoáº·c thao tÃ¡c vá»›i file PDF/PS.

# 6. libapache2-mod-php
#    - Module PHP cho Apache.
#    - Cho phÃ©p Apache xá»­ lÃ½ file PHP trá»±c tiáº¿p.

# 7. mysql-server
#    - CÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL.
#    - DÃ¹ng Ä‘á»ƒ lÆ°u trá»¯ vÃ  quáº£n lÃ½ dá»¯ liá»‡u cá»§a á»©ng dá»¥ng web.

# 8. php
#    - NgÃ´n ngá»¯ láº­p trÃ¬nh PHP.
#    - DÃ¹ng Ä‘á»ƒ phÃ¡t triá»ƒn á»©ng dá»¥ng web Ä‘á»™ng.

# 9. php-bcmath
#    - ThÆ° viá»‡n PHP há»— trá»£ tÃ­nh toÃ¡n sá»‘ há»c chÃ­nh xÃ¡c vá»›i sá»‘ lá»›n.
#    - DÃ¹ng cho cÃ¡c á»©ng dá»¥ng cáº§n toÃ¡n há»c cao cáº¥p.

# 10. php-curl
#     - ThÆ° viá»‡n PHP há»— trá»£ gá»­i HTTP request.
#     - DÃ¹ng Ä‘á»ƒ káº¿t ná»‘i tá»›i API hoáº·c táº£i dá»¯ liá»‡u tá»« server khÃ¡c.

# 11. php-imagick
#     - ThÆ° viá»‡n PHP Ä‘á»ƒ xá»­ lÃ½ hÃ¬nh áº£nh.
#     - Cung cáº¥p cÃ¡c chá»©c nÄƒng chá»‰nh sá»­a áº£nh (resize, convert, filter).

# 12. php-intl
#     - ThÆ° viá»‡n PHP há»— trá»£ quá»‘c táº¿ hÃ³a.
#     - Há»¯u Ã­ch khi lÃ m á»©ng dá»¥ng Ä‘a ngÃ´n ngá»¯.

# 13. php-json
#     - ThÆ° viá»‡n PHP há»— trá»£ Ä‘á»‹nh dáº¡ng JSON.
#     - DÃ¹ng Ä‘á»ƒ encode/decode dá»¯ liá»‡u JSON.

# 14. php-mbstring
#     - ThÆ° viá»‡n PHP xá»­ lÃ½ chuá»—i Ä‘a byte (UTF-8, Unicode).
#     - Quan trá»ng cho cÃ¡c website cÃ³ nhiá»u ngÃ´n ngá»¯.

# 15. php-mysql
#     - ThÆ° viá»‡n PHP káº¿t ná»‘i MySQL.
#     - Cho phÃ©p PHP truy váº¥n vÃ  tÆ°Æ¡ng tÃ¡c vá»›i cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL.

# 16. php-xml
#     - ThÆ° viá»‡n PHP xá»­ lÃ½ XML.
#     - DÃ¹ng Ä‘á»ƒ Ä‘á»c/ghi dá»¯ liá»‡u XML.

# 17. php-zip
#     - ThÆ° viá»‡n PHP Ä‘á»ƒ táº¡o vÃ  giáº£i nÃ©n file ZIP.
#     - Há»¯u Ã­ch khi cáº§n nÃ©n hoáº·c giáº£i nÃ©n dá»¯ liá»‡u trÃªn server.

# Ghi chÃº:
# - Dáº¥u "\" á»Ÿ cuá»‘i dÃ²ng cho phÃ©p chia lá»‡nh thÃ nh nhiá»u dÃ²ng Ä‘á»ƒ dá»… Ä‘á»c.
# - Khi cháº¡y lá»‡nh nÃ y, há»‡ thá»‘ng sáº½ táº£i vÃ  cÃ i táº¥t cáº£ cÃ¡c gÃ³i trÃªn cÃ¹ng lÃºc.
# - ÄÃ¢y lÃ  má»™t setup phá»• biáº¿n cho LAMP stack (Linux + Apache + MySQL + PHP) vá»›i cÃ¡c tiá»‡n Ã­ch má»Ÿ rá»™ng PHP cÆ¡ báº£n.
				 
				 
				 
		- cmd: sudo mkdir -p /srv/www
		
# Lá»‡nh: sudo mkdir -p /srv/www

# 1. sudo
# 'sudo' lÃ  viáº¿t táº¯t cá»§a "superuser do".
# NÃ³ cho phÃ©p báº¡n thá»±c hiá»‡n lá»‡nh vá»›i quyá»n quáº£n trá»‹ (root),
# cáº§n thiáº¿t khi táº¡o thÆ° má»¥c trong cÃ¡c vá»‹ trÃ­ há»‡ thá»‘ng nhÆ° /srv.

# 2. mkdir
# 'mkdir' lÃ  viáº¿t táº¯t cá»§a "make directory".
# Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ táº¡o thÆ° má»¥c má»›i trÃªn há»‡ thá»‘ng Linux.

# 3. -p
# Tham sá»‘ '-p' cÃ³ nghÄ©a lÃ  "parents" (thÆ° má»¥c cha).
# Khi sá»­ dá»¥ng '-p', náº¿u cÃ¡c thÆ° má»¥c cha chÆ°a tá»“n táº¡i,
# há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng táº¡o chÃºng trÆ°á»›c khi táº¡o thÆ° má»¥c cuá»‘i cÃ¹ng.
# NgoÃ i ra, náº¿u thÆ° má»¥c Ä‘Ã£ tá»“n táº¡i, lá»‡nh sáº½ khÃ´ng bÃ¡o lá»—i.

# 4. /srv/www
# ÄÃ¢y lÃ  Ä‘Æ°á»ng dáº«n thÆ° má»¥c cáº§n táº¡o.
# - /srv thÆ°á»ng dÃ¹ng Ä‘á»ƒ lÆ°u trá»¯ dá»¯ liá»‡u dá»‹ch vá»¥ (service data) nhÆ° web server.
# - /srv/www lÃ  nÆ¡i phá»• biáº¿n Ä‘á»ƒ chá»©a cÃ¡c file web, vÃ­ dá»¥ khi cÃ i Apache hoáº·c Nginx.

# Tá»•ng há»£p:
# Lá»‡nh nÃ y sáº½ táº¡o thÆ° má»¥c /srv/www cÃ¹ng táº¥t cáº£ thÆ° má»¥c cha náº¿u chÆ°a tá»“n táº¡i,
# vÃ  thá»±c hiá»‡n vá»›i quyá»n root Ä‘á»ƒ Ä‘áº£m báº£o cÃ³ thá»ƒ táº¡o thÆ° má»¥c trong /srv.
		
		
		- cmd: sudo chown www-data: /srv/www
		
Lá»‡nh: sudo chown www-data: /srv/www

1. Má»¥c Ä‘Ã­ch:
   Lá»‡nh nÃ y Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thay Ä‘á»•i **chá»§ sá»Ÿ há»¯u (owner)** cá»§a thÆ° má»¥c hoáº·c file trong Linux. Cá»¥ thá»ƒ:
   - Chá»§ sá»Ÿ há»¯u má»›i: www-data
   - NhÃ³m sá»Ÿ há»¯u má»›i: máº·c Ä‘á»‹nh nhÃ³m chÃ­nh cá»§a www-data
   - Äá»‘i tÆ°á»£ng: thÆ° má»¥c /srv/www
   Viá»‡c thay Ä‘á»•i quyá»n sá»Ÿ há»¯u thÆ°á»ng dÃ¹ng Ä‘á»ƒ Ä‘áº£m báº£o dá»‹ch vá»¥ web (nhÆ° Apache hoáº·c Nginx) cÃ³ quyá»n truy cáº­p vÃ  quáº£n lÃ½ thÆ° má»¥c chá»©a website.

2. Cáº¥u trÃºc lá»‡nh:
   - sudo: thá»±c thi lá»‡nh vá»›i quyá»n **root** (quyá»n quáº£n trá»‹), vÃ¬ thay Ä‘á»•i quyá»n sá»Ÿ há»¯u yÃªu cáº§u quyá»n cao.
   - chown: lá»‡nh thay Ä‘á»•i **owner** vÃ  **group** cá»§a file/thÆ° má»¥c.
   - www-data:: chá»‰ Ä‘á»‹nh **owner** lÃ  www-data vÃ  **group** sáº½ láº¥y theo máº·c Ä‘á»‹nh nhÃ³m chÃ­nh cá»§a user www-data (dáº¥u `:` lÃ  Ä‘á»ƒ phÃ¢n tÃ¡ch owner vÃ  group).
   - /srv/www: Ä‘Æ°á»ng dáº«n Ä‘áº¿n thÆ° má»¥c mÃ  báº¡n muá»‘n thay Ä‘á»•i quyá»n sá»Ÿ há»¯u.

3. HÃ nh vi:
   - Sau khi cháº¡y lá»‡nh nÃ y:
       * Chá»§ sá»Ÿ há»¯u cá»§a /srv/www sáº½ lÃ  `www-data`.
       * NhÃ³m sá»Ÿ há»¯u cá»§a /srv/www sáº½ lÃ  nhÃ³m chÃ­nh cá»§a `www-data`.
   - CÃ¡c file con bÃªn trong /srv/www sáº½ **khÃ´ng tá»± Ä‘á»™ng thay Ä‘á»•i** quyá»n sá»Ÿ há»¯u trá»« khi dÃ¹ng thÃªm tÃ¹y chá»n `-R` (recursive).

4. VÃ­ dá»¥ sá»­ dá»¥ng má»Ÿ rá»™ng:
   - Thay Ä‘á»•i quyá»n sá»Ÿ há»¯u **Ä‘á»‡ quy** cho táº¥t cáº£ file vÃ  thÆ° má»¥c con:
     sudo chown -R www-data: /srv/www
   - Kiá»ƒm tra quyá»n sá»Ÿ há»¯u sau khi thay Ä‘á»•i:
     ls -l /srv | grep www
		
		
		- cmd: curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www
		
========================================================================
Lá»‡nh: curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www
========================================================================

1. Má»¥c Ä‘Ã­ch:
   Lá»‡nh nÃ y táº£i vá» phiÃªn báº£n má»›i nháº¥t cá»§a WordPress tá»« trang chÃ­nh thá»©c vÃ  giáº£i nÃ©n trá»±c tiáº¿p
   vÃ o thÆ° má»¥c /srv/www vá»›i quyá»n cá»§a ngÆ°á»i dÃ¹ng www-data (thÆ°á»ng dÃ¹ng cho web server nhÆ° Apache/Nginx).
   NÃ³ giÃºp triá»ƒn khai nhanh WordPress trÃªn server mÃ  khÃ´ng cáº§n lÆ°u file trung gian.

2. Cáº¥u trÃºc lá»‡nh:

   a) curl https://wordpress.org/latest.tar.gz
      - curl: cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ táº£i dá»¯ liá»‡u tá»« URL.
      - https://wordpress.org/latest.tar.gz: Ä‘Æ°á»ng dáº«n Ä‘áº¿n gÃ³i nÃ©n WordPress má»›i nháº¥t.
      - Káº¿t quáº£ cá»§a curl lÃ  dá»¯ liá»‡u nÃ©n, Ä‘Æ°á»£c gá»­i ra stdout (mÃ n hÃ¬nh/luá»“ng dá»¯ liá»‡u).

   b) |
      - Dáº¥u â€œ|â€ gá»i lÃ  pipe, dÃ¹ng Ä‘á»ƒ chuyá»ƒn káº¿t quáº£ cá»§a lá»‡nh bÃªn trÃ¡i (curl) sang lá»‡nh bÃªn pháº£i (tar) mÃ  khÃ´ng cáº§n lÆ°u vÃ o file táº¡m.

   c) sudo -u www-data tar zx -C /srv/www
      - sudo -u www-data: cháº¡y lá»‡nh tiáº¿p theo vá»›i quyá»n cá»§a ngÆ°á»i dÃ¹ng www-data (thÆ°á»ng dÃ nh cho web server).
      - tar: cÃ´ng cá»¥ giáº£i nÃ©n vÃ  Ä‘Ã³ng gÃ³i file.
      - z: giáº£i nÃ©n Ä‘á»‹nh dáº¡ng gzip (.tar.gz)
      - x: giáº£i nÃ©n (extract)
      - C /srv/www: chá»‰ Ä‘á»‹nh thÆ° má»¥c Ä‘Ã­ch Ä‘á»ƒ giáº£i nÃ©n
      - Káº¿t há»£p láº¡i: tar zx -C /srv/www nghÄ©a lÃ  giáº£i nÃ©n dá»¯ liá»‡u nÃ©n gzip trá»±c tiáº¿p vÃ o thÆ° má»¥c /srv/www.

3. QuÃ¡ trÃ¬nh thá»±c hiá»‡n:
   1) curl táº£i dá»¯ liá»‡u nÃ©n tá»« WordPress.org vÃ  Ä‘Æ°a dá»¯ liá»‡u Ä‘Ã³ vÃ o luá»“ng.
   2) Pipe (|) chuyá»ƒn dá»¯ liá»‡u trá»±c tiáº¿p cho tar.
   3) tar, cháº¡y vá»›i quyá»n www-data, giáº£i nÃ©n dá»¯ liá»‡u vÃ o /srv/www.
   4) Káº¿t quáº£: thÆ° má»¥c /srv/www sáº½ chá»©a toÃ n bá»™ file vÃ  thÆ° má»¥c cá»§a WordPress, sáºµn sÃ ng cho web server.

4. LÆ°u Ã½ quan trá»ng:
   - ThÆ° má»¥c /srv/www pháº£i tá»“n táº¡i trÆ°á»›c khi cháº¡y lá»‡nh.
     VÃ­ dá»¥: sudo mkdir -p /srv/www
   - Quyá»n www-data cáº§n thiáº¿t Ä‘á»ƒ web server cÃ³ thá»ƒ Ä‘á»c/ghi file.
   - KhÃ´ng cáº§n lÆ°u file .tar.gz trung gian, giÃºp tiáº¿t kiá»‡m dung lÆ°á»£ng Ä‘Ä©a.
   - Äáº£m báº£o server cÃ³ káº¿t ná»‘i internet Ä‘á»ƒ táº£i gÃ³i WordPress.

5. VÃ­ dá»¥ sá»­ dá»¥ng thá»±c táº¿:
   # Táº¡o thÆ° má»¥c web náº¿u chÆ°a cÃ³
   sudo mkdir -p /srv/www
   sudo chown www-data:www-data /srv/www

   # Táº£i vÃ  giáº£i nÃ©n WordPress trá»±c tiáº¿p vÃ o /srv/www
   curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www

========================================================================
		
		
		- cmd: vim /etc/apache2/sites-available/wordpress.conf
		
# Lá»‡nh: vim /etc/apache2/sites-available/wordpress.conf

# 1. vim
#    - TrÃ¬nh soáº¡n tháº£o vÄƒn báº£n (text editor) trÃªn terminal.
#    - Há»— trá»£ chá»‰nh sá»­a file cáº¥u hÃ¬nh, code, hoáº·c báº¥t ká»³ file vÄƒn báº£n nÃ o.
#    - CÃ³ 3 cháº¿ Ä‘á»™ chÃ­nh:
#       + Normal mode: DÃ¹ng Ä‘á»ƒ di chuyá»ƒn, xÃ³a, sao chÃ©p, dÃ¡n.
#       + Insert mode: DÃ¹ng Ä‘á»ƒ nháº­p ná»™i dung (nháº¥n 'i' Ä‘á»ƒ vÃ o Insert mode).
#       + Command mode: DÃ¹ng Ä‘á»ƒ lÆ°u, thoÃ¡t, hoáº·c thá»±c hiá»‡n cÃ¡c lá»‡nh Ä‘áº·c biá»‡t (nháº¥n ':' Ä‘á»ƒ vÃ o Command mode).

# 2. /etc/apache2/sites-available/wordpress.conf
#    - ÄÆ°á»ng dáº«n Ä‘áº¿n file cáº¥u hÃ¬nh Virtual Host cá»§a Apache cho WordPress.
#    - Giáº£i thÃ­ch tá»«ng pháº§n:
#       + /etc/apache2/: ThÆ° má»¥c chá»©a cÃ¡c cáº¥u hÃ¬nh cá»§a Apache trÃªn Ubuntu/Debian.
#       + sites-available/: ThÆ° má»¥c lÆ°u trá»¯ táº¥t cáº£ cÃ¡c Virtual Host cÃ³ thá»ƒ Ä‘Æ°á»£c kÃ­ch hoáº¡t.
#       + wordpress.conf: File cáº¥u hÃ¬nh Virtual Host cá»¥ thá»ƒ cho má»™t website WordPress.
#    - Ná»™i dung file nÃ y thÆ°á»ng bao gá»“m:
#       + ServerName: TÃªn miá»n cá»§a website.
#       + DocumentRoot: ThÆ° má»¥c chá»©a mÃ£ nguá»“n website (vÃ­ dá»¥ /var/www/wordpress).
#       + Directory settings: Quyá»n truy cáº­p, cho phÃ©p .htaccess override, index files, v.v.
#       + ErrorLog / CustomLog: ÄÆ°á»ng dáº«n lÆ°u log lá»—i vÃ  log truy cáº­p.

# 3. Má»¥c Ä‘Ã­ch cá»§a lá»‡nh
#    - Má»Ÿ file wordpress.conf báº±ng vim Ä‘á»ƒ chá»‰nh sá»­a cÃ¡c thÃ´ng sá»‘ Virtual Host cá»§a website WordPress.
#    - Sau khi chá»‰nh sá»­a xong, cáº§n lÆ°u vÃ  thoÃ¡t vim, vÃ­ dá»¥:
#       + Nháº¥n 'Esc' -> nháº­p ':wq' -> nháº¥n Enter Ä‘á»ƒ lÆ°u vÃ  thoÃ¡t.
#       + Nháº¥n 'Esc' -> nháº­p ':q!' -> nháº¥n Enter Ä‘á»ƒ thoÃ¡t mÃ  khÃ´ng lÆ°u.

# 4. Ghi chÃº
#    - Sau khi chá»‰nh sá»­a file nÃ y, cáº§n kÃ­ch hoáº¡t Virtual Host báº±ng lá»‡nh:
#         sudo a2ensite wordpress.conf
#    - Sau Ä‘Ã³ reload Apache Ä‘á»ƒ Ã¡p dá»¥ng thay Ä‘á»•i:
#         sudo systemctl reload apache2
#    - ÄÃ¢y lÃ  cÃ¡ch quáº£n lÃ½ tá»«ng website riÃªng biá»‡t trÃªn cÃ¹ng má»™t server Apache.
		
		
		- cmd: sudo a2ensite wordpress
		
			TÃŠN
				sudo a2ensite wordpress
				â€” báº­t (enable) site áº£o `wordpress` trÃªn Apache2

			TÃ“M Táº®T (SYNOPSIS)
				a2ensite [options] <site_name>
				sudo a2ensite wordpress

			MÃ” Táº¢
				Lá»‡nh `a2ensite` lÃ  tiá»‡n Ã­ch quáº£n lÃ½ site áº£o (virtual host) trÃªn Apache2 cá»§a cÃ¡c há»‡ thá»‘ng Debian/Ubuntu. NÃ³ giÃºp kÃ­ch hoáº¡t má»™t cáº¥u hÃ¬nh site áº£o Ä‘Æ°á»£c lÆ°u trong thÆ° má»¥c `/etc/apache2/sites-available/`.  

				Trong vÃ­ dá»¥ nÃ y:

				- `wordpress` : tÃªn file cáº¥u hÃ¬nh site áº£o, thÆ°á»ng lÃ  `/etc/apache2/sites-available/wordpress.conf`.
				- `sudo`      : cáº§n quyá»n root Ä‘á»ƒ thá»±c hiá»‡n thay Ä‘á»•i cáº¥u hÃ¬nh Apache.

				Khi cháº¡y lá»‡nh:
				  1) `a2ensite` sáº½ táº¡o má»™t symbolic link tá»« `/etc/apache2/sites-available/wordpress.conf` Ä‘áº¿n `/etc/apache2/sites-enabled/wordpress.conf`.
				  2) Apache sáº½ nháº­n biáº¿t site áº£o nÃ y khi restart hoáº·c reload dá»‹ch vá»¥.

			PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
				1) `sudo` :
					- Cháº¡y lá»‡nh vá»›i quyá»n quáº£n trá»‹ root.
				2) `a2ensite` :
					- â€œApache2 enable siteâ€
					- DÃ¹ng Ä‘á»ƒ báº­t site áº£o Ä‘Ã£ cÃ³ cáº¥u hÃ¬nh sáºµn trong `sites-available`.
				3) `wordpress` :
					- TÃªn site áº£o, tÆ°Æ¡ng á»©ng vá»›i file cáº¥u hÃ¬nh `wordpress.conf`.
					- KhÃ´ng cáº§n kÃ¨m `.conf` khi dÃ¹ng lá»‡nh.

			HOáº T Äá»˜NG Cá»¦A Lá»†NH
				1) Kiá»ƒm tra file cáº¥u hÃ¬nh `/etc/apache2/sites-available/wordpress.conf` cÃ³ tá»“n táº¡i.
				2) Táº¡o symbolic link trong `/etc/apache2/sites-enabled/`.
				3) ThÃ´ng bÃ¡o â€œSite wordpress has been enabledâ€.
				4) Sau khi enable, cáº§n reload hoáº·c restart Apache Ä‘á»ƒ site cÃ³ hiá»‡u lá»±c:
					sudo systemctl reload apache2

			Lá»†NH LIÃŠN QUAN
				- a2dissite <site_name>  : táº¯t (disable) site áº£o.
				- apache2ctl configtest    : kiá»ƒm tra file cáº¥u hÃ¬nh Apache cÃ³ há»£p lá»‡.
				- systemctl reload apache2 : reload cáº¥u hÃ¬nh mÃ  khÃ´ng khá»Ÿi Ä‘á»™ng láº¡i toÃ n bá»™ dá»‹ch vá»¥.
				- systemctl restart apache2: restart dá»‹ch vá»¥ Apache.
				- /etc/apache2/sites-available/ : thÆ° má»¥c chá»©a cÃ¡c file cáº¥u hÃ¬nh site áº£o.
				- /etc/apache2/sites-enabled/  : thÆ° má»¥c chá»©a cÃ¡c symlink site áº£o Ä‘Ã£ enable.

			Máº¸O THá»°C TIá»„N
				1) Kiá»ƒm tra site trÆ°á»›c khi enable:
					sudo apache2ctl configtest
				2) Sau khi enable site, reload Apache Ä‘á»ƒ Ã¡p dá»¥ng:
					sudo systemctl reload apache2
				3) Táº¯t site khÃ´ng dÃ¹ng:
					sudo a2dissite oldsite
				4) Danh sÃ¡ch cÃ¡c site Ä‘Ã£ enable:
					ls -l /etc/apache2/sites-enabled/
				5) ThÆ°á»ng káº¿t há»£p vá»›i SSL vÃ  cÃ¡c virtual host khÃ¡c Ä‘á»ƒ quáº£n lÃ½ nhiá»u website trÃªn cÃ¹ng server.

			LÆ¯U Ã
				- KhÃ´ng cáº§n thÃªm `.conf` khi dÃ¹ng a2ensite; lá»‡nh tá»± thÃªm.
				- Sá»­ dá»¥ng sudo Ä‘á»ƒ trÃ¡nh lá»—i quyá»n truy cáº­p.
				- LuÃ´n kiá»ƒm tra cáº¥u hÃ¬nh trÆ°á»›c khi reload Ä‘á»ƒ trÃ¡nh Apache khÃ´ng khá»Ÿi Ä‘á»™ng.

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- `sudo a2ensite wordpress` báº­t site áº£o `wordpress` trong Apache2.
				- Táº¡o symlink tá»« `sites-available` sang `sites-enabled`.
				- Sau Ä‘Ã³ reload Apache Ä‘á»ƒ site cÃ³ hiá»‡u lá»±c.
				- DÃ¹ng `a2dissite` Ä‘á»ƒ táº¯t site náº¿u khÃ´ng cáº§n.

			VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
				# Báº­t site áº£o WordPress
				sudo a2ensite wordpress

				# Kiá»ƒm tra cáº¥u hÃ¬nh Apache
				sudo apache2ctl configtest

				# Reload Apache Ä‘á»ƒ Ã¡p dá»¥ng site má»›i
				sudo systemctl reload apache2

				# Táº¯t site khÃ´ng dÃ¹ng
				sudo a2dissite wordpress
				sudo systemctl reload apache2

				# Liá»‡t kÃª cÃ¡c site Ä‘Ã£ enable
				ls -l /etc/apache2/sites-enabled/

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: sudo a2enmod rewrite
		
# Lá»‡nh: sudo a2enmod rewrite

# 1. sudo
# 'sudo' lÃ  viáº¿t táº¯t cá»§a "superuser do".
# Cho phÃ©p báº¡n cháº¡y lá»‡nh vá»›i quyá»n quáº£n trá»‹ (root),
# cáº§n thiáº¿t khi thay Ä‘á»•i cáº¥u hÃ¬nh cá»§a Apache.

# 2. a2enmod
# 'a2enmod' lÃ  viáº¿t táº¯t cá»§a "Apache 2 enable module".
# Lá»‡nh nÃ y Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ **kÃ­ch hoáº¡t má»™t module cá»§a Apache**.
# Apache Ä‘Æ°á»£c xÃ¢y dá»±ng theo kiáº¿n trÃºc module, nghÄ©a lÃ  cÃ¡c tÃ­nh nÄƒng
# nhÆ° rewrite URL, SSL, headers, v.vâ€¦ Ä‘Æ°á»£c tÃ¡ch ra dÆ°á»›i dáº¡ng module.
# Khi má»™t module bá»‹ vÃ´ hiá»‡u hÃ³a, cÃ¡c chá»©c nÄƒng liÃªn quan sáº½ khÃ´ng hoáº¡t Ä‘á»™ng.

# 3. rewrite
# 'rewrite' lÃ  tÃªn module muá»‘n kÃ­ch hoáº¡t.
# Module nÃ y cho phÃ©p **viáº¿t láº¡i URL (URL rewriting)**.
# VÃ­ dá»¥: báº¡n cÃ³ thá»ƒ chuyá»ƒn tá»« "example.com/page.php?id=1" thÃ nh "example.com/page/1".
# ÄÃ¢y lÃ  module quan trá»ng cho cÃ¡c framework web nhÆ° Laravel, WordPress, v.v.

# Tá»•ng há»£p:
# Lá»‡nh 'sudo a2enmod rewrite' sáº½ kÃ­ch hoáº¡t module rewrite cá»§a Apache
# vá»›i quyá»n quáº£n trá»‹. Sau khi kÃ­ch hoáº¡t, báº¡n cáº§n **khá»Ÿi Ä‘á»™ng láº¡i Apache**
# báº±ng lá»‡nh 'sudo systemctl restart apache2' Ä‘á»ƒ thay Ä‘á»•i cÃ³ hiá»‡u lá»±c.
		
		
		- cmd: sudo a2dissite 000-default
		
---

## TIÃŠU Äá»€: Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: sudo a2dissite 000-default

1. CÃ¢u lá»‡nh (má»™t dÃ²ng):

sudo a2dissite 000-default

2. Má»¥c Ä‘Ã­ch chung:

Lá»‡nh nÃ y vÃ´ hiá»‡u (disable) site cáº¥u hÃ¬nh tÃªn "000-default" trÃªn Apache (Debian/Ubuntu). NÃ³ chá»‰ thay Ä‘á»•i liÃªn káº¿t trong thÆ° má»¥c quáº£n lÃ½ site cá»§a Apache â€” khÃ´ng xÃ³a file cáº¥u hÃ¬nh. Sau khi cháº¡y lá»‡nh nÃ y báº¡n cáº§n reload hoáº·c restart Apache Ä‘á»ƒ thay Ä‘á»•i cÃ³ hiá»‡u lá»±c.

3. Vá»‹ trÃ­ file vÃ  cÆ¡ cháº¿ hoáº¡t Ä‘á»™ng (chi tiáº¿t):

* ThÆ° má»¥c chá»©a file cáº¥u hÃ¬nh site (Ubuntu/Debian):
  /etc/apache2/sites-available/     <-- file cáº¥u hÃ¬nh gá»‘c (vÃ­ dá»¥: 000-default.conf)
  /etc/apache2/sites-enabled/       <-- nÆ¡i Apache Ä‘á»c cÃ¡c site Ä‘ang báº­t (thÆ°á»ng lÃ  cÃ¡c symbolic link)

* a2dissite sáº½ xÃ³a (hoáº·c giáº£i liÃªn káº¿t) symbolic link trong sites-enabled trá» tá»›i file trong sites-available. File gá»‘c á»Ÿ sites-available váº«n cÃ²n nguyÃªn váº¹n.

* TÃªn "000-default" trong lá»‡nh tÆ°Æ¡ng á»©ng vá»›i tÃªn tá»‡p cáº¥u hÃ¬nh khÃ´ng kÃ¨m Ä‘uÃ´i (.conf) thÆ°á»ng lÃ  000-default.conf. Lá»‡nh tÃ¬m vÃ  táº¯t site dá»±a trÃªn tÃªn nÃ y.

4. Quyá»n (sudo) â€” táº¡i sao cáº§n cháº¡y vá»›i sudo:

* Thao tÃ¡c nÃ y thay Ä‘á»•i cÃ¡c file cáº¥u hÃ¬nh á»Ÿ /etc/apache2, nÃªn cáº§n quyá»n root. Viá»‡c thÃªm sudo giÃºp cháº¡y lá»‡nh vá»›i quyá»n quáº£n trá»‹ viÃªn.

5. HÃ nh Ä‘á»™ng cáº§n lÃ m sau khi cháº¡y lá»‡nh:

* LuÃ´n reload hoáº·c restart Apache Ä‘á»ƒ Ã¡p dá»¥ng thay Ä‘á»•i. ThÃ´ng thÆ°á»ng dÃ¹ng:
  sudo systemctl reload apache2
  (hoáº·c náº¿u reload khÃ´ng Ä‘á»§) sudo systemctl restart apache2

* TrÆ°á»›c khi reload, báº¡n cÃ³ thá»ƒ kiá»ƒm tra cáº¥u hÃ¬nh báº±ng:
  sudo apache2ctl configtest
  â€” Ä‘á»ƒ Ä‘áº£m báº£o khÃ´ng cÃ³ lá»—i cÃº phÃ¡p gÃ¢y ra Apache khÃ´ng khá»Ÿi Ä‘á»™ng Ä‘Æ°á»£c.

6. VÃ­ dá»¥ thao tÃ¡c Ä‘áº§y Ä‘á»§ (ká»‹ch báº£n an toÃ n):

1) Kiá»ƒm tra cáº¥u hÃ¬nh hiá»‡n táº¡i:
   sudo apache2ctl -S
   (liá»‡t kÃª virtual hosts, cho biáº¿t site nÃ o Ä‘ang hoáº¡t Ä‘á»™ng)

2) VÃ´ hiá»‡u site:
   sudo a2dissite 000-default

3) Kiá»ƒm tra láº¡i (tÃ¹y chá»n):
   ls -l /etc/apache2/sites-enabled/
   (xem symbolic link Ä‘Ã£ bá»‹ gá»¡ chÆ°a)

4) Kiá»ƒm tra cáº¥u hÃ¬nh Apache:
   sudo apache2ctl configtest

5) Ãp dá»¥ng thay Ä‘á»•i báº±ng reload:
   sudo systemctl reload apache2

7. CÃ¡ch báº­t láº¡i site (undo):

* Náº¿u muá»‘n báº­t láº¡i "000-default":
  sudo a2ensite 000-default
  sudo systemctl reload apache2

8. Nhá»¯ng lÆ°u Ã½ vÃ  há»‡ quáº£ khi táº¯t site:

* Náº¿u 000-default lÃ  site máº·c Ä‘á»‹nh (default site) vÃ  báº¡n chÆ°a cáº¥u hÃ¬nh site khÃ¡c Ä‘á»ƒ xá»­ lÃ½ request cho hostname hoáº·c IP, sau khi táº¯t client cÃ³ thá»ƒ nháº­n lá»—i 404 hoáº·c trang máº·c Ä‘á»‹nh khÃ¡c â€” tÃ¹y cáº¥u hÃ¬nh.

* KhÃ´ng xÃ³a file 000-default.conf trong sites-available trá»« khi báº¡n thá»±c sá»± muá»‘n loáº¡i bá» cáº¥u hÃ¬nh Ä‘Ã³. a2dissite chá»‰ táº¯t nÃ³ táº¡m thá»i.

* Náº¿u server sá»­ dá»¥ng nhiá»u virtual hosts, hÃ£y cháº¯c cháº¯n site khÃ¡c Ä‘Ã£ sáºµn sÃ ng xá»­ lÃ½ cÃ¡c request trÆ°á»›c khi táº¯t site máº·c Ä‘á»‹nh.

9. CÃ¡c lá»—i phá»• biáº¿n vÃ  cÃ¡ch xá»­ lÃ½:

* Lá»—i: "Could not open input file" hoáº·c lá»—i liÃªn quan permissions -> kiá»ƒm tra quyá»n file vÃ  cháº¡y vá»›i sudo.

* Lá»—i khi reload Apache sau khi táº¯t site -> cháº¡y sudo apache2ctl configtest Ä‘á»ƒ xem lá»—i cÃº phÃ¡p, sau Ä‘Ã³ sá»­a file bá»‹ lá»—i.

* Náº¿u sau khi a2dissite, má»™t site khÃ¡c khÃ´ng hoáº¡t Ä‘á»™ng nhÆ° mong muá»‘n, kiá»ƒm tra cÃ¡c file virtual host (ServerName, ServerAlias) vÃ  thá»© tá»± Æ°u tiÃªn (first virtual host cho IP/port sáº½ lÃ  default náº¿u khÃ´ng cÃ³ match rÃµ rÃ ng).

10. Ghi chÃº thÃªm (phiÃªn báº£n/biáº¿n thá»ƒ):

* a2dissite / a2ensite lÃ  script helper trÃªn Debian/Ubuntu. TrÃªn cÃ¡c há»‡ khÃ¡c (CentOS, RHEL) quáº£n lÃ½ virtual hosts cÃ³ thá»ƒ khÃ¡c (khÃ´ng cÃ³ a2dissite máº·c Ä‘á»‹nh).

* TÃªn site truyá»n vÃ o cÃ³ thá»ƒ hoáº·c khÃ´ng kÃ¨m Ä‘uÃ´i ".conf"; truyá»n tÃªn khÃ´ng cÃ³ Ä‘uÃ´i lÃ  phá»• biáº¿n (nhÆ° vÃ­ dá»¥: 000-default). Náº¿u báº¡n cÃ³ file tÃªn khÃ¡c, truyá»n tÃªn tÆ°Æ¡ng á»©ng.

11. TÃ³m táº¯t ngáº¯n (copy nhanh):

sudo a2dissite 000-default
-> VÃ´ hiá»‡u (disable) site 000-default báº±ng cÃ¡ch gá»¡ symbolic link trong /etc/apache2/sites-enabled, cáº§n sudo, sau Ä‘Ã³ reload Apache Ä‘á»ƒ thay Ä‘á»•i cÃ³ hiá»‡u lá»±c. File cáº¥u hÃ¬nh gá»‘c váº«n tá»“n táº¡i trong /etc/apache2/sites-available.

---

Háº¿t.
		
		
		- cmd: sudo service apache2 reload
		
== Giáº£i thÃ­ch chi tiáº¿t: sudo service apache2 reload ==

LÆ°u Ã½: tá»‡p nÃ y á»Ÿ dáº¡ng plain text (khÃ´ng dÃ¹ng Ä‘Ã¡nh dáº¥u phá»©c táº¡p) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ o file .txt.
(Trong giao diá»‡n, báº¡n cÃ³ thá»ƒ nháº¥n nÃºt sao chÃ©p / Copy Ä‘á»ƒ copy toÃ n bá»™ ná»™i dung.)

---

1. CÃ¢u lá»‡nh Ä‘áº§y Ä‘á»§:

sudo service apache2 reload

---

2. Má»¥c Ä‘Ã­ch ngáº¯n gá»n:

* Lá»‡nh nÃ y yÃªu cáº§u há»‡ thá»‘ng gá»­i tÃ­n hiá»‡u Ä‘á»ƒ Apache (dá»‹ch vá»¥ apache2) táº£i láº¡i cáº¥u hÃ¬nh mÃ  khÃ´ng dá»«ng hoÃ n toÃ n tiáº¿n trÃ¬nh Ä‘ang cháº¡y. NÃ³i cÃ¡ch khÃ¡c: Ã¡p dá»¥ng cÃ¡c thay Ä‘á»•i cáº¥u hÃ¬nh (file .conf, virtual hosts, vhosts, mod config...) mÃ  khÃ´ng lÃ m máº¥t káº¿t ná»‘i ngay láº­p tá»©c vá»›i cÃ¡c client Ä‘ang phá»¥c vá»¥.

---

3. PhÃ¢n tÃ­ch thÃ nh pháº§n:

* sudo

  * Cháº¡y lá»‡nh vá»›i quyá»n cá»§a ngÆ°á»i dÃ¹ng root (superuser). Cáº§n thiáº¿t náº¿u ngÆ°á»i dÃ¹ng hiá»‡n táº¡i khÃ´ng cÃ³ quyá»n quáº£n trá»‹ Ä‘á»ƒ Ä‘iá»u khiá»ƒn dá»‹ch vá»¥ há»‡ thá»‘ng.

* service

  * Tiá»‡n Ã­ch truyá»n thá»‘ng (SysV-init / Upstart compatibility) Ä‘á»ƒ quáº£n lÃ½ dá»‹ch vá»¥: start, stop, restart, reload, status, v.v.
  * TrÃªn cÃ¡c há»‡ Ä‘iá»u hÃ nh hiá»‡n Ä‘áº¡i (systemd-based nhÆ° Ubuntu má»›i), lá»‡nh `service` thÆ°á»ng lÃ  wrapper gá»i vá» `systemctl` tÆ°Æ¡ng á»©ng.

* apache2

  * TÃªn dá»‹ch vá»¥ Apache trÃªn Debian/Ubuntu. TrÃªn há»‡ thá»‘ng khÃ¡c hoáº·c cÃ i Ä‘áº·t tay, tÃªn dá»‹ch vá»¥ cÃ³ thá»ƒ lÃ  httpd.

* reload

  * TÃ¹y chá»n báº£o hiá»‡u (action) yÃªu cáº§u daemon táº£i láº¡i file cáº¥u hÃ¬nh mÃ  khÃ´ng káº¿t thÃºc tiáº¿n trÃ¬nh cha/tiáº¿n trÃ¬nh con tá»©c thá»i. ThÃ´ng thÆ°á»ng thá»±c hiá»‡n báº±ng cÃ¡ch gá»­i tÃ­n hiá»‡u HUP (hang-up) Ä‘áº¿n tiáº¿n trÃ¬nh chÃ­nh cá»§a Apache, khiáº¿n nÃ³ Ä‘á»c láº¡i cáº¥u hÃ¬nh vÃ  khá»Ÿi táº¡o worker má»›i.

---

4. Reload khÃ¡c vá»›i Restart nhÆ° tháº¿ nÃ o?

* reload

  * Táº£i láº¡i cáº¥u hÃ¬nh mÃ  giá»¯ cÃ¡c tiáº¿n trÃ¬nh worker hiá»‡n táº¡i hoáº¡t Ä‘á»™ng cho Ä‘áº¿n khi worker má»›i sáºµn sÃ ng. Má»¥c tiÃªu: thay Ä‘á»•i cáº¥u hÃ¬nh mÃ  khÃ´ng lÃ m giÃ¡n Ä‘oáº¡n dá»‹ch vá»¥ nhiá»u.

* restart

  * Dá»«ng dá»‹ch vá»¥ (stop) rá»“i khá»Ÿi Ä‘á»™ng láº¡i (start) â€” cÃ³ thá»ƒ gÃ¢y máº¥t káº¿t ná»‘i táº¡m thá»i cho client.

* force-reload (náº¿u cÃ³)

  * ThÆ°á»ng lÃ  cá»‘ gáº¯ng cháº¡y reload; náº¿u khÃ´ng há»— trá»£, sáº½ lÃ m restart. HÃ nh vi phá»¥ thuá»™c distro.

---

5. Khi nÃ o nÃªn dÃ¹ng reload?

* Báº¡n sá»­a file cáº¥u hÃ¬nh Apache (vÃ­ dá»¥: /etc/apache2/apache2.conf, cÃ¡c virtual host trong /etc/apache2/sites-available/...) vÃ  muá»‘n Ã¡p dá»¥ng thay Ä‘á»•i ngay.
* ÄÃ£ thÃªm, xÃ³a hoáº·c thay Ä‘á»•i VirtualHost, thÃªm module (má»™t sá»‘ thay Ä‘á»•i module yÃªu cáº§u restart), hoáº·c thay Ä‘á»•i log levels.
* Muá»‘n trÃ¡nh downtime náº¿u cÃ³ thá»ƒ.

LÆ°u Ã½: Nhá»¯ng thay Ä‘á»•i yÃªu cáº§u thay Ä‘á»•i binary hoáº·c module má»›i (vÃ­ dá»¥: cÃ i mod má»›i yÃªu cáº§u táº£i module) cÃ³ thá»ƒ váº«n cáº§n restart.

---

6. Quyá»n vÃ  yÃªu cáº§u

* Cáº§n quyá»n root Ä‘á»ƒ Ä‘iá»u khiá»ƒn dá»‹ch vá»¥ â€” vÃ¬ váº­y thÆ°á»ng dÃ¹ng sudo.
* NgÆ°á»i dÃ¹ng pháº£i thuá»™c nhÃ³m sudoers hoáº·c cháº¡y trá»±c tiáº¿p lÃ  root.

---

7. CÃ¡c lá»‡nh tÆ°Æ¡ng Ä‘Æ°Æ¡ng (systemd):

* systemctl reload apache2
* systemctl restart apache2        (tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i restart)
* systemctl status apache2         (kiá»ƒm tra tráº¡ng thÃ¡i dá»‹ch vá»¥)

TrÃªn má»™t sá»‘ há»‡ (CentOS/RHEL) tÃªn dá»‹ch vá»¥ cÃ³ thá»ƒ lÃ  httpd:

* sudo service httpd reload
* sudo systemctl reload httpd

---

8. Kiá»ƒm tra trÆ°á»›c khi reload (khuyáº¿n nghá»‹)

1) Kiá»ƒm tra cÃº phÃ¡p file cáº¥u hÃ¬nh Apache:

   * sudo apache2ctl configtest
   * Hoáº·c: sudo apachectl -t
   * Náº¿u tráº£ vá» "Syntax OK" thÃ¬ cÃº phÃ¡p há»£p lá»‡.

2) Kiá»ƒm tra thay Ä‘á»•i cá»¥ thá»ƒ (virtual hosts, paths, file permission):

   * Äáº£m báº£o file .conf cÃ³ quyá»n Ä‘á»c cho user cháº¡y Apache (thÆ°á»ng www-data).

3) Xem tráº¡ng thÃ¡i hiá»‡n táº¡i:

   * sudo systemctl status apache2

4) Xem log náº¿u cáº§n:

   * /var/log/apache2/error.log
   * tail -n 50 /var/log/apache2/error.log

---

9. Theo dÃµi sau khi reload

* Kiá»ƒm tra log lá»—i ngay sau khi reload Ä‘á»ƒ phÃ¡t hiá»‡n váº¥n Ä‘á»:

  * tail -f /var/log/apache2/error.log
* Kiá»ƒm tra website chÃ­nh hoáº·c endpoint Ä‘á»ƒ Ä‘áº£m báº£o khÃ´ng cÃ³ lá»—i 500/503.

---

10. CÃ¡c lá»—i thÆ°á»ng gáº·p vÃ  cÃ¡ch kháº¯c phá»¥c nhanh

* Lá»—i: configtest bÃ¡o lá»—i cÃº phÃ¡p (Syntax error)

  * HÃ nh Ä‘á»™ng: sá»­a lá»—i cÃº phÃ¡p (thÆ°á»ng lÃ  thiáº¿u dáº¥u, sai tÃªn directive), cháº¡y láº¡i configtest.

* Lá»—i: permission denied khi Ä‘á»c file config hoáº·c certificate

  * HÃ nh Ä‘á»™ng: kiá»ƒm tra quyá»n sá»Ÿ há»¯u vÃ  permission (chown/chmod) cho file vÃ  thÆ° má»¥c chá»©a.

* Lá»—i: module khÃ´ng tÃ¬m tháº¥y khi dÃ¹ng directive tá»« module

  * HÃ nh Ä‘á»™ng: Ä‘áº£m báº£o module Ä‘Ã£ Ä‘Æ°á»£c enable (a2enmod <modname>) vÃ  khá»Ÿi Ä‘á»™ng láº¡i náº¿u cáº§n.

* Lá»—i: sau reload, site tráº£ 500 hoáº·c khÃ´ng hoáº¡t Ä‘á»™ng

  * HÃ nh Ä‘á»™ng: xem error.log Ä‘á»ƒ biáº¿t nguyÃªn nhÃ¢n; náº¿u khÃ´ng khÃ´i phá»¥c Ä‘Æ°á»£c báº±ng reload, cÃ¢n nháº¯c restart.

---

11. VÃ­ dá»¥ thá»±c táº¿

* Ãp dá»¥ng thay Ä‘á»•i virtual host:

  1. Sá»­a /etc/apache2/sites-available/example.conf
  2. Kiá»ƒm tra cÃº phÃ¡p: sudo apache2ctl configtest
  3. Reload: sudo service apache2 reload
  4. Kiá»ƒm tra log: tail -n 50 /var/log/apache2/error.log

* Khi thÃªm chá»©ng chá»‰ TLS má»›i (cÃ³ thá»ƒ cáº§n restart náº¿u thay Ä‘á»•i module): lÃ m nhÆ° trÃªn, náº¿u lá»—i thÃ¬ dÃ¹ng restart.

---

12. Exit codes vÃ  hÃ nh vi tráº£ vá»

* Lá»‡nh `service ... reload` sáº½ tráº£ vá» mÃ£ exit code; 0 nghÄ©a lÃ  thÃ nh cÃ´ng. MÃ£ khÃ¡c 0 nghÄ©a lÃ  cÃ³ lá»—i (cÃº phÃ¡p, permission, hoáº·c dá»‹ch vá»¥ khÃ´ng cháº¡y Ä‘Æ°á»£c).
* Náº¿u lá»‡nh khÃ´ng in gÃ¬ ra stdout/stderr thÃ¬ kiá»ƒm tra logs Ä‘á»ƒ biáº¿t chi tiáº¿t.

---

13. TÃ³m táº¯t ngáº¯n gá»n (1 cÃ¢u):

* `sudo service apache2 reload` táº£i láº¡i cáº¥u hÃ¬nh Apache báº±ng quyá»n quáº£n trá»‹ mÃ  khÃ´ng khá»Ÿi Ä‘á»™ng láº¡i hoÃ n toÃ n dá»‹ch vá»¥, giÃºp Ã¡p dá»¥ng thay Ä‘á»•i cáº¥u hÃ¬nh vá»›i tá»‘i thiá»ƒu giÃ¡n Ä‘oáº¡n.

---

Báº£n quyá»n: tÃ i liá»‡u nÃ y do báº¡n sao chÃ©p vÃ  sá»­ dá»¥ng. ChÃºc báº¡n thao tÃ¡c an toÃ n!
		
		
		- cmd: sudo mysql -u root
		
			TÃŠN
				sudo mysql -u root
				â€” Ä‘Äƒng nháº­p vÃ o MySQL/MariaDB vá»›i user `root` tá»« terminal trÃªn Linux

			TÃ“M Táº®T (SYNOPSIS)
				mysql [options]
				sudo mysql -u root

			MÃ” Táº¢
				Lá»‡nh `mysql` lÃ  client command-line Ä‘á»ƒ káº¿t ná»‘i vÃ  quáº£n lÃ½ cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL hoáº·c MariaDB. Khi káº¿t há»£p vá»›i `sudo` vÃ  tÃ¹y chá»n `-u root`:

				- `sudo` : cháº¡y lá»‡nh vá»›i quyá»n root trÃªn há»‡ thá»‘ng Linux. Äiá»u nÃ y thÆ°á»ng cáº§n náº¿u user root MySQL Ä‘Æ°á»£c cáº¥u hÃ¬nh sá»­ dá»¥ng `auth_socket` thay vÃ¬ password.
				- `mysql` : client MySQL/MariaDB Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c truy váº¥n SQL, quáº£n lÃ½ database, user, báº£ng, v.v.
				- `-u root` : Ä‘Äƒng nháº­p vá»›i tÃ i khoáº£n user `root` trong MySQL/MariaDB.

			PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
				1) `sudo`
					- Thá»±c thi lá»‡nh vá»›i quyá»n há»‡ thá»‘ng root.
					- Cáº§n thiáº¿t trÃªn cÃ¡c há»‡ thá»‘ng Ubuntu/Debian má»›i, nÆ¡i user root MySQL liÃªn káº¿t vá»›i há»‡ thá»‘ng root (auth_socket plugin).
				2) `mysql`
					- Client command-line Ä‘á»ƒ giao tiáº¿p vá»›i MySQL/MariaDB.
				3) `-u root`
					- ÄÄƒng nháº­p báº±ng tÃ i khoáº£n MySQL root.
					- KhÃ´ng cung cáº¥p `-p`, nÃªn náº¿u user root yÃªu cáº§u password, há»‡ thá»‘ng sáº½ bÃ¡o lá»—i; cÃ³ thá»ƒ thÃªm `-p` Ä‘á»ƒ nháº­p password.

			HOáº T Äá»˜NG Cá»¦A Lá»†NH
				1) Há»‡ thá»‘ng xÃ¡c thá»±c quyá»n root (sudo) trÃªn Linux.
				2) Káº¿t ná»‘i Ä‘áº¿n MySQL server trÃªn localhost.
				3) Má»Ÿ giao diá»‡n command-line cá»§a MySQL Ä‘á»ƒ nháº­p lá»‡nh SQL.
				4) NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ thá»±c hiá»‡n cÃ¡c lá»‡nh nhÆ°:
					- SHOW DATABASES;
					- CREATE DATABASE testdb;
					- CREATE USER 'user'@'localhost' IDENTIFIED BY 'password';
					- GRANT ALL PRIVILEGES ON testdb.* TO 'user'@'localhost';

			Lá»†NH LIÃŠN QUAN
				- mysql -u root -p : Ä‘Äƒng nháº­p vÃ  yÃªu cáº§u nháº­p password.
				- sudo mysql : Ä‘Äƒng nháº­p root MySQL (náº¿u auth_socket).
				- exit hoáº·c quit : thoÃ¡t khá»i MySQL shell.
				- show databases; : liá»‡t kÃª database cÃ³ sáºµn.
				- use <database>; : chá»n database Ä‘á»ƒ thao tÃ¡c.
				- CREATE DATABASE <name>; : táº¡o database má»›i.
				- GRANT ... : phÃ¢n quyá»n user MySQL.

			Máº¸O THá»°C TIá»„N
				1) Kiá»ƒm tra phiÃªn báº£n MySQL:
					mysql --version
				2) Náº¿u root MySQL dÃ¹ng password, thÃªm `-p`:
					sudo mysql -u root -p
				3) ThoÃ¡t khá»i MySQL shell:
					exit
				4) Thá»±c hiá»‡n lá»‡nh SQL trá»±c tiáº¿p tá»« terminal:
					sudo mysql -u root -e "SHOW DATABASES;"
				5) Náº¿u muá»‘n Ä‘Äƒng nháº­p tá»« remote, Ä‘áº£m báº£o MySQL root user Ä‘Æ°á»£c phÃ©p káº¿t ná»‘i tá»« host khÃ¡c.

			LÆ¯U Ã
				- TrÃªn Ubuntu/Debian má»›i, user root MySQL máº·c Ä‘á»‹nh khÃ´ng cÃ³ password vÃ  dÃ¹ng auth_socket plugin, nÃªn cáº§n sudo Ä‘á»ƒ login.
				- TrÃªn CentOS/RHEL, root MySQL cÃ³ thá»ƒ yÃªu cáº§u password.
				- LuÃ´n báº£o máº­t tÃ i khoáº£n root, háº¡n cháº¿ káº¿t ná»‘i trá»±c tiáº¿p tá»« remote.

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- `sudo mysql -u root` Ä‘Äƒng nháº­p MySQL/MariaDB báº±ng user root tá»« terminal.
				- `sudo` cáº§n náº¿u root MySQL dÃ¹ng auth_socket.
				- Sau khi Ä‘Äƒng nháº­p, cÃ³ thá»ƒ thá»±c hiá»‡n táº¥t cáº£ cÃ¡c lá»‡nh quáº£n trá»‹ database.
				- ThÃªm `-p` náº¿u user root yÃªu cáº§u password.

			VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
				# ÄÄƒng nháº­p MySQL root trÃªn Ubuntu/Debian
				sudo mysql -u root

				# ÄÄƒng nháº­p MySQL root vÃ  nháº­p password
				sudo mysql -u root -p

				# Liá»‡t kÃª database
				SHOW DATABASES;

				# Táº¡o database má»›i
				CREATE DATABASE testdb;

				# Táº¡o user má»›i vÃ  phÃ¢n quyá»n
				CREATE USER 'newuser'@'localhost' IDENTIFIED BY 'password';
				GRANT ALL PRIVILEGES ON testdb.* TO 'newuser'@'localhost';
				FLUSH PRIVILEGES;

				# ThoÃ¡t MySQL shell
				exit

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: CREATE DATABASE wordpress;
		
CREATE DATABASE wordpress;

---

MÃ´ táº£ chi tiáº¿t (plain text, sáºµn sÃ ng copy vÃ o file .txt):

1. Ã nghÄ©a ngáº¯n gá»n:
   CÃ¢u lá»‡nh `CREATE DATABASE wordpress;` táº¡o má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u má»›i cÃ³ tÃªn lÃ  `wordpress` trÃªn mÃ¡y chá»§ cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL/MariaDB (hoáº·c cÃ¡c há»‡ quáº£n trá»‹ tÆ°Æ¡ng thÃ­ch SQL khÃ¡c).

2. CÃº phÃ¡p cÆ¡ báº£n:
   CREATE DATABASE database_name;

Trong trÆ°á»ng há»£p nÃ y: database_name = wordpress

3. Giáº£i thÃ­ch thÃ nh pháº§n:

* CREATE DATABASE: lÃ  tá»« khÃ³a cá»§a SQL Ä‘á»ƒ yÃªu cáº§u há»‡ quáº£n trá»‹ táº¡o má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u má»›i.
* wordpress: lÃ  tÃªn do ngÆ°á»i dÃ¹ng Ä‘áº·t cho cÆ¡ sá»Ÿ dá»¯ liá»‡u. TÃªn nÃ y thÆ°á»ng khÃ´ng phÃ¢n biá»‡t chá»¯ hoa/chá»¯ thÆ°á»ng trong MySQL trÃªn há»‡ Ä‘iá»u hÃ nh Linux nhÆ°ng tá»‘t nháº¥t nÃªn giá»¯ nháº¥t quÃ¡n.
* Dáº¥u cháº¥m pháº©y `;` á»Ÿ cuá»‘i: káº¿t thÃºc cÃ¢u lá»‡nh SQL.

4. CÃ¡c tÃ¹y chá»n thÆ°á»ng dÃ¹ng vÃ  biáº¿n thá»ƒ:

* IF NOT EXISTS: trÃ¡nh lá»—i náº¿u cÆ¡ sá»Ÿ dá»¯ liá»‡u Ä‘Ã£ tá»“n táº¡i.
  VÃ­ dá»¥: `CREATE DATABASE IF NOT EXISTS wordpress;`

* Chá»‰ Ä‘á»‹nh bá»™ kÃ½ tá»± (character set) vÃ  há»£p lá»‡ (collation):
  VÃ­ dá»¥: `CREATE DATABASE wordpress CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;`

  * `CHARACTER SET utf8mb4` giÃºp lÆ°u trá»¯ Ä‘áº§y Ä‘á»§ emoji vÃ  kÃ½ tá»± Unicode 4-byte.
  * `COLLATE utf8mb4_unicode_ci` quy Ä‘á»‹nh cÃ¡ch so sÃ¡nh/ sáº¯p xáº¿p chuá»—i.

5. Quyá»n truy cáº­p (after creation):
   Táº¡o database chÆ°a cáº¥p quyá»n cho user. ThÃ´ng thÆ°á»ng cáº§n cháº¡y thÃªm lá»‡nh GRANT Ä‘á»ƒ cáº¥p quyá»n cho tÃ i khoáº£n á»©ng dá»¥ng (vÃ­ dá»¥ user `wpuser`):

GRANT ALL PRIVILEGES ON wordpress.* TO 'wpuser'@'localhost' IDENTIFIED BY 'matkhau';
FLUSH PRIVILEGES;

6. VÃ­ dá»¥ quy trÃ¬nh táº¡o database cho WordPress (MySQL/MariaDB):

* ÄÄƒng nháº­p vÃ o MySQL báº±ng tÃ i khoáº£n root hoáº·c tÃ i khoáº£n cÃ³ quyá»n táº¡o database:
  `sudo mysql -u root -p`
* Táº¡o database:
  `CREATE DATABASE wordpress CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;`
* Táº¡o user vÃ  cáº¥p quyá»n (vÃ­ dá»¥):
  `CREATE USER 'wpuser'@'localhost' IDENTIFIED BY 'StrongPassword123!';`
  `GRANT ALL PRIVILEGES ON wordpress.* TO 'wpuser'@'localhost';`
  `FLUSH PRIVILEGES;`
* ThoÃ¡t:
  `exit`

7. LÆ°u Ã½ & lá»—i thÆ°á»ng gáº·p:

* Lá»—i "ERROR 1007 (HY000): Can't create database 'wordpress'; database exists": xáº£y ra khi database Ä‘Ã£ tá»“n táº¡i. Giáº£i phÃ¡p: dÃ¹ng `IF NOT EXISTS` hoáº·c xÃ³a database cÅ© náº¿u cháº¯c cháº¯n.
* Quyá»n khÃ´ng Ä‘á»§: náº¿u tÃ i khoáº£n khÃ´ng cÃ³ quyá»n CREATE DATABASE, cáº§n dÃ¹ng tÃ i khoáº£n cao hÆ¡n (root) hoáº·c cáº¥p quyá»n thÃ­ch há»£p.
* TÃªn database: trÃ¡nh dÃ¹ng kÃ½ tá»± Ä‘áº·c biá»‡t, khoáº£ng tráº¯ng; nÃªn dÃ¹ng chá»¯, sá»‘ vÃ  dáº¥u gáº¡ch dÆ°á»›i.

8. Báº£o máº­t:

* KhÃ´ng cáº¥p toÃ n quyá»n tá»« xa cho user trá»« khi cáº§n thiáº¿t. Thay `@'localhost'` báº±ng host cá»¥ thá»ƒ hoáº·c `@'%'` náº¿u Ä‘áº£m báº£o báº£o máº­t (khÃ´ng khuyáº¿n khÃ­ch cho mÃ´i trÆ°á»ng production má»Ÿ rá»™ng).
* DÃ¹ng máº­t kháº©u máº¡nh cho user cÆ¡ sá»Ÿ dá»¯ liá»‡u.

9. Kiá»ƒm tra sau khi táº¡o:

* Liá»‡t kÃª databases: `SHOW DATABASES;`
* Chuyá»ƒn sang sá»­ dá»¥ng: `USE wordpress;`
* Kiá»ƒm tra tables (ban Ä‘áº§u rá»—ng): `SHOW TABLES;`

---

Ghi chÃº: Báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ ná»™i dung nÃ y trá»±c tiáº¿p vÃ o file .txt. Náº¿u muá»‘n mÃ¬nh xuáº¥t sáºµn file .txt, bÃ¡o mÃ¬nh biáº¿t vÃ  mÃ¬nh sáº½ táº¡o file Ä‘á»ƒ báº¡n táº£i vá».
		
		
		- cmd: show databases;
		
SHOW DATABASES;

MÃ” Táº¢ NGáº®N (1 cÃ¢u):
Lá»‡nh SQL dÃ¹ng trong MySQL/MariaDB Ä‘á»ƒ liá»‡t kÃª cÃ¡c cÆ¡ sá»Ÿ dá»¯ liá»‡u mÃ  ngÆ°á»i dÃ¹ng hiá»‡n táº¡i cÃ³ thá»ƒ tháº¥y.

CÃš PHÃP (plain text, copy vÃ o .txt):
SHOW DATABASES;
SHOW DATABASES LIKE 'pattern';
SHOW DATABASES WHERE <expression>;

Gá»¬I Lá»†NH (vÃ­ dá»¥ thá»±c thi tá»« shell):
mysql -u username -p

# trong mysql> prompt:

SHOW DATABASES;

Hoáº·c cháº¡y trá»±c tiáº¿p tá»« shell vÃ  lÆ°u vÃ o file:
mysql -u username -p -e "SHOW DATABASES;" > danh_sach_databases.txt

GIáº¢I THÃCH CHI TIáº¾T Tá»ªNG PHáº¦N:

* SHOW DATABASES;
  Liá»‡t kÃª tÃªn táº¥t cáº£ cÃ¡c cÆ¡ sá»Ÿ dá»¯ liá»‡u mÃ  ngÆ°á»i dÃ¹ng hiá»‡n táº¡i cÃ³ thá»ƒ tháº¥y (khÃ´ng nháº¥t thiáº¿t lÃ  táº¥t cáº£ cÆ¡ sá»Ÿ dá»¯ liá»‡u trÃªn server náº¿u ngÆ°á»i dÃ¹ng khÃ´ng cÃ³ quyá»n xem toÃ n bá»™).

* SHOW DATABASES LIKE 'pattern';
  Lá»c káº¿t quáº£ theo máº«u (pattern) giá»‘ng nhÆ° cÃº phÃ¡p cá»§a LIKE trong SQL. VÃ­ dá»¥: LIKE 'test%' sáº½ chá»‰ hiá»ƒn thá»‹ cÃ¡c database báº¯t Ä‘áº§u báº±ng "test".

* SHOW DATABASES WHERE <expression>;
  Cho phÃ©p lá»c nÃ¢ng cao báº±ng Ä‘iá»u kiá»‡n (vÃ­ dá»¥: WHERE `Database` = 'mydb'). LÆ°u Ã½: cÃº phÃ¡p WHERE trong SHOW DATABASES cÃ³ thá»ƒ phá»¥ thuá»™c phiÃªn báº£n server; cÃ¡c phiÃªn báº£n hiá»‡n Ä‘áº¡i cá»§a MySQL/MariaDB thÆ°á»ng há»— trá»£.

QUYá»€N TRUY Cáº¬P (Æ°u tiÃªn Ä‘á»c):

* NgÆ°á»i dÃ¹ng cÃ³ quyá»n toÃ n cá»¥c SHOW DATABASES (GLOBAL) hoáº·c quyá»n cao hÆ¡n sáº½ tháº¥y táº¥t cáº£ databases.
* Náº¿u ngÆ°á»i dÃ¹ng **khÃ´ng** cÃ³ quyá»n Ä‘Ã³, server sáº½ chá»‰ tráº£ vá» danh sÃ¡ch cÃ¡c databases mÃ  ngÆ°á»i dÃ¹ng cÃ³ Ã­t nháº¥t má»™t quyá»n (vÃ­ dá»¥: SELECT, INSERT, CREATE, GRANT...) trÃªn database Ä‘Ã³.
* VÃ¬ tháº¿ káº¿t quáº£ phá»¥ thuá»™c vÃ o quyá»n cá»§a user Ä‘ang káº¿t ná»‘i.

Káº¾T QUáº¢ MáºªU (Ä‘áº§u ra vÃ­ dá»¥):
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
| myapp_db           |
+--------------------+

GHI CHÃš THá»°C TIá»„N & Máº¸O:

* Náº¿u muá»‘n chá»‰ hiá»ƒn thá»‹ tÃªn (má»™t cá»™t) vÃ  dá»… copy vÃ o file .txt, dÃ¹ng tuá»³ chá»n -N cá»§a mysql client Ä‘á»ƒ bá» header:
  mysql -u username -p -N -e "SHOW DATABASES;" > databases_plain.txt

* Äá»ƒ kiá»ƒm tra chi tiáº¿t hÆ¡n (khi khÃ´ng hiá»‡n ra database báº¡n mong Ä‘á»£i): kiá»ƒm tra quyá»n cá»§a user báº±ng SHOW GRANTS FOR 'user'@'host';

* Má»™t sá»‘ GUI database client (MySQL Workbench, phpMyAdmin) gá»i cÃ¹ng má»™t lá»‡nh Ä‘áº±ng sau giao diá»‡n Ä‘á»ƒ liá»‡t kÃª databases; náº¿u khÃ´ng tháº¥y database trong GUI, ráº¥t cÃ³ thá»ƒ do quyá»n háº¡n.

CÃC Lá»†NH LIÃŠN QUAN:

* SHOW SCHEMAS;  -- Ä‘á»“ng nghÄ©a (database vÃ  schema thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng thay tháº¿ nhau trong MySQL)
* SHOW GRANTS FOR CURRENT_USER;  -- kiá»ƒm tra quyá»n cá»§a user
* SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA;  -- cÃ¡ch khÃ¡c Ä‘á»ƒ truy váº¥n danh sÃ¡ch databases (cÃ³ thá»ƒ dÃ¹ng WHERE á»Ÿ Ä‘Ã¢y dá»… dÃ ng)

LÆ¯U Ã Báº¢O Máº¬T:

* TrÃ¡nh Ä‘á»ƒ file chá»©a káº¿t quáº£ SHOW DATABASES cÃ³ quyá»n Ä‘á»c cÃ´ng khai náº¿u nÃ³ tiáº¿t lá»™ cáº¥u trÃºc hoáº·c tÃªn database nháº¡y cáº£m.

PHá»¤ Lá»¤C â€” CÃC TÃŒNH HUá»NG THÆ¯á»œNG Gáº¶P:

1. "KhÃ´ng tháº¥y database tÃ´i vá»«a táº¡o": cÃ³ thá»ƒ do báº¡n Ä‘ang Ä‘Äƒng nháº­p báº±ng user khÃ¡c; hoáº·c database Ä‘Æ°á»£c táº¡o nhÆ°ng báº¡n chÆ°a cÃ³ quyá»n.
2. "Chá»‰ tháº¥y 1 sá»‘ database": bÃ¬nh thÆ°á»ng náº¿u user khÃ´ng cÃ³ quyá»n global SHOW DATABASES.

---

Tá»‡p nÃ y Ä‘Æ°á»£c Ä‘á»‹nh dáº¡ng plain text Ä‘á»ƒ báº¡n cÃ³ thá»ƒ sao chÃ©p tháº³ng vÃ o file .txt.
		
		
		- cmd: CREATE USER wordpress@localhost IDENTIFIED BY 'admin123';
		
---

## TIÃŠU Äá»€: Giáº£i thÃ­ch chi tiáº¿t: CREATE USER 'wordpress'@'localhost' IDENTIFIED BY 'admin123';

1. CÃ¢u lá»‡nh (má»™t dÃ²ng, sáºµn Ä‘á»ƒ dÃ¡n):

CREATE USER 'wordpress'@'localhost' IDENTIFIED BY 'admin123';

2. Má»¥c Ä‘Ã­ch chung:

Táº¡o má»™t tÃ i khoáº£n (user) má»›i trong MySQL/MariaDB tÃªn lÃ  `wordpress` chá»‰ Ä‘Æ°á»£c phÃ©p Ä‘Äƒng nháº­p tá»« `localhost` (mÃ¡y chá»§ cá»¥c bá»™) vÃ  thiáº¿t láº­p máº­t kháº©u cá»§a tÃ i khoáº£n Ä‘Ã³ lÃ  `admin123`.

3. PhÃ¢n tÃ­ch cÃº phÃ¡p tá»«ng pháº§n:

* `CREATE USER` : cÃ¢u lá»‡nh SQL Ä‘á»ƒ táº¡o user má»›i trong há»‡ quáº£n trá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL/MariaDB.

* `'wordpress'@'localhost'` :

  * Pháº§n trÆ°á»›c kÃ½ tá»± `@` (tá»©c `wordpress`) lÃ  **tÃªn user**. LuÃ´n Ä‘áº·t trong dáº¥u nhÃ¡y Ä‘Æ¡n khi cÃ³ kháº£ nÄƒng chá»©a kÃ½ tá»± Ä‘áº·c biá»‡t.
  * Pháº§n sau `@` (tá»©c `localhost`) chá»‰ **host** cho phÃ©p káº¿t ná»‘i. `localhost` nghÄ©a lÃ  user nÃ y chá»‰ cÃ³ thá»ƒ káº¿t ná»‘i tá»« chÃ­nh mÃ¡y chá»§ MySQL (khÃ´ng cho phÃ©p remote). Báº¡n cÅ©ng cÃ³ thá»ƒ dÃ¹ng `'wordpress'@'127.0.0.1'` hoáº·c `'wordpress'@'%'` (cho phÃ©p má»i host â€” **khÃ´ng an toÃ n** náº¿u khÃ´ng cáº¥u hÃ¬nh thÃªm).

* `IDENTIFIED BY 'admin123'` : Ä‘áº·t máº­t kháº©u cho user báº±ng `admin123`. Máº­t kháº©u pháº£i Ä‘áº·t trong dáº¥u nhÃ¡y Ä‘Æ¡n.

4. LÆ°u Ã½ vá» dáº¥u nhÃ¡y vÃ  cÃ¡ch gÃµ:

* LuÃ´n dÃ¹ng dáº¥u nhÃ¡y Ä‘Æ¡n (') cho tÃªn user/host vÃ  máº­t kháº©u trong MySQL.
* Náº¿u cháº¡y lá»‡nh tá»« shell (command line), khi bá»c toÃ n bá»™ cÃ¢u SQL trong dáº¥u ngoáº·c kÃ©p cá»§a shell, nhá»› escape hoáº·c dÃ¹ng dáº¥u ngoáº·c kÃ©p há»£p lÃ½. VÃ­ dá»¥:
  mysql -u root -p -e "CREATE USER 'wordpress'@'localhost' IDENTIFIED BY 'admin123';"

5. Quyá»n cáº§n thiáº¿t Ä‘á»ƒ thá»±c hiá»‡n cÃ¢u lá»‡nh nÃ y:

* Báº¡n pháº£i cÃ³ Ä‘áº·c quyá»n `CREATE USER` hoáº·c quyá»n `GRANT OPTION` / quyá»n quáº£n trá»‹ (thÆ°á»ng lÃ  root hoáº·c má»™t user cÃ³ quyá»n tÆ°Æ¡ng Ä‘Æ°Æ¡ng) Ä‘á»ƒ táº¡o user má»›i.

6. Sau khi táº¡o user, báº¡n váº«n cáº§n **cáº¥p quyá»n** cho user trÃªn database cá»¥ thá»ƒ Ä‘á»ƒ user thá»±c sá»± lÃ m viá»‡c (vÃ­ dá»¥: database `wordpress`). VÃ­ dá»¥ phá»• biáº¿n:

CREATE DATABASE IF NOT EXISTS wordpress;
GRANT ALL PRIVILEGES ON wordpress.* TO 'wordpress'@'localhost';
FLUSH PRIVILEGES;

Giáº£i thÃ­ch:

* `CREATE DATABASE IF NOT EXISTS wordpress;` â€” táº¡o database náº¿u chÆ°a cÃ³.
* `GRANT ALL PRIVILEGES ON wordpress.* TO 'wordpress'@'localhost';` â€” cáº¥p táº¥t cáº£ quyá»n trÃªn má»i báº£ng cá»§a database `wordpress` cho user vá»«a táº¡o.
* `FLUSH PRIVILEGES;` â€” náº¡p láº¡i báº£ng quyá»n (thÆ°á»ng khÃ´ng báº¯t buá»™c náº¿u dÃ¹ng `CREATE USER`/`GRANT` má»›i, nhÆ°ng váº«n hay tháº¥y dÃ¹ng).

7. Kiá»ƒm tra user vÃ  quyá»n:

* Liá»‡t kÃª user trong mysql.user (cáº§n quyá»n root):
  SELECT User, Host FROM mysql.user WHERE User = 'wordpress';

* Xem quyá»n Ä‘Ã£ cáº¥p cho user nÃ y:
  SHOW GRANTS FOR 'wordpress'@'localhost';

8. XÃ³a user (náº¿u cáº§n):

DROP USER 'wordpress'@'localhost';

9. Nhá»¯ng lÆ°u Ã½ báº£o máº­t vÃ  best practices:

* **KHÃ”NG** dÃ¹ng máº­t kháº©u yáº¿u nhÆ° `admin123` trÃªn mÃ´i trÆ°á»ng production. HÃ£y dÃ¹ng máº­t kháº©u máº¡nh, dÃ i vÃ  duy nháº¥t cho DB.
* Náº¿u á»©ng dá»¥ng (WordPress) cháº¡y trÃªn cÃ¹ng má»™t mÃ¡y chá»§ vá»›i MySQL, dÃ¹ng `'wordpress'@'localhost'` lÃ  há»£p lÃ½.
* Náº¿u á»©ng dá»¥ng cháº¡y trÃªn server khÃ¡c, chá»‰ Ä‘á»‹nh Ä‘á»‹a chá»‰ IP hoáº·c host cá»¥ thá»ƒ thay vÃ¬ `%` Ä‘á»ƒ háº¡n cháº¿ truy cáº­p.
* Xem xÃ©t dÃ¹ng user vá»›i **quyá»n tá»‘i thiá»ƒu cáº§n thiáº¿t** â€” vÃ­ dá»¥ cho WordPress, báº¡n cÃ³ thá»ƒ cáº§n `SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER` chá»© khÃ´ng nháº¥t thiáº¿t cáº¥p `SUPER`.
* TrÃ¡nh chia sáº» máº­t kháº©u á»Ÿ nÆ¡i cÃ´ng khai.

10. PhiÃªn báº£n MySQL / khÃ¡c biá»‡t plugin xÃ¡c thá»±c:

* TÃ¹y phiÃªn báº£n MySQL/MariaDB, phÆ°Æ¡ng thá»©c xÃ¡c thá»±c máº·c Ä‘á»‹nh cÃ³ thá»ƒ khÃ¡c (vÃ­ dá»¥ `caching_sha2_password` trÃªn MySQL 8). `IDENTIFIED BY 'pwd'` váº«n hoáº¡t Ä‘á»™ng, nhÆ°ng náº¿u cáº§n plugin cá»¥ thá»ƒ cÃ³ thá»ƒ dÃ¹ng `IDENTIFIED WITH 'mysql_native_password' BY 'pwd'`.

11. VÃ­ dá»¥ cháº¡y thá»±c táº¿ tá»« shell (dÃ¹ng user root):

mysql -u root -p

# (nháº­p máº­t kháº©u root)

mysql> CREATE USER 'wordpress'@'localhost' IDENTIFIED BY 'StrongP@ssw0rd!';
mysql> CREATE DATABASE wordpress;
mysql> GRANT ALL PRIVILEGES ON wordpress.* TO 'wordpress'@'localhost';
mysql> FLUSH PRIVILEGES;

12. TÃ³m táº¯t ngáº¯n (copy nhanh):

CREATE USER 'wordpress'@'localhost' IDENTIFIED BY 'admin123';

---

Háº¿t.
		
		
		- cmd: GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost;
		
== Giáº£i thÃ­ch chi tiáº¿t: GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost; ==

LÆ°u Ã½: tá»‡p nÃ y á»Ÿ dáº¡ng plain text (khÃ´ng dÃ¹ng Ä‘Ã¡nh dáº¥u phá»©c táº¡p) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ o file .txt.
(Trong giao diá»‡n, báº¡n cÃ³ thá»ƒ nháº¥n nÃºt sao chÃ©p / Copy Ä‘á»ƒ copy toÃ n bá»™ ná»™i dung.)

---

1. CÃ¢u lá»‡nh Ä‘áº§y Ä‘á»§ (nhÆ° báº¡n Ä‘Æ°a):

GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost;

---

2. Má»¥c Ä‘Ã­ch ngáº¯n gá»n:

* Lá»‡nh nÃ y gÃ¡n má»™t táº­p cÃ¡c quyá»n (privileges) cho má»™t user MySQL (wordPress@localhost) trÃªn toÃ n bá»™ cÃ¡c báº£ng cá»§a cÆ¡ sá»Ÿ dá»¯ liá»‡u `wordpress`. Sau khi thá»±c hiá»‡n, user Ä‘Ã³ cÃ³ thá»ƒ Ä‘á»c, ghi, thay Ä‘á»•i cáº¥u trÃºc vÃ  táº¡o/xÃ³a báº£ng trong database `wordpress`.

---

3. PhÃ¢n tÃ­ch thÃ nh pháº§n (tá»«ng pháº§n):

* GRANT

  * Tá»« khÃ³a MySQL Ä‘á»ƒ cáº¥p quyá»n cho user.

* SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER

  * Danh sÃ¡ch cÃ¡c quyá»n Ä‘Æ°á»£c cáº¥p, ngÄƒn cÃ¡ch báº±ng dáº¥u pháº©y:

    * SELECT: phÃ©p Ä‘á»c dá»¯ liá»‡u (SELECT queries).
    * INSERT: phÃ©p chÃ¨n báº£n ghi má»›i (INSERT INTO).
    * UPDATE: phÃ©p cáº­p nháº­t báº£n ghi (UPDATE ... SET ...).
    * DELETE: phÃ©p xÃ³a báº£n ghi (DELETE FROM ...).
    * CREATE: phÃ©p táº¡o báº£ng hoáº·c database (CREATE TABLE, CREATE DATABASE) â€” trÃªn scope database nÃ y, cho phÃ©p táº¡o báº£ng má»›i.
    * DROP: phÃ©p xÃ³a báº£ng hoáº·c database (DROP TABLE) â€” trÃªn scope database nÃ y, cho phÃ©p xÃ³a báº£ng.
    * ALTER: phÃ©p thay Ä‘á»•i cáº¥u trÃºc báº£ng (ALTER TABLE).

* ON wordpress.*

  * XÃ¡c Ä‘á»‹nh pháº¡m vi (scope) cá»§a cÃ¡c quyá»n: á»Ÿ Ä‘Ã¢y lÃ  má»i báº£ng (`*`) trong cÆ¡ sá»Ÿ dá»¯ liá»‡u (database) cÃ³ tÃªn `wordpress`.
  * CÃº phÃ¡p chung: ON <database>.<table>  â€” cÃ³ thá»ƒ dÃ¹ng `wordpress.*` (má»i báº£ng cá»§a database wordpress) hoáº·c `wordpress.posts` (báº£ng cá»¥ thá»ƒ).

* TO wordpress@localhost

  * XÃ¡c Ä‘á»‹nh user vÃ  host nháº­n quyá»n.
  * Tuy nhiÃªn: trong MySQL Ä‘Ãºng chuáº©n, user vÃ  host pháº£i Ä‘Æ°á»£c Ä‘áº·t trong dáº¥u nhÃ¡y Ä‘Æ¡n vÃ  phÃ¢n tÃ¡ch bá»Ÿi kÃ½ tá»± @, tá»©c lÃ : 'wordpress'@'localhost'. KhÃ´ng cÃ³ dáº¥u nhÃ¡y Ä‘Ã´i hoáº·c backticks. Viá»‡c viáº¿t khÃ´ng cÃ³ dáº¥u nhÃ¡y (nhÆ° báº¡n Ä‘Æ°a) cÃ³ thá»ƒ gÃ¢y lá»—i cÃº phÃ¡p trÃªn cÃ¡c phiÃªn báº£n MySQL/MariaDB.

---

4. Ghi chÃº vá» cÃº phÃ¡p chÃ­nh xÃ¡c (khuyáº¿n nghá»‹)

* VÃ­ dá»¥ chÃ­nh xÃ¡c hÆ¡n (thÃ´ng dá»¥ng):

  * GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON `wordpress`.* TO 'wordpress'@'localhost';

* Náº¿u user chÆ°a tá»“n táº¡i, tá»‘t nháº¥t táº¡o user trÆ°á»›c:

  1. CREATE USER 'wordpress'@'localhost' IDENTIFIED BY 'máº­t_kháº©u_máº¡nh';
  2. GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON `wordpress`.* TO 'wordpress'@'localhost';

* Hoáº·c (trong má»™t sá»‘ phiÃªn báº£n cÅ©) báº¡n cÃ³ thá»ƒ dÃ¹ng GRANT ... IDENTIFIED BY '...' Ä‘á»ƒ vá»«a táº¡o user vá»«a Ä‘áº·t máº­t kháº©u, nhÆ°ng cÃ¡ch nÃ y Ä‘Ã£ khÃ´ng Ä‘Æ°á»£c khuyáº¿n nghá»‹ trÃªn cÃ¡c phiÃªn báº£n MySQL hiá»‡n Ä‘áº¡i â€” prefer dÃ¹ng CREATE USER.

---

5. Hiá»‡u lá»±c ngay láº­p tá»©c vÃ  FLUSH PRIVILEGES

* Khi báº¡n dÃ¹ng GRANT, MySQL sáº½ cáº­p nháº­t báº£ng quyá»n ná»™i bá»™ vÃ  Ã¡p dá»¥ng ngay â€” báº¡n **khÃ´ng** cáº§n cháº¡y FLUSH PRIVILEGES; GRANT tá»± xá»­ lÃ½ viá»‡c nÃ y.

---

6. Kiá»ƒm tra quyá»n Ä‘Ã£ cáº¥p

* Kiá»ƒm tra quyá»n cá»§a user:

  * SHOW GRANTS FOR 'wordpress'@'localhost';

* Kiá»ƒm tra user Ä‘Ã£ tá»“n táº¡i trong mysql.user (cáº©n tháº­n trÃªn MySQL 8 do cáº¥u trÃºc khÃ¡c):

  * SELECT User, Host FROM mysql.user WHERE User = 'wordpress';

---

7. Nhá»¯ng rá»§i ro & best practices (báº£o máº­t)

* NguyÃªn táº¯c quyá»n tá»‘i thiá»ƒu (least privilege): chá»‰ cáº¥p nhá»¯ng quyá»n tháº­t cáº§n thiáº¿t. Quyá»n nhÆ° DROP/CREATE/ALTER cho phÃ©p thay Ä‘á»•i cáº¥u trÃºc cÆ¡ sá»Ÿ dá»¯ liá»‡u â€” náº¿u á»©ng dá»¥ng chá»‰ cáº§n Ä‘á»c/ghi dá»¯ liá»‡u, cÃ¢n nháº¯c khÃ´ng cáº¥p DROP/ALTER.

* KhÃ´ng cáº¥p ALL PRIVILEGES náº¿u khÃ´ng cáº§n thiáº¿t.

* Sá»­ dá»¥ng host giá»›i háº¡n ('localhost') Ä‘á»ƒ chá»‰ cho phÃ©p káº¿t ná»‘i tá»« cÃ¹ng mÃ¡y chá»§ â€” háº¡n cháº¿ truy cáº­p tá»« xa.

* LuÃ´n Ä‘áº·t máº­t kháº©u máº¡nh cho user vÃ  khÃ´ng dÃ¹ng user root cho á»©ng dá»¥ng.

* Kiá»ƒm tra Ä‘á»‹nh ká»³: SHOW GRANTS vÃ  audit logs.

---

8. VÃ­ dá»¥ thá»±c táº¿ cho WordPress (thÃ´ng dá»¥ng)

9. Táº¡o database (náº¿u chÆ°a cÃ³):

   * CREATE DATABASE `wordpress` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

10. Táº¡o user:

    * CREATE USER 'wordpress'@'localhost' IDENTIFIED BY 'StrongPasswordHere!2025';

11. Cáº¥p quyá»n cáº§n thiáº¿t (Ã­t hÆ¡n, an toÃ n hÆ¡n):

    * GRANT SELECT, INSERT, UPDATE, DELETE ON `wordpress`.* TO 'wordpress'@'localhost';
    * Náº¿u báº¡n cháº¯c cháº¯n á»©ng dá»¥ng cáº§n táº¡o/bá» báº£ng (thÃ´ng thÆ°á»ng khÃ´ng cáº§n trÃªn production), má»›i thÃªm CREATE,DROP,ALTER.

12. Kiá»ƒm tra:

    * SHOW GRANTS FOR 'wordpress'@'localhost';

---

9. LÃ m tháº¿ nÃ o Ä‘á»ƒ thu há»“i quyá»n (revoke)

* Äá»ƒ thu há»“i má»™t hoáº·c nhiá»u quyá»n:

  * REVOKE CREATE, DROP, ALTER ON `wordpress`.* FROM 'wordpress'@'localhost';

* Hoáº·c thu há»“i toÃ n bá»™ quyá»n:

  * REVOKE ALL PRIVILEGES, GRANT OPTION FROM 'wordpress'@'localhost';

---

10. Lá»—i thÆ°á»ng gáº·p vÃ  cÃ¡ch kháº¯c phá»¥c

* Lá»—i cÃº phÃ¡p do thiáº¿u dáº¥u nhÃ¡y:

  * Sá»­a láº¡i user thÃ nh 'wordpress'@'localhost'.

* Lá»—i: user khÃ´ng tá»“n táº¡i khi dÃ¹ng SHOW GRANTS

  * Táº¡o user trÆ°á»›c báº±ng CREATE USER.

* Lá»—i: khÃ´ng cÃ³ quyá»n Ä‘á»ƒ GRANT

  * Báº¡n cáº§n quyá»n GRANT OPTION hoáº·c quyá»n cao hÆ¡n (thÆ°á»ng lÃ  root). DÃ¹ng tÃ i khoáº£n admin Ä‘á»ƒ cháº¡y GRANT.

---

11. TÃ³m táº¯t ngáº¯n gá»n (1 cÃ¢u):

* CÃ¢u lá»‡nh cáº¥p cho user `wordpress@localhost` má»™t táº­p quyá»n (SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, ALTER) trÃªn má»i báº£ng cá»§a database `wordpress`; cÃº phÃ¡p Ä‘Ãºng cáº§n Ä‘áº·t user trong dáº¥u nhÃ¡y Ä‘Æ¡n: 'wordpress'@'localhost' vÃ  thÆ°á»ng nÃªn táº¡o user trÆ°á»›c báº±ng CREATE USER.

---

Báº£n quyá»n: tÃ i liá»‡u nÃ y do báº¡n sao chÃ©p vÃ  sá»­ dá»¥ng. Náº¿u báº¡n muá»‘n mÃ¬nh chuyá»ƒn sang tiáº¿ng Anh, tá»‘i giáº£n chá»‰ cÃ²n dÃ²ng lá»‡nh, hoáº·c thÃªm vÃ­ dá»¥ vá» Docker / remote host, mÃ¬nh sáº½ cáº­p nháº­t ngay.
		
		
		- cmd: FLUSH PRIVILEGES;
		
FLUSH PRIVILEGES;

---

MÃ´ táº£ chi tiáº¿t (plain text, sáºµn sÃ ng copy vÃ o file .txt):

1. Ã nghÄ©a ngáº¯n gá»n:
   Lá»‡nh `FLUSH PRIVILEGES;` trong MySQL/MariaDB yÃªu cáº§u mÃ¡y chá»§ cÆ¡ sá»Ÿ dá»¯ liá»‡u náº¡p láº¡i (reload) cÃ¡c báº£ng quyá»n (privilege tables) tá»« cÆ¡ sá»Ÿ dá»¯ liá»‡u ná»™i bá»™ (`mysql` database) vÃ o bá»™ nhá»›. NÃ³i cÃ¡ch khÃ¡c, nÃ³ lÃ m cho má»i thay Ä‘á»•i thá»§ cÃ´ng trong cÃ¡c báº£ng quyá»n cÃ³ hiá»‡u lá»±c ngay láº­p tá»©c.

2. Khi nÃ o cáº§n dÃ¹ng:

* Khi báº¡n **sá»­a trá»±c tiáº¿p** cÃ¡c báº£ng trong cÆ¡ sá»Ÿ dá»¯ liá»‡u `mysql` (vÃ­ dá»¥ `mysql.user`, `mysql.db`, `mysql.tables_priv`) báº±ng cÃ¡c cÃ¢u lá»‡nh `INSERT`, `UPDATE`, `DELETE` hoáº·c thao tÃ¡c thá»§ cÃ´ng khÃ¡c thay vÃ¬ dÃ¹ng cÃ¡c cÃ¢u lá»‡nh quáº£n trá»‹ quyá»n (GRANT/REVOKE/CREATE USER).
* Khi báº¡n muá»‘n cháº¯c cháº¯n ráº±ng cÃ¡c thay Ä‘á»•i Ä‘Ã£ Ä‘Æ°á»£c náº¡p láº¡i ngay láº­p tá»©c.

3. Khi khÃ´ng cáº§n dÃ¹ng:

* Náº¿u báº¡n dÃ¹ng cÃ¡c cÃ¢u lá»‡nh `GRANT`, `REVOKE`, `CREATE USER`, `DROP USER` â€” nhá»¯ng lá»‡nh nÃ y **tá»± Ä‘á»™ng** cáº­p nháº­t cÃ¡c quyá»n vÃ  lÃ m cho chÃºng cÃ³ hiá»‡u lá»±c ngay láº­p tá»©c, nÃªn thÃ´ng thÆ°á»ng khÃ´ng cáº§n gá»i `FLUSH PRIVILEGES;` sau Ä‘Ã³.

4. CÃº phÃ¡p:

```
FLUSH PRIVILEGES;
```

LÆ°u Ã½: CÃ³ thá»ƒ viáº¿t khÃ´ng phÃ¢n biá»‡t chá»¯ hoa/chá»¯ thÆ°á»ng vÃ  cáº§n dáº¥u cháº¥m pháº©y `;` á»Ÿ cuá»‘i khi cháº¡y trong client MySQL.

5. Giáº£i thÃ­ch ká»¹ thuáº­t ngáº¯n gá»n:
   MySQL/MariaDB lÆ°u cÃ¡c báº£ng quyá»n (nhÆ° `mysql.user`) trong cÆ¡ sá»Ÿ dá»¯ liá»‡u ná»™i bá»™. Äá»ƒ tá»‘i Æ°u hiá»‡u nÄƒng, mÃ¡y chá»§ náº¡p má»™t báº£n sao (cache) nhá»¯ng thÃ´ng tin nÃ y vÃ o bá»™ nhá»› khi khá»Ÿi Ä‘á»™ng. `FLUSH PRIVILEGES;` buá»™c server bá» báº£n sao hiá»‡n táº¡i vÃ  náº¡p láº¡i tá»« cÃ¡c báº£ng trÃªn Ä‘Ä©a, Ã¡p dá»¥ng ngay cÃ¡c thay Ä‘á»•i thá»§ cÃ´ng.

6. VÃ­ dá»¥ thá»±c táº¿:

* TrÆ°á»ng há»£p 1 - Thay Ä‘á»•i thá»§ cÃ´ng:

  * BÆ°á»›c 1: ÄÄƒng nháº­p báº±ng root: `sudo mysql -u root -p`
  * BÆ°á»›c 2: Cáº­p nháº­t báº£ng mysql.user thá»§ cÃ´ng (KHÃ”NG khuyáº¿n nghá»‹ trá»« khi báº¡n biáº¿t rÃµ):
    `UPDATE mysql.user SET authentication_string = PASSWORD('newpass') WHERE User = 'wpuser' AND Host = 'localhost';`
  * BÆ°á»›c 3: Náº¡p láº¡i quyá»n Ä‘á»ƒ thay Ä‘á»•i cÃ³ hiá»‡u lá»±c:
    `FLUSH PRIVILEGES;`

* TrÆ°á»ng há»£p 2 - DÃ¹ng GRANT (khÃ´ng cáº§n FLUSH):
  `GRANT ALL PRIVILEGES ON wordpress.* TO 'wpuser'@'localhost' IDENTIFIED BY 'StrongPassword!';`
  -> Quyá»n cÃ³ hiá»‡u lá»±c ngay láº­p tá»©c; khÃ´ng cáº§n `FLUSH PRIVILEGES;`.

7. CÃ¡c biáº¿n thá»ƒ & lá»‡nh liÃªn quan:

* `FLUSH PRIVILEGES;` lÃ  lá»‡nh chuyÃªn dá»¥ng cho náº¡p láº¡i quyá»n.
* CÃ³ cÃ¡c lá»‡nh `FLUSH` khÃ¡c (vÃ­ dá»¥ `FLUSH TABLES;`, `FLUSH STATUS;`) phá»¥c vá»¥ má»¥c Ä‘Ã­ch khÃ¡c nhau.
* Báº¡n cÃ³ thá»ƒ dÃ¹ng cÃ´ng cá»¥ `mysqladmin reload` (tá»« shell) nhÆ° má»™t cÃ¡ch khÃ¡c Ä‘á»ƒ náº¡p láº¡i cÃ¡c file cáº¥u hÃ¬nh/privileges tÃ¹y phiÃªn báº£n, vÃ­ dá»¥:
  `sudo mysqladmin -u root -p reload`
  NhÆ°ng thÃ´ng thÆ°á»ng trong MySQL client, dÃ¹ng `FLUSH PRIVILEGES;` lÃ  chuáº©n.

8. Quyá»n cáº§n thiáº¿t Ä‘á»ƒ thá»±c hiá»‡n:

* NgÆ°á»i thá»±c hiá»‡n `FLUSH PRIVILEGES;` cáº§n quyá»n `RELOAD` hoáº·c pháº£i lÃ  user cÃ³ quyá»n cao nhÆ° `root`.
* Náº¿u tÃ i khoáº£n khÃ´ng cÃ³ quyá»n, báº¡n sáº½ nháº­n lá»—i nhÆ° "Access denied; you need (at least one of) the RELOAD privilege(s) for this operation".

9. CÃ¡c lÆ°u Ã½ an toÃ n & thá»±c hÃ nh tá»‘t:

* Háº¡n cháº¿ chá»‰nh sá»­a trá»±c tiáº¿p cÃ¡c báº£ng trong `mysql`. DÃ¹ng `CREATE USER`, `ALTER USER`, `GRANT`, `REVOKE` Ä‘á»ƒ trÃ¡nh sai sÃ³t.
* TrÆ°á»›c khi chá»‰nh sá»­a thá»§ cÃ´ng, sao lÆ°u cÃ¡c báº£ng quyá»n:
  `SELECT * FROM mysql.user INTO OUTFILE '/tmp/mysql_user_backup.sql';` (hoáº·c dÃ¹ng `mysqldump mysql user > mysql_user.sql`).
* Kiá»ƒm tra ká»¹ sau khi `FLUSH PRIVILEGES;` báº±ng cÃ¡ch thá»­ Ä‘Äƒng nháº­p hoáº·c dÃ¹ng `SHOW GRANTS FOR 'username'@'host';`.

10. Lá»—i thÆ°á»ng gáº·p vÃ  cÃ¡ch xá»­ lÃ½:

* Lá»—i quyá»n: náº¿u tháº¥y lá»—i liÃªn quan RELOAD, hÃ£y dÃ¹ng tÃ i khoáº£n root hoáº·c user cÃ³ quyá»n RELOAD.
* Thay Ä‘á»•i khÃ´ng cÃ³ hiá»‡u lá»±c: kiá»ƒm tra báº¡n Ä‘Ã£ sá»­a Ä‘Ãºng báº£ng, Ä‘Ãºng user/host; sau Ä‘Ã³ cháº¡y `FLUSH PRIVILEGES;` vÃ  kiá»ƒm tra láº¡i.

11. VÃ­ dá»¥ ngáº¯n Ä‘á»ƒ copy trá»±c tiáº¿p vÃ o file .txt:

```
# Táº¡o thay Ä‘á»•i thá»§ cÃ´ng (vÃ­ dá»¥ thay Ä‘á»•i máº­t kháº©u trong báº£ng mysql.user)
UPDATE mysql.user SET authentication_string = PASSWORD('NewPass123!') WHERE User = 'wpuser' AND Host = 'localhost';

# Náº¡p láº¡i cÃ¡c báº£ng quyá»n Ä‘á»ƒ thay Ä‘á»•i cÃ³ hiá»‡u lá»±c
FLUSH PRIVILEGES;
```

12. Tá»•ng káº¿t ngáº¯n:

* `FLUSH PRIVILEGES;` náº¡p láº¡i (reload) thÃ´ng tin quyá»n tá»« cÃ¡c báº£ng ná»™i bá»™ (`mysql.*`) vÃ o bá»™ nhá»› server.
* Cáº§n khi thay Ä‘á»•i trá»±c tiáº¿p cÃ¡c báº£ng quyá»n; khÃ´ng cáº§n khi dÃ¹ng lá»‡nh `GRANT`/`REVOKE`/`CREATE USER` vÃ¬ nhá»¯ng lá»‡nh Ä‘Ã³ Ä‘Ã£ cáº­p nháº­t cÆ¡ cháº¿ quyá»n ngay láº­p tá»©c.

---

Ghi chÃº: Báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ ná»™i dung nÃ y trá»±c tiáº¿p vÃ o file .txt. MÃ¬nh Ä‘Ã£ táº¡o tÃ i liá»‡u sáºµn Ä‘á»ƒ báº¡n dá»… copy â€” náº¿u muá»‘n mÃ¬nh xuáº¥t file `.txt` Ä‘á»ƒ táº£i vá», bÃ¡o mÃ¬nh vÃ  mÃ¬nh sáº½ táº¡o file Ä‘á»ƒ báº¡n táº£i.
		
		
		- cmd: sudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php
		
			TÃŠN
				sudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php
				â€” sao chÃ©p file cáº¥u hÃ¬nh máº«u WordPress thÃ nh file cáº¥u hÃ¬nh chÃ­nh, thá»±c hiá»‡n dÆ°á»›i quyá»n user www-data

			TÃ“M Táº®T (SYNOPSIS)
				sudo -u <user> cp <source_file> <destination_file>
				sudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php

			MÃ” Táº¢
				Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ sao chÃ©p file `wp-config-sample.php` (cáº¥u hÃ¬nh máº«u WordPress) thÃ nh file `wp-config.php` (file
				cáº¥u hÃ¬nh chÃ­nh) trong thÆ° má»¥c `/srv/www/wordpress/`.  

				- `sudo` : cháº¡y lá»‡nh vá»›i quyá»n superuser hoáº·c quyá»n user khÃ¡c.
				- `-u www-data` : thá»±c thi lá»‡nh vá»›i quyá»n cá»§a user `www-data` (ngÆ°á»i quáº£n lÃ½ web server Apache/Nginx).
				- `cp` : lá»‡nh copy file.
				- `/srv/www/wordpress/wp-config-sample.php` : file nguá»“n, cáº¥u hÃ¬nh máº«u WordPress.
				- `/srv/www/wordpress/wp-config.php` : file Ä‘Ã­ch, file cáº¥u hÃ¬nh chÃ­nh WordPress.

			PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
				1) `sudo -u www-data`
					- Cháº¡y lá»‡nh vá»›i quyá»n user `www-data`.
					- Cáº§n thiáº¿t khi thÆ° má»¥c `/srv/www/wordpress/` thuá»™c quyá»n sá»Ÿ há»¯u cá»§a `www-data`, giÃºp trÃ¡nh lá»—i permission.
				2) `cp`
					- Copy file tá»« vá»‹ trÃ­ nguá»“n sang vá»‹ trÃ­ Ä‘Ã­ch.
					- Náº¿u file Ä‘Ã­ch Ä‘Ã£ tá»“n táº¡i, sáº½ ghi Ä‘Ã¨.
				3) `/srv/www/wordpress/wp-config-sample.php`
					- File cáº¥u hÃ¬nh máº«u Ä‘i kÃ¨m WordPress.
				4) `/srv/www/wordpress/wp-config.php`
					- File cáº¥u hÃ¬nh chÃ­nh, sáº½ Ä‘Æ°á»£c WordPress sá»­ dá»¥ng.
					- Sau khi copy, ngÆ°á»i dÃ¹ng cáº§n chá»‰nh sá»­a cÃ¡c thÃ´ng sá»‘ DB (DB_NAME, DB_USER, DB_PASSWORD, DB_HOST).

			HOáº T Äá»˜NG Cá»¦A Lá»†NH
				1) `sudo` xÃ¡c Ä‘á»‹nh quyá»n user www-data.
				2) `cp` táº¡o báº£n sao `wp-config.php` trong cÃ¹ng thÆ° má»¥c.
				3) File `wp-config.php` sáº½ thuá»™c quyá»n sá»Ÿ há»¯u cá»§a `www-data`, Ä‘áº£m báº£o web server cÃ³ thá»ƒ Ä‘á»c vÃ  ghi (náº¿u cáº§n).
				4) NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ chá»‰nh sá»­a `wp-config.php` báº±ng `sudo -u www-data nano wp-config.php` hoáº·c `vim`.

			Lá»†NH LIÃŠN QUAN
				- sudo -u www-data nano /srv/www/wordpress/wp-config.php : chá»‰nh sá»­a file dÆ°á»›i quyá»n www-data.
				- chown www-data:www-data /srv/www/wordpress/wp-config.php : Ä‘á»•i quyá»n sá»Ÿ há»¯u.
				- cp -i <source> <destination> : copy vÃ  há»i trÆ°á»›c khi ghi Ä‘Ã¨.
				- ls -l /srv/www/wordpress/ : kiá»ƒm tra quyá»n sá»Ÿ há»¯u file vÃ  thÆ° má»¥c.

			Máº¸O THá»°C TIá»„N
				1) LuÃ´n kiá»ƒm tra quyá»n thÆ° má»¥c trÆ°á»›c khi copy:
					ls -ld /srv/www/wordpress/
				2) Náº¿u cáº§n backup file cÅ© trÆ°á»›c khi copy:
					sudo -u www-data cp wp-config.php wp-config.php.bak
				3) Chá»‰nh sá»­a thÃ´ng sá»‘ database sau khi copy:
					sudo -u www-data nano /srv/www/wordpress/wp-config.php
				4) Kiá»ƒm tra quyá»n sá»Ÿ há»¯u vÃ  quyá»n truy cáº­p:
					ls -l /srv/www/wordpress/wp-config.php
					â†’ www-data nÃªn cÃ³ quyá»n Ä‘á»c/ghi.

			LÆ¯U Ã
				- File `wp-config.php` lÃ  file quan trá»ng, chá»©a thÃ´ng tin DB vÃ  salt keys.
				- Thá»±c hiá»‡n vá»›i quyá»n `www-data` giÃºp trÃ¡nh lá»—i permission khi web server truy cáº­p.
				- TrÃ¡nh sá»­ dá»¥ng `sudo` root trá»±c tiáº¿p náº¿u thÆ° má»¥c Ä‘Ã£ thuá»™c quyá»n www-data.

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- Sao chÃ©p file cáº¥u hÃ¬nh máº«u WordPress thÃ nh file chÃ­nh.
				- Sá»­ dá»¥ng `sudo -u www-data` Ä‘á»ƒ Ä‘áº£m báº£o quyá»n sá»Ÿ há»¯u há»£p lÃ½.
				- Sau khi copy, chá»‰nh sá»­a `wp-config.php` Ä‘á»ƒ káº¿t ná»‘i database vÃ  cÃ i Ä‘áº·t WordPress.

			VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
				# Sao chÃ©p file cáº¥u hÃ¬nh máº«u thÃ nh file chÃ­nh
				sudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php

				# Chá»‰nh sá»­a file cáº¥u hÃ¬nh
				sudo -u www-data nano /srv/www/wordpress/wp-config.php

				# Kiá»ƒm tra quyá»n sá»Ÿ há»¯u file
				ls -l /srv/www/wordpress/wp-config.php

				# Backup file cáº¥u hÃ¬nh cÅ© trÆ°á»›c khi ghi Ä‘Ã¨
				sudo -u www-data cp /srv/www/wordpress/wp-config.php /srv/www/wordpress/wp-config.php.bak

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: sudo -u www-data sed -i 's/database_name_here/wordpress/' /srv/www/wordpress/wp-config.php
		
sudo -u www-data sed -i 's/database_name_here/wordpress/' /srv/www/wordpress/wp-config.php

MÃ” Táº¢ NGáº®N (1 cÃ¢u):
Cháº¡y lá»‡nh sed dÆ°á»›i quyá»n ngÆ°á»i dÃ¹ng www-data Ä‘á»ƒ thay text "database_name_here" báº±ng "wordpress" trá»±c tiáº¿p (in-place) trong file /srv/www/wordpress/wp-config.php.

CÃš PHÃP (plain text, copy vÃ o .txt):
sudo -u www-data sed -i 's/database_name_here/wordpress/' /srv/www/wordpress/wp-config.php

PHáº¦N GIáº¢I THÃCH Tá»ªNG THá»¨:

* sudo -u www-data
  Cháº¡y lá»‡nh tiáº¿p theo vá»›i quyá»n vÃ  mÃ´i trÆ°á»ng cá»§a user www-data (thÆ°á»ng lÃ  user mÃ  web server nhÆ° Apache/Nginx sá»­ dá»¥ng). DÃ¹ng khi file chá»‰ cÃ³ thá»ƒ ghi bá»Ÿi user nÃ y.

* sed
  TrÃ¬nh xá»­ lÃ½ dÃ²ng (stream editor) Ä‘á»ƒ tÃ¬m vÃ  thay tháº¿ vÄƒn báº£n trong file.

* -i
  TÃ¹y chá»n "in-place": sed sá»­a file ngay trÃªn Ä‘Ä©a. (KhÃ´ng táº¡o báº£n sao lÆ°u trá»« khi thÃªm háº­u tá»‘, vÃ­ dá»¥ -i.bak)

* 's/database_name_here/wordpress/'
  Biá»ƒu thá»©c thay tháº¿ theo cÃº phÃ¡p sed: s/old/new/

  * 's' = substitute (thay tháº¿)
  * pháº§n giá»¯a hai dáº¥u / Ä‘áº§u tiÃªn lÃ  máº«u (pattern) cáº§n tÃ¬m: database_name_here
  * pháº§n giá»¯a hai dáº¥u / tiáº¿p theo lÃ  chuá»—i thay tháº¿: wordpress
  * náº¿u muá»‘n thay táº¥t cáº£ cÃ¡c láº§n xuáº¥t hiá»‡n trÃªn má»™t dÃ²ng, thÃªm cá» g: s/old/new/g

* /srv/www/wordpress/wp-config.php
  ÄÆ°á»ng dáº«n tá»›i file cáº¥u hÃ¬nh WordPress. Lá»‡nh sáº½ chá»‰nh trá»±c tiáº¿p file nÃ y.

VÃ Dá»¤ TRÆ¯á»šC VÃ€ SAU (dÃ²ng Ä‘iá»ƒn hÃ¬nh trong wp-config.php):
TrÆ°á»›c:
define('DB_NAME', 'database_name_here');

Sau khi cháº¡y lá»‡nh:
define('DB_NAME', 'wordpress');

LÆ¯U Ã AN TOÃ€N VÃ€ Máº¸O THá»°C TIá»„N:

1. **NÃªn táº¡o báº£n sao lÆ°u trÆ°á»›c** (ráº¥t quan trá»ng):

   * Táº¡o file sao lÆ°u thá»§ cÃ´ng: sudo -u www-data cp /srv/www/wordpress/wp-config.php /srv/www/wordpress/wp-config.php.bak
   * Hoáº·c dÃ¹ng sed Ä‘á»ƒ táº¡o backup tá»± Ä‘á»™ng: sudo -u www-data sed -i.bak 's/database_name_here/wordpress/' /srv/www/wordpress/wp-config.php  (sáº½ táº¡o file wp-config.php.bak)

2. **Kiá»ƒm tra trÆ°á»›c khi sá»­a (dry-run)**:

   * Xem cÃ¡c dÃ²ng sáº½ thay báº±ng grep/awk: sudo -u www-data grep -n "database_name_here" /srv/www/wordpress/wp-config.php
   * DÃ¹ng sed chá»‰ Ä‘á»ƒ hiá»ƒn thá»‹ káº¿t quáº£ thay mÃ  khÃ´ng ghi: sudo -u www-data sed 's/database_name_here/wordpress/p' /srv/www/wordpress/wp-config.php

3. **Náº¿u cÃ³ nhiá»u láº§n xuáº¥t hiá»‡n trÃªn cÃ¹ng 1 dÃ²ng** vÃ  báº¡n muá»‘n thay táº¥t cáº£, thÃªm /g:
   sudo -u www-data sed -i 's/database_name_here/wordpress/g' /srv/www/wordpress/wp-config.php

4. **Váº¥n Ä‘á» vá»›i kÃ½ tá»± '/' trong máº«u**: náº¿u giÃ¡ trá»‹ cáº§n thay chá»©a kÃ½ tá»± '/', Ä‘á»•i kÃ½ tá»± phÃ¢n tÃ¡ch hoáº·c escape:

   * DÃ¹ng kÃ½ tá»± khÃ¡c lÃ m delimiter: sed -i 's|/old/path|/new/path|' file
   * Hoáº·c escape: sed -i 's//old/path//new/path/' file

5. **Quoting (dáº¥u nhÃ¡y)**:

   * DÃ¹ng single quotes '...' quanh biá»ƒu thá»©c sed Ä‘á»ƒ trÃ¡nh shell má»Ÿ rá»™ng biáº¿n. Náº¿u cáº§n chÃ¨n biáº¿n shell, dÃ¹ng double quotes nhÆ°ng escape cáº©n tháº­n.

6. **Quyá»n file**:

   * Lá»‡nh cháº¡y dÆ°á»›i user www-data cÃ³ nghÄ©a user nÃ y pháº£i cÃ³ quyá»n ghi file. Náº¿u khÃ´ng, sáº½ bÃ¡o lá»—i permission denied.
   * Kiá»ƒm tra: ls -l /srv/www/wordpress/wp-config.php

7. **CÃ¡ch khÃ´i phá»¥c náº¿u sai**:

   * Náº¿u dÃ¹ng -i.bak hoáº·c táº¡o file sao lÆ°u thá»§ cÃ´ng, khÃ´i phá»¥c báº±ng cp wp-config.php.bak wp-config.php (vá»›i quyá»n phÃ¹ há»£p).
   * Náº¿u file Ä‘Æ°á»£c quáº£n lÃ½ trong git, cÃ³ thá»ƒ dÃ¹ng git checkout -- wp-config.php (á»Ÿ nhÃ¡nh phÃ¹ há»£p).

CÃC Lá»†NH THAY THáº¾ (tÃ¹y chá»n):

* DÃ¹ng wp-cli (náº¿u Ä‘Ã£ cÃ i) Ä‘á»ƒ thay cáº¥u hÃ¬nh DB má»™t cÃ¡ch an toÃ n hÆ¡n:

  * sudo -u www-data wp config set DB_NAME "wordpress" --path=/srv/www/wordpress --allow-root

* DÃ¹ng perl (thay sed):

  * sudo -u www-data perl -pi.bak -e "s/database_name_here/wordpress/" /srv/www/wordpress/wp-config.php

THÃ”NG ÄIá»†P Lá»–I THÆ¯á»œNG Gáº¶P VÃ€ NGUYÃŠN NHÃ‚N:

* Permission denied: user www-data khÃ´ng cÃ³ quyá»n ghi file -> cáº§n cáº¥p quyá»n hoáº·c cháº¡y dÆ°á»›i user phÃ¹ há»£p.
* KhÃ´ng cÃ³ dÃ²ng Ä‘Æ°á»£c thay: cÃ³ thá»ƒ chuá»—i khÃ´ng trÃ¹ng khá»›p (khoáº£ng tráº¯ng, kÃ½ tá»± khÃ¡c, hoáº·c khÃ¡c chá»¯ hoa/chá»¯ thÆ°á»ng). Kiá»ƒm tra chÃ­nh xÃ¡c chuá»—i cáº§n tÃ¬m.

GHI CHÃš CUá»I:

* Lá»‡nh báº¡n Ä‘Æ°a sáº½ **thay láº§n xuáº¥t hiá»‡n Ä‘áº§u tiÃªn trÃªn má»—i dÃ²ng** cá»§a chuá»—i "database_name_here" thÃ nh "wordpress" trong file wp-config.php, cháº¡y dÆ°á»›i quyá»n www-data vÃ  sá»­a file trá»±c tiáº¿p.
* LuÃ´n sao lÆ°u trÆ°á»›c khi sá»­a file cáº¥u hÃ¬nh sáº£n pháº©m (nhÆ° wp-config.php).

---

Tá»‡p nÃ y lÃ  plain text, format rÃµ rÃ ng Ä‘á»ƒ báº¡n copy trá»±c tiáº¿p vÃ o file .txt.
		
		
		- cmd: sudo -u www-data sed -i 's/username_here/wordpress/' /srv/www/wordpress/wp-config.php
		
---

## TIÃŠU Äá»€: Giáº£i thÃ­ch chi tiáº¿t: sudo -u www-data sed -i 's/username_here/wordpress/' /srv/www/wordpress/wp-config.php

1. CÃ¢u lá»‡nh (má»™t dÃ²ng, sáºµn Ä‘á»ƒ copy):

sudo -u www-data sed -i 's/username_here/wordpress/' /srv/www/wordpress/wp-config.php

2. Má»¥c Ä‘Ã­ch chung:

Thay tháº¿ trong file `wp-config.php` táº¥t cáº£ **vá»‹ trÃ­ Ä‘áº§u tiÃªn xuáº¥t hiá»‡n cá»§a chuá»—i `username_here`** báº±ng `wordpress`, thá»±c hiá»‡n vá»›i quyá»n user `www-data` (user máº·c Ä‘á»‹nh cá»§a Apache/Nginx trÃªn Debian/Ubuntu), vÃ  cáº­p nháº­t trá»±c tiáº¿p vÃ o file gá»‘c.

3. PhÃ¢n tÃ­ch cÃº phÃ¡p tá»«ng pháº§n:

* `sudo` : cháº¡y lá»‡nh vá»›i quyá»n **superuser** hoáº·c quyá»n khÃ¡c user.

* `-u www-data` : cháº¡y lá»‡nh dÆ°á»›i **user www-data** thay vÃ¬ user hiá»‡n táº¡i.

  * www-data lÃ  user máº·c Ä‘á»‹nh cho web server (Apache/Nginx) trÃªn nhiá»u há»‡ thá»‘ng Linux.
  * Äiá»u nÃ y giÃºp Ä‘áº£m báº£o quyá»n ghi/Ä‘á»c file wp-config.php phÃ¹ há»£p vá»›i web server.

* `sed` : stream editor trong Linux, dÃ¹ng Ä‘á»ƒ **chá»‰nh sá»­a file theo dÃ²ng hoáº·c chuá»—i kÃ½ tá»±**.

* `-i` : chá»‰nh sá»­a **in-place**, tá»©c lÃ  thay Ä‘á»•i trá»±c tiáº¿p vÃ o file gá»‘c `/srv/www/wordpress/wp-config.php`. Náº¿u bá» `-i`, sed sáº½ chá»‰ in ra káº¿t quáº£ ra stdout mÃ  khÃ´ng sá»­a file.

* `'s/username_here/wordpress/'` : Ä‘Ã¢y lÃ  **biá»ƒu thá»©c thay tháº¿ (substitute)** cá»§a sed:

  * `s/old/new/` : thay tháº¿ `old` báº±ng `new`
  * `username_here` : chuá»—i cáº§n tÃ¬m
  * `wordpress` : chuá»—i thay tháº¿
  * `/` : kÃ½ tá»± phÃ¢n tÃ¡ch
  * LÆ°u Ã½: **máº·c Ä‘á»‹nh chá»‰ thay tháº¿ láº§n xuáº¥t hiá»‡n Ä‘áº§u tiÃªn trÃªn má»—i dÃ²ng**. Náº¿u muá»‘n thay táº¥t cáº£ xuáº¥t hiá»‡n trÃªn dÃ²ng, thÃªm `g`:
    `s/username_here/wordpress/g`

* `/srv/www/wordpress/wp-config.php` : Ä‘Æ°á»ng dáº«n Ä‘áº¿n file WordPress configuration cáº§n chá»‰nh sá»­a.

4. Ã nghÄ©a trong WordPress:

* `username_here` thÆ°á»ng lÃ  giÃ¡ trá»‹ máº·c Ä‘á»‹nh trong `wp-config-sample.php` cho MySQL username.
* Sau khi copy thÃ nh `wp-config.php`, báº¡n cáº§n thay tháº¿:

  * DB_NAME
  * DB_USER  (trÆ°á»ng há»£p nÃ y lÃ  `username_here` â†’ `wordpress`)
  * DB_PASSWORD
* Lá»‡nh trÃªn giÃºp tá»± Ä‘á»™ng chá»‰nh `DB_USER` thÃ nh `wordpress` mÃ  khÃ´ng cáº§n má»Ÿ file báº±ng editor.

5. Quyá»n vÃ  báº£o máº­t:

* Sá»­ dá»¥ng `sudo -u www-data` Ä‘á»ƒ lá»‡nh cháº¡y vá»›i quyá»n cá»§a web server, trÃ¡nh xung Ä‘á»™t quyá»n khi web server cáº§n truy cáº­p file.
* KhÃ´ng dÃ¹ng `sudo` trá»±c tiáº¿p trÃªn root náº¿u khÃ´ng cáº§n, vÃ¬ user www-data Ä‘á»§ quyá»n Ä‘á»ƒ chá»‰nh sá»­a file trong thÆ° má»¥c `/srv/www/wordpress`.

6. CÃ¡c vÃ­ dá»¥ khÃ¡c:

* Thay táº¥t cáº£ xuáº¥t hiá»‡n trÃªn dÃ²ng:
  sudo -u www-data sed -i 's/username_here/wordpress/g' /srv/www/wordpress/wp-config.php

* Thay máº­t kháº©u DB trong wp-config.php:
  sudo -u www-data sed -i 's/password_here/admin123/' /srv/www/wordpress/wp-config.php

7. Kiá»ƒm tra sau khi thay Ä‘á»•i:

* Xem ná»™i dung file Ä‘á»ƒ Ä‘áº£m báº£o thay Ä‘á»•i Ä‘Ãºng:
  cat /srv/www/wordpress/wp-config.php | grep DB_USER

* Hoáº·c dÃ¹ng editor nháº¹ nhÆ° `nano`:
  sudo -u www-data nano /srv/www/wordpress/wp-config.php

8. TÃ³m táº¯t ngáº¯n (copy nhanh):

sudo -u www-data sed -i 's/username_here/wordpress/' /srv/www/wordpress/wp-config.php

* Thay `username_here` báº±ng `wordpress` trá»±c tiáº¿p trong file wp-config.php vá»›i quyá»n www-data.

---

Háº¿t.
		
		
		- cmd: sudo -u www-data sed -i 's/password_here/admin123/' /srv/www/wordpress/wp-config.php
		
== Giáº£i thÃ­ch chi tiáº¿t: sudo -u www-data sed -i 's/password_here/admin123/' /srv/www/wordpress/wp-config.php ==

LÆ°u Ã½: tá»‡p nÃ y á»Ÿ dáº¡ng plain text (khÃ´ng dÃ¹ng Ä‘Ã¡nh dáº¥u phá»©c táº¡p) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ o file .txt.
(Trong giao diá»‡n, báº¡n cÃ³ thá»ƒ nháº¥n nÃºt sao chÃ©p / Copy Ä‘á»ƒ copy toÃ n bá»™ ná»™i dung.)

---

1. CÃ¢u lá»‡nh Ä‘áº§y Ä‘á»§:

sudo -u www-data sed -i 's/password_here/admin123/' /srv/www/wordpress/wp-config.php

---

2. Má»¥c Ä‘Ã­ch ngáº¯n gá»n:

* Lá»‡nh nÃ y thay tháº¿ chuá»—i `password_here` báº±ng `admin123` trong file cáº¥u hÃ¬nh WordPress (`wp-config.php`) báº±ng quyá»n cá»§a user `www-data`. User `www-data` lÃ  user máº·c Ä‘á»‹nh mÃ  Apache cháº¡y trÃªn Debian/Ubuntu, Ä‘áº£m báº£o quyá»n ghi há»£p lá»‡ cho file web.

---

3. PhÃ¢n tÃ­ch tá»«ng pháº§n:

* sudo

  * Cháº¡y lá»‡nh vá»›i quyá»n cá»§a superuser. á» Ä‘Ã¢y, dÃ¹ng Ä‘á»ƒ thá»±c thi vá»›i quyá»n cá»§a user khÃ¡c (www-data).

* -u www-data

  * Chá»‰ Ä‘á»‹nh user mÃ  lá»‡nh sáº½ cháº¡y dÆ°á»›i quyá»n cá»§a user Ä‘Ã³ (thay vÃ¬ root máº·c Ä‘á»‹nh cá»§a sudo).

* sed

  * LÃ  trÃ¬nh xá»­ lÃ½ vÄƒn báº£n dÃ²ng lá»‡nh (stream editor) Ä‘á»ƒ tÃ¬m kiáº¿m vÃ  thay tháº¿, chÃ¨n, xÃ³a hoáº·c chá»‰nh sá»­a file text.

* -i

  * Chá»‰nh sá»­a trá»±c tiáº¿p file táº¡i chá»— (in-place). File gá»‘c sáº½ bá»‹ thay Ä‘á»•i mÃ  khÃ´ng táº¡o báº£n sao máº·c Ä‘á»‹nh.

* 's/password_here/admin123/'

  * ÄÃ¢y lÃ  lá»‡nh sed dÃ¹ng cÃº phÃ¡p:

    * s: substitute (thay tháº¿)
    * password_here: chuá»—i cáº§n tÃ¬m
    * admin123: chuá»—i thay tháº¿
    * /: phÃ¢n tÃ¡ch cÃ¡c pháº§n cá»§a lá»‡nh
  * NghÄ©a lÃ : tÃ¬m `password_here` trong file vÃ  thay báº±ng `admin123`.

* /srv/www/wordpress/wp-config.php

  * ÄÆ°á»ng dáº«n Ä‘áº¿n file cáº¥u hÃ¬nh WordPress, nÆ¡i lÆ°u thÃ´ng tin database, username, password, key, salt,...

---

4. Khi nÃ o sá»­ dá»¥ng lá»‡nh nÃ y?

* Khi cáº§n thay Ä‘á»•i máº­t kháº©u database trong wp-config.php (vÃ­ dá»¥ khi cÃ i Ä‘áº·t WordPress thá»§ cÃ´ng hoáº·c thay Ä‘á»•i máº­t kháº©u DB).
* Khi báº¡n cáº§n Ä‘áº£m báº£o file Ä‘Æ°á»£c chá»‰nh sá»­a bá»Ÿi user www-data, trÃ¡nh lá»—i permission náº¿u Ä‘ang cháº¡y web server.

---

5. LÆ°u Ã½ quan trá»ng:

* Backup file trÆ°á»›c khi thay Ä‘á»•i:

  * cp /srv/www/wordpress/wp-config.php /srv/www/wordpress/wp-config.php.bak
* Kiá»ƒm tra quyá»n file:

  * ls -l /srv/www/wordpress/wp-config.php
* Náº¿u cháº¡y lá»‡nh trá»±c tiáº¿p báº±ng root hoáº·c user khÃ¡c, file cÃ³ thá»ƒ bá»‹ Ä‘á»•i quyá»n ownership, gÃ¢y lá»—i web server.

---

6. Kiá»ƒm tra káº¿t quáº£:

* Sá»­ dá»¥ng grep Ä‘á»ƒ xÃ¡c nháº­n:

  * grep 'admin123' /srv/www/wordpress/wp-config.php
* Hoáº·c má»Ÿ file Ä‘á»ƒ xem dÃ²ng DB_PASSWORD Ä‘Ã£ thay Ä‘á»•i.

---

7. Má»™t sá»‘ biáº¿n thá»ƒ / nÃ¢ng cao:

* Thay Ä‘á»•i nhiá»u chuá»—i cÃ¹ng lÃºc:

  * sudo -u www-data sed -i -e 's/old1/new1/' -e 's/old2/new2/' file

* DÃ¹ng backup tá»± Ä‘á»™ng khi thay Ä‘á»•i:

  * sudo -u www-data sed -i.bak 's/password_here/admin123/' /srv/www/wordpress/wp-config.php

    * Táº¡o file wp-config.php.bak trÆ°á»›c khi ghi Ä‘Ã¨.

---

8. Tá»•ng káº¿t:

* CÃ¢u lá»‡nh dÃ¹ng `sed` Ä‘á»ƒ thay tháº¿ máº­t kháº©u DB trong file wp-config.php báº±ng `admin123`, cháº¡y vá»›i quyá»n `www-data` Ä‘á»ƒ trÃ¡nh lá»—i permission, chá»‰nh sá»­a trá»±c tiáº¿p file gá»‘c.

* ÄÃ¢y lÃ  cÃ¡ch nhanh chÃ³ng vÃ  phá»• biáº¿n Ä‘á»ƒ cáº­p nháº­t cáº¥u hÃ¬nh WordPress trÃªn server Linux mÃ  khÃ´ng cáº§n má»Ÿ file thá»§ cÃ´ng.

---

Báº£n quyá»n: tÃ i liá»‡u nÃ y do báº¡n sao chÃ©p vÃ  sá»­ dá»¥ng. ChÃºc báº¡n thao tÃ¡c an toÃ n!
		
		
		- cmd: vim /srv/www/wordpress/wp-config.php
		
vim /srv/www/wordpress/wp-config.php

---

MÃ´ táº£ chi tiáº¿t (plain text, sáºµn sÃ ng copy vÃ o file .txt):

1. Ã nghÄ©a ngáº¯n gá»n:
   Lá»‡nh `vim /srv/www/wordpress/wp-config.php` má»Ÿ file cáº¥u hÃ¬nh chÃ­nh cá»§a WordPress (`wp-config.php`) báº±ng trÃ¬nh soáº¡n tháº£o vÄƒn báº£n `vim`. ÄÃ¢y lÃ  file quan trá»ng chá»©a cÃ¡c thÃ´ng tin vá» káº¿t ná»‘i cÆ¡ sá»Ÿ dá»¯ liá»‡u, khÃ³a báº£o máº­t, vÃ  cÃ¡c cÃ i Ä‘áº·t cÆ¡ báº£n cá»§a WordPress.

2. CÃº phÃ¡p:

```
vim <Ä‘Æ°á»ng_dáº«n_Ä‘áº¿n_file>
```

Trong trÆ°á»ng há»£p nÃ y: `<Ä‘Æ°á»ng_dáº«n_Ä‘áº¿n_file>` = `/srv/www/wordpress/wp-config.php`

3. Giáº£i thÃ­ch thÃ nh pháº§n:

* `vim`: lÃ  lá»‡nh gá»i trÃ¬nh soáº¡n tháº£o vÄƒn báº£n máº¡nh máº½ trÃªn Linux/Unix.
* `/srv/www/wordpress/wp-config.php`: Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i Ä‘áº¿n file cáº¥u hÃ¬nh WordPress.

4. CÃ¡c thao tÃ¡c cÆ¡ báº£n trong `vim`:

* Má»Ÿ file: `vim /path/to/file`.
* Cháº¿ Ä‘á»™ Normal (Ä‘iá»u hÆ°á»›ng, xÃ³a, sao chÃ©p).
* Cháº¿ Ä‘á»™ Insert (chÃ¨n, sá»­a ná»™i dung): nháº¥n `i` Ä‘á»ƒ vÃ o Insert, gÃµ ná»™i dung, nháº¥n `ESC` Ä‘á»ƒ trá»Ÿ láº¡i Normal.
* LÆ°u vÃ  thoÃ¡t: `:wq` (write & quit).
* Chá»‰ lÆ°u: `:w`
* ThoÃ¡t khÃ´ng lÆ°u: `:q!`

5. Ná»™i dung chÃ­nh cá»§a `wp-config.php` cáº§n chÃº Ã½:

* ThÃ´ng tin cÆ¡ sá»Ÿ dá»¯ liá»‡u:

```php
define('DB_NAME', 'wordpress');        // TÃªn database
define('DB_USER', 'wpuser');           // TÃ i khoáº£n DB
define('DB_PASSWORD', 'StrongPassword'); // Máº­t kháº©u DB
define('DB_HOST', 'localhost');         // Host DB
```

* Charset vÃ  Collate:

```php
define('DB_CHARSET', 'utf8mb4');
define('DB_COLLATE', '');
```

* CÃ¡c khÃ³a báº£o máº­t (Authentication Unique Keys & Salts):

```php
define('AUTH_KEY',         '...');
define('SECURE_AUTH_KEY',  '...');
define('LOGGED_IN_KEY',    '...');
define('NONCE_KEY',        '...');
// VÃ  cÃ¡c khÃ³a khÃ¡c
```

* Tiá»n tá»‘ báº£ng cÆ¡ sá»Ÿ dá»¯ liá»‡u:

```php
$table_prefix  = 'wp_';
```

* CÃ i Ä‘áº·t ngÃ´n ngá»¯, debug mode, vÃ  cÃ¡c tÃ¹y chá»n khÃ¡c.

6. Quyá»n truy cáº­p vÃ  báº£o máº­t:

* File `wp-config.php` nÃªn cÃ³ quyá»n háº¡n cháº·t cháº½, vÃ­ dá»¥: `chmod 600 wp-config.php`.
* Chá»‰ user sá»Ÿ há»¯u web server (vÃ­ dá»¥ `www-data`) nÃªn cÃ³ quyá»n Ä‘á»c.
* KhÃ´ng lÆ°u máº­t kháº©u hoáº·c khÃ³a nháº¡y cáº£m trong file nÃ y dÆ°á»›i dáº¡ng cÃ´ng khai.

7. VÃ­ dá»¥ má»Ÿ vÃ  chá»‰nh sá»­a file:

```
sudo vim /srv/www/wordpress/wp-config.php
```

* Nháº¥n `i` Ä‘á»ƒ chá»‰nh sá»­a thÃ´ng tin database.
* Sau khi chá»‰nh sá»­a xong, nháº¥n `ESC`, gÃµ `:wq` Ä‘á»ƒ lÆ°u vÃ  thoÃ¡t.

8. LÆ°u Ã½:

* LuÃ´n sao lÆ°u file `wp-config.php` trÆ°á»›c khi chá»‰nh sá»­a:

```
sudo cp /srv/www/wordpress/wp-config.php /srv/www/wordpress/wp-config.php.backup
```

* Tháº­n trá»ng khi chá»‰nh sá»­a cÃ¡c háº±ng sá»‘ vÃ  khÃ³a báº£o máº­t, sai sÃ³t cÃ³ thá»ƒ khiáº¿n WordPress khÃ´ng thá»ƒ káº¿t ná»‘i database hoáº·c giáº£m báº£o máº­t.

---

Ghi chÃº: Báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ ná»™i dung nÃ y trá»±c tiáº¿p vÃ o file .txt. Ná»™i dung trÃ¬nh bÃ y Ä‘áº§y Ä‘á»§, rÃµ rÃ ng vÃ  sáºµn sÃ ng
		
		
		- cmd: sudo -u www-data vim /srv/www/wordpress/wp-config.php
		
sudo -u www-data vim /srv/www/wordpress/wp-config.php

MÃ” Táº¢ NGáº®N (1 cÃ¢u):
Má»Ÿ file wp-config.php cá»§a WordPress báº±ng trÃ¬nh soáº¡n tháº£o vim dÆ°á»›i quyá»n user www-data, cho phÃ©p chá»‰nh sá»­a trá»±c tiáº¿p file cáº¥u hÃ¬nh mÃ  khÃ´ng gáº·p lá»—i quyá»n.

CÃš PHÃP (plain text, copy vÃ o .txt):
sudo -u www-data vim /srv/www/wordpress/wp-config.php

PHáº¦N GIáº¢I THÃCH Tá»ªNG THá»¨:

* sudo -u www-data
  Cháº¡y lá»‡nh tiáº¿p theo vá»›i quyá»n cá»§a user www-data (thÆ°á»ng lÃ  user mÃ  web server sá»­ dá»¥ng). Cáº§n thiáº¿t vÃ¬ wp-config.php thÆ°á»ng chá»‰ cÃ³ quyá»n ghi cho user nÃ y, trÃ¡nh lá»—i Permission denied.

* vim
  TrÃ¬nh soáº¡n tháº£o vÄƒn báº£n trÃªn terminal. Cho phÃ©p xem, chá»‰nh sá»­a, tÃ¬m kiáº¿m, thay tháº¿, lÆ°u vÃ  thoÃ¡t file.

* /srv/www/wordpress/wp-config.php
  ÄÆ°á»ng dáº«n tá»›i file cáº¥u hÃ¬nh chÃ­nh cá»§a WordPress, chá»©a thÃ´ng tin database, authentication keys, setting debug, vÃ  cÃ¡c cáº¥u hÃ¬nh quan trá»ng khÃ¡c.

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG VIM CÆ  Báº¢N (trong trÆ°á»ng há»£p báº¡n chÆ°a quen):

1. Má»Ÿ file:
   sudo -u www-data vim /srv/www/wordpress/wp-config.php

2. Cháº¿ Ä‘á»™ INSERT (chá»‰nh sá»­a):

   * Nháº¥n 'i' Ä‘á»ƒ vÃ o cháº¿ Ä‘á»™ insert.
   * Nháº­p/xÃ³a/chá»‰nh sá»­a ná»™i dung file.

3. Cháº¿ Ä‘á»™ COMMAND (lá»‡nh):

   * Nháº¥n 'Esc' Ä‘á»ƒ thoÃ¡t cháº¿ Ä‘á»™ insert.
   * LÆ°u file: gÃµ :w vÃ  nháº¥n Enter
   * ThoÃ¡t vim: gÃµ :q vÃ  nháº¥n Enter
   * LÆ°u & thoÃ¡t: gÃµ :wq vÃ  nháº¥n Enter
   * ThoÃ¡t khÃ´ng lÆ°u: gÃµ :q! vÃ  nháº¥n Enter

4. TÃ¬m kiáº¿m trong file:

   * Nháº¥n / rá»“i nháº­p tá»« khÃ³a, nháº¥n Enter Ä‘á»ƒ tÃ¬m xuá»‘ng
   * Nháº¥n ? rá»“i nháº­p tá»« khÃ³a, nháº¥n Enter Ä‘á»ƒ tÃ¬m lÃªn
   * Nháº¥n n Ä‘á»ƒ tÃ¬m káº¿t quáº£ tiáº¿p theo, N Ä‘á»ƒ tÃ¬m káº¿t quáº£ trÆ°á»›c Ä‘Ã³

5. Thay tháº¿ trong vim:

   * Trong command mode, gÃµ :%s/old_text/new_text/g
   * VÃ­ dá»¥: :%s/database_name_here/wordpress/g Ä‘á»ƒ thay toÃ n bá»™ tÃªn database

LÆ¯U Ã AN TOÃ€N VÃ€ Máº¸O THá»°C TIá»„N:

1. **Sao lÆ°u file trÆ°á»›c khi chá»‰nh sá»­a**:
   sudo -u www-data cp /srv/www/wordpress/wp-config.php /srv/www/wordpress/wp-config.php.bak

2. **Kiá»ƒm tra quyá»n file**:
   ls -l /srv/www/wordpress/wp-config.php

   * User www-data pháº£i cÃ³ quyá»n ghi file.

3. **Chá»‰ chá»‰nh sá»­a ná»™i dung cáº§n thiáº¿t**:

   * VÃ­ dá»¥: DB_NAME, DB_USER, DB_PASSWORD, DB_HOST, AUTH_KEY, SECURE_KEY,...

4. **Káº¿t há»£p vá»›i sed hoáº·c wp-cli náº¿u muá»‘n tá»± Ä‘á»™ng hÃ³a**:

   * sed: thay text tá»± Ä‘á»™ng trong file
   * wp-cli: thay config má»™t cÃ¡ch an toÃ n hÆ¡n tá»« command line

5. **Khi lÃ m viá»‡c trÃªn server thá»±c táº¿**:

   * Sá»­ dá»¥ng SSH, Ä‘áº£m báº£o báº¡n Ä‘ang á»Ÿ Ä‘Ãºng Ä‘Æ°á»ng dáº«n
   * TrÃ¡nh lá»—i do nháº¥n nháº§m phÃ­m, vim cÃ³ cháº¿ Ä‘á»™ undo (u) vÃ  redo (Ctrl+r)

CÃC Lá»†NH THAY THáº¾/LIÃŠN QUAN:

* nano: sudo -u www-data nano /srv/www/wordpress/wp-config.php  (trÃ¬nh soáº¡n tháº£o Ä‘Æ¡n giáº£n hÆ¡n)
* cat/less: xem ná»™i dung mÃ  khÃ´ng chá»‰nh sá»­a: sudo -u www-data less /srv/www/wordpress/wp-config.php
* wp-cli config set DB_NAME 'wordpress' --path=/srv/www/wordpress --allow-root  (tÃ¹y chá»‰nh cáº¥u hÃ¬nh an toÃ n tá»« CLI)

GHI CHÃš CUá»I:

* Lá»‡nh nÃ y dÃ¹ng khi báº¡n muá»‘n chá»‰nh sá»­a trá»±c tiáº¿p wp-config.php trÃªn server, Ä‘áº·c biá»‡t khi user hiá»‡n táº¡i khÃ´ng cÃ³ quyá»n ghi file.
* LuÃ´n sao lÆ°u trÆ°á»›c khi chá»‰nh sá»­a cÃ¡c file cáº¥u hÃ¬nh quan trá»ng Ä‘á»ƒ trÃ¡nh sá»± cá»‘.

---

Tá»‡p nÃ y Ä‘Æ°á»£c Ä‘á»‹nh dáº¡ng plain text, format rÃµ rÃ ng Ä‘á»ƒ báº¡n copy trá»±c tiáº¿p vÃ o
		
		
		- cmd: vagrant ssh web02
		
		
---

## TIÃŠU Äá»€: Giáº£i thÃ­ch chi tiáº¿t: vagrant ssh web02

1. CÃ¢u lá»‡nh (sáºµn Ä‘á»ƒ copy):

vagrant ssh web02

2. Má»¥c Ä‘Ã­ch chung:

Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **Ä‘Äƒng nháº­p vÃ o mÃ¡y áº£o Vagrant** cÃ³ tÃªn (hoáº·c label) lÃ  `web02` thÃ´ng qua SSH (Secure Shell), cho phÃ©p báº¡n thao tÃ¡c trá»±c tiáº¿p trÃªn mÃ¡y áº£o tá»« command line cá»§a host.

3. PhÃ¢n tÃ­ch cÃº phÃ¡p tá»«ng pháº§n:

* `vagrant` : cÃ´ng cá»¥ quáº£n lÃ½ mÃ¡y áº£o nháº¹, sá»­ dá»¥ng VirtualBox, VMware, hoáº·c provider khÃ¡c.

* `ssh` : lá»‡nh con cá»§a Vagrant dÃ¹ng Ä‘á»ƒ káº¿t ná»‘i tá»›i VM qua giao thá»©c SSH.

* `web02` : tÃªn mÃ¡y áº£o (VM) Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong `Vagrantfile` hoáº·c thÃ´ng qua lá»‡nh `vagrant up web02`. ÄÃ¢y lÃ  **cÃ¡i tÃªn mÃ  Vagrant nháº­n diá»‡n Ä‘á»ƒ tÃ¬m VM tÆ°Æ¡ng á»©ng**.

4. CÆ¡ cháº¿ hoáº¡t Ä‘á»™ng:

* Khi cháº¡y `vagrant ssh web02`, Vagrant sáº½:

  1. Kiá»ƒm tra VM `web02` cÃ³ Ä‘ang cháº¡y khÃ´ng.

     * Náº¿u chÆ°a cháº¡y, báº¡n cÃ³ thá»ƒ cáº§n `vagrant up web02` trÆ°á»›c.
  2. Láº¥y thÃ´ng tin cáº¥u hÃ¬nh SSH cá»§a VM tá»« file `.vagrant/machines/web02/virtualbox/private_key` (hoáº·c tÆ°Æ¡ng á»©ng vá»›i provider).
  3. Khá»Ÿi táº¡o káº¿t ná»‘i SSH sá»­ dá»¥ng private key, user máº·c Ä‘á»‹nh (thÆ°á»ng lÃ  `vagrant`).
  4. Má»Ÿ **shell session trá»±c tiáº¿p trÃªn VM**, giá»‘ng nhÆ° báº¡n Ä‘Äƒng nháº­p báº±ng `ssh vagrant@<ip> -i <private_key>`.

5. LÆ°u Ã½:

* Báº¡n **khÃ´ng cáº§n pháº£i biáº¿t password** náº¿u sá»­ dá»¥ng key pair do Vagrant táº¡o.
* Khi thoÃ¡t shell (gÃµ `exit` hoáº·c `Ctrl+D`), báº¡n sáº½ vá» láº¡i terminal cá»§a host.
* Náº¿u tÃªn VM khÃ´ng Ä‘Ãºng hoáº·c VM chÆ°a Ä‘Æ°á»£c táº¡o/khá»Ÿi Ä‘á»™ng, lá»‡nh sáº½ bÃ¡o lá»—i.
* Báº¡n cÃ³ thá»ƒ liá»‡t kÃª cÃ¡c VM vá»›i lá»‡nh `vagrant status`.

6. VÃ­ dá»¥ ká»‹ch báº£n Ä‘áº§y Ä‘á»§:

1) Kiá»ƒm tra tráº¡ng thÃ¡i VM:
   vagrant status

2) Khá»Ÿi Ä‘á»™ng VM náº¿u chÆ°a cháº¡y:
   vagrant up web02

3) SSH vÃ o VM:
   vagrant ssh web02

4) Thá»±c hiá»‡n cÃ¡c thao tÃ¡c trÃªn VM, vÃ­ dá»¥ kiá»ƒm tra OS:
   uname -a
   df -h

5) ThoÃ¡t VM:
   exit

7. TÃ³m táº¯t ngáº¯n (copy nhanh):

vagrant ssh web02

* ÄÄƒng nháº­p vÃ o mÃ¡y áº£o Vagrant cÃ³ tÃªn web02 báº±ng SSH Ä‘á»ƒ thao tÃ¡c trá»±c tiáº¿p trÃªn VM.

---

Háº¿t.
		
		- cmd: vagrant destroy web01
		
== Giáº£i thÃ­ch chi tiáº¿t: vagrant destroy web01 ==

LÆ°u Ã½: tá»‡p nÃ y á»Ÿ dáº¡ng plain text (khÃ´ng dÃ¹ng Ä‘Ã¡nh dáº¥u phá»©c táº¡p) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ o file .txt.
(Trong giao diá»‡n, báº¡n cÃ³ thá»ƒ nháº¥n nÃºt sao chÃ©p / Copy Ä‘á»ƒ copy toÃ n bá»™ ná»™i dung.)

---

1. CÃ¢u lá»‡nh Ä‘áº§y Ä‘á»§:

vagrant destroy web01

---

2. Má»¥c Ä‘Ã­ch ngáº¯n gá»n:

* Lá»‡nh nÃ y xÃ³a hoÃ n toÃ n mÃ¡y áº£o Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi Vagrant cÃ³ tÃªn (hoáº·c ID) `web01`.
* Bao gá»“m: táº¯t mÃ¡y áº£o náº¿u Ä‘ang cháº¡y, xÃ³a táº¥t cáº£ file tráº¡ng thÃ¡i, cáº¥u hÃ¬nh vÃ  dá»¯ liá»‡u mÃ¡y áº£o trÃªn há»‡ thá»‘ng. MÃ¡y áº£o sáº½ khÃ´ng cÃ²n tá»“n táº¡i ná»¯a sau khi lá»‡nh hoÃ n táº¥t.

---

3. PhÃ¢n tÃ­ch tá»«ng pháº§n:

* vagrant

  * CÃ´ng cá»¥ quáº£n lÃ½ mÃ´i trÆ°á»ng áº£o hÃ³a (VirtualBox, VMware, Hyper-V, Docker) dÃ¹ng Vagrantfile Ä‘á»ƒ Ä‘á»‹nh nghÄ©a VM.
  * Cung cáº¥p cÃ¡c lá»‡nh: up, halt, reload, provision, ssh, destroy...

* destroy

  * Action cá»§a Vagrant Ä‘á»ƒ xÃ³a mÃ¡y áº£o.
  * Táº¯t mÃ¡y áº£o náº¿u Ä‘ang cháº¡y.
  * XÃ³a VM khá»i hypervisor (vÃ­ dá»¥ VirtualBox), xÃ³a file tráº¡ng thÃ¡i vÃ  dá»¯ liá»‡u trong thÆ° má»¥c `.vagrant`.
  * TÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i â€œdá»n dáº¹p hoÃ n toÃ nâ€ VM.

* web01

  * TÃªn hoáº·c ID cá»§a mÃ¡y áº£o mÃ  báº¡n muá»‘n xÃ³a.
  * Náº¿u bá» trá»‘ng, Vagrant sáº½ há»i báº¡n muá»‘n xÃ³a táº¥t cáº£ mÃ¡y áº£o trong thÆ° má»¥c hiá»‡n táº¡i hay khÃ´ng.

---

4. Quy trÃ¬nh thá»±c thi:

1) Vagrant kiá»ƒm tra tráº¡ng thÃ¡i mÃ¡y áº£o `web01`.
2) Náº¿u Ä‘ang cháº¡y, tá»± Ä‘á»™ng thá»±c hiá»‡n lá»‡nh shutdown.
3) XÃ³a VM khá»i hypervisor (VirtualBox/VMware/Hyper-V).
4) XÃ³a cÃ¡c file tráº¡ng thÃ¡i `.vagrant/machines/web01/...`.
5) Hiá»ƒn thá»‹ thÃ´ng bÃ¡o xÃ¡c nháº­n vÃ  tráº¡ng thÃ¡i hoÃ n táº¥t.

---

5. TÃ¹y chá»n há»¯u Ã­ch:

* -f, --force

  * KhÃ´ng yÃªu cáº§u xÃ¡c nháº­n trÆ°á»›c khi xÃ³a. VÃ­ dá»¥:

    * vagrant destroy web01 --force

* --parallel

  * Náº¿u xÃ³a nhiá»u VM cÃ¹ng lÃºc trong mÃ´i trÆ°á»ng multi-machine.

---

6. Khi nÃ o nÃªn dÃ¹ng `vagrant destroy`?

* Khi báº¡n muá»‘n xÃ³a hoÃ n toÃ n má»™t VM Ä‘á»ƒ giáº£i phÃ³ng tÃ i nguyÃªn.
* Khi VM bá»‹ lá»—i, khÃ´ng thá»ƒ khá»Ÿi Ä‘á»™ng hoáº·c muá»‘n reset tá»« Ä‘áº§u.
* Khi muá»‘n dá»n sáº¡ch mÃ´i trÆ°á»ng thá»­ nghiá»‡m.

---

7. LÆ°u Ã½ quan trá»ng:

* Dá»¯ liá»‡u trÃªn mÃ¡y áº£o sáº½ **máº¥t háº¿t** trá»« khi Ä‘Æ°á»£c mount tá»« thÆ° má»¥c host.
* Náº¿u cÃ³ file dá»¯ liá»‡u quan trá»ng, hÃ£y backup trÆ°á»›c khi destroy.
* XÃ¡c nháº­n Ä‘Ãºng VM: trÃ¡nh xÃ³a nháº§m mÃ¡y áº£o.

---

8. Kiá»ƒm tra trÆ°á»›c khi destroy:

* vagrant status web01

  * Kiá»ƒm tra tráº¡ng thÃ¡i mÃ¡y áº£o Ä‘ang cháº¡y hay dá»«ng.
* vagrant global-status

  * Liá»‡t kÃª táº¥t cáº£ VM Ä‘ang quáº£n lÃ½ trÃªn há»‡ thá»‘ng.

---

9. Sau khi destroy:

* MÃ¡y áº£o `web01` sáº½ khÃ´ng cÃ²n trong danh sÃ¡ch vagrant status.
* ThÆ° má»¥c `.vagrant/machines/web01` sáº½ bá»‹ xÃ³a.
* Báº¡n cÃ³ thá»ƒ tÃ¡i táº¡o VM tá»« Vagrantfile báº±ng `vagrant up web01`.

---

10. TÃ³m táº¯t ngáº¯n gá»n (1 cÃ¢u):

* `vagrant destroy web01` xÃ³a hoÃ n toÃ n mÃ¡y áº£o `web01` do Vagrant quáº£n lÃ½, bao gá»“m táº¯t, xÃ³a dá»¯ liá»‡u vÃ  tráº¡ng thÃ¡i, giáº£i phÃ³ng tÃ i nguyÃªn, vÃ  khÃ´ng thá»ƒ khÃ´i phá»¥c trá»« khi backup trÆ°á»›c.

---

Báº£n quyá»n: tÃ i liá»‡u nÃ y do báº¡n sao chÃ©p vÃ  sá»­ dá»¥ng. ChÃºc báº¡n thao tÃ¡c an toÃ n!
		
		
		- cmd: vagrant up web03
		
vagrant up web03

---

MÃ´ táº£ chi tiáº¿t (plain text, sáºµn sÃ ng copy vÃ o file .txt):

1. Ã nghÄ©a ngáº¯n gá»n:
   Lá»‡nh `vagrant up web03` khá»Ÿi Ä‘á»™ng (start) má»™t mÃ¡y áº£o (virtual machine) Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong Vagrant vá»›i tÃªn mÃ¡y áº£o lÃ  `web03`. Náº¿u mÃ¡y áº£o chÆ°a tá»“n táº¡i, Vagrant sáº½ táº¡o, cáº¥u hÃ¬nh vÃ  khá»Ÿi Ä‘á»™ng nÃ³ theo file `Vagrantfile` trong thÆ° má»¥c hiá»‡n táº¡i.

2. CÃº phÃ¡p cÆ¡ báº£n:

```
vagrant up [name] [options]
```

* `[name]`: tÃªn cá»§a mÃ¡y áº£o Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong `Vagrantfile`. Náº¿u khÃ´ng cÃ³ tÃªn, Vagrant sáº½ Ã¡p dá»¥ng cho táº¥t cáº£ cÃ¡c mÃ¡y áº£o trong Vagrantfile.
* `[options]`: cÃ¡c tÃ¹y chá»n bá»• sung nhÆ° `--provider` Ä‘á»ƒ chá»n nhÃ  cung cáº¥p (VirtualBox, VMware, Hyper-V, v.v.).

3. Giáº£i thÃ­ch thÃ nh pháº§n:

* `vagrant`: lÃ  cÃ´ng cá»¥ quáº£n lÃ½ mÃ´i trÆ°á»ng áº£o hÃ³a, giÃºp tá»± Ä‘á»™ng hÃ³a táº¡o, cáº¥u hÃ¬nh vÃ  quáº£n lÃ½ cÃ¡c mÃ¡y áº£o.
* `up`: lá»‡nh khá»Ÿi Ä‘á»™ng mÃ¡y áº£o, bao gá»“m cÃ¡c bÆ°á»›c:

  1. Kiá»ƒm tra tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a mÃ¡y áº£o.
  2. Náº¿u mÃ¡y áº£o chÆ°a tá»“n táº¡i, táº£i box (box image) Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a.
  3. Táº¡o mÃ¡y áº£o trÃªn hypervisor (VirtualBox, VMware, v.v.).
  4. Ãp dá»¥ng cáº¥u hÃ¬nh tá»« `Vagrantfile` (network, synced folders, provisioners, v.v.).
  5. Khá»Ÿi Ä‘á»™ng mÃ¡y áº£o.
* `web03`: tÃªn mÃ¡y áº£o trong Vagrantfile cáº§n khá»Ÿi Ä‘á»™ng.

4. Quy trÃ¬nh khi cháº¡y lá»‡nh `vagrant up web03`:

* Vagrant kiá»ƒm tra tráº¡ng thÃ¡i mÃ¡y `web03`.
* Náº¿u mÃ¡y chÆ°a tá»“n táº¡i, Vagrant táº£i box tá»« local hoáº·c remote (náº¿u cáº§n).
* Táº¡o vÃ  cáº¥u hÃ¬nh mÃ¡y áº£o theo cáº¥u hÃ¬nh trong Vagrantfile.
* Cháº¡y cÃ¡c script provision (náº¿u cÃ³) Ä‘á»ƒ cÃ i Ä‘áº·t pháº§n má»m, cáº¥u hÃ¬nh há»‡ thá»‘ng.
* Khá»Ÿi Ä‘á»™ng mÃ¡y áº£o.

5. CÃ¡c tÃ¹y chá»n há»¯u Ã­ch:

* `--provision`: buá»™c cháº¡y láº¡i provisioners dÃ¹ mÃ¡y Ä‘Ã£ tá»“n táº¡i.

  ```
  vagrant up web03 --provision
  ```
* `--provider`: chá»‰ Ä‘á»‹nh nhÃ  cung cáº¥p mÃ¡y áº£o, vÃ­ dá»¥ VirtualBox:

  ```
  vagrant up web03 --provider=virtualbox
  ```
* `--destroy-on-error`: náº¿u quÃ¡ trÃ¬nh táº¡o gáº·p lá»—i, mÃ¡y áº£o sáº½ bá»‹ xÃ³a tá»± Ä‘á»™ng.

6. Kiá»ƒm tra tráº¡ng thÃ¡i sau khi `vagrant up`:

* `vagrant status web03`: kiá»ƒm tra tráº¡ng thÃ¡i mÃ¡y áº£o (running, poweroff, saved, v.v.).
* `vagrant ssh web03`: Ä‘Äƒng nháº­p vÃ o mÃ¡y áº£o qua SSH.

7. LÆ°u Ã½ vÃ  best practices:

* Äáº£m báº£o Vagrantfile Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh Ä‘Ãºng tÃªn mÃ¡y `web03`.
* Äáº£m báº£o box Ä‘Ã£ Ä‘Æ°á»£c táº£i vá» hoáº·c cÃ³ káº¿t ná»‘i Internet Ä‘á»ƒ táº£i box náº¿u cáº§n.
* Kiá»ƒm tra provider (VirtualBox, VMware, Hyper-V) Ä‘Ã£ cÃ i Ä‘áº·t vÃ  tÆ°Æ¡ng thÃ­ch.
* Sá»­ dá»¥ng `vagrant halt web03` Ä‘á»ƒ táº¯t mÃ¡y áº£o an toÃ n.
* Sao lÆ°u dá»¯ liá»‡u quan trá»ng trong mÃ¡y áº£o, vÃ¬ provisioners cÃ³ thá»ƒ ghi Ä‘Ã¨ hoáº·c thay Ä‘á»•i há»‡ thá»‘ng.

8. VÃ­ dá»¥ thá»±c táº¿:

```
# Khá»Ÿi Ä‘á»™ng mÃ¡y áº£o web03, náº¿u chÆ°a tá»“n táº¡i sáº½ táº¡o má»›i
vagrant up web03

# Khá»Ÿi Ä‘á»™ng vÃ  buá»™c cháº¡y láº¡i cÃ¡c script provision
vagrant up web03 --provision

# Kiá»ƒm tra tráº¡ng thÃ¡i mÃ¡y áº£o
vagrant status web03

# SSH vÃ o mÃ¡y áº£o
vagrant ssh web03
```

---

Ghi chÃº: Báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ ná»™i dung nÃ y trá»±c tiáº¿p vÃ o file .txt. Ná»™i dung trÃ¬nh bÃ y Ä‘áº§y Ä‘á»§, rÃµ rÃ ng vÃ  sáºµn sÃ ng sá»­ dá»¥ng.
		
		
		- cmd: ls /usr/lib/systemd/system/
		
ls /usr/lib/systemd/system/

MÃ” Táº¢ NGáº®N (1 cÃ¢u):
Liá»‡t kÃª táº¥t cáº£ cÃ¡c file vÃ  thÆ° má»¥c trong thÆ° má»¥c /usr/lib/systemd/system/ nÆ¡i chá»©a cÃ¡c unit file máº·c Ä‘á»‹nh cá»§a systemd.

CÃš PHÃP (plain text, copy vÃ o .txt):
ls /usr/lib/systemd/system/
ls -l /usr/lib/systemd/system/   # Ä‘á»ƒ xem chi tiáº¿t quyá»n, owner, thá»i gian sá»­a
ls -lh /usr/lib/systemd/system/  # hiá»ƒn thá»‹ kÃ­ch thÆ°á»›c dá»… Ä‘á»c hÆ¡n

GIáº¢I THÃCH CHI TIáº¾T Tá»ªNG PHáº¦N:

* ls
  Lá»‡nh liá»‡t kÃª ná»™i dung cá»§a thÆ° má»¥c trÃªn Linux/Unix.

* /usr/lib/systemd/system/
  ThÆ° má»¥c chá»©a cÃ¡c "unit files" máº·c Ä‘á»‹nh cá»§a systemd, bao gá»“m:

  * service units (*.service)
  * target units (*.target)
  * mount units (*.mount)
  * socket units (*.socket)
  * timer units (*.timer)

  ÄÃ¢y lÃ  cÃ¡c cáº¥u hÃ¬nh do há»‡ thá»‘ng cung cáº¥p, khÃ´ng pháº£i do ngÆ°á»i dÃ¹ng táº¡o ra.

TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG:

* -l: hiá»ƒn thá»‹ chi tiáº¿t (long listing), gá»“m quyá»n, owner, nhÃ³m, kÃ­ch thÆ°á»›c, ngÃ y sá»­a
* -h: human-readable, hiá»ƒn thá»‹ kÃ­ch thÆ°á»›c file dá»… Ä‘á»c (KB, MB)
* -a: hiá»ƒn thá»‹ táº¥t cáº£, ká»ƒ cáº£ file áº©n

VÃ Dá»¤ Káº¾T QUáº¢:
-rw-r--r-- 1 root root  1234 Dec  3 10:00 cron.service
-rw-r--r-- 1 root root  2345 Dec  3 10:00 ssh.service
-rw-r--r-- 1 root root  3456 Dec  3 10:00 systemd-journald.service
...

LÆ¯U Ã THá»°C TIá»„N:

1. CÃ¡c file trong /usr/lib/systemd/system/ lÃ  do há»‡ thá»‘ng quáº£n lÃ½, **khÃ´ng nÃªn chá»‰nh sá»­a trá»±c tiáº¿p**.
2. Náº¿u muá»‘n override hoáº·c thay Ä‘á»•i, hÃ£y táº¡o file trong /etc/systemd/system/ hoáº·c dÃ¹ng systemctl edit <unit>.
3. Kiá»ƒm tra quyá»n: cÃ¡c file thÆ°á»ng thuá»™c vá» root, nÃªn náº¿u muá»‘n liá»‡t kÃª chi tiáº¿t cáº§n quyá»n sudo:
   sudo ls -l /usr/lib/systemd/system/

CÃC Lá»†NH LIÃŠN QUAN:

* systemctl list-units --type=service  # xem danh sÃ¡ch cÃ¡c service Ä‘ang cháº¡y
* systemctl status <service>          # xem tráº¡ng thÃ¡i cá»¥ thá»ƒ service
* systemctl enable/disable <service>  # báº­t/táº¯t service

GHI CHÃš CUá»I:

* ThÆ° má»¥c nÃ y quan trá»ng cho viá»‡c quáº£n lÃ½ dá»‹ch vá»¥ vÃ  boot cá»§a Linux.
* Sá»­ dá»¥ng lá»‡nh ls Ä‘á»ƒ tham kháº£o, nhÆ°ng thay Ä‘á»•i trá»±c tiáº¿p cÃ¡c file á»Ÿ Ä‘Ã¢y khÃ´ng khuyáº¿n khÃ­ch.

---

Tá»‡p nÃ y lÃ  plain text, Ä‘á»‹nh dáº¡ng rÃµ rÃ ng Ä‘á»ƒ sao chÃ©p trá»±c tiáº¿p vÃ o file .txt.
		
		
		- cmd: cat /usr/lib/systemd/system/httpd.service
		
---

## TIÃŠU Äá»€: Giáº£i thÃ­ch chi tiáº¿t: cat /usr/lib/systemd/system/httpd.service

1. CÃ¢u lá»‡nh (sáºµn Ä‘á»ƒ copy):

cat /usr/lib/systemd/system/httpd.service

2. Má»¥c Ä‘Ã­ch chung:

Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **hiá»ƒn thá»‹ ná»™i dung file cáº¥u hÃ¬nh dá»‹ch vá»¥ `httpd`** cá»§a systemd trá»±c tiáº¿p ra terminal, cho phÃ©p báº¡n Ä‘á»c cÃ¡c thÃ´ng tin vá» cÃ¡ch systemd quáº£n lÃ½ dá»‹ch vá»¥ Apache (httpd) trÃªn Linux.

3. PhÃ¢n tÃ­ch cÃº phÃ¡p tá»«ng pháº§n:

* `cat` : lá»‡nh Unix/Linux dÃ¹ng Ä‘á»ƒ **in ná»™i dung file ra stdout** (mÃ n hÃ¬nh terminal).
* `/usr/lib/systemd/system/httpd.service` : Ä‘Æ°á»ng dáº«n Ä‘áº¿n file **unit file** cá»§a dá»‹ch vá»¥ `httpd` (Apache) trong há»‡ thá»‘ng sá»­ dá»¥ng systemd.

4. Vá»‹ trÃ­ vÃ  Ã½ nghÄ©a file `httpd.service`:

* ThÆ°á»ng náº±m trong:

  * `/usr/lib/systemd/system/` : file gá»‘c Ä‘Æ°á»£c cÃ i bá»Ÿi package, khÃ´ng nÃªn chá»‰nh trá»±c tiáº¿p náº¿u cÃ³ thá»ƒ override.
  * `/etc/systemd/system/` : file Ä‘Æ°á»£c override hoáº·c táº¡o má»›i bá»Ÿi admin.

* Ná»™i dung file `.service` chá»©a cÃ¡c thÃ´ng tin:

  * `[Unit]` : mÃ´ táº£ dá»‹ch vá»¥, phá»¥ thuá»™c dá»‹ch vá»¥ khÃ¡c, mÃ´ táº£ ngáº¯n
  * `[Service]` : cÃ¡ch cháº¡y dá»‹ch vá»¥ (chÆ°Æ¡ng trÃ¬nh, user, group, restart policy, mÃ´i trÆ°á»ng, ExecStart,...)
  * `[Install]` : thÃ´ng tin khi enable dá»‹ch vá»¥ (WantedBy, Alias,...)

* VÃ­ dá»¥ trÃ­ch má»™t sá»‘ dÃ²ng trong `httpd.service`:

```
[Unit]
Description=The Apache HTTP Server
After=network.target remote-fs.target nss-lookup.target

[Service]
Type=notify
ExecStart=/usr/sbin/httpd $OPTIONS -DFOREGROUND
ExecReload=/usr/sbin/httpd $OPTIONS -k graceful
KillSignal=SIGCONT
PrivateTmp=true

[Install]
WantedBy=multi-user.target
```

* Giáº£i thÃ­ch:

  * `ExecStart` : lá»‡nh Ä‘á»ƒ start dá»‹ch vá»¥
  * `ExecReload` : lá»‡nh reload khi `systemctl reload httpd`
  * `Type=notify` : dá»‹ch vá»¥ thÃ´ng bÃ¡o systemd khi Ä‘Ã£ sáºµn sÃ ng
  * `WantedBy=multi-user.target` : dá»‹ch vá»¥ tá»± start khi system boot á»Ÿ runlevel Ä‘a ngÆ°á»i dÃ¹ng

5. TÃ¡c dá»¥ng thá»±c táº¿ cá»§a lá»‡nh `cat`:

* Cho phÃ©p admin **xem ná»™i dung cáº¥u hÃ¬nh**, kiá»ƒm tra cÃ¡c Ä‘Æ°á»ng dáº«n, tham sá»‘ start/reload dá»‹ch vá»¥.
* KhÃ´ng chá»‰nh sá»­a file, chá»‰ Ä‘á»c. Náº¿u muá»‘n chá»‰nh sá»­a, dÃ¹ng `nano`, `vi` hoáº·c override báº±ng `systemctl edit httpd`.

6. Má»™t sá»‘ lá»‡nh liÃªn quan:

* Kiá»ƒm tra tráº¡ng thÃ¡i dá»‹ch vá»¥ Apache:
  systemctl status httpd

* Má»Ÿ unit file Ä‘á»ƒ chá»‰nh sá»­a override:
  systemctl edit httpd

* Reload systemd sau khi thay Ä‘á»•i file:
  systemctl daemon-reload

7. TÃ³m táº¯t ngáº¯n (copy nhanh):

cat /usr/lib/systemd/system/httpd.service

* Hiá»ƒn thá»‹ ná»™i dung file unit cá»§a dá»‹ch vá»¥ httpd (Apache) trong systemd Ä‘á»ƒ Ä‘á»c cáº¥u hÃ¬nh vÃ  tham sá»‘ khá»Ÿi cháº¡y.

---

Háº¿t.
		
		
		- cmd: ls /etc/httpd/
		
== Giáº£i thÃ­ch chi tiáº¿t: ls /etc/httpd/ ==

LÆ°u Ã½: tá»‡p nÃ y á»Ÿ dáº¡ng plain text (khÃ´ng dÃ¹ng Ä‘Ã¡nh dáº¥u phá»©c táº¡p) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ o file .txt.
(Trong giao diá»‡n, báº¡n cÃ³ thá»ƒ nháº¥n nÃºt sao chÃ©p / Copy Ä‘á»ƒ copy toÃ n bá»™ ná»™i dung.)

---

1. CÃ¢u lá»‡nh Ä‘áº§y Ä‘á»§:

ls /etc/httpd/

---

2. Má»¥c Ä‘Ã­ch ngáº¯n gá»n:

* Lá»‡nh nÃ y liá»‡t kÃª danh sÃ¡ch cÃ¡c file vÃ  thÆ° má»¥c cÃ³ trong thÆ° má»¥c `/etc/httpd/`.
* ThÆ° má»¥c `/etc/httpd/` lÃ  nÆ¡i chá»©a cáº¥u hÃ¬nh cá»§a Apache trÃªn cÃ¡c há»‡ thá»‘ng Linux/Unix (thÆ°á»ng lÃ  CentOS, RHEL, Fedora). TrÃªn Debian/Ubuntu, Apache thÆ°á»ng lÆ°u cáº¥u hÃ¬nh á»Ÿ `/etc/apache2/`.

---

3. PhÃ¢n tÃ­ch tá»«ng pháº§n:

* ls

  * Lá»‡nh liá»‡t kÃª ná»™i dung cá»§a thÆ° má»¥c (List directory contents).
  * CÃ³ nhiá»u tÃ¹y chá»n: -l (danh sÃ¡ch chi tiáº¿t), -a (hiá»‡n cáº£ file áº©n), -h (hiá»ƒn thá»‹ size dá»… Ä‘á»c), v.v.

* /etc/httpd/

  * ÄÆ°á»ng dáº«n thÆ° má»¥c cáº¥u hÃ¬nh Apache:

    * conf/ : chá»©a file cáº¥u hÃ¬nh chÃ­nh `httpd.conf`.
    * conf.d/ : chá»©a cÃ¡c file cáº¥u hÃ¬nh bá»• sung (vÃ­ dá»¥ virtual host, modules).
    * logs/ : (náº¿u cÃ³) thÆ° má»¥c log máº·c Ä‘á»‹nh.
    * modules/ : cÃ¡c module Apache (trÃªn má»™t sá»‘ báº£n phÃ¢n phá»‘i).

---

4. Khi nÃ o dÃ¹ng lá»‡nh nÃ y?

* Kiá»ƒm tra cáº¥u trÃºc thÆ° má»¥c Apache.
* XÃ¡c Ä‘á»‹nh file cáº¥u hÃ¬nh nÃ o tá»“n táº¡i trÆ°á»›c khi chá»‰nh sá»­a.
* Há»— trá»£ xÃ¡c minh viá»‡c cÃ i Ä‘áº·t Apache cÃ³ Ä‘Ãºng khÃ´ng.

---

5. CÃ¡c tÃ¹y chá»n há»¯u Ã­ch vá»›i ls:

* ls -l /etc/httpd/

  * Liá»‡t kÃª chi tiáº¿t: quyá»n, owner, group, size, ngÃ y sá»­a.

* ls -a /etc/httpd/

  * Hiá»ƒn thá»‹ cáº£ file áº©n (tÃªn báº¯t Ä‘áº§u báº±ng dáº¥u .)

* ls -lh /etc/httpd/

  * Hiá»ƒn thá»‹ chi tiáº¿t vÃ  kÃ­ch thÆ°á»›c dá»… Ä‘á»c.

---

6. LÆ°u Ã½:

* Quyá»n truy cáº­p:

  * ThÆ°á»ng cáº§n quyá»n root hoáº·c sudo Ä‘á»ƒ xem má»™t sá»‘ file cáº¥u hÃ¬nh nháº¡y cáº£m.
  * Náº¿u gáº·p lá»—i permission denied, dÃ¹ng: sudo ls /etc/httpd/

* TÃªn thÆ° má»¥c cÃ³ thá»ƒ khÃ¡c:

  * TrÃªn Ubuntu/Debian: `/etc/apache2/`
  * TrÃªn CentOS/RHEL/Fedora: `/etc/httpd/`

---

7. VÃ­ dá»¥ thá»±c táº¿:

1) Liá»‡t kÃª nhanh ná»™i dung:

   * ls /etc/httpd/

2) Liá»‡t kÃª chi tiáº¿t:

   * ls -l /etc/httpd/

3) Kiá»ƒm tra file cáº¥u hÃ¬nh trÆ°á»›c khi chá»‰nh sá»­a:

   * ls -l /etc/httpd/conf/
   * sudo nano /etc/httpd/conf/httpd.conf

---

8. Tá»•ng káº¿t:

* `ls /etc/httpd/` lÃ  lá»‡nh cÆ¡ báº£n Ä‘á»ƒ xem ná»™i dung thÆ° má»¥c cáº¥u hÃ¬nh Apache, giÃºp báº¡n biáº¿t cÃ¡c file vÃ  thÆ° má»¥c cÃ³ sáºµn trÆ°á»›c khi thao tÃ¡c chá»‰nh sá»­a hoáº·c kiá»ƒm tra server.

---

Báº£n quyá»n: tÃ i liá»‡u nÃ y do báº¡n sao chÃ©p vÃ  sá»­ dá»¥ng. ChÃºc báº¡n thao tÃ¡c an toÃ n!
		
		
		- cmd: ls /var/log/httpd/
		
ls /var/log/httpd/

---

MÃ´ táº£ chi tiáº¿t (plain text, sáºµn sÃ ng copy vÃ o file .txt):

1. Ã nghÄ©a ngáº¯n gá»n:
   Lá»‡nh `ls /var/log/httpd/` liá»‡t kÃª danh sÃ¡ch táº¥t cáº£ cÃ¡c file vÃ  thÆ° má»¥c con trong thÆ° má»¥c `/var/log/httpd/`. ÄÃ¢y lÃ  thÆ° má»¥c lÆ°u trá»¯ cÃ¡c file log cá»§a Apache HTTP Server (httpd) trÃªn há»‡ thá»‘ng Linux.

2. Giáº£i thÃ­ch thÃ nh pháº§n:

* `ls`: lá»‡nh liá»‡t kÃª (list) cÃ¡c file vÃ  thÆ° má»¥c trong má»™t Ä‘Æ°á»ng dáº«n.
* `/var/log/httpd/`: Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i tá»›i thÆ° má»¥c chá»©a cÃ¡c file log cá»§a Apache HTTP Server.

3. CÃ¡c loáº¡i file log thÆ°á»ng gáº·p trong `/var/log/httpd/`:

* `access_log`: ghi láº¡i táº¥t cáº£ cÃ¡c request mÃ  server nháº­n Ä‘Æ°á»£c, bao gá»“m thÃ´ng tin vá» IP, thá»i gian, URL, HTTP status code, user agent, v.v.
* `error_log`: ghi láº¡i cÃ¡c lá»—i xáº£y ra trong quÃ¡ trÃ¬nh cháº¡y Apache, vÃ­ dá»¥ lá»—i cáº¥u hÃ¬nh, lá»—i káº¿t ná»‘i, lá»—i PHP (náº¿u tÃ­ch há»£p).
* CÃ¡c file log theo ngÃ y hoáº·c tuáº§n cÃ³ thá»ƒ cÃ³ dáº¡ng `access_log-YYYYMMDD`, `error_log-YYYYMMDD.gz`.

4. CÃ¡c tÃ¹y chá»n phá»• biáº¿n khi dÃ¹ng `ls`:

* `ls -l /var/log/httpd/`: hiá»ƒn thá»‹ chi tiáº¿t, bao gá»“m quyá»n, owner, size, thá»i gian chá»‰nh sá»­a.
* `ls -lh /var/log/httpd/`: hiá»ƒn thá»‹ size dáº¡ng dá»… Ä‘á»c (KB, MB).
* `ls -lt /var/log/httpd/`: sáº¯p xáº¿p theo thá»i gian sá»­a Ä‘á»•i má»›i nháº¥t.
* `ls -la /var/log/httpd/`: hiá»ƒn thá»‹ cáº£ cÃ¡c file áº©n.

5. VÃ­ dá»¥ sá»­ dá»¥ng:

```
# Liá»‡t kÃª táº¥t cáº£ file trong thÆ° má»¥c log httpd
ls /var/log/httpd/

# Liá»‡t kÃª chi tiáº¿t
ls -l /var/log/httpd/

# Liá»‡t kÃª theo thá»i gian sá»­a Ä‘á»•i
ls -lt /var/log/httpd/
```

6. Má»¥c Ä‘Ã­ch sá»­ dá»¥ng:

* Kiá»ƒm tra xem Apache cÃ³ ghi log khÃ´ng.
* XÃ¡c Ä‘á»‹nh cÃ¡c file log cáº§n phÃ¢n tÃ­ch Ä‘á»ƒ debug hoáº·c kiá»ƒm tra lÆ°u lÆ°á»£ng.
* Kiá»ƒm tra quyá»n vÃ  tá»“n táº¡i cá»§a cÃ¡c file log.

7. LÆ°u Ã½:

* ThÆ° má»¥c `/var/log/httpd/` thÆ°á»ng yÃªu cáº§u quyá»n root Ä‘á»ƒ xem má»™t sá»‘ file log, do Ä‘Ã³ cÃ³ thá»ƒ cáº§n dÃ¹ng `sudo`:
  `sudo ls /var/log/httpd/`
* TrÃªn má»™t sá»‘ há»‡ thá»‘ng (vÃ­ dá»¥ CentOS 7/8), thÆ° má»¥c log cá»§a Apache cÃ³ thá»ƒ lÃ  `/var/log/apache2/` hoáº·c `/var/log/httpd/` tÃ¹y cÃ¡ch cÃ i Ä‘áº·t.

---

Ghi chÃº: Báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ ná»™i dung nÃ y trá»±c tiáº¿p vÃ o file .txt. Ná»™i dung trÃ¬nh bÃ y Ä‘áº§y Ä‘á»§, rÃµ rÃ ng vÃ  sáºµn sÃ ng sá»­ dá»¥ng.
		
		
		- cmd: wget https://dlcdn.apache.org/tomcat/tomcat-10/v10.1.46/bin/apache-tomcat-10.1.46.tar.gz
		
wget [https://dlcdn.apache.org/tomcat/tomcat-10/v10.1.46/bin/apache-tomcat-10.1.46.tar.gz](https://dlcdn.apache.org/tomcat/tomcat-10/v10.1.46/bin/apache-tomcat-10.1.46.tar.gz)

MÃ” Táº¢ NGáº®N (1 cÃ¢u):
Sá»­ dá»¥ng wget Ä‘á»ƒ táº£i trá»±c tiáº¿p file nÃ©n Apache Tomcat 10.1.46 tá»« server chÃ­nh thá»©c cá»§a Apache vá» mÃ¡y hiá»‡n táº¡i.

CÃš PHÃP (plain text, copy vÃ o .txt):
wget [URL]

PHáº¦N GIáº¢I THÃCH Tá»ªNG THá»¨:

* wget
  LÃ  lá»‡nh trong Linux/Unix Ä‘á»ƒ táº£i file tá»« Internet qua HTTP, HTTPS hoáº·c FTP. Há»— trá»£ download trá»±c tiáº¿p vÃ o thÆ° má»¥c hiá»‡n táº¡i.

* [https://dlcdn.apache.org/tomcat/tomcat-10/v10.1.46/bin/apache-tomcat-10.1.46.tar.gz](https://dlcdn.apache.org/tomcat/tomcat-10/v10.1.46/bin/apache-tomcat-10.1.46.tar.gz)
  URL trá» tá»›i file tar.gz chá»©a bá»™ cÃ i Ä‘áº·t Apache Tomcat 10.1.46.

VÃ Dá»¤ THá»°C THI:

1. Chá»‰ táº£i file vÃ o thÆ° má»¥c hiá»‡n táº¡i:
   wget [https://dlcdn.apache.org/tomcat/tomcat-10/v10.1.46/bin/apache-tomcat-10.1.46.tar.gz](https://dlcdn.apache.org/tomcat/tomcat-10/v10.1.46/bin/apache-tomcat-10.1.46.tar.gz)

2. Táº£i vÃ  Ä‘á»•i tÃªn file:
   wget -O tomcat10.tar.gz [https://dlcdn.apache.org/tomcat/tomcat-10/v10.1.46/bin/apache-tomcat-10.1.46.tar.gz](https://dlcdn.apache.org/tomcat/tomcat-10/v10.1.46/bin/apache-tomcat-10.1.46.tar.gz)

3. Tiáº¿p tá»¥c download náº¿u bá»‹ giÃ¡n Ä‘oáº¡n:
   wget -c [https://dlcdn.apache.org/tomcat/tomcat-10/v10.1.46/bin/apache-tomcat-10.1.46.tar.gz](https://dlcdn.apache.org/tomcat/tomcat-10/v10.1.46/bin/apache-tomcat-10.1.46.tar.gz)

TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG:

* -O <tÃªn_file> : lÆ°u file vá»›i tÃªn khÃ¡c
* -c : tiáº¿p tá»¥c download bá»‹ giÃ¡n Ä‘oáº¡n
* -q : cháº¿ Ä‘á»™ im láº·ng (khÃ´ng hiá»‡n tiáº¿n trÃ¬nh)
* --limit-rate=100k : giá»›i háº¡n bÄƒng thÃ´ng

LÆ¯U Ã THá»°C TIá»„N:

1. Kiá»ƒm tra káº¿t ná»‘i Internet trÆ°á»›c khi táº£i.

2. Äáº£m báº£o báº¡n cÃ³ quyá»n ghi trong thÆ° má»¥c hiá»‡n táº¡i.

3. File táº£i vá» lÃ  tar.gz, cáº§n giáº£i nÃ©n sau khi download:
   tar -xvzf apache-tomcat-10.1.46.tar.gz

4. Kiá»ƒm tra checksum (SHA512) Ä‘á»ƒ xÃ¡c thá»±c file:
   sha512sum apache-tomcat-10.1.46.tar.gz

CÃC Lá»†NH LIÃŠN QUAN:

* curl -O [https://dlcdn.apache.org/tomcat/tomcat-10/v10.1.46/bin/apache-tomcat-10.1.46.tar.gz](https://dlcdn.apache.org/tomcat/tomcat-10/v10.1.46/bin/apache-tomcat-10.1.46.tar.gz)  # tÆ°Æ¡ng tá»± wget
* tar -xvzf apache-tomcat-10.1.46.tar.gz  # giáº£i nÃ©n file tar.gz

GHI CHÃš CUá»I:

* Lá»‡nh nÃ y chá»‰ táº£i file vá» mÃ¡y; chÆ°a cÃ i Ä‘áº·t Tomcat.
* Sau khi táº£i xong, báº¡n cáº§n giáº£i nÃ©n, di chuyá»ƒn tá»›i thÆ° má»¥c mong muá»‘n vÃ  cáº¥u hÃ¬nh cÃ¡c biáº¿n mÃ´i trÆ°á»ng JAVA_HOME, CATALINA_HOME náº¿u cáº§n.

---

Tá»‡p nÃ y lÃ  plain text, Ä‘á»‹nh dáº¡ng rÃµ rÃ ng Ä‘á»ƒ sao chÃ©p trá»±c tiáº¿p vÃ o file .txt.
		
		
		- cmd: tar xzvf apache-tomcat-10.1.46.tar.gz
		
---

## TIÃŠU Äá»€: Giáº£i thÃ­ch chi tiáº¿t: tar xzvf apache-tomcat-10.1.46.tar.gz

1. CÃ¢u lá»‡nh (sáºµn Ä‘á»ƒ copy):

tar xzvf apache-tomcat-10.1.46.tar.gz

2. Má»¥c Ä‘Ã­ch chung:

Giáº£i nÃ©n (extract) file nÃ©n `apache-tomcat-10.1.46.tar.gz` trong Linux/Unix, táº¡o thÆ° má»¥c chá»©a cÃ¡c file cá»§a Apache Tomcat phiÃªn báº£n 10.1.46.

3. PhÃ¢n tÃ­ch cÃº phÃ¡p tá»«ng pháº§n:

* `tar` : lá»‡nh dÃ¹ng Ä‘á»ƒ **nÃ©n vÃ  giáº£i nÃ©n cÃ¡c file/táº­p tin/thÆ° má»¥c** trÃªn Linux.

* CÃ¡c tÃ¹y chá»n `xzvf`:

  * `x` : extract, **giáº£i nÃ©n file tar**
  * `z` : nÃ©n/giáº£i nÃ©n **gzip** (dÃ¹ng cho .tar.gz hoáº·c .tgz)
  * `v` : verbose, **hiá»ƒn thá»‹ danh sÃ¡ch file Ä‘ang Ä‘Æ°á»£c giáº£i nÃ©n** trÃªn mÃ n hÃ¬nh
  * `f` : file, **chá»‰ Ä‘á»‹nh tÃªn file tar** phÃ­a sau lá»‡nh (`apache-tomcat-10.1.46.tar.gz`)

* `apache-tomcat-10.1.46.tar.gz` : tÃªn file nÃ©n tar Ä‘Ã£ Ä‘Æ°á»£c gzip, chá»©a toÃ n bá»™ thÆ° má»¥c cÃ i Ä‘áº·t Apache Tomcat 10.1.46.

4. CÆ¡ cháº¿ hoáº¡t Ä‘á»™ng:

1) `tar` Ä‘á»c file nÃ©n `apache-tomcat-10.1.46.tar.gz`.
2) Giáº£i nÃ©n gzip ra tar stream.
3) Giáº£i nÃ©n tar stream thÃ nh cÃ¡c file/thÆ° má»¥c tÆ°Æ¡ng á»©ng.
4) Táº¡o thÆ° má»¥c vÃ  file trong **thÆ° má»¥c hiá»‡n táº¡i** (current directory).
5) Hiá»ƒn thá»‹ danh sÃ¡ch file Ä‘ang Ä‘Æ°á»£c giáº£i nÃ©n nhá» `v`.

5. Káº¿t quáº£:

* ThÆ° má»¥c má»›i (thÆ°á»ng tÃªn `apache-tomcat-10.1.46/`) xuáº¥t hiá»‡n cÃ¹ng cáº¥p vá»›i vá»‹ trÃ­ cháº¡y lá»‡nh.
* BÃªn trong cÃ³ cÃ¡c thÆ° má»¥c vÃ  file: bin, conf, lib, logs, webapps, work, temp, LICENSE, RELEASE-NOTES, NOTICEâ€¦

6. LÆ°u Ã½:

* Cháº¡y lá»‡nh trong **thÆ° má»¥c báº¡n muá»‘n giáº£i nÃ©n Tomcat** (vÃ­ dá»¥: `/srv/www` hoáº·c `/opt`).

* Náº¿u muá»‘n giáº£i nÃ©n vÃ o thÆ° má»¥c cá»¥ thá»ƒ, dÃ¹ng thÃªm `-C`:
  tar xzvf apache-tomcat-10.1.46.tar.gz -C /opt/tomcat

* Äáº£m báº£o báº¡n cÃ³ quyá»n ghi (write) trong thÆ° má»¥c Ä‘Ã­ch.

* File `.tar.gz` pháº£i tá»“n táº¡i vÃ  khÃ´ng bá»‹ há»ng.

7. VÃ­ dá»¥ cháº¡y thá»±c táº¿:

cd /opt
sudo tar xzvf /tmp/apache-tomcat-10.1.46.tar.gz
ls -l apache-tomcat-10.1.46

8. CÃ¡c tÃ¹y chá»n thay tháº¿ hoáº·c há»¯u Ã­ch khÃ¡c:

* `j` : dÃ¹ng cho file `.tar.bz2`
* `J` : dÃ¹ng cho file `.tar.xz`
* `--strip-components=1` : bá» thÆ° má»¥c gá»‘c khi giáº£i nÃ©n, chá»‰ láº¥y ná»™i dung

9. TÃ³m táº¯t ngáº¯n (copy nhanh):

tar xzvf apache-tomcat-10.1.46.tar.gz

* Giáº£i nÃ©n file tar.gz chá»©a Apache Tomcat 10.1.46, táº¡o thÆ° má»¥c vÃ  cÃ¡c file bÃªn trong, hiá»ƒn thá»‹ chi tiáº¿t file Ä‘ang giáº£i nÃ©n.

---

Háº¿t.
		
		
		- cmd: dnf install java-17-openjdk -y
		
== Giáº£i thÃ­ch chi tiáº¿t: dnf install java-17-openjdk -y ==

LÆ°u Ã½: tá»‡p nÃ y á»Ÿ dáº¡ng plain text (khÃ´ng dÃ¹ng Ä‘Ã¡nh dáº¥u phá»©c táº¡p) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ o file .txt.
(Trong giao diá»‡n, báº¡n cÃ³ thá»ƒ nháº¥n nÃºt sao chÃ©p / Copy Ä‘á»ƒ copy toÃ n bá»™ ná»™i dung.)

---

1. CÃ¢u lá»‡nh Ä‘áº§y Ä‘á»§:

dnf install java-17-openjdk -y

---

2. Má»¥c Ä‘Ã­ch ngáº¯n gá»n:

* Lá»‡nh nÃ y cÃ i Ä‘áº·t gÃ³i Java Development Kit (JDK) phiÃªn báº£n 17 (OpenJDK) trÃªn cÃ¡c há»‡ thá»‘ng Linux sá»­ dá»¥ng DNF (Fedora, CentOS 8+, RHEL 8+).
* TÃ¹y chá»n `-y` tá»± Ä‘á»™ng tráº£ lá»i â€œyesâ€ cho táº¥t cáº£ cÃ¡c cÃ¢u há»i xÃ¡c nháº­n trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t, giÃºp lá»‡nh cháº¡y khÃ´ng cáº§n tÆ°Æ¡ng tÃ¡c.

---

3. PhÃ¢n tÃ­ch tá»«ng pháº§n:

* dnf

  * DNF (Dandified YUM) lÃ  trÃ¬nh quáº£n lÃ½ gÃ³i trÃªn Fedora, RHEL 8+, CentOS 8+.
  * DÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t, cáº­p nháº­t, gá»¡ bá» gÃ³i pháº§n má»m.

* install

  * Tá»« khÃ³a lá»‡nh DNF Ä‘á»ƒ cÃ i Ä‘áº·t gÃ³i pháº§n má»m.

* java-17-openjdk

  * TÃªn gÃ³i pháº§n má»m muá»‘n cÃ i.
  * OpenJDK: phiÃªn báº£n mÃ£ nguá»“n má»Ÿ cá»§a Java Development Kit.
  * PhiÃªn báº£n 17: phiÃªn báº£n LTS má»›i (Long-Term Support), thÆ°á»ng dÃ¹ng cho á»©ng dá»¥ng doanh nghiá»‡p vÃ  phÃ¡t triá»ƒn hiá»‡n Ä‘áº¡i.

* -y

  * TÃ¹y chá»n tá»± Ä‘á»™ng Ä‘á»“ng Ã½ táº¥t cáº£ cÃ¡c prompt (yes) trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t.
  * TrÃ¡nh viá»‡c pháº£i nháº¥n Y má»—i láº§n DNF há»i xÃ¡c nháº­n.

---

4. Khi nÃ o sá»­ dá»¥ng lá»‡nh nÃ y?

* Khi muá»‘n cÃ i Java 17 cho phÃ¡t triá»ƒn hoáº·c cháº¡y á»©ng dá»¥ng Java trÃªn há»‡ thá»‘ng.
* ThÆ°á»ng dÃ¹ng cho server hoáº·c mÃ¡y tÃ­nh phÃ¡t triá»ƒn cáº§n mÃ´i trÆ°á»ng Java hiá»‡n Ä‘áº¡i.

---

5. Quy trÃ¬nh thá»±c thi:

1) DNF tÃ¬m kiáº¿m gÃ³i `java-17-openjdk` trong cÃ¡c repository Ä‘Ã£ cáº¥u hÃ¬nh.
2) Kiá»ƒm tra cÃ¡c dependencies cáº§n thiáº¿t vÃ  táº£i vá».
3) CÃ i Ä‘áº·t cÃ¡c gÃ³i liÃªn quan (runtime, libraries, development headers, etc.).
4) XÃ¡c nháº­n cÃ i Ä‘áº·t thÃ nh cÃ´ng.

---

6. Kiá»ƒm tra Java sau khi cÃ i Ä‘áº·t:

* java -version

  * Hiá»ƒn thá»‹ phiÃªn báº£n Java hiá»‡n táº¡i trÃªn há»‡ thá»‘ng, vÃ­ dá»¥: openjdk version "17.0.x".

* javac -version

  * Hiá»ƒn thá»‹ phiÃªn báº£n trÃ¬nh biÃªn dá»‹ch Java.

---

7. Má»™t sá»‘ tÃ¹y chá»n khÃ¡c / nÃ¢ng cao:

* dnf search java-17

  * TÃ¬m cÃ¡c gÃ³i liÃªn quan Java 17 cÃ³ sáºµn.

* dnf list installed | grep java

  * Kiá»ƒm tra cÃ¡c gÃ³i Java Ä‘Ã£ Ä‘Æ°á»£c cÃ i trÃªn há»‡ thá»‘ng.

* dnf remove java-17-openjdk

  * Gá»¡ bá» gÃ³i Java 17 náº¿u khÃ´ng cÃ²n cáº§n.

---

8. LÆ°u Ã½:

* PhiÃªn báº£n Java máº·c Ä‘á»‹nh cho há»‡ thá»‘ng cÃ³ thá»ƒ cáº§n cáº­p nháº­t sau khi cÃ i nhiá»u phiÃªn báº£n:

  * alternatives --config java
  * alternatives --config javac

* Cáº§n quyá»n root hoáº·c sudo Ä‘á»ƒ cÃ i Ä‘áº·t gÃ³i:

  * sudo dnf install java-17-openjdk -y

* DNF sáº½ tá»± xá»­ lÃ½ dependencies, Ä‘áº£m báº£o cÃ i Ä‘áº·t Ä‘áº§y Ä‘á»§ runtime vÃ  development libraries.

---

9. VÃ­ dá»¥ thá»±c táº¿:

1) CÃ i Java 17 trÃªn Fedora/CentOS/RHEL:

   * sudo dnf install java-17-openjdk -y
2) Kiá»ƒm tra phiÃªn báº£n Java:

   * java -version
   * javac -version
3) Náº¿u cáº§n Ä‘á»•i phiÃªn báº£n máº·c Ä‘á»‹nh:

   * sudo alternatives --config java

---

10. TÃ³m táº¯t ngáº¯n gá»n (1 cÃ¢u):

* `dnf install java-17-openjdk -y` cÃ i Ä‘áº·t gÃ³i Java 17 OpenJDK trÃªn há»‡ thá»‘ng Linux DNF-based, tá»± Ä‘á»™ng Ä‘á»“ng Ã½ táº¥t cáº£ xÃ¡c nháº­n, vÃ  chuáº©n bá»‹ mÃ´i trÆ°á»ng cháº¡y vÃ  phÃ¡t triá»ƒn Java.

---

Báº£n quyá»n: tÃ i liá»‡u nÃ y do báº¡n sao chÃ©p vÃ  sá»­ dá»¥ng. ChÃºc báº¡n thao tÃ¡c an toÃ n!
		
		
		- cmd: [root@localhost apache-tomcat-10.1.46]# bin/startup.sh
		
[root@localhost apache-tomcat-10.1.46]# bin/startup.sh

---

MÃ´ táº£ chi tiáº¿t (plain text, sáºµn sÃ ng copy vÃ o file .txt):

1. Ã nghÄ©a ngáº¯n gá»n:
   Lá»‡nh `bin/startup.sh` dÃ¹ng Ä‘á»ƒ khá»Ÿi Ä‘á»™ng Apache Tomcat, má»™t á»©ng dá»¥ng web server vÃ  servlet container. Khi cháº¡y lá»‡nh nÃ y, Tomcat sáº½ Ä‘Æ°á»£c náº¡p vÃ  sáºµn sÃ ng phá»¥c vá»¥ cÃ¡c á»©ng dá»¥ng web Java Ä‘Æ°á»£c triá»ƒn khai.

2. Giáº£i thÃ­ch thÃ nh pháº§n:

* `[root@localhost apache-tomcat-10.1.46]#`: prompt trong terminal, cho biáº¿t báº¡n Ä‘ang Ä‘Äƒng nháº­p vá»›i quyá»n root trÃªn mÃ¡y `localhost` vÃ  thÆ° má»¥c hiá»‡n táº¡i lÃ  `apache-tomcat-10.1.46`.
* `bin/startup.sh`: script khá»Ÿi Ä‘á»™ng Tomcat, náº±m trong thÆ° má»¥c `bin` cá»§a thÆ° má»¥c cÃ i Ä‘áº·t Tomcat.

3. Cáº¥u trÃºc thÆ° má»¥c liÃªn quan:

* `apache-tomcat-10.1.46/`: thÆ° má»¥c cÃ i Ä‘áº·t Tomcat.
* `bin/`: chá»©a cÃ¡c script quáº£n lÃ½ Tomcat, bao gá»“m `startup.sh`, `shutdown.sh`, `catalina.sh`, v.v.
* `conf/`: chá»©a cÃ¡c file cáº¥u hÃ¬nh nhÆ° `server.xml`, `web.xml`.
* `logs/`: lÆ°u cÃ¡c log cá»§a Tomcat.

4. Hoáº¡t Ä‘á»™ng khi cháº¡y `bin/startup.sh`:

* Script gá»i `catalina.sh start` Ä‘á»ƒ khá»Ÿi Ä‘á»™ng Tomcat.
* Kiá»ƒm tra biáº¿n mÃ´i trÆ°á»ng JAVA_HOME Ä‘á»ƒ xÃ¡c Ä‘á»‹nh JDK.
* Táº¡o tiáº¿n trÃ¬nh Java cháº¡y Tomcat vá»›i cÃ¡c tham sá»‘ cáº¥u hÃ¬nh.
* Khá»Ÿi táº¡o cÃ¡c connector, servlet container, vÃ  load cÃ¡c á»©ng dá»¥ng web (webapps).
* Ghi log tráº¡ng thÃ¡i vÃ o thÆ° má»¥c `logs/`.

5. Kiá»ƒm tra sau khi khá»Ÿi Ä‘á»™ng:

* Má»Ÿ trÃ¬nh duyá»‡t truy cáº­p: `http://localhost:8080/` (máº·c Ä‘á»‹nh cá»•ng 8080).
* Kiá»ƒm tra file log: `logs/catalina.out` Ä‘á»ƒ xem thÃ´ng tin khá»Ÿi Ä‘á»™ng vÃ  lá»—i náº¿u cÃ³.

6. Quyá»n thá»±c thi:

* Äáº£m báº£o script cÃ³ quyá»n thá»±c thi:

```
chmod +x bin/startup.sh
```

* Cháº¡y vá»›i user root hoáº·c user cÃ³ quyá»n Ä‘á»c/ghi thÆ° má»¥c cÃ i Ä‘áº·t Tomcat.

7. Lá»‡nh liÃªn quan:

* Táº¯t Tomcat: `bin/shutdown.sh`
* Kiá»ƒm tra status: xem log hoáº·c dÃ¹ng lá»‡nh `ps aux | grep tomcat`
* Khá»Ÿi Ä‘á»™ng láº¡i: káº¿t há»£p shutdown vÃ  startup hoáº·c dÃ¹ng script custom.

8. LÆ°u Ã½:

* Cáº§n cÃ i JDK vÃ  set biáº¿n mÃ´i trÆ°á»ng JAVA_HOME Ä‘Ãºng trÆ°á»›c khi cháº¡y.
* Cá»•ng máº·c Ä‘á»‹nh 8080 cÃ³ thá»ƒ trÃ¹ng vá»›i á»©ng dá»¥ng khÃ¡c, cáº§n thay Ä‘á»•i trong `conf/server.xml` náº¿u cáº§n.
* Kiá»ƒm tra cÃ¡c log trong `logs/` náº¿u Tomcat khÃ´ng khá»Ÿi Ä‘á»™ng thÃ nh cÃ´ng.

9. VÃ­ dá»¥ thá»±c táº¿:

```
# Chuyá»ƒn vÃ o thÆ° má»¥c cÃ i Ä‘áº·t Tomcat
cd /opt/apache-tomcat-10.1.46

# Khá»Ÿi Ä‘á»™ng Tomcat
bin/startup.sh

# Kiá»ƒm tra log
tail -f logs/catalina.out
```

---

Ghi chÃº: Báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ ná»™i dung nÃ y trá»±c tiáº¿p vÃ o file .txt. Ná»™i dung trÃ¬nh bÃ y Ä‘áº§y Ä‘á»§, rÃµ rÃ ng vÃ  sáºµn sÃ ng sá»­ dá»¥ng.
		
		
		- cmd: ps -ef | grep tomcat
		
ps -ef | grep tomcat

MÃ” Táº¢ NGáº®N (1 cÃ¢u):
Liá»‡t kÃª táº¥t cáº£ cÃ¡c tiáº¿n trÃ¬nh Ä‘ang cháº¡y trÃªn há»‡ thá»‘ng vÃ  lá»c ra cÃ¡c tiáº¿n trÃ¬nh liÃªn quan Ä‘áº¿n Tomcat.

CÃš PHÃP (plain text, copy vÃ o .txt):
ps -ef | grep <tÃªn_quÃ¡_trÃ¬nh>

PHáº¦N GIáº¢I THÃCH Tá»ªNG THá»¨:

* ps
  Lá»‡nh xem cÃ¡c tiáº¿n trÃ¬nh Ä‘ang cháº¡y trÃªn Linux/Unix.

* -ef
  -e : hiá»ƒn thá»‹ táº¥t cáº£ tiáº¿n trÃ¬nh trÃªn há»‡ thá»‘ng.
  -f : full-format listing, hiá»ƒn thá»‹ chi tiáº¿t bao gá»“m UID, PID, PPID, thá»i gian, lá»‡nh thá»±c thi, v.v.

* |
  Dáº¥u pipe, chuyá»ƒn Ä‘áº§u ra cá»§a lá»‡nh bÃªn trÃ¡i lÃ m Ä‘áº§u vÃ o cho lá»‡nh bÃªn pháº£i.

* grep tomcat
  Lá»c cÃ¡c dÃ²ng chá»©a chuá»—i "tomcat", hiá»ƒn thá»‹ nhá»¯ng tiáº¿n trÃ¬nh liÃªn quan tá»›i Tomcat.

VÃ Dá»¤ Káº¾T QUáº¢:
UID        PID  PPID  C STIME TTY          TIME CMD
root     12345     1  0 10:00 ?        00:00:15 /bin/sh /usr/local/tomcat/bin/startup.sh
tomcat   12350 12345 0 10:01 ?        00:05:20 java -Djava.util.logging.config.file=/usr/local/tomcat/conf/logging.properties ...
user     23456  5678 0 11:30 pts/0    00:00:00 grep --color=auto tomcat

LÆ¯U Ã THá»°C TIá»„N:

1. DÃ²ng cÃ³ `grep tomcat` lÃ  lá»‡nh grep hiá»‡n táº¡i, khÃ´ng pháº£i tiáº¿n trÃ¬nh Tomcat.

2. Äá»ƒ loáº¡i bá» dÃ²ng grep ra khá»i káº¿t quáº£:
   ps -ef | grep tomcat | grep -v grep

3. Äá»ƒ xem tiáº¿n trÃ¬nh Tomcat vÃ  thÃ´ng tin chi tiáº¿t khÃ¡c, cÃ³ thá»ƒ dÃ¹ng:

   * top hoáº·c htop (cÃ´ng cá»¥ hiá»ƒn thá»‹ Ä‘á»™ng)
   * pgrep -a tomcat  # hiá»ƒn thá»‹ PID vÃ  lá»‡nh

CÃC Lá»†NH LIÃŠN QUAN:

* systemctl status tomcat   # náº¿u Tomcat Ä‘Æ°á»£c quáº£n lÃ½ báº±ng systemd
* ps aux | grep tomcat     # tÆ°Æ¡ng tá»±, dÃ¹ng Ä‘á»‹nh dáº¡ng khÃ¡c

GHI CHÃš CUá»I:

* Lá»‡nh nÃ y há»¯u Ã­ch Ä‘á»ƒ kiá»ƒm tra Tomcat cÃ³ Ä‘ang cháº¡y hay khÃ´ng, xÃ¡c Ä‘á»‹nh PID, hoáº·c kiá»ƒm tra cÃ¡c thÃ´ng sá»‘ cháº¡y.
* Khi cáº§n kill tiáº¿n trÃ¬nh, dÃ¹ng kill <PID> hoáº·c kill -9 <PID> (cáº©n tháº­n khi dÃ¹ng).

---

Tá»‡p nÃ y lÃ  plain text, Ä‘á»‹nh dáº¡ng rÃµ rÃ ng Ä‘á»ƒ sao chÃ©p trá»±c tiáº¿p vÃ o file .txt.
		
		
		- cmd: kill 9886
		
			TÃŠN
				kill 9886
				â€” gá»­i tÃ­n hiá»‡u Ä‘á»ƒ káº¿t thÃºc (terminate) tiáº¿n trÃ¬nh cÃ³ PID 9886 trÃªn Linux/Unix

			TÃ“M Táº®T (SYNOPSIS)
				kill [options] <PID>
				kill 9886

			MÃ” Táº¢
				Lá»‡nh `kill` trong Linux/Unix Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ gá»­i tÃ­n hiá»‡u (signal) Ä‘áº¿n má»™t hoáº·c nhiá»u tiáº¿n
				trÃ¬nh. Máº·c Ä‘á»‹nh, náº¿u khÃ´ng chá»‰ Ä‘á»‹nh loáº¡i tÃ­n hiá»‡u, `kill` sáº½ gá»­i tÃ­n hiá»‡u `SIGTERM` (signal 15),
				yÃªu cáº§u tiáº¿n trÃ¬nh dá»«ng má»™t cÃ¡ch â€œlá»‹ch sá»±â€ (graceful termination).

				Trong vÃ­ dá»¥ nÃ y:

				- `9886` : PID (Process ID) cá»§a tiáº¿n trÃ¬nh cáº§n káº¿t thÃºc.
				- Khi thá»±c thi `kill 9886`, há»‡ thá»‘ng gá»­i tÃ­n hiá»‡u `SIGTERM` Ä‘áº¿n tiáº¿n trÃ¬nh nÃ y. Náº¿u tiáº¿n
				trÃ¬nh pháº£n há»“i, nÃ³ sáº½ káº¿t thÃºc. Náº¿u tiáº¿n trÃ¬nh khÃ´ng pháº£n há»“i, cÃ³ thá»ƒ dÃ¹ng tÃ­n hiá»‡u máº¡nh
				hÆ¡n nhÆ° `SIGKILL`.

			PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
				1) `kill`
					- Lá»‡nh gá»­i tÃ­n hiá»‡u Ä‘áº¿n tiáº¿n trÃ¬nh.
					- CÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ dá»«ng, táº¡m dá»«ng, tiáº¿p tá»¥c hoáº·c debug tiáº¿n trÃ¬nh.
				2) `9886`
					- PID cá»§a tiáº¿n trÃ¬nh.
					- CÃ³ thá»ƒ láº¥y PID báº±ng lá»‡nh `ps`, `top`, hoáº·c `pidof`.

			TÃN HIá»†U THÆ¯á»œNG DÃ™NG
				- SIGTERM (15) : yÃªu cáº§u tiáº¿n trÃ¬nh dá»«ng lá»‹ch sá»± (máº·c Ä‘á»‹nh).
				- SIGKILL (9)  : buá»™c tiáº¿n trÃ¬nh káº¿t thÃºc ngay láº­p tá»©c.
				- SIGHUP (1)   : reload cáº¥u hÃ¬nh tiáº¿n trÃ¬nh.
				- SIGSTOP       : táº¡m dá»«ng tiáº¿n trÃ¬nh.
				- SIGCONT       : tiáº¿p tá»¥c tiáº¿n trÃ¬nh bá»‹ dá»«ng.

			HOáº T Äá»˜NG Cá»¦A Lá»†NH
				1) Há»‡ thá»‘ng nháº­n PID 9886.
				2) Gá»­i tÃ­n hiá»‡u SIGTERM (máº·c Ä‘á»‹nh) Ä‘áº¿n tiáº¿n trÃ¬nh.
				3) Náº¿u tiáº¿n trÃ¬nh xá»­ lÃ½ SIGTERM, nÃ³ sáº½ tá»± dá»«ng.
				4) Náº¿u tiáº¿n trÃ¬nh khÃ´ng dá»«ng, dÃ¹ng `kill -9 9886` Ä‘á»ƒ buá»™c dá»«ng.

			Lá»†NH LIÃŠN QUAN
				- ps aux | grep <process_name> : tÃ¬m PID tiáº¿n trÃ¬nh.
				- kill -9 <PID> : gá»­i SIGKILL, káº¿t thÃºc tiáº¿n trÃ¬nh ngay láº­p tá»©c.
				- pkill <process_name> : kill tiáº¿n trÃ¬nh theo tÃªn.
				- killall <process_name> : kill táº¥t cáº£ tiáº¿n trÃ¬nh cÃ¹ng tÃªn.
				- top hoáº·c htop : quáº£n lÃ½ tiáº¿n trÃ¬nh, cÃ³ thá»ƒ gá»­i tÃ­n hiá»‡u tá»« giao diá»‡n.

			Máº¸O THá»°C TIá»„N
				1) Kiá»ƒm tra tiáº¿n trÃ¬nh trÆ°á»›c khi kill:
					ps -p 9886 -o pid,cmd,etime
				2) Náº¿u tiáº¿n trÃ¬nh khÃ´ng pháº£n há»“i SIGTERM:
					kill -9 9886
				3) DÃ¹ng `sudo` náº¿u tiáº¿n trÃ¬nh thuá»™c user khÃ¡c:
					sudo kill 9886
				4) Káº¿t há»£p vá»›i grep Ä‘á»ƒ tÃ¬m PID:
					ps aux | grep apache2
					kill <PID>

			LÆ¯U Ã
				- Kill tiáº¿n trÃ¬nh cÃ³ thá»ƒ lÃ m máº¥t dá»¯ liá»‡u chÆ°a lÆ°u náº¿u tiáº¿n trÃ¬nh Ä‘ang ghi dá»¯ liá»‡u.
				- SIGTERM lá»‹ch sá»±, SIGKILL cÆ°á»¡ng cháº¿.
				- Chá»‰ kill cÃ¡c tiáº¿n trÃ¬nh mÃ  báº¡n cÃ³ quyá»n; tiáº¿n trÃ¬nh cá»§a root yÃªu cáº§u sudo.

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- `kill 9886` gá»­i SIGTERM Ä‘á»ƒ káº¿t thÃºc tiáº¿n trÃ¬nh PID 9886.
				- DÃ¹ng `kill -9` náº¿u tiáº¿n trÃ¬nh khÃ´ng pháº£n há»“i.
				- LuÃ´n kiá»ƒm tra tiáº¿n trÃ¬nh trÆ°á»›c khi kill Ä‘á»ƒ trÃ¡nh áº£nh hÆ°á»Ÿng há»‡ thá»‘ng.

			VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
				# Gá»­i tÃ­n hiá»‡u káº¿t thÃºc lá»‹ch sá»±
				kill 9886

				# Buá»™c káº¿t thÃºc tiáº¿n trÃ¬nh náº¿u khÃ´ng pháº£n há»“i
				kill -9 9886

				# Kiá»ƒm tra PID cá»§a tiáº¿n trÃ¬nh apache2
				ps aux | grep apache2

				# Kill tiáº¿n trÃ¬nh apache2 báº±ng sudo náº¿u cáº§n
				sudo kill <PID>

				# DÃ¹ng pkill theo tÃªn tiáº¿n trÃ¬nh
				pkill apache2

			----------------------------------------
			(END OF TEXT)
		
		
		- cmd: [root@localhost ~]# useradd --home-dir /opt/tomcat --shell /sbin/nologin tomcat
		
---

## TIÃŠU Äá»€: Giáº£i thÃ­ch chi tiáº¿t: useradd --home-dir /opt/tomcat --shell /sbin/nologin tomcat

1. CÃ¢u lá»‡nh (sáºµn Ä‘á»ƒ copy):

useradd --home-dir /opt/tomcat --shell /sbin/nologin tomcat

2. Má»¥c Ä‘Ã­ch chung:

Táº¡o má»™t **ngÆ°á»i dÃ¹ng má»›i (user)** tÃªn `tomcat` trÃªn há»‡ thá»‘ng Linux, vá»›i thÆ° má»¥c home lÃ  `/opt/tomcat` vÃ  **khÃ´ng cho phÃ©p Ä‘Äƒng nháº­p shell**.

3. PhÃ¢n tÃ­ch cÃº phÃ¡p tá»«ng pháº§n:

* `useradd` : lá»‡nh Linux Ä‘á»ƒ táº¡o ngÆ°á»i dÃ¹ng má»›i.

* `--home-dir /opt/tomcat` :

  * XÃ¡c Ä‘á»‹nh **thÆ° má»¥c home** cá»§a user má»›i lÃ  `/opt/tomcat`.
  * ThÆ° má»¥c nÃ y thÆ°á»ng lÃ  nÆ¡i cÃ i Ä‘áº·t vÃ  cháº¡y Tomcat.
  * LÆ°u Ã½: náº¿u thÆ° má»¥c chÆ°a tá»“n táº¡i, tuá»³ chá»n `-m` má»›i táº¡o thÆ° má»¥c home. Náº¿u khÃ´ng dÃ¹ng `-m`, báº¡n cáº§n tá»± táº¡o thÆ° má»¥c báº±ng tay.

* `--shell /sbin/nologin` :

  * Äáº·t shell máº·c Ä‘á»‹nh cho user lÃ  `/sbin/nologin`.
  * NghÄ©a lÃ  **user khÃ´ng thá»ƒ Ä‘Äƒng nháº­p vÃ o há»‡ thá»‘ng qua SSH hoáº·c terminal**.
  * ThÆ°á»ng dÃ¹ng cho user **cháº¡y dá»‹ch vá»¥**, khÃ´ng cáº§n truy cáº­p shell.

* `tomcat` : tÃªn user Ä‘Æ°á»£c táº¡o.

4. Ã nghÄ©a thá»±c táº¿:

* DÃ¹ng Ä‘á»ƒ táº¡o user chuyÃªn dá»¥ng **cháº¡y dá»‹ch vá»¥ Tomcat** mÃ  khÃ´ng cÃ³ quyá»n shell, tÄƒng tÃ­nh báº£o máº­t.
* ThÆ° má»¥c home `/opt/tomcat` lÃ  nÆ¡i cÃ i Ä‘áº·t Tomcat, user `tomcat` sáº½ lÃ  owner hoáº·c cÃ³ quyá»n thao tÃ¡c file.

5. VÃ­ dá»¥ sá»­ dá»¥ng káº¿t há»£p vá»›i cÃ i Ä‘áº·t Tomcat:

```bash
# Táº¡o user tomcat
useradd --home-dir /opt/tomcat --shell /sbin/nologin tomcat

# Táº¡o thÆ° má»¥c Tomcat náº¿u chÆ°a cÃ³
mkdir /opt/tomcat

# GÃ¡n quyá»n cho user tomcat
chown -R tomcat: /opt/tomcat
```

* Sau Ä‘Ã³ khi cháº¡y Tomcat service, báº¡n cÃ³ thá»ƒ dÃ¹ng:

```
sudo -u tomcat /opt/tomcat/bin/startup.sh
```

* User sáº½ chá»‰ cÃ³ quyá»n thao tÃ¡c Tomcat, khÃ´ng thá»ƒ login vÃ o server.

6. LÆ°u Ã½ báº£o máº­t:

* KhÃ´ng Ä‘áº·t shell lÃ  `/bin/bash` cho user cháº¡y dá»‹ch vá»¥ náº¿u khÃ´ng cáº§n, trÃ¡nh rá»§i ro báº£o máº­t.
* Náº¿u muá»‘n user tá»± táº¡o home khi táº¡o user, thÃªm `-m`:

```
useradd -m --home-dir /opt/tomcat --shell /sbin/nologin tomcat
```

* Kiá»ƒm tra user vá»«a táº¡o:

```
id tomcat
getent passwd tomcat
```

7. TÃ³m táº¯t ngáº¯n (copy nhanh):

useradd --home-dir /opt/tomcat --shell /sbin/nologin tomcat

* Táº¡o user `tomcat` chuyÃªn cháº¡y dá»‹ch vá»¥ Tomcat, home `/opt/tomcat`, khÃ´ng cho phÃ©p login shell.

---

Háº¿t.
		
		
		- cmd: [root@localhost ~]# cp -r apache-tomcat-10.1.46/* /opt/tomcat
		
== Giáº£i thÃ­ch chi tiáº¿t: [root@localhost ~]# cp -r apache-tomcat-10.1.46/* /opt/tomcat ==

LÆ°u Ã½: tá»‡p nÃ y á»Ÿ dáº¡ng plain text (khÃ´ng dÃ¹ng Ä‘Ã¡nh dáº¥u phá»©c táº¡p) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ o file .txt.
(Trong giao diá»‡n, báº¡n cÃ³ thá»ƒ nháº¥n nÃºt sao chÃ©p / Copy Ä‘á»ƒ copy toÃ n bá»™ ná»™i dung.)

---

1. CÃ¢u lá»‡nh Ä‘áº§y Ä‘á»§:

[root@localhost ~]# cp -r apache-tomcat-10.1.46/* /opt/tomcat

---

2. Má»¥c Ä‘Ã­ch ngáº¯n gá»n:

* Lá»‡nh nÃ y sao chÃ©p toÃ n bá»™ ná»™i dung cá»§a thÆ° má»¥c `apache-tomcat-10.1.46` vÃ o thÆ° má»¥c `/opt/tomcat`.
* DÃ¹ng Ä‘á»ƒ triá»ƒn khai Tomcat vÃ o thÆ° má»¥c Ä‘Ã­ch trÃªn há»‡ thá»‘ng Linux.
* Tham sá»‘ `-r` cho phÃ©p sao chÃ©p Ä‘á»‡ quy táº¥t cáº£ cÃ¡c thÆ° má»¥c con vÃ  file.

---

3. PhÃ¢n tÃ­ch tá»«ng pháº§n:

* [root@localhost ~]#

  * Prompt trÃªn terminal, cho biáº¿t Ä‘ang Ä‘Äƒng nháº­p dÆ°á»›i user `root` táº¡i thÆ° má»¥c home `~`.
  * Root cÃ³ quyá»n Ä‘á»§ Ä‘á»ƒ sao chÃ©p file vÃ o `/opt/tomcat`, thÆ°á»ng cáº§n quyá»n root.

* cp

  * Lá»‡nh copy file vÃ  thÆ° má»¥c trÃªn Linux.

* -r

  * Recursive: sao chÃ©p toÃ n bá»™ thÆ° má»¥c vÃ  cÃ¡c thÆ° má»¥c con bÃªn trong.
  * Náº¿u bá» -r, cp sáº½ bÃ¡o lá»—i náº¿u source lÃ  thÆ° má»¥c.

* apache-tomcat-10.1.46/*

  * Dáº¥u * nghÄ©a lÃ  táº¥t cáº£ cÃ¡c file vÃ  thÆ° má»¥c con trong `apache-tomcat-10.1.46`.
  * KhÃ´ng sao chÃ©p thÆ° má»¥c gá»‘c mÃ  chá»‰ cÃ¡c ná»™i dung bÃªn trong.

* /opt/tomcat

  * ÄÃ­ch Ä‘áº¿n nÆ¡i cÃ¡c file Tomcat sáº½ Ä‘Æ°á»£c triá»ƒn khai.
  * `/opt` lÃ  thÆ° má»¥c phá»• biáº¿n Ä‘á»ƒ cÃ i Ä‘áº·t pháº§n má»m bÃªn thá»© ba trÃªn Linux.
  * ThÆ° má»¥c `/opt/tomcat` nÃªn tá»“n táº¡i trÆ°á»›c khi cháº¡y lá»‡nh, hoáº·c báº¡n cáº§n táº¡o:

    * mkdir -p /opt/tomcat

---

4. Khi nÃ o sá»­ dá»¥ng lá»‡nh nÃ y?

* Khi cÃ i Ä‘áº·t hoáº·c triá»ƒn khai Apache Tomcat thá»§ cÃ´ng.
* Khi muá»‘n copy toÃ n bá»™ báº£n Tomcat Ä‘Ã£ giáº£i nÃ©n tá»« thÆ° má»¥c táº£i vá» vÃ o thÆ° má»¥c Ä‘Ã­ch trÃªn server.
* DÃ¹ng cho mÃ´i trÆ°á»ng production hoáº·c testing, thÆ°á»ng káº¿t há»£p vá»›i quyá»n root.

---

5. Kiá»ƒm tra sau khi copy:

* ls -l /opt/tomcat

  * Xem cÃ¡c file vÃ  thÆ° má»¥c Ä‘Ã£ Ä‘Æ°á»£c sao chÃ©p.
* Kiá»ƒm tra quyá»n sá»Ÿ há»¯u:

  * chown -R tomcat:tomcat /opt/tomcat   (náº¿u báº¡n muá»‘n user tomcat cháº¡y server)

---

6. LÆ°u Ã½ quan trá»ng:

* Quyá»n root:

  * Cáº§n quyá»n root Ä‘á»ƒ ghi vÃ o `/opt/tomcat`.
  * Náº¿u khÃ´ng dÃ¹ng root, cÃ³ thá»ƒ dÃ¹ng sudo:

    * sudo cp -r apache-tomcat-10.1.46/* /opt/tomcat

* Náº¿u thÆ° má»¥c Ä‘Ã­ch cÃ³ file trÃ¹ng tÃªn, lá»‡nh cp sáº½ ghi Ä‘Ã¨ mÃ  khÃ´ng há»i (cáº©n tháº­n).

* Äá»ƒ an toÃ n, cÃ³ thá»ƒ dÃ¹ng:

  * cp -r -i apache-tomcat-10.1.46/* /opt/tomcat   (i: interactive, há»i trÆ°á»›c khi ghi Ä‘Ã¨)

---

7. VÃ­ dá»¥ thá»±c táº¿ triá»ƒn khai Tomcat:

1) Táº£i Tomcat:

   * wget [https://downloads.apache.org/tomcat/tomcat-10/v10.1.46/bin/apache-tomcat-10.1.46.tar.gz](https://downloads.apache.org/tomcat/tomcat-10/v10.1.46/bin/apache-tomcat-10.1.46.tar.gz)
2) Giáº£i nÃ©n:

   * tar -xvzf apache-tomcat-10.1.46.tar.gz
3) Táº¡o thÆ° má»¥c Ä‘Ã­ch:

   * mkdir -p /opt/tomcat
4) Sao chÃ©p táº¥t cáº£ file Tomcat:

   * cp -r apache-tomcat-10.1.46/* /opt/tomcat
5) Kiá»ƒm tra quyá»n:

   * chown -R tomcat:tomcat /opt/tomcat
6) Khá»Ÿi Ä‘á»™ng Tomcat:

   * /opt/tomcat/bin/startup.sh

---

8. TÃ³m táº¯t ngáº¯n gá»n (1 cÃ¢u):

* Lá»‡nh `[root@localhost ~]# cp -r apache-tomcat-10.1.46/* /opt/tomcat` sao chÃ©p toÃ n bá»™ ná»™i dung thÆ° má»¥c Tomcat vÃ o `/opt/tomcat` báº±ng quyá»n root, chuáº©n bá»‹ cho triá»ƒn khai server mÃ  khÃ´ng sao chÃ©p thÆ° má»¥c gá»‘c.

---

Báº£n quyá»n: tÃ i liá»‡u nÃ y do báº¡n sao chÃ©p vÃ  sá»­ dá»¥ng. ChÃºc báº¡n thao tÃ¡c an toÃ n!
		
		
		- cmd: [root@localhost ~]# chown -R tomcat.tomcat /opt/tomcat/
		
[root@localhost ~]# chown -R tomcat.tomcat /opt/tomcat/

---

MÃ´ táº£ chi tiáº¿t (plain text, sáºµn sÃ ng copy vÃ o file .txt):

1. Ã nghÄ©a ngáº¯n gá»n:
   Lá»‡nh `chown -R tomcat.tomcat /opt/tomcat/` thay Ä‘á»•i chá»§ sá»Ÿ há»¯u (owner) vÃ  nhÃ³m (group) cá»§a thÆ° má»¥c `/opt/tomcat/` vÃ  táº¥t cáº£ cÃ¡c file, thÆ° má»¥c con bÃªn trong nÃ³ thÃ nh user `tomcat` vÃ  group `tomcat`.

2. Giáº£i thÃ­ch thÃ nh pháº§n:

* `chown`: viáº¿t táº¯t cá»§a "change owner", lá»‡nh dÃ¹ng Ä‘á»ƒ thay Ä‘á»•i chá»§ sá»Ÿ há»¯u vÃ  nhÃ³m cá»§a file hoáº·c thÆ° má»¥c trÃªn Linux.
* `-R`: tuá»³ chá»n "recursive", Ã¡p dá»¥ng thay Ä‘á»•i cho táº¥t cáº£ cÃ¡c file vÃ  thÆ° má»¥c con bÃªn trong thÆ° má»¥c Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh.
* `tomcat.tomcat`: chá»‰ Ä‘á»‹nh user vÃ  group má»›i. CÃº phÃ¡p lÃ  `user.group`.
* `/opt/tomcat/`: Ä‘Æ°á»ng dáº«n tá»›i thÆ° má»¥c cáº§n thay Ä‘á»•i quyá»n sá»Ÿ há»¯u.

3. Má»¥c Ä‘Ã­ch sá»­ dá»¥ng:

* Äáº£m báº£o ráº±ng user `tomcat` cÃ³ quyá»n quáº£n lÃ½ cÃ¡c file, thÆ° má»¥c trong cÃ i Ä‘áº·t Tomcat.
* ThÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng sau khi cÃ i Ä‘áº·t Tomcat Ä‘á»ƒ chuáº©n hÃ³a quyá»n truy cáº­p, giÃºp Tomcat cháº¡y mÃ  khÃ´ng gáº·p lá»—i quyá»n háº¡n.

4. Kiá»ƒm tra quyá»n trÆ°á»›c vÃ  sau khi thay Ä‘á»•i:

* TrÆ°á»›c khi thay Ä‘á»•i:

```
ls -l /opt | grep tomcat
```

* Sau khi thay Ä‘á»•i:

```
ls -l /opt | grep tomcat
```

NhÃ¬n vÃ o cá»™t owner vÃ  group Ä‘á»ƒ xÃ¡c nháº­n.

5. VÃ­ dá»¥ minh há»a:

```
# TrÆ°á»›c khi thay Ä‘á»•i owner
ls -l /opt/
# Output: root root tomcat/

# Thay Ä‘á»•i owner vÃ  group
chown -R tomcat.tomcat /opt/tomcat/

# Kiá»ƒm tra láº¡i
ls -l /opt/
# Output: tomcat tomcat tomcat/
```

6. LÆ°u Ã½ vÃ  best practices:

* Cáº§n quyá»n root Ä‘á»ƒ cháº¡y lá»‡nh `chown` cho thÆ° má»¥c mÃ  user khÃ¡c sá»Ÿ há»¯u.
* DÃ¹ng `-R` cáº©n tháº­n vÃ¬ sáº½ Ã¡p dá»¥ng thay Ä‘á»•i cho táº¥t cáº£ file con; náº¿u sai thÆ° má»¥c cÃ³ thá»ƒ lÃ m há»ng quyá»n há»‡ thá»‘ng.
* Kiá»ƒm tra ká»¹ Ä‘Æ°á»ng dáº«n trÆ°á»›c khi cháº¡y lá»‡nh.
* Äáº£m báº£o user Tomcat khá»Ÿi cháº¡y service vÃ  cÃ³ quyá»n ghi/Ä‘á»c cÃ¡c thÆ° má»¥c cáº§n thiáº¿t.

7. CÃ¡c lá»‡nh liÃªn quan:

* `chown user:group file_or_dir`: thay Ä‘á»•i owner vÃ  group cho 1 file/thÆ° má»¥c cá»¥ thá»ƒ.
* `chown -R user:group dir/`: Ã¡p dá»¥ng Ä‘á»‡ quy cho thÆ° má»¥c.
* `chgrp group file_or_dir`: chá»‰ thay Ä‘á»•i nhÃ³m.

8. VÃ­ dá»¥ trong thá»±c táº¿ vá»›i Tomcat:

```
# Táº£i vÃ  cÃ i Tomcat vÃ o /opt/tomcat
# Sau Ä‘Ã³, thay Ä‘á»•i quyá»n sá»Ÿ há»¯u cho Tomcat user
chown -R tomcat.tomcat /opt/tomcat/

# Kiá»ƒm tra quyá»n trÆ°á»›c khi start Tomcat
ls -l /opt/tomcat/
```

Má»¥c Ä‘Ã­ch lÃ  Ä‘á»ƒ user `tomcat` cÃ³ quyá»n Ä‘á»c/ghi cÃ¡c file cáº¥u hÃ¬nh, logs, webapps, vÃ  thÆ° má»¥c bin.

---

Ghi chÃº: Báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ ná»™i dung nÃ y trá»±c tiáº¿p vÃ o file .txt. Ná»™i dung trÃ¬nh bÃ y Ä‘áº§y Ä‘á»§, rÃµ rÃ ng vÃ  sáºµn sÃ ng sá»­ dá»¥ng.
		
		
		- cmd: vim /etc/systemd/system/tomcat.service
		
			[Unit]
			Description=Tomcat
			After=network.target

			[Service]
			Type=forking

			User=tomcat
			Group=tomcat

			workingDirectory=/opt/tomcat

			Environment=JAVA_HOME=/usr/lib/jvm/jre

			Environment=CATALINA_HOME=/opt/tomcat
			Environment=CATALINE_BASE=/opt/tomcat

			ExecStart=/opt/tomcat/bin/startup.sh
			ExecStop=/opt/tomcat/bin/shutdown.sh

			[Install]
			WantedBy=multi-user.target
			
vim /etc/systemd/system/tomcat.service

MÃ” Táº¢ NGáº®N (1 cÃ¢u):
Má»Ÿ file unit cá»§a Tomcat trong systemd báº±ng trÃ¬nh soáº¡n tháº£o vim Ä‘á»ƒ chá»‰nh sá»­a hoáº·c táº¡o cáº¥u hÃ¬nh service cho Tomcat.

CÃš PHÃP (plain text, copy vÃ o .txt):
vim /etc/systemd/system/tomcat.service

PHáº¦N GIáº¢I THÃCH Tá»ªNG THá»¨:

* vim
  TrÃ¬nh soáº¡n tháº£o vÄƒn báº£n trÃªn terminal, cho phÃ©p xem, chá»‰nh sá»­a, tÃ¬m kiáº¿m, lÆ°u vÃ  thoÃ¡t file.

* /etc/systemd/system/tomcat.service

  * ThÆ° má»¥c /etc/systemd/system/: chá»©a cÃ¡c unit file do ngÆ°á»i dÃ¹ng hoáº·c quáº£n trá»‹ viÃªn táº¡o, dÃ¹ng Ä‘á»ƒ override hoáº·c táº¡o service má»›i.
  * tomcat.service: file unit Ä‘á»‹nh nghÄ©a cÃ¡ch khá»Ÿi Ä‘á»™ng, dá»«ng, vÃ  quáº£n lÃ½ dá»‹ch vá»¥ Tomcat.

Cáº¤U TRÃšC CÆ  Báº¢N Cá»¦A FILE .service:
[Unit]
Description=Apache Tomcat Web Application Container
After=network.target

[Service]
Type=forking
User=tomcat
Group=tomcat
Environment="JAVA_HOME=/usr/lib/jvm/java-11-openjdk"
Environment="CATALINA_PID=/opt/tomcat/temp/tomcat.pid"
ExecStart=/opt/tomcat/bin/startup.sh
ExecStop=/opt/tomcat/bin/shutdown.sh
Restart=on-failure

[Install]
WantedBy=multi-user.target

HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG VIM CÆ  Báº¢N:

1. Má»Ÿ file:
   vim /etc/systemd/system/tomcat.service

2. Cháº¿ Ä‘á»™ INSERT (chá»‰nh sá»­a):

   * Nháº¥n 'i' Ä‘á»ƒ vÃ o cháº¿ Ä‘á»™ insert.
   * Chá»‰nh sá»­a ná»™i dung file.

3. Cháº¿ Ä‘á»™ COMMAND (lá»‡nh):

   * Nháº¥n 'Esc' Ä‘á»ƒ thoÃ¡t cháº¿ Ä‘á»™ insert.
   * LÆ°u file: :w
   * ThoÃ¡t vim: :q
   * LÆ°u & thoÃ¡t: :wq
   * ThoÃ¡t khÃ´ng lÆ°u: :q!

4. Undo/Redo:

   * u: undo
   * Ctrl+r: redo

LÆ¯U Ã THá»°C TIá»„N VÃ€ Máº¸O:

1. **Sao lÆ°u file trÆ°á»›c khi chá»‰nh sá»­a**:
   cp /etc/systemd/system/tomcat.service /etc/systemd/system/tomcat.service.bak

2. **Reload systemd sau khi chá»‰nh sá»­a**:
   sudo systemctl daemon-reload

3. **Enable & start service**:
   sudo systemctl enable tomcat
   sudo systemctl start tomcat

4. **Kiá»ƒm tra tráº¡ng thÃ¡i**:
   sudo systemctl status tomcat

CÃC Lá»†NH LIÃŠN QUAN:

* systemctl restart tomcat      # khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥
* systemctl stop tomcat         # dá»«ng dá»‹ch vá»¥
* journalctl -u tomcat.service  # xem log cá»§a Tomcat

GHI CHÃš CUá»I:

* File unit trong /etc/systemd/system/ Æ°u tiÃªn hÆ¡n /usr/lib/systemd/system/, nÃªn dÃ¹ng Ä‘á»ƒ táº¡o hoáº·c override service.
* LuÃ´n táº¡o backup trÆ°á»›c khi chá»‰nh sá»­a Ä‘á»ƒ trÃ¡nh lÃ m Tomcat khÃ´ng khá»Ÿi Ä‘á»™ng Ä‘Æ°á»£c.

---

Tá»‡p nÃ y lÃ  plain text, Ä‘á»‹nh dáº¡ng rÃµ rÃ ng Ä‘á»ƒ sao chÃ©p trá»±c tiáº¿p vÃ o file .txt.

			
			

		- cmd: systemctl daemon-reload
		
---

## TIÃŠU Äá»€: Giáº£i thÃ­ch chi tiáº¿t: systemctl daemon-reload

1. CÃ¢u lá»‡nh (sáºµn Ä‘á»ƒ copy):

systemctl daemon-reload

2. Má»¥c Ä‘Ã­ch chung:

Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **náº¡p láº¡i (reload) táº¥t cáº£ cÃ¡c file unit cá»§a systemd** sau khi cÃ³ thay Ä‘á»•i vá» cáº¥u hÃ¬nh dá»‹ch vá»¥, unit file má»›i hoáº·c thay Ä‘á»•i quyá»n, nháº±m Ä‘áº£m báº£o systemd nháº­n biáº¿t cÃ¡c thay Ä‘á»•i mÃ  khÃ´ng cáº§n khá»Ÿi Ä‘á»™ng láº¡i há»‡ thá»‘ng.

3. PhÃ¢n tÃ­ch cÃº phÃ¡p tá»«ng pháº§n:

* `systemctl` : cÃ´ng cá»¥ quáº£n lÃ½ systemd trÃªn Linux, dÃ¹ng Ä‘á»ƒ **start, stop, reload, enable, disable, check tráº¡ng thÃ¡i** cá»§a dá»‹ch vá»¥ vÃ  unit.

* `daemon-reload` : lá»‡nh Ä‘áº·c biá»‡t Ä‘á»ƒ **reload daemon systemd**, nghÄ©a lÃ :

  * XÃ³a cache cÅ©
  * Náº¡p láº¡i táº¥t cáº£ cÃ¡c file unit má»›i tá»« `/etc/systemd/system/` vÃ  `/usr/lib/systemd/system/`
  * Cho phÃ©p cÃ¡c thay Ä‘á»•i unit file cÃ³ hiá»‡u lá»±c

4. Khi nÃ o cáº§n dÃ¹ng:

* Sau khi chá»‰nh sá»­a trá»±c tiáº¿p file unit cá»§a má»™t dá»‹ch vá»¥, vÃ­ dá»¥ `/etc/systemd/system/httpd.service`.
* Sau khi táº¡o unit file má»›i.
* Sau khi thay Ä‘á»•i symbolic link hoáº·c override file unit.
* TrÆ°á»›c khi restart, start, hoáº·c enable dá»‹ch vá»¥ má»›i.

5. VÃ­ dá»¥ thá»±c táº¿:

1) Chá»‰nh sá»­a file unit Apache:

```
nano /etc/systemd/system/httpd.service
```

2. LÆ°u thay Ä‘á»•i vÃ  náº¡p láº¡i daemon:

```
systemctl daemon-reload
```

3. Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥ Ä‘á»ƒ Ã¡p dá»¥ng thay Ä‘á»•i:

```
systemctl restart httpd
```

6. LÆ°u Ã½:

* Lá»‡nh **khÃ´ng khá»Ÿi Ä‘á»™ng hay dá»«ng dá»‹ch vá»¥**.
* KhÃ´ng cáº§n sudo náº¿u báº¡n lÃ  root, nhÆ°ng thÆ°á»ng cháº¡y dÆ°á»›i root:

```
sudo systemctl daemon-reload
```

* ÄÃ¢y lÃ  bÆ°á»›c báº¯t buá»™c Ä‘á»ƒ systemd nháº­n ra cÃ¡c thay Ä‘á»•i vá» unit file trÆ°á»›c khi start/restart service.

7. CÃ¡c lá»‡nh liÃªn quan:

* Kiá»ƒm tra tráº¡ng thÃ¡i dá»‹ch vá»¥:

```
systemctl status <service_name>
```

* Reload chá»‰ riÃªng dá»‹ch vá»¥ mÃ  khÃ´ng reload daemon:

```
systemctl reload <service_name>
```

* Enable/disable dá»‹ch vá»¥:

```
systemctl enable <service_name>
systemctl disable <service_name>
```

8. TÃ³m táº¯t ngáº¯n (copy nhanh):

systemctl daemon-reload

* Náº¡p láº¡i táº¥t cáº£ unit file systemd sau khi cÃ³ thay Ä‘á»•i, giÃºp systemd nháº­n biáº¿t cÃ¡c file unit má»›i hoáº·c chá»‰nh sá»­a mÃ  khÃ´ng cáº§n reboot.

---

Háº¿t.
		
		
		- cmd: [root@localhost ~]# systemctl start tomcat
		
== Giáº£i thÃ­ch chi tiáº¿t: [root@localhost ~]# systemctl start tomcat ==

LÆ°u Ã½: tá»‡p nÃ y á»Ÿ dáº¡ng plain text (khÃ´ng dÃ¹ng Ä‘Ã¡nh dáº¥u phá»©c táº¡p) Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ o file .txt.
(Trong giao diá»‡n, báº¡n cÃ³ thá»ƒ nháº¥n nÃºt sao chÃ©p / Copy Ä‘á»ƒ copy toÃ n bá»™ ná»™i dung.)

---

1. CÃ¢u lá»‡nh Ä‘áº§y Ä‘á»§:

[root@localhost ~]# systemctl start tomcat

---

2. Má»¥c Ä‘Ã­ch ngáº¯n gá»n:

* Lá»‡nh nÃ y khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥ `tomcat` trÃªn há»‡ thá»‘ng Linux sá»­ dá»¥ng systemd.
* Sau khi cháº¡y, Tomcat sáº½ Ä‘Æ°á»£c kÃ­ch hoáº¡t vÃ  báº¯t Ä‘áº§u phá»¥c vá»¥ cÃ¡c á»©ng dá»¥ng web.

---

3. PhÃ¢n tÃ­ch tá»«ng pháº§n:

* [root@localhost ~]#

  * Prompt cho biáº¿t Ä‘ang Ä‘Äƒng nháº­p dÆ°á»›i user root táº¡i thÆ° má»¥c home.
  * Root cÃ³ quyá»n Ä‘á»ƒ quáº£n lÃ½ dá»‹ch vá»¥ systemd.

* systemctl

  * CÃ´ng cá»¥ quáº£n lÃ½ cÃ¡c dá»‹ch vá»¥ trÃªn há»‡ thá»‘ng dÃ¹ng systemd.
  * Thay tháº¿ cho cÃ¡c lá»‡nh init.d cá»• Ä‘iá»ƒn (service, chkconfig) trÃªn cÃ¡c báº£n Linux hiá»‡n Ä‘áº¡i.

* start

  * Action yÃªu cáº§u systemd khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥ Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh.

* tomcat

  * TÃªn dá»‹ch vá»¥ Tomcat Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi systemd.
  * TÃªn nÃ y phá»¥ thuá»™c vÃ o file unit, thÆ°á»ng lÃ  `/etc/systemd/system/tomcat.service`.

---

4. Khi nÃ o sá»­ dá»¥ng lá»‡nh nÃ y?

* Khi muá»‘n cháº¡y Tomcat láº§n Ä‘áº§u sau cÃ i Ä‘áº·t.
* Khi Tomcat bá»‹ dá»«ng vÃ  cáº§n khá»Ÿi Ä‘á»™ng láº¡i.
* Khi triá»ƒn khai server má»›i vÃ  muá»‘n kÃ­ch hoáº¡t Tomcat.

---

5. Quy trÃ¬nh thá»±c thi:

1) systemctl Ä‘á»c file unit `tomcat.service`.
2) Systemd táº¡o process Tomcat vÃ  cháº¡y dÆ°á»›i user Ä‘Æ°á»£c cáº¥u hÃ¬nh (thÆ°á»ng lÃ  `tomcat`).
3) Náº¿u cÃ³ phá»¥ thuá»™c (dependencies), systemd sáº½ khá»Ÿi Ä‘á»™ng cÃ¡c dá»‹ch vá»¥ cáº§n thiáº¿t trÆ°á»›c.
4) Dá»‹ch vá»¥ Ä‘Æ°á»£c mark lÃ  active (running).

---

6. Kiá»ƒm tra tráº¡ng thÃ¡i sau khi start:

* systemctl status tomcat

  * Hiá»ƒn thá»‹ tráº¡ng thÃ¡i dá»‹ch vá»¥: active/running, logs, PID.

* journalctl -u tomcat -f

  * Theo dÃµi log thá»i gian thá»±c cá»§a Tomcat.

---

7. TÃ¹y chá»n há»¯u Ã­ch khÃ¡c:

* restart

  * systemctl restart tomcat  -> dá»«ng vÃ  khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥.

* stop

  * systemctl stop tomcat     -> dá»«ng dá»‹ch vá»¥.

* enable

  * systemctl enable tomcat   -> tá»± Ä‘á»™ng khá»Ÿi Ä‘á»™ng Tomcat khi boot.

* disable

  * systemctl disable tomcat  -> táº¯t tá»± Ä‘á»™ng khá»Ÿi Ä‘á»™ng.

---

8. LÆ°u Ã½ quan trá»ng:

* Cáº§n quyá»n root hoáº·c sudo Ä‘á»ƒ start dá»‹ch vá»¥:

  * sudo systemctl start tomcat

* TÃªn dá»‹ch vá»¥ pháº£i chÃ­nh xÃ¡c, khá»›p vá»›i unit file.

* Kiá»ƒm tra file cáº¥u hÃ¬nh Tomcat (`/opt/tomcat/conf/server.xml`) náº¿u dá»‹ch vá»¥ khÃ´ng khá»Ÿi Ä‘á»™ng.

* Kiá»ƒm tra port máº·c Ä‘á»‹nh 8080 cÃ³ bá»‹ trÃ¹ng vá»›i dá»‹ch vá»¥ khÃ¡c khÃ´ng.

---

9. VÃ­ dá»¥ thá»±c táº¿:

1) Khá»Ÿi Ä‘á»™ng Tomcat:

   * systemctl start tomcat
2) Kiá»ƒm tra tráº¡ng thÃ¡i:

   * systemctl status tomcat
3) Báº­t tá»± khá»Ÿi Ä‘á»™ng khi boot:

   * systemctl enable tomcat
4) Theo dÃµi log thá»i gian thá»±c:

   * journalctl -u tomcat -f

---

10. TÃ³m táº¯t ngáº¯n gá»n (1 cÃ¢u):

* `[root@localhost ~]# systemctl start tomcat` khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥ Tomcat trÃªn há»‡ thá»‘ng Linux vá»›i systemd, kÃ­ch hoáº¡t server Ä‘á»ƒ phá»¥c vá»¥ cÃ¡c á»©ng dá»¥ng web.

---

Báº£n quyá»n: tÃ i liá»‡u nÃ y do báº¡n sao chÃ©p vÃ  sá»­ dá»¥ng. ChÃºc báº¡n thao tÃ¡c an toÃ n!
		
		
		- cmd: [root@localhost ~]# systemctl status tomcat
		
[root@localhost ~]# systemctl status tomcat

---

MÃ´ táº£ chi tiáº¿t (plain text, sáºµn sÃ ng copy vÃ o file .txt):

1. Ã nghÄ©a ngáº¯n gá»n:
   Lá»‡nh `systemctl status tomcat` kiá»ƒm tra tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a service `tomcat` trÃªn há»‡ thá»‘ng Linux sá»­ dá»¥ng systemd. NÃ³ hiá»ƒn thá»‹ thÃ´ng tin vá» viá»‡c service Ä‘ang cháº¡y, Ä‘Ã£ dá»«ng, hoáº·c gáº·p lá»—i, cÃ¹ng vá»›i cÃ¡c log gáº§n nháº¥t.

2. Giáº£i thÃ­ch thÃ nh pháº§n:

* `[root@localhost ~]#`: prompt cho biáº¿t báº¡n Ä‘ang Ä‘Äƒng nháº­p vá»›i quyá»n root vÃ  Ä‘ang á»Ÿ thÆ° má»¥c home cá»§a root.
* `systemctl`: cÃ´ng cá»¥ quáº£n lÃ½ cÃ¡c service vÃ  unit cá»§a systemd trÃªn Linux.
* `status`: tham sá»‘ yÃªu cáº§u hiá»ƒn thá»‹ tráº¡ng thÃ¡i chi tiáº¿t cá»§a service.
* `tomcat`: tÃªn cá»§a service Tomcat Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh Ä‘á»ƒ cháº¡y dÆ°á»›i systemd.

3. ThÃ´ng tin tráº£ vá» khi cháº¡y lá»‡nh `systemctl status tomcat` thÆ°á»ng bao gá»“m:

* TÃªn vÃ  tráº¡ng thÃ¡i service: active (running), inactive (dead), failed, v.v.
* PID (Process ID) cá»§a tiáº¿n trÃ¬nh chÃ­nh.
* Thá»i gian service báº¯t Ä‘áº§u.
* User vÃ  Group mÃ  service cháº¡y.
* ÄÆ°á»ng dáº«n tá»›i cÃ¡c file unit.
* CÃ¡c log gáº§n Ä‘Ã¢y tá»« journald, giÃºp debug.

4. CÃ¡c tÃ¹y chá»n liÃªn quan:

* `systemctl start tomcat`: khá»Ÿi Ä‘á»™ng service Tomcat.
* `systemctl stop tomcat`: dá»«ng service Tomcat.
* `systemctl restart tomcat`: khá»Ÿi Ä‘á»™ng láº¡i service.
* `systemctl enable tomcat`: cáº¥u hÃ¬nh Ä‘á»ƒ Tomcat tá»± Ä‘á»™ng khá»Ÿi Ä‘á»™ng khi há»‡ thá»‘ng boot.
* `systemctl disable tomcat`: táº¯t tá»± Ä‘á»™ng khá»Ÿi Ä‘á»™ng.
* `journalctl -u tomcat`: xem toÃ n bá»™ log cá»§a service Tomcat.

5. VÃ­ dá»¥ sá»­ dá»¥ng thá»±c táº¿:

```
# Kiá»ƒm tra tráº¡ng thÃ¡i service Tomcat
systemctl status tomcat

# Output vÃ­ dá»¥:
# â— tomcat.service - Apache Tomcat Web Application Container
#    Loaded: loaded (/etc/systemd/system/tomcat.service; enabled; vendor preset: disabled)
#    Active: active (running) since Thu 2025-12-03 15:00:00 UTC; 5min ago
#   Main PID: 12345 (java)
#    Tasks: 50 (limit: 2345)
#   Memory: 256M
#   CGroup: /system.slice/tomcat.service
#           â””â”€12345 /usr/bin/java -Djava.util.logging.config.file=/opt/tomcat/conf/logging.properties ...
```

6. LÆ°u Ã½:

* Cáº§n quyá»n root hoáº·c sudo Ä‘á»ƒ xem Ä‘áº§y Ä‘á»§ tráº¡ng thÃ¡i cá»§a service.
* Náº¿u service khÃ´ng cháº¡y, thÃ´ng tin log sáº½ giÃºp xÃ¡c Ä‘á»‹nh nguyÃªn nhÃ¢n.
* Service Tomcat pháº£i Ä‘Æ°á»£c cÃ i Ä‘áº·t vá»›i systemd unit file, vÃ­ dá»¥ `/etc/systemd/system/tomcat.service`.
* Náº¿u khÃ´ng cÃ³ systemd (vÃ­ dá»¥ trÃªn cÃ¡c há»‡ thá»‘ng cÅ©), pháº£i dÃ¹ng script trong `bin/` Ä‘á»ƒ quáº£n lÃ½ Tomcat.

7. Best practices:

* LuÃ´n kiá»ƒm tra log náº¿u Tomcat khÃ´ng cháº¡y: `journalctl -xe` hoáº·c `journalctl -u tomcat`.
* Sá»­ dá»¥ng `systemctl enable tomcat` Ä‘á»ƒ Ä‘áº£m báº£o Tomcat tá»± khá»Ÿi Ä‘á»™ng khi reboot.
* Kiá»ƒm tra quyá»n vÃ  cáº¥u hÃ¬nh cá»§a unit file náº¿u Tomcat khÃ´ng cháº¡y.

---

Ghi chÃº: Báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ ná»™i dung nÃ y trá»±c tiáº¿p vÃ o file .txt. Ná»™i dung trÃ¬nh bÃ y Ä‘áº§y Ä‘á»§, rÃµ rÃ ng vÃ  sáºµn sÃ ng sá»­ dá»¥ng.
		
		
		- cmd: [root@localhost ~]# systemctl enable tomcat
		
[root@localhost ~]# systemctl enable tomcat

MÃ” Táº¢ NGáº®N (1 cÃ¢u):
KÃ­ch hoáº¡t dá»‹ch vá»¥ Tomcat Ä‘á»ƒ tá»± Ä‘á»™ng khá»Ÿi Ä‘á»™ng cÃ¹ng há»‡ thá»‘ng khi boot, sá»­ dá»¥ng systemd.

CÃš PHÃP (plain text, copy vÃ o .txt):
sudo systemctl enable <tÃªn_service>

PHáº¦N GIáº¢I THÃCH Tá»ªNG THá»¨:

* systemctl
  CÃ´ng cá»¥ quáº£n lÃ½ dá»‹ch vá»¥ trÃªn Linux dÃ¹ng systemd, bao gá»“m start, stop, restart, enable, disable, status,...

* enable
  KÃ­ch hoáº¡t service Ä‘á»ƒ tá»± Ä‘á»™ng cháº¡y khi há»‡ thá»‘ng khá»Ÿi Ä‘á»™ng. Thá»±c cháº¥t, lá»‡nh nÃ y táº¡o symbolic link trong /etc/systemd/system/multi-user.target.wants/ trá» tá»›i unit file cá»§a dá»‹ch vá»¥.

* tomcat
  TÃªn service mÃ  báº¡n muá»‘n kÃ­ch hoáº¡t. Trong vÃ­ dá»¥, Ä‘Ã³ lÃ  dá»‹ch vá»¥ Tomcat Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi systemd.

LÆ¯U Ã THá»°C TIá»„N:

1. Cháº¡y dÆ°á»›i user root hoáº·c sudo Ä‘á»ƒ cÃ³ quyá»n táº¡o symbolic link.
2. Sau khi enable, báº¡n cÃ³ thá»ƒ kiá»ƒm tra:
   systemctl is-enabled tomcat

   # sáº½ tráº£ vá» 'enabled'
3. Náº¿u muá»‘n dá»‹ch vá»¥ tá»± cháº¡y ngay láº­p tá»©c, dÃ¹ng:
   systemctl start tomcat

CÃC Lá»†NH LIÃŠN QUAN:

* systemctl disable tomcat   # vÃ´ hiá»‡u hÃ³a, dá»‹ch vá»¥ khÃ´ng khá»Ÿi Ä‘á»™ng cÃ¹ng há»‡ thá»‘ng
* systemctl status tomcat    # xem tráº¡ng thÃ¡i dá»‹ch vá»¥
* systemctl restart tomcat   # khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥

GHI CHÃš CUá»I:

* Lá»‡nh nÃ y **khÃ´ng khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥ ngay láº­p tá»©c** mÃ  chá»‰ thiáº¿t láº­p Ä‘á»ƒ cháº¡y tá»± Ä‘á»™ng khi boot. Äá»ƒ khá»Ÿi Ä‘á»™ng luÃ´n, káº¿t há»£p vá»›i start.
* Tá»‘t nháº¥t nÃªn kiá»ƒm tra unit file tomcat.service trÆ°á»›c khi enable Ä‘á»ƒ Ä‘áº£m báº£o cáº¥u hÃ¬nh Ä‘Ãºng.

---

Tá»‡p nÃ y lÃ  plain text, Ä‘á»‹nh dáº¡ng rÃµ rÃ ng Ä‘á»ƒ sao chÃ©p trá»±c tiáº¿p vÃ o file .txt.
		
		
		
		
	
		
		
		
	GÃ¡n cÃ¡c ná»™i dung cá»§a trang web vÃ o /var/www/html/ Ä‘á»ƒ cÃ³ thá»ƒ cháº¡y lÃªn trang web mong muá»‘n
	
	Download tomcat 10
	
	Truy cáº­p Tomcat:
	
		Tomcat theo máº·c Ä‘á»‹nh sáº½ nghe trÃªn port 8080, trá»« khi báº¡n Ä‘Ã£ sá»­a file server.xml.
		
		Trong output ip addr show, card enp0s8 cÃ³ Ä‘á»‹a chá»‰: inet 192.168.1.11/24 brd 192.168.1.255
		
		ÄÃ¢y lÃ  IP Ä‘á»ƒ báº¡n truy cáº­p tá»« host hoáº·c cÃ¡c mÃ¡y khÃ¡c trong cÃ¹ng máº¡ng 192.168.1.x.
		
		Báº¡n cáº§n má»Ÿ trÃ¬nh duyá»‡t vÃ  nháº­p:
		
			http://192.168.1.11:8080/
	
	Intall and configure WordPress:
	
		https://ubuntu.com/tutorials/install-and-configure-wordpress#7-configure-wordpress
		
			WordPress lÃ  gÃ¬?

			WordPress lÃ  má»™t CMS (Content Management System) â€“ há»‡ thá»‘ng quáº£n trá»‹ ná»™i dung.

			NÃ³ giÃºp báº¡n táº¡o website/blog mÃ  khÃ´ng cáº§n viáº¿t code nhiá»u.

			Ráº¥t phá»• biáº¿n Ä‘á»ƒ lÃ m: blog, website tin tá»©c, website cÃ´ng ty, tháº­m chÃ­ thÆ°Æ¡ng máº¡i Ä‘iá»‡n
			tá»­ (vá»›i plugin nhÆ° WooCommerce).

		â€œInstall and Configure WordPressâ€ (cÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh WordPress) Ä‘á»ƒ lÃ m gÃ¬?

			Install (cÃ i Ä‘áº·t):

				Táº£i mÃ£ nguá»“n WordPress vá» mÃ¡y chá»§ (server Linux).

				Äáº·t nÃ³ vÃ o thÆ° má»¥c web server (Apache/nginx).

				Káº¿t ná»‘i vá»›i cÆ¡ sá»Ÿ dá»¯ liá»‡u (MySQL/MariaDB).

				Sau bÆ°á»›c nÃ y, server cá»§a báº¡n cÃ³ WordPress, nhÆ°ng nÃ³ chÆ°a Ä‘Æ°á»£c cáº¥u hÃ¬nh Ä‘á»ƒ cháº¡y.

			Configure (cáº¥u hÃ¬nh):

				Táº¡o file wp-config.php Ä‘á»ƒ WordPress biáº¿t pháº£i káº¿t ná»‘i tá»›i database nÃ o, username/password lÃ  gÃ¬.

				Thiáº¿t láº­p cÃ¡c thÃ´ng sá»‘ nhÆ° ngÃ´n ngá»¯, timezone, theme, plugin.

				Truy cáº­p qua trÃ¬nh duyá»‡t Ä‘á»ƒ hoÃ n táº¥t wizard (báº¡n Ä‘áº·t tÃªn site, tÃ i khoáº£n admin, máº­t kháº©uâ€¦).

				Sau bÆ°á»›c nÃ y, báº¡n cÃ³ má»™t website WordPress cháº¡y Ä‘Æ°á»£c, sáºµn sÃ ng dÃ¹ng.

		TÃ³m láº¡i

			Install WordPress = Ä‘Æ°a WordPress vÃ o server.

			Configure WordPress = káº¿t ná»‘i WordPress vá»›i database + thiáº¿t láº­p Ä‘á»ƒ nÃ³ cháº¡y thÃ nh má»™t website hoÃ n chá»‰nh.
			
	Promt Ä‘á»ƒ táº¡o multivm:
	
		Multivm vagrantfile web01 ubuntu20, web02 with ubuntu20 & db01 with centos 7. Private IP for all the
		vms. Provisioning for db01. Set hostname also
		
		
		
		
		
	Ná»™i dung file Vagrantfile khi má»Ÿ má»™t sá»‘ comment:
	
		Case 1 (ubuntu):

			Vagrant.configure("2") do |config|
			   config.vm.box = "ubuntu/jammy64"
			   config.vm.network "private_network", ip: "192.168.33.10"
			   config.vm.network "public_network"
			   config.vm.provider "virtualbox" do |vb|
				 vb.memory = "1600"
				 vb.cpus = "2"
			   end
			end
			
		Case 2 (ubuntu):
		
			Vagrant.configure("2") do |config|
			   config.vm.box = "ubuntu/jammy64"
			   config.vm.network "private_network", ip: "192.168.33.10"
			   config.vm.network "public_network"
			   config.vm.synced_folder "E:\\devops_practice\\scripts\\shellscripts", "/opt/scripts"
			   config.vm.provider "virtualbox" do |vb|
				 vb.memory = "1600"
				 vb.cpus = "2"
			   end
			end			

		Case 3 (centos):
		
			Vagrant.configure("2") do |config|
			  config.vm.box = "eurolinux-vagrant/centos-stream-9"
			  config.vm.network "private_network", ip: "192.168.56.10"
			  config.vm.network "public_network"
			  config.vm.provision "shell", inline: <<-SHELL
				yum install httpd wget unzip git -y
				mkdir /opt/devopsdir
				free -m
				uptime
			  SHELL
			end
			
		Case 4 (ubuntu):
		
			Vagrant.configure("2") do |config|
			  config.vm.box = "ubuntu/jammy64"
			  config.vm.network "private_network", ip: "192.168.33.10"
			  config.vm.network "public_network"
			  config.vm.provider "virtualbox" do |vb|
				 vb.memory = "1600"
				 vb.cpus = "2"
			   end
			  config.vm.provision "shell", inline: <<-SHELL
				apt-get update
				apt-get install -y apache2
			  SHELL
			end

		Case 5 (ubuntu):
		
			Vagrant.configure("2") do |config|
			  config.vm.box = "ubuntu/jammy64"
			  config.vm.network "private_network", ip: "192.168.56.14"
			  config.vm.network "public_network"
			  config.vm.provider "virtualbox" do |vb|
				 vb.memory = "1600"
				 vb.cpus = "2"
			   end
			  config.vm.provision "shell", inline: <<-SHELL
				apt-get update
				apt-get install -y apache2
			  SHELL
			end
			
			ChÃº thá»ƒ truy cáº­p vÃ o link 192.168.56.14
			
		Case 6 (ubuntu):
		
			Vagrant.configure("2") do |config|
			  config.vm.box = "eurolinux-vagrant/centos-stream-9"
			  config.vm.network "private_network", ip: "192.168.56.22"
			  config.vm.network "public_network"
			  config.vm.provider "virtualbox" do |vb|
				vb.memory = "1024"
			  end
			end
			
		Case 7 (ubuntu):
		
			Vagrant.configure("2") do |config|
			  config.vm.box = "ubuntu/focal64"
			  config.vm.network "private_network", ip: "192.168.56.26"
			  config.vm.network "public_network"
			  config.vm.provider "virtualbox" do |vb|
				vb.memory = "1600"
			  end
			end
			
		Case 8 (ubuntu):
		
			Vagrant.configure("2") do |config|
			  config.vm.box = "eurolinux-vagrant/centos-stream-9"
			  config.vm.network "private_network", ip: "192.168.56.28"
			  config.vm.network "public_network"
			  config.vm.provider "virtualbox" do |vb|
				vb.memory = "1024"
			  end
			  config.vm.provision "shell", inline: <<-SHELL
				yum install httpd wget unzip vim -y
				systemctl start httpd
				systemctl enabled httpd
				mkdir -p /tmp/finance
				cd /tmp/finance
				wget https://www.tooplate.com/zip-templates/2138_aqua_nova.zip
				unzip -o 2138_aqua_nova.zip
				cp -r 2138_aqua_nova/* /var/www/html/
				systemctl restart httpd
				cd /tmp/
				rm -rf /tmp/finance
			  SHELL
			end
			
		Case 9 (ubuntu):
		
			Vagrant.configure("2") do |config|
			  config.vm.box = "ubuntu/focal64"
			  config.vm.network "private_network", ip: "192.168.56.30"
			  config.vm.network "public_network"
			  config.vm.provider "virtualbox" do |vb|
				vb.memory = "1600"
			  end
			  config.vm.provision "shell", inline: <<-SHELL
			  sudo apt update -y
			  sudo apt install -y apache2 \
							  ghostscript \
							  libapache2-mod-php \
							  mysql-server \
							  php \
							  php-bcmath \
							  php-curl \
							  php-imagick \
							  php-intl \
							  php-json \
							  php-mbstring \
							  php-mysql \
							  php-xml \
							  php-zip

			  sudo mkdir -p /srv/www
			  sudo chown www-data: /srv/www
			  curl https://wordpress.org/latest.tar.gz | sudo -u www-data tar zx -C /srv/www

			  cat > /etc/apache2/sites-available/wordpress.conf <<EOF
			<VirtualHost *:80>
				DocumentRoot /srv/www/wordpress
				<Directory /srv/www/wordpress>
					Options FollowSymLinks
					AllowOverride Limit Options FileInfo
					DirectoryIndex index.php
					Require all granted
				</Directory>
				<Directory /srv/www/wordpress/wp-content>
					Options FollowSymLinks
					Require all granted
				</Directory>
			</VirtualHost>
			EOF

			  sudo a2ensite wordpress
			  sudo a2enmod rewrite
			  sudo a2dissite 000-default

			  mysql -u root -e CREATE DATABASE wordpress;
			  mysql -u root -e CREATE USER wordpress@localhost IDENTIFIED BY 'admin123';
			  mysql -u root -e GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON wordpress.* TO wordpress@localhost;
			  mysql -u root -e FLUSH PRIVILEGES;

			  sudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php
			  sudo -u www-data sed -i 's/database_name_here/wordpress/' /srv/www/wordpress/wp-config.php
			  sudo -u www-data sed -i 's/username_here/wordpress/' /srv/www/wordpress/wp-config.php
			  sudo -u www-data sed -i 's/password_here/admin123/' /srv/www/wordpress/wp-config.php

			  systemctl restart mysql
			  systemctl restart apache2
			  SHELL
			end
			
			LÃºc Ä‘áº§u lÃ  sudo apt update vÃ  sudo apt install apache2 nhÆ°ng sau Ä‘Ã³ thÃªm -y Ä‘á»ƒ nÃ³ táº¡o Ä‘á»“ng Ã½, náº¿u
			khÃ´ng cÃ³ nÃ³ sáº½ absort rá»“i gÃ¢y ra lá»—i

		Case 10 (ubuntu):
		
			Vagrant.configure("2") do |config|
			  # ---------- Web01 ----------
			  config.vm.define "web01" do |web01|
				web01.vm.box = "ubuntu/focal64"
				web01.vm.hostname = "web01"
				web01.vm.network "private_network", ip: "192.168.56.41"
			  end

			  # ---------- Web02 ----------
			  config.vm.define "web02" do |web02|
				web02.vm.box = "ubuntu/focal64"
				web02.vm.hostname = "web02"
				web02.vm.network "private_network", ip: "192.168.56.42"
			  end

			  # ---------- DB01 ----------
			  config.vm.define "db01" do |db01|
				db01.vm.box = "centos/7"
				db01.vm.hostname = "db01"
				db01.vm.network "private_network", ip: "192.168.56.43"
				# Provisioning script for DB01
				db01.vm.provision "shell", inline: <<-SHELL
				  yum install -y wget unzip mariadb-server -y
				  systemctl start mariadb
				  systemctl enable mariadb
				SHELL
			  end
			end

			CÃ¡i nÃ y sáº½ khá»Ÿi táº¡o nhiá»u vm 1 lÃºc
			
			CÃ³ thá»ƒ thao tÃ¡c vá»›i tá»«ng vm theo cÃ¡c lá»‡nh sau:
			
				vagrant ssh web02
				
				vagrant destroy web01
				
				vagrant destroy -f web01
				
				vagrant up web03
				
				vagrant destroy --force
				
					XÃ³a táº¥t cáº£ cÃ¡c vm
				
			Code trÃªn centos 7 cÅ© nÃªn Ä‘Ã£ bá»‹ EOL nÃªn sáº½ Ä‘Æ°á»£c thÃªm vá»›i dÃ²ng code sau Ä‘á»ƒ fix:

				db01.vm.provision "shell", inline: <<-SHELL
				  # --- Fix CentOS 7 EOL repo ---
				  sed -i 's|mirrorlist=|#mirrorlist=|g' /etc/yum.repos.d/CentOS-Base.repo
				  sed -i 's|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g' /etc/yum.repos.d/CentOS-Base.repo
				  yum clean all
				  yum makecache

				  # --- Install MariaDB ---
				  yum install -y wget unzip mariadb-server
				  systemctl start mariadb
				  systemctl enable mariadb
				SHELL

	httpd:
	
		httpd trong Linux thÆ°á»ng dÃ¹ng Ä‘á»ƒ chá»‰ Apache HTTP Server â€“ má»™t trong nhá»¯ng web server phá»•
		biáº¿n vÃ  lÃ¢u Ä‘á»i nháº¥t trÃªn tháº¿ giá»›i.
		
		Giáº£i thÃ­ch

		httpd = HTTP Daemon (daemon nghÄ©a lÃ  dá»‹ch vá»¥ cháº¡y ngáº§m trÃªn há»‡ thá»‘ng).

		Khi cÃ i Apache trÃªn Linux (vÃ­ dá»¥ CentOS, RHEL, Fedora), gÃ³i dá»‹ch vá»¥ sáº½ Ä‘Æ°á»£c Ä‘áº·t tÃªn lÃ  httpd.

		Nhiá»‡m vá»¥ chÃ­nh:

			Nháº­n request HTTP/HTTPS tá»« client (trÃ¬nh duyá»‡t, curl, APIâ€¦).

			Xá»­ lÃ½ vÃ  tráº£ vá» response (HTML, CSS, JS, JSON, file tÄ©nh, dá»¯ liá»‡u Ä‘á»™ng qua PHP/Python/Javaâ€¦).

		httpd cÃ³ thá»ƒ má»Ÿ rá»™ng báº±ng module (vÃ­ dá»¥: mod_ssl cho HTTPS, mod_rewrite cho rewrite URL, mod_php Ä‘á»ƒ cháº¡y PHP).
		
	Lá»‡nh Ä‘á»ƒ in ná»™i dung cá»§a file html ra mÃ n hÃ¬nh:

		[root@Finance ~]# cd /var/www/html/
		[root@Finance html]# ls
		[root@Finance html]# vim index.html
		index.html
		[root@Finance html]# systemctl restart httpd

	Kiá»ƒm tra xem cÃ³ táº¥t cáº£ cÃ¡i nÃ o Ä‘ang cháº¡y:
	
		vagrant global-status
		
		
--- Variables, JSON and YAML:

	- Commands:
	
		PC@DESKTOP-GNVB183 MINGW64 /e/devops practice/VM_setup/vagrant/vagrant-vms/centos
		$ skill="DevOps"

		PC@DESKTOP-GNVB183 MINGW64 /e/devops practice/VM_setup/vagrant/vagrant-vms/centos
		$ echo $skill
		DevOps

		PC@DESKTOP-GNVB183 MINGW64 /e/devops practice/VM_setup/vagrant/vagrant-vms/centos
		$ echo skill
		skill

		PC@DESKTOP-GNVB183 MINGW64 /e/devops practice/VM_setup/vagrant/vagrant-vms/centos
		$ echo "I am learning $skill"
		I am learning DevOps

		PC@DESKTOP-GNVB183 MINGW64 /e/devops practice/VM_setup/vagrant/vagrant-vms/centos
		$ echo 'I am learning $skill'
		I am learning $skill

		PC@DESKTOP-GNVB183 MINGW64 /e/devops practice/VM_setup/vagrant/vagrant-vms/centos
		$ Num=123
		
	Python edittors online
	
	Json editor
	
	Yaml editor
	
--- Networking:

	- Commands:
	
		- cmd: sudo apt update
		
---

## TIÃŠU Äá»€: Giáº£i thÃ­ch chi tiáº¿t: sudo apt update

1. CÃ¢u lá»‡nh (sáºµn Ä‘á»ƒ copy):

sudo apt update

2. Má»¥c Ä‘Ã­ch chung:

Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **cáº­p nháº­t danh sÃ¡ch gÃ³i pháº§n má»m** tá»« cÃ¡c repository trÃªn há»‡ thá»‘ng Ubuntu/Debian. NÃ³ khÃ´ng cÃ i Ä‘áº·t hay nÃ¢ng cáº¥p gÃ³i, chá»‰ láº¥y thÃ´ng tin má»›i nháº¥t vá» phiÃªn báº£n cÃ³ sáºµn.

3. PhÃ¢n tÃ­ch cÃº phÃ¡p tá»«ng pháº§n:

* `sudo` : cháº¡y lá»‡nh vá»›i quyá»n **quáº£n trá»‹ viÃªn (root)** vÃ¬ viá»‡c cáº­p nháº­t danh sÃ¡ch gÃ³i cáº§n quyá»n há»‡ thá»‘ng.

* `apt` : lÃ  cÃ´ng cá»¥ quáº£n lÃ½ gÃ³i trÃªn Debian/Ubuntu, thay tháº¿ `apt-get` trong nhiá»u trÆ°á»ng há»£p, cung cáº¥p cÃ¡c lá»‡nh cÃ i Ä‘áº·t, cáº­p nháº­t, gá»¡ bá», tÃ¬m kiáº¿m gÃ³i.

* `update` : chá»‰ thá»‹ `apt` **táº£i vá» thÃ´ng tin má»›i nháº¥t vá» cÃ¡c gÃ³i tá»« cÃ¡c repository** Ä‘Æ°á»£c khai bÃ¡o trong `/etc/apt/sources.list` vÃ  thÆ° má»¥c `/etc/apt/sources.list.d/`.

4. CÆ¡ cháº¿ hoáº¡t Ä‘á»™ng:

1) Äá»c danh sÃ¡ch repository tá»« há»‡ thá»‘ng.
2) Káº¿t ná»‘i tá»›i cÃ¡c server repository.
3) Táº£i cÃ¡c file index (Packages, Sources, Release, â€¦).
4) Cáº­p nháº­t **cÆ¡ sá»Ÿ dá»¯ liá»‡u cá»¥c bá»™** (/var/lib/apt/lists/), dÃ¹ng Ä‘á»ƒ tra cá»©u phiÃªn báº£n gÃ³i, phá»¥ thuá»™c, thÃ´ng tin báº£o máº­t.

5. VÃ­ dá»¥ thá»±c táº¿:

```bash
sudo apt update
sudo apt install apache2
```

* Äáº§u tiÃªn cháº¡y `update` Ä‘á»ƒ Ä‘áº£m báº£o apt biáº¿t phiÃªn báº£n Apache má»›i nháº¥t.

6. LÆ°u Ã½:

* Chá»‰ cáº­p nháº­t danh sÃ¡ch gÃ³i, khÃ´ng nÃ¢ng cáº¥p gÃ³i Ä‘Ã£ cÃ i.
* Äá»ƒ nÃ¢ng cáº¥p cÃ¡c gÃ³i Ä‘Ã£ cÃ i lÃªn phiÃªn báº£n má»›i, dÃ¹ng:

```
sudo apt upgrade
```

* NÃªn cháº¡y `sudo apt update` **thÆ°á»ng xuyÃªn** trÆ°á»›c khi cÃ i Ä‘áº·t hoáº·c nÃ¢ng cáº¥p gÃ³i.

* Náº¿u gáº·p lá»—i káº¿t ná»‘i hoáº·c repository, kiá»ƒm tra máº¡ng vÃ  file `/etc/apt/sources.list`.

7. Má»™t sá»‘ tÃ¹y chá»n há»¯u Ã­ch:

* `sudo apt update -y` : tá»± Ä‘á»™ng tráº£ lá»i â€œyesâ€ cho má»i cÃ¢u há»i (thÆ°á»ng khÃ´ng cáº§n cho update).
* `sudo apt update && sudo apt upgrade` : cáº­p nháº­t danh sÃ¡ch vÃ  nÃ¢ng cáº¥p luÃ´n cÃ¡c gÃ³i.

8. TÃ³m táº¯t ngáº¯n (copy nhanh):

sudo apt update

* Cáº­p nháº­t danh sÃ¡ch cÃ¡c gÃ³i pháº§n má»m tá»« repository, giÃºp há»‡ thá»‘ng biáº¿t phiÃªn báº£n má»›i nháº¥t cá»§a gÃ³i trÆ°á»›c khi cÃ i hoáº·c nÃ¢ng cáº¥p.

---

Háº¿t.

		
		- cmd: sudo apt install -y net-tools
		
== Giáº£i thÃ­ch chi tiáº¿t: sudo apt install -y net-tools ==

LÆ°u Ã½: tá»‡p nÃ y á»Ÿ dáº¡ng plain text Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ o file .txt.

---

1. CÃ¢u lá»‡nh Ä‘áº§y Ä‘á»§:

sudo apt install -y net-tools

---

2. Má»¥c Ä‘Ã­ch ngáº¯n gá»n:

* Lá»‡nh nÃ y cÃ i Ä‘áº·t gÃ³i `net-tools` trÃªn há»‡ thá»‘ng Debian/Ubuntu.
* `net-tools` bao gá»“m cÃ¡c cÃ´ng cá»¥ máº¡ng phá»• biáº¿n nhÆ° ifconfig, netstat, route, arp...
* TÃ¹y chá»n `-y` tá»± Ä‘á»™ng tráº£ lá»i "yes" cho má»i prompt, giÃºp cÃ i Ä‘áº·t cháº¡y khÃ´ng cáº§n tÆ°Æ¡ng tÃ¡c.

---

3. PhÃ¢n tÃ­ch tá»«ng pháº§n:

* sudo

  * Thá»±c thi lá»‡nh vá»›i quyá»n root.

* apt

  * TrÃ¬nh quáº£n lÃ½ gÃ³i trÃªn Debian/Ubuntu.
  * Thay tháº¿ apt-get, cho phÃ©p cÃ i, gá»¡, cáº­p nháº­t gÃ³i.

* install

  * HÃ nh Ä‘á»™ng yÃªu cáº§u cÃ i Ä‘áº·t gÃ³i.

* -y

  * Tá»± Ä‘á»™ng tráº£ lá»i yes cho cÃ¡c cÃ¢u há»i xÃ¡c nháº­n.

* net-tools

  * TÃªn gÃ³i cáº§n cÃ i, bao gá»“m cÃ¡c cÃ´ng cá»¥ máº¡ng cÆ¡ báº£n.

---

4. Khi nÃ o sá»­ dá»¥ng lá»‡nh nÃ y?

* Khi cáº§n sá»­ dá»¥ng cÃ¡c lá»‡nh máº¡ng cá»• Ä‘iá»ƒn nhÆ° `ifconfig`, `netstat` mÃ  khÃ´ng cÃ³ sáºµn trÃªn há»‡ thá»‘ng.
* Khi triá»ƒn khai server má»›i vÃ  muá»‘n kiá»ƒm tra cáº¥u hÃ¬nh máº¡ng.

---

5. Kiá»ƒm tra sau khi cÃ i:

* ifconfig

  * Hiá»ƒn thá»‹ cÃ¡c interface máº¡ng vÃ  IP.
* netstat -tulnp

  * Hiá»ƒn thá»‹ káº¿t ná»‘i TCP/UDP vÃ  cÃ¡c port Ä‘ang láº¯ng nghe.

---

6. LÆ°u Ã½:

* TrÃªn cÃ¡c phiÃªn báº£n Ubuntu má»›i, `ip` tá»« iproute2 thay tháº¿ ifconfig/netstat.
* Váº«n cÃ³ thá»ƒ dÃ¹ng net-tools náº¿u cáº§n tÆ°Æ¡ng thÃ­ch vá»›i cÃ¡c script cÅ©.
* Cáº§n quyá»n root Ä‘á»ƒ cÃ i Ä‘áº·t gÃ³i, náº¿u khÃ´ng, dÃ¹ng sudo.

---

7. VÃ­ dá»¥ thá»±c táº¿:

1) CÃ i net-tools:

   * sudo apt install -y net-tools
2) Kiá»ƒm tra IP:

   * ifconfig
3) Kiá»ƒm tra káº¿t ná»‘i máº¡ng:

   * netstat -tulnp

---

8. TÃ³m táº¯t ngáº¯n gá»n (1 cÃ¢u):

* `sudo apt install -y net-tools` cÃ i Ä‘áº·t gÃ³i cÃ´ng cá»¥ máº¡ng cÆ¡ báº£n trÃªn Debian/Ubuntu, tá»± Ä‘á»™ng Ä‘á»“ng Ã½ táº¥t cáº£ xÃ¡c nháº­n vÃ  cung cáº¥p cÃ¡c lá»‡nh nhÆ° ifconfig, netstat, route.

---

Báº£n quyá»n: tÃ i liá»‡u nÃ y do báº¡n sao chÃ©p vÃ  sá»­ dá»¥ng. ChÃºc báº¡n thao tÃ¡c an toÃ n!
		
		
		- cmd: ifconfig
		
ifconfig

---

MÃ´ táº£ chi tiáº¿t (plain text, sáºµn sÃ ng copy vÃ o file .txt):

1. Ã nghÄ©a ngáº¯n gá»n:
   Lá»‡nh `ifconfig` (interface configuration) hiá»ƒn thá»‹ thÃ´ng tin cáº¥u hÃ¬nh máº¡ng cá»§a cÃ¡c interface trÃªn há»‡ thá»‘ng Linux hoáº·c Unix. NgoÃ i ra, `ifconfig` cÃ²n cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ cáº¥u hÃ¬nh Ä‘á»‹a chá»‰ IP, báº­t/táº¯t interface vÃ  thiáº¿t láº­p cÃ¡c tham sá»‘ máº¡ng khÃ¡c.

2. Giáº£i thÃ­ch thÃ nh pháº§n:

* `ifconfig`: lá»‡nh dÃ²ng lá»‡nh quáº£n lÃ½ network interfaces.
* Khi cháº¡y mÃ  khÃ´ng kÃ¨m tham sá»‘: hiá»ƒn thá»‹ thÃ´ng tin táº¥t cáº£ interface Ä‘ang hoáº¡t Ä‘á»™ng.

3. ThÃ´ng tin tráº£ vá» thÆ°á»ng bao gá»“m:

* TÃªn interface: vÃ­ dá»¥ `eth0`, `ens33`, `lo` (loopback).
* Äá»‹a chá»‰ IP (IPv4 vÃ /hoáº·c IPv6): `inet addr`, `inet6 addr`.
* Netmask: máº·t náº¡ máº¡ng con.
* Broadcast: Ä‘á»‹a chá»‰ broadcast.
* MAC address (hardware address): `HWaddr`.
* Tráº¡ng thÃ¡i interface: `UP`, `DOWN`, `RUNNING`.
* Packets, errors, dropped, collisions, TX/RX bytes.

4. Má»™t sá»‘ vÃ­ dá»¥ sá»­ dá»¥ng:

```
# Hiá»ƒn thá»‹ táº¥t cáº£ interface Ä‘ang hoáº¡t Ä‘á»™ng
ifconfig

# Hiá»ƒn thá»‹ thÃ´ng tin interface cá»¥ thá»ƒ
ifconfig eth0

# Báº­t interface eth0
sudo ifconfig eth0 up

# Táº¯t interface eth0
sudo ifconfig eth0 down

# GÃ¡n Ä‘á»‹a chá»‰ IP tÄ©nh cho eth0
sudo ifconfig eth0 192.168.1.100 netmask 255.255.255.0
```

5. LÆ°u Ã½ vÃ  best practices:

* TrÃªn nhiá»u báº£n Linux hiá»‡n Ä‘áº¡i, `ifconfig` Ä‘Ã£ Ä‘Æ°á»£c thay tháº¿ báº±ng `ip` tá»« iproute2 package:

  * `ip addr show` tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `ifconfig`
  * `ip link set eth0 up` tÆ°Æ¡ng Ä‘Æ°Æ¡ng `ifconfig eth0 up`
* Cáº§n quyá»n root (`sudo`) khi thay Ä‘á»•i cáº¥u hÃ¬nh máº¡ng.
* KhÃ´ng nÃªn thay Ä‘á»•i interface chÃ­nh khi Ä‘ang káº¿t ná»‘i SSH tá»« xa, sáº½ lÃ m máº¥t káº¿t ná»‘i.

6. Kiá»ƒm tra káº¿t ná»‘i máº¡ng sau khi cáº¥u hÃ¬nh:

* `ping 8.8.8.8` Ä‘á»ƒ kiá»ƒm tra káº¿t ná»‘i Internet.
* `ping <gateway>` Ä‘á»ƒ kiá»ƒm tra gateway.

7. VÃ­ dá»¥ hiá»ƒn thá»‹ output:

```
eth0      Link encap:Ethernet  HWaddr 00:0c:29:68:22:1a  
          inet addr:192.168.1.10  Bcast:192.168.1.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:1000 errors:0 dropped:0 overruns:0 frame:0
          TX packets:500 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:123456 (120.5 KB)  TX bytes:654321 (638.5 KB)
```

---

Ghi chÃº: Báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ ná»™i dung nÃ y trá»±c tiáº¿p vÃ o file .txt. Ná»™i dung trÃ¬nh bÃ y Ä‘áº§y Ä‘á»§, rÃµ rÃ ng vÃ  sáºµn sÃ ng sá»­ dá»¥ng.
		
		
		- cmd:
		
				vagrant@web01:~$ ping 192.168.56.41
				PING 192.168.56.41 (192.168.56.41) 56(84) bytes of data.
				64 bytes from 192.168.56.41: icmp_seq=1 ttl=64 time=0.021 ms
				64 bytes from 192.168.56.41: icmp_seq=2 ttl=64 time=0.037 ms
				64 bytes from 192.168.56.41: icmp_seq=3 ttl=64 time=0.027 ms
				64 bytes from 192.168.56.41: icmp_seq=4 ttl=64 time=0.027 ms
				64 bytes from 192.168.56.41: icmp_seq=5 ttl=64 time=0.042 ms
				
vagrant@web01:~$ ping 192.168.56.41

MÃ” Táº¢ NGáº®N (1 cÃ¢u):
Gá»­i cÃ¡c gÃ³i ICMP tá»›i Ä‘á»‹a chá»‰ IP 192.168.56.41 Ä‘á»ƒ kiá»ƒm tra káº¿t ná»‘i máº¡ng, Ä‘o Ä‘á»™ trá»… vÃ  xÃ¡c Ä‘á»‹nh host cÃ³ Ä‘ang hoáº¡t Ä‘á»™ng hay khÃ´ng.

CÃš PHÃP (plain text, copy vÃ o .txt):
ping <Ä‘á»‹a_chá»‰_IP>

PHáº¦N GIáº¢I THÃCH Tá»ªNG PHáº¦N:

* ping
  Lá»‡nh kiá»ƒm tra káº¿t ná»‘i máº¡ng báº±ng cÃ¡ch gá»­i cÃ¡c gÃ³i ICMP Echo Request tá»›i host Ä‘Ã­ch vÃ  nháº­n pháº£n há»“i Echo Reply.

* 192.168.56.41
  Äá»‹a chá»‰ IP cá»§a host báº¡n muá»‘n kiá»ƒm tra káº¿t ná»‘i.

Äáº¦U RA MáºªU:
PING 192.168.56.41 (192.168.56.41) 56(84) bytes of data.
64 bytes from 192.168.56.41: icmp_seq=1 ttl=64 time=0.021 ms
64 bytes from 192.168.56.41: icmp_seq=2 ttl=64 time=0.037 ms
64 bytes from 192.168.56.41: icmp_seq=3 ttl=64 time=0.027 ms
64 bytes from 192.168.56.41: icmp_seq=4 ttl=64 time=0.027 ms
64 bytes from 192.168.56.41: icmp_seq=5 ttl=64 time=0.042 ms

GIáº¢I THÃCH Äáº¦U RA:

* 64 bytes from 192.168.56.41
  KÃ­ch thÆ°á»›c gÃ³i nháº­n Ä‘Æ°á»£c tá»« host Ä‘Ã­ch.

* icmp_seq=1
  Sá»‘ thá»© tá»± cá»§a gÃ³i ICMP gá»­i Ä‘i.

* ttl=64
  Time To Live, sá»‘ bÆ°á»›c nháº£y tá»‘i Ä‘a cÃ²n láº¡i trÆ°á»›c khi gÃ³i bá»‹ há»§y. GiÃ¡ trá»‹ nÃ y giÃºp cháº©n Ä‘oÃ¡n routing.

* time=0.021 ms
  Thá»i gian round-trip tÃ­nh báº±ng milliseconds tá»« khi gá»­i tá»›i khi nháº­n pháº£n há»“i.

LÆ¯U Ã THá»°C TIá»„N:

1. Dá»«ng ping:

   * Nháº¥n Ctrl+C Ä‘á»ƒ dá»«ng lá»‡nh ping liÃªn tá»¥c.

2. Ping sá»‘ láº§n cá»‘ Ä‘á»‹nh:
   ping -c 5 192.168.56.41  # gá»­i 5 gÃ³i rá»“i dá»«ng

3. Kiá»ƒm tra káº¿t ná»‘i:

   * Náº¿u nháº­n Ä‘Æ°á»£c pháº£n há»“i, host Ä‘ang hoáº¡t Ä‘á»™ng vÃ  cÃ³ káº¿t ná»‘i máº¡ng.
   * Náº¿u "Destination Host Unreachable" hoáº·c "Request timed out", cÃ³ thá»ƒ host táº¯t hoáº·c máº¡ng khÃ´ng káº¿t ná»‘i.

CÃC Lá»†NH LIÃŠN QUAN:

* traceroute 192.168.56.41  # xem Ä‘Æ°á»ng Ä‘i cá»§a gÃ³i tin tá»›i host
* ping6 <IPv6>  # ping vá»›i Ä‘á»‹a chá»‰ IPv6
* mtr 192.168.56.41  # cÃ´ng cá»¥ káº¿t há»£p ping + traceroute, theo dÃµi liÃªn tá»¥c

GHI CHÃš CUá»I:

* Lá»‡nh ping há»¯u Ã­ch Ä‘á»ƒ cháº©n Ä‘oÃ¡n káº¿t ná»‘i máº¡ng cÆ¡ báº£n vÃ  Ä‘o Ä‘á»™ trá»… giá»¯a cÃ¡c host.
* ThÃ´ng sá»‘ TTL vÃ  time cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ phÃ¢n tÃ­ch hiá»‡u nÄƒng máº¡ng.

---

Tá»‡p nÃ y lÃ  plain text, Ä‘á»‹nh dáº¡ng rÃµ rÃ ng Ä‘


		- cmd: root@web01:~# vi /etc/hosts
		
				127.0.0.1       localhost

				# The following lines are desirable for IPv6 capable hosts
				::1     ip6-localhost   ip6-loopback
				fe00::0 ip6-localnet
				ff00::0 ip6-mcastprefix
				ff02::1 ip6-allnodes
				ff02::2 ip6-allrouters
				ff02::3 ip6-allhosts
				127.0.1.1       ubuntu-focal    ubuntu-focal

				127.0.2.1 web01 web01

				192.168.56.41 web01
				
---

## TIÃŠU Äá»€: Giáº£i thÃ­ch chi tiáº¿t: vi /etc/hosts

1. CÃ¢u lá»‡nh (sáºµn Ä‘á»ƒ copy):

vi /etc/hosts

2. Má»¥c Ä‘Ã­ch chung:

Má»Ÿ file `/etc/hosts` báº±ng editor `vi` Ä‘á»ƒ chá»‰nh sá»­a Ã¡nh xáº¡ giá»¯a **Ä‘á»‹a chá»‰ IP** vÃ  **tÃªn host** trÃªn há»‡ thá»‘ng Linux. File nÃ y giÃºp mÃ¡y tÃ­nh **dá»‹ch tÃªn host thÃ nh Ä‘á»‹a chá»‰ IP** mÃ  khÃ´ng cáº§n query DNS.

3. PhÃ¢n tÃ­ch cÃº phÃ¡p tá»«ng pháº§n:

* `vi` : trÃ¬nh soáº¡n tháº£o vÄƒn báº£n dÃ²ng lá»‡nh trÃªn Linux/Unix.
* `/etc/hosts` : file cáº¥u hÃ¬nh Ã¡nh xáº¡ IP â†’ hostname.

  * Há»‡ thá»‘ng sáº½ tham kháº£o file nÃ y trÆ°á»›c khi query DNS.

4. Ná»™i dung file hosts máº«u vÃ  giáº£i thÃ­ch tá»«ng dÃ²ng:

```
127.0.0.1       localhost
```

* `127.0.0.1` lÃ  Ä‘á»‹a chá»‰ loopback (localhost).
* DÃ²ng nÃ y cho phÃ©p há»‡ thá»‘ng nháº­n biáº¿t `localhost` lÃ  chÃ­nh mÃ¡y mÃ¬nh.

```
# The following lines are desirable for IPv6 capable hosts
::1     ip6-localhost   ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
ff02::3 ip6-allhosts
```

* CÃ¡c dÃ²ng cho IPv6, Ã¡nh xáº¡ cÃ¡c Ä‘á»‹a chá»‰ IPv6 Ä‘áº·c biá»‡t vá»›i tÃªn tÆ°Æ¡ng á»©ng.
* `::1` lÃ  loopback IPv6.
* CÃ¡c Ä‘á»‹a chá»‰ `ff*`, `fe*` lÃ  multicast hoáº·c local network cho IPv6.

```
127.0.1.1       ubuntu-focal    ubuntu-focal
```

* 127.0.1.1 Ã¡nh xáº¡ hostname cá»§a há»‡ thá»‘ng `ubuntu-focal`.
* ThÆ°á»ng do cÃ i Ä‘áº·t Ubuntu tá»± thÃªm khi hostname Ä‘Æ°á»£c Ä‘áº·t trong quÃ¡ trÃ¬nh cÃ i.

```
127.0.2.1 web01 web01
```

* Ãnh xáº¡ loopback bá»• sung cho hostname `web01`.
* CÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ test hoáº·c phÃ¢n tÃ¡ch mÃ´i trÆ°á»ng máº¡ng áº£o.

```
192.168.56.41 web01
```

* Ãnh xáº¡ IP thá»±c táº¿ trong máº¡ng ná»™i bá»™ (`192.168.56.41`) vá»›i hostname `web01`.
* Cho phÃ©p ping hoáº·c truy cáº­p mÃ¡y `web01` tá»« cÃ¡c mÃ¡y khÃ¡c trong máº¡ng ná»™i bá»™ mÃ  khÃ´ng cáº§n DNS.

5. LÆ°u Ã½ khi chá»‰nh sá»­a file `/etc/hosts`:

* Má»—i dÃ²ng má»™t Ã¡nh xáº¡: `IP_ADDRESS HOSTNAME [ALIASES...]`
* TrÃ¡nh trÃ¹ng IP hoáº·c hostname Ä‘á»ƒ khÃ´ng gÃ¢y lá»—i máº¡ng.
* Sau khi chá»‰nh sá»­a, khÃ´ng cáº§n restart network service, thay Ä‘á»•i cÃ³ hiá»‡u lá»±c ngay.
* DÃ¹ng quyá»n root Ä‘á»ƒ sá»­a:

```
sudo vi /etc/hosts
```

* Kiá»ƒm tra Ã¡nh xáº¡:

```
ping web01
ping localhost
```

6. TÃ³m táº¯t ngáº¯n (copy nhanh):

vi /etc/hosts

* Má»Ÿ file hosts Ä‘á»ƒ chá»‰nh sá»­a Ã¡nh xáº¡ IP â†’ hostname. DÃ¹ng root Ä‘á»ƒ thay Ä‘á»•i tÃªn host hoáº·c IP cho mÃ¡y local vÃ  máº¡ng ná»™i bá»™.

---

Háº¿t.

				
		- cmd: ping web01
		
== Giáº£i thÃ­ch chi tiáº¿t: ping web01 ==

LÆ°u Ã½: tá»‡p nÃ y á»Ÿ dáº¡ng plain text Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ o file .txt.

---

1. CÃ¢u lá»‡nh Ä‘áº§y Ä‘á»§:

ping web01

---

2. Má»¥c Ä‘Ã­ch ngáº¯n gá»n:

* Lá»‡nh nÃ y gá»­i cÃ¡c gÃ³i ICMP Echo Request Ä‘áº¿n host hoáº·c tÃªn mÃ¡y `web01` Ä‘á»ƒ kiá»ƒm tra káº¿t ná»‘i máº¡ng vÃ  Ä‘á»™ trá»….
* ThÆ°á»ng dÃ¹ng Ä‘á»ƒ kiá»ƒm tra xem host `web01` cÃ³ Ä‘ang hoáº¡t Ä‘á»™ng vÃ  cÃ³ thá»ƒ liÃªn láº¡c Ä‘Æ°á»£c tá»« mÃ¡y cá»§a báº¡n hay khÃ´ng.

---

3. PhÃ¢n tÃ­ch tá»«ng pháº§n:

* ping

  * Lá»‡nh máº¡ng dÃ¹ng Ä‘á»ƒ gá»­i gÃ³i ICMP Echo Request.
  * Hiá»ƒn thá»‹ thá»i gian pháº£n há»“i (latency) tá»« host Ä‘Ã­ch.
  * CÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ xÃ¡c minh host online hoáº·c kiá»ƒm tra cháº¥t lÆ°á»£ng káº¿t ná»‘i.

* web01

  * TÃªn host hoáº·c Ä‘á»‹a chá»‰ IP Ä‘Ã­ch.
  * TÃªn `web01` cÃ³ thá»ƒ lÃ  hostname Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong `/etc/hosts` hoáº·c DNS.

---

4. Khi nÃ o sá»­ dá»¥ng lá»‡nh nÃ y?

* Kiá»ƒm tra káº¿t ná»‘i máº¡ng tá»›i má»™t mÃ¡y chá»§.
* XÃ¡c minh server cÃ³ Ä‘ang online.
* Kiá»ƒm tra Ä‘á»™ trá»… (latency) giá»¯a mÃ¡y báº¡n vÃ  host Ä‘Ã­ch.
* Cháº©n Ä‘oÃ¡n sá»± cá»‘ máº¡ng cÆ¡ báº£n.

---

5. TÃ¹y chá»n phá»• biáº¿n:

* ping -c <sá»‘_láº§n> web01

  * Gá»­i má»™t sá»‘ lÆ°á»£ng gÃ³i ICMP cá»‘ Ä‘á»‹nh vÃ  tá»± Ä‘á»™ng dá»«ng, vÃ­ dá»¥: ping -c 4 web01

* ping -i <giÃ¢y> web01

  * Khoáº£ng thá»i gian giá»¯a cÃ¡c gÃ³i gá»­i Ä‘i, máº·c Ä‘á»‹nh 1 giÃ¢y.

* ping -t <ttl> web01

  * Thiáº¿t láº­p Time To Live cho cÃ¡c gÃ³i.

* ping -4 web01 / ping -6 web01

  * Chá»‰ dÃ¹ng IPv4 hoáº·c IPv6.

---

6. Kiá»ƒm tra káº¿t quáº£:

* Má»—i dÃ²ng pháº£n há»“i chá»©a thÃ´ng tin:

  * IP Ä‘Ã­ch
  * KÃ­ch thÆ°á»›c gÃ³i
  * Thá»i gian pháº£n há»“i (time)
  * TTL (Time To Live)

* Cuá»‘i quÃ¡ trÃ¬nh (hoáº·c khi dÃ¹ng -c) hiá»ƒn thá»‹ thá»‘ng kÃª:

  * Sá»‘ gÃ³i gá»­i / nháº­n
  * Tá»‰ lá»‡ máº¥t mÃ¡t (% packet loss)
  * Thá»i gian min/avg/max/mdev

---

7. LÆ°u Ã½ quan trá»ng:

* Cáº§n káº¿t ná»‘i máº¡ng vÃ  host Ä‘Ã­ch pháº£i báº­t ICMP Echo Reply.

* Náº¿u host khÃ´ng pháº£n há»“i:

  * Kiá»ƒm tra firewall trÃªn host hoáº·c router.
  * Kiá»ƒm tra DNS hoáº·c /etc/hosts náº¿u dÃ¹ng hostname.

* TrÃªn má»™t sá»‘ há»‡ thá»‘ng, cáº§n quyá»n sudo Ä‘á»ƒ gá»­i gÃ³i ICMP kÃ­ch thÆ°á»›c lá»›n.

---

8. VÃ­ dá»¥ thá»±c táº¿:

1) Kiá»ƒm tra káº¿t ná»‘i cÆ¡ báº£n:

   * ping web01

2) Gá»­i 4 gÃ³i vÃ  dá»«ng:

   * ping -c 4 web01

3) Kiá»ƒm tra káº¿t ná»‘i IPv6:

   * ping -6 web01

---

9. TÃ³m táº¯t ngáº¯n gá»n (1 cÃ¢u):

* Lá»‡nh `ping web01` dÃ¹ng Ä‘á»ƒ kiá»ƒm tra xem mÃ¡y chá»§ `web01` cÃ³ thá»ƒ liÃªn láº¡c Ä‘Æ°á»£c tá»« há»‡ thá»‘ng cá»§a báº¡n, Ä‘o Ä‘á»™ trá»… vÃ  tÃ¬nh tráº¡ng máº¡ng giá»¯a hai mÃ¡y.

---

Báº£n quyá»n: tÃ i liá»‡u nÃ y do báº¡n sao chÃ©p vÃ  sá»­ dá»¥ng. ChÃºc báº¡n thao tÃ¡c an toÃ n!
		
		
		- cmd: logout
		
logout

---

MÃ´ táº£ chi tiáº¿t (plain text, sáºµn sÃ ng copy vÃ o file .txt):

1. Ã nghÄ©a ngáº¯n gá»n:
   Lá»‡nh `logout` Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ káº¿t thÃºc phiÃªn lÃ m viá»‡c hiá»‡n táº¡i cá»§a ngÆ°á»i dÃ¹ng trÃªn shell hoáº·c terminal. Khi thá»±c hiá»‡n, ngÆ°á»i dÃ¹ng sáº½ Ä‘Äƒng xuáº¥t khá»i phiÃªn shell Ä‘ang má»Ÿ.

2. Giáº£i thÃ­ch thÃ nh pháº§n:

* `logout`: lá»‡nh dÃ²ng lá»‡nh cÆ¡ báº£n trong cÃ¡c shell Unix/Linux (bash, sh, ksh, zsh).
* KhÃ´ng cáº§n tham sá»‘, lá»‡nh sáº½ tá»± Ä‘á»™ng Ä‘Ã³ng phiÃªn lÃ m viá»‡c hiá»‡n táº¡i.

3. TÃ¡c dá»¥ng chÃ­nh:

* ÄÃ³ng session shell hiá»‡n táº¡i.
* Náº¿u Ä‘ang Ä‘Äƒng nháº­p qua SSH, lá»‡nh nÃ y sáº½ káº¿t thÃºc káº¿t ná»‘i tá»« xa.
* Trá»Ÿ vá» mÃ n hÃ¬nh Ä‘Äƒng nháº­p hoáº·c Ä‘Ã³ng terminal náº¿u Ä‘ang lÃ m viá»‡c trá»±c tiáº¿p trÃªn mÃ¡y.

4. CÃ¡c trÆ°á»ng há»£p sá»­ dá»¥ng:

* Trong terminal trá»±c tiáº¿p:

```
logout
```

Sau khi cháº¡y, terminal sáº½ Ä‘Ã³ng hoáº·c trá»Ÿ vá» mÃ n hÃ¬nh Ä‘Äƒng nháº­p.

* Trong SSH session tá»« xa:

```
ssh user@remote_host
# sau khi xong viá»‡c
logout
```

Káº¿t ná»‘i SSH sáº½ bá»‹ ngáº¯t.

5. LÆ°u Ã½:

* Náº¿u Ä‘ang cÃ³ nhiá»u tab terminal má»Ÿ, chá»‰ tab hiá»‡n táº¡i sáº½ bá»‹ Ä‘Ã³ng.
* Trong cÃ¡c shell con (subshell) Ä‘Æ°á»£c má»Ÿ báº±ng `bash` hoáº·c `sh` tá»« terminal chÃ­nh, `logout` chá»‰ cÃ³ tÃ¡c dá»¥ng náº¿u Ä‘Ã³ lÃ  shell login. Náº¿u khÃ´ng, lá»‡nh sáº½ thÃ´ng bÃ¡o:

```
bash: logout: not login shell
```

* Trong trÆ°á»ng há»£p shell khÃ´ng pháº£i login shell, cÃ³ thá»ƒ dÃ¹ng `exit` Ä‘á»ƒ Ä‘Ã³ng shell con.

6. So sÃ¡nh vá»›i `exit`:

* `logout`: chá»‰ dÃ¹ng Ä‘á»ƒ thoÃ¡t khá»i login shell.
* `exit`: cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ thoÃ¡t khá»i má»i shell, login hay non-login.

7. VÃ­ dá»¥ thá»±c táº¿:

```
# ÄÄƒng nháº­p vÃ o mÃ¡y tá»« xa
ssh user@192.168.1.10

# Kiá»ƒm tra cÃ¡c file
ls -l

# Khi káº¿t thÃºc, Ä‘Äƒng xuáº¥t
logout
```

Káº¿t quáº£: káº¿t ná»‘i SSH bá»‹ ngáº¯t vÃ  báº¡n trá»Ÿ vá» terminal cá»¥c bá»™.

---

Ghi chÃº: Báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ ná»™i dung nÃ y trá»±c tiáº¿p vÃ o file .txt. Ná»™i dung trÃ¬nh bÃ y Ä‘áº§y Ä‘á»§, rÃµ rÃ ng vÃ  sáºµn sÃ ng sá»­ dá»¥ng.
		
		
		- cmd: $ tracert www.google.in

			   Tracing route to www.google.in [2404:6800:4003:c11::5e]
			   over a maximum of 30 hops:
			   
			     1     1 ms     9 ms     1 ms  2405:4803:d75f:ab0:5e3a:45ff:fe2e:8f78
			     2     *        *        *     Request timed out.
			     3     *        *        *     Request timed out.
			     4    73 ms     3 ms     3 ms  2405:4802:f500::37d
			     5    71 ms     *        *     2405:4800::1117:5118:a
			     6     *        *        *     Request timed out.
			     7    49 ms    48 ms    47 ms  2405:4800::101:1112:1
			     8    48 ms    45 ms    46 ms  2001:4860:0:1::5bc2
			     9    49 ms    51 ms    51 ms  2001:4860::c:4000:db82
			    10   157 ms    82 ms    82 ms  2001:4860::c:4003:1c94
			    11     *        *        *     Request timed out.
			    12     *        *        *     Request timed out.
			    13     *        *        *     Request timed out.
			    14     *        *        *     Request timed out.
			    15     *        *        *     Request timed out.
			    16     *        *        *     Request timed out.
			    17     *        *        *     Request timed out.
			    18     *        *        *     Request timed out.
			    19     *        *        *     Request timed out.
			    20    82 ms   166 ms    82 ms  se-in-f94.1e100.net [2404:6800:4003:c11::5e]
			   
			   Trace complete.
			   
				TÃŠN
					tracert www.google.in
					â€” xÃ¡c Ä‘á»‹nh Ä‘Æ°á»ng Ä‘i (route) vÃ  thá»i gian truyá»n gÃ³i tin tá»« mÃ¡y tÃ­nh tá»›i host www.google.in trÃªn Windows

				TÃ“M Táº®T (SYNOPSIS)
					tracert [options] <hostname_or_ip>
					tracert www.google.in

				MÃ” Táº¢
					`tracert` lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh trÃªn Windows dÃ¹ng Ä‘á»ƒ theo dÃµi Ä‘Æ°á»ng Ä‘i cá»§a cÃ¡c gÃ³i tin tá»« mÃ¡y tÃ­nh Ä‘áº¿n má»™t mÃ¡y chá»§ (host) cá»¥ thá»ƒ. NÃ³ hiá»ƒn thá»‹ danh sÃ¡ch cÃ¡c router (hop) trung gian mÃ  gÃ³i tin Ä‘i qua vÃ  thá»i gian tá»›i tá»«ng hop.

					Trong vÃ­ dá»¥ nÃ y:

					- `www.google.in` : tÃªn miá»n cá»§a Google táº¡i áº¤n Äá»™.
					- Lá»‡nh sáº½ gá»­i cÃ¡c gÃ³i ICMP Echo Request vá»›i TTL tÄƒng dáº§n, Ä‘á»ƒ xÃ¡c Ä‘á»‹nh tá»«ng bÆ°á»›c hop trÃªn máº¡ng tá»›i host Ä‘Ã­ch.
					- Káº¿t quáº£ hiá»ƒn thá»‹ cÃ¡c router trung gian (IP hoáº·c hostname), thá»i gian tráº£ lá»i (ms) cho tá»«ng hop.

				PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
					1) `tracert`
						- Trace Route: theo dÃµi Ä‘Æ°á»ng Ä‘i gÃ³i tin.
						- CÃ´ng cá»¥ chuáº©n trÃªn Windows.
					2) `www.google.in`
						- Host hoáº·c IP Ä‘Ã­ch.
						- Tracert sáº½ phÃ¢n giáº£i tÃªn miá»n thÃ nh Ä‘á»‹a chá»‰ IP trÆ°á»›c khi gá»­i gÃ³i tin.

				HOáº T Äá»˜NG Cá»¦A Lá»†NH
					1) Tracert gá»­i gÃ³i ICMP vá»›i TTL=1 tá»›i host.
					2) Router Ä‘áº§u tiÃªn tráº£ vá» thÃ´ng bÃ¡o â€œTime Exceededâ€, tracert hiá»ƒn thá»‹ hop Ä‘áº§u tiÃªn vÃ  thá»i gian.
					3) Tracert tÄƒng TTL lÃªn 2, gá»­i tiáº¿p gÃ³i tin, xÃ¡c Ä‘á»‹nh hop thá»© hai.
					4) QuÃ¡ trÃ¬nh láº·p láº¡i cho tá»›i khi gÃ³i tin tá»›i host Ä‘Ã­ch hoáº·c vÆ°á»£t quÃ¡ TTL tá»‘i Ä‘a (máº·c Ä‘á»‹nh 30 hop).
					5) Hiá»ƒn thá»‹:
						- Sá»‘ thá»© tá»± hop
						- Thá»i gian tráº£ lá»i (ms) cho 3 láº§n gá»­i gÃ³i tin
						- TÃªn hoáº·c IP cá»§a router hop Ä‘Ã³
						- Náº¿u hop khÃ´ng tráº£ lá»i, hiá»ƒn thá»‹ `*`

				TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG
					- `-d` : khÃ´ng phÃ¢n giáº£i hostname, chá»‰ hiá»ƒn thá»‹ IP.
						tracert -d www.google.in
					- `-h <maximum_hops>` : Ä‘áº·t sá»‘ hop tá»‘i Ä‘a (máº·c Ä‘á»‹nh 30).
						tracert -h 20 www.google.in
					- `-w <timeout>` : thá»i gian chá» tráº£ lá»i (ms) trÆ°á»›c khi coi lÃ  timeout.

				Lá»†NH LIÃŠN QUAN
					- ping www.google.in : kiá»ƒm tra host cÃ³ hoáº¡t Ä‘á»™ng khÃ´ng.
					- pathping www.google.in : hiá»ƒn thá»‹ cáº£ Ä‘Æ°á»ng Ä‘i vÃ  thá»‘ng kÃª packet loss.
					- tracert -d <host> : theo dÃµi route chá»‰ vá»›i IP.
					- nslookup www.google.in : tra cá»©u Ä‘á»‹a chá»‰ IP cá»§a host.

				Máº¸O THá»°C TIá»„N
					1) DÃ¹ng Ä‘á»ƒ kiá»ƒm tra Ä‘Æ°á»ng Ä‘i máº¡ng tá»›i server, xÃ¡c Ä‘á»‹nh bottleneck.
					2) Náº¿u má»™t hop khÃ´ng tráº£ lá»i, cÃ³ thá»ƒ bá»‹ firewall cháº·n ICMP.
					3) Sá»­ dá»¥ng `tracert -d` Ä‘á»ƒ tÄƒng tá»‘c hiá»ƒn thá»‹ vÃ¬ khÃ´ng cáº§n phÃ¢n giáº£i hostname.
					4) Káº¿t há»£p ping Ä‘á»ƒ so sÃ¡nh Ä‘á»™ trá»… thá»±c táº¿.

				LÆ¯U Ã
					- Tracert dÃ¹ng ICMP trÃªn Windows (hoáº·c UDP trÃªn Linux vá»›i traceroute), nÃªn káº¿t quáº£ cÃ³ thá»ƒ khÃ¡c nhau tÃ¹y firewall/ISP.
					- Má»™t sá»‘ router khÃ´ng tráº£ lá»i ICMP, hiá»ƒn thá»‹ `*`.
					- Sá»­ dá»¥ng lá»‡nh nÃ y giÃºp cháº©n Ä‘oÃ¡n sá»± cá»‘ máº¡ng, tÃ¬m Ä‘Æ°á»ng Ä‘i tá»‘i Æ°u.

				TÃ“M Táº®T NGáº®N Gá»ŒN
					- `tracert www.google.in` theo dÃµi Ä‘Æ°á»ng Ä‘i gÃ³i tin tá»›i Google áº¤n Äá»™.
					- Hiá»ƒn thá»‹ cÃ¡c router trung gian (hop) vÃ  thá»i gian tá»›i tá»«ng hop.
					- DÃ¹ng Ä‘á»ƒ cháº©n Ä‘oÃ¡n máº¡ng, Ä‘á»™ trá»…, packet loss hoáº·c bottleneck.

				VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
					# Trace route tá»›i Google India
					tracert www.google.in

					# Trace route chá»‰ hiá»ƒn thá»‹ IP
					tracert -d www.google.in

					# Trace route vá»›i tá»‘i Ä‘a 20 hop
					tracert -h 20 www.google.in

					# Káº¿t há»£p ping Ä‘á»ƒ kiá»ƒm tra host
					ping www.google.in

				----------------------------------------
				(END OF TEXT)

		
		- cmd: vagrant@web01:~$ netstat -antp
		
			   (Not all processes could be identified, non-owned process info
			    will not be shown, you would have to be root to see it all.)
			   Active Internet connections (servers and established)
			   Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
			   tcp        0      0 127.0.0.53:53           0.0.0.0:*               LISTEN      -
			   tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      -
			   tcp        0      0 10.0.2.15:22            10.0.2.2:53802          ESTABLISHED -
			   tcp        0      0 10.0.2.15:22            10.0.2.2:53904          ESTABLISHED -
			   tcp        0      0 10.0.2.15:22            10.0.2.2:53428          ESTABLISHED -
			   tcp        0      0 10.0.2.15:22            10.0.2.2:53696          ESTABLISHED -
			   tcp        0      0 10.0.2.15:22            10.0.2.2:54814          ESTABLISHED -
			   tcp6       0      0 :::22                   :::*                    LISTEN      -
			   
				TÃŠN
					netstat -antp
					â€” hiá»ƒn thá»‹ cÃ¡c káº¿t ná»‘i máº¡ng TCP, tráº¡ng thÃ¡i vÃ  tiáº¿n trÃ¬nh liÃªn quan trÃªn há»‡ thá»‘ng Linux

				TÃ“M Táº®T (SYNOPSIS)
					netstat [options]
					netstat -antp

				MÃ” Táº¢
					Lá»‡nh `netstat` dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin vá» cÃ¡c káº¿t ná»‘i máº¡ng, socket, routing table vÃ  cÃ¡c thá»‘ng kÃª máº¡ng trÃªn Linux/Unix.  

					CÃ¡c tÃ¹y chá»n trong `netstat -antp`:

					- `-a` : liá»‡t kÃª táº¥t cáº£ cÃ¡c káº¿t ná»‘i vÃ  cÃ¡c socket Ä‘ang láº¯ng nghe (listening sockets).
					- `-n` : hiá»ƒn thá»‹ Ä‘á»‹a chá»‰ vÃ  cá»•ng á»Ÿ dáº¡ng sá»‘ (numerical) thay vÃ¬ phÃ¢n giáº£i tÃªn host vÃ  dá»‹ch vá»¥.
					- `-t` : chá»‰ hiá»ƒn thá»‹ cÃ¡c káº¿t ná»‘i TCP.
					- `-p` : hiá»ƒn thá»‹ tiáº¿n trÃ¬nh (process) vÃ  PID Ä‘ang sá»­ dá»¥ng káº¿t ná»‘i (yÃªu cáº§u quyá»n root Ä‘á»ƒ xem táº¥t cáº£).

				PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
					1) `-a` (all)
						- Hiá»ƒn thá»‹ cáº£ socket Ä‘ang láº¯ng nghe vÃ  cÃ¡c káº¿t ná»‘i Ä‘ang má»Ÿ.
					2) `-n` (numeric)
						- TrÃ¡nh phÃ¢n giáº£i tÃªn host/dá»‹ch vá»¥, tÄƒng tá»‘c hiá»ƒn thá»‹.
					3) `-t` (TCP)
						- Lá»c chá»‰ káº¿t ná»‘i TCP, bá» UDP vÃ  cÃ¡c loáº¡i khÃ¡c.
					4) `-p` (program)
						- Hiá»ƒn thá»‹ PID vÃ  tÃªn tiáº¿n trÃ¬nh liÃªn quan tá»›i má»—i socket.
						- Náº¿u khÃ´ng cháº¡y vá»›i root, chá»‰ tháº¥y cÃ¡c tiáº¿n trÃ¬nh cá»§a user hiá»‡n táº¡i.

				HOáº T Äá»˜NG Cá»¦A Lá»†NH
					1) QuÃ©t táº¥t cáº£ cÃ¡c socket TCP Ä‘ang láº¯ng nghe vÃ  Ä‘ang káº¿t ná»‘i.
					2) Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t gá»“m:
						- Proto : giao thá»©c (TCP)
						- Recv-Q : sá»‘ byte trong hÃ ng Ä‘á»£i nháº­n
						- Send-Q : sá»‘ byte trong hÃ ng Ä‘á»£i gá»­i
						- Local Address : Ä‘á»‹a chá»‰ IP vÃ  port local
						- Foreign Address : Ä‘á»‹a chá»‰ IP vÃ  port remote
						- State : tráº¡ng thÃ¡i káº¿t ná»‘i (LISTEN, ESTABLISHED, TIME_WAIT, CLOSE_WAIT,â€¦)
						- PID/Program name : tiáº¿n trÃ¬nh sá»­ dá»¥ng káº¿t ná»‘i
					3) Dá»¯ liá»‡u giÃºp quáº£n trá»‹ viÃªn xÃ¡c Ä‘á»‹nh káº¿t ná»‘i má»Ÿ, port Ä‘ang láº¯ng nghe, vÃ  tiáº¿n trÃ¬nh liÃªn quan.

				Lá»†NH LIÃŠN QUAN
					- ss -antp : cÃ´ng cá»¥ thay tháº¿ netstat, nhanh vÃ  hiá»‡n Ä‘áº¡i hÆ¡n.
					- netstat -lntp : hiá»ƒn thá»‹ chá»‰ cÃ¡c socket láº¯ng nghe TCP.
					- netstat -tunlp : hiá»ƒn thá»‹ táº¥t cáº£ TCP/UDP listening sockets vá»›i PID.
					- lsof -i : liá»‡t kÃª cÃ¡c file socket máº¡ng vÃ  tiáº¿n trÃ¬nh.
					- ps aux | grep <PID> : kiá»ƒm tra tiáº¿n trÃ¬nh báº±ng PID.

				Máº¸O THá»°C TIá»„N
					1) Kiá»ƒm tra port Ä‘ang láº¯ng nghe vÃ  tiáº¿n trÃ¬nh:
						sudo netstat -antp | grep LISTEN
					2) TÃ¬m tiáº¿n trÃ¬nh chiáº¿m cá»•ng 80:
						sudo netstat -antp | grep :80
					3) Liá»‡t kÃª táº¥t cáº£ káº¿t ná»‘i TCP Ä‘ang ESTABLISHED:
						netstat -antp | grep ESTABLISHED
					4) Sá»­ dá»¥ng `ss -tulpn` thay netstat trÃªn cÃ¡c báº£n Linux hiá»‡n Ä‘áº¡i vÃ¬ netstat bá»‹ deprecated.

				LÆ¯U Ã
					- `-p` yÃªu cáº§u quyá»n root Ä‘á»ƒ xem tiáº¿n trÃ¬nh cá»§a táº¥t cáº£ user.
					- TrÃªn cÃ¡c báº£n Linux má»›i, netstat cÃ³ thá»ƒ khÃ´ng cÃ²n cÃ i sáºµn, dÃ¹ng `ss` thay tháº¿.
					- ThÃ´ng tin giÃºp cháº©n Ä‘oÃ¡n máº¡ng, phÃ¡t hiá»‡n tiáº¿n trÃ¬nh chiáº¿m port, phÃ¢n tÃ­ch traffic.

				TÃ“M Táº®T NGáº®N Gá»ŒN
					- `netstat -antp` hiá»ƒn thá»‹ táº¥t cáº£ káº¿t ná»‘i TCP vÃ  cÃ¡c socket láº¯ng nghe kÃ¨m PID/tiáº¿n trÃ¬nh.
					- Hiá»ƒn thá»‹ dáº¡ng sá»‘, khÃ´ng phÃ¢n giáº£i host/dá»‹ch vá»¥.
					- Há»¯u Ã­ch Ä‘á»ƒ kiá»ƒm tra port Ä‘ang dÃ¹ng, tiáº¿n trÃ¬nh, tráº¡ng thÃ¡i káº¿t ná»‘i.

				VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
					# Hiá»ƒn thá»‹ táº¥t cáº£ káº¿t ná»‘i TCP vÃ  listening sockets vá»›i PID
					sudo netstat -antp

					# Chá»‰ hiá»ƒn thá»‹ cÃ¡c socket láº¯ng nghe
					sudo netstat -lntp

					# Kiá»ƒm tra tiáº¿n trÃ¬nh chiáº¿m cá»•ng 80
					sudo netstat -antp | grep :80

					# Chá»‰ hiá»ƒn thá»‹ cÃ¡c káº¿t ná»‘i ESTABLISHED
					netstat -antp | grep ESTABLISHED

					# DÃ¹ng ss thay tháº¿ netstat
					ss -tulpn

				----------------------------------------
				(END OF TEXT)
			   
		
			   
		- cmd: root@web01:~# netstat -antp
		
			   Active Internet connections (servers and established)
			   Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
			   tcp        0      0 127.0.0.53:53           0.0.0.0:*               LISTEN      598/systemd-resolve
			   tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      856/sshd: /usr/sbin
			   tcp        0      0 10.0.2.15:22            10.0.2.2:53802          ESTABLISHED 3245/sshd: vagrant
			   tcp        0      0 10.0.2.15:22            10.0.2.2:53904          ESTABLISHED 3358/sshd: vagrant
			   tcp        0      0 10.0.2.15:22            10.0.2.2:53428          ESTABLISHED 2250/sshd: vagrant
			   tcp        0      0 10.0.2.15:22            10.0.2.2:53696          ESTABLISHED 3146/sshd: vagrant
			   tcp        0      0 10.0.2.15:22            10.0.2.2:54814          ESTABLISHED 3492/sshd: vagrant
			   tcp6       0      0 :::22                   :::*                    LISTEN      856/sshd: /usr/sbin

== Giáº£i thÃ­ch chi tiáº¿t: netstat -antp ==

LÆ°u Ã½: tá»‡p nÃ y á»Ÿ dáº¡ng plain text Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ o file .txt.

---

1. CÃ¢u lá»‡nh Ä‘áº§y Ä‘á»§:

netstat -antp

---

2. Má»¥c Ä‘Ã­ch ngáº¯n gá»n:

* Liá»‡t kÃª táº¥t cáº£ káº¿t ná»‘i máº¡ng TCP trÃªn há»‡ thá»‘ng, hiá»ƒn thá»‹ Ä‘á»‹a chá»‰/port á»Ÿ dáº¡ng sá»‘, tráº¡ng thÃ¡i káº¿t ná»‘i vÃ  tiáº¿n trÃ¬nh (PID/Program) Ä‘ang sá»­ dá»¥ng má»—i socket (náº¿u cÃ³ quyá»n Ä‘á»§).

---

3. Giáº£i thÃ­ch tá»«ng tÃ¹y chá»n:

* -a    : show all sockets (cáº£ Ä‘ang láº¯ng nghe LISTEN vÃ  Ä‘Ã£ káº¿t ná»‘i).
* -n    : numeric â€” hiá»‡n IP vÃ  port dÆ°á»›i dáº¡ng sá»‘ (khÃ´ng resolve tÃªn host/service).
* -t    : chá»‰ hiá»ƒn thá»‹ cÃ¡c káº¿t ná»‘i TCP.
* -p    : show PID/Program name liÃªn káº¿t vá»›i socket (cáº§n quyá»n root Ä‘á»ƒ xem tiáº¿n trÃ¬nh cá»§a user khÃ¡c).

---

4. VÃ­ dá»¥ dÃ²ng Ä‘áº§u ra vÃ  cÃ¡ch Ä‘á»c (má»™t dÃ²ng máº«u):

Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1234/sshd

* Proto: giao thá»©c (tcp)
* Recv-Q / Send-Q: sá»‘ bytes chá» xá»­ lÃ½ trong hÃ ng Ä‘á»£i nháº­n/gá»­i
* Local Address: Ä‘á»‹a chá»‰ IP cá»¥c bá»™ vÃ  port (0.0.0.0:22 = láº¯ng nghe trÃªn táº¥t cáº£ IP cá»¥c bá»™, port 22)
* Foreign Address: Ä‘á»‹a chá»‰ remote (0.0.0.0:* = khÃ´ng chá»‰ Ä‘á»‹nh)
* State: tráº¡ng thÃ¡i socket (LISTEN, ESTABLISHED, TIME_WAIT, ...)
* PID/Program name: PID vÃ  tÃªn tiáº¿n trÃ¬nh (vÃ­ dá»¥ 1234/sshd)

---

5. Khi dÃ¹ng lá»‡nh nÃ y?

* Kiá»ƒm tra service nÃ o Ä‘ang láº¯ng nghe trÃªn port nÃ o (vÃ­ dá»¥ port 80, 443, 8080).
* XÃ¡c Ä‘á»‹nh tiáº¿n trÃ¬nh Ä‘ang chiáº¿m dá»¥ng má»™t port (Ä‘á»ƒ dá»«ng hoáº·c thay Ä‘á»•i cáº¥u hÃ¬nh).
* Xem cÃ¡c káº¿t ná»‘i TCP hiá»‡n táº¡i (ESTABLISHED) Ä‘á»ƒ debug traffic hay táº¥n cÃ´ng.

---

6. Quyá»n vÃ  lÆ°u Ã½:

* Äá»ƒ tháº¥y cá»™t PID/Program (-p) cho tiáº¿n trÃ¬nh cá»§a user khÃ¡c, cáº§n cháº¡y vá»›i quyá»n root: sudo netstat -antp
* netstat thuá»™c gÃ³i net-tools; náº¿u thiáº¿u, cÃ i báº±ng: sudo apt install net-tools (Debian/Ubuntu) hoáº·c sudo dnf install net-tools (Fedora/CentOS)
* TrÃªn há»‡ thá»‘ng hiá»‡n Ä‘áº¡i khuyáº¿n nghá»‹ dÃ¹ng `ss` (ss -antp) â€” nhanh hÆ¡n vÃ  chi tiáº¿t hÆ¡n.

---

7. CÃ¡c biáº¿n thá»ƒ thÆ°á»ng dÃ¹ng:

* sudo netstat -tulpn

  * Hiá»ƒn thá»‹ cáº£ TCP/UDP (-t -u), chá»‰ LISTEN (-l), numeric (-n) vÃ  PID (-p).

* sudo netstat -antp | grep ESTABLISHED

  * Lá»c cÃ¡c káº¿t ná»‘i Ä‘ang Ä‘Æ°á»£c thiáº¿t láº­p.

* sudo netstat -anp | grep :8080

  * TÃ¬m tiáº¿n trÃ¬nh Ä‘ang dÃ¹ng port 8080.

---

8. Máº¹o debug nhanh:

* Náº¿u khÃ´ng tháº¥y process mong muá»‘n:

  * Cháº¡y vá»›i sudo; kiá»ƒm tra service Ä‘Ã£ khá»Ÿi Ä‘á»™ng; kiá»ƒm tra firewall/SELinux.
* Náº¿u port bá»‹ chiáº¿m nhÆ°ng khÃ´ng rÃµ tiáº¿n trÃ¬nh:

  * dÃ¹ng lsof -i :<port> hoáº·c ss -pant | grep :<port>

---

9. TÃ³m táº¯t 1 cÃ¢u:

* `netstat -antp` hiá»ƒn thá»‹ táº¥t cáº£ káº¿t ná»‘i TCP cÃ¹ng thÃ´ng tin numeric vÃ  (náº¿u cÃ³ quyá»n) PID/program liÃªn quan â€” há»¯u Ã­ch Ä‘á»ƒ kiá»ƒm tra port, tráº¡ng thÃ¡i káº¿t ná»‘i vÃ  process sá»­ dá»¥ng socket.

---

Báº£n quyá»n: báº¡n cÃ³ thá»ƒ sao chÃ©p vÃ  sá»­ dá»¥ng tÃ i liá»‡u nÃ y.


		- cmd:  root@web01:~# ps -ef | grep apache2
				
				root        3602    3589  0 05:53 pts/4    00:00:00 grep --color=auto apache2
				
ps -ef | grep apache2

Output vÃ­ dá»¥ Ä‘Æ°á»£c cung cáº¥p:

root@web01:~# ps -ef | grep apache2

root        3602    3589  0 05:53 pts/4    00:00:00 grep --color=auto apache2

---

MÃ´ táº£ chi tiáº¿t (plain text, sáºµn sÃ ng copy vÃ o file .txt):

1. Ã nghÄ©a chung cá»§a lá»‡nh:
   `ps -ef | grep apache2` Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ tÃ¬m cÃ¡c tiáº¿n trÃ¬nh (process) cÃ³ chuá»—i "apache2" trong dÃ²ng hiá»ƒn thá»‹ cá»§a `ps -ef`. `ps -ef` liá»‡t kÃª táº¥t cáº£ tiáº¿n trÃ¬nh Ä‘ang cháº¡y trÃªn há»‡ thá»‘ng theo Ä‘á»‹nh dáº¡ng Ä‘áº§y Ä‘á»§; `| grep apache2` lá»c (chá»‰ hiá»ƒn thá»‹) nhá»¯ng dÃ²ng chá»©a tá»« "apache2".

2. Giáº£i thÃ­ch cÃ¡c thÃ nh pháº§n:

* `ps`: chÆ°Æ¡ng trÃ¬nh hiá»ƒn thá»‹ tráº¡ng thÃ¡i tiáº¿n trÃ¬nh.
* `-e`: chá»n táº¥t cáº£ tiáº¿n trÃ¬nh (equivalent to -A).
* `-f`: hiá»ƒn thá»‹ Ä‘á»‹nh dáº¡ng Ä‘áº§y Ä‘á»§ (full-format) gá»“m nhiá»u cá»™t thÃ´ng tin.
* `|`: pipe â€” truyá»n output cá»§a `ps` lÃ m input cho `grep`.
* `grep apache2`: lá»c cÃ¡c dÃ²ng chá»©a chuá»—i "apache2".

3. Giáº£i thÃ­ch cÃ¡c cá»™t trong output `ps -ef` (theo thá»© tá»± xuáº¥t hiá»‡n):

* UID: user sá»Ÿ há»¯u tiáº¿n trÃ¬nh (vÃ­ dá»¥ `root`).
* PID: Process ID â€” mÃ£ sá»‘ tiáº¿n trÃ¬nh duy nháº¥t (vÃ­ dá»¥ `3602`).
* PPID: Parent Process ID â€” PID cá»§a tiáº¿n trÃ¬nh cha (vÃ­ dá»¥ `3589`).
* C: CPU utilization (tá»· lá»‡ CPU dÃ¹ng gáº§n Ä‘Ã¢y) â€” sá»‘ nguyÃªn nhá».
* STIME: thá»i Ä‘iá»ƒm báº¯t Ä‘áº§u cháº¡y tiáº¿n trÃ¬nh (cÃ³ thá»ƒ lÃ  giá»:phÃºt hoáº·c ngÃ y).
* TTY: thiáº¿t bá»‹ terminal liÃªn káº¿t (vÃ­ dá»¥ `pts/4`) hoáº·c `?` náº¿u khÃ´ng cÃ³ terminal.
* TIME: tá»•ng thá»i gian CPU Ä‘Ã£ sá»­ dá»¥ng bá»Ÿi tiáº¿n trÃ¬nh.
* CMD: lá»‡nh (command) vÃ  tham sá»‘ khá»Ÿi cháº¡y tiáº¿n trÃ¬nh.

4. Giáº£i thÃ­ch dÃ²ng cá»¥ thá»ƒ trong vÃ­ dá»¥:

```
root        3602    3589  0 05:53 pts/4    00:00:00 grep --color=auto apache2
```

* `root`: tiáº¿n trÃ¬nh thuá»™c user root.
* `3602` (PID): Ä‘Ã¢y lÃ  tiáº¿n trÃ¬nh `grep` chÃ­nh nÃ³ â€” tá»©c chÃ­nh lá»‡nh `grep apache2` báº¡n vá»«a cháº¡y.
* `3589` (PPID): tiáº¿n trÃ¬nh cha (thÆ°á»ng lÃ  shell Ä‘ang cháº¡y lá»‡nh).
* `0` (C): chá»‰ sá»‘ CPU gáº§n Ä‘Ã¢y; 0 cÃ³ nghÄ©a gáº§n nhÆ° khÃ´ng sá»­ dá»¥ng CPU.
* `05:53` (STIME): thá»i gian tiáº¿n trÃ¬nh `grep` báº¯t Ä‘áº§u.
* `pts/4` (TTY): terminal giáº£ láº­p thá»© 4 â€” nÆ¡i báº¡n gÃµ lá»‡nh.
* `00:00:00` (TIME): tá»•ng thá»i gian CPU Ä‘Ã£ dÃ¹ng (ráº¥t nhá» vÃ¬ grep cháº¡y nhanh rá»“i káº¿t thÃºc).
* `grep --color=auto apache2` (CMD): toÃ n bá»™ lá»‡nh vÃ  tham sá»‘ â€” lÆ°u Ã½ Ä‘Ã¢y khÃ´ng pháº£i tiáº¿n trÃ¬nh Apache, mÃ  chÃ­nh lÃ  lá»‡nh `grep` Ä‘ang tÃ¬m "apache2".

5. Táº¡i sao chá»‰ tháº¥y `grep` mÃ  khÃ´ng tháº¥y tiáº¿n trÃ¬nh `apache2`:

* CÃ³ hai kháº£ nÄƒng chÃ­nh:

  1. Apache (process `apache2`) **khÃ´ng cháº¡y** trÃªn há»‡ thá»‘ng â€” váº­y nÃªn `ps -ef` khÃ´ng cÃ³ dÃ²ng chá»©a "apache2" ngoáº¡i trá»« chÃ­nh dÃ²ng `grep`.
  2. Apache cháº¡y nhÆ°ng tÃªn tiáº¿n trÃ¬nh khÃ¡c (vÃ­ dá»¥ `httpd` trÃªn CentOS/RHEL) â€” nÃªn `grep apache2` khÃ´ng tÃ¬m tháº¥y.

6. CÃ¡ch loáº¡i bá» dÃ²ng `grep` khá»i káº¿t quáº£ (thÆ°á»ng dÃ¹ng):

* DÃ¹ng `grep -v` Ä‘á»ƒ loáº¡i trá»« chÃ­nh báº£n thÃ¢n grep:

  ```bash
  ps -ef | grep apache2 | grep -v grep
  ```
* DÃ¹ng máº«u regex Ä‘á»ƒ trÃ¡nh khá»›p chÃ­nh báº£n thÃ¢n `grep`:

  ```bash
  ps -ef | grep [a]pache2
  ```

  CÃ¡ch nÃ y hiá»‡u quáº£ vÃ¬ `[a]pache2` khá»›p vá»›i "apache2" nhÆ°ng dÃ²ng lá»‡nh `grep [a]pache2` khÃ´ng chá»©a chuá»—i nguyÃªn váº¹n "apache2" nÃªn khÃ´ng hiá»ƒn thá»‹ chÃ­nh nÃ³.
* DÃ¹ng `pgrep` hoáº·c `pidof` Ä‘á»ƒ tÃ¬m PID trá»±c tiáº¿p:

  ```bash
  pgrep -a apache2        # hiá»ƒn thá»‹ PID vÃ  command line
  pidof apache2           # tráº£ vá» PID phÃ¢n cÃ¡ch báº±ng khoáº£ng tráº¯ng
  ```

7. Lá»‡nh thay tháº¿/kiá»ƒm tra Apache cá»¥ thá»ƒ hÆ¡n:

* Náº¿u há»‡ thá»‘ng dÃ¹ng systemd / dá»‹ch vá»¥ Apache cÃ³ tÃªn `apache2` (Debian/Ubuntu):

  ```bash
  systemctl status apache2
  journalctl -u apache2 --no-pager -n 200
  ```
* Náº¿u há»‡ thá»‘ng dÃ¹ng `httpd` (CentOS/RHEL):

  ```bash
  ps -ef | grep httpd | grep -v grep
  systemctl status httpd
  ```

8. Kiá»ƒm tra nhanh liá»‡u Apache Ä‘ang láº¯ng nghe cá»•ng HTTP:

```
sudo ss -tunlp | grep -E '(:80|:443)'
# hoáº·c
sudo netstat -tulpen | grep -E '(:80|:443)'
```

Náº¿u Apache Ä‘ang cháº¡y sáº½ tháº¥y tiáº¿n trÃ¬nh Java/PID/NAME láº¯ng nghe cá»•ng 80/443.

9. VÃ­ dá»¥ káº¿t quáº£ mong muá»‘n khi Apache Ä‘ang cháº¡y (vÃ­ dá»¥ trÃªn Ubuntu):

```
root       1234       1  0 05:00 ?        00:00:01 /usr/sbin/apache2 -k start
www-data   1235    1234  0 05:00 ?        00:00:00 /usr/sbin/apache2 -k start
www-data   1236    1234  0 05:00 ?        00:00:00 /usr/sbin/apache2 -k start
```

Trong Ä‘Ã³ PID 1234 lÃ  tiáº¿n trÃ¬nh cha (master), cÃ¡c PID khÃ¡c lÃ  worker processes cháº¡y dÆ°á»›i user `www-data`.

10. TÃ³m táº¯t ngáº¯n gá»n Ä‘á»ƒ copy vÃ o file .txt:

```
# Lá»‡nh Ä‘Ã£ cháº¡y:
ps -ef | grep apache2

# Output vÃ­ dá»¥ (chá»‰ tháº¥y grep):
root        3602    3589  0 05:53 pts/4    00:00:00 grep --color=auto apache2

# Giáº£i thÃ­ch nhanh:
- DÃ²ng Ä‘Ã³ lÃ  tiáº¿n trÃ¬nh `grep` báº¡n vá»«a cháº¡y, khÃ´ng pháº£i Apache.
- Náº¿u khÃ´ng tháº¥y dÃ²ng nÃ o khÃ¡c chá»©a 'apache2', cÃ³ kháº£ nÄƒng Apache khÃ´ng cháº¡y hoáº·c process cÃ³ tÃªn khÃ¡c (vÃ­ dá»¥ 'httpd').

# CÃ¡ch kiá»ƒm tra thÃªm:
ps -ef | grep apache2 | grep -v grep
ps -ef | grep [a]pache2
pgrep -a apache2
systemctl status apache2   # (Debian/Ubuntu)
systemctl status httpd     # (RHEL/CentOS)
sudo ss -tunlp | grep -E '(:80|:443)'
```

---

Ghi chÃº: Báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ ná»™i dung nÃ y trá»±c tiáº¿p vÃ o file .txt. Náº¿u muá»‘n mÃ¬nh xuáº¥t file `.txt` sáºµn Ä‘á»ƒ táº£i vá», bÃ¡o mÃ¬nh vÃ  mÃ¬nh sáº½ táº¡o file Ä‘á»ƒ báº¡n táº£i.

				
		- cmd:  root@web01:~# ss -tunlp
		
				Netid          State           Recv-Q          Send-Q                      Local Address:Port                   Peer Address:Port          Process
				udp            UNCONN          0               0                           127.0.0.53%lo:53                          0.0.0.0:*              users:(("systemd-resolve",pid=598,fd=12))
				udp            UNCONN          0               0                        10.0.2.15%enp0s3:68                          0.0.0.0:*              users:(("systemd-network",pid=1932,fd=20))
				tcp            LISTEN          0               4096                        127.0.0.53%lo:53                          0.0.0.0:*              users:(("systemd-resolve",pid=598,fd=13))
				tcp            LISTEN          0               128                               0.0.0.0:22                          0.0.0.0:*              users:(("sshd",pid=856,fd=3))
				tcp            LISTEN          0               128                                  [::]:22                             [::]:*              users:(("sshd",pid=856,fd=4))
				
ss -tunlp

MÃ” Táº¢ NGáº®N (1 cÃ¢u):
Hiá»ƒn thá»‹ cÃ¡c socket máº¡ng Ä‘ang má»Ÿ trÃªn há»‡ thá»‘ng â€” cáº£ TCP vÃ  UDP â€” cÃ¹ng vá»›i tráº¡ng thÃ¡i, cá»•ng Ä‘á»‹a phÆ°Æ¡ng, Ä‘á»‹a chá»‰ peer vÃ  tiáº¿n trÃ¬nh Ä‘ang giá»¯ socket.

CÃš PHÃP (plain text, copy vÃ o .txt):
ss -tunlp

* ss: cÃ´ng cá»¥ xem socket (thay tháº¿ netstat trÃªn cÃ¡c distro má»›i)
* -t : chá»‰ xem socket TCP
* -u : chá»‰ xem socket UDP
* -n : khÃ´ng phÃ¢n giáº£i tÃªn (hiá»ƒn thá»‹ IP/port sá»‘ thay vÃ¬ tÃªn dá»‹ch vá»¥)
* -l : chá»‰ liá»‡t kÃª cÃ¡c socket Ä‘ang LISTEN/UNCONN (Ä‘ang láº¯ng nghe)
* -p : hiá»ƒn thá»‹ tiáº¿n trÃ¬nh sá»Ÿ há»¯u socket (PID vÃ  tÃªn tiáº¿n trÃ¬nh)

Äáº¦U RA MáºªU (báº¡n Ä‘Æ°a):
Netid          State           Recv-Q          Send-Q                      Local Address:Port                   Peer Address:Port          Process
udp            UNCONN          0               0                           127.0.0.53%lo:53                          0.0.0.0:*              users:(("systemd-resolve",pid=598,fd=12))
udp            UNCONN          0               0                        10.0.2.15%enp0s3:68                          0.0.0.0:*              users:(("systemd-network",pid=1932,fd=20))
tcp            LISTEN          0               4096                        127.0.0.53%lo:53                          0.0.0.0:*              users:(("systemd-resolve",pid=598,fd=13))
tcp            LISTEN          0               128                               0.0.0.0:22                          0.0.0.0:*              users:(("sshd",pid=856,fd=3))
tcp            LISTEN          0               128                                  [::]:22                             [::]:*              users:(("sshd",pid=856,fd=4))

GIáº¢I THÃCH CHI TIáº¾T Tá»ªNG Cá»˜T:

* Netid:
  Kiá»ƒu socket (tcp, udp, tcp6, udp6, raw, dgram, stream...). Trong vÃ­ dá»¥: udp vÃ  tcp.

* State:
  Tráº¡ng thÃ¡i cá»§a socket. ThÆ°á»ng gáº·p: LISTEN (Ä‘ang láº¯ng nghe káº¿t ná»‘i), UNCONN (UDP chÆ°a káº¿t ná»‘i/cÃ³ thá»ƒ nháº­n), ESTAB (Ä‘Ã£ káº¿t ná»‘i), TIME-WAIT, CLOSED...

* Recv-Q (Receive Queue):
  Sá»‘ byte Ä‘ang chá» trong hÃ ng Ä‘á»£i nháº­n (chÆ°a Ä‘Æ°á»£c á»©ng dá»¥ng Ä‘á»c). GiÃ¡ trá»‹ >0 cÃ³ thá»ƒ cho tháº¥y á»©ng dá»¥ng khÃ´ng xá»­ lÃ½ ká»‹p.

* Send-Q (Send Queue):
  Sá»‘ byte Ä‘ang chá» gá»­i (chÆ°a Ä‘Æ°á»£c gá»­i hoÃ n toÃ n). GiÃ¡ trá»‹ lá»›n cÃ³ thá»ƒ do máº¡ng ngháº½n hoáº·c peer khÃ´ng nháº­n.

* Local Address:Port:
  Äá»‹a chá»‰ IP vÃ  port local mÃ  socket gáº¯n vÃ o. CÃ³ thá»ƒ tháº¥y kÃ½ hiá»‡u giao diá»‡n (vd %lo, %enp0s3) vá»›i Ä‘á»‹a chá»‰ link-local.

  * 127.0.0.53%lo:53: Ä‘á»‹a chá»‰ loopback (127.0.0.53) cá»•ng 53 (DNS resolver cháº¡y cá»¥c bá»™)
  * 10.0.2.15%enp0s3:68: Ä‘á»‹a chá»‰ á»Ÿ giao diá»‡n enp0s3 cá»•ng 68 (DHCP client thÆ°á»ng sá»­ dá»¥ng port 68)
  * 0.0.0.0:22: láº¯ng nghe trÃªn má»i Ä‘á»‹a chá»‰ IPv4 á»Ÿ cá»•ng 22 (SSH)
  * [::]:22: láº¯ng nghe trÃªn má»i Ä‘á»‹a chá»‰ IPv6 á»Ÿ cá»•ng 22

* Peer Address:Port:
  Äá»‹a chá»‰ vÃ  port phÃ­a Ä‘á»‘i tÃ¡c (remote). Vá»›i socket Ä‘ang láº¯ng nghe thÆ°á»ng hiá»ƒn thá»‹ 0.0.0.0:* hoáº·c [::]:*.

* Process:
  ThÃ´ng tin tiáº¿n trÃ¬nh sá»Ÿ há»¯u socket: tÃªn tiáº¿n trÃ¬nh, PID, file descriptor (fd). VÃ­ dá»¥ users:(("sshd",pid=856,fd=3)) chá»‰ ra tiáº¿n trÃ¬nh sshd vá»›i PID 856 giá»¯ socket.

PHÃ‚N TÃCH DÃ’NG MáºªU:

1. udp UNCONN ... 127.0.0.53%lo:53 ... users:(("systemd-resolve",pid=598,...))

   * systemd-resolved Ä‘ang cháº¡y DNS resolver cá»¥c bá»™ trÃªn loopback 127.0.0.53 port 53.

2. udp UNCONN ... 10.0.2.15%enp0s3:68 ... users:(("systemd-network",pid=1932,...))

   * systemd-network (hoáº·c dhclient) Ä‘ang láº¯ng nghe hoáº·c xá»­ lÃ½ gÃ³i DHCP client trÃªn cá»•ng 68.

3. tcp LISTEN ... 127.0.0.53%lo:53 ... users:(("systemd-resolve",pid=598,...))

   * systemd-resolved cÃ³ thá»ƒ cÅ©ng má»Ÿ socket TCP cho DNS trÃªn loopback (má»™t sá»‘ resolver há»— trá»£ DNS over TCP).

4. tcp LISTEN ... 0.0.0.0:22 ... users:(("sshd",pid=856,...))

   * SSH daemon Ä‘ang láº¯ng nghe trÃªn táº¥t cáº£ Ä‘á»‹a chá»‰ IPv4 á»Ÿ cá»•ng 22 â€” cho phÃ©p káº¿t ná»‘i SSH.

5. tcp LISTEN ... [::]:22 ... users:(("sshd",pid=856,...))

   * SSH daemon cÅ©ng láº¯ng nghe trÃªn IPv6 má»i Ä‘á»‹a chá»‰ á»Ÿ cá»•ng 22.

LÆ¯U Ã & Máº¸O:

* Äá»ƒ chá»‰ xem cÃ¡c socket cá»§a má»™t tiáº¿n trÃ¬nh cá»¥ thá»ƒ: ss -tunlp | grep <tÃªn_prog>
* Äá»ƒ hiá»ƒn thá»‹ hostnames thay vÃ¬ IP: bá» -n (ss -tulp)
* Äá»ƒ xem socket Ä‘Ã£ káº¿t ná»‘i (ESTAB): ss -tnp
* Náº¿u cÃ¡c cá»™t Recv-Q/Sent-Q > 0 liÃªn tá»¥c, kiá»ƒm tra á»©ng dá»¥ng hoáº·c tÃ¬nh tráº¡ng máº¡ng.
* DÃ¹ng sudo náº¿u báº¡n cáº§n xem thÃ´ng tin tiáº¿n trÃ¬nh chi tiáº¿t (PID/name) vÃ¬ má»™t sá»‘ thÃ´ng tin yÃªu cáº§u quyá»n root.

Lá»†NH LIÃŠN QUAN:

* netstat -tulpn   # cÅ© hÆ¡n, trÃªn má»™t sá»‘ há»‡ thá»‘ng khÃ´ng cÃ²n cÃ i
* lsof -i -P -n    # liá»‡t kÃª file descriptors máº¡ng cÃ¹ng tiáº¿n trÃ¬nh
* systemctl status <service>   # kiá»ƒm tra tráº¡ng thÃ¡i service (vÃ­ dá»¥: systemd-resolved, sshd)
* journalctl -u <service>      # xem logs cá»§a service

Báº¢O Máº¬T & KIá»‚M TRA:

* Kiá»ƒm tra cÃ¡c cá»•ng Ä‘ang láº¯ng nghe (LISTEN) Ä‘á»ƒ Ä‘áº£m báº£o khÃ´ng cÃ³ dá»‹ch vá»¥ dÆ° thá»«a má»Ÿ ra public.
* Náº¿u tháº¥y cá»•ng nháº¡y cáº£m (vÃ­ dá»¥ 22, 3306, 5432) láº¯ng nghe trÃªn 0.0.0.0, cÃ¢n nháº¯c dÃ¹ng firewall (ufw/iptables) giá»›i háº¡n truy cáº­p hoáº·c bind service chá»‰ trÃªn localhost náº¿u khÃ´ng cáº§n truy cáº­p tá»« ngoÃ i.

Káº¾T LUáº¬N NGáº®N:

* ss -tunlp lÃ  cÃ´ng cá»¥ nhanh vÃ  máº¡nh Ä‘á»ƒ xem tráº¡ng thÃ¡i socket trÃªn há»‡ thá»‘ng vÃ  tÃ¬m tiáº¿n trÃ¬nh liÃªn quan. DÃ¹ng káº¿t há»£p vá»›i lá»‡nh khÃ¡c (systemctl, journalctl, lsof) Ä‘á»ƒ cháº©n Ä‘oÃ¡n chi tiáº¿t.

---

Tá»‡p nÃ y lÃ  plain text, Ä‘á»‹nh dáº¡ng rÃµ rÃ ng Ä‘á»ƒ báº¡n sao chÃ©p trá»±c tiáº¿p vÃ o file .txt.


		- cmd: apt install nmap -y
		
Giáº£i thÃ­ch chi tiáº¿t: `apt install nmap -y`

Má»¥c Ä‘Ã­ch chung:
Lá»‡nh nÃ y cÃ i Ä‘áº·t chÆ°Æ¡ng trÃ¬nh `nmap` trÃªn há»‡ Ä‘iá»u hÃ nh Debian/Ubuntu (cÃ¡c báº£n phÃ¢n phá»‘i dÃ¹ng APT). `nmap` lÃ  cÃ´ng cá»¥ quÃ©t máº¡ng (network scanner) dÃ¹ng Ä‘á»ƒ phÃ¡t hiá»‡n host, port má»Ÿ, dá»‹ch vá»¥ Ä‘ang cháº¡y, vÃ  thá»±c hiá»‡n má»™t sá»‘ loáº¡i quÃ©t báº£o máº­t.

CÃº phÃ¡p vÃ  thÃ nh pháº§n (giáº£i thÃ­ch tá»«ng pháº§n):

1. `apt`

   * LÃ  trÃ¬nh quáº£n lÃ½ gÃ³i (package manager) cho Debian/Ubuntu. `apt` lÃ  giao diá»‡n thÃ¢n thiá»‡n thay cho `apt-get`/`apt-cache` khi thao tÃ¡c hÃ ng ngÃ y.
   * VÃ­ dá»¥ cÃ¡c lá»‡nh thÆ°á»ng dÃ¹ng: `apt update`, `apt upgrade`, `apt install <gÃ³i>`.

2. `install`

   * LÃ  hÃ nh Ä‘á»™ng (subcommand) cá»§a `apt`, dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t cÃ¡c gÃ³i pháº§n má»m.
   * CÃº phÃ¡p chung: `apt install <tÃªn_gÃ³i>`

3. `nmap`

   * TÃªn gÃ³i cáº§n cÃ i. `nmap` (Network Mapper) lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh máº¡nh Ä‘á»ƒ quÃ©t vÃ  kiá»ƒm tra máº¡ng. ThÃ´ng thÆ°á»ng gÃ³i `nmap` chá»©a chÆ°Æ¡ng trÃ¬nh `nmap` vÃ  cÃ¡c tÃ i liá»‡u liÃªn quan.

4. `-y`

   * TÃ¹y chá»n tá»± Ä‘á»™ng Ä‘á»“ng Ã½ (yes) cho táº¥t cáº£ cÃ¡c cÃ¢u há»i xÃ¡c nháº­n cá»§a `apt` trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t.
   * ThÃ´ng thÆ°á»ng khi cÃ i, `apt` sáº½ hiá»ƒn thá»‹ danh sÃ¡ch gÃ³i sáº½ cÃ i vÃ  yÃªu cáº§u ngÆ°á»i dÃ¹ng nháº¥n `Y` hoáº·c `N`. ThÃªm `-y` giÃºp quÃ¡ trÃ¬nh cháº¡y khÃ´ng yÃªu cáº§u tÆ°Æ¡ng tÃ¡c (thÃ­ch há»£p cho script hoáº·c khi muá»‘n cÃ i nhanh).

ToÃ n bá»™ Ã½ nghÄ©a cá»§a lá»‡nh:

* Cháº¡y lá»‡nh `apt install nmap -y` sáº½ yÃªu cáº§u há»‡ thá»‘ng APT táº£i vá» vÃ  cÃ i Ä‘áº·t gÃ³i `nmap` cÃ¹ng cÃ¡c phá»¥ thuá»™c cáº§n thiáº¿t, vÃ  tá»± Ä‘á»™ng Ä‘á»“ng Ã½ vá»›i má»i yÃªu cáº§u xÃ¡c nháº­n.

Quyá»n thá»±c thi (lÆ°u Ã½):

* Cáº§n quyá»n root (quyá»n quáº£n trá»‹) Ä‘á»ƒ cÃ i gÃ³i há»‡ thá»‘ng. Náº¿u báº¡n cháº¡y lá»‡nh dÆ°á»›i tÃ i khoáº£n ngÆ°á»i dÃ¹ng bÃ¬nh thÆ°á»ng, thÆ°á»ng dÃ¹ng tiá»n tá»‘ `sudo`:
  `sudo apt install nmap -y`
* Náº¿u cháº¡y trá»±c tiáº¿p dÆ°á»›i tÃ i khoáº£n root (vÃ­ dá»¥ prompt lÃ  `root@...`), khÃ´ng cáº§n `sudo`.

CÃ¡c bÆ°á»›c APT thá»±c hiá»‡n khi cháº¡y lá»‡nh nÃ y:

1. Kiá»ƒm tra cache vÃ  danh sÃ¡ch gÃ³i Ä‘Ã£ táº£i (náº¿u cáº§n APT cÃ³ thá»ƒ tá»± Ä‘á»™ng táº£i metadata má»›i).
2. Táº£i gÃ³i `nmap` vÃ  cÃ¡c phá»¥ thuá»™c tá»« cÃ¡c kho (repositories) Ä‘Æ°á»£c cáº¥u hÃ¬nh trong `/etc/apt/sources.list` vÃ  `/etc/apt/sources.list.d/`.
3. CÃ i Ä‘áº·t gÃ³i: giáº£i nÃ©n vÃ  Ä‘áº·t file vÃ o há»‡ thá»‘ng (thÆ° má»¥c nhÆ° `/usr/bin`, `/usr/share`...).
4. Cháº¡y cÃ¡c script háº­u-cÃ i Ä‘áº·t (post-install) náº¿u gÃ³i cÃ³ yÃªu cáº§u.

CÃ¡c biáº¿n thá»ƒ há»¯u Ã­ch:

* `sudo apt update && sudo apt install nmap -y`

  * ThÆ°á»ng káº¿t há»£p `apt update` trÆ°á»›c Ä‘á»ƒ Ä‘áº£m báº£o metadata/gÃ³i má»›i nháº¥t.
* `apt-get install nmap -y`

  * `apt-get` lÃ  cÃ´ng cá»¥ truyá»n thá»‘ng; `apt` lÃ  báº£n thÃ¢n thiá»‡n hÆ¡n. Cáº£ hai Ä‘á»u hoáº¡t Ä‘á»™ng nhÆ°ng `apt` cÃ³ giao diá»‡n xuáº¥t ra thuáº­n tiá»‡n hÆ¡n.
* CÃ i má»™t phiÃªn báº£n cá»¥ thá»ƒ (khÃ³ hÆ¡n): `apt install nmap=version` â€” chá»‰ khi gÃ³i Ä‘Ã³ cÃ²n trong repositories.

VÃ­ dá»¥ sá»­ dá»¥ng sau khi cÃ i xong:

* QuÃ©t IP Ä‘Æ¡n: `nmap 192.168.1.10`
* QuÃ©t dáº£i máº¡ng: `nmap 192.168.1.0/24`
* QuÃ©t cá»•ng chi tiáº¿t: `nmap -sS -p 1-65535 10.0.0.5` (yÃªu cáº§u hiá»ƒu biáº¿t ká»¹ thuáº­t; cÃ³ thá»ƒ bá»‹ coi lÃ  hÃ nh vi xÃ¢m pháº¡m náº¿u quÃ©t máº¡ng khÃ´ng Ä‘Æ°á»£c phÃ©p)

LÆ°u Ã½ vá» báº£o máº­t vÃ  phÃ¡p lÃ½:

* `nmap` cÃ³ thá»ƒ Ä‘Æ°á»£c dÃ¹ng cho má»¥c Ä‘Ã­ch kiá»ƒm tra báº£o máº­t há»£p phÃ¡p (vÃ­ dá»¥ kiá»ƒm tra háº¡ táº§ng cá»§a báº¡n) hoáº·c cho má»¥c Ä‘Ã­ch xáº¥u (quÃ©t trÃ¡i phÃ©p máº¡ng ngÆ°á»i khÃ¡c).
* Chá»‰ quÃ©t cÃ¡c há»‡ thá»‘ng mÃ  báº¡n Ä‘Æ°á»£c phÃ©p; quÃ©t trÃ¡i phÃ©p cÃ³ thá»ƒ vi pháº¡m phÃ¡p luáº­t hoáº·c chÃ­nh sÃ¡ch máº¡ng.

Xá»­ lÃ½ lá»—i phá»• biáº¿n vÃ  cÃ¡ch kháº¯c phá»¥c:

* Lá»—i thiáº¿u quyá»n: `Permission denied` -> cháº¡y vá»›i `sudo` hoáº·c Ä‘Äƒng nháº­p root.
* Lá»—i khÃ´ng tÃ¬m tháº¥y gÃ³i: `E: Unable to locate package nmap` -> cháº¡y `sudo apt update` trÆ°á»›c, kiá»ƒm tra `sources.list` hoáº·c káº¿t ná»‘i máº¡ng.
* Lá»—i khÃ³a apt: `Could not get lock /var/lib/dpkg/lock` -> cÃ³ thá»ƒ cÃ³ tiáº¿n trÃ¬nh apt khÃ¡c Ä‘ang cháº¡y; Ä‘á»£i hoáº·c kiá»ƒm tra tiáº¿n trÃ¬nh `ps aux | grep apt`.

KÃ­ch thÆ°á»›c vÃ  phá»¥ thuá»™c:

* `nmap` lÃ  chÆ°Æ¡ng trÃ¬nh tÆ°Æ¡ng Ä‘á»‘i nháº¹; APT sáº½ tá»± liá»‡t kÃª cÃ¡c gÃ³i phá»¥ thuá»™c sáº½ Ä‘Æ°á»£c cÃ i trÆ°á»›c khi tiáº¿n hÃ nh (náº¿u khÃ´ng dÃ¹ng `-y`).

TÃ³m táº¯t ngáº¯n gá»n (dáº¡ng 1 dÃ²ng):

* `apt install nmap -y` â€” cÃ i Ä‘áº·t cÃ´ng cá»¥ quÃ©t máº¡ng `nmap` trÃªn há»‡ thá»‘ng Debian/Ubuntu vÃ  tá»± Ä‘á»™ng Ä‘á»“ng Ã½ má»i xÃ¡c nháº­n.

---

Ghi chÃº cuá»‘i: sao chÃ©p toÃ n bá»™ ná»™i dung nÃ y vÃ o file `.txt` Ä‘á»ƒ lÆ°u hoáº·c chia sáº». Náº¿u muá»‘n phiÃªn báº£n tiáº¿ng Anh hoáº·c thÃªm vÃ­ dá»¥ lá»‡nh `nmap` cá»¥ thá»ƒ, hÃ£y yÃªu cáº§u.
		
		
		- cmd: nmap
		
NMAP â€” GIáº¢I THÃCH CHI TIáº¾T (PLAIN TEXT, Dá»„ COPY)
================================================================================
Má»¥c Ä‘Ã­ch tÃ i liá»‡u:
- Giáº£i thÃ­ch chi tiáº¿t vá» nmap (Network Mapper): khÃ¡i niá»‡m, chá»©c nÄƒng,
  cÃ¡c kiá»ƒu scan, cÃ¡c tÃ¹y chá»n quan trá»ng, vÃ­ dá»¥ thá»±c táº¿ vÃ  lÆ°u Ã½ phÃ¡p lÃ½.
- Äá»‹nh dáº¡ng plain text, sáºµn sÃ ng copy vÃ o file .txt.

1) Nmap lÃ  gÃ¬?
- Nmap (Network Mapper) lÃ  má»™t cÃ´ng cá»¥ mÃ£ nguá»“n má»Ÿ dÃ¹ng Ä‘á»ƒ khÃ¡m phÃ¡ máº¡ng
  vÃ  kiá»ƒm tra báº£o máº­t. Nmap Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tÃ¬m host (mÃ¡y) trÃªn máº¡ng,
  liá»‡t kÃª cÃ¡c cá»•ng (ports) má»Ÿ, xÃ¡c Ä‘á»‹nh dá»‹ch vá»¥ (services) cháº¡y trÃªn cÃ¡c
  cá»•ng Ä‘Ã³, phiÃªn báº£n pháº§n má»m, há»‡ Ä‘iá»u hÃ nh (OS fingerprinting), vÃ  cháº¡y
  cÃ¡c script kiá»ƒm tra lá»— há»•ng (NSE - Nmap Scripting Engine).

2) CÃ i Ä‘áº·t (Linux / macOS / Windows)
- Debian/Ubuntu:
  sudo apt update
  sudo apt install nmap -y

- CentOS / RHEL (vá»›i EPEL):
  sudo yum install epel-release -y
  sudo yum install nmap -y

- Fedora:
  sudo dnf install nmap -y

- macOS (Homebrew):
  brew install nmap

- Windows:
  Táº£i bá»™ cÃ i chÃ­nh thá»©c tá»« https://nmap.org vÃ  cháº¡y installer hoáº·c dÃ¹ng
  phiÃªn báº£n nmap trong bá»™ Nmap for Windows (kÃ¨m Zenmap GUI tÃ¹y chá»n).

3) CÆ¡ cháº¿ hoáº¡t Ä‘á»™ng cÆ¡ báº£n
- Nmap gá»­i gÃ³i tin (packets) tá»›i cÃ¡c Ä‘á»‹a chá»‰ IP / cá»•ng vÃ  phÃ¢n tÃ­ch pháº£n
  há»“i Ä‘á»ƒ xÃ¡c Ä‘á»‹nh tráº¡ng thÃ¡i port (open, closed, filtered, unfiltered, open|filtered, closed|filtered).
- TÃ¹y theo loáº¡i scan, nmap cÃ³ thá»ƒ táº¡o cÃ¡c káº¿t ná»‘i TCP Ä‘áº§y Ä‘á»§ (connect),
  thá»±c hiá»‡n SYN (half-open), UDP probe, TCP ACK, FIN, XMAS, NULL Ä‘á»ƒ vÆ°á»£t
  qua firewall hoáº·c tiáº¿t lá»™ tráº¡ng thÃ¡i cá»•ng.

4) CÃ¡c tráº¡ng thÃ¡i port thÆ°á»ng gáº·p
- open: port Ä‘ang láº¯ng nghe vÃ  cÃ³ dá»‹ch vá»¥.
- closed: port cÃ³ mÃ¡y nhÆ°ng khÃ´ng cÃ³ dá»‹ch vá»¥ láº¯ng nghe.
- filtered: packet bá»‹ lá»c (firewall hoáº·c IPS), nmap khÃ´ng thá»ƒ xÃ¡c Ä‘á»‹nh.
- unfiltered: port khÃ´ng bá»‹ lá»c, nhÆ°ng nmap khÃ´ng biáº¿t open/closed.
- open|filtered, closed|filtered: tráº¡ng thÃ¡i khÃ´ng xÃ¡c Ä‘á»‹nh vá»›i má»™t sá»‘ scan.

5) CÃ¡c kiá»ƒu scan phá»• biáº¿n (quan trá»ng)
- TCP SYN scan (fast, stealth): -sS
  Gá»­i TCP SYN, chá» SYN/ACK => open, RST => closed. KhÃ´ng hoÃ n táº¥t TCP handshake.
- TCP Connect scan (khÃ´ng stealth): -sT
  DÃ¹ng connect() cá»§a há»‡ Ä‘iá»u hÃ nh; hoÃ n táº¥t handshake â€” dá»… bá»‹ phÃ¡t hiá»‡n.
- UDP scan: -sU
  Kiá»ƒm tra port UDP; cháº­m vÃ  khÃ³ chÃ­nh xÃ¡c vÃ¬ UDP khÃ´ng cÃ³ ACK.
- TCP ACK scan: -sA
  DÃ¹ng Ä‘á»ƒ kiá»ƒm tra tráº¡ng thÃ¡i firewall (filtered/unfiltered).
- FIN / NULL / Xmas scans: -sF, -sN, -sX
  Gá»­i gÃ³i khÃ´ng chuáº©n nháº±m vÆ°á»£t firewall hay phÃ¡t hiá»‡n há»‡ Ä‘iá»u hÃ nh.
- TCP Window scan: -sW
- SCTP INIT scan: -sY

6) PhÃ¡t hiá»‡n dá»‹ch vá»¥ vÃ  phiÃªn báº£n
- -sV : dÃ² service/version detection (thá»­ handshake, gá»­i probes Ä‘á»ƒ thu tháº­p
  banner vÃ  Æ°á»›c lÆ°á»£ng phiÃªn báº£n).
- --version-intensity <level> : Ä‘iá»u chá»‰nh má»©c máº¡nh/yáº¿u cá»§a dÃ² phiÃªn báº£n (0-9).

7) PhÃ¡t hiá»‡n há»‡ Ä‘iá»u hÃ nh (OS fingerprinting)
- -O : báº­t phÃ¡t hiá»‡n há»‡ Ä‘iá»u hÃ nh (cáº§n quyá»n root cho má»™t sá»‘ scan).
- --osscan-limit : giá»›i háº¡n chá»‰ scan nhá»¯ng host dá»… nháº­n dáº¡ng.

8) QuÃ©t port (range, top ports)
- QuÃ©t toÃ n bá»™ port TCP 1-65535: -p 1-65535
- QuÃ©t cÃ¡c port thÃ´ng dá»¥ng: -F (fast; dÃ¹ng file ports nmap-services)
- Liá»‡t kÃª nhiá»u port tÃ¡ch báº±ng dáº¥u pháº©y: -p 22,80,443,8080

9) Tá»‘c Ä‘á»™, tÃ¹y chá»‰nh timing
- -T0 ... -T5 : timing template, tá»« â€œparanoidâ€ (cháº­m) Ä‘áº¿n â€œinsaneâ€ (ráº¥t nhanh).
  ThÃ´ng thÆ°á»ng -T4 cho máº¡ng LAN hoáº·c khi cáº§n nhanh.
- --max-retries <N> : giáº£m sá»‘ láº§n thá»­ láº¡i.
- --host-timeout <time> : giá»›i háº¡n thá»i gian cho má»—i host.

10) Nmap Scripting Engine (NSE)
- --script=<scriptname> hoáº·c --script="default,safe" : cháº¡y script Ä‘á»ƒ lÃ m:
  - phÃ¡t hiá»‡n lá»— há»•ng (vuln),
  - brute-force,
  - thu tháº­p thÃ´ng tin (discovery, auth, safe, intrusive,...).
- ThÆ° má»¥c script thÆ°á»ng á»Ÿ /usr/share/nmap/scripts/
- Láº¥y vÃ­ dá»¥: --script=http-title hoáº·c --script=vuln

11) Äáº§u ra / format káº¿t quáº£
- Máº·c Ä‘á»‹nh: human-readable text (in terminal).
- -oN <file> : normal output (plain text)
- -oX <file> : XML output
- -oG <file> : grepable output (dá»… parse báº±ng scripts)
- -oA <basename> : xuáº¥t cáº£ 3 Ä‘á»‹nh dáº¡ng trÃªn cÃ¹ng lÃºc (basename.nmap, .xml, .gnmap)

12) Má»™t sá»‘ vÃ­ dá»¥ thá»±c táº¿ (cÃ¢u lá»‡nh + mÃ´ táº£)
- QuÃ©t host Ä‘Æ¡n, cÃ¡c port thÃ´ng dá»¥ng:
  nmap 192.168.1.10
- QuÃ©t range IP:
  nmap 192.168.1.0/24
- QuÃ©t cá»•ng cá»¥ thá»ƒ vÃ  dÃ² phiÃªn báº£n:
  nmap -p 22,80,443 -sV 10.0.0.5
- SYN scan nhanh (cáº§n quyá»n root):
  sudo nmap -sS -T4 192.168.1.0/24
- QuÃ©t UDP (cháº­m):
  sudo nmap -sU -p 53,67,123 192.168.1.1
- DÃ² OS + version + script vuln + xuáº¥t file:
  sudo nmap -sS -sV -O --script=vuln -oA scan_report 10.0.0.0/24
- Chá»‰ liá»‡t kÃª host Ä‘ang online (ping scan):
  nmap -sn 192.168.1.0/24
- QuÃ©t stealth vá»›i spoof IP (ká»¹ thuáº­t nÃ¢ng cao, cÃ³ rá»§i ro phÃ¡p lÃ½):
  sudo nmap -S 1.2.3.4 --source-port 53 target.com
  (KHÃ”NG khuyáº¿n khÃ­ch dÃ¹ng trá»« khi báº¡n biáº¿t rÃµ luáº­t vÃ  quyá»n)

13) Káº¿t há»£p vá»›i cÃ´ng cá»¥ khÃ¡c
- Káº¿t quáº£ nmap dáº¡ng XML cÃ³ thá»ƒ Ä‘Æ°á»£c import vÃ o cÃ¡c cÃ´ng cá»¥ quáº£n lÃ½ lá»— há»•ng,
  hoáº·c dÃ¹ng scripts Ä‘á»ƒ parse (python, awk, grep).
- Zenmap lÃ  GUI cho nmap (há»¯u Ã­ch cho ngÆ°á»i má»›i).

14) Quyá»n vÃ  lÆ°u Ã½ phÃ¡p lÃ½ / Ä‘áº¡o Ä‘á»©c
- QuÃ©t máº¡ng cá»§a ngÆ°á»i khÃ¡c mÃ  khÃ´ng Ä‘Æ°á»£c phÃ©p cÃ³ thá»ƒ báº¥t há»£p phÃ¡p hoáº·c
  vi pháº¡m chÃ­nh sÃ¡ch nhÃ  cung cáº¥p dá»‹ch vá»¥. LuÃ´n:
  - Xin phÃ©p chá»§ máº¡ng/khÃ¡ch hÃ ng trÆ°á»›c khi quÃ©t.
  - DÃ¹ng nmap trÃªn máº¡ng báº¡n sá»Ÿ há»¯u hoáº·c Ä‘Æ°á»£c á»§y quyá»n.
- Má»™t sá»‘ scan (SYN flood, aggressive NSE scripts, spoofing) cÃ³ thá»ƒ gÃ¢y sá»± cá»‘
  hoáº·c táº¡o logs nhiá»u â€” tháº­n trá»ng khi dÃ¹ng á»Ÿ mÃ´i trÆ°á»ng production.

15) Máº¹o & best practices
- Báº¯t Ä‘áº§u vá»›i scan nháº¹: nmap -sn / -F Ä‘á»ƒ khÃ¡m phÃ¡ host.
- DÃ¹ng timing -T3/-T4 cho máº¡ng LAN, -T2/-T3 cho máº¡ng WAN.
- DÃ² dá»‹ch vá»¥ trÆ°á»›c khi cháº¡y script â€œintrusiveâ€.
- LÆ°u output (-oA) Ä‘á»ƒ phÃ¢n tÃ­ch, so sÃ¡nh lá»‹ch sá»­.
- Cáº­p nháº­t nmap thÆ°á»ng xuyÃªn (cá»¥ thá»ƒ cÃ¡c script vÃ  probes).

16) TÃ i liá»‡u & trá»£ giÃºp nhanh
- Xem help:
  nmap -h
- Manual:
  man nmap
- Trang chÃ­nh:
  https://nmap.org

Káº¿t luáº­n ngáº¯n:
- Nmap lÃ  cÃ´ng cá»¥ ráº¥t máº¡nh Ä‘á»ƒ khÃ¡m phÃ¡ máº¡ng vÃ  kiá»ƒm tra báº£o máº­t; náº¯m rÃµ
  cÃ¡c loáº¡i scan, timing, vÃ  NSE sáº½ giÃºp báº¡n thu tháº­p thÃ´ng tin hiá»‡u quáº£.
- LuÃ´n tuÃ¢n thá»§ luáº­t phÃ¡p vÃ  chÃ­nh sÃ¡ch khi quÃ©t máº¡ng.

--------------------------------------------------------------------------------
(END OF FILE)
		
		
		- cmd:  root@web01:~# nmap localhost
		
				Starting Nmap 7.80 ( https://nmap.org ) at 2025-09-21 05:56 UTC
				Nmap scan report for localhost (127.0.0.1)
				Host is up (0.0000030s latency).
				Not shown: 999 closed ports
				PORT   STATE SERVICE
				22/tcp open  ssh

				Nmap done: 1 IP address (1 host up) scanned in 0.44 seconds
				
				TÃŠN
					nmap localhost
					â€” quÃ©t cÃ¡c cá»•ng má»Ÿ trÃªn mÃ¡y tÃ­nh local (localhost) báº±ng cÃ´ng cá»¥ Nmap

				TÃ“M Táº®T (SYNOPSIS)
					nmap [options] <target>
					nmap localhost

				MÃ” Táº¢
					`nmap` (Network Mapper) lÃ  cÃ´ng cá»¥ máº¡nh máº½ Ä‘á»ƒ quÃ©t máº¡ng vÃ  kiá»ƒm tra báº£o máº­t, phÃ¡t hiá»‡n host, port, dá»‹ch vá»¥ vÃ  há»‡ Ä‘iá»u hÃ nh.  

					Trong vÃ­ dá»¥ nÃ y:

					- `localhost` : Ä‘á»‹a chá»‰ IP 127.0.0.1, tá»©c mÃ¡y tÃ­nh hiá»‡n táº¡i.
					- Lá»‡nh sáº½ quÃ©t cÃ¡c cá»•ng TCP máº·c Ä‘á»‹nh trÃªn mÃ¡y local Ä‘á»ƒ xÃ¡c Ä‘á»‹nh cá»•ng nÃ o Ä‘ang má»Ÿ vÃ  dá»‹ch vá»¥ cháº¡y trÃªn Ä‘Ã³.

				PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
					1) `nmap`
						- CÃ´ng cá»¥ quÃ©t máº¡ng vÃ  kiá»ƒm tra báº£o máº­t.
						- Há»— trá»£ quÃ©t TCP, UDP, OS fingerprinting, version detection, v.v.
					2) `localhost`
						- Host Ä‘Ã­ch lÃ  mÃ¡y tÃ­nh hiá»‡n táº¡i.
						- TÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i IP 127.0.0.1.

				HOáº T Äá»˜NG Cá»¦A Lá»†NH
					1) Nmap gá»­i cÃ¡c gÃ³i TCP SYN (máº·c Ä‘á»‹nh) tá»›i cÃ¡c cá»•ng phá»• biáº¿n.
					2) XÃ¡c Ä‘á»‹nh cá»•ng nÃ o Ä‘ang má»Ÿ, Ä‘Ã³ng hoáº·c lá»c (open, closed, filtered).
					3) Hiá»ƒn thá»‹ káº¿t quáº£ báº£ng gá»“m:
						- PORT : sá»‘ cá»•ng
						- STATE : tráº¡ng thÃ¡i cá»•ng (open, closed, filtered)
						- SERVICE : dá»‹ch vá»¥ thÆ°á»ng dÃ¹ng trÃªn cá»•ng Ä‘Ã³ (http, ssh, mysql,...)
					4) Náº¿u cháº¡y vá»›i quyá»n root, nmap cÃ³ thá»ƒ thá»±c hiá»‡n quÃ©t SYN scan, tÄƒng tá»‘c vÃ  chÃ­nh xÃ¡c hÆ¡n.

				TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG
					- -sS : TCP SYN scan (fast, stealth)
					- -sT : TCP connect scan
					- -sU : UDP scan
					- -p <ports> : chá»‰ Ä‘á»‹nh cá»•ng cáº§n quÃ©t
					- -O : phÃ¡t hiá»‡n há»‡ Ä‘iá»u hÃ nh
					- -v : verbose, hiá»ƒn thá»‹ chi tiáº¿t hÆ¡n

				Lá»†NH LIÃŠN QUAN
					- nmap -p 22,80 localhost : quÃ©t cá»•ng 22 vÃ  80.
					- nmap -sV localhost : quÃ©t vÃ  xÃ¡c Ä‘á»‹nh phiÃªn báº£n dá»‹ch vá»¥.
					- ss -tulpn : liá»‡t kÃª cá»•ng Ä‘ang má»Ÿ vÃ  tiáº¿n trÃ¬nh trÃªn Linux.
					- netstat -antp : liá»‡t kÃª káº¿t ná»‘i TCP vÃ  tiáº¿n trÃ¬nh liÃªn quan.

				Máº¸O THá»°C TIá»„N
					1) Kiá»ƒm tra cá»•ng má»Ÿ trÃªn mÃ¡y local trÆ°á»›c khi triá»ƒn khai dá»‹ch vá»¥ má»›i:
						nmap localhost
					2) QuÃ©t cá»¥ thá»ƒ má»™t sá»‘ cá»•ng:
						nmap -p 22,80,443 localhost
					3) QuÃ©t UDP:
						sudo nmap -sU localhost
					4) Káº¿t há»£p verbose Ä‘á»ƒ xem chi tiáº¿t:
						nmap -v localhost
					5) DÃ¹ng sudo náº¿u muá»‘n quÃ©t SYN scan:
						sudo nmap -sS localhost

				LÆ¯U Ã
					- Chá»‰ quÃ©t localhost sáº½ khÃ´ng áº£nh hÆ°á»Ÿng máº¡ng ngoÃ i.
					- QuÃ©t host tá»« xa nÃªn Ä‘Æ°á»£c phÃ©p Ä‘á»ƒ trÃ¡nh vi pháº¡m phÃ¡p luáº­t hoáº·c chÃ­nh sÃ¡ch máº¡ng.
					- Káº¿t quáº£ quÃ©t giÃºp phÃ¡t hiá»‡n cá»•ng Ä‘ang má»Ÿ, dá»‹ch vá»¥ cháº¡y, há»— trá»£ báº£o máº­t.

				TÃ“M Táº®T NGáº®N Gá»ŒN
					- `nmap localhost` quÃ©t cÃ¡c cá»•ng má»Ÿ trÃªn mÃ¡y local.
					- Hiá»ƒn thá»‹ PORT, STATE, SERVICE.
					- CÃ³ thá»ƒ má»Ÿ rá»™ng quÃ©t dá»‹ch vá»¥, phiÃªn báº£n, há»‡ Ä‘iá»u hÃ nh vá»›i tÃ¹y chá»n khÃ¡c.
					- Há»¯u Ã­ch Ä‘á»ƒ kiá»ƒm tra firewall, dá»‹ch vá»¥ Ä‘ang cháº¡y hoáº·c báº£o máº­t mÃ¡y chá»§.

				VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
					# QuÃ©t cÃ¡c cá»•ng phá»• biáº¿n trÃªn localhost
					nmap localhost

					# QuÃ©t cá»•ng cá»¥ thá»ƒ 22 vÃ  80
					nmap -p 22,80 localhost

					# QuÃ©t vá»›i verbose chi tiáº¿t
					nmap -v localhost

					# QuÃ©t dá»‹ch vá»¥ vÃ  phiÃªn báº£n
					nmap -sV localhost

					# QuÃ©t UDP (cáº§n sudo)
					sudo nmap -sU localhost

				----------------------------------------
				(END OF TEXT)

				
		- cmd:  root@web01:~# nmap web01
		
				Starting Nmap 7.80 ( https://nmap.org ) at 2025-09-21 06:47 UTC
				Nmap scan report for web01 (127.0.2.1)
				Host is up (0.0000040s latency).
				Other addresses for web01 (not scanned): 192.168.56.41
				Not shown: 999 closed ports
				PORT   STATE SERVICE
				22/tcp open  ssh

				Nmap done: 1 IP address (1 host up) scanned in 0.12 seconds
				
== Giáº£i thÃ­ch chi tiáº¿t: nmap web01 ==

LÆ°u Ã½: tá»‡p nÃ y á»Ÿ dáº¡ng plain text Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ o file .txt.

---

1. CÃ¢u lá»‡nh Ä‘áº§y Ä‘á»§ báº¡n cháº¡y:

nmap web01

(Trong Ä‘Ã³ `web01` lÃ  hostname hoáº·c tÃªn mÃ¡y mÃ  Nmap sáº½ quÃ©t.)

---

2. Má»¥c Ä‘Ã­ch ngáº¯n gá»n:

* Lá»‡nh `nmap web01` dÃ¹ng Nmap Ä‘á»ƒ quÃ©t cÃ¡c port má»Ÿ trÃªn host `web01` (qua DNS hoáº·c /etc/hosts Ä‘á»ƒ phÃ¢n giáº£i tÃªn). Máº·c Ä‘á»‹nh Nmap quÃ©t cÃ¡c 1000 port TCP phá»• biáº¿n Ä‘á»ƒ xÃ¡c Ä‘á»‹nh port nÃ o Ä‘ang "open", "closed" hay "filtered".

---

3. Giáº£i thÃ­ch Ä‘áº§u ra máº«u báº¡n cung cáº¥p (theo tá»«ng dÃ²ng):

Starting Nmap 7.80 ( [https://nmap.org](https://nmap.org) ) at 2025-09-21 06:47 UTC

* DÃ²ng thÃ´ng bÃ¡o phiÃªn báº£n Nmap (7.80) vÃ  thá»i gian báº¯t Ä‘áº§u cháº¡y (UTC).

Nmap scan report for web01 (127.0.2.1)

* Nmap Ä‘Ã£ phÃ¢n giáº£i tÃªn `web01` thÃ nh Ä‘á»‹a chá»‰ IP chÃ­nh Ä‘Æ°á»£c quÃ©t á»Ÿ Ä‘Ã¢y lÃ  127.0.2.1.

Host is up (0.0000040s latency).

* Host pháº£n há»“i (online). GiÃ¡ trá»‹ latency = 0.0000040s lÃ  Ä‘á»™ trá»… ICMP/TCP probe ráº¥t nhá» (~4 microseconds), cho biáº¿t host ráº¥t gáº§n (loopback/host-only).

Other addresses for web01 (not scanned): 192.168.56.41

* NgoÃ i IP Ä‘Ã£ quÃ©t (127.0.2.1), host `web01` cÃ²n cÃ³ má»™t Ä‘á»‹a chá»‰ khÃ¡c lÃ  192.168.56.41. DÃ²ng nÃ y cho biáº¿t Nmap biáº¿t vá» Ä‘á»‹a chá»‰ Ä‘Ã³ (tá»« DNS hoáº·c /etc/hosts) nhÆ°ng Nmap **khÃ´ng quÃ©t** Ä‘á»‹a chá»‰ phá»¥ nÃ y trong láº§n cháº¡y nÃ y.

Not shown: 999 closed ports

* Nmap Ä‘Ã£ kiá»ƒm tra 1000 port máº·c Ä‘á»‹nh vÃ  phÃ¡t hiá»‡n 999 port á»Ÿ tráº¡ng thÃ¡i "closed". Äá»ƒ trÃ¡nh in quÃ¡ nhiá»u dÃ²ng, Nmap tÃ³m táº¯t cÃ¡c port Ä‘Ã³ng.

PORT   STATE SERVICE
22/tcp open  ssh

* Báº£ng liá»‡t kÃª port Ä‘Æ°á»£c Nmap hiá»ƒn thá»‹ (chá»‰ cÃ¡c port khÃ´ng closed theo máº·c Ä‘á»‹nh):

  * PORT: cá»•ng 22/tcp
  * STATE: open -> port Ä‘ang má»Ÿ vÃ  cÃ³ dá»‹ch vá»¥ láº¯ng nghe
  * SERVICE: ssh -> Nmap Ä‘oÃ¡n dá»‹ch vá»¥ cháº¡y trÃªn port (ssh)

Nmap done: 1 IP address (1 host up) scanned in 0.12 seconds

* TÃ³m táº¯t: Nmap Ä‘Ã£ quÃ©t 1 Ä‘á»‹a chá»‰ IP (web01), host Ä‘ang online, thá»i gian quÃ©t ~0.12s.

---

4. Ã nghÄ©a thá»±c táº¿ cá»§a káº¿t quáº£:

* Host `web01` Ä‘ang online vÃ  cÃ³ dá»‹ch vá»¥ SSH (port 22) Ä‘ang láº¯ng nghe.
* Háº§u háº¿t cÃ¡c port thÃ´ng dá»¥ng khÃ¡c (999 port) bá»‹ Ä‘Ã³ng.
* Äá»‹a chá»‰ IP 127.0.2.1 cho tháº¥y báº¡n cÃ³ thá»ƒ Ä‘ang quÃ©t má»™t host áº£o/local (vÃ­ dá»¥ host-only network hoáº·c /etc/hosts Ã¡nh xáº¡ tÃªn tá»›i loopback). Äá»‹a chá»‰ 192.168.56.41 cÃ³ thá»ƒ lÃ  IP tháº­t trÃªn máº¡ng áº£o (VirtualBox host-only) nhÆ°ng Nmap chá»‰ quÃ©t IP Ä‘áº§u tiÃªn nÃ³ phÃ¢n giáº£i.

---

5. CÃ¡c tÃ¹y chá»n Nmap há»¯u Ã­ch (nÃ¢ng cao) náº¿u muá»‘n nhiá»u thÃ´ng tin hÆ¡n:

* nmap -sS web01

  * SYN scan (fast, stealthier) â€” cáº§n quyá»n root (sudo).

* sudo nmap -sV web01

  * PhÃ¡t hiá»‡n phiÃªn báº£n dá»‹ch vá»¥ (service version detection).

* sudo nmap -A web01

  * Káº¿t há»£p: OS detection, version detection, script scan vÃ  traceroute â€” nhiá»u thÃ´ng tin nhÆ°ng xÃ¢m pháº¡m hÆ¡n.

* nmap -p 1-65535 web01

  * QuÃ©t toÃ n bá»™ 65535 port TCP (cháº­m hÆ¡n).

* nmap -Pn web01

  * Bá» qua giai Ä‘oáº¡n ping discovery (treat host as up) â€” dÃ¹ng khi host cháº·n ICMP.

* nmap -oN output.txt web01

  * LÆ°u káº¿t quáº£ á»Ÿ Ä‘á»‹nh dáº¡ng text vÃ o file output.txt.

---

6. LÆ°u Ã½ quyá»n vÃ  an toÃ n:

* Má»™t sá»‘ cháº¿ Ä‘á»™ quÃ©t (vÃ­ dá»¥ -sS, -A) yÃªu cáº§u quyá»n root Ä‘á»ƒ hoáº¡t Ä‘á»™ng chÃ­nh xÃ¡c.
* LuÃ´n Ä‘áº£m báº£o báº¡n cÃ³ quyá»n há»£p phÃ¡p Ä‘á»ƒ quÃ©t host. QuÃ©t máº¡ng/host khÃ´ng thuá»™c quyá»n quáº£n lÃ½ cÃ³ thá»ƒ vi pháº¡m luáº­t hoáº·c chÃ­nh sÃ¡ch ná»™i bá»™.

---

7. CÃ¡ch giáº£i thÃ­ch káº¿t quáº£ nhanh (checklist):

1) Host up? -> cÃ³ (Host is up)
2) IP thá»±c sá»± quÃ©t? -> 127.0.2.1 (kiá»ƒm tra /etc/hosts hoáº·c DNS)
3) CÃ³ port má»Ÿ? -> CÃ³: 22/tcp (SSH)
4) CÃ³ Ä‘á»‹a chá»‰ khÃ¡c? -> 192.168.56.41 (khÃ´ng quÃ©t)
5) Sá»‘ port Ä‘Ã³ng -> 999 closed (tÃ³m táº¯t)

---

8. VÃ­ dá»¥ cÃ¡c bÆ°á»›c tiáº¿p theo báº¡n cÃ³ thá»ƒ lÃ m (náº¿u Ä‘Ã¢y lÃ  host cá»§a báº¡n):

* Kiá»ƒm tra SSH service trÃªn host: sudo systemctl status sshd (hoáº·c ssh)
* Kiá»ƒm tra file /etc/hosts Ä‘á»ƒ hiá»ƒu vÃ¬ sao web01 map tá»›i 127.0.2.1 vÃ  192.168.56.41.
* Náº¿u cáº§n audit: sudo nmap -sV -p 22 web01 Ä‘á»ƒ biáº¿t phiÃªn báº£n SSH vÃ  banner.

---

9. TÃ³m táº¯t ngáº¯n gá»n (1 cÃ¢u):

* `nmap web01` quÃ©t cÃ¡c port phá»• biáº¿n trÃªn host `web01` vÃ  trong output máº«u cho tháº¥y host up, cÃ³ SSH (port 22) má»Ÿ, háº§u háº¿t port khÃ¡c Ä‘Ã³ng, vÃ  host cÃ³ thÃªm Ä‘á»‹a chá»‰ phá»¥ 192.168.56.41 nhÆ°ng Nmap chá»‰ quÃ©t 127.0.2.1.

---

Báº£n quyá»n: tÃ i liá»‡u nÃ y do báº¡n sao chÃ©p vÃ  sá»­ dá»¥ng. Náº¿u báº¡n muá»‘n mÃ¬nh rÃºt gá»n chá»‰ cÃ²n lá»‡nh vÃ  giáº£i thÃ­ch ngáº¯n, thÃªm hÆ°á»›ng dáº«n cháº¡y vá»›i sudo hoáº·c chuyá»ƒn sang tiáº¿ng Anh, mÃ¬nh sáº½ cáº­p nháº­t ngay.
	

		- cmd:  root@web01:~# dig www.google.com

				; <<>> DiG 9.18.30-0ubuntu0.20.04.2-Ubuntu <<>> www.google.com
				;; global options: +cmd
				;; Got answer:
				;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 54039
				;; flags: qr rd ra; QUERY: 1, ANSWER: 6, AUTHORITY: 0, ADDITIONAL: 1

				;; OPT PSEUDOSECTION:
				; EDNS: version: 0, flags:; udp: 65494
				;; QUESTION SECTION:
				;www.google.com.                        IN      A

				;; ANSWER SECTION:
				www.google.com.         285     IN      A       142.251.12.99
				www.google.com.         285     IN      A       142.251.12.147
				www.google.com.         285     IN      A       142.251.12.104
				www.google.com.         285     IN      A       142.251.12.106
				www.google.com.         285     IN      A       142.251.12.105
				www.google.com.         285     IN      A       142.251.12.103

				;; Query time: 36 msec
				;; SERVER: 127.0.0.53#53(127.0.0.53) (UDP)
				;; WHEN: Sun Sep 21 06:49:44 UTC 2025
				;; MSG SIZE  rcvd: 139
				
			TÃŠN
				dig www.google.com
				â€” truy váº¥n DNS cho tÃªn miá»n `www.google.com` báº±ng cÃ´ng cá»¥ `dig` (Domain Information Groper)

			TÃ“M Táº®T (SYNOPSIS)
				dig [@server] [name] [type] [options]
				dig www.google.com
				dig @8.8.8.8 www.google.com A
				dig www.google.com MX
				dig -x 8.8.8.8

			MÃ” Táº¢
				`dig` lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ thá»±c hiá»‡n truy váº¥n DNS. Khi báº¡n cháº¡y `dig www.google.com`, `dig` gá»­i má»™t truy váº¥n DNS
				(máº·c Ä‘á»‹nh loáº¡i A) tá»›i resolver Ä‘Æ°á»£c cáº¥u hÃ¬nh trÃªn há»‡ thá»‘ng (thÆ°á»ng lÃ  /etc/resolv.conf) vÃ  in ra káº¿t quáº£ chi tiáº¿t
				gá»“m cÃ¢u há»i, cÃ¢u tráº£ lá»i, pháº§n authority vÃ  additional, cÃ¹ng thÃ´ng tin vá» server Ä‘Ã£ tráº£ lá»i vÃ  thá»i gian truy váº¥n.

			THÃ€NH PHáº¦N CHÃNH TRONG Káº¾T QUáº¢
				- ;; -> comment lines: cÃ¡c pháº§n Ä‘áº§u bÃ¡o metadata vá» truy váº¥n vÃ  thá»i gian.
				- QUESTION SECTION : hiá»ƒn thá»‹ cÃ¢u há»i DNS mÃ  dig gá»­i (tÃªn + loáº¡i record).
				- ANSWER SECTION   : pháº§n tráº£ lá»i, gá»“m cÃ¡c record (A, CNAME, MX, TXT, v.v.) vá»›i TTL, class (IN) vÃ  giÃ¡ trá»‹.
				- AUTHORITY SECTION: name servers cÃ³ tháº©m quyá»n cho zone náº¿u cÃ³.
				- ADDITIONAL SECTION: cÃ¡c record phá»¥ trá»£ (vÃ­ dá»¥ Ä‘á»‹a chá»‰ IP cá»§a name servers).
				- ;; Query time: thá»i gian (ms) Ä‘á»ƒ nháº­n pháº£n há»“i.
				- ;; SERVER: IP cá»§a resolver Ä‘Ã£ tráº£ lá»i truy váº¥n.
				- ;; WHEN: thá»i gian thá»±c hiá»‡n truy váº¥n.
				- ;; MSG SIZE  rcvd: kÃ­ch thÆ°á»›c pháº£n há»“i (bytes).

			DI GIáº¢I Káº¾T QUáº¢ (vÃ­ dá»¥ cáº¥u trÃºc, khÃ´ng pháº£i dá»¯ liá»‡u tháº­t)
				;; QUESTION SECTION:
				;www.google.com.             IN      A

				;; ANSWER SECTION:
				www.google.com.      300     IN      A       142.250.72.196
				www.google.com.      300     IN      A       142.250.72.228

				- `www.google.com.` : tÃªn báº£n ghi (káº¿t thÃºc báº±ng dáº¥u cháº¥m).
				- `300` : TTL (sá»‘ giÃ¢y cÃ²n hiá»‡u lá»±c).
				- `IN` : class (thÆ°á»ng lÃ  IN = Internet).
				- `A` : loáº¡i record (IPv4 address).
				- `142.250.72.196` : giÃ¡ trá»‹ (IP).

			TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG (VÃ€ Ã NGHÄ¨A)
				- @server : chá»‰ Ä‘á»‹nh DNS server Ä‘á»ƒ truy váº¥n
					dig @8.8.8.8 www.google.com
				- +short : in káº¿t quáº£ ngáº¯n gá»n (chá»‰ giÃ¡ trá»‹ tráº£ vá»)
					dig +short www.google.com
				- +trace : theo dÃµi truy váº¥n tá»« root servers Ä‘áº¿n authoritative servers (useful Ä‘á»ƒ debug delegation)
					dig +trace www.google.com
				- -t TYPE hoáº·c chá»‰ TYPE : chá»‰ Ä‘á»‹nh loáº¡i báº£n ghi (A, AAAA, MX, TXT, NS, SOA, CNAME, SRV, ANY)
					dig www.google.com MX
					dig www.google.com AAAA
				- +noall +answer : chá»‰ in pháº§n ANSWER (dá»n output)
					dig www.google.com +noall +answer
				- -x <ip> : reverse lookup (tá»« IP -> PTR)
					dig -x 8.8.8.8 +short
				- +tcp : dÃ¹ng TCP thay vÃ¬ UDP (há»¯u Ã­ch khi UDP bá»‹ lá»c hoáº·c pháº£n há»“i lá»›n)
					dig +tcp www.google.com
				- +time=<seconds> : thay Ä‘á»•i timeout
					dig +time=5 www.google.com
				- +tries=<n> : sá»‘ láº§n thá»­ láº¡i

			HIá»‚U Vá»€ TTL VÃ€ CACHE
				- TTL (Time To Live) cho biáº¿t báº£n ghi cÃ³ thá»ƒ Ä‘Æ°á»£c cache trong resolver trong bao lÃ¢u (giÃ¢y).
				- Náº¿u TTL cÃ²n cao, báº¡n cÃ³ thá»ƒ nháº­n dá»¯ liá»‡u cÅ© tá»« cache resolver; Ä‘á»ƒ buá»™c truy váº¥n trá»±c tiáº¿p tá»›i authoritative
				server, dÃ¹ng @<authoritative-server> hoáº·c +trace.

			Xá»¬ LÃ Sá»° KHÃC BIá»†T VÃ€ DEBUG
				- Náº¿u khÃ´ng nháº­n Ä‘Æ°á»£c tráº£ lá»i (TIMEOUT) hoáº·c káº¿t quáº£ khÃ¡c nhau giá»¯a cÃ¡c resolver, thá»­:
					dig @8.8.8.8 www.google.com
					dig +trace www.google.com
				- Kiá»ƒm tra pháº§n AUTHORITY Ä‘á»ƒ xem name servers chá»‹u trÃ¡ch nhiá»‡m cho zone.
				- Káº¿t há»£p `nslookup` hoáº·c `host` khi cáº§n (cÃ¡ch hiá»ƒn thá»‹ khÃ¡c nhau).
				- Náº¿u muá»‘n biáº¿t record nÃ o tráº£ lá»i cho tÃªn `www.google.com` (cÃ³ thá»ƒ lÃ  CNAME), kiá»ƒm tra ANSWER SECTION: CNAME
				sáº½ chá»‰ tá»›i tÃªn khÃ¡c, tiáº¿p tá»¥c query tÃªn Ä‘Ã³ Ä‘á»ƒ láº¥y A/AAAA.

			QUYá»€N VÃ€ CÃI Cáº¦N CÃ“
				- `dig` thÆ°á»ng cÃ³ sáºµn trÃªn Linux khi cÃ i gÃ³i `dnsutils` (Debian/Ubuntu) hoáº·c `bind-utils` (RHEL/CentOS).
				- KhÃ´ng cáº§n quyá»n root Ä‘á»ƒ dÃ¹ng `dig`.

			MÃƒ TRáº¢ Vá»€ (EXIT STATUS)
				- 0 : lá»‡nh thá»±c thi thÃ nh cÃ´ng (dÃ¹ DNS tráº£ NXDOMAIN hay SERVFAIL trong payload, dig váº«n thÆ°á»ng tráº£ 0 trá»« khi lá»—i máº¡ng/argument).
				- â‰ 0 : lá»—i thá»±c thi (vd. khÃ´ng tÃ¬m tháº¥y chÆ°Æ¡ng trÃ¬nh, khÃ´ng thá»ƒ phÃ¢n giáº£i tÃªn mÃ¡y cá»¥c bá»™, lá»—i máº¡ng nghiÃªm trá»ng).

			Máº¸O THá»°C Táº¾
				- DÃ¹ng `dig +short` Ä‘á»ƒ láº¥y nhanh IP cho script.
				- DÃ¹ng `dig +noall +answer` Ä‘á»ƒ xuáº¥t báº£n ghi sáº¡ch cho automation.
				- DÃ¹ng `dig @<dns-server>` Ä‘á»ƒ kiá»ƒm tra tÃ­nh nháº¥t quÃ¡n giá»¯a DNS servers (vÃ­ dá»¥ kiá»ƒm tra propagation).
				- DÃ¹ng `dig +trace` Ä‘á»ƒ debug váº¥n Ä‘á» phÃ¢n giáº£i liÃªn quan tá»›i delegation (NS/DS).
				- Khi kiá»ƒm tra MX/TXT/SPF/DKIM, chá»n loáº¡i record tÆ°Æ¡ng á»©ng:
					dig example.com MX
					dig example.com TXT

			AN TOÃ€N VÃ€ QUYá»€N RIÃŠNG TÆ¯
				- Truy váº¥n DNS cÃ´ng khai khÃ´ng gÃ¢y rá»§i ro báº£o máº­t lá»›n, nhÆ°ng trÃ¡nh quÃ©t hÃ ng loáº¡t trÃªn server khÃ´ng Ä‘Æ°á»£c phÃ©p.
				- Káº¿t quáº£ DNS cÃ³ thá»ƒ chá»©a thÃ´ng tin nháº¡y cáº£m (vÃ­ dá»¥ cÃ¡c báº£n ghi internal náº¿u lá»™ ra); kiá»ƒm soÃ¡t server tráº£ lá»i.

			VÃ Dá»¤ THá»°C Táº¾ (COPY & PASTE)
				# Truy váº¥n A record máº·c Ä‘á»‹nh
				dig www.google.com

				# Chá»‰ in IP (ngáº¯n gá»n)
				dig +short www.google.com

				# Truy váº¥n cá»¥ thá»ƒ mÃ¡y chá»§ DNS (Google Public DNS)
				dig @8.8.8.8 www.google.com

				# Láº¥y chá»‰ pháº§n ANSWER
				dig www.google.com +noall +answer

				# QuÃ©t theo dÃµi tá»« root (trace)
				dig +trace www.google.com

				# QuÃ©t MX record
				dig example.com MX +noall +answer

			TÃ“M Táº®T NGáº®N Gá»ŒN
				- `dig www.google.com` lÃ  cÃ¡ch chi tiáº¿t vÃ  linh hoáº¡t Ä‘á»ƒ truy váº¥n DNS cho `www.google.com`.
				- Sá»­ dá»¥ng cÃ¡c tÃ¹y chá»n nhÆ° `+short`, `@server`, `+trace`, `-t MX/TXT` Ä‘á»ƒ cÃ³ káº¿t quáº£ phÃ¹ há»£p vá»›i nhu
				cáº§u (script, debug, kiá»ƒm tra propagation).
				- Kiá»ƒm tra ANSWER/AUTHORITY/ADDITIONAL Ä‘á»ƒ hiá»ƒu nguá»“n vÃ  tÃ­nh há»£p lá»‡ cá»§a dá»¯ liá»‡u DNS.

			----------------------------------------
			(END OF TEXT)

				
		- cmd:  root@web01:~# nslookup www.google.com
		
				Server:         127.0.0.53
				Address:        127.0.0.53#53

				Non-authoritative answer:
				Name:   www.google.com
				Address: 142.251.12.103
				Name:   www.google.com
				Address: 142.251.12.105
				Name:   www.google.com
				Address: 142.251.12.106
				Name:   www.google.com
				Address: 142.251.12.104
				Name:   www.google.com
				Address: 142.251.12.147
				Name:   www.google.com
				Address: 142.251.12.99
				Name:   www.google.com
				Address: 2404:6800:4003:c11::63
				Name:   www.google.com
				Address: 2404:6800:4003:c11::67
				Name:   www.google.com
				Address: 2404:6800:4003:c11::69
				Name:   www.google.com
				Address: 2404:6800:4003:c11::68
				
				TÃŠN
					nslookup www.google.com
					â€” truy váº¥n DNS cho tÃªn miá»n `www.google.com` báº±ng cÃ´ng cá»¥ `nslookup`

				TÃ“M Táº®T (SYNOPSIS)
					nslookup [option] [name | -] [server]
					nslookup www.google.com
					nslookup www.google.com 8.8.8.8

				MÃ” Táº¢
					`nslookup` lÃ  tiá»‡n Ã­ch dÃ²ng lá»‡nh dÃ¹ng Ä‘á»ƒ tra cá»©u báº£n ghi DNS (Domain Name System). Khi cháº¡y `nslookup www.google.com`,
					chÆ°Æ¡ng trÃ¬nh sáº½ gá»­i truy váº¥n DNS (máº·c Ä‘á»‹nh loáº¡i A) tá»›i DNS resolver Ä‘Æ°á»£c cáº¥u hÃ¬nh trÃªn há»‡ thá»‘ng (thÆ°á»ng trong `/etc/resolv.conf`)
					vÃ  in ra pháº£n há»“i chá»©a Ä‘á»‹a chá»‰ IP hoáº·c thÃ´ng tin lá»—i náº¿u cÃ³.

					`nslookup` cÃ³ hai cháº¿ Ä‘á»™ sá»­ dá»¥ng: interactive mode (chá»‰ cháº¡y `nslookup` khÃ´ng tham sá»‘ rá»“i gÃµ cÃ¢u lá»‡nh bÃªn trong)
					vÃ  non-interactive mode (gÃµ trá»±c tiáº¿p `nslookup <name>` Ä‘á»ƒ há»i 1 láº§n).

				THÃ€NH PHáº¦N CHÃNH TRONG Káº¾T QUáº¢
					- Server: Ä‘á»‹a chá»‰ mÃ¡y chá»§ DNS Ä‘Ã£ tráº£ lá»i truy váº¥n (resolver).
					- Address: IP cá»§a server tráº£ lá»i.
					- Non-authoritative answer / Authoritative answer: chá»‰ ra liá»‡u tráº£ lá»i Ä‘áº¿n tá»« cache resolver (non-authoritative)
					hay name server cÃ³ tháº©m quyá»n cho zone (authoritative).
					- Name: tÃªn host Ä‘Æ°á»£c truy váº¥n.
					- Address: Ä‘á»‹a chá»‰ IP (A record) tráº£ vá».
					- Náº¿u truy váº¥n khÃ¡c (MX, TXT, NS...), nslookup sáº½ hiá»ƒn thá»‹ cÃ¡c báº£n ghi tÆ°Æ¡ng á»©ng.

				CÃC CHáº¾ Äá»˜ VÃ€ TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG
					Non-interactive (1 láº§n):
						nslookup www.google.com
					Chá»‰ Ä‘á»‹nh server cá»¥ thá»ƒ:
						nslookup www.google.com 8.8.8.8
					Interactive mode:
						nslookup
						> server 8.8.8.8
						> set q=MX
						> example.com
						> exit
					Thay Ä‘á»•i loáº¡i báº£n ghi:
						set q=A        # máº·c Ä‘á»‹nh
						set q=AAAA     # IPv6
						set q=MX       # mail exchange
						set q=TXT
						set q=NS
					Má»™t sá»‘ tÃ¹y chá»n há»¯u Ã­ch:
						- set timeout=<seconds>   # thay Ä‘á»•i thá»i gian chá»
						- set retry=<n>           # sá»‘ láº§n thá»­ láº¡i
						- set all                 # hiá»ƒn thá»‹ nhiá»u thÃ´ng tin (verbose)

				SO SÃNH Vá»šI CÃC CÃ”NG Cá»¤ KHÃC
					- `dig` : cung cáº¥p output chi tiáº¿t, linh hoáº¡t hÆ¡n, phÃ¹ há»£p cho script vÃ  debug; `nslookup` output Ä‘Æ¡n giáº£n hÆ¡n
					vÃ  dá»… dÃ¹ng nhanh.
					- `host` : má»™t tiá»‡n Ã­ch nháº¹ Ä‘á»ƒ truy váº¥n DNS, output ngáº¯n gá»n.
					- `ping` : kiá»ƒm tra reachability (khÃ´ng pháº£i cÃ´ng cá»¥ DNS chuyÃªn sÃ¢u).

				HIá»‚U Káº¾T QUáº¢ MáºªU
					VÃ­ dá»¥ káº¿t quáº£ non-interactive:
						Server:         192.168.1.1
						Address:        192.168.1.1#53

						Non-authoritative answer:
						Name:   www.google.com
						Address: 142.250.72.196

					- `Server`/`Address` cho biáº¿t DNS resolver báº¡n Ä‘Ã£ há»i.
					- `Non-authoritative answer` nghÄ©a lÃ  resolver Ä‘Ã£ tráº£ lá»i tá»« cache hoáº·c tá»« má»™t upstream server, khÃ´ng pháº£i trá»±c tiáº¿p
					tá»« authoritative name server cho `google.com`.
					- CÃ³ thá»ƒ tháº¥y nhiá»u `Address` náº¿u tÃªn cÃ³ nhiá»u IP (round-robin / load balancing).

				KHI Gáº¶P Sá»° Cá» VÃ€ DEBUG
					- Náº¿u nháº­n NXDOMAIN: tÃªn miá»n khÃ´ng tá»“n táº¡i.
					- Náº¿u thá»i gian chá» (timeout) hoáº·c no response: kiá»ƒm tra /etc/resolv.conf, káº¿t ná»‘i tá»›i DNS server, firewall cháº·n UDP/53.
					- Náº¿u káº¿t quáº£ khÃ¡c nhau giá»¯a cÃ¡c server: kiá»ƒm tra propagation (thay Ä‘á»•i DNS cÃ³ thá»ƒ chÆ°a lan tá»a), hoáº·c cÃ³
					cáº¥u hÃ¬nh phÃ¢n giáº£i khÃ¡c nhau giá»¯a resolver.
					- DÃ¹ng `nslookup` vá»›i server cá»¥ thá»ƒ (vd 8.8.8.8, 1.1.1.1) Ä‘á»ƒ so sÃ¡nh káº¿t quáº£:
						nslookup www.google.com 8.8.8.8

				QUYá»€N VÃ€ CÃ€I Äáº¶T
					- `nslookup` thÆ°á»ng cÃ³ sáºµn trÃªn nhiá»u há»‡ (Windows, macOS, Linux) hoáº·c trong gÃ³i `dnsutils` / `bind-utils`.
					- KhÃ´ng cáº§n quyá»n root Ä‘á»ƒ cháº¡y.

				LÆ¯U Ã Vá»€ Báº¢O Máº¬T VÃ€ RIÃŠNG TÆ¯
					- Truy váº¥n DNS cÃ´ng khai thÃ´ng thÆ°á»ng khÃ´ng gÃ¢y rá»§i ro lá»›n, nhÆ°ng trÃ¡nh thá»±c hiá»‡n quÃ©t lá»›n hoáº·c quÃ©t host khÃ´ng Ä‘Æ°á»£c phÃ©p.
					- Káº¿t quáº£ DNS cÃ³ thá»ƒ tiáº¿t lá»™ thÃ´ng tin (vÃ­ dá»¥ record ná»™i bá»™ náº¿u lá»™); kiá»ƒm soÃ¡t server DNS Ä‘á»ƒ trÃ¡nh lá»™ dá»¯ liá»‡u nháº¡y cáº£m.

				TÃ“M Táº®T NGáº®N Gá»ŒN
					- `nslookup www.google.com` lÃ  cÃ¡ch nhanh Ä‘á»ƒ tra cá»©u IP (A record) cá»§a `www.google.com`.
					- DÃ¹ng `nslookup <name> <server>` Ä‘á»ƒ há»i má»™t DNS server cá»¥ thá»ƒ.
					- DÃ¹ng interactive mode Ä‘á»ƒ thay Ä‘á»•i loáº¡i truy váº¥n (MX/AAAA/TXT/NS) vÃ  cÃ¡c tÃ¹y chá»n timeout/retry.
					- Khi debug DNS, so sÃ¡nh káº¿t quáº£ tá»« nhiá»u DNS server (resolver vÃ  authoritative) Ä‘á»ƒ xÃ¡c Ä‘á»‹nh nguyÃªn nhÃ¢n khÃ¡c biá»‡t.

				VÃ Dá»¤ THá»°C TIá»„N (COPY & PASTE)
					# Truy váº¥n A record máº·c Ä‘á»‹nh
					nslookup www.google.com

					# Truy váº¥n A record dÃ¹ng Google Public DNS
					nslookup www.google.com 8.8.8.8

					# VÃ o interactive mode Ä‘á»ƒ truy váº¥n MX
					nslookup
					> set q=MX
					> example.com
					> exit

					# Kiá»ƒm tra reverse lookup
					nslookup 8.8.8.8

				----------------------------------------
				(END OF TEXT)

				
		- cmd:  root@web01:~# route -n
		
				Kernel IP routing table
				Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
				0.0.0.0         10.0.2.2        0.0.0.0         UG    100    0        0 enp0s3
				10.0.2.0        0.0.0.0         255.255.255.0   U     100    0        0 enp0s3
				10.0.2.2        0.0.0.0         255.255.255.255 UH    100    0        0 enp0s3
				192.168.56.0    0.0.0.0         255.255.255.0   U     0      0        0 enp0s8
				
				TÃŠN
					route -n
					â€” hiá»ƒn thá»‹ báº£ng Ä‘á»‹nh tuyáº¿n IP (routing table) cá»§a há»‡ thá»‘ng, sá»­ dá»¥ng dáº¡ng sá»‘ (khÃ´ng phÃ¢n giáº£i tÃªn)

				TÃ“M Táº®T (SYNOPSIS)
					route [-n]                # hiá»ƒn thá»‹ báº£ng Ä‘á»‹nh tuyáº¿n; -n: khÃ´ng phÃ¢n giáº£i tÃªn host/iface
					route [-n] [command] ...  # vÃ­ dá»¥ route add/del ...

				MÃ” Táº¢
					`route` lÃ  tiá»‡n Ã­ch truyá»n thá»‘ng trÃªn Unix/Linux Ä‘á»ƒ hiá»ƒn thá»‹ vÃ  thao tÃ¡c báº£ng Ä‘á»‹nh tuyáº¿n IPv4.  
					Khi cháº¡y `route -n`, lá»‡nh in ra báº£ng Ä‘á»‹nh tuyáº¿n hiá»‡n táº¡i nhÆ°ng **khÃ´ng phÃ¢n giáº£i tÃªn** (host, network, interface) sang tÃªn cÃ³ Ã½ nghÄ©a â€” chá»‰ hiá»ƒn thá»‹ Ä‘á»‹a chá»‰ IP vÃ  sá»‘, giÃºp hiá»ƒn thá»‹ nhanh hÆ¡n vÃ  trÃ¡nh delay do DNS.  
					LÆ°u Ã½: trÃªn cÃ¡c há»‡ Linux hiá»‡n Ä‘áº¡i, `route` thÆ°á»ng bá»‹ coi lÃ  lá»—i thá»i (deprecated); khuyáº¿n nghá»‹ dÃ¹ng `ip route show` tá»« iproute2 thay tháº¿. Tuy nhiÃªn `route -n` váº«n phá»• biáº¿n vÃ  há»¯u dá»¥ng trÃªn nhiá»u há»‡.

				Cáº¤U TRÃšC Báº¢NG (OUTPUT) MáºªU
					Kernel IP routing table
					Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
					0.0.0.0         192.168.1.1     0.0.0.0         UG    100    0        0 eth0
					192.168.1.0     0.0.0.0         255.255.255.0   U     0      0        0 eth0
					10.0.0.0        192.168.1.2     255.255.255.0   UG    0      0        0 eth1

				GIáº¢I THÃCH CÃC Cá»˜T
					- Destination : máº¡ng Ä‘Ã­ch hoáº·c host Ä‘Ã­ch (network prefix or host IP). `0.0.0.0` = default route.
					- Gateway     : Ä‘á»‹a chá»‰ gateway (next-hop) Ä‘á»ƒ tá»›i Destination; `0.0.0.0` nghÄ©a lÃ  trá»±c tiáº¿p (no gateway).
					- Genmask     : netmask cá»§a Destination (Ä‘á»‹nh nghÄ©a kÃ­ch thÆ°á»›c máº¡ng).
					- Flags       : cá» tráº¡ng thÃ¡i cá»§a route, cÃ¡c cá» thÆ°á»ng gáº·p:
						U  = route is up (kháº£ dá»¥ng)
						G  = route uses a gateway (next hop)
						H  = target is a host (single IP)
						R  = reinstate route for dynamic routing
						D  = dynamically installed by daemon or redirect
						M  = modified from routing daemon or redirect
					- Metric      : Ä‘á»™ Æ°u tiÃªn/chi phÃ­ route (sá»‘ cÃ ng tháº¥p Æ°u tiÃªn cÃ ng cao).
					- Ref         : sá»‘ tham chiáº¿u (Ã­t dÃ¹ng/trong má»™t sá»‘ há»‡ thá»‘ng luÃ´n 0).
					- Use         : sá»‘ lÆ°á»£ng gÃ³i Ä‘Ã£ dÃ¹ng route (counters; khÃ´ng luÃ´n chÃ­nh xÃ¡c).
					- Iface       : interface máº¡ng (vÃ­ dá»¥ eth0, enp3s0, wlan0) qua Ä‘Ã³ gÃ³i sáº½ Ä‘i.

				Ã NGHÄ¨A THá»°C TIá»„N
					- DÃ²ng cÃ³ Destination = 0.0.0.0 vÃ  Genmask = 0.0.0.0 lÃ  **default gateway** â€” route dÃ¹ng khi khÃ´ng cÃ³ route cá»¥ thá»ƒ nÃ o khá»›p.
					- Route cÃ³ Gateway = 0.0.0.0 lÃ  route trá»±c tiáº¿p (directly connected network); host náº±m trÃªn cÃ¹ng giao diá»‡n.
					- Náº¿u cÃ³ nhiá»u route khá»›p, kernel chá»n route cÃ³ mask dÃ i hÆ¡n (chi tiáº¿t nháº¥t), sau Ä‘Ã³ theo metric.

				TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG
					- -n           : khÃ´ng phÃ¢n giáº£i tÃªn (ngay cáº£ host vÃ  network) â€” nhanh vÃ  rÃµ rÃ ng.
					- route add    : thÃªm route táº¡m thá»i
						route add -net 192.168.2.0 netmask 255.255.255.0 gw 192.168.1.2
					- route del    : xÃ³a route
						route del -net 192.168.2.0 netmask 255.255.255.0 gw 192.168.1.2
					- route flush  : lÃ m rá»—ng báº£ng cache route (tÃ¹y há»‡ thá»‘ng)

				CÃC Lá»†NH TÆ¯Æ NG ÄÆ¯Æ NG / THAY THáº¾ (KHUYáº¾N NGHá»Š)
					- iproute2 (thay tháº¿ hiá»‡n Ä‘áº¡i):
						ip route show                # xem
						ip route add 192.168.2.0/24 via 192.168.1.2 dev eth1
						ip route del 192.168.2.0/24
					- netstat -rn                     # cÅ©ng hiá»ƒn thá»‹ báº£ng route mÃ  khÃ´ng phÃ¢n giáº£i tÃªn
					- route -n                        # lá»‡nh hiá»‡n táº¡i (truyá»n thá»‘ng)

				QUYá»€N
					- Xem báº£ng route: thÆ°á»ng khÃ´ng cáº§n root => route -n cÃ³ thá»ƒ cháº¡y bá»Ÿi user bÃ¬nh thÆ°á»ng.
					- ThÃªm/xÃ³a route: yÃªu cáº§u quyá»n root (sudo).

				Máº¸O VÃ€ KIá»‚M TRA THá»°C Táº¾
					1) Kiá»ƒm tra default gateway:
						route -n | grep '^0.0.0.0'
					2) Kiá»ƒm tra route tá»›i má»™t host cá»¥ thá»ƒ:
						ip route get 8.8.8.8
					   â†’ hiá»ƒn thá»‹ interface vÃ  gateway sáº½ Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ tá»›i 8.8.8.8
					3) Náº¿u khÃ´ng reach network ngoÃ i:
						- kiá»ƒm tra default route cÃ³ tá»“n táº¡i khÃ´ng
						- kiá»ƒm tra interface (ip addr show)
						- kiá»ƒm tra gateway cÃ³ ping Ä‘Æ°á»£c khÃ´ng
					4) Khi thÃªm route táº¡m thá»i (route add), route sáº½ máº¥t sau reboot trá»« khi thÃªm vÃ o cáº¥u hÃ¬nh máº¡ng (vd. /etc/network/interfaces, NetworkManager, systemd-networkd, hoáº·c file distro-specific).

				VÃ Dá»¤ THá»°C Táº¾ (COPY & PASTE)
					# Hiá»ƒn thá»‹ báº£ng route dÆ°á»›i dáº¡ng sá»‘ (khuyÃªn dÃ¹ng cho script)
					route -n

					# ThÃªm route tá»›i máº¡ng 192.168.2.0/24 qua gateway 192.168.1.2 (táº¡m thá»i)
					sudo route add -net 192.168.2.0 netmask 255.255.255.0 gw 192.168.1.2

					# XÃ³a route vá»«a thÃªm
					sudo route del -net 192.168.2.0 netmask 255.255.255.0 gw 192.168.1.2

					# DÃ¹ng iproute2 (khuyáº¿n nghá»‹)
					ip route show
					sudo ip route add 192.168.2.0/24 via 192.168.1.2 dev eth1
					sudo ip route del 192.168.2.0/24

				LÆ¯U Ã Vá»€ Báº¢O Máº¬T VÃ€ áº¢NH HÆ¯á»NG
					- ThÃªm/xÃ³a route cÃ³ thá»ƒ lÃ m máº¥t káº¿t ná»‘i tá»›i má»™t sá»‘ host hoáº·c má»Ÿ Ä‘Æ°á»ng Ä‘i tá»›i máº¡ng khÃ´ng mong muá»‘n â€” lÃ m cáº©n trá»ng trÃªn server production.
					- Sá»­ dá»¥ng sudo/privilege escalation chá»‰ khi hiá»ƒu rÃµ tÃ¡c Ä‘á»™ng.
					- Äá»ƒ thiáº¿t láº­p route lÃ¢u dÃ i, chá»‰nh file cáº¥u hÃ¬nh máº¡ng cá»§a distro (khÃ´ng chá»‰ dÃ¹ng route/ip táº¡m thá»i).

				TÃ“M Táº®T NGáº®N Gá»ŒN
					- `route -n` hiá»ƒn thá»‹ báº£ng Ä‘á»‹nh tuyáº¿n IPv4 dÆ°á»›i dáº¡ng sá»‘, nhanh vÃ  trá»±c quan.
					- CÃ¡c cá»™t chÃ­nh: Destination, Gateway, Genmask, Flags, Metric, Ref, Use, Iface.
					- DÃ¹ng `ip route` cho thao tÃ¡c hiá»‡n Ä‘áº¡i; `route` váº«n há»¯u dá»¥ng Ä‘á»ƒ xem nhanh trÃªn nhiá»u há»‡.
					- ThÃªm/xÃ³a route yÃªu cáº§u quyá»n root vÃ  thay Ä‘á»•i táº¡m thá»i náº¿u khÃ´ng lÆ°u cáº¥u hÃ¬nh.

				----------------------------------------
				(END OF TEXT)

				
		- cmd:  root@web01:~# route

				Kernel IP routing table
				Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
				default         _gateway        0.0.0.0         UG    100    0        0 enp0s3
				10.0.2.0        0.0.0.0         255.255.255.0   U     100    0        0 enp0s3
				_gateway        0.0.0.0         255.255.255.255 UH    100    0        0 enp0s3
				192.168.56.0    0.0.0.0         255.255.255.0   U     0      0        0 enp0s8
				
========================================
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH: route
========================================

Lá»†NH:
route

Káº¾T QUáº¢ HIá»‚N THá»Š:
----------------------------------------
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         _gateway        0.0.0.0         UG    100    0      0   enp0s3
10.0.2.0        0.0.0.0         255.255.255.0   U     100    0      0   enp0s3
_gateway        0.0.0.0         255.255.255.255 UH    100    0      0   enp0s3
192.168.56.0    0.0.0.0         255.255.255.0   U     0      0      0   enp0s8
----------------------------------------

========================================
GIáº¢I THÃCH Ã NGHÄ¨A Tá»ªNG Cá»˜T
========================================
Destination : Máº¡ng Ä‘Ã­ch hoáº·c Ä‘á»‹a chá»‰ Ä‘Ã­ch cáº§n Ä‘i Ä‘áº¿n.
Gateway     : Cá»•ng (router) mÃ  gÃ³i tin pháº£i Ä‘i qua. 0.0.0.0 = khÃ´ng cáº§n gateway (Ä‘i tháº³ng).
Genmask     : Subnet mask cá»§a máº¡ng Ä‘Ã­ch.
Flags       : CÃ¡c cá» cho biáº¿t tráº¡ng thÃ¡i cá»§a route:
              - U  : Route Ä‘ang hoáº¡t Ä‘á»™ng (Up).
              - G  : Route Ä‘i qua Gateway.
              - H  : Route Ä‘áº¿n má»™t Host cá»¥ thá»ƒ.
Metric      : Äá»™ Æ°u tiÃªn (route nhá» hÆ¡n = Æ°u tiÃªn hÆ¡n).
Iface       : TÃªn interface máº¡ng dÃ¹ng Ä‘á»ƒ gá»­i gÃ³i tin (enp0s3, enp0s8, ...).

========================================
GIáº¢I THÃCH Tá»ªNG DÃ’NG ROUTE TRONG Báº¢NG
========================================

1) default         _gateway        0.0.0.0         UG    100   enp0s3
------------------------------------------------------------
- ÄÃ¢y lÃ  "default route" (Ä‘Æ°á»ng Ä‘i máº·c Ä‘á»‹nh).
- Má»i gÃ³i tin khÃ´ng thuá»™c máº¡ng ná»™i bá»™ nÃ o khÃ¡c sáº½ gá»­i qua gateway tÃªn "_gateway".
- Flag "UG" nghÄ©a lÃ :
    U = route Ä‘ang hoáº¡t Ä‘á»™ng
    G = pháº£i Ä‘i qua gateway
- Interface sá»­ dá»¥ng: enp0s3.
=> GIáº¢I THÃCH: Khi mÃ¡y muá»‘n Ä‘i ra Internet hoáº·c máº¡ng khÃ¡c, nÃ³ gá»­i gÃ³i tin Ä‘áº¿n _gateway.

2) 10.0.2.0        0.0.0.0         255.255.255.0   U     100   enp0s3
------------------------------------------------------------
- ÄÃ¢y lÃ  route trá»±c tiáº¿p Ä‘áº¿n máº¡ng ná»™i bá»™ 10.0.2.0/24.
- Gateway = 0.0.0.0 => khÃ´ng cáº§n router, Ä‘i tháº³ng qua interface.
- Flag "U" = route hoáº¡t Ä‘á»™ng.
=> GIáº¢I THÃCH: Má»i gÃ³i tin Ä‘áº¿n 10.0.2.x sáº½ Ä‘i trá»±c tiáº¿p qua enp0s3.

3) _gateway        0.0.0.0         255.255.255.255 UH    100   enp0s3
------------------------------------------------------------
- ÄÃ¢y lÃ  route Ä‘áº¿n Ä‘Ãºng má»™t host cá»¥ thá»ƒ: _gateway.
- Subnet mask 255.255.255.255 = /32 => chá»‰ Ã¡p dá»¥ng cho 1 IP.
- Flag:
   U = Ä‘ang hoáº¡t Ä‘á»™ng
   H = route Ä‘áº¿n má»™t host cá»¥ thá»ƒ
=> GIáº¢I THÃCH: ÄÃ¢y lÃ  route ná»™i bá»™ giÃºp há»‡ thá»‘ng giao tiáº¿p trá»±c tiáº¿p vá»›i gateway trÃªn enp0s3.

4) 192.168.56.0    0.0.0.0         255.255.255.0   U     0     enp0s8
------------------------------------------------------------
- ÄÃ¢y lÃ  máº¡ng ná»™i bá»™ 192.168.56.0/24 (thÆ°á»ng lÃ  Host-Only cá»§a VirtualBox).
- KhÃ´ng cáº§n gateway.
- Flag U = hoáº¡t Ä‘á»™ng.
- Interface: enp0s8.
=> GIáº¢I THÃCH: Má»i gÃ³i tin Ä‘áº¿n 192.168.56.x sáº½ Ä‘i ra qua enp0s8.

========================================
Tá»”NG Káº¾T HOáº T Äá»˜NG Äá»ŠNH TUYáº¾N
========================================
- enp0s3 dÃ¹ng cho máº¡ng NAT 10.0.2.0 vÃ  lÃ m Ä‘Æ°á»ng ra Internet qua _gateway.
- enp0s8 dÃ¹ng cho máº¡ng host-only 192.168.56.0.
- CÃ¡c route host (_gateway /32) giÃºp há»‡ thá»‘ng biáº¿t chÃ­nh xÃ¡c gateway á»Ÿ Ä‘Ã¢u.
- Default route Ä‘áº£m báº£o mÃ¡y cÃ³ thá»ƒ Ä‘i Internet hoáº·c cÃ¡c máº¡ng khÃ¡c khÃ´ng náº±m trong báº£ng.

========================================
Ã NGHÄ¨A THá»°C Táº¾ TRONG áº¢O HÃ“A (VirtualBox)
========================================
- 10.0.2.0/24 (enp0s3): NAT â†’ DÃ¹ng Ä‘á»ƒ ra Internet.
- 192.168.56.0/24 (enp0s8): Host-Only â†’ DÃ¹ng Ä‘á»ƒ mÃ¡y host truy cáº­p VM.
- default route Ä‘i qua _gateway â†’ Cho phÃ©p VM truy cáº­p máº¡ng ngoÃ i.

========================================
Káº¾T LUáº¬N
========================================
Báº£ng route nÃ y thá»ƒ hiá»‡n:
- MÃ¡y cÃ³ 2 máº¡ng hoáº¡t Ä‘á»™ng: NAT + Host-Only.
- Giao tiáº¿p Internet qua NAT.
- Giao tiáº¿p ná»™i bá»™ (host-only) qua enp0s8.
- Má»i route Ä‘Æ°á»£c Ä‘á»‹nh tuyáº¿n há»£p lÃ½ theo mÃ´ hÃ¬nh VM.
========================================

				
		- cmd:  root@web01:~# arp
		
				Address                  HWtype  HWaddress           Flags Mask            Iface
				_gateway                 ether   52:54:00:12:35:02   C                     enp0s3
				10.0.2.3                 ether   52:54:00:12:35:03   C                     enp0s3
				192.168.56.42                    (incomplete)                              enp0s8
				
Giáº£i thÃ­ch chi tiáº¿t (plain text) - Báº¢N DÃ™NG Äá»‚ COPY VÃ€O .txt

DÆ°á»›i Ä‘Ã¢y lÃ  báº£n giáº£i thÃ­ch chi tiáº¿t cho káº¿t quáº£ lá»‡nh `arp` mÃ  báº¡n Ä‘Æ°a ra. ToÃ n bá»™ ná»™i dung náº±m trong khá»‘i plain-text Ä‘á»ƒ báº¡n cÃ³ thá»ƒ sao chÃ©p trá»±c tiáº¿p vÃ o file .txt.

--- START OF TEXT (COPY FROM HERE) ---

ARP table output (example):

Address                  HWtype  HWaddress           Flags Mask            Iface
_gateway                 ether   52:54:00:12:35:02   C                     enp0s3
10.0.2.3                 ether   52:54:00:12:35:03   C                     enp0s3
192.168.56.42                    (incomplete)                              enp0s8

Giáº£i thÃ­ch cá»™t â€” mÃ´ táº£ ngáº¯n gá»n, dá»… hiá»ƒu:

1. Address

   * ÄÃ¢y lÃ  Ä‘á»‹a chá»‰ IP hoáº·c tÃªn host mÃ  ARP table biáº¿t Ä‘áº¿n.
   * VÃ­ dá»¥: "_gateway" thÆ°á»ng lÃ  tÃªn host cá»§a gateway máº·c Ä‘á»‹nh; "10.0.2.3" lÃ  má»™t Ä‘á»‹a chá»‰ IP cá»¥ thá»ƒ; "192.168.56.42" tÆ°Æ¡ng tá»±.

2. HWtype

   * Loáº¡i Ä‘á»‹a chá»‰ pháº§n cá»©ng (Hardware type) Ä‘Æ°á»£c dÃ¹ng. Vá»›i máº¡ng Ethernet thÆ°á»ng tháº¥y "ether".
   * Náº¿u lÃ  cÃ¡c giao thá»©c khÃ¡c cÃ³ thá»ƒ cÃ³ giÃ¡ trá»‹ khÃ¡c, nhÆ°ng trong mÃ´i trÆ°á»ng LAN thÃ´ng dá»¥ng lÃ  "ether".

3. HWaddress

   * Äá»‹a chá»‰ pháº§n cá»©ng (MAC address) tÆ°Æ¡ng á»©ng vá»›i Ä‘á»‹a chá»‰ IP á»Ÿ cá»™t Address.
   * Dáº¡ng chuáº©n: 6 Ä‘Ã´i hex, vÃ­ dá»¥ 52:54:00:12:35:02.
   * Náº¿u cá»™t nÃ y rá»—ng hoáº·c chá»©a "(incomplete)", tá»©c lÃ  ARP chÆ°a biáº¿t MAC cho IP Ä‘Ã³ (xem pháº§n flags).

4. Flags

   * MÃ´ táº£ tráº¡ng thÃ¡i cá»§a má»¥c trong ARP table. CÃ¡c kÃ½ hiá»‡u phá»• biáº¿n:

     * C  : Complete â€” báº£n ghi Ä‘Ã£ cÃ³ Ä‘á»‹a chá»‰ MAC há»£p lá»‡ (Ä‘Æ°á»£c cache).
     * M  : Permanent (manually added) â€” báº£n ghi Ä‘Æ°á»£c thÃªm thá»§ cÃ´ng vÃ  khÃ´ng háº¿t háº¡n.
     * P  : Published (proxy ARP) â€” mÃ¡y tÃ­nh Ä‘ang tráº£ lá»i ARP thay cho host khÃ¡c.
     * (incomplete): Báº£n ghi chÆ°a hoÃ n thÃ nh â€” há»‡ thá»‘ng Ä‘ang cá»‘ phÃ¢n giáº£i MAC cho IP Ä‘Ã³ (ARP request Ä‘Ã£ Ä‘Æ°á»£c gá»­i nhÆ°ng chÆ°a nháº­n reply).
   * Trong káº¿t quáº£ cá»§a báº¡n, cÃ¡c hÃ ng Ä‘áº§u cÃ³ flag "C" (complete). HÃ ng cuá»‘i lÃ  "(incomplete)".

5. Mask

   * ThÃ´ng thÆ°á»ng Ä‘á»ƒ trá»‘ng trong Ä‘áº§u ra `arp` thÃ´ng dá»¥ng; má»™t sá»‘ há»‡ thá»‘ng cÃ³ thá»ƒ hiá»ƒn thá»‹ thÃ´ng tin netmask, nhÆ°ng thÆ°á»ng khÃ´ng dÃ¹ng.
   * á» káº¿t quáº£ báº¡n Ä‘Æ°a ra, cá»™t Mask khÃ´ng cÃ³ giÃ¡ trá»‹ rÃµ rÃ ng.

6. Iface

   * TÃªn giao diá»‡n máº¡ng (network interface) mÃ  ARP entry Ä‘Æ°á»£c gÃ¡n tá»›i, vÃ­ dá»¥ enp0s3, enp0s8.
   * Quan trá»ng khi mÃ¡y cÃ³ nhiá»u interface; má»—i entry liÃªn káº¿t IP<->MAC trÃªn interface cá»¥ thá»ƒ.

Giáº£i thÃ­ch tá»«ng dÃ²ng trong vÃ­ dá»¥ cá»§a báº¡n:

A) _gateway                 ether   52:54:00:12:35:02   C                     enp0s3

* Address: _gateway â€” thÆ°á»ng lÃ  tÃªn mÃ¡y/gateway máº·c Ä‘á»‹nh (cÃ³ thá»ƒ lÃ  alias Ä‘Æ°á»£c thiáº¿t láº­p trong /etc/hosts hoáº·c tÃªn máº¡ng ná»™i bá»™).
* HWtype: ether â€” giao diá»‡n Ethernet.
* HWaddress: 52:54:00:12:35:02 â€” Ä‘á»‹a chá»‰ MAC cá»§a gateway.
* Flags: C â€” báº£n ghi hoÃ n chá»‰nh, nghÄ©a lÃ  mÃ¡y Ä‘Ã£ biáº¿t MAC vÃ  sáº½ dÃ¹ng Ä‘á»ƒ gá»­i frame Ethernet.
* Iface: enp0s3 â€” gateway Ä‘Æ°á»£c truy cáº­p qua giao diá»‡n enp0s3.
* Ã nghÄ©a: GÃ³i IP gá»­i tá»›i gateway sáº½ Ä‘Æ°á»£c Ä‘Ã³ng gÃ³i á»Ÿ lá»›p liÃªn káº¿t dá»¯ liá»‡u vá»›i Ä‘á»‹a chá»‰ MAC trÃªn dÃ²ng nÃ y.

B) 10.0.2.3                 ether   52:54:00:12:35:03   C                     enp0s3

* Address: 10.0.2.3 â€” má»™t host trong cÃ¹ng máº¡ng vá»›i mÃ¡y, qua enp0s3.
* HWaddress: 52:54:00:12:35:03 â€” MAC cá»§a host 10.0.2.3.
* Flags: C â€” ARP Ä‘Ã£ biáº¿t MAC.
* Iface: enp0s3 â€” giao diá»‡n váº­t lÃ½/logical Ä‘á»ƒ tiáº¿p cáº­n host nÃ y.

C) 192.168.56.42                    (incomplete)                              enp0s8

* Address: 192.168.56.42 â€” IP Ä‘Ã­ch.
* HWtype: (khÃ´ng hiá»ƒn thá»‹ trong Ä‘áº§u ra báº¡n dÃ¡n; nhiá»u cÃ´ng cá»¥ váº«n hiá»ƒu lÃ  ether náº¿u lÃ  máº¡ng LAN).
* HWaddress: bá»‹ thiáº¿u vÃ  tráº¡ng thÃ¡i cho biáº¿t "(incomplete)".
* Flags: (incomplete) â€” nghÄ©a lÃ  há»‡ thá»‘ng Ä‘Ã£ táº¡o má»¥c nÃ y khi cá»‘ gáº¯ng gá»­i gÃ³i tá»›i 192.168.56.42 nhÆ°ng chÆ°a nháº­n Ä‘Æ°á»£c pháº£n há»“i ARP (ARP reply) Ä‘á»ƒ biáº¿t MAC.
* Iface: enp0s8 â€” ná»— lá»±c gá»­i gÃ³i Ä‘Æ°á»£c thá»±c hiá»‡n qua giao diá»‡n enp0s8.
* NguyÃªn nhÃ¢n phá»• biáº¿n cá»§a "incomplete":

  * Host Ä‘Ã­ch táº¯t hoáº·c khÃ´ng káº¿t ná»‘i máº¡ng.
  * KhÃ´ng cÃ³ host á»Ÿ IP Ä‘Ã³ (IP chÆ°a dÃ¹ng).
  * Bá»‹ firewall cháº·n ARP reply (hiáº¿m nhÆ°ng cÃ³ thá»ƒ).
  * Váº¥n Ä‘á» layer 2 (cÃ¡p, switch port, VLAN mismatch).
* Há»‡ quáº£: Há»‡ thá»‘ng sáº½ tiáº¿p tá»¥c thá»­ ARP (gá»­i ARP request) trong má»™t khoáº£ng thá»i gian nháº¥t Ä‘á»‹nh; náº¿u khÃ´ng nháº­n Ä‘Æ°á»£c reply, báº£n ghi sáº½ bá»‹ loáº¡i bá» sau time-out.

Má»™t sá»‘ lá»‡nh há»¯u Ã­ch Ä‘á»ƒ kiá»ƒm tra thÃªm (cháº¡y trÃªn mÃ¡y Linux):

* arp -n
  -> Hiá»ƒn thá»‹ báº£ng ARP mÃ  khÃ´ng resolve tÃªn (chá»‰ IP). ThÆ°á»ng hay dÃ¹ng Ä‘á»ƒ copy/paste.

* ip neigh show
  -> DÃ¹ng `iproute2` Ä‘á»ƒ hiá»ƒn thá»‹ neighbour table (thay tháº¿ `arp`). ThÃ´ng tin thÆ°á»ng tÆ°Æ¡ng tá»±, vÃ­ dá»¥: "192.168.56.42 dev enp0s8 lladdr 52:54:... REACHABLE" hoáº·c "FAILED".

* ping -c 3 192.168.56.42
  -> DÃ¹ng Ä‘á»ƒ kÃ­ch hoáº¡t ARP (gá»­i traffic) vÃ  xem cÃ³ reply ICMP hay khÃ´ng; náº¿u khÃ´ng cÃ³ reply nhÆ°ng ARP váº«n incomplete thÃ¬ chá»©ng tá» host khÃ´ng tráº£ lá»i ARP.

* sudo tcpdump -n -i enp0s8 arp
  -> Báº¯t gÃ³i ARP trÃªn giao diá»‡n enp0s8 Ä‘á»ƒ quan sÃ¡t ARP request/reply trá»±c tiáº¿p; ráº¥t há»¯u Ã­ch Ä‘á»ƒ debug.

Gá»£i Ã½ xá»­ lÃ½ khi gáº·p dÃ²ng (incomplete):

1. Kiá»ƒm tra cá»•ng máº¡ng, cÃ¡p, tráº¡ng thÃ¡i interface: `ip link show enp0s8` hoáº·c `cat /sys/class/net/enp0s8/operstate`.
2. Kiá»ƒm tra cáº¥u hÃ¬nh IP/Netmask/Gateway trÃªn enp0s8: `ip addr show enp0s8`.
3. Kiá»ƒm tra xem cÃ³ host cÃ¹ng máº¡ng á»Ÿ IP Ä‘Ã³: `arping -c 3 192.168.56.42 -I enp0s8`.
4. DÃ¹ng tcpdump nhÆ° trÃªn Ä‘á»ƒ xem ARP request cÃ³ Ä‘Æ°á»£c gá»­i Ä‘i khÃ´ng vÃ  cÃ³ reply vá» khÃ´ng.
5. Náº¿u cáº§n, xÃ³a má»¥c ARP Ä‘á»ƒ há»‡ thá»‘ng thá»­ láº¡i: `sudo ip neigh del 192.168.56.42 dev enp0s8` (sau Ä‘Ã³ ping láº¡i Ä‘á»ƒ tÃ¡i táº¡o ARP request).

--- END OF TEXT (COPY UNTIL HERE) ---

Ghi chÃº: Ná»™i dung trÃªn trÃ¬nh bÃ y á»Ÿ dáº¡ng plain text (khÃ´ng cÃ³ Ä‘á»‹nh dáº¡ng Ä‘áº·c biá»‡t) Ä‘á»ƒ báº¡n dÃ¡n nguyÃªn vÃ o file .txt.

				
		- cmd: mtr
		
MTR â€” My Traceroute (Giáº£i thÃ­ch chi tiáº¿t)

Má»¥c tiÃªu:
Giáº£i thÃ­ch chi tiáº¿t cÃ¡ch hoáº¡t Ä‘á»™ng, cÃ¡c tÃ¹y chá»n thÃ´ng dá»¥ng, cÃ¡ch Ä‘á»c káº¿t quáº£ vÃ  cÃ¡ch sá»­ dá»¥ng thá»±c táº¿ cá»§a lá»‡nh `mtr`.

LÆ¯U Ã: TÃ¹y biáº¿n giá»¯a cÃ¡c báº£n phÃ¢n phá»‘i/phiÃªn báº£n mtr cÃ³ thá»ƒ khÃ¡c nhau. LuÃ´n kiá»ƒm tra `man mtr` hoáº·c `mtr --help` trÃªn há»‡ thá»‘ng cá»§a báº¡n Ä‘á»ƒ biáº¿t danh sÃ¡ch tÃ¹y chá»n chÃ­nh xÃ¡c.

1. MTR lÃ  gÃ¬?

* MTR (My Traceroute, trÆ°á»›c kia gá»i Matt's Traceroute) káº¿t há»£p chá»©c nÄƒng cá»§a `traceroute` vÃ  `ping`.
* NÃ³ gá»­i cÃ¡c gÃ³i probe Ä‘áº¿n Ä‘Ã­ch vÃ  liÃªn tá»¥c cáº­p nháº­t thÃ´ng sá»‘: Ä‘á»™ trá»… (latency) vÃ  tá»· lá»‡ máº¥t gÃ³i (packet loss) theo tá»«ng hop (router) trÃªn Ä‘Æ°á»ng Ä‘i.
* Giao diá»‡n cÃ³ thá»ƒ lÃ  cháº¿ Ä‘á»™ tÆ°Æ¡ng tÃ¡c (ncurses) khi cháº¡y Ä‘Æ¡n thuáº§n `mtr host`, hoáº·c cháº¿ Ä‘á»™ bÃ¡o cÃ¡o (report) Ä‘á»ƒ xuáº¥t káº¿t quáº£ tÃ³m táº¯t vÃ  thoÃ¡t.

2. CÃ i Ä‘áº·t nhanh (vÃ­ dá»¥):

* Debian/Ubuntu:    sudo apt-get install mtr    (cÃ³ phiÃªn báº£n `mtr-tiny` nháº¹ hÆ¡n)
* CentOS/RHEL/Fedora: sudo yum install mtr   (hoáº·c dnf)
* Arch:              sudo pacman -S mtr
* macOS (Homebrew):  brew install mtr

3. CÃº phÃ¡p cÆ¡ báº£n:
   mtr [TÃ™Y_CHá»ŒN] <HOST_OR_IP>

VÃ­ dá»¥:
mtr google.com
sudo mtr -r -c 100 -w -n 8.8.8.8

4. CÃ¡c tÃ¹y chá»n thÆ°á»ng dÃ¹ng (tÃ³m táº¯t):

* -h, --help        : Hiá»ƒn thá»‹ trá»£ giÃºp
* -v, --version     : Hiá»ƒn thá»‹ phiÃªn báº£n
* -4                : DÃ¹ng IPv4 báº¯t buá»™c
* -6                : DÃ¹ng IPv6 báº¯t buá»™c
* -n                : KhÃ´ng phÃ¢n giáº£i tÃªn (hiá»ƒn thá»‹ sá»‘ IP)
* -r, --report      : Cháº¿ Ä‘á»™ bÃ¡o cÃ¡o (report mode) â€” cháº¡y theo sá»‘ chu ká»³ rá»“i in káº¿t quáº£ vÃ  thoÃ¡t
* -c N, --report-cycles N : Sá»‘ chu ká»³ gá»­i probe khi á»Ÿ cháº¿ Ä‘á»™ report (máº·c Ä‘á»‹nh khÃ¡c nhau theo phiÃªn báº£n)
* -w, --report-wide : KhÃ´ng cáº¯t hostname trong cháº¿ Ä‘á»™ bÃ¡o cÃ¡o (in full)
* -u                : Sá»­ dá»¥ng UDP probes (má»™t sá»‘ phiÃªn báº£n)
* -T                : Sá»­ dá»¥ng TCP SYN probes (má»™t sá»‘ phiÃªn báº£n há»— trá»£: há»¯u Ã­ch náº¿u ICMP bá»‹ lá»c)
* -I                : Sá»­ dá»¥ng ICMP ECHO (thay vÃ¬ UDP)
* -s SIZE           : KÃ­ch thÆ°á»›c payload (bytes)
* -i SECS           : Khoáº£ng cÃ¡ch giá»¯a cÃ¡c probe (giÃ¢y)
* -p PORT           : Cá»•ng dÃ¹ng cho probe TCP/UDP

Ghi chÃº: Má»™t sá»‘ tÃ¹y chá»n (vÃ­ dá»¥ -T, -u, -I) cÃ³ thá»ƒ khÃ¡c nhau tÃ¹y phiÃªn báº£n mtr. LuÃ´n xem `man mtr` trÃªn há»‡ thá»‘ng cá»§a báº¡n.

5. Cháº¡y á»Ÿ cháº¿ Ä‘á»™ tÆ°Æ¡ng tÃ¡c (thÃ´ng dá»¥ng):

* GÃµ `mtr <host>` sáº½ má»Ÿ giao diá»‡n ncurses, tá»± Ä‘á»™ng gá»­i probe liÃªn tá»¥c vÃ  cáº­p nháº­t mÃ n hÃ¬nh tá»«ng giÃ¢y.
* Trong giao diá»‡n: nháº¥n `q` Ä‘á»ƒ thoÃ¡t; nháº¥n `?` hoáº·c `h` Ä‘á»ƒ xem phÃ­m táº¯t (tÃ¹y phiÃªn báº£n).

6. Cháº¡y á»Ÿ cháº¿ Ä‘á»™ bÃ¡o cÃ¡o (dá»… lÆ°u káº¿t quáº£):

* VÃ­ dá»¥: `sudo mtr -r -c 100 -w google.com`

  * `-r` vÃ o cháº¿ Ä‘á»™ report, `-c 100` gá»­i 100 probe cho má»—i hop rá»“i in thá»‘ng kÃª vÃ  thoÃ¡t.
  * ThÆ°á»ng cháº¡y dÆ°á»›i `sudo` giÃºp dÃ¹ng ICMP raw socket (khÃ´ng pháº£i lÃºc nÃ o cÅ©ng báº¯t buá»™c).

7. VÃ­ dá»¥ thá»±c táº¿ vÃ  cÃ¡ch lÆ°u káº¿t quáº£:

* Cháº¡y nhanh, tÆ°Æ¡ng tÃ¡c:
  mtr example.com

* LÆ°u bÃ¡o cÃ¡o 50 chu ká»³, khÃ´ng phÃ¢n giáº£i tÃªn (tiá»‡n cho parsing):
  sudo mtr -r -c 50 -n example.com > mtr_report.txt

* BÃ¡o cÃ¡o rá»™ng Ä‘á»ƒ khÃ´ng cáº¯t hostname:
  sudo mtr -r -c 200 -w example.com > mtr_full_report.txt

8. Máº«u káº¿t quáº£ (cháº¿ Ä‘á»™ bÃ¡o cÃ¡o) vÃ  giáº£i thÃ­ch cÃ¡c cá»™t (má»™t vÃ­ dá»¥ Ä‘iá»ƒn hÃ¬nh):
   Start: Fri Dec  4 17:00:00 2025
   HOST: myhost                     Loss%   Snt   Last   Avg  Best  Wrst StDev
   1.|-- 192.168.1.1               0.0%    50    0.5   0.6   0.3   2.1   0.4
   2.|-- 10.10.0.1                  0.0%    50    1.1   1.0   0.9   1.8   0.2
   3.|-- 203.0.113.5               10.0%    50   10.2  12.5   8.9  30.1   5.2
   4.|-- 198.51.100.7              10.0%    50   11.0  12.0   9.0  25.0   4.6
   5.|-- 93.184.216.34             10.0%    50   12.3  12.3  12.1  12.8   0.2

Giáº£i thÃ­ch cá»™t chÃ­nh:

* Loss% : Tá»· lá»‡ pháº§n trÄƒm probe khÃ´ng nháº­n Ä‘Æ°á»£c pháº£n há»“i tá»« hop Ä‘Ã³ (theo sá»‘ probe gá»­i tá»›i hop Ä‘Ã³).

  * LÆ°u Ã½: router/hop cÃ³ thá»ƒ giá»›i háº¡n hoáº·c Æ°u tiÃªn ICMP; packet loss Ä‘Æ°á»£c hiá»ƒn thá»‹ á»Ÿ hop trÆ°á»›c Ä‘Ã³ cÃ³ thá»ƒ khÃ´ng luÃ´n cÃ³ nghÄ©a lÃ  máº¥t gÃ³i thá»±c sá»± cho traffic TCP/UDP.
* Snt   : Sá»‘ probe Ä‘Ã£ gá»­i tá»›i hop (trong vÃ­ dá»¥ -c 50 -> Snt = 50).
* Last  : Thá»i gian pháº£n há»“i (RTT) cá»§a probe cuá»‘i cÃ¹ng tá»›i hop (ms).
* Avg   : Thá»i gian pháº£n há»“i trung bÃ¬nh (ms).
* Best  : Thá»i gian pháº£n há»“i nhanh nháº¥t (ms) trong máº«u.
* Wrst  : Thá»i gian pháº£n há»“i lá»›n nháº¥t (ms) trong máº«u.
* StDev : Äá»™ lá»‡ch chuáº©n cá»§a RTT (ms) â€” thá»ƒ hiá»‡n Ä‘á»™ biáº¿n Ä‘á»™ng.
* Host  : TÃªn host hoáº·c IP cá»§a hop. (Náº¿u dÃ¹ng `-n` sáº½ chá»‰ hiá»ƒn thá»‹ IP.)

9. CÃ¡ch Ä‘á»c vÃ  diá»…n giáº£i káº¿t quáº£ â€” máº¹o quan trá»ng:

* MTR cho biáº¿t cáº£ latency vÃ  packet loss hop-by-hop. Náº¿u báº¡n tháº¥y:

  * Packet loss xuáº¥t hiá»‡n á»Ÿ má»™t hop nhÆ°ng khÃ´ng xuáº¥t hiá»‡n (hoáº·c giáº£m) á»Ÿ cÃ¡c hop phÃ­a sau -> thÆ°á»ng lÃ  do router Ä‘Ã³ Æ°u tiÃªn/giá»›i háº¡n ICMP responses, khÃ´ng háº³n lÃ  máº¥t gÃ³i tháº­t cho dá»¯ liá»‡u.
  * Packet loss tÄƒng vÃ  duy trÃ¬ á»Ÿ cÃ¡c hop tiáº¿p theo -> kháº£ nÄƒng cao lÃ  máº¥t gÃ³i tháº­t trÃªn Ä‘Æ°á»ng tá»›i Ä‘Ã­ch.
* Quan tÃ¢m Ä‘áº·c biá»‡t vÃ o nhá»¯ng hop cÃ³:

  * Loss% lá»›n (vÃ­ dá»¥ > 1â€“2% liÃªn tá»¥c) vÃ  Ä‘áº·c biá»‡t lÃ  khi loss áº£nh hÆ°á»Ÿng tá»›i hop sau.
  * Avg/Rmst cao hoáº·c StDev lá»›n (biáº¿n Ä‘á»™ng lá»›n) â€” dáº¥u hiá»‡u jitter hoáº·c Ä‘Æ°á»ng truyá»n khÃ´ng á»•n Ä‘á»‹nh.
* Kiá»ƒm tra nhiá»u láº§n, vá»›i `-c` Ä‘á»§ lá»›n (vÃ­ dá»¥ 50â€“200) Ä‘á»ƒ cÃ³ dá»¯ liá»‡u thá»‘ng kÃª á»•n Ä‘á»‹nh.
* Náº¿u ICMP bá»‹ lá»c, thá»­ dÃ¹ng TCP probes (`-T`) tá»›i cá»•ng dá»‹ch vá»¥ (vÃ­ dá»¥ port 80/443) Ä‘á»ƒ kiá»ƒm tra Ä‘Æ°á»ng Ä‘i thá»±c táº¿ cho traffic TCP.

10. CÃ¡c lá»—i thÆ°á»ng gáº·p vÃ  cÃ¡ch xá»­ lÃ½:

* Káº¿t quáº£ hiá»ƒn thá»‹ `* * *` cho má»™t hop: nghÄ©a lÃ  hop Ä‘Ã³ khÃ´ng tráº£ lá»i probe (ICMP TTL expired, hoáº·c bá»‹ firewall).
* Loss% 100% á»Ÿ má»™t hop nhÆ°ng sau Ä‘Ã³ váº«n tháº¥y cÃ¡c hop tiáº¿p theo cÃ³ káº¿t quáº£: nhiá»u router khÃ´ng tráº£ lá»i nhÆ°ng váº«n forward gÃ³i; khÃ´ng nháº¥t thiáº¿t lÃ  váº¥n Ä‘á» tuyáº¿n Ä‘Æ°á»ng.
* MTR cáº§n quyá»n: trÃªn má»™t sá»‘ há»‡ thá»‘ng, gá»­i ICMP raw socket yÃªu cáº§u quyá»n root; dÃ¹ng `sudo` náº¿u cáº§n.
* MTR táº¡o lÆ°u lÆ°á»£ng probe: khi cháº¡y vá»›i `-c` lá»›n hoáº·c cháº¡y liÃªn tá»¥c, lÆ°u lÆ°á»£ng cÃ³ thá»ƒ áº£nh hÆ°á»Ÿng máº¡ng â€” Ä‘á»«ng láº¡m dá»¥ng trÃªn máº¡ng sáº£n xuáº¥t.

11. Sá»­ dá»¥ng khi bÃ¡o cÃ¡o cho ISP/nhÃ  cung cáº¥p:

* Cháº¡y `sudo mtr -r -c 200 -w <target>` Ä‘á»ƒ thu Ä‘á»§ máº«u, lÆ°u káº¿t quáº£ ra file vÃ  gá»­i cho nhÃ  cung cáº¥p.
* KÃ¨m theo: thá»i gian báº¯t Ä‘áº§u káº¿t quáº£ (Start line), IP cá»§a mÃ¡y báº¡n, vÃ  mÃ´ táº£ triá»‡u chá»©ng (vÃ­ dá»¥ lÃºc 22:00 máº¥t gÃ³i 30%)

12. Káº¿t há»£p vá»›i cÃ´ng cá»¥ khÃ¡c:

* traceroute: Ä‘á»‘i chiáº¿u káº¿t quáº£ khi cáº§n.
* ping: kiá»ƒm tra nhanh Ä‘á»™ trá»…/loss tá»•ng quÃ¡t.
* tcptraceroute / hping: khi cáº§n probe báº±ng TCP/UDP cÃ³ cá»•ng cá»¥ thá»ƒ.
* wireshark/tcpdump: báº¯t gÃ³i náº¿u cáº§n phÃ¢n tÃ­ch sÃ¢u.

13. TÃ³m táº¯t nhanh Ä‘á»ƒ copy vÃ o .txt:

* DÃ¹ng `mtr` Ä‘á»ƒ phÃ¡t hiá»‡n nÆ¡i xáº£y ra máº¥t gÃ³i hoáº·c Ä‘á»™ trá»… cao theo tá»«ng hop.
* Cháº¡y `sudo mtr -r -c 100 -w -n <host>` Ä‘á»ƒ táº¡o bÃ¡o cÃ¡o tÃ³m táº¯t (khuyÃªn dÃ¹ng cho ghi nháº­n, gá»­i ISP).
* LuÃ´n kiá»ƒm tra kháº£ nÄƒng router giá»›i háº¡n ICMP trÆ°á»›c khi káº¿t luáº­n cÃ³ máº¥t gÃ³i tháº­t.

---

TÃ´i Ä‘Ã£ cá»‘ gáº¯ng tÃ³m táº¯t Ä‘á»§ chi tiáº¿t Ä‘á»ƒ báº¡n cÃ³ thá»ƒ dÃ¹ng vÃ  giáº£i thÃ­ch káº¿t quáº£ `mtr`. Náº¿u báº¡n muá»‘n tÃ´i táº¡o má»™t vÃ­ dá»¥ káº¿t quáº£ thá»±c táº¿ tá»« má»™t host (vá»›i chÃº thÃ­ch dÃ²ngâ€‘dÃ²ng) hoáº·c muá»‘n má»™t báº£n .txt tá»‘i giáº£n sáºµn sÃ ng Ä‘á»ƒ in/gá»­i, tÃ´i cÃ³ thá»ƒ thÃªm vÃ o tÃ i liá»‡u nÃ y.
		
		
		- cmd: mtr www.google.com
		
MTR â€” HÆ¯á»šNG DáºªN VÃ€ GIáº¢I THÃCH CHI TIáº¾T (dÃ nh cho: mtr [www.google.com](http://www.google.com))

1. Má»¥c Ä‘Ã­ch
   mtr (My Traceroute) káº¿t há»£p chá»©c nÄƒng cá»§a traceroute vÃ  ping Ä‘á»ƒ kiá»ƒm tra Ä‘Æ°á»ng Ä‘i (path) vÃ  Ä‘á»™ trá»… (latency) tá»›i má»™t Ä‘Ã­ch (trong vÃ­ dá»¥: [www.google.com](http://www.google.com)). CÃ´ng cá»¥ giÃºp xÃ¡c Ä‘á»‹nh vá»‹ trÃ­ cÃ³ máº¥t gÃ³i (packet loss) hoáº·c trá»… cao trÃªn tá»«ng bÆ°á»›c nháº£y (hop).

2. CÃº phÃ¡p cÆ¡ báº£n
   mtr [tÃ¹y chá»n] <hostname|IP>
   VÃ­ dá»¥ cÆ¡ báº£n Ä‘á»ƒ cháº¡y tÆ°Æ¡ng tÃ¡c (má»Ÿ mÃ n hÃ¬nh hiá»ƒn thá»‹ liÃªn tá»¥c):
   mtr [www.google.com](http://www.google.com)
   Cháº¡y dÆ°á»›i cháº¿ Ä‘á»™ bÃ¡o cÃ¡o (khÃ´ng tÆ°Æ¡ng tÃ¡c) vÃ  lÆ°u káº¿t quáº£ vÃ o file:
   mtr -r -c 100 [www.google.com](http://www.google.com) > mtr-google.txt
   Giáº£i thÃ­ch: -r (report mode), -c 100 (gá»­i 100 probe má»—i hop)

3. CÃ¡c tÃ¹y chá»n há»¯u Ã­ch
   -r : Cháº¿ Ä‘á»™ bÃ¡o cÃ¡o (report) â€” in káº¿t quáº£ rá»“i káº¿t thÃºc (thÃ­ch há»£p Ä‘á»ƒ ghi file).
   -c <count> : Sá»‘ probe gá»­i tá»›i má»—i hop trong cháº¿ Ä‘á»™ bÃ¡o cÃ¡o.
   -n : KhÃ´ng phÃ¢n giáº£i tÃªn (chá»‰ hiá»ƒn thá»‹ Ä‘á»‹a chá»‰ IP) â€” tÄƒng tá»‘c.
   -u : DÃ¹ng gÃ³i UDP (máº·c Ä‘á»‹nh cá»§a nhiá»u phiÃªn báº£n mtr lÃ  UDP hoáº·c ICMP tuá»³ há»‡ thá»‘ng).
   -I : DÃ¹ng ICMP Echo (tÆ°Æ¡ng tá»± ping) thay vÃ¬ UDP.
   -T : DÃ¹ng TCP SYN (thÆ°á»ng há»¯u Ã­ch khi máº¡ng cháº·n ICMP/UDP nhÆ°ng má»Ÿ TCP port).
   -i <interval> : Khoáº£ng thá»i gian (giÃ¢y) giá»¯a cÃ¡c probe.
   -w : Hiá»ƒn thá»‹ á»Ÿ cháº¿ Ä‘á»™ wide (cá»™t nhiá»u thÃ´ng tin hÆ¡n).

4. VÃ­ dá»¥ Ä‘áº§u ra (máº«u)
   LÆ°u Ã½: Ä‘Ã¢y lÃ  vÃ­ dá»¥ giáº£ láº­p; káº¿t quáº£ thá»±c táº¿ sáº½ khÃ¡c tÃ¹y máº¡ng vÃ  thá»i Ä‘iá»ƒm.

Host                                                                                   Loss%   Snt   Last   Avg  Best  Wrst StDev

1. 192.168.1.1                                                                          0.0%   100    0.5   0.8   0.4   5.2   0.6
2. 10.0.0.1                                                                             0.0%   100    1.2   1.5   1.1   3.4   0.4
3. 203.119.1.5                                                                          2.0%   100   20.5  22.1  19.8  80.3  8.9
4. 72.14.214.100 (google-gw.example)                                                    0.0%   100   38.7  39.2  38.2  42.1  0.9

5) Giáº£i thÃ­ch cÃ¡c cá»™t (chi tiáº¿t)

* Host: tÃªn mÃ¡y/Ä‘á»‹a chá»‰ IP cá»§a tá»«ng hop trÃªn Ä‘Æ°á»ng tá»›i Ä‘Ã­ch. Náº¿u bá»‹ máº¥t pháº£n há»“i táº¡i hop Ä‘Ã³, mtr sáº½ hiá»ƒn thá»‹ dáº¥u * hoáº·c tÃªn/IP khÃ´ng Ä‘áº§y Ä‘á»§. TÃªn cÃ³ thá»ƒ lÃ  reverse-DNS; náº¿u muá»‘n IP thuáº§n tuÃ½ dÃ¹ng -n.

* Loss%: pháº§n trÄƒm gÃ³i tin bá»‹ máº¥t táº¡i hop Ä‘Ã³ so vá»›i tá»•ng sá»‘ probe gá»­i. LÆ°u Ã½: mtr Ä‘o loss tá»«ng hop, nhÆ°ng "loss" táº¡i hop A khÃ´ng luÃ´n cÃ³ nghÄ©a router A Ä‘ang drop â€“ nÃ³ cÃ³ thá»ƒ chá»‰ lÃ  router A khÃ´ng Æ°u tiÃªn tráº£ lá»i ICMP/probe.

  * Loss trÃªn hop Ä‘áº§u (gateway/Router ná»™i bá»™) thÆ°á»ng chá»‰ ra váº¥n Ä‘á» máº¡ng ná»™i bá»™ hoáº·c wifi.
  * Loss báº¯t Ä‘áº§u xuáº¥t hiá»‡n tá»« hop N trá»Ÿ Ä‘i (vÃ  tiáº¿p tá»¥c á»Ÿ cÃ¡c hop sau) thÆ°á»ng cho tháº¥y vÃ¹ng máº¡ng sau hop N cÃ³ máº¥t gÃ³i.
  * Náº¿u chá»‰ hop trung gian bÃ¡o loss nhÆ°ng cÃ¡c hop sau khÃ´ng bÃ¡o (loss giáº£m), thÆ°á»ng lÃ  router trung gian háº¡n cháº¿ tráº£ lá»i probe chá»© khÃ´ng thá»±c sá»± drop traffic Ä‘i qua.

* Snt: sá»‘ lÆ°á»£ng probe Ä‘Ã£ gá»­i tá»›i hop Ä‘Ã³ (trong vÃ­ dá»¥ 100 náº¿u dÃ¹ng -c 100).

* Last: thá»i gian round-trip (ms) cá»§a probe cuá»‘i cÃ¹ng tá»›i hop Ä‘Ã³.

* Avg: thá»i gian trung bÃ¬nh (ms) cá»§a táº¥t cáº£ probe tá»›i hop Ä‘Ã³.

* Best: thá»i gian nhanh nháº¥t (ms) ghi nháº­n tá»›i hop Ä‘Ã³.

* Wrst: thá»i gian cháº­m nháº¥t (ms) ghi nháº­n tá»›i hop Ä‘Ã³.

* StDev: Ä‘á»™ lá»‡ch chuáº©n thá»i gian, chá»‰ ra biáº¿n Ä‘á»™ng (jitter). StDev lá»›n => Ä‘á»™ trá»… khÃ´ng á»•n Ä‘á»‹nh.

6. CÃ¡ch Ä‘á»c vÃ  cháº©n Ä‘oÃ¡n (quy trÃ¬nh)
   A. XÃ¡c Ä‘á»‹nh nÆ¡i báº¯t Ä‘áº§u xuáº¥t hiá»‡n Loss%:

   * Náº¿u Loss% lá»›n (vÃ­ dá»¥ > 1-2%) báº¯t Ä‘áº§u tá»« hop 1 hoáº·c 2: kiá»ƒm tra LAN/Wiâ€‘Fi, cÃ¡p, modem, router.
   * Náº¿u Loss% chá»‰ xuáº¥t hiá»‡n tá»« hop trung gian (vÃ­ dá»¥ hop 3) vÃ  tiáº¿p tá»¥c á»Ÿ cÃ¡c hop sau: váº¥n Ä‘á» cÃ³ kháº£ nÄƒng á»Ÿ ISP hoáº·c tuyáº¿n backbone giá»¯a hop 3 vÃ  hop tiáº¿p theo.
   * Náº¿u hop N bÃ¡o loss nhÆ°ng hop N+1 vÃ  N+2 KHÃ”NG bÃ¡o loss: thÆ°á»ng router N chá»‰ háº¡n cháº¿ tráº£ lá»i probe (khÃ´ng pháº£i thá»±c sá»± drop traffic). KhÃ´ng nÃªn vá»™i káº¿t luáº­n máº¥t káº¿t ná»‘i.

B. Kiá»ƒm tra latency (Avg/Last/Best/Wrst):

* Latency nhá» (< 20ms) thÆ°á»ng lÃ  trong cÃ¹ng khu vá»±c Ä‘á»‹a lÃ½ hoáº·c LAN.
* Latency vÃ i chá»¥c ms (20â€“100ms) thÆ°á»ng lÃ  Ä‘Æ°á»ng dÃ i trong cÃ¹ng quá»‘c gia hoáº·c khu vá»±c.
* Latency > 150â€“200ms cÃ³ thá»ƒ lÃ  tuyáº¿n Ä‘Æ°á»ng xuyÃªn lá»¥c Ä‘á»‹a hoáº·c cÃ³ váº¥n Ä‘á».
* Náº¿u má»™t hop cÃ³ Wrst cá»±c lá»›n (vÃ­ dá»¥ 500ms) nhÆ°ng Avg nhá» vÃ  StDev lá»›n, Ä‘Ã³ lÃ  biáº¿n Ä‘á»™ng táº¡m thá»i.

C. Jitter (StDev):

* StDev cao chá»‰ ra Ä‘á»™ trá»… biáº¿n Ä‘á»™ng â€” xáº¥u cho realtime (VoIP, video call).

D. Asymmetric routing:

* LÆ°u Ã½: Ä‘Æ°á»ng Ä‘i tá»›i Ä‘Ã­ch vÃ  Ä‘Æ°á»ng pháº£n há»“i cÃ³ thá»ƒ khÃ¡c; mtr chá»‰ cho tháº¥y Ä‘Æ°á»ng Ä‘i tá»« báº¡n tá»›i Ä‘Ã­ch (vÃ  cÃ¡c router pháº£n há»“i probe). VÃ¬ váº­y Ä‘Ã´i khi váº¥n Ä‘á» náº±m trÃªn Ä‘Æ°á»ng pháº£n há»“i vÃ  khÃ´ng hiá»‡n rÃµ trÃªn mtr.

7. Nhá»¯ng lÆ°u Ã½ quan trá»ng / Caveats

   * Nhiá»u router/lb (load balancer) Æ°u tiÃªn bá» qua hoáº·c giá»›i háº¡n tráº£ lá»i ICMP/UDP probe â€” dáº«n Ä‘áº¿n Loss% giáº£ á»Ÿ má»™t hop nhÆ°ng traffic thá»±c táº¿ váº«n Ä‘i qua.
   * mtr dÃ¹ng probe á»Ÿ tá»«ng hop. Má»™t router cÃ³ thá»ƒ drop probe nhÆ°ng váº«n chuyá»ƒn tiáº¿p traffic bÃ¬nh thÆ°á»ng.
   * Khi phÃ¢n tÃ­ch, luÃ´n nhÃ¬n vÃ o máº«u: loss báº¯t Ä‘áº§u vÃ  tiáº¿p tá»¥c (pattern) Ä‘Ã¡ng tin hÆ¡n lÃ  loss ngáº«u nhiÃªn táº¡i má»™t hop duy nháº¥t.

8. VÃ­ dá»¥ cÃ¡c lá»‡nh cháº©n Ä‘oÃ¡n thÆ°á»ng dÃ¹ng

   * Kiá»ƒm tra nhanh khÃ´ng phÃ¢n giáº£i DNS, ICMP:
     mtr -n -I [www.google.com](http://www.google.com)
   * Cháº¡y report 50 probe má»—i hop vÃ  lÆ°u file:
     mtr -r -c 50 -n [www.google.com](http://www.google.com) > mtr-report.txt
   * DÃ¹ng TCP (port 80) náº¿u ICMP bá»‹ cháº·n:
     mtr -T -P 80 [www.google.com](http://www.google.com)

9. Ká»‹ch báº£n & cÃ¡ch xá»­ lÃ½

   * Ká»‹ch báº£n 1: Loss lá»›n á»Ÿ hop 1 (gateway): kiá»ƒm tra cá»¥c bá»™ (cÃ¡p, switch, wifi, load trÃªn gateway).
   * Ká»‹ch báº£n 2: Loss 0% á»Ÿ hop 1-4, sau Ä‘Ã³ latency tÄƒng Ä‘á»™t ngá»™t á»Ÿ hop 5 vÃ  tiáº¿p tá»¥c: cÃ³ thá»ƒ gáº·p táº¯c ngháº½n trÃªn tuyáº¿n ISP; bÃ¡o cho ISP kÃ¨m output mtr.
   * Ká»‹ch báº£n 3: Má»™t hop bÃ¡o 50% loss nhÆ°ng cÃ¡c hop sau 0%: bá» qua (router Ä‘Ã³ Ä‘ang rate-limit pháº£n há»“i probe).

10. Gá»£i Ã½ khi gá»­i bÃ¡o cÃ¡o cho ISP/ quáº£n trá»‹ viÃªn

    * Gá»­i file mtr á»Ÿ cháº¿ Ä‘á»™ report: mtr -r -c 100 -n [www.google.com](http://www.google.com) > mtr-google.txt
    * KÃ¨m thá»i Ä‘iá»ƒm cháº¡y (timestamp) vÃ  mÃ´ táº£ triá»‡u chá»©ng (vÃ­ dá»¥ thá»i Ä‘iá»ƒm ngháº½n, gÃ³i thoáº¡i bá»‹ rá»›t...).

11. Máº¹o thÃªm

    * Káº¿t há»£p mtr vÃ  ping tá»›i IP hop nghi ngá» Ä‘á»ƒ kiá»ƒm tra sÃ¢u hÆ¡n: ping -c 50 <ip>
    * DÃ¹ng traceroute (v4/v6) hoáº·c tcptraceroute náº¿u cáº§n kiá»ƒm tra port cá»¥ thá»ƒ.
    * Kiá»ƒm tra báº£ng routing, firewall, NAT náº¿u váº¥n Ä‘á» xuáº¥t phÃ¡t tá»« máº¡ng ná»™i bá»™.

---

Háº¾T

(ÄÃ¢y lÃ  vÄƒn báº£n plain text, báº¡n cÃ³ thá»ƒ lÆ°u tháº³ng vÃ o file .txt)

CÃ¡c cÃ¢u lá»‡nh gá»£i Ã½ Ä‘á»ƒ copy nhanh vÃ o file mtr-google.txt (trÃªn mÃ¡y cá»§a báº¡n):
mtr -r -c 100 -n [www.google.com](http://www.google.com) > mtr-google.txt

		
		- cmd:  root@web01:~# nmap db01
		
				Starting Nmap 7.80 ( https://nmap.org ) at 2025-09-21 07:06 UTC
				Failed to resolve "db01".
				WARNING: No targets were specified, so 0 hosts scanned.
				Nmap done: 0 IP addresses (0 hosts up) scanned in 0.06 seconds
				
# Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: nmap db01

---

LÆ¯U Ã: TÃ i liá»‡u nÃ y trÃ¬nh bÃ y dÆ°á»›i Ä‘á»‹nh dáº¡ng plain text, bá»‘ cá»¥c rÃµ rÃ ng Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ o file .txt.

COMMAND:
nmap db01

MÃ´ táº£ ngáº¯n:
Lá»‡nh `nmap db01` dÃ¹ng Nmap Ä‘á»ƒ quÃ©t host cÃ³ tÃªn "db01" (tÃªn mÃ¡y hoáº·c entry trong /etc/hosts hoáº·c DNS).
Káº¿t quáº£ tráº£ vá» phá»¥ thuá»™c vÃ o: quyá»n (root hay user thÆ°á»ng), tham sá»‘ máº·c Ä‘á»‹nh cá»§a Nmap, vÃ  cáº¥u hÃ¬nh máº¡ng/Firewall trÃªn db01.

---

MáºªU Káº¾T QUáº¢ (vÃ­ dá»¥ giáº£ láº­p â€” káº¿t quáº£ thá»±c táº¿ cÃ³ thá»ƒ khÃ¡c):

Starting Nmap 7.80 ( [https://nmap.org](https://nmap.org) ) at 2025-09-21 06:47 UTC
Nmap scan report for db01 (192.168.56.42)
Host is up (0.00030s latency).
Not shown: 996 closed ports
PORT     STATE SERVICE    VERSION
22/tcp   open  ssh        OpenSSH 7.6p1 Ubuntu 4 (Ubuntu Linux; protocol 2.0)
80/tcp   open  http       Apache httpd 2.4.29 ((Ubuntu))
1433/tcp open  ms-sql-s   Microsoft SQL Server 2017
3306/tcp open  mysql      MySQL 5.7.31-0ubuntu0.16.04.1
MAC Address: 08:00:27:12:34:56 (Oracle VirtualBox virtual NIC)

Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

Nmap done: 1 IP address (1 host up) scanned in 6.43 seconds

---

GIáº¢I THÃCH DÃ’NG-ÄI DÃ’NG (plain text):

1. Header (phiÃªn báº£n & thá»i gian):
   "Starting Nmap 7.80 (...) at 2025-09-21 06:47 UTC"

   * Cho biáº¿t phiÃªn báº£n Nmap vÃ  má»‘c thá»i gian khi báº¯t Ä‘áº§u quÃ©t. GiÃºp truy váº¿t khi lÆ°u log.

2. DÃ²ng bÃ¡o cÃ¡o host:
   "Nmap scan report for db01 (192.168.56.42)"

   * "db01" lÃ  tÃªn mÃ¡y báº¡n quÃ©t; trong ngoáº·c lÃ  Ä‘á»‹a chá»‰ IP Nmap resolve Ä‘Æ°á»£c (cÃ³ thá»ƒ tá»« DNS hoáº·c /etc/hosts).

3. Host is up (0.00030s latency).

   * Host pháº£n há»“i vÃ  Ä‘ang hoáº¡t Ä‘á»™ng. Thá»i gian latency chá»‰ khoáº£ng thá»i gian trá»… (tÃ­nh báº±ng giÃ¢y).

4. Not shown: 996 closed ports

   * VÃ¬ Nmap chá»‰ hiá»ƒn thá»‹ cÃ¡c port má»Ÿ (open) hoáº·c lá»c (filtered); cÃ¡c port Ä‘Ã³ng (closed) Ä‘Æ°á»£c gom láº¡i vÃ  Ä‘áº¿m Ä‘á»ƒ gá»n.
   * Tá»•ng sá»‘ port TCP máº·c Ä‘á»‹nh Nmap xem lÃ  1000, nÃªn 1000 - 4 = 996 á»Ÿ vÃ­ dá»¥ nÃ y.

5. Báº£ng PORT STATE SERVICE VERSION

   * PORT: cá»•ng máº¡ng (vÃ­ dá»¥ 22/tcp)
   * STATE: tráº¡ng thÃ¡i cá»§a port â€” thÆ°á»ng gáº·p: open (má»Ÿ), closed (Ä‘Ã³ng), filtered (bá»‹ lá»c bá»Ÿi firewall), unfiltered, open|filtered, closed|filtered.
   * SERVICE: dá»‹ch vá»¥ Nmap Ä‘oÃ¡n (vÃ­ dá»¥ ssh, http, mysql). Dá»± Ä‘oÃ¡n dá»±a trÃªn cá»•ng vÃ  chá»¯ kÃ½.
   * VERSION: náº¿u quÃ©t phiÃªn báº£n (-sV hoáº·c máº·c Ä‘á»‹nh khi Nmap detect Ä‘Æ°á»£c) sáº½ hiá»ƒn thá»‹ thÃ´ng tin phiÃªn báº£n pháº§n má»m.

   VÃ­ dá»¥ tá»«ng dÃ²ng:

   * 22/tcp open ssh OpenSSH 7.6p1 Ubuntu 4 (Ubuntu Linux; protocol 2.0)

     * Port 22 má»Ÿ â€” dá»‹ch vá»¥ SSH Ä‘ang cháº¡y; Nmap phÃ¡t hiá»‡n OpenSSH vÃ  phiÃªn báº£n.
     * ThÃ´ng tin phiÃªn báº£n giÃºp Ä‘Ã¡nh giÃ¡ lá»— há»•ng (cáº§n Ä‘á»‘i chiáº¿u CVE tÆ°Æ¡ng á»©ng).

   * 80/tcp open http Apache httpd 2.4.29 ((Ubuntu))

     * Web server Apache cháº¡y trÃªn cá»•ng 80. CÃ³ thá»ƒ truy cáº­p báº±ng trÃ¬nh duyá»‡t [http://192.168.56.42](http://192.168.56.42)

   * 1433/tcp open ms-sql-s Microsoft SQL Server 2017

     * Cá»•ng máº·c Ä‘á»‹nh cá»§a Microsoft SQL Server (thÆ°á»ng gáº·p trÃªn Windows), cho tháº¥y db01 cÃ³ thá»ƒ cháº¡y MSSQL.

   * 3306/tcp open mysql MySQL 5.7.31-0ubuntu0.16.04.1

     * MySQL cháº¡y trÃªn port 3306, Nmap phÃ¡t hiá»‡n phiÃªn báº£n (ráº¥t há»¯u Ã­ch Ä‘á»ƒ kiá»ƒm tra tÆ°Æ¡ng thÃ­ch/backport vÃ¡ lá»—i).

6. MAC Address: 08:00:27:12:34:56 (Oracle VirtualBox virtual NIC)

   * Náº¿u quÃ©t trong máº¡ng LAN, Nmap cÃ³ thá»ƒ thu tháº­p Ä‘á»‹a chá»‰ MAC vÃ  vendor cá»§a NIC. GiÃºp xÃ¡c nháº­n thiáº¿t bá»‹ (vÃ­ dá»¥ VM).

7. Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

   * TÃ³m táº¯t thÃ´ng tin dá»‹ch vá»¥/OS Nmap detect Ä‘Æ°á»£c. CPE (Common Platform Enumeration) lÃ  mÃ£ chuáº©n Ä‘á»ƒ tham chiáº¿u loáº¡i pháº§n má»m/há»‡ Ä‘iá»u hÃ nh.

8. Footer (tá»•ng káº¿t):
   "Nmap done: 1 IP address (1 host up) scanned in 6.43 seconds"

   * Tá»•ng sá»‘ host Ä‘Ã£ quÃ©t, sá»‘ host up, vÃ  thá»i gian quÃ©t.

---

PHÃ‚N TÃCH Ã NGHÄ¨A VÃ€ CÃC Ká»ŠCH Báº¢N THÆ¯á»œNG Gáº¶P

A) Náº¿u chá»‰ cháº¡y "nmap db01" (khÃ´ng cÃ³ quyá»n root):

* Nmap thá»±c hiá»‡n TCP connect scan (thá»­ káº¿t ná»‘i TCP tiÃªu chuáº©n) trÃªn 1000 ports thÃ´ng thÆ°á»ng.
* ThÃ´ng tin phiÃªn báº£n (version detection) cÃ³ thá»ƒ khÃ´ng Ä‘áº§y Ä‘á»§ â€” Nmap váº«n cá»‘ gáº¯ng dÃ² nhÆ°ng tÃ¹y cáº¥u hÃ¬nh.

B) Náº¿u cháº¡y vá»›i quyá»n root (sudo):

* Nmap cÃ³ thá»ƒ dÃ¹ng SYN scan (-sS) nhanh hÆ¡n vÃ  Ã­t Ä‘á»ƒ láº¡i log trÃªn target.
* CÃ³ thá»ƒ báº­t OS detection (-O), version detection (-sV), script scan (-sC) Ä‘á»ƒ thu tháº­p thÃªm thÃ´ng tin.

C) Náº¿u tháº¥y nhiá»u port "filtered":

* CÃ³ firewall/ngÃ¢n sÃ¡ch filtering cháº·n probe cá»§a Nmap. Cáº§n kiá»ƒm tra firewall (iptables, nftables, Azure/AWS security group...).

D) Náº¿u tháº¥y port database (1433,3306,5432...) má»Ÿ:

* ÄÃ³ lÃ  dáº¥u hiá»‡u server Ä‘ang cháº¡y dá»‹ch vá»¥ DB; cáº§n kiá»ƒm tra cáº¥u hÃ¬nh máº¡ng (cÃ³ nÃªn expose DB ra máº¡ng ná»™i bá»™/Internet khÃ´ng?)
* Kiá»ƒm tra authentication, user, password policies; Ã¡p dá»¥ng firewall Ä‘á»ƒ giá»›i háº¡n IP cho phÃ©p truy cáº­p.

E) Náº¿u káº¿t quáº£ hiá»ƒn thá»‹ OS detection khÃ´ng cháº¯c cháº¯n:

* Nmap sáº½ hiá»ƒn thá»‹ level Ä‘á»™ tin cáº­y. DÃ¹ng -O káº¿t há»£p vá»›i -v Ä‘á»ƒ cÃ³ thÃªm chi tiáº¿t.

---

Lá»†NH NÃ‚NG CAO THÆ¯á»œNG DÃ™NG (vá»›i mÃ´ táº£ ngáº¯n):

sudo nmap -sS -sV -O -p- db01
- -sS : TCP SYN scan (fast, stealthier than connect scan)
- -sV : version detection (dÃ² phiÃªn báº£n dá»‹ch vá»¥)
- -O  : OS detection
- -p- : quÃ©t táº¥t cáº£ 65535 ports thay vÃ¬ 1000 máº·c Ä‘á»‹nh

nmap -A db01
- -A : báº­t aggressive scan (káº¿t há»£p -sV -O -sC vÃ  má»™t sá»‘ script khÃ¡c)

nmap -sU -p 53,123 db01
- -sU : UDP scan; dÃ¹ng khi muá»‘n dÃ² cÃ¡c dá»‹ch vá»¥ UDP (DNS, NTP...)

nmap --script vuln db01
- Cháº¡y cÃ¡c NSE scripts chuyÃªn kiá»ƒm tra lá»— há»•ng (vulnerabilities)

---

LÆ¯U Ã Báº¢O Máº¬T VÃ€ Äáº O Äá»¨C

* Chá»‰ quÃ©t cÃ¡c host mÃ  báº¡n cÃ³ quyá»n há»£p phÃ¡p Ä‘á»ƒ quÃ©t (sá»Ÿ há»¯u, Ä‘Æ°á»£c cáº¥p phÃ©p bá»Ÿi chá»§ há»‡ thá»‘ng).
* QuÃ©t máº¡ng ngÆ°á»i khÃ¡c hoáº·c public mÃ  khÃ´ng cÃ³ sá»± cho phÃ©p cÃ³ thá»ƒ vi pháº¡m phÃ¡p luáº­t/tin há»c.

---

CÃCH LÆ¯U Káº¾T QUáº¢ RA FILE .TXT (command line):

nmap db01 -oN ketqua_nmap_db01.txt
- -oN : lÆ°u output á»Ÿ Ä‘á»‹nh dáº¡ng plain text (normal) vÃ o file chá»‰ Ä‘á»‹nh.

---

HÆ°á»›ng dáº«n nhanh cÃ¡ch copy toÃ n bá»™ ná»™i dung:

* Ná»™i dung nÃ y Ä‘Ã£ Ä‘Æ°á»£c trÃ¬nh bÃ y á»Ÿ dáº¡ng plain text; báº¡n cÃ³ thá»ƒ bÃ´i Ä‘en toÃ n bá»™ vÃ  copy (Ctrl+C) rá»“i dÃ¡n vÃ o file .txt.
* Náº¿u báº¡n Ä‘ang dÃ¹ng giao diá»‡n chat cÃ³ nÃºt "Copy" cho tÃ i liá»‡u nÃ y, báº¥m nÃºt Ä‘Ã³ Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung.

---

TÃ´i Ä‘Ã£ trÃ¬nh bÃ y Ä‘áº§y Ä‘á»§, náº¿u báº¡n muá»‘n tÃ´i:

* thay máº«u káº¿t quáº£ báº±ng output thá»±c táº¿ cá»§a báº¡n (dÃ¡n output nmap vÃ o Ä‘Ã¢y) -> tÃ´i sáº½ giáº£i thÃ­ch chi tiáº¿t theo output tháº­t;
* hoáº·c xuáº¥t báº£n file .txt vÃ  cung cáº¥p link download.

-- Káº¾T THÃšC TÃ€I LIá»†U --

				
		- cmd:  root@web01:~# telnet 192.168.56.43 3306
		
				Trying 192.168.56.43...
				Connected to 192.168.56.43.
				Escape character is '^]'.
				HHost '192.168.56.41' is not allowed to connect to this MariaDB serverConnection closed by foreign host.
				
========================================
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH: telnet 192.168.56.43 3306
========================================

Lá»†NH:
telnet 192.168.56.43 3306

Äáº¦U RA (OUTPUT):
----------------------------------------
Trying 192.168.56.43...
Connected to 192.168.56.43.
Escape character is '^]'.
HHost '192.168.56.41' is not allowed to connect to this MariaDB server
Connection closed by foreign host.
----------------------------------------

GIáº¢I THÃCH DÃ’NG-QUA-DÃ’NG:
----------------------------------------
1) "Trying 192.168.56.43..."
   - telnet Ä‘ang thá»­ má»Ÿ káº¿t ná»‘i TCP tá»›i Ä‘á»‹a chá»‰ IP 192.168.56.43 (port máº·c Ä‘á»‹nh 3306 báº¡n chá»‰ Ä‘á»‹nh).
   - NghÄ©a lÃ  tÃªn/Ä‘á»‹a chá»‰ Ä‘Ã£ Ä‘Æ°á»£c gá»­i Ä‘áº¿n táº§ng máº¡ng Ä‘á»ƒ thá»±c hiá»‡n TCP handshake.

2) "Connected to 192.168.56.43."
   - Káº¿t ná»‘i TCP tá»›i mÃ¡y 192.168.56.43 (cá»•ng 3306) Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t láº­p á»Ÿ cáº¥p Ä‘á»™ socket.
   - Äiá»u nÃ y cho tháº¥y cá»•ng 3306 Ä‘ang láº¯ng nghe trÃªn host Ä‘Ã­ch (nghÄ©a lÃ  dá»‹ch vá»¥ MariaDB/MySQL hoáº·c má»™t chÆ°Æ¡ng trÃ¬nh khÃ¡c Ä‘ang accept káº¿t ná»‘i TCP).

3) "Escape character is '^]'."
   - ThÃ´ng bÃ¡o chuáº©n cá»§a telnet: phÃ­m thoÃ¡t (escape) Ä‘á»ƒ trá»Ÿ vá» prompt telnet lÃ  Ctrl + ].
   - KhÃ´ng cÃ³ Ã½ nghÄ©a liÃªn quan trá»±c tiáº¿p tá»›i lá»—i MariaDB, chá»‰ telnet Ä‘ang nháº¯c báº¡n cÃ¡ch thoÃ¡t.

4) "HHost '192.168.56.41' is not allowed to connect to this MariaDB server"
   - ÄÃ¢y lÃ  lá»—i tráº£ vá» tá»« **MariaDB/MySQL server** (dÃ²ng lá»—i cÃ³ thá»ƒ bá»‹ concat/format láº¡ â€” chá»¯ "HHost" cÃ³ váº» lÃ  lá»—i gÃµ/format, thá»±c táº¿ thÃ´ng thÆ°á»ng lÃ  "Host '192.168.56.41' is not allowed to connect to this MariaDB server").
   - Ã nghÄ©a: MariaDB Ä‘Ã£ cháº¥p nháº­n káº¿t ná»‘i TCP nhÆ°ng **khÃ´ng cho phÃ©p** client tá»« Ä‘á»‹a chá»‰ `192.168.56.41` (Ä‘á»‹a chá»‰ client) truy cáº­p vÃ o server theo cáº¥u hÃ¬nh phÃ¢n quyá»n hiá»‡n táº¡i.
   - NguyÃªn nhÃ¢n phá»• biáº¿n:
     * KhÃ´ng cÃ³ user tÆ°Æ¡ng á»©ng trong báº£ng `mysql.user` cho host Ä‘Ã³ (vÃ­ dá»¥ user chá»‰ Ä‘Æ°á»£c phÃ©p tá»« 'localhost' hoáº·c tá»« má»™t IP khÃ¡c).
     * User tá»“n táº¡i nhÆ°ng host pháº§n phÃ¢n quyá»n khÃ´ng khá»›p (vÃ­ dá»¥ 'user'@'localhost' nhÆ°ng client Ä‘áº¿n tá»« 192.168.56.41).
     * Server cáº¥u hÃ¬nh chá»‰ cháº¥p nháº­n káº¿t ná»‘i tá»« má»™t táº­p há»£p host nháº¥t Ä‘á»‹nh, hoáº·c cÃ³ plugin xÃ¡c thá»±c kiá»ƒm tra host.
     * server sá»­ dá»¥ng `skip_name_resolve` khiáº¿n tÃªn mÃ¡y/host khÃ´ng Ä‘Æ°á»£c phÃ¢n giáº£i, dáº«n tá»›i mismatch náº¿u báº£n ghi quyá»n dÃ¹ng hostname thay vÃ¬ IP.
     * CÃ³ thá»ƒ cÃ³ chÃ­nh sÃ¡ch báº£o máº­t nhÆ° `bind-address` chá»‰ láº¯ng nghe trÃªn má»™t interface cá»¥ thá»ƒ, nhÆ°ng vÃ¬ telnet Ä‘Ã£ káº¿t ná»‘i nÃªn kháº£ nÄƒng bind-address khÃ´ng pháº£i nguyÃªn nhÃ¢n chÃ­nh á»Ÿ Ä‘Ã¢y.
     * SELinux / AppArmor hoáº·c firewall cÃ³ thá»ƒ block má»™t sá»‘ hÃ nh vi, nhÆ°ng dÃ²ng lá»—i rÃµ rÃ ng lÃ  tá»« MariaDB (chá»© khÃ´ng pháº£i tá»« kernel/firewall).

5) "Connection closed by foreign host."
   - MariaDB Ä‘Ã£ gá»­i thÃ´ng bÃ¡o lá»—i rá»“i Ä‘Ã³ng káº¿t ná»‘i. Telnet nháº­n biáº¿t ráº±ng phÃ­a server Ä‘Ã£ Ä‘Ã³ng socket.

Tá»”NG Káº¾T NGáº®N:
- Káº¿t ná»‘i TCP tá»›i cá»•ng 3306 thÃ nh cÃ´ng => dá»‹ch vá»¥ láº¯ng nghe.
- MariaDB tá»« chá»‘i cáº¥p quyá»n cho client IP `192.168.56.41` => váº¥n Ä‘á» á»Ÿ **quyá»n truy cáº­p MySQL/MariaDB** (host allowed) hoáº·c cáº¥u hÃ¬nh xÃ¡c thá»±c.

HÆ¯á»šNG DáºªN KIá»‚M TRA VÃ€ KHáº®C PHá»¤C (step-by-step)
----------------------------------------
A. Kiá»ƒm tra user/host trong MariaDB
   (cháº¡y trÃªn server MariaDB, vÃ­ dá»¥ login báº±ng root local)
   1) ÄÄƒng nháº­p:
      mysql -u root -p
   2) Kiá»ƒm tra user hiá»‡n cÃ³ (liá»‡t kÃª host liÃªn quan tá»›i user báº¡n dÃ¹ng):
      SELECT User, Host FROM mysql.user WHERE User='<tÃªn_user>'; 
      -- thay <tÃªn_user> báº±ng user báº¡n Ä‘ang dÃ¹ng (hoáº·c bá» WHERE Ä‘á»ƒ xem táº¥t cáº£)
   3) Náº¿u khÃ´ng tháº¥y báº£n ghi cho host '192.168.56.41' hoáº·c '%', Ä‘Ã³ lÃ  nguyÃªn nhÃ¢n.

B. Cáº¥p quyá»n cho host / cho phÃ©p káº¿t ná»‘i tá»« IP
   1) Cho phÃ©p má»™t user cá»¥ thá»ƒ tá»« IP:
      GRANT ALL PRIVILEGES ON *.* TO 'tÃªn_user'@'192.168.56.41' IDENTIFIED BY 'máº­t_kháº©u' WITH GRANT OPTION;
      hoáº·c cho phÃ©p tá»« má»i IP:
      GRANT ALL PRIVILEGES ON *.* TO 'tÃªn_user'@'%' IDENTIFIED BY 'máº­t_kháº©u' WITH GRANT OPTION;
   2) Ãp dá»¥ng:
      FLUSH PRIVILEGES;
   3) Náº¿u báº¡n chá»‰ muá»‘n quyá»n háº¡n háº¡n cháº¿, thay *.* vÃ  ALL phÃ¹ há»£p (vÃ­ dá»¥ mydb.* vÃ  SELECT,INSERT).

C. Kiá»ƒm tra cÃ i Ä‘áº·t my.cnf (bind-address / skip-networking)
   1) Má»Ÿ file cáº¥u hÃ¬nh (cÃ³ thá»ƒ á»Ÿ /etc/mysql/my.cnf hoáº·c /etc/mysql/mariadb.conf.d/50-server.cnf):
      grep -E "bind-address|skip-networking|skip-name-resolve" -n /etc/mysql -R
   2) LÆ°u Ã½:
      - bind-address = 127.0.0.1 => server chá»‰ láº¯ng nghe localhost (nhÆ°ng telnet Ä‘Ã£ káº¿t ná»‘i, nÃªn khÃ´ng pháº£i á»Ÿ Ä‘Ã¢y).
      - skip-networking = 1 => server khÃ´ng láº¯ng nghe TCP (khÃ´ng Ã¡p dá»¥ng náº¿u telnet káº¿t ná»‘i).
      - skip-name-resolve = 1 => server khÃ´ng phÃ¢n giáº£i hostname thÃ nh IP; náº¿u báº¡n cáº¥p quyá»n theo hostname, Ä‘iá»u nÃ y cÃ³ thá»ƒ gÃ¢y mismatch. Khi skip-name-resolve=1, chá»‰ matching theo Host báº£ng mysql.user pháº£i lÃ  IP hoáº·c % (khÃ´ng hostname).

D. Kiá»ƒm tra firewall / iptables / nftables (náº¿u cáº§n)
   - Kiá»ƒm tra trÃªn server MariaDB cÃ³ rule cháº·n IP client hay khÃ´ng:
     sudo iptables -L -n --line-numbers
     hoáº·c
     sudo nft list ruleset
   - NhÆ°ng vÃ¬ telnet Ä‘Ã£ káº¿t ná»‘i, firewall khÃ´ng cháº·n TCP 3306.

E. Kiá»ƒm tra plugin xÃ¡c thá»±c / host-based plugin
   - SHOW GRANTS FOR 'tÃªn_user'@'host';
   - Kiá»ƒm tra user cÃ³ plugin xÃ¡c thá»±c Ä‘áº·c biá»‡t (cá»™t plugin trong mysql.user).

F. VÃ­ dá»¥ lá»‡nh thá»±c táº¿ báº¡n cÃ³ thá»ƒ cháº¡y Ä‘á»ƒ debug:
   1) TrÃªn server MariaDB:
      sudo ss -tlnp | grep 3306
      # xÃ¡c nháº­n tiáº¿n trÃ¬nh nÃ o Ä‘ang láº¯ng nghe trÃªn 3306
   2) Kiá»ƒm tra báº£n ghi user:
      SELECT User, Host, plugin FROM mysql.user;
   3) Kiá»ƒm tra logs MariaDB Ä‘á»ƒ biáº¿t chi tiáº¿t (thÆ°á»ng /var/log/mysql/error.log hoáº·c /var/log/mariadb/mariadb.log):
      sudo tail -n 200 /var/log/mysql/error.log

G. CÃ¡ch fix nhanh (náº¿u cháº¥p nháº­n rá»§i ro báº£o máº­t tháº¥p)
   - Cho phÃ©p user tá»« táº¥t cáº£ host:
     mysql> CREATE USER 'appuser'@'%' IDENTIFIED BY 'Máº­tKháº©uMáº¡nh';
     mysql> GRANT SELECT,INSERT,UPDATE,DELETE ON mydb.* TO 'appuser'@'%';
     mysql> FLUSH PRIVILEGES;
   - Sau Ä‘Ã³ thá»­ telnet / káº¿t ná»‘i tá»« client báº±ng chÃ­nh client app (vÃ­ dá»¥ mysql -u appuser -p -h 192.168.56.43).

LÆ¯U Ã Báº¢O Máº¬T:
----------------------------------------
- TrÃ¡nh dÃ¹ng 'user'@'%' cho tÃ i khoáº£n root hoáº·c tÃ i khoáº£n cÃ³ quyá»n cao; háº¡n cháº¿ báº±ng IP náº¿u Ä‘Æ°á»£c.
- Sá»­ dá»¥ng firewall Ä‘á»ƒ chá»‰ cho phÃ©p IP client truy cáº­p 3306 náº¿u cáº§n.
- DÃ¹ng máº­t kháº©u máº¡nh vÃ , náº¿u cÃ³ thá»ƒ, chá»‰ cho phÃ©p káº¿t ná»‘i qua VPN/SSH tunnel thay vÃ¬ má»Ÿ trá»±c tiáº¿p MySQL ra máº¡ng.

NHá»®NG TÃŒNH HUá»NG KHÃC CÃ“ THá»‚ GÃ‚Y Lá»–I TÆ¯Æ NG Tá»°:
----------------------------------------
- User bá»‹ khÃ³a/disabled.
- MySQL/MariaDB kiá»ƒm tra host báº±ng tÃªn host nhÆ°ng DNS tráº£ vá» IP khÃ¡c (váº¥n Ä‘á» tÃªn miá»n).
- Náº¿u server cÃ³ plugin xÃ¡c thá»±c dÃ¹ng PAM/LDAP, viá»‡c xÃ¡c thá»±c host cÃ³ thá»ƒ bá»‹ Ã¡p thÃªm rule ngoÃ i mysql.user.

Káº¾T LUáº¬N NGáº®N:
----------------------------------------
- DÃ²ng "Host '192.168.56.41' is not allowed to connect..." lÃ  thÃ´ng bÃ¡o rÃµ rÃ ng: **MariaDB Ä‘Ã£ tá»« chá»‘i vÃ¬ chÃ­nh sÃ¡ch user@host khÃ´ng cho phÃ©p**.
- Kháº¯c phá»¥c báº±ng cÃ¡ch kiá»ƒm tra/ sá»­a báº£ng mysql.user (hoáº·c cáº¥p quyá»n báº±ng GRANT) vÃ  cÃ¢n nháº¯c cáº¥u hÃ¬nh skip-name-resolve / bind-address / firewall náº¿u cáº§n.

========================================
Háº¾T
========================================

				
		- cmd: sudo yum install -y net-tools
	
Giáº£i thÃ­ch chi tiáº¿t (plain text) - Báº¢N DÃ™NG Äá»‚ COPY VÃ€O .txt

DÆ°á»›i Ä‘Ã¢y lÃ  báº£n giáº£i thÃ­ch chi tiáº¿t cho cÃ¢u lá»‡nh:

```
sudo yum install -y net-tools
```

ToÃ n bá»™ ná»™i dung náº±m trong khá»‘i plain-text Ä‘á»ƒ báº¡n cÃ³ thá»ƒ sao chÃ©p trá»±c tiáº¿p vÃ o file .txt.

--- START OF TEXT (COPY FROM HERE) ---

TiÃªu Ä‘á»: Giáº£i thÃ­ch chi tiáº¿t `sudo yum install -y net-tools`

1. Má»¥c Ä‘Ã­ch chung

   * CÃ¢u lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t gÃ³i pháº§n má»m `net-tools` trÃªn há»‡ thá»‘ng Linux sá»­ dá»¥ng trÃ¬nh quáº£n lÃ½ gÃ³i YUM (thÆ°á»ng lÃ  cÃ¡c báº£n phÃ¢n phá»‘i nhÆ° CentOS, RHEL, Fedora cÅ©).
   * `net-tools` chá»©a cÃ¡c cÃ´ng cá»¥ máº¡ng cá»• Ä‘iá»ƒn nhÆ° `ifconfig`, `netstat`, `route`, `arp`, `ether-wake`... nhiá»u admin váº«n dÃ¹ng Ä‘á»ƒ kiá»ƒm tra vÃ  gá»¡ lá»—i máº¡ng.

2. PhÃ¢n tÃ­ch tá»«ng pháº§n cá»§a lá»‡nh

   * `sudo`

     * Viáº¿t táº¯t cá»§a "superuser do" â€” cháº¡y lá»‡nh vá»›i quyá»n quáº£n trá»‹ (root).
     * Cáº§n khi cÃ i gÃ³i vÃ¬ thao tÃ¡c nÃ y thay Ä‘á»•i há»‡ thá»‘ng (ghi vÃ o /usr, /etc, database gÃ³i).
     * Náº¿u báº¡n Ä‘Ã£ Ä‘ang á»Ÿ tÃ i khoáº£n root, khÃ´ng cáº§n `sudo`.

   * `yum`

     * TrÃ¬nh quáº£n lÃ½ gÃ³i cho cÃ¡c há»‡ dá»±a trÃªn RPM (Red Hat Package Manager).
     * Cháº¡y cÃ¡c thao tÃ¡c nhÆ° tÃ¬m, cÃ i, cáº­p nháº­t, gá»¡ gÃ³i.
     * LÆ°u Ã½: TrÃªn má»™t sá»‘ báº£n má»›i hÆ¡n, `dnf` thay tháº¿ `yum` (cÃ¢u lá»‡nh tÆ°Æ¡ng tá»±: `sudo dnf install -y net-tools`).

   * `install`

     * HÃ nh Ä‘á»™ng yÃªu cáº§u yum thá»±c hiá»‡n: cÃ i Ä‘áº·t gÃ³i(s) Ä‘Æ°á»£c liá»‡t kÃª phÃ­a sau.

   * `-y`

     * TÃ¹y chá»n tá»± Ä‘á»™ng tráº£ lá»i "yes" cho táº¥t cáº£ cÃ¡c prompt trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t.
     * ThÆ°á»ng dÃ¹ng trong script hoáº·c khi báº¡n khÃ´ng muá»‘n bá»‹ dá»«ng Ä‘á»ƒ xÃ¡c nháº­n phá»¥ thuá»™c.
     * Náº¿u khÃ´ng cÃ³ `-y`, yum sáº½ há»i báº¡n xÃ¡c nháº­n trÆ°á»›c khi táº£i vÃ  cÃ i gÃ³i.

   * `net-tools`

     * TÃªn gÃ³i Ä‘Æ°á»£c cÃ i Ä‘áº·t. GÃ³i nÃ y chá»©a nhiá»u tiá»‡n Ã­ch máº¡ng cá»• Ä‘iá»ƒn:

       * `ifconfig`: xem/cáº¥u hÃ¬nh Ä‘á»‹a chá»‰ IP trÃªn interface (thay báº±ng `ip addr` trong iproute2)
       * `netstat`: xem káº¿t ná»‘i TCP/UDP, báº£ng routing, thá»‘ng kÃª (thay báº±ng `ss`)
       * `route`: xem/bÃ¡o/thiáº¿t láº­p báº£ng Ä‘á»‹nh tuyáº¿n (thay báº±ng `ip route`)
       * `arp`: hiá»ƒn thá»‹ vÃ  thao tÃ¡c cache ARP
       * `hostname`: Ä‘Ã´i khi Ä‘i kÃ¨m Ä‘á»ƒ xem/táº¡o hostname
     * LÆ°u Ã½: nhiá»u há»‡ thá»‘ng hiá»‡n Ä‘áº¡i khuyáº¿n nghá»‹ dÃ¹ng `ip` (iproute2) vÃ  `ss` thay vÃ¬ má»™t sá»‘ cÃ´ng cá»¥ trong net-tools, nhÆ°ng net-tools váº«n há»¯u Ã­ch náº¿u báº¡n quen vá»›i chÃºng.

3. VÃ­ dá»¥ quy trÃ¬nh cÃ i (nhá»¯ng gÃ¬ lá»‡nh sáº½ lÃ m)

   * `sudo` yÃªu cáº§u máº­t kháº©u user (náº¿u chÆ°a cÃ³ quyá»n sudo trong session).
   * `yum` liÃªn há»‡ vá»›i repository Ä‘Ã£ cáº¥u hÃ¬nh Ä‘á»ƒ tÃ¬m gÃ³i `net-tools` vÃ  cÃ¡c phá»¥ thuá»™c cá»§a nÃ³.
   * Náº¿u tÃ¬m Ä‘Æ°á»£c, yum táº£i vá» cÃ¡c RPM cáº§n thiáº¿t, tráº£ lá»i cÃ¡c prompt (vÃ¬ cÃ³ `-y`, sáº½ tá»± Ä‘á»“ng Ã½), vÃ  cÃ i chÃºng.
   * Káº¿t quáº£: cÃ¡c file thá»±c thi vÃ  tÃ i liá»‡u cá»§a `net-tools` Ä‘Æ°á»£c Ä‘áº·t vÃ o há»‡ thá»‘ng (vÃ­ dá»¥ `/sbin/ifconfig`, `/bin/netstat`... tÃ¹y distro).

4. Kiá»ƒm tra sau khi cÃ i

   * Kiá»ƒm tra phiÃªn báº£n/cÃ³ sáºµn:
     ifconfig --version    # náº¿u há»— trá»£
     which ifconfig        # kiá»ƒm tra Ä‘Æ°á»ng dáº«n
     rpm -qi net-tools     # xem thÃ´ng tin gÃ³i trÃªn há»‡ RPM
   * Thá»­ cháº¡y:
     sudo ifconfig -a
     sudo netstat -tulpen

5. CÃ¡ch gá»¡ cÃ i

   * DÃ¹ng yum Ä‘á»ƒ remove:
     sudo yum remove -y net-tools
     (hoáº·c `sudo dnf remove -y net-tools` trÃªn há»‡ dÃ¹ng DNF)

6. Ghi chÃº vÃ  lÆ°u Ã½

   * TrÃªn cÃ¡c báº£n phÃ¢n phá»‘i má»›i, cÃ´ng cá»¥ hiá»‡n Ä‘áº¡i hÆ¡n lÃ  `ip` (tá»« `iproute2`) vÃ  `ss`. Náº¿u má»¥c tiÃªu cá»§a báº¡n lÃ  viáº¿t script má»›i hoáº·c theo best practice, hÃ£y cÃ¢n nháº¯c dÃ¹ng `ip` vÃ  `ss`.
   * `-y` tiá»‡n cho tá»± Ä‘á»™ng hÃ³a nhÆ°ng cÃ³ rá»§i ro: báº¡n cÃ³ thá»ƒ vÃ´ tÃ¬nh Ä‘á»“ng Ã½ gá»¡ má»™t sá»‘ gÃ³i do xung Ä‘á»™t phá»¥ thuá»™c. LuÃ´n Ä‘á»c ká»¹ output cá»§a yum khi thá»±c hiá»‡n trÃªn há»‡ sáº£n xuáº¥t.
   * Náº¿u há»‡ khÃ´ng cÃ³ `yum` (vÃ­ dá»¥ Debian/Ubuntu), cÃ¢u lá»‡nh tÆ°Æ¡ng Ä‘Æ°Æ¡ng sáº½ lÃ :
     sudo apt update && sudo apt install -y net-tools
     nhÆ°ng tÃªn gÃ³i vÃ  cÃ¡ch quáº£n lÃ½ repo khÃ¡c nhau.

7. CÃ¡c lá»‡nh thay tháº¿ / hiá»‡n Ä‘áº¡i (tham kháº£o)

   * CÃ i báº±ng dnf (CentOS/RHEL/Fedora má»›i):
     sudo dnf install -y net-tools

   * Sá»­ dá»¥ng cÃ´ng cá»¥ hiá»‡n Ä‘áº¡i thay vÃ¬ ifconfig/netstat:
     sudo ip addr show
     sudo ss -tulpen

--- END OF TEXT (COPY UNTIL HERE) ---

Ghi chÃº: TÃ i liá»‡u Ä‘Ã£ á»Ÿ Ä‘á»‹nh dáº¡ng plain-text, dá»… sao chÃ©p nguyÃªn ná»™i dung vÃ o file .txt.

	
		- cmd:  root@web01:~# telnet 192.168.56.43 22
		
				Trying 192.168.56.43...
				Connected to 192.168.56.43.
				Escape character is '^]'.
				SSH-2.0-OpenSSH_7.4

Telnet tá»›i cá»•ng SSH (Giáº£i thÃ­ch chi tiáº¿t)

DÃ²ng log máº«u nháº­n Ä‘Æ°á»£c:

```
telnet 192.168.56.43 22

    Trying 192.168.56.43...
    Connected to 192.168.56.43.
    Escape character is '^]'.
    SSH-2.0-OpenSSH_7.4
```

Má»¥c tiÃªu tÃ i liá»‡u:

* Giáº£i thÃ­ch tá»«ng dÃ²ng output.
* Giáº£i thÃ­ch vÃ¬ sao khi telnet tá»›i cá»•ng 22 láº¡i tháº¥y "SSH-2.0-OpenSSH_7.4".
* HÆ°á»›ng dáº«n xá»­ lÃ½, kiá»ƒm tra vÃ  nhá»¯ng lá»‡nh thay tháº¿ há»£p lÃ½ (Ä‘á»ƒ debug káº¿t ná»‘i SSH).
* LÆ°u Ã½ an ninh vÃ  khuyáº¿n nghá»‹.

1. Ã nghÄ©a tá»«ng dÃ²ng

* `telnet 192.168.56.43 22` : Lá»‡nh telnet Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ má»Ÿ má»™t káº¿t ná»‘i TCP thÃ´ (raw TCP) tá»›i IP 192.168.56.43 trÃªn cá»•ng 22.

* `Trying 192.168.56.43...` : Telnet Ä‘ang cá»‘ gáº¯ng káº¿t ná»‘i tá»›i Ä‘á»‹a chá»‰ IP Ä‘Ã³ (giai Ä‘oáº¡n táº¡o socket TCP vÃ  gá»­i SYN).

* `Connected to 192.168.56.43.` : Káº¿t ná»‘i TCP tá»›i mÃ¡y Ä‘Ã­ch trÃªn cá»•ng 22 Ä‘Ã£ thÃ nh cÃ´ng; kÃªnh TCP Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t láº­p (3-way handshake hoÃ n táº¥t).

* `Escape character is '^]'.` : ThÃ´ng tin cá»§a client telnet cho biáº¿t phÃ­m táº¯t (escape) Ä‘á»ƒ thoÃ¡t khá»i phiÃªn telnet tÆ°Æ¡ng tÃ¡c â€” nháº¥n Ctrl+] Ä‘á»ƒ vÃ o prompt telnet. Tá»« Ä‘Ã³ cÃ³ thá»ƒ gÃµ `quit` hoáº·c `close`.

* `SSH-2.0-OpenSSH_7.4` : ÄÃ¢y lÃ  banner (thÃ´ng Ä‘iá»‡p) do server SSH gá»­i ngay sau khi káº¿t ná»‘i TCP Ä‘Æ°á»£c thiáº¿t láº­p. Theo giao thá»©c SSH (RFC 4253), server sáº½ gá»­i má»™t dÃ²ng ASCII báº¯t Ä‘áº§u báº±ng `SSH-` Ä‘á»ƒ khai bÃ¡o phiÃªn báº£n giao thá»©c vÃ  tÃªn/phiÃªn báº£n pháº§n má»m SSH (á»Ÿ Ä‘Ã¢y lÃ  OpenSSH phiÃªn báº£n 7.4). VÃ¬ telnet chá»‰ má»Ÿ kÃªnh TCP thuáº§n tÃºy, nÃ³ sáº½ hiá»ƒn thá»‹ banner text nÃ y. **Äiá»u nÃ y cho biáº¿t: trÃªn host 192.168.56.43 Ä‘ang cháº¡y má»™t server SSH (OpenSSH 7.4) vÃ  láº¯ng nghe trÃªn cá»•ng 22.**

2. Táº¡i sao dÃ¹ng `telnet` Ä‘á»ƒ káº¿t ná»‘i tá»›i cá»•ng 22?

* Telnet lÃ  cÃ´ng cá»¥ Ä‘Æ¡n giáº£n Ä‘á»ƒ kiá»ƒm tra liá»‡u má»™t káº¿t ná»‘i TCP tá»›i má»™t host:cá»•ng cÃ³ thá»ƒ Ä‘Æ°á»£c thiáº¿t láº­p hay khÃ´ng. Khi telnet tá»›i cá»•ng dá»‹ch vá»¥ (vÃ­ dá»¥ 22), báº¡n thÆ°á»ng tháº¥y: - náº¿u dá»‹ch vá»¥ tráº£ 1 banner text (nhÆ° FTP, SMTP, SSH) => banner sáº½ hiá»‡n. - náº¿u dá»‹ch vá»¥ chá» gÃ³i theo Ä‘á»‹nh dáº¡ng nhá»‹ phÃ¢n (nhÆ° nhiá»u dá»‹ch vá»¥) thÃ¬ báº¡n cÃ³ thá»ƒ khÃ´ng tháº¥y nhiá»u text.
* **KhÃ´ng** dÃ¹ng telnet Ä‘á»ƒ thá»±c hiá»‡n phiÃªn SSH thá»±c sá»±; telnet khÃ´ng hiá»ƒu giao thá»©c SSH, nÃ³ chá»‰ hiá»ƒn thá»‹ dá»¯ liá»‡u thÃ´ tá»« socket.

3. Äiá»u gÃ¬ xáº£y ra sau khi tháº¥y banner `SSH-2.0-OpenSSH_7.4`?

* Banner chá»‰ lÃ  giai Ä‘oáº¡n khai bÃ¡o; Ä‘á»ƒ thá»±c hiá»‡n SSH báº¡n cáº§n dÃ¹ng client SSH (vÃ­ dá»¥ `ssh user@192.168.56.43`).
* Náº¿u báº¡n gÃµ báº¥t ká»³ thá»© gÃ¬ trong telnet lÃºc nÃ y, server SSH sáº½ nháº­n dá»¯ liá»‡u khÃ´ng há»£p lá»‡ theo giao thá»©c SSH vÃ  thÆ°á»ng sáº½ Ä‘Ã³ng káº¿t ná»‘i hoáº·c tráº£ lá»—i vÃ´ hiá»‡u.

4. CÃ¡ch thoÃ¡t telnet (khi Ä‘ang á»Ÿ prompt):

* Nháº¥n `Ctrl+]` Ä‘á»ƒ vÃ o prompt telnet (sáº½ tháº¥y `telnet>`). GÃµ `quit` hoáº·c `close` Ä‘á»ƒ Ä‘Ã³ng káº¿t ná»‘i.

5. Lá»‡nh kiá»ƒm tra tÆ°Æ¡ng Ä‘Æ°Æ¡ng vÃ  debug SSH Ä‘Ãºng cÃ¡ch

* Kiá»ƒm tra káº¿t ná»‘i TCP (khÃ´ng cáº§n telnet):
  nc -vz 192.168.56.43 22
  (Netcat sáº½ bÃ¡o "succeeded" hoáº·c "failed").

* DÃ¹ng ssh client Ä‘á»ƒ kiá»ƒm tra handshake vÃ  debug chi tiáº¿t:
  ssh -v user@192.168.56.43
  hoáº·c Ä‘á»ƒ verbose hÆ¡n: `ssh -vvv user@192.168.56.43` â€” sáº½ hiá»ƒn thá»‹ quÃ¡ trÃ¬nh báº¯t tay (key exchange), xÃ¡c thá»±c, vÃ  nguyÃªn nhÃ¢n náº¿u káº¿t ná»‘i tháº¥t báº¡i.

* Láº¥y banner báº±ng curl (khi dá»‹ch vá»¥ tráº£ banner text):
  (khÃ´ng phá»• biáº¿n cho SSH nhÆ°ng cÃ³ thá»ƒ dÃ¹ng `nc` Ä‘á»ƒ in banner):
  printf "\n" | nc 192.168.56.43 22

6. NguyÃªn nhÃ¢n thÆ°á»ng gáº·p khi chá»‰ nhÃ¬n tháº¥y banner nhÆ°ng khÃ´ng thá»ƒ SSH:

* Firewall hoáº·c ACL cháº·n cÃ¡c gÃ³i SSH nhÆ°ng váº«n cho phÃ©p thiáº¿t láº­p TCP (hiáº¿m).
* Server SSH cáº¥u hÃ¬nh yÃªu cáº§u xÃ¡c thá»±c phÆ°Æ¡ng thá»©c Ä‘áº·c biá»‡t (key-only) â€” báº¡n cáº§n client SSH.
* PhiÃªn báº£n OpenSSH cÅ© cÃ³ thá»ƒ khÃ´ng há»— trá»£ má»™t sá»‘ thuáº­t toÃ¡n hiá»‡n Ä‘áº¡i; náº¿u client bá»‹ giá»›i háº¡n thuáº­t toÃ¡n, handshake cÃ³ thá»ƒ tháº¥t báº¡i â€” dÃ¹ng `ssh -vvv` Ä‘á»ƒ kiá»ƒm tra.

7. Ã nghÄ©a an ninh cá»§a banner `OpenSSH_7.4`

* Banner tiáº¿t lá»™ phiÃªn báº£n pháº§n má»m SSH. Äiá»u nÃ y há»¯u Ã­ch cho admin nhÆ°ng cÅ©ng cÃ³ thá»ƒ giÃºp káº» táº¥n cÃ´ng nháº­n dáº¡ng cÃ¡c phiÃªn báº£n cÃ³ lá»— há»•ng Ä‘Ã£ biáº¿t.
* Nhiá»‡m vá»¥ báº£o máº­t: cÃ¢n nháº¯c áº©n hoáº·c tÃ¹y biáº¿n banner náº¿u mÃ´i trÆ°á»ng yÃªu cáº§u, Ä‘á»“ng thá»i giá»¯ OpenSSH Ä‘Æ°á»£c cáº­p nháº­t (patch) vÃ  táº¯t cÃ¡c thuáº­t toÃ¡n cÅ© khÃ´ng an toÃ n.

8. Gá»£i Ã½ cáº¥u hÃ¬nh vÃ  khuyáº¿n nghá»‹

* Äá»ƒ thá»±c sá»± káº¿t ná»‘i SSH, dÃ¹ng `ssh user@192.168.56.43` (khÃ´ng dÃ¹ng telnet).
* Kiá»ƒm tra log trÃªn server (vÃ­ dá»¥ `/var/log/auth.log` hoáº·c `journalctl -u ssh` trÃªn systemd) náº¿u khÃ´ng thá»ƒ káº¿t ná»‘i.
* Sá»­ dá»¥ng `fail2ban` hoáº·c firewall rules Ä‘á»ƒ giá»›i háº¡n truy cáº­p SSH (chá»‰ cho phÃ©p IP tin cáº­y, Ä‘á»•i cá»•ng náº¿u cáº§n, nhÆ°ng lÆ°u Ã½: Ä‘á»•i cá»•ng lÃ  báº£o máº­t báº±ng che giáº¥u â€” khÃ´ng thay tháº¿ cáº¥u hÃ¬nh xÃ¡c thá»±c máº¡nh).
* Äá»«ng cÃ´ng khai Ä‘á»ƒ banner hiá»ƒn thá»‹ phiÃªn báº£n náº¿u báº¡n lo ngáº¡i vá» fingerprint pháº§n má»m; hoáº·c thiáº¿t láº­p banner tuá»³ chá»‰nh trong `sshd_config` (`Banner` directive) â€” lÆ°u Ã½ ráº±ng directive `Banner` hiá»ƒn thá»‹ sau xÃ¡c thá»±c, nhÆ°ng version string váº«n Ä‘Æ°á»£c gá»­i theo giao thá»©c.

9. VÃ­ dá»¥ lÆ°u file .txt (sáºµn Ä‘á»ƒ copy):

   telnet 192.168.56.43 22

   ```
    Trying 192.168.56.43...
    Connected to 192.168.56.43.
    Escape character is '^]'.
    SSH-2.0-OpenSSH_7.4
   ```

   Giáº£i thÃ­ch ngáº¯n:

   * Káº¿t ná»‘i TCP tá»›i cá»•ng 22 thÃ nh cÃ´ng.
   * Server tráº£ banner SSH: "SSH-2.0-OpenSSH_7.4" chá»©ng tá» dá»‹ch vá»¥ OpenSSH phiÃªn báº£n 7.4 Ä‘ang láº¯ng nghe.
   * Telnet chá»‰ hiá»ƒn thá»‹ dá»¯ liá»‡u thÃ´; Ä‘á»ƒ thá»±c hiá»‡n SSH Ä‘Ãºng pháº£i dÃ¹ng client SSH (vÃ­ dá»¥ `ssh user@192.168.56.43`).

10. Thao tÃ¡c nhanh Ä‘á»ƒ kiá»ƒm tra vÃ  kháº¯c phá»¥c:

* Thá»­ netcat:
  nc -vz 192.168.56.43 22
* Thá»­ SSH vá»›i verbose:
  ssh -vvv user@192.168.56.43
* Náº¿u cáº§n logout/thoÃ¡t telnet: Ctrl+] -> quit

---

Ghi chÃº: TÃ i liá»‡u nÃ y Ä‘Æ°á»£c trÃ¬nh bÃ y á»Ÿ Ä‘á»‹nh dáº¡ng plain text, rÃµ rÃ ng Ä‘á»ƒ báº¡n sao chÃ©p vÃ o file .txt vÃ  gá»­i/ghi chÃ©p hoáº·c dÃ¹ng lÃ m tÃ i liá»‡u hÆ°á»›ng dáº«n.


	OSI model
	
	Switch
	
	Router
	
	Firewall
	
	Gateway IP
	
	Wireless Access Point
	
	Port
	
	TCP, UDP
	
--- Introducing Containers:

	- Commands:
	
		- cmd: sudo install -m 0755 -d /etc/apt/keyrings
		
Giáº£i thÃ­ch chi tiáº¿t: `sudo install -m 0755 -d /etc/apt/keyrings`

## Má»¥c tiÃªu

Táº¡o thÆ° má»¥c `/etc/apt/keyrings` (náº¿u chÆ°a cÃ³) vá»›i quyá»n truy cáº­p cá»¥ thá»ƒ, báº±ng lá»‡nh `install` cháº¡y dÆ°á»›i quyá»n `root` (qua `sudo`).

## Giáº£i thÃ­ch tá»«ng thÃ nh pháº§n

1. `sudo`

   * Cháº¡y lá»‡nh káº¿ tiáº¿p vá»›i quyá»n superuser (root). ThÆ°á»ng cáº§n Ä‘á»ƒ táº¡o thÆ° má»¥c trong thÆ° má»¥c há»‡ thá»‘ng nhÆ° `/etc`.

2. `install`

   * ÄÃ¢y lÃ  tiá»‡n Ã­ch dÃ²ng lá»‡nh (thÆ°á»ng náº±m á»Ÿ `/usr/bin/install`) dÃ¹ng Ä‘á»ƒ sao chÃ©p file vÃ /hoáº·c táº¡o thÆ° má»¥c, Ä‘á»“ng thá»i Ä‘áº·t quyá»n vÃ  thuá»™c tÃ­nh tá»‡p trong cÃ¹ng lá»‡nh.
   * KhÃ¡c vá»›i `mkdir`, `install` cho phÃ©p thiáº¿t láº­p ngay quyá»n (mode), chá»§ sá»Ÿ há»¯u, nhÃ³m khi táº¡o.

3. `-m 0755`

   * TÃ¹y chá»n `-m` (mode) chá»‰ Ä‘á»‹nh permission (quyá»n truy cáº­p) cho thÆ° má»¥c Ä‘Æ°á»£c táº¡o, theo dáº¡ng **octal**.
   * `0755` giáº£i nghÄ©a (cho thÆ° má»¥c):

     * Chá»§ sá»Ÿ há»¯u (owner): Ä‘á»c, ghi, thá»±c thi â€” (r = 4, w = 2, x = 1) -> 7
     * NhÃ³m (group): Ä‘á»c, thá»±c thi -> 5
     * NgÆ°á»i khÃ¡c (others): Ä‘á»c, thá»±c thi -> 5
       => Káº¿t quáº£: chá»§ sá»Ÿ há»¯u cÃ³ quyá»n ghi, nhÆ°ng nhÃ³m vÃ  ngÆ°á»i khÃ¡c chá»‰ cÃ³ thá»ƒ Ä‘á»c/enter (thá»±c thi) chá»© khÃ´ng Ä‘Æ°á»£c ghi.
   * Dáº¥u `0` Ä‘áº§u thá»ƒ hiá»‡n giÃ¡ trá»‹ octal (khÃ´ng báº¯t buá»™c khi Ä‘á»c, nhÆ°ng thÆ°á»ng viáº¿t Ä‘áº§y 4 chá»¯ sá»‘ Ä‘á»ƒ rÃµ kiá»ƒu).

4. `-d`

   * YÃªu cáº§u `install` chá»‰ táº¡o cÃ¡c thÆ° má»¥c chá»© khÃ´ng sao chÃ©p file. TÆ°Æ¡ng Ä‘Æ°Æ¡ng `--directory`.
   * Náº¿u nhiá»u thÆ° má»¥c Ä‘Æ°á»£c liá»‡t kÃª, `install -d` cÃ³ thá»ƒ táº¡o láº§n lÆ°á»£t.

5. `/etc/apt/keyrings`

   * ÄÆ°á»ng dáº«n Ä‘Ã­ch: thÆ° má»¥c dÃ¹ng Ä‘á»ƒ chá»©a cÃ¡c keyrings (public keys, GPG keys) cho APT, vÃ­ dá»¥ cÃ¡c file `.gpg` do repository cung cáº¥p.
   * Máº·c Ä‘á»‹nh APT (sau cÃ¡c phiÃªn báº£n má»›i) khuyáº¿n nghá»‹ lÆ°u cÃ¡c public key repo trong `/etc/apt/keyrings/` thay vÃ¬ `/etc/apt/trusted.gpg` Ä‘á»ƒ quáº£n lÃ½ rÃµ rÃ ng hÆ¡n.

## Tá»•ng há»£p Ã½ nghÄ©a

Cháº¡y `sudo install -m 0755 -d /etc/apt/keyrings` => táº¡o thÆ° má»¥c `/etc/apt/keyrings` vá»›i quyá»n 0755 vÃ  chá»§ sá»Ÿ há»¯u máº·c Ä‘á»‹nh lÃ  `root:root` (vÃ¬ cháº¡y dÆ°á»›i `sudo`), náº¿u thÆ° má»¥c chÆ°a tá»“n táº¡i.

## So sÃ¡nh nhanh vá»›i `mkdir`

* `mkdir -p /etc/apt/keyrings` chá»‰ táº¡o thÆ° má»¥c (vá»›i quyá»n theo umask hiá»‡n hÃ nh) vÃ  khÃ´ng thay Ä‘á»•i quyá»n trá»« khi dÃ¹ng `-m`.
* `install -d -m 0755 ...` vá»«a táº¡o vá»«a Ä‘áº·t quyá»n cá»‘ Ä‘á»‹nh, há»¯u Ã­ch khi báº¡n cáº§n Ä‘áº£m báº£o quyá»n ngay láº­p tá»©c.

## CÃ¡c vÃ­ dá»¥ thá»±c táº¿

1. Táº¡o thÆ° má»¥c vá»›i `install` (nhÆ° cÃ¢u lá»‡nh yÃªu cáº§u):
   sudo install -m 0755 -d /etc/apt/keyrings

2. Táº¡o thÆ° má»¥c tÆ°Æ¡ng Ä‘Æ°Æ¡ng báº±ng `mkdir` vÃ  Ä‘áº·t quyá»n:
   sudo mkdir -p /etc/apt/keyrings
   sudo chmod 0755 /etc/apt/keyrings

3. Táº¡o thÆ° má»¥c vÃ  Ä‘áº·t chá»§ sá»Ÿ há»¯u náº¿u cáº§n (vÃ­ dá»¥ owner = root, group = root):
   sudo install -o root -g root -m 0755 -d /etc/apt/keyrings

   # install há»— trá»£ -o (owner) vÃ  -g (group) trÃªn nhiá»u há»‡; náº¿u phiÃªn báº£n khÃ´ng há»— trá»£, dÃ¹ng chown

   sudo chown root:root /etc/apt/keyrings

## Kiá»ƒm tra káº¿t quáº£

* Kiá»ƒm tra quyá»n vÃ  quyá»n sá»Ÿ há»¯u:
  ls -ld /etc/apt/keyrings
  VÃ­ dá»¥ Ä‘áº§u ra mong Ä‘á»£i:
  drwxr-xr-x 2 root root 4096 Aug 10 12:34 /etc/apt/keyrings
  Giáº£i thÃ­ch Ä‘áº§u ra:

  * `d` : thÆ° má»¥c
  * `rwxr-xr-x` : tÆ°Æ¡ng á»©ng 0755
  * `2` : sá»‘ link
  * `root root` : owner vÃ  group

## LÆ°u Ã½ vá» báº£o máº­t

* Quyá»n 0755 cho phÃ©p báº¥t ká»³ user nÃ o Ä‘á»c ná»™i dung thÆ° má»¥c (liá»‡t kÃª file) vÃ  truy cáº­p file bÃªn trong náº¿u file Ä‘Ã³ cÃ³ quyá»n truy cáº­p. Tuy nhiÃªn chá»‰ `root` cÃ³ quyá»n ghi (thÃªm/xÃ³a file) â€” Ä‘iá»u nÃ y an toÃ n cho keyrings vÃ¬ chá»‰ ngÆ°á»i quáº£n trá»‹ nÃªn thay Ä‘á»•i keys.
* Náº¿u báº¡n muá»‘n giá»›i háº¡n truy cáº­p chá»‰ cho root, cÃ³ thá»ƒ dÃ¹ng `0700` (chá»‰ owner cÃ³ quyá»n), nhÆ°ng APT hay cÃ¡c tiáº¿n trÃ¬nh khÃ¡c cÃ³ thá»ƒ cáº§n Ä‘á»c key files; do Ä‘Ã³ 0755 lÃ  lá»±a chá»n phá»• biáº¿n Ä‘á»ƒ chá»‰ cho phÃ©p Ä‘á»c nhÆ°ng khÃ´ng cho ghi.
* Äá»‘i vá»›i há»‡ thá»‘ng cÃ³ SELinux/AppArmor, táº¡o thÆ° má»¥c cÃ²n cáº§n Ä‘áº£m báº£o context phÃ¹ há»£p. Náº¿u gáº·p váº¥n Ä‘á» truy cáº­p, kiá»ƒm tra audit logs vÃ  dÃ¹ng `restorecon` (trÃªn SELinux) náº¿u cáº§n:
  sudo restorecon -Rv /etc/apt/keyrings

## Khi nÃ o cáº§n cháº¡y lá»‡nh nÃ y

* Khi cÃ i Ä‘áº·t repository bÃªn ngoÃ i (third-party) mÃ  hÆ°á»›ng dáº«n yÃªu cáº§u lÆ°u GPG key vÃ o `/etc/apt/keyrings/`.
* TrÆ°á»›c khi chÃ©p file `.gpg` vÃ o thÆ° má»¥c nÃ y, Ä‘áº£m báº£o thÆ° má»¥c Ä‘Ã£ tá»“n táº¡i vÃ  cÃ³ quyá»n phÃ¹ há»£p.

## CÃ¡ch viáº¿t ná»™i dung Ä‘á»ƒ copy vÃ o file .txt

DÆ°á»›i Ä‘Ã¢y lÃ  báº£n plain-text, báº¡n cÃ³ thá»ƒ copy tháº³ng vÃ o file `.txt`:

----- Báº®T Äáº¦U COPY -----
Giáº£i thÃ­ch chi tiáº¿t: sudo install -m 0755 -d /etc/apt/keyrings

Má»¥c tiÃªu:
Táº¡o thÆ° má»¥c /etc/apt/keyrings vá»›i quyá»n 0755 vÃ  chá»§ sá»Ÿ há»¯u root.

Ã nghÄ©a thÃ nh pháº§n:

* sudo: cháº¡y lá»‡nh vá»›i quyá»n root
* install: tiá»‡n Ã­ch táº¡o file/thÆ° má»¥c vÃ  Ä‘áº·t quyá»n
* -m 0755: thiáº¿t láº­p permission octal (owner=rwx, group=rx, others=rx)
* -d: táº¡o thÆ° má»¥c
* /etc/apt/keyrings: Ä‘Æ°á»ng dáº«n Ä‘Ã­ch Ä‘á»ƒ lÆ°u APT keyrings

VÃ­ dá»¥ lá»‡nh:
sudo install -m 0755 -d /etc/apt/keyrings

Kiá»ƒm tra:
ls -ld /etc/apt/keyrings

# mong Ä‘á»£i: drwxr-xr-x 2 root root ... /etc/apt/keyrings

So sÃ¡nh:

* mkdir -p /etc/apt/keyrings && sudo chmod 0755 /etc/apt/keyrings
  tÆ°Æ¡ng Ä‘Æ°Æ¡ng nhÆ°ng tÃ¡ch 2 bÆ°á»›c

Báº£o máº­t:

* 0755 cho phÃ©p Ä‘á»c/enter cho má»i user, chá»‰ root Ä‘Æ°á»£c ghi
* Náº¿u cáº§n chá»‰ root truy cáº­p, dÃ¹ng 0700 nhÆ°ng cÃ¢n nháº¯c APT cÃ³ cáº§n Ä‘á»c khÃ´ng

----- Káº¾T THÃšC COPY -----
		
		
		- cmd: curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
		
Giáº£i thÃ­ch chi tiáº¿t lá»‡nh:

curl -fsSL [https://download.docker.com/linux/ubuntu/gpg](https://download.docker.com/linux/ubuntu/gpg) | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

---

Má»¥c Ä‘Ã­ch tá»•ng quÃ¡t:
Táº£i khoÃ¡ GPG cÃ´ng khai cá»§a Docker tá»« server chÃ­nh thá»©c vÃ  chuyá»ƒn nÃ³ sang Ä‘á»‹nh dáº¡ng "binary keyring" (dearmored) rá»“i lÆ°u vÃ o
thÆ° má»¥c /etc/apt/keyrings/ dÆ°á»›i tÃªn docker.gpg. Thao tÃ¡c nÃ y chuáº©n bá»‹ cho viá»‡c thÃªm repository Docker vÃ o há»‡ thá»‘ng APT cá»§a Ubuntu
mÃ  khÃ´ng dÃ¹ng apt-key (apt-key Ä‘Ã£ bá»‹ khuyáº¿n cÃ¡o khÃ´ng dÃ¹ng).

---

Giáº£i thÃ­ch tá»«ng pháº§n cá»§a lá»‡nh (dÃ²ng-Ä‘i-dÃ²ng):

1. curl

   * lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ táº£i ná»™i dung tá»« URL (HTTP/HTTPS).

2. -f
   --fail:
   Náº¿u server tráº£ mÃ£ lá»—i HTTP (4xx hoáº·c 5xx), curl sáº½ "fail" (thoÃ¡t vá»›i mÃ£ lá»—i) vÃ  khÃ´ng in HTML lá»—i ra stdout.
   Äiá»u nÃ y giÃºp trÃ¡nh ghi láº¡i trang lá»—i HTML vÃ o file khoÃ¡.

3. -s
   --silent:
   Cháº¡y im láº·ng: khÃ´ng in tiáº¿n trÃ¬nh táº£i vá», thanh tiáº¿n trÃ¬nh, hay thÃ´ng tin thÃ´ng thÆ°á»ng.

4. -S
   --show-error:
   Khi dÃ¹ng cÃ¹ng -s, náº¿u cÃ³ lá»—i xáº£y ra curl sáº½ in thÃ´ng bÃ¡o lá»—i ra stderr. ThÆ°á»ng dÃ¹ng cáº·p -sS.
   (Trong chuá»—i `-fsSL`, chá»¯ `S` viáº¿t hoa lÃ  tÃ¹y chá»n --show-error.)

5. -L
   --location:
   Theo redirects (HTTP 3xx). Náº¿u URL Ä‘Æ°á»£c chuyá»ƒn hÆ°á»›ng, curl sáº½ tá»± theo location má»›i Ä‘á»ƒ láº¥y ná»™i dung.

6. [https://download.docker.com/linux/ubuntu/gpg](https://download.docker.com/linux/ubuntu/gpg)

   * URL cá»§a khoÃ¡ GPG cÃ´ng khai mÃ  Docker phÃ¡t hÃ nh Ä‘á»ƒ kÃ½ gÃ³i/apt repository. ÄÃ¢y lÃ  nguá»“n chÃ­nh thá»©c cho khoÃ¡ cá»§a Docker.

7. |

   * pipe (Ä‘Æ°á»ng á»‘ng): chuyá»ƒn output (stdout) tá»« lá»‡nh bÃªn trÃ¡i (curl) sang input (stdin) cá»§a lá»‡nh bÃªn pháº£i (gpg).

8. sudo

   * thá»±c hiá»‡n pháº§n sau vá»›i quyá»n root, vÃ¬ ghi vÃ o /etc/apt/keyrings/ cáº§n quyá»n quáº£n trá»‹.

9. gpg --dearmor

   * gpg thÆ°á»ng lÆ°u khoÃ¡ á»Ÿ Ä‘á»‹nh dáº¡ng ASCII-armored (tá»‡p vÄƒn báº£n báº¯t Ä‘áº§u báº±ng -----BEGIN PGP PUBLIC KEY BLOCK-----).
   * `--dearmor` chuyá»ƒn khoÃ¡ ASCII-armored sang dáº¡ng binary (gÃ³i keyring theo Ä‘á»‹nh dáº¡ng GPG) â€” Ä‘Ã¢y lÃ  Ä‘á»‹nh dáº¡ng Ä‘Æ°á»£c khuyáº¿n nghá»‹
     Ä‘á»ƒ APT Ä‘á»c tá»« /etc/apt/keyrings/.

10. -o /etc/apt/keyrings/docker.gpg

    * ghi output (file binary dearmored) vÃ o Ä‘Æ°á»ng dáº«n /etc/apt/keyrings/docker.gpg.
    * Äáº£m báº£o thÆ° má»¥c /etc/apt/keyrings/ tá»“n táº¡i; náº¿u chÆ°a cÃ³, cáº§n táº¡o trÆ°á»›c (vÃ­ dá»¥: sudo mkdir -p /etc/apt/keyrings && sudo chmod 0755 /etc/apt/keyrings).

---

Táº¡i sao dÃ¹ng cÃ¡ch nÃ y (thay vÃ¬ apt-key):

* `apt-key` Ä‘Ã£ bá»‹ khuyáº¿n nghá»‹ lÃ  deprecated (khÃ´ng nÃªn dÃ¹ng) vÃ¬ lÃ½ do báº£o máº­t: apt-key thÃªm khoÃ¡ vÃ o keyring toÃ n cá»¥c (/etc/apt/trusted.gpg)
  lÃ m cho táº¥t cáº£ repo Ä‘Æ°á»£c tin cáº­y báº±ng cÃ¹ng má»™t khoÃ¡.
* CÃ¡ch má»›i: lÆ°u khoÃ¡ riÃªng cho repo vÃ o /etc/apt/keyrings/*.gpg vÃ  tham chiáº¿u tá»›i file Ä‘Ã³ trong file source list cá»§a apt (vÃ­ dá»¥
  trong /etc/apt/sources.list.d/docker.list dÃ¹ng `signed-by=/etc/apt/keyrings/docker.gpg`).

---

VÃ­ dá»¥ quy trÃ¬nh Ä‘áº§y Ä‘á»§ (thÃªm Docker repository an toÃ n):

1. Táº¡o thÆ° má»¥c keyrings (náº¿u chÆ°a cÃ³):
   sudo mkdir -p /etc/apt/keyrings
   sudo chmod 0755 /etc/apt/keyrings

2. Táº£i vÃ  dearmor khoÃ¡ (lá»‡nh báº¡n Ä‘Ã£ dÃ¹ng):
   curl -fsSL [https://download.docker.com/linux/ubuntu/gpg](https://download.docker.com/linux/ubuntu/gpg) | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

3. Táº¡o file sources.list cho Docker (vÃ­ dá»¥ cho Ubuntu focal/x86_64):
   echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] [https://download.docker.com/linux/ubuntu](https://download.docker.com/linux/ubuntu) $(lsb_release -cs) stable" 
   | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

4. Cáº­p nháº­t APT vÃ  cÃ i Docker Engine:
   sudo apt update
   sudo apt install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

---

Kiá»ƒm tra & xÃ¡c thá»±c khoÃ¡ (an toÃ n hÆ¡n so vá»›i pipe trá»±c tiáº¿p):

Ã nghÄ©a: viá»‡c pipe trá»±c tiáº¿p tá»« curl vÃ o gpg lÃ  nhanh nhÆ°ng cÃ³ rá»§i ro náº¿u URL bá»‹ gá»¡, thay Ä‘á»•i, hoáº·c bá»‹ MITM. Báº¡n cÃ³ thá»ƒ táº£i file vá» trÆ°á»›c, kiá»ƒm tra,
rá»“i dearmor khi Ä‘Ã£ kiá»ƒm tra fingerprint. VÃ­ dá»¥:

curl -fsSL -o docker.gpg [https://download.docker.com/linux/ubuntu/gpg](https://download.docker.com/linux/ubuntu/gpg)
gpg --show-keys docker.gpg

# kiá»ƒm tra fingerprint vá»›i tÃ i liá»‡u chÃ­nh thá»©c cá»§a Docker

gpg --dearmor docker.gpg
sudo mv docker.gpg.gpg /etc/apt/keyrings/docker.gpg

Hoáº·c (an toÃ n hÆ¡n ná»¯a) so sÃ¡nh SHA256 cá»§a file táº£i vá» vá»›i giÃ¡ trá»‹ fingerprint do Docker cung cáº¥p (náº¿u há» publish). Náº¿u khÃ´ng cÃ³, Ä‘áº£m báº£o báº¡n
Ä‘ang táº£i tá»« káº¿t ná»‘i HTTPS vÃ  náº¿u cÃ³ thá»ƒ, kiá»ƒm tra qua nhiá»u nguá»“n chÃ­nh thá»©c.

---

Quyá»n truy cáº­p & lá»—i thÆ°á»ng gáº·p

* Lá»—i: "No such file or directory" khi ghi /etc/apt/keyrings/docker.gpg
  -> CÃ³ thá»ƒ do thÆ° má»¥c /etc/apt/keyrings chÆ°a tá»“n táº¡i. Táº¡o thÆ° má»¥c trÆ°á»›c: sudo mkdir -p /etc/apt/keyrings

* Lá»—i: "gpg: cannot open output file: Permission denied"
  -> Náº¿u báº¡n quÃªn `sudo` trÆ°á»›c gpg (vÃ­ dá»¥ piped to gpg without sudo), gpg khÃ´ng thá»ƒ ghi vÃ o /etc/apt. HÃ£y dÃ¹ng `sudo sh -c '...'` hoáº·c pipe vÃ o
  `sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg` nhÆ° á»Ÿ lá»‡nh gá»‘c.

* Lá»—i: curl tráº£ vá» HTTP error hoáº·c khÃ´ng thá»ƒ káº¿t ná»‘i
  -> Kiá»ƒm tra káº¿t ná»‘i máº¡ng, proxy, hoáº·c chá»©ng chá»‰ CA trÃªn há»‡ thá»‘ng. -f sáº½ khiáº¿n curl exit khi nháº­n HTTP 4xx/5xx.

---

TÃ¹y chá»n thay tháº¿ / má»Ÿ rá»™ng

* Náº¿u muá»‘n lÆ°u file khoÃ¡ táº¡m vÃ o thÆ° má»¥c hiá»‡n táº¡i Ä‘á»ƒ kiá»ƒm tra trÆ°á»›c:
  curl -fsSL -o docker-apt-key.asc [https://download.docker.com/linux/ubuntu/gpg](https://download.docker.com/linux/ubuntu/gpg)
  gpg --show-keys docker-apt-key.asc
  gpg --dearmor docker-apt-key.asc
  sudo mv docker-apt-key.asc.gpg /etc/apt/keyrings/docker.gpg

* Náº¿u há»‡ thá»‘ng khÃ´ng cÃ³ `gpg`:
  sudo apt update && sudo apt install gnupg -y

---

LÆ°u output giáº£i thÃ­ch nÃ y ra file .txt (náº¿u báº¡n muá»‘n):

* Báº¡n cÃ³ thá»ƒ copy toÃ n bá»™ ná»™i dung nÃ y (bÃ´i Ä‘en vÃ  Ctrl+C) rá»“i dÃ¡n vÃ o file .txt báº±ng trÃ¬nh soáº¡n tháº£o (vÃ­ dá»¥ nano explain.txt).
* Hoáº·c lÆ°u trá»±c tiáº¿p báº±ng shell náº¿u báº¡n Ä‘Ã£ cÃ³ ná»™i dung á»Ÿ má»™t file, nhÆ°ng vÃ¬ Ä‘Ã¢y lÃ  vÄƒn báº£n mÃ´ táº£, copy thá»§ cÃ´ng lÃ  thuáº­n tiá»‡n nháº¥t.

---

LÆ°u Ã½ báº£o máº­t & Ä‘áº¡o Ä‘á»©c:

* Chá»‰ táº£i khoÃ¡ vÃ  repository tá»« nguá»“n chÃ­nh thá»©c (trong vÃ­ dá»¥ lÃ  download.docker.com). Viá»‡c thÃªm khoÃ¡ tá»« nguá»“n khÃ´ng tin cáº­y cÃ³ thá»ƒ cho phÃ©p
  káº» xáº¥u cÃ i Ä‘áº·t gÃ³i mÃ£ Ä‘á»™c qua APT.
* LuÃ´n kiá»ƒm tra fingerprint khoÃ¡ náº¿u cÃ³ thá»ƒ.

---

Náº¿u báº¡n muá»‘n, mÃ¬nh cÃ³ thá»ƒ:

* Viáº¿t sáºµn file `/etc/apt/sources.list.d/docker.list` tÆ°Æ¡ng thÃ­ch vá»›i phiÃªn báº£n Ubuntu cá»§a báº¡n (hÃ£y cho biáº¿t `lsb_release -cs`).
* Táº¡o phiÃªn báº£n ngáº¯n gá»n Ä‘á»ƒ chÃ©p nhanh vÃ o file .txt.

-- Káº¾T THÃšC TÃ€I LIá»†U --
		
		
		- cmd: echo \
			  "deb [arch="$(dpkg --print-architecture)" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
			  "$(. /etc/os-release && echo "$VERSION_CODENAME")" stable" | \
			  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
			  
========================================
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH
========================================

Lá»†NH NGUYÃŠN Báº¢N:
echo \
  "deb [arch=\"$(dpkg --print-architecture)\" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
  \"$(. /etc/os-release && echo \"$VERSION_CODENAME\")\" stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

Má»¤C ÄÃCH CHUNG:
----------------------------------------
Lá»‡nh nÃ y táº¡o má»™t file nguá»“n (APT source list) Ä‘á»ƒ thÃªm repository chÃ­nh thá»©c cá»§a Docker cho Ubuntu vÃ o há»‡ thá»‘ng, ghi vÃ o
`/etc/apt/sources.list.d/docker.list`. File sáº½ chá»©a má»™t dÃ²ng `deb ...` vá»›i kiáº¿n trÃºc mÃ¡y vÃ  mÃ£ phÃ¡t hÃ nh (codename)
tá»± Ä‘á»™ng thay tháº¿, Ä‘á»“ng thá»i chá»‰ Ä‘á»‹nh khoÃ¡ GPG dÃ¹ng Ä‘á»ƒ xÃ¡c thá»±c gÃ³i (`signed-by=/etc/apt/keyrings/docker.gpg`).

PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG PHáº¦N
----------------------------------------

1) echo \
   - DÃ¹ng `echo` Ä‘á»ƒ in ná»™i dung chuá»—i ra stdout. Dáº¥u gáº¡ch chÃ©o ngÆ°á»£c `\` á»Ÿ cuá»‘i dÃ²ng cho phÃ©p xuá»‘ng dÃ²ng trong shell Ä‘á»ƒ cÃ¢u lá»‡nh dá»… Ä‘á»c (line continuation).

2) "deb [arch=\"$(dpkg --print-architecture)\" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
   \"$(. /etc/os-release && echo \"$VERSION_CODENAME\")\" stable"
   - ToÃ n bá»™ Ä‘oáº¡n nÃ y lÃ  chuá»—i ná»™i dung sáº½ Ä‘Æ°á»£c echo (ná»™i dung cá»§a má»™t dÃ²ng nguá»“n APT).
   - Cáº¥u trÃºc `deb [options] <uri> <distribution> <components...>`
     * `deb` : loáº¡i repository (binary packages).
     * `[arch="..."]` : chá»‰ Ä‘á»‹nh kiáº¿n trÃºc gÃ³i (vÃ­ dá»¥: amd64, arm64).  
       - `$(dpkg --print-architecture)` lÃ  má»™t command substitution: shell sáº½ cháº¡y `dpkg --print-architecture` vÃ  Ä‘áº·t káº¿t quáº£ vÃ o chá»— nÃ y.
       - `dpkg --print-architecture` tráº£ vá» kiáº¿n trÃºc APT Ä‘ang dÃ¹ng trÃªn há»‡ (vÃ­ dá»¥ `amd64`).
     * `signed-by=/etc/apt/keyrings/docker.gpg` : chá»‰ Ä‘á»‹nh file khÃ³a GPG dÃ¹ng Ä‘á»ƒ xÃ¡c thá»±c repository nÃ y (tÄƒng an toÃ n, dÃ¹ng keyring riÃªng thay vÃ¬ global).
     * `https://download.docker.com/linux/ubuntu` : URL cá»§a Docker APT repository cho Ubuntu.
     * `"$(. /etc/os-release && echo "$VERSION_CODENAME")"` :
       - `$(...)` lÃ  command substitution thÃªm láº§n ná»¯a.
       - `. /etc/os-release` (hoáº·c `source /etc/os-release`) náº¡p cÃ¡c biáº¿n mÃ´i trÆ°á»ng trong file `/etc/os-release` vÃ o shell hiá»‡n táº¡i (vÃ­ dá»¥ `VERSION_CODENAME=focal`, `jammy`, `bionic`, ...).
       - `&& echo "$VERSION_CODENAME"` in ra giÃ¡ trá»‹ cá»§a biáº¿n `VERSION_CODENAME` â€” Ä‘Ã¢y chÃ­nh lÃ  *distribution* (mÃ£ phiÃªn báº£n Ubuntu) nhÆ° `focal`, `jammy`,...
       - DÃ¹ng dáº¥u ngoáº·c kÃ©p Ä‘á»ƒ giá»¯ an toÃ n náº¿u chuá»—i cÃ³ kÃ½ tá»± Ä‘áº·c biá»‡t (thÆ°á»ng khÃ´ng cáº§n, nhÆ°ng an toÃ n).
     * `stable` : component â€” nhÃ¡nh á»•n Ä‘á»‹nh cá»§a Docker packages.

   - Káº¿t quáº£ sau khi má»Ÿ rá»™ng cÃ³ dáº¡ng vÃ­ dá»¥:
     deb [arch="amd64" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu jammy stable

3) | \
   - Dáº¥u `|` (pipe) chuyá»ƒn stdout tá»« `echo` sang lá»‡nh tiáº¿p theo.
   - Dáº¥u `\` chá»‰ Ä‘á»ƒ xuá»‘ng dÃ²ng cho Ä‘áº¹p, khÃ´ng áº£nh hÆ°á»Ÿng logic.

4) sudo tee /etc/apt/sources.list.d/docker.list
   - `sudo` cháº¡y lá»‡nh sau vá»›i quyá»n root (vÃ¬ ghi vÃ o /etc cáº§n quyá»n).
   - `tee /etc/apt/sources.list.d/docker.list`:
     * `tee` nháº­n stdin vÃ  ghi ra file Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh Ä‘á»“ng thá»i ghi tiáº¿p ra stdout.
     * á» Ä‘Ã¢y `tee` Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ ghi ná»™i dung chuá»—i vÃ o file `/etc/apt/sources.list.d/docker.list`.
     * VÃ¬ `tee` cháº¡y dÆ°á»›i `sudo`, nÃ³ cÃ³ quyá»n ghi file mÃ  khÃ´ng cáº§n `sudo` cho `echo` (thá»±c táº¿ `echo > file` vá»›i redirection khÃ´ng thá»ƒ dÃ¹ng `sudo` Ä‘Æ¡n giáº£n, nÃªn dÃ¹ng `tee`).

5) > /dev/null
   - `tee` máº·c Ä‘á»‹nh ghi ná»™i dung cáº£ ra stdout; `> /dev/null` chuyá»ƒn stdout Ä‘Ã³ vÃ o `/dev/null` Ä‘á»ƒ khÃ´ng hiá»ƒn thá»‹ á»Ÿ terminal.
   - Káº¿t quáº£: file Ä‘Æ°á»£c táº¡o/ghi, vÃ  khÃ´ng cÃ³ output hiá»ƒn thá»‹ cho user.

NHá»®NG LÆ¯U Ã Vá»€ Ká»¸ THUáº¬T VÃ€ Báº¢O Máº¬T
----------------------------------------
- `signed-by=/etc/apt/keyrings/docker.gpg` giáº£ Ä‘á»‹nh báº¡n Ä‘Ã£ lÆ°u khoÃ¡ GPG cá»§a Docker á»Ÿ Ä‘Ã³. Náº¿u file khoÃ¡ chÆ°a tá»“n táº¡i, APT sáº½ khÃ´ng thá»ƒ xÃ¡c thá»±c gÃ³i. ThÃ´ng thÆ°á»ng trÆ°á»›c Ä‘Ã³ báº¡n cáº§n:
  * táº¡o thÆ° má»¥c `/etc/apt/keyrings` (vá»›i quyá»n root)
  * táº£i vÃ  lÆ°u khoÃ¡ GPG cá»§a Docker vÃ o `/etc/apt/keyrings/docker.gpg` (vÃ­ dá»¥ dÃ¹ng `curl` hoáº·c `gpg --dearmor`).
- DÃ¹ng `arch="$(dpkg --print-architecture)"` lÃ m cho repository phÃ¹ há»£p vá»›i kiáº¿n trÃºc há»‡, trÃ¡nh lá»—i khi trÃªn arm64/amd64.
- DÃ¹ng `VERSION_CODENAME` tá»« `/etc/os-release` Ä‘áº£m báº£o báº¡n thÃªm Ä‘Ãºng distribution codename (vÃ­ dá»¥ `jammy`, `focal`), trÃ¡nh chá»n nháº§m vÃ  cÃ i phiÃªn báº£n khÃ´ng tÆ°Æ¡ng thÃ­ch.
- Ghi file vÃ o `/etc/apt/sources.list.d/docker.list` lÃ  cÃ¡ch chuáº©n Ä‘á»ƒ thÃªm third-party repo mÃ  khÃ´ng sá»­a file sources chÃ­nh.

CÃC Lá»†NH TIá»†N ÃCH (náº¿u báº¡n muá»‘n cháº¡y theo thá»© tá»± chuáº©n)
----------------------------------------
# Táº¡o thÆ° má»¥c keyrings (náº¿u chÆ°a cÃ³)
sudo mkdir -p /etc/apt/keyrings
# Táº£i vÃ  lÆ°u khoÃ¡ GPG (vÃ­ dá»¥)
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
# Sau Ä‘Ã³ thá»±c hiá»‡n lá»‡nh thÃªm source (lá»‡nh cá»§a báº¡n)
echo \
  "deb [arch=\"$(dpkg --print-architecture)\" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
  \"$(. /etc/os-release && echo \"$VERSION_CODENAME\")\" stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
# Cáº­p nháº­t cache apt
sudo apt update

VÃ Dá»¤ Káº¾T QUáº¢ FILE /etc/apt/sources.list.d/docker.list (sau khi cháº¡y):
deb [arch="amd64" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu jammy stable

Tá»”NG Káº¾T NGáº®N
----------------------------------------
- Lá»‡nh tá»± Ä‘á»™ng táº¡o má»™t dÃ²ng repository Docker phÃ¹ há»£p vá»›i kiáº¿n trÃºc vÃ  codename cá»§a há»‡ Ubuntu, lÆ°u vÃ o file sources riÃªng.
- DÃ¹ng `signed-by` Ä‘á»ƒ chá»‰ Ä‘á»‹nh keyring riÃªng, an toÃ n hÆ¡n so vá»›i thÃªm key global.
- Cáº§n Ä‘áº£m báº£o Ä‘Ã£ Ä‘áº·t khoÃ¡ GPG vÃ o `/etc/apt/keyrings/docker.gpg` trÆ°á»›c khi `apt update` Ä‘á»ƒ trÃ¡nh lá»—i xÃ¡c thá»±c.

========================================
Háº¾T
========================================
			  
			  
		- cmd: sudo apt-get update
		
Giáº£i thÃ­ch chi tiáº¿t (plain text) - Báº¢N DÃ™NG Äá»‚ COPY VÃ€O .txt

DÆ°á»›i Ä‘Ã¢y lÃ  báº£n giáº£i thÃ­ch chi tiáº¿t cho cÃ¢u lá»‡nh:

```
sudo apt-get update
```

ToÃ n bá»™ ná»™i dung náº±m trong khá»‘i plain-text Ä‘á»ƒ báº¡n cÃ³ thá»ƒ sao chÃ©p trá»±c tiáº¿p vÃ o file .txt.

--- START OF TEXT (COPY FROM HERE) ---

TiÃªu Ä‘á»: Giáº£i thÃ­ch chi tiáº¿t `sudo apt-get update`

1. Má»¥c Ä‘Ã­ch tá»•ng quan

   * Lá»‡nh `sudo apt-get update` dÃ¹ng Ä‘á»ƒ cáº­p nháº­t **danh sÃ¡ch gÃ³i (package list)** trÃªn há»‡ thá»‘ng Debian/Ubuntu vÃ  cÃ¡c báº£n phÃ¢n phá»‘i Linux dá»±a trÃªn APT.
   * Lá»‡nh nÃ y **KHÃ”NG cÃ i Ä‘áº·t** hay **nÃ¢ng cáº¥p gÃ³i**, mÃ  chá»‰ cáº­p nháº­t thÃ´ng tin má»›i nháº¥t vá» cÃ¡c gÃ³i tá»« repository.
   * ÄÃ¢y lÃ  bÆ°á»›c quan trá»ng trÆ°á»›c khi cÃ i pháº§n má»m má»›i hoáº·c nÃ¢ng cáº¥p há»‡ thá»‘ng.

2. PhÃ¢n tÃ­ch tá»«ng thÃ nh pháº§n

   * `sudo`

     * Cháº¡y lá»‡nh vá»›i quyá»n quáº£n trá»‹ (root).
     * Báº¯t buá»™c vÃ¬ cáº­p nháº­t danh sÃ¡ch gÃ³i áº£nh hÆ°á»Ÿng Ä‘áº¿n há»‡ thá»‘ng.

   * `apt-get`

     * TrÃ¬nh quáº£n lÃ½ gÃ³i cáº¥p tháº¥p cá»§a Debian/Ubuntu.
     * CÃ¡c lá»‡nh phá»• biáº¿n: update, upgrade, install, remove, dist-upgrade...
     * `apt` (má»›i hÆ¡n) lÃ  phiÃªn báº£n thÃ¢n thiá»‡n hÆ¡n dÃ nh cho ngÆ°á»i dÃ¹ng.

   * `update`

     * Chá»‰ thá»‹ cho APT táº£i vá» **danh sÃ¡ch gÃ³i má»›i nháº¥t** tá»« cÃ¡c kho (repository) náº±m trong file:
       /etc/apt/sources.list
       /etc/apt/sources.list.d/*.list
     * APT sáº½:

       * Táº£i metadata cá»§a gÃ³i.
       * Kiá»ƒm tra phiÃªn báº£n má»›i.
       * Cáº­p nháº­t database local APT.
       * Tuyá»‡t Ä‘á»‘i khÃ´ng thay Ä‘á»•i pháº§n má»m Ä‘Ã£ cÃ i.

3. QuÃ¡ trÃ¬nh diá»…n ra khi cháº¡y lá»‡nh

   * Há»‡ thá»‘ng Ä‘á»c cáº¥u hÃ¬nh repository.
   * Gá»­i yÃªu cáº§u HTTP/HTTPS tá»›i cÃ¡c mirror (vÃ­ dá»¥ archive.ubuntu.com, security.ubuntu.com...).
   * Táº£i vá» cÃ¡c file nhÆ°:
     Packages.gz
     Release
     InRelease
   * Cáº­p nháº­t index local táº¡i /var/lib/apt/lists/
   * Sau khi thÃ nh cÃ´ng, há»‡ thá»‘ng sáº½ biáº¿t:

     * PhiÃªn báº£n má»›i cá»§a tá»«ng gÃ³i
     * GÃ³i nÃ o bá»‹ thay tháº¿
     * CÃ¡c gÃ³i má»›i, gÃ³i bá»‹ xoÃ¡ khá»i kho

4. Khi nÃ o cáº§n cháº¡y `apt-get update`?

   * TrÆ°á»›c khi cÃ i pháº§n má»m: `sudo apt-get update && sudo apt-get install <package>`
   * TrÆ°á»›c khi nÃ¢ng cáº¥p há»‡ thá»‘ng: `sudo apt-get update && sudo apt-get upgrade`
   * Sau khi thay Ä‘á»•i cÃ¡c file *.list trong /etc/apt/sources.list.d/
   * Sau khi thÃªm repository má»›i (PPA, kho riÃªng...).
   * Khi apt bÃ¡o lá»—i gÃ³i khÃ´ng tÃ¬m tháº¥y.

5. Ã nghÄ©a quan trá»ng

   * Náº¿u khÃ´ng cháº¡y `apt-get update`, há»‡ thá»‘ng cÃ³ thá»ƒ:

     * KhÃ´ng tÃ¬m tháº¥y gÃ³i má»›i
     * KhÃ´ng biáº¿t báº£n cáº­p nháº­t báº£o máº­t má»›i
     * CÃ i Ä‘áº·t phiÃªn báº£n quÃ¡ cÅ© cá»§a gÃ³i
     * BÃ¡o lá»—i 404 khi cÃ i gÃ³i

6. Kiá»ƒm tra káº¿t quáº£ sau khi cháº¡y

   * Náº¿u thÃ nh cÃ´ng, báº¡n sáº½ tháº¥y cÃ¡c dÃ²ng nhÆ°:
     Hit:1 [http://archive.ubuntu.com/ubuntu](http://archive.ubuntu.com/ubuntu) focal InRelease
     Get:2 [http://security.ubuntu.com/ubuntu](http://security.ubuntu.com/ubuntu) focal-security InRelease
     Reading package lists... Done

   * Náº¿u lá»—i, cÃ³ thá»ƒ gáº·p:

     * "Failed to fetch ..."
     * "The repository ... does not have a Release file"
     * "NO_PUBKEY"
     * "Temporary failure resolving ..." (DNS lá»—i)

7. CÃ¡c lá»‡nh liÃªn quan

   * `sudo apt-get upgrade`

     * NÃ¢ng cáº¥p cÃ¡c gÃ³i Ä‘Ã£ cÃ i Ä‘áº·t lÃªn phiÃªn báº£n má»›i hÆ¡n náº¿u khÃ´ng lÃ m thay Ä‘á»•i phá»¥ thuá»™c lá»›n.

   * `sudo apt-get dist-upgrade`

     * NÃ¢ng cáº¥p thÃ´ng minh hÆ¡n, cÃ³ thá»ƒ gá»¡/Ä‘á»•i gÃ³i náº¿u cáº§n.

   * `sudo apt-get install <package>`

     * CÃ i gÃ³i pháº§n má»m.

   * `sudo apt-get update -o Acquire::http::No-Cache=true`

     * Bá» cache khi táº£i metadata (Ã­t dÃ¹ng).

   * `sudo apt update`

     * Lá»‡nh má»›i hÆ¡n, Ä‘áº¹p hÆ¡n, output dá»… Ä‘á»c hÆ¡n.

8. LÆ°u Ã½ quan trá»ng

   * `apt-get update` khÃ´ng thay Ä‘á»•i gÃ³i Ä‘Ã£ cÃ i â†’ hoÃ n toÃ n an toÃ n.
   * CÃ³ thá»ƒ pháº£i cháº¡y láº¡i náº¿u máº¡ng bá»‹ giÃ¡n Ä‘oáº¡n.
   * Náº¿u dÃ¹ng proxy, cáº§n kiá»ƒm tra file:
     /etc/apt/apt.conf

--- END OF TEXT (COPY UNTIL HERE) ---

Ghi chÃº: TÃ i liá»‡u hiá»‡n á»Ÿ Ä‘á»‹nh dáº¡ng plain-text, sáºµn sÃ ng copy vÃ o file .txt.
		
		
		- cmd: sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin -y
		
		
		
		- cmd:  root@ubuntu-focal:~# systemctl status docker
		
				â— docker.service - Docker Application Container Engine
					 Loaded: loaded (/lib/systemd/system/docker.service; enabled; vendor preset: enabled)
					 Active: active (running) since Sun 2025-09-21 07:47:33 UTC; 1min 12s ago
				TriggeredBy: â— docker.socket
					   Docs: https://docs.docker.com
				   Main PID: 3868 (dockerd)
					  Tasks: 9
					 Memory: 21.3M
					 CGroup: /system.slice/docker.service
							 â””â”€3868 /usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock

				Sep 21 07:47:33 ubuntu-focal systemd[1]: Started Docker Application Container Engine.
				
Giáº£i thÃ­ch chi tiáº¿t: `systemctl status docker` (vÃ­ dá»¥ Ä‘áº§u ra)

DÆ°á»›i Ä‘Ã¢y lÃ  giáº£i thÃ­ch tá»«ng pháº§n cá»§a Ä‘áº§u ra `systemctl status docker` mÃ  báº¡n cung cáº¥p. VÄƒn báº£n á»Ÿ dáº¡ng plain text, trÃ¬nh bÃ y rÃµ rÃ ng Ä‘á»ƒ báº¡n cÃ³ thá»ƒ copy tháº³ng vÃ o file `.txt`.

----- Báº®T Äáº¦U COPY -----

Command:
systemctl status docker

VÃ­ dá»¥ Ä‘áº§u ra (nhÆ° báº¡n cung cáº¥p):

```
â— docker.service - Docker Application Container Engine
       Loaded: loaded (/lib/systemd/system/docker.service; enabled; vendor preset: enabled)
       Active: active (running) since Sun 2025-09-21 07:47:33 UTC; 1min 12s ago
TriggeredBy: â— docker.socket
      Docs: https://docs.docker.com
  Main PID: 3868 (dockerd)
     Tasks: 9
    Memory: 21.3M
     CGroup: /system.slice/docker.service
             â””â”€3868 /usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock

Sep 21 07:47:33 ubuntu-focal systemd[1]: Started Docker Application Container Engine.
```

Giáº£i thÃ­ch chi tiáº¿t tá»«ng dÃ²ng / khá»‘i thÃ´ng tin:

1. DÃ²ng tiÃªu Ä‘á» dá»‹ch vá»¥
   â— docker.service - Docker Application Container Engine

   * "â—" (má»™t vÃ²ng trÃ²n lá»›n) lÃ  kÃ½ hiá»‡u systemd hiá»ƒn thá»‹ tráº¡ng thÃ¡i unit (mÃ u sáº¯c trong terminal: xanh cho active/running, vÃ ng Ä‘á» cho lá»—i...).
   * "docker.service" lÃ  tÃªn unit systemd.
   * Pháº§n sau dáº¥u gáº¡ch ngang lÃ  mÃ´ táº£ ngáº¯n vá» dá»‹ch vá»¥ (Description) tá»« file unit.

2. Loaded
   Loaded: loaded (/lib/systemd/system/docker.service; enabled; vendor preset: enabled)

   * "loaded": systemd Ä‘Ã£ Ä‘á»c vÃ  náº¡p file unit thÃ nh cÃ´ng.
   * ÄÆ°á»ng dáº«n trong ngoáº·c lÃ  vá»‹ trÃ­ file unit: /lib/systemd/system/docker.service (nÆ¡i chá»©a cáº¥u hÃ¬nh unit do há»‡ thá»‘ng/cÃ i Ä‘áº·t gÃ³i cung cáº¥p).
   * "enabled": unit Ä‘Æ°á»£c báº­t (enabled) â€” tá»©c systemd Ä‘Ã£ táº¡o liÃªn káº¿t (symlink) Ä‘á»ƒ dá»‹ch vá»¥ tá»± khá»Ÿi Ä‘á»™ng lÃºc boot (vÃ­ dá»¥: /etc/systemd/system/multi-user.target.wants/docker.service).
   * "vendor preset: enabled": preset máº·c Ä‘á»‹nh cá»§a nhÃ  phÃ¢n phá»‘i lÃ  "enabled" (gÃ³i cÃ i Ä‘áº·t khuyáº¿n nghá»‹ báº­t dá»‹ch vá»¥). Preset chá»‰ lÃ  giÃ¡ trá»‹ máº·c Ä‘á»‹nh khi cÃ i gÃ³i.

3. Active
   Active: active (running) since Sun 2025-09-21 07:47:33 UTC; 1min 12s ago

   * "active (running)": dá»‹ch vá»¥ Ä‘ang cháº¡y bÃ¬nh thÆ°á»ng (process chÃ­nh Ä‘ang hoáº¡t Ä‘á»™ng).
   * "since ..." cho biáº¿t thá»i Ä‘iá»ƒm systemd khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥ (timestamp tuyá»‡t Ä‘á»‘i).
   * Pháº§n sau dáº¥u cháº¥m pháº©y ("1min 12s ago") lÃ  khoáº£ng thá»i gian ká»ƒ tá»« khi khá»Ÿi cháº¡y â€” tiá»‡n Ä‘á»ƒ biáº¿t dá»‹ch vá»¥ khá»Ÿi Ä‘á»™ng Ä‘Æ°á»£c bao lÃ¢u.

4. TriggeredBy
   TriggeredBy: â— docker.socket

   * Cho tháº¥y docker.service cÃ³ thá»ƒ Ä‘Æ°á»£c kÃ­ch hoáº¡t bá»Ÿi docker.socket (socket activation). Khi cÃ³ káº¿t ná»‘i tá»›i socket, systemd sáº½ tá»± Ä‘á»™ng start dá»‹ch vá»¥.
   * Dáº¥u "â—" bÃªn trÆ°á»›c tÃªn socket chá»‰ tráº¡ng thÃ¡i cá»§a unit kÃ­ch hoáº¡t (socket) Ä‘Ã³.
   * Báº¡n cÃ³ thá»ƒ kiá»ƒm tra tráº¡ng thÃ¡i socket báº±ng: `systemctl status docker.socket`.

5. Docs
   Docs: [https://docs.docker.com](https://docs.docker.com)

   * Link tá»›i tÃ i liá»‡u chÃ­nh thá»©c (Ä‘Æ°á»£c Ä‘áº·t trong file unit, dÃ¹ng Ä‘á»ƒ tham kháº£o nhanh).

6. Main PID
   Main PID: 3868 (dockerd)

   * PID chÃ­nh cá»§a tiáº¿n trÃ¬nh daemon (dockerd) lÃ  3868. ÄÃ¢y lÃ  process mÃ  systemd theo dÃµi.
   * TÃªn trong ngoáº·c lÃ  chÆ°Æ¡ng trÃ¬nh thá»±c táº¿.

7. Tasks
   Tasks: 9

   * Sá»‘ luá»“ng (threads) / tiáº¿n trÃ¬nh con mÃ  unit Ä‘ang sá»­ dá»¥ng (tÃ¹y kernel vÃ  cgroup Ä‘Ã¢y lÃ  sá»‘ Æ°á»›c lÆ°á»£ng). Cho biáº¿t má»©c Ä‘á»™ tÃ i nguyÃªn ná»™i bá»™ mÃ  dá»‹ch vá»¥ Ä‘ang dÃ¹ng.

8. Memory
   Memory: 21.3M

   * LÆ°á»£ng bá»™ nhá»› (resident) hiá»‡n táº¡i Ä‘Æ°á»£c tiáº¿n trÃ¬nh/Ä‘Æ¡n vá»‹ sá»­ dá»¥ng. ÄÃ¢y lÃ  giÃ¡ trá»‹ nhanh Ä‘á»ƒ biáº¿t dá»‹ch vá»¥ cÃ³ dÃ¹ng nhiá»u RAM khÃ´ng.

9. CGroup
   CGroup: /system.slice/docker.service
   â””â”€3868 /usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock

   * systemd sá»­ dá»¥ng cgroup Ä‘á»ƒ gom tÃ i nguyÃªn. DÃ²ng nÃ y cho tháº¥y path cgroup nÆ¡i tiáº¿n trÃ¬nh docker Ä‘Æ°á»£c Ä‘áº·t.
   * DÆ°á»›i nÃ³ liá»‡t kÃª cÃ¢y tiáº¿n trÃ¬nh (PID vÃ  command line) cá»§a process chÃ­nh. á» Ä‘Ã¢y dockerd cháº¡y vá»›i cÃ¡c tham sá»‘ `-H fd://` (láº¯ng nghe socket do systemd cung cáº¥p) vÃ  `--containerd=...` (chá»‰ Ä‘Æ°á»ng dáº«n tá»›i containerd socket).

10. DÃ²ng journal gáº§n nháº¥t
    Sep 21 07:47:33 ubuntu-focal systemd[1]: Started Docker Application Container Engine.

    * CÃ¡c dÃ²ng nÃ y lÃ  log tá»« journal (systemd-journald) hiá»ƒn thá»‹ entry gáº§n nháº¥t liÃªn quan tá»›i unit. NÃ³ giÃºp xÃ¡c nháº­n sá»± kiá»‡n khá»Ÿi Ä‘á»™ng/stop vÃ  thÃ´ng bÃ¡o quan trá»ng.

Ã nghÄ©a chung vÃ  cÃ¡ch dÃ¹ng thÃ´ng tin nÃ y Ä‘á»ƒ cháº©n Ä‘oÃ¡n

* Dá»‹ch vá»¥ "active (running)" => docker daemon Ä‘ang hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng. Náº¿u báº¡n gáº·p lá»—i vá»›i containers, váº¥n Ä‘á» cÃ³ thá»ƒ náº±m á»Ÿ config, network, hoáº·c container runtime, chá»© khÃ´ng pháº£i daemon Ä‘Ã£ dá»«ng.
* Náº¿u tráº¡ng thÃ¡i khÃ´ng pháº£i "active" (vÃ­ dá»¥: failed, inactive, activating), thÃ¬ cáº§n xem log chi tiáº¿t.

CÃ¡c lá»‡nh hay dÃ¹ng Ä‘á»ƒ Ä‘iá»u tra thÃªm / thao tÃ¡c:

1. Xem log chi tiáº¿t cá»§a docker daemon (journal):
   sudo journalctl -u docker.service --since "1 hour ago"
   sudo journalctl -u docker.service -n 200 --no-pager

2. Kiá»ƒm tra socket activation (náº¿u cÃ³ váº¥n Ä‘á» liÃªn quan):
   systemctl status docker.socket

3. Xem command line Ä‘áº§y Ä‘á»§ vÃ  environment cá»§a unit:
   systemctl cat docker.service

   # hiá»ƒn thá»‹ ná»™i dung file unit (Unit/Service/Install sections)

4. Xem process vÃ  tham sá»‘ runtime:
   ps -o pid,cmd -p 3868

   # hoáº·c: sudo cat /proc/3868/cmdline

5. Khá»Ÿi Ä‘á»™ng láº¡i / dá»«ng / báº­t / táº¯t:
   sudo systemctl restart docker.service
   sudo systemctl stop docker.service
   sudo systemctl start docker.service
   sudo systemctl enable docker.service   # báº­t tá»± khá»Ÿi Ä‘á»™ng
   sudo systemctl disable docker.service  # táº¯t tá»± khá»Ÿi Ä‘á»™ng

6. Kiá»ƒm tra tráº¡ng thÃ¡i cgroups / containerd socket:
   ls -l /run/containerd/containerd.sock
   sudo systemctl status containerd.service

7. Kiá»ƒm tra cÃ¡c container báº±ng docker CLI (náº¿u daemon OK):
   docker ps -a
   docker logs <container-id>

CÃ¡c nguyÃªn nhÃ¢n phá»• biáº¿n khi docker khÃ´ng cháº¡y hoáº·c gáº·p lá»—i

* Lá»—i cáº¥u hÃ¬nh trong /etc/docker/daemon.json (cÃº phÃ¡p JSON sai) => dockerd khÃ´ng khá»Ÿi Ä‘á»™ng hoáº·c crash.
* Váº¥n Ä‘á» vá»›i containerd (náº¿u containerd khÃ´ng cháº¡y thÃ¬ dockerd cÃ³ thá»ƒ gáº·p lá»—i khi káº¿t ná»‘i socket).
* Thiáº¿u quyá»n trÃªn /run/containerd/containerd.sock
* Kernel thiáº¿u tÃ­nh nÄƒng (seccomp, cgroup) hoáº·c cáº¥u hÃ¬nh cgroup v2 khÃ´ng tÆ°Æ¡ng thÃ­ch.
* Váº¥n Ä‘á» phÃ¢n giáº£i tÃªn DNS hoáº·c network namespace gÃ¢y lá»—i khi táº¡o network cho container.

Gá»£i Ã½ khi gá»­i thÃ´ng tin cho admin/há»— trá»£

* Gá»­i káº¿t quáº£ `systemctl status docker` kÃ¨m `sudo journalctl -u docker.service -n 200 --no-pager` vÃ  `systemctl cat docker.service`.
* Ghi rÃµ thá»i Ä‘iá»ƒm (timestamp) vÃ  hÃ nh vi báº¡n gáº·p (vÃ­ dá»¥: "docker ps tráº£ vá» error: cannot connect to the docker daemon").

----- Káº¾T THÃšC COPY -----

				
		- cmd: docker run hello-world
		
Giáº£i thÃ­ch chi tiáº¿t lá»‡nh:

docker run hello-world

---

Má»¥c tiÃªu tá»•ng quÃ¡t:
Lá»‡nh nÃ y cháº¡y container máº«u `hello-world` tá»« Docker Hub Ä‘á»ƒ kiá»ƒm tra xem Docker Engine trÃªn mÃ¡y cá»§a báº¡n cÃ³ hoáº¡t Ä‘á»™ng Ä‘Ãºng hay khÃ´ng.
ÄÃ¢y lÃ  bÃ i kiá»ƒm tra nhanh, an toÃ n, khÃ´ng thay Ä‘á»•i há»‡ thá»‘ng, thÆ°á»ng Ä‘Æ°á»£c dÃ¹ng ngay sau khi cÃ i Docker.

---

Giáº£i thÃ­ch tá»«ng pháº§n cá»§a lá»‡nh:

docker
- CLI cá»§a Docker, dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ image, container, volumes, network...

run
- Lá»‡nh Ä‘á»ƒ táº¡o vÃ  khá»Ÿi cháº¡y má»™t container tá»« má»™t image. Náº¿u image chÆ°a cÃ³ trong mÃ¡y, Docker sáº½ tá»± Ä‘á»™ng kÃ©o (pull) image tá»« registry (vÃ­ dá»¥ Docker Hub).

hello-world
- TÃªn image (trÃªn Docker Hub: library/hello-world). Image nÃ y ráº¥t nhá», khi cháº¡y sáº½ in má»™t vÃ i dÃ²ng thÃ´ng bÃ¡o vÃ  thoÃ¡t ngay láº­p tá»©c (exit).

---

Máº«u output Ä‘iá»ƒn hÃ¬nh (vÃ­ dá»¥):

$ docker run hello-world
Unable to find image 'hello-world:latest' locally
latest: Pulling from library/hello-world
0e03bdcc26d7: Pull complete
Digest: sha256:3e3a... <--- (shortened)
Status: Downloaded newer image for hello-world:latest

Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:

1. The Docker client contacted the Docker daemon.
2. The Docker daemon pulled the "hello-world" image from the Docker Hub.
3. The Docker daemon created a new container from that image which runs the
   executable that produces the output you are currently reading.
4. The Docker daemon streamed that output to the Docker client, which sent it
   to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
$ docker run -it ubuntu bash

For more examples and ideas, visit:
[https://docs.docker.com/get-started/](https://docs.docker.com/get-started/)

---

Giáº£i thÃ­ch chi tiáº¿t output tá»«ng Ä‘oáº¡n:

1. "Unable to find image 'hello-world:latest' locally"

   * Náº¿u há»‡ thá»‘ng chÆ°a cÃ³ image hello-world phiÃªn báº£n latest, Docker thÃ´ng bÃ¡o vÃ  sáº½ pull tá»« registry.

2. "Pulling from library/hello-world" vÃ  cÃ¡c dÃ²ng "Pull complete"

   * Hiá»ƒn thá»‹ tiáº¿n trÃ¬nh táº£i tá»«ng layer cá»§a image. Image Ä‘Æ°á»£c chia thÃ nh cÃ¡c layer; Docker táº£i tá»«ng layer náº¿u chÆ°a cÃ³ trong local cache.

3. "Digest: sha256:..." vÃ  "Status: Downloaded newer image for hello-world:latest"

   * XÃ¡c nháº­n image Ä‘Ã£ Ä‘Æ°á»£c táº£i hoÃ n táº¥t vÃ  hiá»ƒn thá»‹ digest (mÃ£ hash) Ä‘á»ƒ kiá»ƒm tra tÃ­nh toÃ n váº¹n.

4. Pháº§n ná»™i dung "Hello from Docker!..."

   * ÄÃ¢y lÃ  output do chÆ°Æ¡ng trÃ¬nh trong container hello-world in ra. Äá»“ng thá»i Docker giáº£i thÃ­ch ngáº¯n cÃ¡c bÆ°á»›c Ä‘Ã£ thá»±c hiá»‡n.

---

HÃ nh vi container

* Container hello-world cháº¡y má»™t chÆ°Æ¡ng trÃ¬nh Ä‘Æ¡n giáº£n in ra text rá»“i káº¿t thÃºc ngay (exit). Do Ä‘Ã³ container sáº½ cÃ³ tráº¡ng thÃ¡i "exited" sau khi cháº¡y.
* Äá»ƒ xem container Ä‘Ã£ cháº¡y vÃ  thoÃ¡t, dÃ¹ng:
  docker ps -a
  Báº¡n sáº½ tháº¥y container vá»›i IMAGE=hello-world vÃ  STATUS=Exited (x seconds ago).

---

MÃ£ thoÃ¡t (exit codes)

* ThÃ´ng thÆ°á»ng, náº¿u má»i thá»© OK, lá»‡nh `docker run hello-world` tráº£ vá» exit code 0.
* Náº¿u cÃ³ lá»—i (daemon khÃ´ng cháº¡y, network váº¥n Ä‘á», permission), CLI cÃ³ thá»ƒ tráº£ vá» non-zero code vÃ  in lá»—i chi tiáº¿t.

---

Lá»—i thÆ°á»ng gáº·p & cÃ¡ch kháº¯c phá»¥c

1. "Cannot connect to the Docker daemon" hoáº·c "Is the docker daemon running?"

   * Kiá»ƒm tra Docker service Ä‘ang cháº¡y: `sudo systemctl status docker` (Linux) hoáº·c khá»Ÿi Ä‘á»™ng láº¡i `sudo systemctl start docker`.
   * TrÃªn Windows/Mac, Ä‘áº£m báº£o Docker Desktop Ä‘ang cháº¡y.

2. Quyá»n truy cáº­p (permission denied)

   * Náº¿u pháº£i dÃ¹ng `sudo docker run hello-world` thÃ¬ cÃ³ thá»ƒ thÃªm user vÃ o nhÃ³m docker Ä‘á»ƒ cháº¡y khÃ´ng cáº§n sudo:
     sudo usermod -aG docker $USER
     Sau Ä‘Ã³ Ä‘Äƒng xuáº¥t/Ä‘Äƒng nháº­p láº¡i Ä‘á»ƒ thay Ä‘á»•i nhÃ³m cÃ³ hiá»‡u lá»±c.

3. Lá»—i khi pull image (network/SSL)

   * Kiá»ƒm tra káº¿t ná»‘i máº¡ng vÃ  proxy. Náº¿u á»Ÿ mÃ´i trÆ°á»ng cÃ³ proxy, cáº¥u hÃ¬nh Docker daemon Ä‘á»ƒ dÃ¹ng proxy.

4. Lá»—i "no space left on device" khi pull

   * Dá»n dáº¹p images/containers khÃ´ng cáº§n thiáº¿t (`docker system prune`) hoáº·c má»Ÿ rá»™ng dung lÆ°á»£ng Ä‘Ä©a.

---

LÆ°u Ã½ an toÃ n

* Image hello-world ráº¥t an toÃ n (chá»‰ in text) vÃ  lÃ  image chÃ­nh thá»©c tá»« Docker Hub (library/hello-world).
* Tuy nhiÃªn, nÃ³i chung chá»‰ pull/run images tá»« nguá»“n tin cáº­y. Kiá»ƒm tra Docker Hub publisher vÃ  digest náº¿u cáº§n.

---

CÃ¡c biáº¿n thá»ƒ há»¯u Ã­ch

* Cháº¡y verbose Ä‘á»ƒ xem chi tiáº¿t (náº¿u cÃ³):
  DOCKER_BUILDKIT=0 docker -D run hello-world
  (tÃ¹y há»‡ thá»‘ng vÃ  phiÃªn báº£n; -D báº­t debug mode)

* Xem logs cá»§a container Ä‘Ã£ cháº¡y (náº¿u cáº§n):
  docker logs <container-id>

* Cháº¡y vÃ  sau Ä‘Ã³ xÃ³a container ngay khi káº¿t thÃºc:
  docker run --rm hello-world
  (vá»›i hello-world khÃ´ng cáº§n thiáº¿t vÃ¬ container káº¿t thÃºc ngay, nhÆ°ng --rm sáº½ xÃ³a container khi exit)

---

LÆ°u output giáº£i thÃ­ch nÃ y ra file .txt:

* Ná»™i dung nÃ y trÃ¬nh bÃ y á»Ÿ dáº¡ng plain text. Báº¡n cÃ³ thá»ƒ bÃ´i Ä‘en toÃ n bá»™ vÃ  copy (Ctrl+C) rá»“i dÃ¡n vÃ o file .txt.
* Náº¿u muá»‘n lÆ°u tá»± Ä‘á»™ng tá»« shell (náº¿u báº¡n Ä‘Ã£ cÃ³ ná»™i dung trong má»™t file), báº¡n cÃ³ thá»ƒ echo vÃ o file, nhÆ°ng vÃ¬ Ä‘Ã¢y lÃ  mÃ´ táº£, copy thá»§ cÃ´ng lÃ  thuáº­n tiá»‡n nháº¥t.

---

Muá»‘n mÃ¬nh lÃ m gÃ¬ tiáº¿p theo?

* Náº¿u báº¡n dÃ¡n output thá»±c táº¿ cá»§a `docker run hello-world` tá»« mÃ¡y báº¡n, mÃ¬nh sáº½ phÃ¢n tÃ­ch chÃ­nh xÃ¡c theo output Ä‘Ã³.
* MÃ¬nh cÃ³ thá»ƒ táº¡o file .txt chá»©a ná»™i dung nÃ y vÃ  Ä‘Æ°a link táº£i (náº¿u báº¡n muá»‘n).

-- Káº¾T THÃšC TÃ€I LIá»†U --
		
		
		- cmd:  root@ubuntu-focal:~# docker images
		
				REPOSITORY    TAG       IMAGE ID       CREATED       SIZE
				hello-world   latest    1b44b5a3e06a   6 weeks ago   10.1kB
				
========================================
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH: docker images
========================================

Lá»†NH:
docker images

Má»¤C ÄÃCH:
----------------------------------------
Lá»‡nh `docker images` dÃ¹ng Ä‘á»ƒ liá»‡t kÃª táº¥t cáº£ **Docker images** hiá»‡n Ä‘ang lÆ°u trá»¯ trÃªn mÃ¡y local.  
GiÃºp báº¡n xem nhá»¯ng image Ä‘Ã£ táº£i vá» (pull), Ä‘Ã£ build, hoáº·c Ä‘Æ°á»£c cache bá»Ÿi Docker.

Äáº¦U RA MáºªU:
----------------------------------------
REPOSITORY        TAG       IMAGE ID       CREATED         SIZE
ubuntu            latest    47b19964fb50   2 weeks ago     72MB
nginx             stable    605c77e624dd   3 weeks ago     142MB
myapp             v1        1a2b3c4d5e6f   1 month ago     350MB

GIáº¢I THÃCH CHI TIáº¾T Tá»ªNG Cá»˜T:
----------------------------------------

1) REPOSITORY
   - TÃªn cá»§a image repository (vÃ­ dá»¥: ubuntu, nginx, mysql).
   - Giá»‘ng nhÆ° â€œdá»± Ã¡nâ€ chÃ­nh cá»§a image.
   - Khi báº¡n cháº¡y `docker pull ubuntu`, thÃ¬ repository lÃ  "ubuntu".

2) TAG
   - NhÃ£n (version/biáº¿n thá»ƒ) cá»§a image.
   - Má»™t repository cÃ³ thá»ƒ cÃ³ nhiá»u tag (vÃ­ dá»¥: latest, 22.04, focal, v1, dev).
   - Náº¿u khÃ´ng chá»‰ Ä‘á»‹nh tag khi pull/run, Docker máº·c Ä‘á»‹nh dÃ¹ng tag "latest".

3) IMAGE ID
   - MÃ£ Ä‘á»‹nh danh duy nháº¥t cá»§a image (dáº¡ng hash rÃºt gá»n).
   - Docker dÃ¹ng ID Ä‘á»ƒ quáº£n lÃ½ ná»™i bá»™.
   - Khi xoÃ¡ image báº±ng ID:  
     `docker rmi <IMAGE_ID>`

4) CREATED
   - Thá»i Ä‘iá»ƒm image Ä‘Æ°á»£c táº¡o (táº£i vá» hoáº·c build).
   - VÃ­ dá»¥: â€œ2 weeks agoâ€, â€œ3 months agoâ€.

5) SIZE
   - Dung lÆ°á»£ng cá»§a image.
   - KhÃ´ng nháº¥t thiáº¿t lÃ  dung lÆ°á»£ng tháº­t khi cháº¡y container (vÃ¬ cÃ¡c lá»›p (layers) cÃ³ thá»ƒ Ä‘Æ°á»£c dÃ¹ng chung).

GIáº¢I THÃCH Vá»€ CÆ  CHáº¾ HOáº T Äá»˜NG:
----------------------------------------
- Docker image Ä‘Æ°á»£c táº¡o tá»« nhiá»u **layers** (cÃ¡c lá»›p).
- Khi báº¡n pull image Ubuntu, rá»“i pull image Nginx (dá»±a trÃªn Ubuntu), Docker chá»‰ lÆ°u cÃ¡c layer khÃ¡c nhau, khÃ´ng lÆ°u trÃ¹ng láº·p.
- `docker images` chá»‰ hiá»ƒn thá»‹ danh sÃ¡ch image final mÃ  báº¡n cÃ³ (má»—i item Ä‘áº¡i diá»‡n cho má»™t image).

CÃC TÃ™Y CHá»ŒN PHá»” BIáº¾N:
----------------------------------------

1) Hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ bao gá»“m cáº£ images Ä‘Ã£ "dangling":
   docker images -a
   - â€œDangling imagesâ€ lÃ  cÃ¡c image khÃ´ng cÃ²n Ä‘Æ°á»£c gáº¯n tag, thÆ°á»ng do build tháº¥t báº¡i hoáº·c superseded.
   - ChÃºng hiá»‡n dÆ°á»›i dáº¡ng: `<none>     <none>`

2) Hiá»ƒn thá»‹ theo Ä‘á»‹nh dáº¡ng tÃ¹y chá»‰nh:
   docker images --format "{{.Repository}}:{{.Tag}} ({{.Size}})"
   - Äiá»u nÃ y giÃºp lá»c thÃ´ng tin dá»… Ä‘á»c.

3) Lá»c theo repository:
   docker images ubuntu

4) Lá»c theo dangling:
   docker images -f "dangling=true"

5) Kiá»ƒm tra chá»‰ image ID:
   docker images -q

6) Kiá»ƒm tra images cÃ³ dung lÆ°á»£ng lá»›n:
   docker images --format "{{.Repository}} {{.Size}}"

Ã NGHÄ¨A THá»°C Táº¾ TRONG QUáº¢N TRá»Š DOCKER:
----------------------------------------
- Biáº¿t mÃ¡y Ä‘ang cÃ³ nhá»¯ng image nÃ o Ä‘á»ƒ:
  * dá»n dáº¹p (cleanup) image cÅ© â†’ tiáº¿t kiá»‡m dung lÆ°á»£ng.
  * kiá»ƒm soÃ¡t version khi deploy.
  * xem lá»‹ch sá»­ build/test.
- TrÃ¡nh nháº§m láº«n náº¿u cÃ³ nhiá»u version cá»§a cÃ¹ng má»™t image.

LIÃŠN QUAN Tá»šI QUáº¢N LÃ VÃ€ Dá»ŒN Dáº¸P:
----------------------------------------

XoÃ¡ image báº±ng repository + tag:
docker rmi ubuntu:latest

XoÃ¡ image báº±ng ID:
docker rmi <IMAGE_ID>

XoÃ¡ táº¥t cáº£ image khÃ´ng dÃ¹ng:
docker image prune

XoÃ¡ toÃ n bá»™ image (nguy hiá»ƒm):
docker rmi $(docker images -q)

TÃ“M Táº®T NGáº®N Gá»ŒN:
----------------------------------------
- `docker images` hiá»ƒn thá»‹ images local.
- 5 cá»™t chÃ­nh: REPOSITORY, TAG, IMAGE ID, CREATED, SIZE.
- DÃ¹ng Ä‘á»ƒ quáº£n lÃ½, kiá»ƒm tra, dá»n dáº¹p, tá»‘i Æ°u dung lÆ°á»£ng vÃ  kiá»ƒm soÃ¡t version khi deploy.

========================================
Háº¾T
========================================

				
		- cmd:  root@ubuntu-focal:~# docker ps
		
				CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
				
Giáº£i thÃ­ch chi tiáº¿t (plain text) - Báº¢N DÃ™NG Äá»‚ COPY VÃ€O .txt

DÆ°á»›i Ä‘Ã¢y lÃ  báº£n giáº£i thÃ­ch chi tiáº¿t cho lá»‡nh Docker:

```
docker ps
```

ToÃ n bá»™ ná»™i dung náº±m trong khá»‘i plain-text Ä‘á»ƒ báº¡n cÃ³ thá»ƒ sao chÃ©p trá»±c tiáº¿p vÃ o file .txt.

--- START OF TEXT (COPY FROM HERE) ---

TIÃŠU Äá»€: Giáº£i thÃ­ch chi tiáº¿t `docker ps`

1. Má»¥c Ä‘Ã­ch chung

   * `docker ps` hiá»ƒn thá»‹ danh sÃ¡ch cÃ¡c container Docker Ä‘ang cháº¡y (running) trÃªn host hiá»‡n táº¡i.
   * Lá»‡nh ráº¥t há»¯u Ã­ch Ä‘á»ƒ quáº£n lÃ½, kiá»ƒm tra tráº¡ng thÃ¡i container, vÃ  láº¥y thÃ´ng tin nhanh nhÆ° container ID, image, thá»i gian cháº¡y, ports, tÃªn container.

2. CÃº phÃ¡p cÆ¡ báº£n
   docker ps [OPTIONS]

3. CÃ¡c cá»™t máº·c Ä‘á»‹nh trong output vÃ  Ã½ nghÄ©a

   * CONTAINER ID

     * MÃ£ Ä‘á»‹nh danh ngáº¯n cá»§a container (má»™t pháº§n cá»§a long ID). DÃ¹ng Ä‘á»ƒ thao tÃ¡c (stop, rm, logs...).
   * IMAGE

     * TÃªn image mÃ  container Ä‘ang cháº¡y (vÃ­ dá»¥ nginx:latest, redis:6).
   * COMMAND

     * Command Ä‘Æ°á»£c cháº¡y khi container khá»Ÿi táº¡o (Ä‘Æ°á»£c hiá»ƒn thá»‹ cÃ³ thá»ƒ rÃºt gá»n vÃ  cÃ³ dáº¥u ngoáº·c kÃ©p).
   * CREATED

     * Thá»i Ä‘iá»ƒm/khung thá»i gian ká»ƒ tá»« khi container Ä‘Æ°á»£c táº¡o (vd: "2 hours ago").
   * STATUS

     * Tráº¡ng thÃ¡i hiá»‡n táº¡i: "Up X minutes/hours", "Exited (code) X minutes ago", "Restarting (1) X seconds ago"...
   * PORTS

     * Liá»‡t kÃª cÃ¡c cá»•ng map (port mapping) giá»¯a host vÃ  container (vd: 0.0.0.0:8080->80/tcp).
   * NAMES

     * TÃªn container (tÃªn do ngÆ°á»i dÃ¹ng Ä‘áº·t báº±ng --name hoáº·c Docker tá»± Ä‘áº·t).

4. Tuá»³ chá»n (OPTIONS) hay dÃ¹ng

   * -a, --all

     * Hiá»ƒn thá»‹ táº¥t cáº£ container, bao gá»“m cáº£ container Ä‘Ã£ dá»«ng (exited). Máº·c Ä‘á»‹nh `docker ps` chá»‰ hiá»ƒn thá»‹ container Ä‘ang cháº¡y.
     * VÃ­ dá»¥: docker ps -a

   * -q, --quiet

     * Chá»‰ in CONTAINER ID (má»—i ID má»™t dÃ²ng). Tiá»‡n cho scripts.
     * VÃ­ dá»¥: docker ps -q | xargs docker rm

   * --no-trunc

     * KhÃ´ng rÃºt gá»n thÃ´ng tin (hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ ID vÃ  command).

   * --format "<format>"

     * Tuá»³ biáº¿n output theo Go template.
     * VÃ­ dá»¥: docker ps --format "{{.ID}}\t{{.Image}}\t{{.Status}}\t{{.Names}}"
     * CÃ¡c trÆ°á»ng thÆ°á»ng dÃ¹ng: .ID .Image .Command .CreatedAt .RunningFor .Status .Ports .Names .Labels

   * --filter, -f

     * Lá»c container theo Ä‘iá»u kiá»‡n. CÃ³ thá»ƒ káº¿t há»£p nhiá»u filter.
     * VÃ­ dá»¥:
       docker ps -f "status=exited"
       docker ps -f "name=web"
       docker ps -f "ancestor=nginx"   # container cháº¡y tá»« image nginx
       docker ps -f "label=env=prod"

   * --latest, -l

     * Chá»‰ hiá»ƒn thá»‹ container má»›i nháº¥t (má»›i táº¡o nháº¥t).

   * --last N

     * Hiá»ƒn thá»‹ N container má»›i nháº¥t.

5. VÃ­ dá»¥ thá»±c táº¿

   * Hiá»ƒn thá»‹ container Ä‘ang cháº¡y:
     docker ps

   * Hiá»ƒn thá»‹ táº¥t cáº£ container (bao gá»“m Ä‘Ã£ dá»«ng):
     docker ps -a

   * Láº¥y ID cá»§a táº¥t cáº£ container Ä‘ang cháº¡y (dÃ¹ng trong script):
     docker ps -q

   * XoÃ¡ táº¥t cáº£ container Ä‘Ã£ dá»«ng:
     docker ps -aqf "status=exited" | xargs -r docker rm

   * Láº¥y tÃªn, image vÃ  status theo format dá»… Ä‘á»c:
     docker ps --format "{{.Names}}\t{{.Image}}\t{{.Status}}"

6. Ká»‹ch báº£n quáº£n lÃ½ hay gáº·p

   * Dá»«ng container:
     docker stop <CONTAINER_ID_or_NAME>
   * XoÃ¡ container:
     docker rm <CONTAINER_ID_or_NAME>
   * Xem logs:
     docker logs <CONTAINER_ID_or_NAME>
   * Xem thÃ´ng tin chi tiáº¿t (JSON):
     docker inspect <CONTAINER_ID_or_NAME>
   * Kiá»ƒm tra tÃ i nguyÃªn theo thá»i gian thá»±c:
     docker stats <CONTAINER_ID_or_NAME>

7. LÆ°u Ã½ vá» quyá»n (permissions)

   * ThÆ°á»ng cáº§n quyá»n root hoáº·c thuá»™c nhÃ³m `docker` Ä‘á»ƒ cháº¡y cÃ¡c lá»‡nh Docker.
   * Náº¿u gáº·p lá»—i permission denied, cÃ³ thá»ƒ cháº¡y báº±ng sudo hoáº·c thÃªm user vÃ o nhÃ³m docker:
     sudo usermod -aG docker $USER
     (Ä‘Äƒng xuáº¥t/Ä‘Äƒng nháº­p láº¡i Ä‘á»ƒ thay Ä‘á»•i cÃ³ hiá»‡u lá»±c)

8. So sÃ¡nh nhanh vá»›i cÃ´ng cá»¥ khÃ¡c

   * docker-compose ps

     * Hiá»ƒn thá»‹ container theo project/compose file â€“ há»¯u Ã­ch khi dÃ¹ng docker-compose.
   * podman ps

     * Podman lÃ  alternative khÃ´ng cáº§n daemon. CÃº phÃ¡p tÆ°Æ¡ng tá»±: podman ps

9. Máº¹o debug khi container khÃ´ng hiá»‡n lÃ  "Up"

   * Kiá»ƒm tra tráº¡ng thÃ¡i chi tiáº¿t: docker ps -a -> xem cá»™t STATUS (Exited, Restarting...)
   * Xem logs lá»—i khi start: docker logs <id>
   * Kiá»ƒm tra command vÃ  image: docker inspect <id> | grep -i Cmd -A 2
   * Kiá»ƒm tra policy restart (RestartPolicy): docker inspect <id> --format '{{json .HostConfig.RestartPolicy}}'

10. TÃ i nguyÃªn tham kháº£o nhanh (cÃ¡c lá»‡nh há»¯u Ã­ch liÃªn quan)

* docker ps -a
* docker ps -q
* docker ps --format "{{.ID}} {{.Names}} {{.Status}}"
* docker inspect <id>
* docker logs -f <id>
* docker stats

--- END OF TEXT (COPY UNTIL HERE) ---

Ghi chÃº: Ná»™i dung Ä‘Ã£ á»Ÿ Ä‘á»‹nh dáº¡ng plain-text, báº¡n cÃ³ thá»ƒ sao chÃ©p nguyÃªn vÃ o file .txt.

				
		- cmd:  root@ubuntu-focal:~# docker ps -a
		
				CONTAINER ID   IMAGE         COMMAND    CREATED              STATUS                          PORTS     NAMES
				00001e808420   hello-world   "/hello"   About a minute ago   Exited (0) About a minute ago             cool_agnesi
				
Docker â€” Giáº£i thÃ­ch chi tiáº¿t: `docker ps -a`

Má»¥c tiÃªu:
Giáº£i thÃ­ch chi tiáº¿t tá»«ng pháº§n cá»§a lá»‡nh `docker ps -a`, cÃ¡c tÃ¹y chá»n liÃªn quan, Ã½ nghÄ©a cÃ¡c cá»™t output, cÃ¡ch dÃ¹ng thá»±c táº¿ (lá»c, format, xÃ³a, khá»Ÿi Ä‘á»™ng láº¡i), vÃ  cÃ¡c lá»—i / chÃº Ã½ thÆ°á»ng gáº·p.

CÃº phÃ¡p cÆ¡ báº£n:
docker ps -a [OPTIONS]

Ã nghÄ©a tá»•ng quan:

* `docker ps` liá»‡t kÃª cÃ¡c container hiá»‡n Ä‘ang **Ä‘ang cháº¡y**.
* ThÃªm tÃ¹y chá»n `-a` (hoáº·c `--all`) sáº½ liá»‡t kÃª **táº¥t cáº£** container hiá»‡n táº¡i trÃªn mÃ¡y (bao gá»“m Ä‘ang cháº¡y, Ä‘Ã£ dá»«ng, bá»‹ lá»—i, má»›i táº¡o...).

VÃ­ dá»¥ Ä‘Æ¡n giáº£n:
$ docker ps -a
CONTAINER ID   IMAGE          COMMAND                  CREATED         STATUS                      PORTS     NAMES
4f2b3c1d2e5a   nginx:latest   "nginx -g 'daemon ofâ€¦"  3 hours ago     Up 3 hours                  80/tcp    web-server
1a9b8c7d6e5f   busybox        "sh -c 'echo hello'"    2 days ago      Exited (0) 2 days ago                  nostalgic_goldberg

Giáº£i thÃ­ch cá»™t trong output máº·c Ä‘á»‹nh:

* CONTAINER ID: ID ngáº¯n (hash) dÃ¹ng Ä‘á»ƒ tham chiáº¿u container â€” cÃ³ thá»ƒ dÃ¹ng 12 kÃ½ tá»± Ä‘áº§u Ä‘á»ƒ thao tÃ¡c (vÃ­ dá»¥ `docker rm 1a9b8c7d6e5f`).
* IMAGE: TÃªn image (vÃ  tag) mÃ  container Ä‘Æ°á»£c táº¡o tá»« Ä‘Ã³ (vÃ­ dá»¥ `nginx:latest`).
* COMMAND: Lá»‡nh (entrypoint/cmd) Ä‘ang cháº¡y trong container, hiá»ƒn thá»‹ rÃºt gá»n.
* CREATED: Thá»i gian container Ä‘Æ°á»£c táº¡o (vd. "3 hours ago").
* STATUS: Tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a container â€” chi tiáº¿t á»Ÿ pháº§n sau.
* PORTS: Port mapping (náº¿u cÃ³) giá»¯a host vÃ  container (vÃ­ dá»¥ `0.0.0.0:8080->80/tcp`).
* NAMES: TÃªn (hoáº·c tÃªn tá»± sinh) cá»§a container Ä‘á»ƒ tham chiáº¿u dá»… dÃ ng hÆ¡n.

CÃ¡c tráº¡ng thÃ¡i phá»• biáº¿n trong cá»™t STATUS vÃ  Ã½ nghÄ©a:

* `Up X minutes/hours`: Container Ä‘ang cháº¡y; cÃ³ thá»ƒ chá»©a thÃªm thÃ´ng tin uptime vÃ  sá»‘ cá»•ng.
* `Exited (0) X ago`: Container Ä‘Ã£ dá»«ng vÃ  tráº£ vá» exit code 0 (thÃ nh cÃ´ng).
* `Exited (137) X ago` hoáº·c `Exited (1)`: Exit code khÃ¡c 0 â€” dáº¥u hiá»‡u lá»—i hoáº·c bá»‹ kill (137 = SIGKILL).
* `Created`: Container Ä‘Ã£ Ä‘Æ°á»£c táº¡o nhÆ°ng chÆ°a start.
* `Restarting (always)`: Container Ä‘ang trong vÃ²ng restart (do policy restart).
* `Paused`: Container Ä‘ang bá»‹ pause (sá»­ dá»¥ng `docker pause`/`docker unpause`).
* `Dead`: Container khÃ´ng á»Ÿ tráº¡ng thÃ¡i bÃ¬nh thÆ°á»ng â€” cáº§n kiá»ƒm tra logs hoáº·c xÃ³a.

CÃ¡c tÃ¹y chá»n há»¯u Ã­ch cá»§a `docker ps` (káº¿t há»£p `-a` khi cáº§n):

* `-a`, `--all`: Hiá»ƒn thá»‹ táº¥t cáº£ container (bao gá»“m dá»«ng).
* `-q`, `--quiet`: Chá»‰ in CONTAINER ID (dÃ¹ng khi muá»‘n scripting). VÃ­ dá»¥: `docker ps -aq` in ID cá»§a táº¥t cáº£ container.
* `--filter`, `-f`: Lá»c container theo Ä‘iá»u kiá»‡n. VÃ­ dá»¥:
  docker ps -a --filter "status=exited"
  docker ps -a --filter "name=web"
  docker ps -a --filter "ancestor=nginx"
  Nhá»¯ng filter phá»• biáº¿n: `status`, `name`, `id`, `ancestor`, `label`.
* `--format`: TÃ¹y chá»‰nh Ä‘á»‹nh dáº¡ng output (Go template). VÃ­ dá»¥:
  docker ps -a --format "{{.ID}}\t{{.Image}}\t{{.Status}}\t{{.Names}}"
* `--no-trunc`: KhÃ´ng rÃºt gá»n cÃ¡c trÆ°á»ng (hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ CONTAINER ID, COMMAND...).
* `--size`, `-s`: Hiá»ƒn thá»‹ kÃ­ch thÆ°á»›c (size) cá»§a container (layer + writable layer).

VÃ­ dá»¥ ká»‹ch báº£n thÆ°á»ng dÃ¹ng:

* XÃ³a táº¥t cáº£ container Ä‘Ã£ dá»«ng:
  docker ps -aq --filter "status=exited" | xargs -r docker rm
  (vá»›i `-r` cho xargs Ä‘á»ƒ trÃ¡nh lá»—i khi khÃ´ng cÃ³ input)

* Dá»«ng táº¥t cáº£ container Ä‘ang cháº¡y:
  docker ps -q | xargs -r docker stop

* XÃ³a má»i container (cáº©n tháº­n):
  docker ps -aq | xargs -r docker rm -f

* Láº¥y logs container vá»«a dá»«ng (dÃ¹ng tÃªn hoáº·c ID):
  docker logs <container>

* Khá»Ÿi Ä‘á»™ng láº¡i container Ä‘Ã£ dá»«ng báº±ng tÃªn/ID:
  docker start <container>

Danh sÃ¡ch cÃ¡c trÆ°á»ng trong `--format` (má»™t vÃ i field hay dÃ¹ng):

* .ID, .Image, .Command, .CreatedAt, .RunningFor, .Ports, .Status, .Size, .Names, .Labels

Gá»£i Ã½ cho scripting / automation:

* Chá»‰ láº¥y ID cá»§a cÃ¡c container Ä‘Ã£ exited Ä‘á»ƒ xÃ³a:
  docker ps -aq --filter "status=exited"

* Liá»‡t kÃª container cá»§a má»™t image cá»¥ thá»ƒ (vÃ­ dá»¥ nginx):
  docker ps -a --filter "ancestor=nginx"

Kiá»ƒm tra nhanh khi nghi cÃ³ container chiáº¿m cá»•ng:

* DÃ¹ng `docker ps -a` Ä‘á»ƒ xem PORTS cÃ i Ä‘áº·t mapping. Náº¿u tháº¥y `0.0.0.0:8080->80/tcp`, nghÄ©a lÃ  host port 8080 Ä‘ang bind container. Äá»ƒ giáº£i phÃ³ng port, dá»«ng vÃ  xÃ³a container hoáº·c remap cá»•ng khi recreate.

CÃ¡c lá»—i/hiá»‡n tÆ°á»£ng cáº§n lÆ°u Ã½:

* KhÃ´ng tháº¥y container trong `docker ps` nhÆ°ng `docker ps -a` cÃ³ -> container Ä‘Ã£ dá»«ng.
* `docker ps -a` hiá»ƒn thá»‹ nhiá»u `Exited (137)` -> kháº£ nÄƒng do OOM killer hoáº·c lá»‡nh `docker kill`/`docker rm -f`.
* Náº¿u `docker ps -a` tráº£ error "Cannot connect to the Docker daemon" -> kiá»ƒm tra Docker daemon:
  sudo systemctl status docker
  hoáº·c kiá»ƒm tra quyá»n (náº¿u khÃ´ng cháº¡y báº±ng sudo, cáº§n user Ä‘Æ°á»£c thÃªm vÃ o group `docker`).

Máº¹o trá»±c quan hoÃ¡ / tÃ¬m nhanh:

* Liá»‡t kÃª container theo tÃªn chá»©a `web`:
  docker ps -a --filter "name=web"
* In ra danh sÃ¡ch ngáº¯n gá»“m ID vÃ  tÃªn:
  docker ps -a --format "{{.ID}}\t{{.Names}}"

Máº«u Ä‘á»ƒ copy vÃ o file .txt (sáºµn dÃ¹ng):

```
# Liá»‡t kÃª táº¥t cáº£ container (Ä‘ang cháº¡y + Ä‘Ã£ dá»«ng)
docker ps -a

# In chá»‰ ID (Ä‘á»ƒ dÃ¹ng trong script)
docker ps -aq

# XÃ³a táº¥t cáº£ container Ä‘Ã£ dá»«ng
docker ps -aq --filter "status=exited" | xargs -r docker rm

# Xem logs container
docker logs <container-name-or-id>

# Khá»Ÿi Ä‘á»™ng container Ä‘Ã£ dá»«ng
docker start <container-name-or-id>

# Dá»«ng táº¥t cáº£ container Ä‘ang cháº¡y
docker ps -q | xargs -r docker stop
```

Káº¿t luáº­n ngáº¯n:

* `docker ps -a` lÃ  cÃ´ng cá»¥ cá»‘t lÃµi Ä‘á»ƒ quáº£n lÃ½ vÃ²ng Ä‘á»i container: kiá»ƒm tra tráº¡ng thÃ¡i, tÃ¬m container lá»—i, xÃ³a container khÃ´ng cáº§n thiáº¿t, hoáº·c xÃ¡c Ä‘á»‹nh ai/Ä‘iá»u gÃ¬ Ä‘ang chiáº¿m port trÃªn host.
* Káº¿t há»£p `--filter`, `--format`, vÃ  `-q` giÃºp tá»± Ä‘á»™ng hoÃ¡ vÃ  tÃ­ch há»£p vÃ o script quáº£n trá»‹.

---

TÃ i liá»‡u nÃ y á»Ÿ Ä‘á»‹nh dáº¡ng plain text, trÃ¬nh bÃ y rÃµ rÃ ng Ä‘á»ƒ báº¡n copy trá»±c tiáº¿p vÃ o file .txt. Náº¿u muá»‘n, tÃ´i cÃ³ thá»ƒ thÃªm má»™t pháº§n máº«u output thá»±c táº¿ vá»›i chÃº thÃ­ch tá»«ng dÃ²ng.

				
		- cmd: docker run --name web01 -d -p 9080:80 nginx
		
Giáº£i thÃ­ch chi tiáº¿t: `docker run --name web01 -d -p 9080:80 nginx`

## Má»¥c tiÃªu

Cháº¡y má»™t container tá»« image `nginx`, Ä‘áº·t tÃªn `web01`, cháº¡y á»Ÿ cháº¿ Ä‘á»™ ná»n (detached), vÃ  chuyá»ƒn tiáº¿p cá»•ng 80 trong container ra cá»•ng 9080 trÃªn mÃ¡y host.

## CÃº phÃ¡p Ä‘áº§y Ä‘á»§

```
docker run --name web01 -d -p 9080:80 nginx
```

## Giáº£i thÃ­ch tá»«ng thÃ nh pháº§n

* `docker run` : lá»‡nh táº¡o vÃ  khá»Ÿi cháº¡y má»™t container má»›i tá»« má»™t image.

* `--name web01` : Ä‘áº·t tÃªn cho container lÃ  `web01` (thay vÃ¬ tÃªn ngáº«u nhiÃªn do Docker sinh). TÃªn nÃ y giÃºp tham chiáº¿u container khi dÃ¹ng cÃ¡c lá»‡nh nhÆ° `docker stop web01`, `docker logs web01`.

* `-d` : viáº¿t táº¯t cá»§a `--detach`. Cháº¡y container á»Ÿ cháº¿ Ä‘á»™ ná»n (detached) â€” lá»‡nh sáº½ tráº£ vá» container ID vÃ  khÃ´ng chiáº¿m terminal. Náº¿u khÃ´ng dÃ¹ng `-d`, container sáº½ cháº¡y foreground vÃ  báº¡n sáº½ tháº¥y output trá»±c tiáº¿p.

* `-p 9080:80` : Ã¡nh xáº¡ (publish) port tá»« host sang container theo cÃº phÃ¡p `host_port:container_port`.

  * á» Ä‘Ã¢y, cá»•ng **80** bÃªn trong container (Nginx láº¯ng nghe máº·c Ä‘á»‹nh trÃªn 80) Ä‘Æ°á»£c Ã¡nh xáº¡ ra cá»•ng **9080** trÃªn mÃ¡y host.
  * Sau khi container cháº¡y, truy cáº­p `http://<host-ip>:9080/` sáº½ tá»›i Nginx trong container.
  * Báº¡n cÃ³ thá»ƒ chá»‰ Ä‘á»‹nh IP cá»¥ thá»ƒ trÃªn host: `-p 127.0.0.1:9080:80` Ä‘á»ƒ chá»‰ bind tá»›i localhost (khÃ´ng cho truy cáº­p tá»« máº¡ng ngoÃ i).
  * Máº·c Ä‘á»‹nh lÃ  TCP; cÃ³ thá»ƒ thÃªm `/tcp` hoáº·c `/udp` náº¿u cáº§n, vÃ­ dá»¥ `-p 9080:80/tcp`.

* `nginx` : tÃªn image (láº¥y tá»« Docker Hub náº¿u khÃ´ng tá»“n táº¡i local). PhiÃªn báº£n máº·c Ä‘á»‹nh (latest) sáº½ Ä‘Æ°á»£c pull náº¿u chÆ°a cÃ³. Báº¡n cÃ³ thá»ƒ chá»‰ Ä‘á»‹nh tag cá»¥ thá»ƒ: `nginx:1.25`.

## HÃ nh vi khi cháº¡y lá»‡nh

1. Náº¿u image `nginx` chÆ°a cÃ³ trÃªn host, Docker sáº½ táº£i (pull) image tá»« Docker Hub.
2. Docker táº¡o má»™t container má»›i, cáº¥u hÃ¬nh máº¡ng, mount filesystem theo image, rá»“i khá»Ÿi Ä‘á»™ng process chÃ­nh trong container (trong image nginx, process lÃ  `nginx` daemon).
3. Lá»‡nh tráº£ vá» container ID náº¿u cháº¡y thÃ nh cÃ´ng.
4. Nginx trong container sáº½ láº¯ng nghe port 80; Docker sáº½ forward káº¿t ná»‘i tá»›i port 9080 trÃªn host tá»›i port 80 trong container.

## CÃ¡c lá»‡nh kiá»ƒm tra & thao tÃ¡c thÆ°á»ng dÃ¹ng

* Xem container Ä‘ang cháº¡y:
  docker ps
  VÃ­ dá»¥ mong Ä‘á»£i (cá»™t PORTS sáº½ thá»ƒ hiá»‡n 0.0.0.0:9080->80/tcp náº¿u bind ra má»i interface):
  CONTAINER ID  IMAGE    COMMAND                  CREATED        STATUS        PORTS                    NAMES
  abcd1234      nginx    "nginx -g 'daemon ofâ€¦"  2 minutes ago  Up 2 minutes  0.0.0.0:9080->80/tcp     web01

* Xem logs cá»§a container:
  docker logs web01
  docker logs -f web01   # theo dÃµi real-time

* VÃ o shell bÃªn trong container (náº¿u image há»— trá»£ shell):
  docker exec -it web01 /bin/bash

  # hoáº·c: docker exec -it web01 sh

* Dá»«ng container:
  docker stop web01

* Khá»Ÿi Ä‘á»™ng láº¡i:
  docker restart web01

* XÃ³a container (sau khi dá»«ng):
  docker rm web01
  Hoáº·c Ã©p xÃ³a ngay cáº£ khi Ä‘ang cháº¡y:
  docker rm -f web01

* Kiá»ƒm tra cá»•ng Ä‘ang sá»­ dá»¥ng trÃªn host (náº¿u bÃ¡o lá»—i port already allocated):
  ss -lntu | grep 9080
  sudo lsof -iTCP -sTCP:LISTEN -P | grep 9080

* Kiá»ƒm tra image Ä‘Ã£ Ä‘Æ°á»£c táº£i:
  docker images | grep nginx

## Kiá»ƒm tra hoáº¡t Ä‘á»™ng cá»§a web server

* TrÃªn host:
  curl -I [http://localhost:9080/](http://localhost:9080/)
  Káº¿t quáº£ tráº£ vá» mong Ä‘á»£i: HTTP/1.1 200 OK (hoáº·c header cá»§a nginx)

* Tá»« mÃ¡y khÃ¡c trong máº¡ng (náº¿u khÃ´ng bind tá»›i 127.0.0.1):
  curl -I http://<host-ip>:9080/

## TÃ¹y chá»n há»¯u Ã­ch khÃ¡c

* DÃ¹ng tÃªn tag cá»¥ thá»ƒ Ä‘á»ƒ trÃ¡nh thay Ä‘á»•i khÃ´ng mong muá»‘n:
  docker run --name web01 -d -p 9080:80 nginx:stable

* ThÃªm restart policy Ä‘á»ƒ container tá»± khá»Ÿi Ä‘á»™ng láº¡i náº¿u host reboot hoáº·c container crash:
  docker run --name web01 -d --restart unless-stopped -p 9080:80 nginx

  # --restart always  | on-failure[:max-retries] | unless-stopped

* Mount thÆ° má»¥c tÄ©nh (serve ná»™i dung tá»« host):
  docker run --name web01 -d -p 9080:80 -v /srv/www:/usr/share/nginx/html:ro nginx

  # :ro chá»‰ read-only; Ä‘Æ°á»ng dáº«n container máº·c Ä‘á»‹nh cho nginx lÃ  /usr/share/nginx/html

* Chá»‰ bind tá»›i localhost (ngÄƒn truy cáº­p máº¡ng ngoÃ i):
  docker run --name web01 -d -p 127.0.0.1:9080:80 nginx

## Váº¥n Ä‘á» thÆ°á»ng gáº·p & cÃ¡ch xá»­ lÃ½

1. Lá»—i: "port is already allocated" khi táº¡o container

   * NguyÃªn nhÃ¢n: cá»•ng 9080 Ä‘ang bá»‹ dá»‹ch vá»¥ khÃ¡c sá»­ dá»¥ng.
   * Kháº¯c phá»¥c: chá»n cá»•ng khÃ¡c hoáº·c dá»«ng dá»‹ch vá»¥ Ä‘ang chiáº¿m cá»•ng. Kiá»ƒm tra báº±ng `ss -lntu` hoáº·c `lsof`.

2. KhÃ´ng truy cáº­p Ä‘Æ°á»£c tá»« máº¡ng bÃªn ngoÃ i

   * Kiá»ƒm tra xem báº¡n cÃ³ bind chá»‰ tá»›i localhost (`127.0.0.1:9080:80`). Náº¿u muá»‘n truy cáº­p tá»« máº¡ng, bind tá»›i 0.0.0.0 (máº·c Ä‘á»‹nh) hoáº·c IP cá»¥ thá»ƒ.
   * Kiá»ƒm tra firewall (ufw, iptables) cÃ³ cháº·n 9080 khÃ´ng: `sudo ufw allow 9080/tcp` hoáº·c kiá»ƒm tra quy táº¯c iptables.

3. Image khÃ´ng pull Ä‘Æ°á»£c (network/Docker Hub issues)

   * Kiá»ƒm tra internet vÃ  proxy settings. Thá»­ `docker pull nginx` Ä‘á»ƒ xem lá»—i chi tiáº¿t.

4. SELinux/AppArmor (trÃªn má»™t sá»‘ distro)

   * Náº¿u mount volume vÃ  gáº·p lá»—i truy cáº­p, kiá»ƒm tra context SELinux vÃ  cáº¥p quyá»n hoáº·c dÃ¹ng `:z`/`:Z` trÃªn volume Ä‘á»ƒ set context SELinux phÃ¹ há»£p: `-v /srv/www:/usr/share/nginx/html:Z`.

## VÃ­ dá»¥ táº¡o script ngáº¯n Ä‘á»ƒ cháº¡y vÃ  kiá»ƒm tra

```
#!/bin/bash
docker run --name web01 -d --restart unless-stopped -p 9080:80 nginx
sleep 2
echo "Docker container list:"
docker ps --filter name=web01
echo "Test HTTP response header:"
curl -I http://localhost:9080/
```

## Ghi chÃº báº£o máº­t

* Cháº¡y Nginx trong container máº·c Ä‘á»‹nh khÃ´ng cÃ³ HTTPS; náº¿u phá»¥c vá»¥ ra internet hÃ£y cáº¥u hÃ¬nh TLS (vÃ­ dá»¥ dÃ¹ng reverse proxy khÃ¡c hoáº·c certbot trong host).
* Háº¡n cháº¿ quyá»n ghi cho volume náº¿u khÃ´ng cáº§n thiáº¿t; chá»‰ mount vá»›i `:ro` khi chá»‰ phá»¥c vá»¥ ná»™i dung tÄ©nh.
* CÃ¢n nháº¯c user trong container (má»™t sá»‘ image cháº¡y service dÆ°á»›i root â€” kiá»ƒm tra náº¿u báº¡n quan tÃ¢m Ä‘áº¿n hardening).

## TÃ³m táº¯t nhanh (cÃ³ thá»ƒ copy vÃ o file .txt)

----- Báº®T Äáº¦U COPY -----
Giáº£i thÃ­ch: docker run --name web01 -d -p 9080:80 nginx

* Cháº¡y container tá»« image nginx, Ä‘áº·t tÃªn web01
* -d: cháº¡y ná»n (detached)
* -p 9080:80: Ã¡nh xáº¡ cá»•ng host 9080 -> container 80
* Náº¿u image chÆ°a cÃ³, Docker sáº½ pull tá»« Docker Hub

CÃ¡c lá»‡nh kiá»ƒm tra:

* docker ps
* docker logs web01
* curl -I [http://localhost:9080/](http://localhost:9080/)
* docker stop web01 && docker rm web01

----- Káº¾T THÃšC COPY -----
		
		
		- cmd: docker inspect web01
		
Giáº£i thÃ­ch chi tiáº¿t lá»‡nh:

docker inspect web01

---

Má»¥c tiÃªu tá»•ng quÃ¡t:
Lá»‡nh nÃ y láº¥y toÃ n bá»™ metadata (dÆ°á»›i dáº¡ng JSON) cá»§a má»™t Ä‘á»‘i tÆ°á»£ng Docker â€” thÆ°á»ng lÃ  container, image, network, volume... á» vÃ­ dá»¥ nÃ y
`web01` Ä‘Æ°á»£c hiá»ƒu lÃ  tÃªn (hoáº·c ID) cá»§a má»™t container. Káº¿t quáº£ tráº£ vá» ráº¥t chi tiáº¿t: cáº¥u hÃ¬nh container, tráº¡ng thÃ¡i runtime, thÃ´ng tin máº¡ng,
mount points, volumes, vÃ  nhiá»u thá»© khÃ¡c.

---

CÃº phÃ¡p cÆ¡ báº£n:

docker inspect [OPTIONS] NAME|ID [NAME|ID...]

CÃ¡c tuá»³ chá»n hay dÃ¹ng:
-f, --format string   : format output using a Go template
--type string         : format object type (container, image, network, etc.)

VÃ­ dá»¥ cÆ¡ báº£n:
docker inspect web01

---

MáºªU OUTPUT (rÃºt gá»n, JSON):

[
{
"Id": "e90e34656806",
"Created": "2025-11-30T08:12:22.123456789Z",
"Path": "/bin/bash",
"Args": ["-c", "apache2 -DFOREGROUND"],
"State": {
"Status": "running",
"Running": true,
"Paused": false,
"Restarting": false,
"OOMKilled": false,
"Dead": false,
"Pid": 12345,
"ExitCode": 0,
"Error": "",
"StartedAt": "2025-11-30T08:12:23.000000000Z",
"FinishedAt": "0001-01-01T00:00:00Z"
},
"Image": "sha256:7d9495d03763...",
"ResolvConfPath": "/var/lib/docker/containers/e90e3.../resolv.conf",
"HostConfig": {
"NetworkMode": "bridge",
"Memory": 0,
"CpusetCpus": "",
"PortBindings": {"80/tcp": [{"HostPort": "8080"}]}
},
"NetworkSettings": {
"Bridge": "docker0",
"Ports": {"80/tcp": [{"HostIp": "0.0.0.0", "HostPort": "8080"}]},
"Networks": {
"bridge": {
"IPAMConfig": null,
"IPAddress": "172.17.0.2",
"MacAddress": "02:42:ac:11:00:02"
}
}
},
"Mounts": [
{"Type":"volume", "Name":"web_data", "Source":"/var/lib/docker/volumes/web_data/_data", "Destination":"/var/www/html", "Mode":"", "RW":true, "Propagation":""}
],
"Config": {
"Hostname": "e90e34656806",
"Env": ["PATH=/usr/local/sbin...","APP_ENV=production"],
"Cmd": ["/start.sh"],
"Image": "nginx:latest"
}
}
]

Ghi chÃº: `docker inspect` luÃ´n tráº£ vá» má»™t máº£ng JSON (dÃ¹ báº¡n inspect 1 object) â€” vÃ¬ váº­y khi dÃ¹ng jq hoáº·c template cáº§n chÃº Ã½ truy cáº­p pháº§n tá»­ [0] náº¿u muá»‘n.

---

GIáº¢I THÃCH CÃC TRÆ¯á»œNG CHÃNH (quan trá»ng):

Id
- ID Ä‘áº§y Ä‘á»§ cá»§a Ä‘á»‘i tÆ°á»£ng (container). ThÆ°á»ng dÃ¹ng 12 kÃ½ tá»± Ä‘áº§u Ä‘á»ƒ tham chiáº¿u.

Created
- Thá»i Ä‘iá»ƒm container Ä‘Æ°á»£c táº¡o (timestamp ISO8601).

Path / Args
- "Path" lÃ  entrypoint (chÆ°Æ¡ng trÃ¬nh chÃ­nh Ä‘Æ°á»£c cháº¡y), "Args" lÃ  tham sá»‘ truyá»n cho entrypoint.

State
- ThÃ´ng tin runtime: Status (running, exited), Running (bool), Pid (PID trÃªn host), StartedAt, FinishedAt, ExitCode, v.v.
- DÃ¹ng Ä‘á»ƒ kiá»ƒm tra container cÃ³ Ä‘ang cháº¡y hay Ä‘Ã£ dá»«ng vÃ  vÃ¬ sao.

Image
- Hash cá»§a image mÃ  container sá»­ dá»¥ng.

ResolvConfPath / HostsPath / LogPath
- ÄÆ°á»ng dáº«n trÃªn host tá»›i cÃ¡c file cáº¥u hÃ¬nh/resolv/hosts/log cá»§a container.

HostConfig
- Cáº¥u hÃ¬nh khi khá»Ÿi táº¡o container: network mode, cgroup limits (memory, cpu), port bindings, restart policy...

NetworkSettings
- ThÃ´ng tin máº¡ng: bridge, port mappings (Ports), IP addresses cá»§a tá»«ng network trong pháº§n Networks.
- CÃ¡ch láº¥y IP container trong network bridge: .NetworkSettings.Networks.bridge.IPAddress

Mounts
- Danh sÃ¡ch mount (volumes, bind mounts). Má»—i má»¥c cho biáº¿t Source (host/volume), Destination (Ä‘Æ°á»ng dáº«n trong container), RW, v.v.

Config
- Cáº¥u hÃ¬nh image/container: Env (biáº¿n mÃ´i trÆ°á»ng), Cmd, Entrypoint, Labels, ExposedPorts, WorkingDir, Image tag...

---

CÃCH TRÃCH XUáº¤T THÃ”NG TIN THÆ¯á»œNG DÃ™NG

* In format gá»n: docker inspect --format '{{json .State}}' web01 | jq
* Kiá»ƒm tra tráº¡ng thÃ¡i cháº¡y: docker inspect --format '{{.State.Running}}' web01
* Kiá»ƒm tra IP ná»™i bá»™: docker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' web01
* Kiá»ƒm tra port mapping (host:container): docker inspect -f '{{json .NetworkSettings.Ports}}' web01 | jq
* Láº¥y danh sÃ¡ch env: docker inspect -f '{{range .Config.Env}}{{println .}}{{end}}' web01

LÆ°u Ã½: khi dÃ¹ng `--format` vá»›i template Go, náº¿u muá»‘n in JSON chuáº©n Ä‘á»ƒ dÃ¹ng `jq`, bá»c báº±ng `{{json ...}}`.

VÃ­ dá»¥:
docker inspect web01 > web01_inspect.json
cat web01_inspect.json | jq '.[0].NetworkSettings.Networks.bridge.IPAddress'

---

THAO TÃC TIá»†N ÃCH / Tá»° Äá»˜NG HOÃ

* Kiá»ƒm tra vÃ  thay tháº¿: dÃ¹ng trong script Ä‘á»ƒ assert container Ä‘Ã£ cháº¡y, vÃ­ dá»¥ trong CI/CD.
* DÃ¹ng Ä‘á»ƒ thu tháº­p metadata phá»¥c vá»¥ monitoring: PID, mounts, IP, labels, version image.

---

Lá»–I THÆ¯á»œNG Gáº¶P VÃ€ CÃCH KHáº®C PHá»¤C

1. "Error: No such object: web01"

   * NghÄ©a lÃ  khÃ´ng cÃ³ container (hoáº·c object) tÃªn/ID Ä‘Ã³. Kiá»ƒm tra `docker ps -a` Ä‘á»ƒ liá»‡t kÃª.

2. "Cannot connect to the Docker daemon"

   * Docker daemon khÃ´ng cháº¡y hoáº·c user khÃ´ng cÃ³ quyá»n. Kiá»ƒm tra `sudo systemctl status docker` hoáº·c cháº¡y vá»›i sudo.

3. Káº¿t quáº£ JSON rá»—ng/trá»‘ng

   * Äáº£m báº£o báº¡n inspect Ä‘Ãºng tÃªn vÃ  object thá»±c sá»± tá»“n táº¡i; kiá»ƒm tra `docker ps -a`.

4. ThÃ´ng tin máº¡ng/port khÃ´ng hiá»ƒn thá»‹ nhÆ° mong Ä‘á»£i

   * CÃ³ thá»ƒ container cháº¡y trong network khÃ¡c (user-defined network). Kiá»ƒm tra `.NetworkSettings.Networks` Ä‘á»ƒ biáº¿t táº¥t cáº£ network container tham gia.

---

Báº¢O Máº¬T & RIÃŠNG TÆ¯

* Output cÃ³ thá»ƒ chá»©a thÃ´ng tin nháº¡y cáº£m: biáº¿n mÃ´i trÆ°á»ng (ENV) chá»©a máº­t kháº©u/secret, Ä‘Æ°á»ng dáº«n volume chá»©a dá»¯ liá»‡u.
* TrÆ°á»›c khi chia sáº» JSON inspect, hÃ£y kiá»ƒm tra vÃ  lá»c (vÃ­ dá»¥ loáº¡i bá» biáº¿n mÃ´i trÆ°á»ng nháº¡y cáº£m) náº¿u chia sáº» cho bÃªn thá»© ba.

---

Máº¸O NGáº®N Gá»ŒN

* In gá»n tráº¡ng thÃ¡i cháº¡y: docker inspect -f '{{.State.Status}}' web01
* In HostPort cho port 80: docker inspect -f '{{(index (index .NetworkSettings.Ports "80/tcp") 0).HostPort}}' web01
* Láº¥y tÃªn image: docker inspect -f '{{.Config.Image}}' web01

---

LÆ°u output giáº£i thÃ­ch nÃ y ra file .txt:

* Ná»™i dung nÃ y Ä‘Ã£ á»Ÿ Ä‘á»‹nh dáº¡ng plain text â€” báº¡n cÃ³ thá»ƒ bÃ´i Ä‘en vÃ  Ctrl+C Ä‘á»ƒ copy, hoáº·c báº¥m nÃºt "Copy" náº¿u giao diá»‡n cÃ³ há»— trá»£.
* Náº¿u muá»‘n file tá»± Ä‘á»™ng tá»« shell: echo "<ná»™i dung>" > explain_docker_inspect_web01.txt (khÃ´ng phÃ¹ há»£p cho ná»™i dung dÃ i); copy thá»§ cÃ´ng váº«n lÃ  cÃ¡ch Ä‘Æ¡n giáº£n.

---

Muá»‘n mÃ¬nh lÃ m tiáº¿p gÃ¬?

* MÃ¬nh cÃ³ thá»ƒ rÃºt gá»n thÃ nh cheat-sheet 1 trang Ä‘á»ƒ dÃ¡n nhanh vÃ o script.
* Hoáº·c náº¿u báº¡n dÃ¡n output thá»±c táº¿ cá»§a `docker inspect web01` mÃ¬nh sáº½ giáº£i thÃ­ch chi tiáº¿t tá»«ng trÆ°á»ng theo output cá»§a báº¡n.

-- Káº¾T THÃšC TÃ€I LIá»†U --
		
		
		- cmd:  root@ubuntu-focal:~# curl http://172.17.0.2:80
		
				<!DOCTYPE html>
				<html>
				<head>
				<title>Welcome to nginx!</title>
				<style>
				html { color-scheme: light dark; }
				body { width: 35em; margin: 0 auto;
				font-family: Tahoma, Verdana, Arial, sans-serif; }
				</style>
				</head>
				<body>
				<h1>Welcome to nginx!</h1>
				<p>If you see this page, the nginx web server is successfully installed and
				working. Further configuration is required.</p>

				<p>For online documentation and support please refer to
				<a href="http://nginx.org/">nginx.org</a>.<br/>
				Commercial support is available at
				<a href="http://nginx.com/">nginx.com</a>.</p>

				<p><em>Thank you for using nginx.</em></p>
				</body>
				</html>
				
# Lá»‡nh
curl http://172.17.0.2:80

# Giáº£i thÃ­ch chi tiáº¿t:
# - curl: lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh dÃ¹ng Ä‘á»ƒ gá»­i yÃªu cáº§u HTTP hoáº·c FTP Ä‘áº¿n má»™t server vÃ  nháº­n vá» dá»¯ liá»‡u pháº£n há»“i.
# - http://172.17.0.2:80: Ä‘á»‹a chá»‰ IP cá»§a server (á»Ÿ Ä‘Ã¢y lÃ  172.17.0.2) vÃ  cá»•ng HTTP máº·c Ä‘á»‹nh (80).
# Khi thá»±c thi lá»‡nh nÃ y, curl gá»­i má»™t HTTP GET request tá»›i server Nginx Ä‘ang cháº¡y á»Ÿ Ä‘á»‹a chá»‰ Ä‘Ã³
# vÃ  nháº­n láº¡i trang web máº·c Ä‘á»‹nh cá»§a Nginx.

# Káº¿t quáº£ tráº£ vá» (HTML cá»§a trang web máº·c Ä‘á»‹nh Nginx):

<!DOCTYPE html>
<html>
<head>
<title>Welcome to nginx!</title>
<style>
html { color-scheme: light dark; }
body { width: 35em; margin: 0 auto;
font-family: Tahoma, Verdana, Arial, sans-serif; }
</style>
</head>
<body>
<h1>Welcome to nginx!</h1>
<p>If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.</p>

<p>For online documentation and support please refer to
<a href="http://nginx.org/">nginx.org</a>.<br/>
Commercial support is available at
<a href="http://nginx.com/">nginx.com</a>.</p>

<p><em>Thank you for using nginx.</em></p>
</body>
</html>

# Giáº£i thÃ­ch káº¿t quáº£ HTML:
# - ÄÃ¢y lÃ  trang máº·c Ä‘á»‹nh cá»§a Nginx sau khi cÃ i Ä‘áº·t thÃ nh cÃ´ng.
# - <h1>Welcome to nginx!</h1>: thÃ´ng bÃ¡o ráº±ng Nginx Ä‘Ã£ cháº¡y thÃ nh cÃ´ng.
# - <p>...Further configuration is required.</p>: nháº¯c nhá»Ÿ ráº±ng cáº§n cáº¥u hÃ¬nh thÃªm náº¿u muá»‘n dÃ¹ng cho website tháº­t.
# - CÃ¡c liÃªn káº¿t <a href="...">: hÆ°á»›ng dáº«n tra cá»©u tÃ i liá»‡u vÃ  há»— trá»£ tá»« Nginx.
# - CSS trong <style>: Ä‘á»‹nh dáº¡ng cÆ¡ báº£n cho trang, cÄƒn giá»¯a ná»™i dung vÃ  sá»­ dá»¥ng font phá»• biáº¿n.

				
		- cmd: docker build -t tesimg .
		
# Lá»‡nh Docker:
docker build -t tesimg .

# Giáº£i thÃ­ch chi tiáº¿t:

1. docker:
   - ÄÃ¢y lÃ  lá»‡nh chÃ­nh gá»i Docker CLI Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c thao tÃ¡c liÃªn quan Ä‘áº¿n Docker.

2. build:
   - Tham sá»‘ "build" dÃ¹ng Ä‘á»ƒ táº¡o má»™t Docker image má»›i tá»« má»™t Dockerfile.
   - Docker sáº½ Ä‘á»c ná»™i dung cá»§a Dockerfile trong thÆ° má»¥c hiá»‡n táº¡i (hoáº·c thÆ° má»¥c Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh) vÃ  build image theo cÃ¡c hÆ°á»›ng dáº«n trong Ä‘Ã³.

3. -t tesimg:
   - Tham sá»‘ "-t" lÃ  viáº¿t táº¯t cá»§a "tag".
   - NÃ³ cho phÃ©p báº¡n Ä‘áº·t tÃªn (tag) cho image vá»«a Ä‘Æ°á»£c build.
   - á» Ä‘Ã¢y, image má»›i sáº½ cÃ³ tÃªn lÃ  "tesimg".
   - Báº¡n cÅ©ng cÃ³ thá»ƒ gÃ¡n tag cá»¥ thá»ƒ, vÃ­ dá»¥: "-t tesimg:v1" Ä‘á»ƒ Ä‘Ã¡nh dáº¥u version.

4. . (dáº¥u cháº¥m):
   - Dáº¥u cháº¥m chá»‰ Ä‘á»‹nh **thÆ° má»¥c hiá»‡n táº¡i** lÃ  nÆ¡i Docker sáº½ tÃ¬m Dockerfile vÃ  cÃ¡c file cáº§n thiáº¿t Ä‘á»ƒ build image.
   - Báº¡n cÅ©ng cÃ³ thá»ƒ thay "." báº±ng Ä‘Æ°á»ng dáº«n khÃ¡c náº¿u Dockerfile náº±m á»Ÿ nÆ¡i khÃ¡c, vÃ­ dá»¥: "/home/user/mydocker/".

# Quy trÃ¬nh thá»±c hiá»‡n cá»§a lá»‡nh nÃ y:
1. Docker Ä‘á»c Dockerfile trong thÆ° má»¥c hiá»‡n táº¡i.
2. Docker thá»±c hiá»‡n cÃ¡c bÆ°á»›c trong Dockerfile (RUN, COPY, ENV, v.v.).
3. Má»—i bÆ°á»›c táº¡o ra má»™t layer má»›i trong image.
4. Khi build xong, Docker gÃ¡n tag "tesimg" cho image vá»«a táº¡o.
5. Image cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ táº¡o container báº±ng lá»‡nh:
   docker run -it tesimg

# VÃ­ dá»¥ minh há»a:
Giáº£ sá»­ thÆ° má»¥c hiá»‡n táº¡i cÃ³ Dockerfile sau:

   FROM ubuntu:22.04
   RUN apt-get update && apt-get install -y curl
   CMD ["bash"]

Khi cháº¡y:
   docker build -t tesimg .

- Docker sáº½:
   1. Táº£i base image ubuntu:22.04 (náº¿u chÆ°a cÃ³)
   2. Cháº¡y lá»‡nh cÃ i curl
   3. Táº¡o image má»›i vá»›i tÃªn "tesimg"
		
		
		- cmd: docker run -d -P tesimg
		
Lá»‡nh: docker run -d -P tesimg

Giáº£i thÃ­ch chi tiáº¿t:

1. docker run
   - ÄÃ¢y lÃ  lá»‡nh cÆ¡ báº£n dÃ¹ng Ä‘á»ƒ táº¡o vÃ  cháº¡y má»™t container má»›i tá»« má»™t image cÃ³ sáºµn.

2. -d
   - TÃ¹y chá»n "-d" viáº¿t táº¯t cá»§a "detached mode".
   - Khi sá»­ dá»¥ng, container sáº½ cháº¡y trong ná»n (background), khÃ´ng chiáº¿m terminal hiá»‡n táº¡i.
   - VÃ­ dá»¥: báº¡n sáº½ tháº¥y ID cá»§a container Ä‘Æ°á»£c tráº£ vá», thay vÃ¬ giao diá»‡n console cá»§a container.

3. -P
   - TÃ¹y chá»n "-P" viáº¿t táº¯t cá»§a "publish all exposed ports".
   - Docker sáº½ tá»± Ä‘á»™ng Ã¡nh xáº¡ táº¥t cáº£ cÃ¡c port mÃ  image Ä‘Ã£ khai bÃ¡o trong Dockerfile sang cÃ¡c port ngáº«u nhiÃªn trÃªn host.
   - KhÃ¡c vá»›i "-p", báº¡n khÃ´ng chá»‰ Ä‘á»‹nh cá»¥ thá»ƒ port host; Docker sáº½ chá»n port ngáº«u nhiÃªn.

4. tesimg
   - ÄÃ¢y lÃ  tÃªn cá»§a Docker image mÃ  container sáº½ Ä‘Æ°á»£c táº¡o tá»« Ä‘Ã³.
   - Image nÃ y pháº£i tá»“n táº¡i trÃªn mÃ¡y (Ä‘Ã£ pull tá»« Docker Hub hoáº·c build locally) trÆ°á»›c khi cháº¡y lá»‡nh.

TÃ³m táº¯t hoáº¡t Ä‘á»™ng:
- Docker sáº½ tÃ¬m image "tesimg".
- Táº¡o má»™t container tá»« image Ä‘Ã³.
- Cháº¡y container trong cháº¿ Ä‘á»™ ná»n (-d).
- Ãnh xáº¡ táº¥t cáº£ cÃ¡c port mÃ  image Ä‘Ã£ expose ra host (-P).
- Tráº£ vá» ID cá»§a container má»›i táº¡o.

VÃ­ dá»¥ minh há»a:
$ docker run -d -P tesimg
Output:
a1b2c3d4e5f6...   # ÄÃ¢y lÃ  container ID
- Báº¡n cÃ³ thá»ƒ dÃ¹ng lá»‡nh `docker ps` Ä‘á»ƒ kiá»ƒm tra container Ä‘ang cháº¡y vÃ  cÃ¡c port Ä‘Æ°á»£c Ã¡nh xáº¡.

CÃ¡c lá»‡nh liÃªn quan há»¯u Ã­ch:
- docker ps           # Xem cÃ¡c container Ä‘ang cháº¡y
- docker ps -a        # Xem táº¥t cáº£ container, ká»ƒ cáº£ Ä‘Ã£ dá»«ng
- docker logs <ID>    # Xem log cá»§a container
- docker stop <ID>    # Dá»«ng container
- docker rm <ID>      # XÃ³a container
		
		
		- cmd:  root@ubuntu-focal:~/images# docker ps
		
				CONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS          PORTS                                       NAMES
				f41b4289fc35   tesimg    "/usr/sbin/apache2ctâ€¦"   2 minutes ago    Up 2 minutes    0.0.0.0:32768->80/tcp, [::]:32768->80/tcp   elegant_moore
				44fde054c460   nginx     "/docker-entrypoint.â€¦"   25 minutes ago   Up 25 minutes   0.0.0.0:9080->80/tcp, [::]:9080->80/tcp     web01
				
				Con sá»‘ 32768 trong output docker ps nÃ y chÃ­nh lÃ  cá»•ng ngáº«u nhiÃªn trÃªn mÃ¡y host mÃ  Docker Ã¡nh
				xáº¡ Ä‘áº¿n cá»•ng 80 trong container.

		- cmd: docker stop web01 elegant_moore
		
# Lá»‡nh:
docker stop web01 elegant_moore

# Giáº£i thÃ­ch chi tiáº¿t:

1. docker:
   - ÄÃ¢y lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh chÃ­nh Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i Docker.
   - Cho phÃ©p báº¡n quáº£n lÃ½ cÃ¡c container, images, volumes, networks, v.v.

2. stop:
   - LÃ  má»™t lá»‡nh con (subcommand) cá»§a docker.
   - Chá»©c nÄƒng: dá»«ng cÃ¡c container Ä‘ang cháº¡y.
   - Khi cháº¡y, Docker sáº½ gá»­i tÃ­n hiá»‡u SIGTERM Ä‘áº¿n container, yÃªu cáº§u container tá»± dá»«ng. 
     Náº¿u container khÃ´ng dá»«ng sau má»™t khoáº£ng thá»i gian (máº·c Ä‘á»‹nh 10 giÃ¢y), Docker sáº½ gá»­i SIGKILL Ä‘á»ƒ Ã©p container dá»«ng.

3. web01 elegant_moore:
   - ÄÃ¢y lÃ  danh sÃ¡ch tÃªn hoáº·c ID cá»§a cÃ¡c container mÃ  báº¡n muá»‘n dá»«ng.
   - web01: thÆ°á»ng lÃ  tÃªn do ngÆ°á»i dÃ¹ng Ä‘áº·t cho container.
   - elegant_moore: Docker tá»± Ä‘á»™ng sinh tÃªn cho container náº¿u báº¡n khÃ´ng Ä‘áº·t tÃªn, gá»“m má»™t tÃ­nh tá»« + há» cá»§a nhÃ  khoa há»c ná»•i tiáº¿ng.
   - Lá»‡nh nÃ y sáº½ dá»«ng **cáº£ hai container** cÃ¹ng lÃºc.

# VÃ­ dá»¥ minh há»a:
- Náº¿u container web01 Ä‘ang cháº¡y á»©ng dá»¥ng Nginx vÃ  elegant_moore Ä‘ang cháº¡y á»©ng dá»¥ng MySQL:
  Khi cháº¡y lá»‡nh trÃªn, cáº£ hai container sáº½ nháº­n tÃ­n hiá»‡u dá»«ng vÃ  ngá»«ng hoáº¡t Ä‘á»™ng.
  
# LÆ°u Ã½:
- Lá»‡nh nÃ y khÃ´ng xÃ³a container, chá»‰ táº¡m dá»«ng chÃºng. Báº¡n cÃ³ thá»ƒ khá»Ÿi Ä‘á»™ng láº¡i container báº±ng:
  docker start web01 elegant_moore
		
		
		- cmd:  root@ubuntu-focal:~/images# docker ps -a
		
				CONTAINER ID   IMAGE         COMMAND                  CREATED          STATUS                        PORTS     NAMES
				f41b4289fc35   tesimg        "/usr/sbin/apache2ctâ€¦"   6 minutes ago    Exited (137) 28 seconds ago             elegant_moore
				44fde054c460   nginx         "/docker-entrypoint.â€¦"   29 minutes ago   Exited (0) 38 seconds ago               web01
				00001e808420   hello-world   "/hello"                 32 minutes ago   Exited (0) 32 minutes ago               cool_agnesi
				
Lá»‡nh: docker ps -a

Má»¥c Ä‘Ã­ch:
Lá»‡nh nÃ y hiá»ƒn thá»‹ táº¥t cáº£ cÃ¡c container Docker trÃªn há»‡ thá»‘ng, bao gá»“m cáº£ cÃ¡c container Ä‘ang cháº¡y vÃ  Ä‘Ã£ dá»«ng. Tham sá»‘ "-a" (hoáº·c "--all") Ä‘áº£m báº£o táº¥t cáº£ container Ä‘á»u Ä‘Æ°á»£c liá»‡t kÃª, khÃ´ng chá»‰ nhá»¯ng container Ä‘ang cháº¡y.

Cá»™t káº¿t quáº£:

1. CONTAINER ID
   - LÃ  mÃ£ Ä‘á»‹nh danh duy nháº¥t cá»§a má»—i container, dÃ¹ng Ä‘á»ƒ thao tÃ¡c (start, stop, inspect, rm, ...).
   - VÃ­ dá»¥: f41b4289fc35

2. IMAGE
   - TÃªn image mÃ  container Ä‘ang sá»­ dá»¥ng Ä‘á»ƒ táº¡o ra. 
   - VÃ­ dá»¥: tesimg, nginx, hello-world

3. COMMAND
   - Lá»‡nh Ä‘Æ°á»£c cháº¡y khi container khá»Ÿi Ä‘á»™ng.
   - VÃ­ dá»¥: "/usr/sbin/apache2ctâ€¦" cho Apache, "/docker-entrypoint.â€¦" cho Nginx, "/hello" cho hello-world

4. CREATED
   - Thá»i gian container Ä‘Æ°á»£c táº¡o ra.
   - VÃ­ dá»¥: "6 minutes ago" nghÄ©a lÃ  6 phÃºt trÆ°á»›c container nÃ y Ä‘Æ°á»£c táº¡o.

5. STATUS
   - Tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a container, bao gá»“m:
     + Exited (mÃ£ lá»—i): container Ä‘Ã£ dá»«ng, kÃ¨m theo mÃ£ thoÃ¡t (exit code)
       - 0: cháº¡y thÃ nh cÃ´ng
       - 137: bá»‹ dá»«ng báº±ng tÃ­n hiá»‡u SIGKILL (thÆ°á»ng do bá»‹ stop hoáº·c háº¿t bá»™ nhá»›)
     + Running: container Ä‘ang cháº¡y
   - VÃ­ dá»¥: "Exited (137) 28 seconds ago" nghÄ©a lÃ  container elegant_moore Ä‘Ã£ bá»‹ dá»«ng vá»›i mÃ£ 137, cÃ¡ch Ä‘Ã¢y 28 giÃ¢y.

6. PORTS
   - CÃ¡c cá»•ng Ä‘Æ°á»£c Ã¡nh xáº¡ giá»¯a host vÃ  container. Náº¿u trá»‘ng, container khÃ´ng cÃ³ cá»•ng nÃ o Ä‘Æ°á»£c publish.
   - VÃ­ dá»¥: web01 Ä‘ang dÃ¹ng nginx nhÆ°ng khÃ´ng hiá»ƒn thá»‹ port mapping trong báº£ng nÃ y.

7. NAMES
   - TÃªn tá»± Ä‘á»™ng hoáº·c do ngÆ°á»i dÃ¹ng Ä‘áº·t cho container, dÃ¹ng Ä‘á»ƒ thao tÃ¡c dá»… dÃ ng thay vÃ¬ dÃ¹ng CONTAINER ID.
   - VÃ­ dá»¥: elegant_moore, web01, cool_agnesi

VÃ­ dá»¥ phÃ¢n tÃ­ch tá»«ng container trong danh sÃ¡ch:

1. Container: elegant_moore
   - ID: f41b4289fc35
   - Image: tesimg
   - Command: "/usr/sbin/apache2ctâ€¦"
   - Created: 6 phÃºt trÆ°á»›c
   - Status: Exited (137) 28 giÃ¢y trÆ°á»›c â†’ container Ä‘Ã£ dá»«ng, bá»‹ kill
   - Ports: khÃ´ng cÃ³ port nÃ o Ä‘Æ°á»£c map
   - Name: elegant_moore

2. Container: web01
   - ID: 44fde054c460
   - Image: nginx
   - Command: "/docker-entrypoint.â€¦"
   - Created: 29 phÃºt trÆ°á»›c
   - Status: Exited (0) 38 giÃ¢y trÆ°á»›c â†’ container Ä‘Ã£ cháº¡y xong bÃ¬nh thÆ°á»ng vÃ  dá»«ng
   - Ports: khÃ´ng cÃ³ port nÃ o Ä‘Æ°á»£c map hiá»ƒn thá»‹
   - Name: web01

3. Container: cool_agnesi
   - ID: 00001e808420
   - Image: hello-world
   - Command: "/hello"
   - Created: 32 phÃºt trÆ°á»›c
   - Status: Exited (0) 32 phÃºt trÆ°á»›c â†’ cháº¡y xong vÃ  dá»«ng ngay láº­p tá»©c (Ä‘Ã¢y lÃ  Ä‘áº·c trÆ°ng cá»§a hello-world)
   - Ports: khÃ´ng cÃ³ port
   - Name: cool_agnesi

TÃ³m láº¡i:
- Lá»‡nh `docker ps -a` ráº¥t há»¯u Ã­ch Ä‘á»ƒ xem táº¥t cáº£ container, kiá»ƒm tra tráº¡ng thÃ¡i vÃ  debug cÃ¡c container Ä‘Ã£ dá»«ng.
- Tráº¡ng thÃ¡i Exited kÃ¨m code 0 nghÄ©a lÃ  cháº¡y thÃ nh cÃ´ng, cÃ²n cÃ¡c code khÃ¡c (vÃ­ dá»¥ 137) thÆ°á»ng chá»‰ ra lá»—i hoáº·c bá»‹ dá»«ng báº±ng tÃ­n hiá»‡u.

				
		- cmd: docker rm elegant_moore web01 cool_agnesi
		
# Lá»‡nh Docker
docker rm elegant_moore web01 cool_agnesi

# Giáº£i thÃ­ch chi tiáº¿t:
# - docker: lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ cÃ¡c container Docker.
# - rm: lÃ  viáº¿t táº¯t cá»§a "remove", dÃ¹ng Ä‘á»ƒ xÃ³a container Ä‘Ã£ dá»«ng (stopped container).
# - elegant_moore, web01, cool_agnesi: lÃ  tÃªn cá»§a cÃ¡c container mÃ  báº¡n muá»‘n xÃ³a.

# CÃ¡ch hoáº¡t Ä‘á»™ng:
# 1. Docker sáº½ kiá»ƒm tra tá»«ng container theo tÃªn Ä‘Æ°á»£c liá»‡t kÃª.
# 2. Náº¿u container Ä‘ang cháº¡y, lá»‡nh sáº½ tháº¥t báº¡i trá»« khi thÃªm tÃ¹y chá»n -f (force).
# 3. Náº¿u container Ä‘Ã£ dá»«ng, Docker sáº½ xÃ³a container Ä‘Ã³ khá»i há»‡ thá»‘ng,
#    giáº£i phÃ³ng cÃ¡c tÃ i nguyÃªn nhÆ° filesystem vÃ  metadata liÃªn quan.
# 4. Sau khi xÃ³a, container khÃ´ng cÃ²n tá»“n táº¡i vÃ  khÃ´ng thá»ƒ khá»Ÿi Ä‘á»™ng láº¡i.

# VÃ­ dá»¥ káº¿t quáº£ khi thá»±c thi:
# elegant_moore
# web01
# cool_agnesi
# Má»—i tÃªn container Ä‘Æ°á»£c in ra Ä‘á»ƒ xÃ¡c nháº­n Ä‘Ã£ xÃ³a thÃ nh cÃ´ng.
		
		
		- cmd:  root@ubuntu-focal:~/images# docker images
		
				REPOSITORY    TAG       IMAGE ID       CREATED          SIZE
				tesimg        latest    c197410a4d04   13 minutes ago   271MB
				nginx         latest    41f689c20910   5 weeks ago      192MB
				hello-world   latest    1b44b5a3e06a   6 weeks ago      10.1kB
				
# Lá»‡nh Docker:
docker images

# Giáº£i thÃ­ch chi tiáº¿t:

1. docker:
   - ÄÃ¢y lÃ  lá»‡nh chÃ­nh gá»i Docker CLI Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c thao tÃ¡c liÃªn quan Ä‘áº¿n Docker.

2. images:
   - Tham sá»‘ "images" dÃ¹ng Ä‘á»ƒ **liá»‡t kÃª táº¥t cáº£ cÃ¡c Docker images** cÃ³ trÃªn mÃ¡y tÃ­nh cá»§a báº¡n.
   - Docker sáº½ hiá»ƒn thá»‹ danh sÃ¡ch image cÃ¹ng thÃ´ng tin cÆ¡ báº£n.

# CÃ¡c thÃ´ng tin hiá»ƒn thá»‹ khi cháº¡y lá»‡nh docker images:
Khi cháº¡y lá»‡nh, báº¡n sáº½ tháº¥y má»™t báº£ng cÃ³ dáº¡ng nhÆ° sau:

REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
tesimg              latest              1a2b3c4d5e6f        2 minutes ago       120MB
ubuntu              22.04               7c8d9e0f1a2b        3 weeks ago         77.9MB

Giáº£i thÃ­ch tá»«ng cá»™t:

1. REPOSITORY:
   - TÃªn cá»§a Docker image.
   - ÄÃ¢y lÃ  tÃªn báº¡n gÃ¡n khi build image (vÃ­ dá»¥: "tesimg") hoáº·c tÃªn image tá»« Docker Hub (vÃ­ dá»¥: "ubuntu").

2. TAG:
   - PhiÃªn báº£n cá»§a image.
   - Máº·c Ä‘á»‹nh lÃ  "latest" náº¿u báº¡n khÃ´ng chá»‰ Ä‘á»‹nh khi build hoáº·c pull image.
   - VÃ­ dá»¥: "22.04" lÃ  phiÃªn báº£n Ubuntu 22.04.

3. IMAGE ID:
   - MÃ£ Ä‘á»‹nh danh duy nháº¥t cá»§a image.
   - Má»—i image Ä‘Æ°á»£c Docker gÃ¡n má»™t ID hash Ä‘á»ƒ nháº­n diá»‡n.

4. CREATED:
   - Thá»i gian image Ä‘Æ°á»£c táº¡o ra.
   - GiÃºp báº¡n biáº¿t image nÃ o má»›i Ä‘Æ°á»£c build hoáº·c pull.

5. SIZE:
   - KÃ­ch thÆ°á»›c cá»§a image.
   - Bao gá»“m táº¥t cáº£ cÃ¡c layer trong image.

# Má»™t sá»‘ lá»‡nh liÃªn quan:
- docker images -a
   Liá»‡t kÃª táº¥t cáº£ image, ká»ƒ cáº£ intermediate image Ä‘Æ°á»£c táº¡o ra khi build.

- docker rmi <IMAGE ID or NAME>
   XÃ³a má»™t image khá»i mÃ¡y tÃ­nh.

# VÃ­ dá»¥ minh há»a:
Cháº¡y:
   docker images

Káº¿t quáº£ cÃ³ thá»ƒ lÃ :
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
tesimg              latest              1a2b3c4d5e6f        2 minutes ago       120MB
nginx               latest              9b0c1d2e3f4g        1 week ago          133MB
ubuntu              22.04               7c8d9e0f1a2b        3 weeks ago         77.9MB

- Äiá»u nÃ y cho tháº¥y báº¡n cÃ³ 3 Docker images trÃªn mÃ¡y, vá»›i cÃ¡c phiÃªn báº£n, ID vÃ  kÃ­ch thÆ°á»›c tÆ°Æ¡ng á»©ng.
				
				
		- cmd: docker rmi c197410a4d04 41f689c20910 1b44b5a3e06a
		
Lá»‡nh: docker rmi c197410a4d04 41f689c20910 1b44b5a3e06a

Giáº£i thÃ­ch chi tiáº¿t:

1. docker rmi
   - "rmi" lÃ  viáº¿t táº¯t cá»§a "remove image".
   - Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ xÃ³a má»™t hoáº·c nhiá»u Docker image khá»i há»‡ thá»‘ng.

2. c197410a4d04 41f689c20910 1b44b5a3e06a
   - ÄÃ¢y lÃ  cÃ¡c ID cá»§a Docker image mÃ  báº¡n muá»‘n xÃ³a.
   - Báº¡n cÃ³ thá»ƒ xÃ³a nhiá»u image cÃ¹ng lÃºc báº±ng cÃ¡ch liá»‡t kÃª cÃ¡c ID hoáº·c tÃªn image cÃ¡ch nhau báº±ng dáº¥u cÃ¡ch.

CÃ¡ch hoáº¡t Ä‘á»™ng:
- Docker sáº½ tÃ¬m cÃ¡c image theo ID Ä‘Ã£ chá»‰ Ä‘á»‹nh.
- Náº¿u image Ä‘ang Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi container nÃ o Ä‘Ã³ Ä‘ang cháº¡y hoáº·c Ä‘Ã£ tá»“n táº¡i container dá»±a trÃªn image Ä‘Ã³, lá»‡nh sáº½ bÃ¡o lá»—i.
- Náº¿u image khÃ´ng bá»‹ rÃ ng buá»™c, Docker sáº½ xÃ³a image khá»i há»‡ thá»‘ng.

LÆ°u Ã½:
- Äá»ƒ xÃ³a cáº£ container Ä‘ang dÃ¹ng image Ä‘Ã³, báº¡n cáº§n dá»«ng vÃ  xÃ³a container trÆ°á»›c:
    $ docker stop <container_id>
    $ docker rm <container_id>

CÃ¡c lá»‡nh liÃªn quan há»¯u Ã­ch:
- docker images       # Liá»‡t kÃª táº¥t cáº£ image hiá»‡n cÃ³ trÃªn há»‡ thá»‘ng
- docker ps -a        # Liá»‡t kÃª táº¥t cáº£ container, Ä‘á»ƒ kiá»ƒm tra container nÃ o Ä‘ang sá»­ dá»¥ng image
- docker rmi -f <ID>  # Buá»™c xÃ³a image ngay cáº£ khi Ä‘ang Ä‘Æ°á»£c container sá»­ dá»¥ng
		
		
		- cmd: wget https://raw.githubusercontent.com/devopshydclub/vprofile-project/refs/heads/docker/compose/docker-compose.yml
		
# Lá»‡nh:
wget https://raw.githubusercontent.com/devopshydclub/vprofile-project/refs/heads/docker/compose/docker-compose.yml

# Giáº£i thÃ­ch chi tiáº¿t:

1. wget:
   - ÄÃ¢y lÃ  má»™t cÃ´ng cá»¥ dÃ²ng lá»‡nh dÃ¹ng Ä‘á»ƒ táº£i file tá»« internet.
   - Há»— trá»£ cÃ¡c giao thá»©c HTTP, HTTPS, FTP.
   - ThÆ°á»ng cÃ³ sáºµn trÃªn háº§u háº¿t cÃ¡c há»‡ Ä‘iá»u hÃ nh Linux.

2. https://raw.githubusercontent.com/devopshydclub/vprofile-project/refs/heads/docker/compose/docker-compose.yml
   - ÄÃ¢y lÃ  URL Ä‘áº§y Ä‘á»§ cá»§a file mÃ  báº¡n muá»‘n táº£i.
   - Giáº£i thÃ­ch tá»«ng pháº§n:
     - https:// : Giao thá»©c báº£o máº­t HTTPS.
     - raw.githubusercontent.com : ÄÃ¢y lÃ  dá»‹ch vá»¥ cá»§a GitHub Ä‘á»ƒ láº¥y file thÃ´ (raw file) tá»« repository.
     - devopshydclub/vprofile-project : tÃªn tÃ i khoáº£n GitHub (devopshydclub) vÃ  repository (vprofile-project).
     - refs/heads/docker/compose/docker-compose.yml : Ä‘Æ°á»ng dáº«n Ä‘áº¿n file `docker-compose.yml` trong nhÃ¡nh `docker/compose`.

3. HÃ nh vi cá»§a lá»‡nh:
   - Khi cháº¡y lá»‡nh nÃ y, wget sáº½ táº£i file `docker-compose.yml` vá» thÆ° má»¥c hiá»‡n táº¡i (thÆ°á»ng lÃ  thÆ° má»¥c báº¡n Ä‘ang Ä‘á»©ng trong terminal).
   - File táº£i vá» sáº½ giá»¯ nguyÃªn tÃªn gá»‘c lÃ  `docker-compose.yml`.

# Má»™t sá»‘ tÃ¹y chá»n thÆ°á»ng dÃ¹ng vá»›i wget:
- wget -O <ten_file> <url>   : táº£i file vá» vÃ  Ä‘á»•i tÃªn thÃ nh <ten_file>.
- wget -q <url>             : táº£i file á»Ÿ cháº¿ Ä‘á»™ im láº·ng (khÃ´ng hiá»ƒn thá»‹ tiáº¿n trÃ¬nh).
- wget -c <url>             : tiáº¿p tá»¥c táº£i file náº¿u trÆ°á»›c Ä‘Ã³ bá»‹ giÃ¡n Ä‘oáº¡n.
				
		
		- cmd: docker compose up -d
		
Lá»‡nh: docker compose up -d

Má»¥c Ä‘Ã­ch:
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **khá»Ÿi táº¡o vÃ  cháº¡y cÃ¡c dá»‹ch vá»¥** Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong file `docker-compose.yml`. 
CÃ¡c dá»‹ch vá»¥ sáº½ Ä‘Æ°á»£c cháº¡y theo cáº¥u hÃ¬nh vá» image, container, network, volume, port, v.v. Ä‘Æ°á»£c mÃ´ táº£ trong file compose.

Tham sá»‘ vÃ  Ã½ nghÄ©a:

1. docker compose
   - ÄÃ¢y lÃ  cÃ´ng cá»¥ Ä‘á»ƒ quáº£n lÃ½ nhiá»u container nhÆ° má»™t nhÃ³m (stack) dá»±a trÃªn file `docker-compose.yml`.
   - Cho phÃ©p báº¡n Ä‘á»‹nh nghÄ©a cáº¥u hÃ¬nh phá»©c táº¡p má»™t cÃ¡ch Ä‘Æ¡n giáº£n vÃ  reproducible.

2. up
   - Táº¡o cÃ¡c container náº¿u chÆ°a tá»“n táº¡i.
   - Khá»Ÿi cháº¡y cÃ¡c container (cháº¡y cÃ¡c dá»‹ch vá»¥).
   - Náº¿u image chÆ°a cÃ³ sáºµn, sáº½ tá»± Ä‘á»™ng pull tá»« registry hoáº·c build tá»« Dockerfile (náº¿u Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh).

3. -d (hoáº·c --detach)
   - Cháº¡y cÃ¡c container **á»Ÿ cháº¿ Ä‘á»™ ná»n (detached)**, tá»©c lÃ  khÃ´ng chiáº¿m terminal hiá»‡n táº¡i.
   - Sau khi lá»‡nh thá»±c thi, báº¡n sáº½ nháº­n Ä‘Æ°á»£c thÃ´ng tin container Ä‘Æ°á»£c táº¡o nhÆ°ng terminal sáº½ sáºµn sÃ ng dÃ¹ng lá»‡nh khÃ¡c.

CÃ¡c hÃ nh vi chi tiáº¿t khi cháº¡y lá»‡nh:

- Docker Compose sáº½ Ä‘á»c file `docker-compose.yml` trong thÆ° má»¥c hiá»‡n táº¡i (hoáº·c báº¡n chá»‰ Ä‘á»‹nh vá»›i `-f <file>`).
- Náº¿u container Ä‘Ã£ tá»“n táº¡i vÃ  cáº¥u hÃ¬nh khÃ´ng thay Ä‘á»•i, Docker sáº½ tÃ¡i sá»­ dá»¥ng container.
- Náº¿u cáº¥u hÃ¬nh thay Ä‘á»•i, Docker sáº½ tÃ¡i táº¡o container má»›i.
- Docker Compose cÅ©ng tá»± Ä‘á»™ng táº¡o network riÃªng, volume náº¿u Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong file.
- CÃ¡c cá»•ng Ä‘Æ°á»£c Ã¡nh xáº¡ tá»« container ra host theo Ä‘á»‹nh nghÄ©a trong compose file.

VÃ­ dá»¥ káº¿t quáº£ khi cháº¡y:

- Náº¿u cháº¡y thÃ nh cÃ´ng, terminal sáº½ hiá»ƒn thá»‹ tÃªn cÃ¡c dá»‹ch vá»¥ Ä‘Æ°á»£c khá»Ÿi táº¡o:
		
		
		- cmd: docker compose ps
		
# Lá»‡nh Docker Compose
docker compose ps

# Giáº£i thÃ­ch chi tiáº¿t:
# - docker compose: lÃ  cÃ´ng cá»¥ quáº£n lÃ½ multi-container cá»§a Docker, dá»±a trÃªn file docker-compose.yml.
# - ps: viáº¿t táº¯t cá»§a "process status", dÃ¹ng Ä‘á»ƒ liá»‡t kÃª tráº¡ng thÃ¡i cÃ¡c container trong má»™t project Compose.

# CÃ¡ch hoáº¡t Ä‘á»™ng:
# 1. Docker Compose Ä‘á»c file docker-compose.yml trong thÆ° má»¥c hiá»‡n táº¡i Ä‘á»ƒ xÃ¡c Ä‘á»‹nh cÃ¡c service.
# 2. Liá»‡t kÃª táº¥t cáº£ container Ä‘Æ°á»£c táº¡o ra tá»« cÃ¡c service Ä‘Ã³.
# 3. ThÃ´ng tin hiá»ƒn thá»‹ bao gá»“m:
#    - Name: tÃªn container
#    - Command: lá»‡nh Ä‘ang cháº¡y trong container
#    - State: tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a container (Up, Exit, Restarting,...)
#    - Ports: cÃ¡c cá»•ng Ä‘ang Ä‘Æ°á»£c Ã¡nh xáº¡ ra ngoÃ i host

# VÃ­ dá»¥ káº¿t quáº£ khi thá»±c thi docker compose ps:

NAME                COMMAND                  SERVICE             STATUS              PORTS
web01               "nginx -g 'daemon ofâ€¦"  web                 running             0.0.0.0:9080->80/tcp
db01                "docker-entrypoint.sâ€¦"  db                  running             3306/tcp
redis01             "docker-entrypoint.sâ€¦"  redis               running             6379/tcp

# Giáº£i thÃ­ch káº¿t quáº£:
# - web01, db01, redis01: tÃªn cÃ¡c container Ä‘Æ°á»£c táº¡o ra tá»« file docker-compose.yml
# - COMMAND: lá»‡nh Ä‘ang cháº¡y trong container
# - SERVICE: tÃªn service trong docker-compose.yml
# - STATUS: tráº¡ng thÃ¡i container (running = Ä‘ang cháº¡y, exited = Ä‘Ã£ dá»«ng)
# - PORTS: Ã¡nh xáº¡ cá»•ng tá»« container ra host (vÃ­ dá»¥ 0.0.0.0:9080->80/tcp nghÄ©a lÃ  cá»•ng 80 trong container Ä‘Æ°á»£c Ã¡nh xáº¡ ra cá»•ng 9080 cá»§a host)
		
		
		- cmd: docker compose down
		
# Lá»‡nh Docker Compose:
docker compose down

# Giáº£i thÃ­ch chi tiáº¿t:

1. docker compose:
   - ÄÃ¢y lÃ  cÃ´ng cá»¥ Docker Compose, dÃ¹ng Ä‘á»ƒ **quáº£n lÃ½ nhiá»u container cÃ¹ng lÃºc** dá»±a trÃªn file cáº¥u hÃ¬nh `docker-compose.yml`.
   - Docker Compose giÃºp báº¡n dá»… dÃ ng build, start, stop, hoáº·c xÃ³a cÃ¡c container, network vÃ  volumes Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong file YAML.

2. down:
   - Tham sá»‘ "down" dÃ¹ng Ä‘á»ƒ **dá»«ng táº¥t cáº£ cÃ¡c container, network vÃ  volumes (tÃ¹y chá»n) Ä‘Æ°á»£c táº¡o bá»Ÿi Docker Compose**.
   - NÃ³i cÃ¡ch khÃ¡c, lá»‡nh nÃ y â€œháº¡â€ toÃ n bá»™ stack Ä‘Ã£ Ä‘Æ°á»£c khá»Ÿi cháº¡y báº±ng `docker compose up`.
   - ÄÃ¢y lÃ  lá»‡nh an toÃ n Ä‘á»ƒ dá»n sáº¡ch mÃ´i trÆ°á»ng mÃ  khÃ´ng xÃ³a cÃ¡c image.

# HÃ nh vi chi tiáº¿t:

Khi cháº¡y `docker compose down`, Docker sáº½ thá»±c hiá»‡n cÃ¡c bÆ°á»›c:
1. Dá»«ng táº¥t cáº£ container Ä‘ang cháº¡y theo cáº¥u hÃ¬nh trong `docker-compose.yml`.
2. XÃ³a cÃ¡c container Ä‘Ã³.
3. XÃ³a network máº·c Ä‘á»‹nh Ä‘Æ°á»£c Docker Compose táº¡o ra (network Ä‘Æ°á»£c Ä‘áº·t tÃªn theo dá»± Ã¡n).
4. Náº¿u thÃªm tÃ¹y chá»n `-v`, lá»‡nh sáº½ **xÃ³a luÃ´n cÃ¡c volume** Ä‘Æ°á»£c táº¡o bá»Ÿi Compose, giÃºp dá»n sáº¡ch dá»¯ liá»‡u persist.

# TÃ¹y chá»n phá»• biáº¿n:
- `docker compose down -v`
   - XÃ³a cáº£ container, network vÃ  volumes.
- `docker compose down --rmi all`
   - XÃ³a container, network vÃ  cáº£ táº¥t cáº£ cÃ¡c image Ä‘Æ°á»£c build bá»Ÿi Compose.
- `docker compose down --remove-orphans`
   - XÃ³a cáº£ cÃ¡c container â€œmá»“ cÃ´iâ€ khÃ´ng cÃ²n trong file `docker-compose.yml`.

# VÃ­ dá»¥ minh há»a:

Giáº£ sá»­ báº¡n cÃ³ file `docker-compose.yml` cháº¡y má»™t web app:

version: "3"
services:
  web:
    image: nginx
    ports:
      - "8080:80"
  db:
    image: mysql
    environment:
      MYSQL_ROOT_PASSWORD: example

- Cháº¡y `docker compose up -d` sáº½:
  1. Táº¡o container `web` vÃ  `db`.
  2. Táº¡o network máº·c Ä‘á»‹nh `project_default`.

- Cháº¡y `docker compose down` sáº½:
  1. Dá»«ng vÃ  xÃ³a container `web` vÃ  `db`.
  2. XÃ³a network `project_default`.
  3. Image `nginx` vÃ  `mysql` váº«n cÃ²n trÃªn mÃ¡y (khÃ´ng bá»‹ xÃ³a trá»« khi dÃ¹ng `--rmi`).
		
		
		- cmd: docker system prune -a
		
Lá»‡nh: docker system prune -a

Giáº£i thÃ­ch chi tiáº¿t:

1. docker system prune
   - ÄÃ¢y lÃ  lá»‡nh dÃ¹ng Ä‘á»ƒ **dá»n dáº¹p há»‡ thá»‘ng Docker**.
   - NÃ³ sáº½ xÃ³a táº¥t cáº£ cÃ¡c **container dá»«ng**, **network khÃ´ng dÃ¹ng**, **image khÃ´ng cÃ²n container nÃ o sá»­ dá»¥ng**, vÃ  **build cache**.
   - Má»¥c Ä‘Ã­ch: giáº£i phÃ³ng dung lÆ°á»£ng á»• Ä‘Ä©a vÃ  lÃ m sáº¡ch há»‡ thá»‘ng Docker.

2. -a
   - TÃ¹y chá»n "-a" (hoáº·c "--all") má»Ÿ rá»™ng pháº¡m vi xÃ³a.
   - Khi thÃªm "-a", Docker sáº½ xÃ³a **táº¥t cáº£ cÃ¡c image khÃ´ng cÃ²n Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi container nÃ o**, khÃ´ng chá»‰ cÃ¡c image dangling (khÃ´ng cÃ³ tag).
   - Náº¿u khÃ´ng cÃ³ "-a", lá»‡nh chá»‰ xÃ³a cÃ¡c image dangling (khÃ´ng cÃ³ tag).

CÃ¡ch hoáº¡t Ä‘á»™ng:
- Docker quÃ©t toÃ n bá»™ container, image, network, build cache.
- XÃ³a cÃ¡c thÃ nh pháº§n khÃ´ng cÃ²n Ä‘Æ°á»£c sá»­ dá»¥ng.
- Tráº£ vá» thÃ´ng tin tá»•ng sá»‘ dung lÆ°á»£ng Ä‘Ã£ giáº£i phÃ³ng.

LÆ°u Ã½ quan trá»ng:
- **KhÃ´ng thá»ƒ phá»¥c há»“i** cÃ¡c image hoáº·c container bá»‹ xÃ³a.
- Náº¿u cÃ³ container Ä‘ang cháº¡y dá»±a trÃªn má»™t image, image Ä‘Ã³ sáº½ khÃ´ng bá»‹ xÃ³a.
- LuÃ´n kiá»ƒm tra ká»¹ trÆ°á»›c khi cháº¡y lá»‡nh nÃ y trÃªn mÃ´i trÆ°á»ng production.

VÃ­ dá»¥ minh há»a:
$ docker system prune -a
WARNING! This will remove:
  - all stopped containers
  - all networks not used by at least one container
  - all images without at least one container associated to them
  - all build cache
Are you sure you want to continue? [y/N]

CÃ¡c lá»‡nh liÃªn quan há»¯u Ã­ch:
- docker system df       # Kiá»ƒm tra dung lÆ°á»£ng sá»­ dá»¥ng cá»§a Docker
- docker image prune      # XÃ³a image khÃ´ng dÃ¹ng (cÃ³ thá»ƒ chá»‰ xÃ³a dangling)
- docker container prune  # XÃ³a container dá»«ng
- docker volume prune     # XÃ³a volume khÃ´ng dÃ¹ng
		
		
		- cmd: git clone https://github.com/devopshydclub/emartapp.git
		
# Lá»‡nh:
git clone https://github.com/devopshydclub/emartapp.git

# Giáº£i thÃ­ch chi tiáº¿t:

1. git:
   - ÄÃ¢y lÃ  há»‡ thá»‘ng quáº£n lÃ½ phiÃªn báº£n phÃ¢n tÃ¡n (Distributed Version Control System).
   - DÃ¹ng Ä‘á»ƒ theo dÃµi cÃ¡c thay Ä‘á»•i trong code vÃ  phá»‘i há»£p lÃ m viá»‡c nhÃ³m.

2. clone:
   - LÃ  má»™t lá»‡nh con (subcommand) cá»§a git.
   - Chá»©c nÄƒng: sao chÃ©p (clone) toÃ n bá»™ repository tá»« má»™t nguá»“n tá»« xa vá» mÃ¡y local.
   - Khi dÃ¹ng lá»‡nh nÃ y, git sáº½ táº¡o má»™t thÆ° má»¥c má»›i trÃªn mÃ¡y báº¡n, chá»©a toÃ n bá»™ code vÃ  lá»‹ch sá»­ commit.

3. https://github.com/devopshydclub/emartapp.git
   - ÄÃ¢y lÃ  URL cá»§a repository mÃ  báº¡n muá»‘n clone.
   - Giáº£i thÃ­ch:
     - https:// : Giao thá»©c HTTPS, Ä‘áº£m báº£o táº£i dá»¯ liá»‡u an toÃ n.
     - github.com : mÃ¡y chá»§ lÆ°u trá»¯ Git phá»• biáº¿n.
     - devopshydclub/emartapp.git : tÃªn tÃ i khoáº£n GitHub vÃ  tÃªn repository.
   - Pháº§n `.git` á»Ÿ cuá»‘i URL chá»‰ Ä‘á»‹nh Ä‘Ã¢y lÃ  repository git.

4. HÃ nh vi cá»§a lá»‡nh:
   - Khi cháº¡y lá»‡nh nÃ y, git sáº½ táº¡o má»™t thÆ° má»¥c `emartapp` trong thÆ° má»¥c hiá»‡n táº¡i.
   - Táº¥t cáº£ file, nhÃ¡nh (branch), vÃ  lá»‹ch sá»­ commit sáº½ Ä‘Æ°á»£c táº£i vá» Ä‘áº§y Ä‘á»§.
   - Báº¡n cÃ³ thá»ƒ báº¯t Ä‘áº§u lÃ m viá»‡c vá»›i project ngay, vÃ­ dá»¥:
     - cd emartapp       # chuyá»ƒn vÃ o thÆ° má»¥c project
     - git status        # xem tráº¡ng thÃ¡i repository
     - git pull          # cáº­p nháº­t code má»›i tá»« remote náº¿u cáº§n

# LÆ°u Ã½:
- Náº¿u thÆ° má»¥c `emartapp` Ä‘Ã£ tá»“n táº¡i, git sáº½ bÃ¡o lá»—i.
- CÃ³ thá»ƒ clone vÃ o thÆ° má»¥c khÃ¡c báº±ng cÃ¡ch thÃªm tÃªn thÆ° má»¥c vÃ o cuá»‘i lá»‡nh:
  git clone <url> <ten_thu_muc>
		
		
		
		
	Khi báº¡n copyâ€“paste vÃ o vim thÃ¬ lá»—i format YAML thÆ°á»ng xáº£y ra do:

		DÃ­nh tab thay vÃ¬ space.

		Paste vÃ o vim á»Ÿ cháº¿ Ä‘á»™ autoindent gÃ¢y lá»‡ch dÃ²ng.

		Hoáº·c paste tá»« Windows â†’ Linux thÃ¬ dÃ­nh kÃ½ tá»± áº©n (CRLF).

		Kháº¯c phá»¥c:
		
			TrÆ°á»›c khi paste, gÃµ: :set paste
			
	Docker compose lÃ  Ä‘á»ƒ run cÃ¡c image chá»© khÃ´ng pháº£i Ä‘á»ƒ build cÃ¡c image
				

		



		

	Ná»™i dung file Vagrantfile khi má»Ÿ má»™t sá»‘ comment:
	
		Case 1:
		
			Vagrant.configure("2") do |config|
			  config.vm.box = "ubuntu/focal64"
			  config.vm.network "private_network", ip: "192.168.56.82"
			  config.vm.network "public_network"
			  config.vm.provider "virtualbox" do |vb|
				 vb.memory = "2048"
			   end
			   config.vm.provision "shell", inline: <<-SHELL
			   sudo apt-get update
			   sudo apt-get install \
				ca-certificates \
				curl \
				gnupg -y

			   sudo install -m 0755 -d /etc/apt/keyrings
			   curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
			   sudo chmod a+r /etc/apt/keyrings/docker.gpg
			   echo \
			     "deb [arch="$(dpkg --print-architecture)" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
			     "$(. /etc/os-release && echo "$VERSION_CODENAME")" stable" | \
			     sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
			   sudo apt-get update
			   sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin -y
			  SHELL
			end
			
		Case 2:
		
			FROM ubuntu:latest AS BUILD_IMAGE
			RUN apt update && apt install wget unzip -y
			RUN wget https://www.tooplate.com/zip-templates/2128_tween_agency.zip
			RUN unzip 2128_tween_agency.zip && cd 2128_tween_agency && tar -czf tween.tgz * && mv tween.tgz /root/tween.tgz

			FROM ubuntu:latest
			LABEL "project"="Marketing"
			ENV DEBIAN_FRONTEND=noninteractive

			RUN apt update && apt install apache2 git wget -y
			COPY --from=BUILD_IMAGE /root/tween.tgz /var/www/html/
			RUN cd /var/www/html/ && tar xzf tween.tgz

			CMD ["/usr/sbin/apache2ctl", "-D", "FOREGROUND"]
			VOLUME /var/log/apache2
			WORKDIR /var/www/html
			EXPOSE 80

		Case 3:
		
			Vagrant.configure("2") do |config|
			  config.vm.box = "ubuntu/focal64"
			  config.vm.network "private_network", ip: "192.168.56.82"
			  config.vm.network "public_network"
			   config.vm.provider "virtualbox" do |vb|
				 vb.memory = "2048"
			   end
			   config.vm.provision "shell", inline: <<-SHELL
				sudo apt-get update
				sudo apt-get install \
					ca-certificates \
					curl \
					gnupg -y

				sudo install -m 0755 -d /etc/apt/keyrings
				curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
				sudo chmod a+r /etc/apt/keyrings/docker.gpg
				echo \
				  "deb [arch="$(dpkg --print-architecture)" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
				  "$(. /etc/os-release && echo "$VERSION_CODENAME")" stable" | \
				  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
				sudo apt-get update
				sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin -y
				sudo curl -L "https://github.com/docker/compose/releases/download/v2.1.1/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose

				chmod +x /usr/local/bin/docker-compose
			   SHELL
			end
			
	Ná»™i dung file docker-compose.yml:
	
		Case 1:
		
			version: '3.8'
			services:
			  vprodb:
				image: vprocontainers/vprofiledb
				ports:
				  - "3306:3306"
				volumes:
				  - vprodbdata:/var/lib/mysql
				environment:
				  - MYSQL_ROOT_PASSWORD=vprodbpass

			  vprocache01:
				image: memcached
				ports:
				  - "11211:11211"

			  vpromq01:
				image: rabbitmq
				ports:
				  - "15672:15672"
				environment:
				  - RABBITMQ_DEFAULT_USER=guest
				  - RABBITMQ_DEFAULT_PASS=guest

			  vproapp:
				image: vprocontainers/vprofileapp
				ports:
				  - "8080:8080"
				volumes: 
				  - vproappdata:/usr/local/tomcat/webapps

			  vproweb:
				image: vprocontainers/vprofileweb
				ports:
				  - "80:80"
			volumes:
			  vprodbdata: {}
			  vproappdata: {}
			  
		Case 2:
		
			version: "3.8"

			services:
			  client:
				build:
				  context: ./client
				ports:
				  - "4200:4200"
				container_name: client
				depends_on:
				  - api
				  - webapi

			  api:
				build:
				  context: ./nodeapi
				ports:
				  - "5000:5000"
				restart: always
				container_name: api
				depends_on:
				  - nginx
				  - emongo

			  webapi:
				build:
				  context: ./javaapi
				ports:
				  - "9000:9000"
				restart: always
				container_name: webapi
				depends_on:
				  - emartdb

			  nginx:
				restart: always
				image: nginx:latest
				container_name: nginx
				volumes:
				  - "./nginx/default.conf:/etc/nginx/conf.d/default.conf"
				ports:
				  - "80:80"

			  emongo:
				image: mongo:4
				container_name: emongo
				environment:
				  - MONGO_INITDB_DATABASE=epoc
				ports:
				  - "27017:27017"

			  emartdb:
				image: mysql:8.0.33
				container_name: emartdb
				ports:
				  - "3306:3306"
				environment:
				  - MYSQL_ROOT_PASSWORD=emartdbpass
				  - MYSQL_DATABASE=books
		  
--- Bash Scripting:

	- Commands:
		
		- cmd: vim /etc/hostname
		
			File nÃ y Ä‘á»ƒ chuyá»ƒn Ä‘á»•i tÃªn hostname
			
# Lá»‡nh
vim /etc/hostname

# Giáº£i thÃ­ch chi tiáº¿t:
# - vim: lÃ  trÃ¬nh soáº¡n tháº£o vÄƒn báº£n (text editor) trÃªn dÃ²ng lá»‡nh, máº¡nh máº½ vÃ  phá»• biáº¿n trong Linux/Unix.
# - /etc/hostname: lÃ  Ä‘Æ°á»ng dáº«n tá»›i file chá»©a tÃªn host (hostname) cá»§a há»‡ thá»‘ng.
#   + File nÃ y lÆ°u trá»¯ tÃªn Ä‘á»‹nh danh cá»§a mÃ¡y tÃ­nh trÃªn máº¡ng.
#   + VÃ­ dá»¥ ná»™i dung cÃ³ thá»ƒ lÃ : "ubuntu-server" hoáº·c "web01".

# CÃ¡ch hoáº¡t Ä‘á»™ng:
# 1. Khi cháº¡y lá»‡nh nÃ y, vim má»Ÿ file /etc/hostname Ä‘á»ƒ báº¡n cÃ³ thá»ƒ xem hoáº·c chá»‰nh sá»­a.
# 2. Trong vim, báº¡n cÃ³ 2 cháº¿ Ä‘á»™ chÃ­nh:
#    - Normal mode: dÃ¹ng Ä‘á»ƒ Ä‘iá»u hÆ°á»›ng, xÃ³a, sao chÃ©p, dÃ¡n.
#    - Insert mode: dÃ¹ng Ä‘á»ƒ nháº­p ná»™i dung má»›i (áº¥n `i` Ä‘á»ƒ vÃ o Insert mode).
# 3. Sau khi chá»‰nh sá»­a xong:
#    - Nháº¥n `Esc` Ä‘á»ƒ quay vá» Normal mode.
#    - GÃµ `:wq` rá»“i nháº¥n Enter Ä‘á»ƒ lÆ°u vÃ  thoÃ¡t.
#    - Hoáº·c gÃµ `:q!` Ä‘á»ƒ thoÃ¡t mÃ  khÃ´ng lÆ°u.

# VÃ­ dá»¥ ná»™i dung file /etc/hostname:
web01

# Giáº£i thÃ­ch vÃ­ dá»¥:
# - "web01" lÃ  tÃªn host cá»§a mÃ¡y, dÃ¹ng Ä‘á»ƒ Ä‘á»‹nh danh mÃ¡y trÃªn máº¡ng.
# - Thay Ä‘á»•i tÃªn host trong file nÃ y sáº½ áº£nh hÆ°á»Ÿng tá»›i tÃªn hiá»ƒn thá»‹ cá»§a mÃ¡y sau khi khá»Ÿi Ä‘á»™ng láº¡i hoáº·c khi dÃ¹ng lá»‡nh `hostname`.
			
			
		- cmd: hostname scriptbox
		
# Lá»‡nh Linux:
hostname scriptbox

# Giáº£i thÃ­ch chi tiáº¿t:

1. hostname:
   - ÄÃ¢y lÃ  lá»‡nh dÃ¹ng Ä‘á»ƒ **xem hoáº·c thiáº¿t láº­p tÃªn mÃ¡y (hostname) cá»§a há»‡ thá»‘ng** trÃªn Linux/Unix.
   - Hostname lÃ  tÃªn Ä‘á»‹nh danh duy nháº¥t cá»§a mÃ¡y tÃ­nh trÃªn máº¡ng, giÃºp nháº­n biáº¿t mÃ¡y trong cÃ¡c máº¡ng LAN hoáº·c WAN.

2. scriptbox:
   - ÄÃ¢y lÃ  giÃ¡ trá»‹ mÃ  báº¡n muá»‘n Ä‘áº·t lÃ m hostname má»›i cho mÃ¡y.
   - Sau khi cháº¡y lá»‡nh nÃ y, há»‡ thá»‘ng sáº½ cÃ³ hostname lÃ  "scriptbox".

# HÃ nh vi chi tiáº¿t:

- Khi cháº¡y `hostname scriptbox`, lá»‡nh sáº½:
  1. Thay Ä‘á»•i hostname hiá»‡n táº¡i cá»§a mÃ¡y sang "scriptbox".
  2. Thay Ä‘á»•i nÃ y chá»‰ cÃ³ hiá»‡u lá»±c táº¡m thá»i cho Ä‘áº¿n khi mÃ¡y Ä‘Æ°á»£c khá»Ÿi Ä‘á»™ng láº¡i (trá»« khi báº¡n cáº­p nháº­t file cáº¥u hÃ¬nh vÄ©nh viá»…n).

# CÃ¡ch Ä‘áº·t hostname vÄ©nh viá»…n:

- TrÃªn há»‡ thá»‘ng dÃ¹ng systemd (Ubuntu, CentOS 7+):
  sudo hostnamectl set-hostname scriptbox

- TrÃªn cÃ¡c há»‡ thá»‘ng cÅ©:
  - Sá»­a trá»±c tiáº¿p file `/etc/hostname` vÃ  `/etc/hosts`:
    1. Má»Ÿ `/etc/hostname` vÃ  ghi "scriptbox".
    2. Má»Ÿ `/etc/hosts` vÃ  sá»­a dÃ²ng liÃªn quan Ä‘áº¿n 127.0.1.1 thÃ nh:
       127.0.1.1   scriptbox

# Kiá»ƒm tra hostname hiá»‡n táº¡i:

- Cháº¡y:
  hostname
  hoáº·c
  hostnamectl

- Káº¿t quáº£ sáº½ hiá»ƒn thá»‹:
  scriptbox

# TÃ³m táº¯t:

- Lá»‡nh `hostname scriptbox` dÃ¹ng Ä‘á»ƒ **táº¡m thá»i Ä‘á»•i tÃªn mÃ¡y thÃ nh scriptbox**.
- Äá»ƒ Ä‘á»•i vÄ©nh viá»…n, nÃªn dÃ¹ng `hostnamectl set-hostname scriptbox` hoáº·c chá»‰nh file `/etc/hostname`.
		
		
		- cmd: hostname
		
Lá»‡nh: hostname

Giáº£i thÃ­ch chi tiáº¿t:

1. Chá»©c nÄƒng cÆ¡ báº£n:
   - Lá»‡nh `hostname` Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ **hiá»ƒn thá»‹ hoáº·c thiáº¿t láº­p tÃªn mÃ¡y (hostname) cá»§a há»‡ thá»‘ng**.
   - Hostname lÃ  tÃªn Ä‘á»‹nh danh duy nháº¥t cá»§a má»™t mÃ¡y tÃ­nh trong máº¡ng, giÃºp cÃ¡c thiáº¿t bá»‹ khÃ¡c nháº­n diá»‡n mÃ¡y nÃ y.

2. CÃ¡ch sá»­ dá»¥ng:
   a. Hiá»ƒn thá»‹ hostname hiá»‡n táº¡i:
      $ hostname
      - Khi cháº¡y lá»‡nh mÃ  khÃ´ng thÃªm tham sá»‘ nÃ o, há»‡ thá»‘ng sáº½ in ra tÃªn mÃ¡y hiá»‡n táº¡i.

   b. Thiáº¿t láº­p hostname táº¡m thá»i:
      $ sudo hostname <tÃªn_má»›i>
      - Thay Ä‘á»•i hostname trong phiÃªn lÃ m viá»‡c hiá»‡n táº¡i.
      - LÆ°u Ã½: thay Ä‘á»•i nÃ y sáº½ **khÃ´ng tá»“n táº¡i sau khi khá»Ÿi Ä‘á»™ng láº¡i**.

   c. Xem thÃ´ng tin chi tiáº¿t hÆ¡n:
      $ hostname -f     # Hiá»ƒn thá»‹ Fully Qualified Domain Name (FQDN)
      $ hostname -I     # Hiá»ƒn thá»‹ Ä‘á»‹a chá»‰ IP cá»§a mÃ¡y
      $ hostname -s     # Hiá»ƒn thá»‹ hostname ngáº¯n (short name)
      $ hostname -d     # Hiá»ƒn thá»‹ tÃªn domain cá»§a mÃ¡y
      $ hostnamectl     # Quáº£n lÃ½ hostname trÃªn há»‡ thá»‘ng sá»­ dá»¥ng systemd (thay Ä‘á»•i vÄ©nh viá»…n)

3. VÃ­ dá»¥ minh há»a:
   $ hostname
   myserver

   $ hostname -I
   192.168.1.10 10.0.2.15

   $ sudo hostname newserver
   $ hostname
   newserver

4. LÆ°u Ã½:
   - Thay Ä‘á»•i hostname vÄ©nh viá»…n nÃªn dÃ¹ng `hostnamectl` hoáº·c chá»‰nh sá»­a file `/etc/hostname`.
   - Hostname thÆ°á»ng liÃªn quan Ä‘áº¿n cáº¥u hÃ¬nh máº¡ng vÃ  DNS, nÃªn cáº§n cáº©n trá»ng khi thay Ä‘á»•i trÃªn mÃ¡y Ä‘ang cháº¡y server.

CÃ¡c lá»‡nh liÃªn quan há»¯u Ã­ch:
- hostnamectl          # Xem vÃ  thay Ä‘á»•i hostname (systemd)
- cat /etc/hostname     # Xem hostname lÆ°u trong há»‡ thá»‘ng
- cat /etc/hosts        # Kiá»ƒm tra mapping hostname â†” IP
		
		
		- cmd: yum install vim -y
		
# Lá»‡nh:
yum install vim -y

# Giáº£i thÃ­ch chi tiáº¿t:

1. yum:
   - YUM (Yellowdog Updater, Modified) lÃ  cÃ´ng cá»¥ quáº£n lÃ½ gÃ³i (package manager) trÃªn cÃ¡c há»‡ Ä‘iá»u hÃ nh Linux dá»±a trÃªn Red Hat, nhÆ° CentOS, RHEL, Fedora.
   - DÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t, cáº­p nháº­t, gá»¡ bá» vÃ  quáº£n lÃ½ cÃ¡c gÃ³i pháº§n má»m (.rpm).

2. install:
   - LÃ  má»™t lá»‡nh con (subcommand) cá»§a yum.
   - Chá»©c nÄƒng: cÃ i Ä‘áº·t gÃ³i pháº§n má»m Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh.

3. vim:
   - TÃªn cá»§a gÃ³i pháº§n má»m muá»‘n cÃ i Ä‘áº·t.
   - Vim lÃ  trÃ¬nh soáº¡n tháº£o vÄƒn báº£n (text editor) máº¡nh máº½ trÃªn Linux, phá»• biáº¿n trong láº­p trÃ¬nh vÃ  quáº£n trá»‹ há»‡ thá»‘ng.

4. -y:
   - TÃ¹y chá»n Ä‘á»ƒ tá»± Ä‘á»™ng tráº£ lá»i â€œyesâ€ cho táº¥t cáº£ cÃ¡c cÃ¢u há»i xÃ¡c nháº­n trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t.
   - GiÃºp quÃ¡ trÃ¬nh cÃ i Ä‘áº·t diá»…n ra tá»± Ä‘á»™ng mÃ  khÃ´ng cáº§n tÆ°Æ¡ng tÃ¡c ngÆ°á»i dÃ¹ng.

# HÃ nh vi cá»§a lá»‡nh:
- Khi cháº¡y lá»‡nh nÃ y:
  1. Yum sáº½ tÃ¬m kiáº¿m gÃ³i `vim` trong cÃ¡c kho (repository) Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh.
  2. Táº£i cÃ¡c gÃ³i cáº§n thiáº¿t tá»« internet.
  3. CÃ i Ä‘áº·t gÃ³i `vim` cÃ¹ng cÃ¡c dependencies (náº¿u cÃ³).
  4. Do cÃ³ `-y`, quÃ¡ trÃ¬nh sáº½ khÃ´ng yÃªu cáº§u ngÆ°á»i dÃ¹ng xÃ¡c nháº­n.

# LÆ°u Ã½:
- Náº¿u gÃ³i Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t, yum sáº½ thÃ´ng bÃ¡o â€œPackage vim is already installedâ€.
- CÃ³ thá»ƒ káº¿t há»£p vá»›i cÃ¡c tÃ¹y chá»n khÃ¡c, vÃ­ dá»¥:
  - `yum update vim`       : cáº­p nháº­t gÃ³i vim náº¿u cÃ³ phiÃªn báº£n má»›i.
  - `yum remove vim -y`    : gá»¡ cÃ i Ä‘áº·t gÃ³i vim.
		
		
		- cmd: chmod +x firstscript.sh
		
Lá»‡nh: chmod +x firstscript.sh

Má»¥c Ä‘Ã­ch:
- Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **thay Ä‘á»•i quyá»n truy cáº­p (permission)** cá»§a file `firstscript.sh`.
- Cá»¥ thá»ƒ, `+x` thÃªm quyá»n **thá»±c thi (execute)** cho file, nghÄ©a lÃ  cho phÃ©p file nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c cháº¡y nhÆ° má»™t chÆ°Æ¡ng trÃ¬nh hoáº·c script.

PhÃ¢n tÃ­ch chi tiáº¿t:

1. chmod
   - Viáº¿t táº¯t cá»§a "change mode".
   - DÃ¹ng Ä‘á»ƒ thay Ä‘á»•i quyá»n Ä‘á»c (r), ghi (w), vÃ  thá»±c thi (x) cá»§a file hoáº·c thÆ° má»¥c.

2. +x
   - ThÃªm quyá»n thá»±c thi cho file.
   - KhÃ´ng thay Ä‘á»•i quyá»n Ä‘á»c (r) hay ghi (w).
   - Quyá»n thá»±c thi Ä‘Æ°á»£c thÃªm cho:
     + Owner (chá»§ sá»Ÿ há»¯u)
     + Group (nhÃ³m)
     + Others (ngÆ°á»i dÃ¹ng khÃ¡c)
     â†’ TÃ¹y thuá»™c vÃ o há»‡ thá»‘ng vÃ  cÃ¡ch chmod Ä‘Æ°á»£c cáº¥u hÃ¬nh, nhÆ°ng thÆ°á»ng lÃ  thÃªm cho táº¥t cáº£.

3. firstscript.sh
   - TÃªn file mÃ  báº¡n muá»‘n thay Ä‘á»•i quyá»n.
   - ThÆ°á»ng lÃ  má»™t file shell script vá»›i ná»™i dung lá»‡nh Bash hoáº·c tÆ°Æ¡ng tá»±.

Háº­u quáº£ khi cháº¡y lá»‡nh:

- Sau khi cháº¡y, báº¡n cÃ³ thá»ƒ kiá»ƒm tra quyá»n báº±ng lá»‡nh:
		
		
		- cmd: chmod +x dismantle.sh
		
# Lá»‡nh
chmod +x dismantle.sh

# Giáº£i thÃ­ch chi tiáº¿t:
# - chmod: lÃ  lá»‡nh trong Linux/Unix dÃ¹ng Ä‘á»ƒ thay Ä‘á»•i quyá»n truy cáº­p (permissions) cá»§a file hoáº·c thÆ° má»¥c.
# - +x: thÃªm quyá»n "execute" (thá»±c thi) cho file. 
#        + Quyá»n execute cho phÃ©p file cÃ³ thá»ƒ Ä‘Æ°á»£c cháº¡y nhÆ° má»™t chÆ°Æ¡ng trÃ¬nh hoáº·c script.
# - dismantle.sh: tÃªn file mÃ  báº¡n muá»‘n thay Ä‘á»•i quyá»n.

# CÃ¡ch hoáº¡t Ä‘á»™ng:
# 1. Khi báº¡n gÃµ lá»‡nh nÃ y, há»‡ thá»‘ng sáº½ thÃªm quyá»n thá»±c thi cho file dismantle.sh cho cÃ¡c Ä‘á»‘i tÆ°á»£ng:
#    - Náº¿u cháº¡y tá»« user hiá»‡n táº¡i, quyá»n execute sáº½ Ã¡p dá»¥ng cho owner (chá»§ sá»Ÿ há»¯u) file.
#    - Náº¿u muá»‘n Ã¡p dá»¥ng cho group hoáº·c táº¥t cáº£ user, cÃ³ thá»ƒ dÃ¹ng cÃ¡c kÃ½ hiá»‡u khÃ¡c (vÃ­ dá»¥: chmod a+x dismantle.sh)
# 2. Sau khi thÃªm quyá»n, báº¡n cÃ³ thá»ƒ cháº¡y file báº±ng lá»‡nh:
#       ./dismantle.sh
#    thay vÃ¬ pháº£i má»Ÿ file trong trÃ¬nh soáº¡n tháº£o hay gá»i qua interpreter trá»±c tiáº¿p.

# VÃ­ dá»¥ minh há»a:
# TrÆ°á»›c khi chmod:
# $ ls -l dismantle.sh
# -rw-r--r-- 1 user user 1234 Dec  4 12:00 dismantle.sh
# (file chÆ°a cÃ³ quyá»n thá»±c thi)

# Sau khi chmod +x:
# $ ls -l dismantle.sh
# -rwxr-xr-x 1 user user 1234 Dec  4 12:00 dismantle.sh
# (x xuáº¥t hiá»‡n, file cÃ³ thá»ƒ cháº¡y Ä‘Æ°á»£c)
		
		
		- cmd: w
		
# Lá»‡nh Linux:
w

# Giáº£i thÃ­ch chi tiáº¿t:

1. w:
   - ÄÃ¢y lÃ  lá»‡nh dÃ¹ng Ä‘á»ƒ **hiá»ƒn thá»‹ thÃ´ng tin vá» cÃ¡c ngÆ°á»i dÃ¹ng Ä‘ang Ä‘Äƒng nháº­p vÃ  cÃ¡c tiáº¿n trÃ¬nh Ä‘ang cháº¡y** trÃªn há»‡ thá»‘ng Linux/Unix.
   - NÃ³ cung cáº¥p má»™t cÃ¡i nhÃ¬n tá»•ng quan vá» hoáº¡t Ä‘á»™ng hiá»‡n táº¡i cá»§a há»‡ thá»‘ng.

# ThÃ´ng tin hiá»ƒn thá»‹ khi cháº¡y lá»‡nh w:

VÃ­ dá»¥ khi cháº¡y `w`, káº¿t quáº£ cÃ³ thá»ƒ giá»‘ng nhÆ° sau:

  19:30:01 up  3:42,  2 users,  load average: 0.15, 0.10, 0.05
  USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT
  tuan     pts/0    192.168.1.10     18:50    1:20m  0.15s  0.15s bash
  admin    pts/1    192.168.1.15     19:00       5  0.10s  0.05s top

Giáº£i thÃ­ch tá»«ng cá»™t vÃ  thÃ´ng tin:

1. DÃ²ng Ä‘áº§u tiÃªn:
   - `19:30:01` : Thá»i gian hiá»‡n táº¡i trÃªn mÃ¡y.
   - `up 3:42` : Thá»i gian há»‡ thá»‘ng Ä‘Ã£ cháº¡y (uptime) lÃ  3 giá» 42 phÃºt.
   - `2 users` : Sá»‘ ngÆ°á»i dÃ¹ng Ä‘ang Ä‘Äƒng nháº­p.
   - `load average: 0.15, 0.10, 0.05` : Má»©c táº£i trung bÃ¬nh cá»§a há»‡ thá»‘ng trong 1, 5 vÃ  15 phÃºt gáº§n nháº¥t.

2. CÃ¡c cá»™t trong báº£ng:

   - USER : TÃªn ngÆ°á»i dÃ¹ng Ä‘ang Ä‘Äƒng nháº­p.
   - TTY : Terminal mÃ  ngÆ°á»i dÃ¹ng Ä‘ang sá»­ dá»¥ng (vÃ­ dá»¥: pts/0, tty1, â€¦).
   - FROM : Äá»‹a chá»‰ IP hoáº·c hostname tá»« Ä‘Ã¢u ngÆ°á»i dÃ¹ng Ä‘Äƒng nháº­p.
   - LOGIN@ : Thá»i gian Ä‘Äƒng nháº­p cá»§a ngÆ°á»i dÃ¹ng.
   - IDLE : Thá»i gian khÃ´ng hoáº¡t Ä‘á»™ng cá»§a ngÆ°á»i dÃ¹ng.
   - JCPU : Thá»i gian CPU dÃ¹ng bá»Ÿi táº¥t cáº£ cÃ¡c tiáº¿n trÃ¬nh liÃªn quan Ä‘áº¿n terminal nÃ y.
   - PCPU : Thá»i gian CPU dÃ¹ng bá»Ÿi tiáº¿n trÃ¬nh hiá»‡n táº¡i (cá»™t WHAT).
   - WHAT : Lá»‡nh hiá»‡n táº¡i hoáº·c tiáº¿n trÃ¬nh Ä‘ang cháº¡y cá»§a ngÆ°á»i dÃ¹ng.

# CÃ¡c tÃ¹y chá»n phá»• biáº¿n:

- w -h
   - Hiá»ƒn thá»‹ thÃ´ng tin mÃ  khÃ´ng cÃ³ dÃ²ng tiÃªu Ä‘á».
- w -s
   - Hiá»ƒn thá»‹ thÃ´ng tin ngáº¯n gá»n hÆ¡n.
- w username
   - Hiá»ƒn thá»‹ thÃ´ng tin chá»‰ vá» má»™t ngÆ°á»i dÃ¹ng cá»¥ thá»ƒ.

# TÃ³m táº¯t:

- Lá»‡nh `w` ráº¥t há»¯u Ã­ch Ä‘á»ƒ **giÃ¡m sÃ¡t ai Ä‘ang dÃ¹ng há»‡ thá»‘ng vÃ  há» Ä‘ang lÃ m gÃ¬**.
- Cung cáº¥p cáº£ thÃ´ng tin vá» **táº£i há»‡ thá»‘ng**, **ngÆ°á»i dÃ¹ng**, vÃ  **tiáº¿n trÃ¬nh** trong má»™t mÃ n hÃ¬nh duy nháº¥t.
		
		
		- cmd: who
		
Lá»‡nh: who

Giáº£i thÃ­ch chi tiáº¿t:

1. Chá»©c nÄƒng cÆ¡ báº£n:
   - Lá»‡nh `who` Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ **hiá»ƒn thá»‹ thÃ´ng tin vá» nhá»¯ng ngÆ°á»i Ä‘ang Ä‘Äƒng nháº­p vÃ o há»‡ thá»‘ng**.
   - NÃ³ cho biáº¿t ai Ä‘ang sá»­ dá»¥ng mÃ¡y, tá»« Ä‘Ã¢u, khi nÃ o há» Ä‘Äƒng nháº­p vÃ  Ä‘Ã´i khi thÃ´ng tin vá» terminal há» Ä‘ang dÃ¹ng.

2. CÃ¡ch sá»­ dá»¥ng:
   a. Hiá»ƒn thá»‹ danh sÃ¡ch ngÆ°á»i dÃ¹ng Ä‘ang Ä‘Äƒng nháº­p:
      $ who
      - Káº¿t quáº£ thÆ°á»ng gá»“m cÃ¡c cá»™t:
        1. TÃªn ngÆ°á»i dÃ¹ng (USERNAME)
        2. Terminal mÃ  ngÆ°á»i dÃ¹ng Ä‘ang sá»­ dá»¥ng (TTY)
        3. NgÃ y vÃ  giá» Ä‘Äƒng nháº­p (DATE TIME)
        4. Äá»‹a chá»‰ IP hoáº·c hostname cá»§a mÃ¡y tá»« xa náº¿u Ä‘Äƒng nháº­p qua máº¡ng (HOST)

   b. CÃ¡c tÃ¹y chá»n thÃ´ng dá»¥ng:
      - `who -a`       : Hiá»ƒn thá»‹ táº¥t cáº£ thÃ´ng tin, bao gá»“m cáº£ cÃ¡c process há»‡ thá»‘ng.
      - `who -b`       : Hiá»ƒn thá»‹ thá»i gian há»‡ thá»‘ng khá»Ÿi Ä‘á»™ng (last boot).
      - `who -q`       : Chá»‰ hiá»ƒn thá»‹ danh sÃ¡ch tÃªn ngÆ°á»i dÃ¹ng Ä‘ang Ä‘Äƒng nháº­p vÃ  tá»•ng sá»‘.
      - `who -u`       : Hiá»ƒn thá»‹ thÃªm thÃ´ng tin thá»i gian idle cá»§a ngÆ°á»i dÃ¹ng.
      - `who am i`     : Hiá»ƒn thá»‹ thÃ´ng tin ngÆ°á»i dÃ¹ng hiá»‡n táº¡i (tÆ°Æ¡ng tá»± `who -m`).

3. VÃ­ dá»¥ minh há»a:
   $ who
   tuan       pts/0        2025-12-04 09:12 (:0)
   alice      pts/1        2025-12-04 10:05 (192.168.1.50)

   $ who -b
   system boot  2025-12-01 08:00

   $ who -q
   tuan alice
   # users=2

4. LÆ°u Ã½:
   - Lá»‡nh `who` chá»‰ hiá»ƒn thá»‹ **ngÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Äƒng nháº­p hiá»‡n táº¡i**, khÃ´ng liá»‡t kÃª nhá»¯ng láº§n Ä‘Äƒng nháº­p trÆ°á»›c.
   - Äá»ƒ xem lá»‹ch sá»­ Ä‘Äƒng nháº­p, dÃ¹ng lá»‡nh `last`.
   - Káº¿t quáº£ cÃ³ thá»ƒ khÃ¡c nhau tÃ¹y vÃ o há»‡ thá»‘ng, vÃ¬ má»™t sá»‘ há»‡ thá»‘ng khÃ´ng lÆ°u hostname khi Ä‘Äƒng nháº­p tá»« mÃ¡y local.

CÃ¡c lá»‡nh liÃªn quan há»¯u Ã­ch:
- w                  # Hiá»ƒn thá»‹ ai Ä‘ang Ä‘Äƒng nháº­p vÃ  há» Ä‘ang lÃ m gÃ¬
- users              # Chá»‰ hiá»ƒn thá»‹ danh sÃ¡ch tÃªn ngÆ°á»i dÃ¹ng Ä‘ang Ä‘Äƒng nháº­p
- last               # Hiá»ƒn thá»‹ lá»‹ch sá»­ Ä‘Äƒng nháº­p
		
		
		- cmd: free -m | grep Mem
		
# Lá»‡nh:
free -m | grep Mem

# Giáº£i thÃ­ch chi tiáº¿t:

1. free:
   - LÃ  lá»‡nh dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin vá» bá»™ nhá»› (RAM) vÃ  swap trÃªn há»‡ thá»‘ng Linux.
   - ThÃ´ng tin hiá»ƒn thá»‹ bao gá»“m:
     - Total: tá»•ng bá»™ nhá»›
     - Used: bá»™ nhá»› Ä‘ang dÃ¹ng
     - Free: bá»™ nhá»› cÃ²n trá»‘ng
     - Shared, Buffers, Cache: cÃ¡c loáº¡i bá»™ nhá»› phá»¥ trá»£

2. -m:
   - TÃ¹y chá»n Ä‘á»ƒ hiá»ƒn thá»‹ dung lÆ°á»£ng bá»™ nhá»› theo Ä‘Æ¡n vá»‹ MB (megabyte).
   - CÃ³ thá»ƒ dÃ¹ng `-g` Ä‘á»ƒ hiá»ƒn thá»‹ theo GB hoáº·c `-k` theo KB.

3. | (pipe):
   - DÃ¹ng Ä‘á»ƒ chuyá»ƒn káº¿t quáº£ xuáº¥t ra cá»§a lá»‡nh trÆ°á»›c (free -m) lÃ m Ä‘áº§u vÃ o cho lá»‡nh sau (grep Mem).
   - GiÃºp káº¿t há»£p nhiá»u lá»‡nh láº¡i thÃ nh chuá»—i thao tÃ¡c.

4. grep Mem:
   - Lá»‡nh grep dÃ¹ng Ä‘á»ƒ lá»c cÃ¡c dÃ²ng cÃ³ chá»©a chuá»—i "Mem".
   - Trong output cá»§a `free -m`, dÃ²ng báº¯t Ä‘áº§u báº±ng "Mem" chá»©a thÃ´ng tin tá»•ng quan vá» RAM há»‡ thá»‘ng.
   - GiÃºp báº¡n chá»‰ tháº¥y thÃ´ng tin vá» RAM, bá» qua cÃ¡c dÃ²ng khÃ¡c nhÆ° swap.

# HÃ nh vi cá»§a lá»‡nh:
- Khi cháº¡y `free -m | grep Mem`, káº¿t quáº£ sáº½ tráº£ vá» má»™t dÃ²ng duy nháº¥t, vÃ­ dá»¥:

  Mem:        7989     2345     5644       123      456      789

  Giáº£i thÃ­ch cá»™t:
  1. Total: tá»•ng RAM (7989 MB)
  2. Used: RAM Ä‘Ã£ dÃ¹ng (2345 MB)
  3. Free: RAM cÃ²n trá»‘ng (5644 MB)
  4. Shared: bá»™ nhá»› chia sáº» giá»¯a cÃ¡c process (123 MB)
  5. Buffers: bá»™ nhá»› Ä‘á»‡m (456 MB)
  6. Cache: bá»™ nhá»› cache (789 MB)

# LÆ°u Ã½:
- Lá»‡nh nÃ y chá»‰ hiá»ƒn thá»‹ thÃ´ng tin RAM, khÃ´ng hiá»ƒn thá»‹ swap.
- Náº¿u muá»‘n hiá»ƒn thá»‹ swap, cÃ³ thá»ƒ dÃ¹ng `free -m` mÃ  khÃ´ng grep.
		
		
		- cmd: free -m | grep Mem | awk '{print $4}'
		
Lá»‡nh: free -m | grep Mem | awk '{print $4}'

Má»¥c Ä‘Ã­ch:
- Lá»‡nh nÃ y Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ **láº¥y thÃ´ng tin vá» bá»™ nhá»› RAM cÃ²n trá»‘ng** trÃªn há»‡ thá»‘ng Linux, tÃ­nh báº±ng megabyte (MB).
- NÃ³ káº¿t há»£p ba lá»‡nh: `free`, `grep`, vÃ  `awk` thÃ´ng qua **pipeline (|)**.

PhÃ¢n tÃ­ch chi tiáº¿t tá»«ng pháº§n:

1. free -m
   - Hiá»ƒn thá»‹ thÃ´ng tin vá» **bá»™ nhá»› RAM vÃ  swap**.
   - Tham sá»‘ `-m` chuyá»ƒn Ä‘á»•i Ä‘Æ¡n vá»‹ sang **megabyte** (thay vÃ¬ KB máº·c Ä‘á»‹nh).
   - VÃ­ dá»¥ káº¿t quáº£:
     ```
                   total        used        free      shared  buff/cache   available
     Mem:           7982        4321         123         456        3538        3456
     Swap:          2047          12        2035
     ```

2. | grep Mem
   - Pipeline `|` truyá»n káº¿t quáº£ cá»§a lá»‡nh `free -m` cho `grep`.
   - `grep Mem` lá»c **chá»‰ dÃ²ng chá»©a tá»« "Mem"**, tá»©c lÃ  dÃ²ng thÃ´ng tin vá» RAM váº­t lÃ½.
   - Káº¿t quáº£ sau grep:
     ```
     Mem:           7982        4321         123         456        3538        3456
     ```

3. | awk '{print $4}'
   - `awk` lÃ  cÃ´ng cá»¥ xá»­ lÃ½ vÄƒn báº£n dáº¡ng cá»™t.
   - `{print $4}` nghÄ©a lÃ  in ra **cá»™t thá»© 4** cá»§a dÃ²ng Ä‘Ã£ lá»c.
   - Trong vÃ­ dá»¥ trÃªn:
     - $1 â†’ "Mem:"
     - $2 â†’ total (7982)
     - $3 â†’ used (4321)
     - $4 â†’ free (123)
   - Káº¿t quáº£ cuá»‘i cÃ¹ng lÃ  **sá»‘ MB bá»™ nhá»› cÃ²n trá»‘ng**:
     ```
     123
     ```

TÃ³m láº¡i:
- Lá»‡nh nÃ y nhanh chÃ³ng **trÃ­ch xuáº¥t sá»‘ MB bá»™ nhá»› RAM cÃ²n trá»‘ng** tá»« há»‡ thá»‘ng Linux.
- Báº¡n cÃ³ thá»ƒ dÃ¹ng lá»‡nh nÃ y trong script Ä‘á»ƒ giÃ¡m sÃ¡t tÃ i nguyÃªn hoáº·c quyáº¿t Ä‘á»‹nh cÃ³ nÃªn cháº¡y má»™t tiáº¿n trÃ¬nh náº·ng hay khÃ´ng.

LÆ°u Ã½:

- Náº¿u muá»‘n tÃ­nh thÃªm bá»™ nhá»› cÃ³ thá»ƒ dÃ¹ng Ä‘Æ°á»£c (available), báº¡n cÃ³ thá»ƒ láº¥y cá»™t `$7` thay vÃ¬ `$4`.
- CÃ³ thá»ƒ thay `free -m` báº±ng `free -g` náº¿u muá»‘n káº¿t quáº£ tÃ­nh báº±ng GB.
		
		
		- cmd: source .bashrc
		
TiÃªu Ä‘á»: Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: source .bashrc
------------------------------------------------

TÃ³m táº¯t ngáº¯n (1 cÃ¢u):
  `source .bashrc` (hoáº·c viáº¿t táº¯t `. .bashrc`) náº¡p (thá»±c thi) cÃ¡c lá»‡nh trong file .bashrc vÃ o shell hiá»‡n táº¡i Ä‘á»ƒ Ã¡p dá»¥ng ngay thay Ä‘á»•i (biáº¿n mÃ´i trÆ°á»ng, alias, hÃ m, prompt, ...).

1) Má»¥c Ä‘Ã­ch cÆ¡ báº£n
  - Khi báº¡n sá»­a ~/.bashrc (thÃªm alias, thÃªm PATH, khai bÃ¡o biáº¿n, hÃ m shell...), cÃ¡c thay Ä‘á»•i chá»‰ cÃ³ hiá»‡u lá»±c vá»›i shell má»›i khá»Ÿi táº¡o.
  - DÃ¹ng `source ~/.bashrc` Ä‘á»ƒ thá»±c thi ná»™i dung file trong **phiÃªn shell hiá»‡n táº¡i**, Ã¡p dá»¥ng ngay láº­p tá»©c mÃ  khÃ´ng cáº§n má»Ÿ shell má»›i.

2) CÃº phÃ¡p
  - `source ~/.bashrc`
  - hoáº·c POSIX-compatible: `. ~/.bashrc`
  - Ghi chÃº: 2 cÃ¢u lá»‡nh trÃªn tÆ°Æ¡ng Ä‘Æ°Æ¡ng trong bash; `source` lÃ  builtin cá»§a bash, `.` lÃ  builtin POSIX.

3) VÃ­ dá»¥ thá»±c táº¿
  - ThÃªm alias:
      echo "alias ll='ls -la'" >> ~/.bashrc
      source ~/.bashrc
      ll              # bÃ¢y giá» alias ll hoáº¡t Ä‘á»™ng trong shell hiá»‡n táº¡i
  - ThÃªm PATH:
      echo "export PATH=\$PATH:/opt/my/bin" >> ~/.bashrc
      source ~/.bashrc
      echo $PATH      # kiá»ƒm tra tháº¥y Ä‘Æ°á»ng dáº«n má»›i Ä‘Ã£ Ä‘Æ°á»£c thÃªm

4) Nhá»¯ng thá»© thÆ°á»ng cÃ³ trong .bashrc
  - alias (vÃ­ dá»¥ `alias gs='git status'`)
  - hÃ m shell (function)
  - thiáº¿t láº­p PS1 (prompt)
  - export biáº¿n mÃ´i trÆ°á»ng (pháº£i dÃ¹ng `export` Ä‘á»ƒ biáº¿n cÃ³ hiá»‡u lá»±c cho cÃ¡c tiáº¿n trÃ¬nh con)
  - cáº¥u hÃ¬nh completion, lá»‹ch sá»­ lá»‡nh, v.v.

5) Äiá»ƒm quan trá»ng & phÃ¢n biá»‡t vá»›i cÃ¡c file khÃ¡c
  - `.bashrc` thÆ°á»ng Ä‘Æ°á»£c náº¡p cho **interactive non-login shells** (vÃ­ dá»¥ terminal má»›i trÃªn Ubuntu).
  - `.bash_profile` hoáº·c `.profile` thÆ°á»ng dÃ¹ng cho **login shells**. Nhiá»u ngÆ°á»i cáº¥u hÃ¬nh `.bash_profile` Ä‘á»ƒ `source ~/.bashrc` tá»« Ä‘Ã³.
  - Náº¿u báº¡n cáº§n Ã¡p dá»¥ng thay Ä‘á»•i cho shell má»›i (login), cÃ³ thá»ƒ cáº§n sá»­a `.bash_profile` hoáº·c `.profile`.

6) Export vs biáº¿n cá»¥c bá»™
  - `VAR=value` chá»‰ táº¡o biáº¿n trong shell hiá»‡n táº¡i, khÃ´ng chia sáº» cho tiáº¿n trÃ¬nh con.
  - `export VAR=value` táº¡o biáº¿n mÃ´i trÆ°á»ng vÃ  cÃ¡c tiáº¿n trÃ¬nh con (vÃ­ dá»¥ lá»‡nh, script) cÅ©ng tháº¥y Ä‘Æ°á»£c.
  - Khi chá»‰nh .bashrc, náº¿u muá»‘n biáº¿n cÃ³ hiá»‡u lá»±c cho tiáº¿n trÃ¬nh con, luÃ´n dÃ¹ng `export`.

7) LÆ°u Ã½ an toÃ n
  - KhÃ´ng `source` file .bashrc khÃ´ng rÃµ nguá»“n â€” file nÃ y cÃ³ thá»ƒ chá»©a lá»‡nh nguy hiá»ƒm.
  - Náº¿u file .bashrc cÃ³ lá»—i cÃº phÃ¡p, `source` cÃ³ thá»ƒ gÃ¢y lá»—i hoáº·c thÃ´ng bÃ¡o; thay Ä‘á»•i sáº½ áº£nh hÆ°á»Ÿng ngay shell hiá»‡n táº¡i.

8) Má»™t sá»‘ lá»—i thÆ°á»ng gáº·p vÃ  cÃ¡ch kháº¯c phá»¥c
  - "No such file or directory": kiá»ƒm tra Ä‘Æ°á»ng dáº«n, vÃ­ dá»¥ `ls -la ~/.bashrc`
  - Lá»—i cÃº phÃ¡p: má»Ÿ file kiá»ƒm tra (vÃ­ dá»¥ `vim ~/.bashrc`) hoáº·c cháº¡y debug:
        bash -n ~/.bashrc    # kiá»ƒm tra cÃº phÃ¡p (khÃ´ng thá»±c thi)
        bash -x ~/.bashrc    # thá»±c thi trong subshell vá»›i tracing (dÃ¹ng Ä‘á»ƒ debug)
    LÆ°u Ã½: `bash -x ~/.bashrc` cháº¡y trong subshell (khÃ´ng thay Ä‘á»•i shell hiá»‡n táº¡i).
  - Náº¿u `source` khÃ´ng Ã¡p dá»¥ng thay Ä‘á»•i PATH/alias: kiá»ƒm tra xem báº¡n Ä‘Ã£ dÃ¹ng `export` cho biáº¿n cáº§n thiáº¿t hay chÆ°a, vÃ  file .bashrc cÃ³ Ä‘iá»u kiá»‡n nÃ o lá»c khÃ´ng cháº¡y Ä‘oáº¡n Ä‘Ã³ hay khÃ´ng (vÃ­ dá»¥ chá»‰ cháº¡y khi interactive).

9) CÃ¡c cÃ¡ch thay tháº¿
  - Má»Ÿ terminal má»›i: tá»± Ä‘á»™ng náº¡p .bashrc (tuá»³ cáº¥u hÃ¬nh).
  - `exec bash` â€” khá»Ÿi cháº¡y má»™t shell bash má»›i thay tháº¿ shell hiá»‡n táº¡i (khÃ´ng pháº£i luÃ´n mong muá»‘n vÃ¬ sáº½ táº¡o session má»›i).
  - `source /path/to/otherfile` â€” báº¡n cÃ³ thá»ƒ náº¡p file tuá»³ Ã½, khÃ´ng báº¯t buá»™c chá»‰ .bashrc.

10) Kiá»ƒm tra sau khi source
  - Kiá»ƒm tra biáº¿n: `echo "$MYVAR"`
  - Kiá»ƒm tra alias: `type ll` hoáº·c `alias`
  - Kiá»ƒm tra hÃ m: `type myfunc`
  - Kiá»ƒm tra PATH: `echo "$PATH"`

11) VÃ­ dá»¥ .bashrc nhá» máº«u
  # ~/.bashrc - sample
  # enable color prompt
  export PS1='\u@\h:\w\$ '
  # add custom bin
  export PATH="$HOME/bin:$PATH"
  # aliases
  alias ll='ls -la'
  alias gs='git status'
  # function
  mkcd() { mkdir -p "$1" && cd "$1"; }

  Sau khi lÆ°u file máº«u nÃ y, cháº¡y:
    source ~/.bashrc
  vÃ  thá»­:
    ll
    echo $PATH
    mkcd testdir

12) Máº¹o hiá»‡u quáº£
  - Khi chá»‰ thá»­ 1 dÃ²ng thay Ä‘á»•i, báº¡n cÃ³ thá»ƒ paste trá»±c tiáº¿p vÃ o shell thay vÃ¬ sá»­a file.
  - Äá»ƒ trÃ¡nh lá»—i khi file chá»©a lá»‡nh `exit`, khÃ´ng nÃªn source file khÃ´ng kiá»ƒm soÃ¡t (vÃ¬ `exit` sáº½ Ä‘Ã³ng shell hiá»‡n táº¡i).
  - Sá»­ dá»¥ng `#` Ä‘á»ƒ comment giáº£i thÃ­ch trong .bashrc.

13) TÃ³m táº¯t cuá»‘i
  - `source .bashrc` náº¡p ná»™i dung file vÃ o shell hiá»‡n táº¡i; dÃ¹ng ngay khi báº¡n thay Ä‘á»•i .bashrc Ä‘á»ƒ Ã¡p dá»¥ng thay Ä‘á»•i.
  - DÃ¹ng `export` cho biáº¿n cáº§n chia sáº» vá»›i tiáº¿n trÃ¬nh con.
  - Cáº©n trá»ng vá»›i file tá»« nguá»“n khÃ´ng tin cáº­y.

--- Háº¿t ---
		
		
		- cmd: ip addr show | grep -v LOOPBACK | grep -ic mtu
		
Lá»‡nh: 
    ip addr show | grep -v LOOPBACK | grep -ic mtu

Giáº£i thÃ­ch tá»«ng pháº§n:

1. ip addr show
    - ÄÃ¢y lÃ  lá»‡nh hiá»ƒn thá»‹ toÃ n bá»™ thÃ´ng tin Ä‘á»‹a chá»‰ máº¡ng cá»§a há»‡ thá»‘ng.
    - Bao gá»“m cÃ¡c interface: tÃªn card máº¡ng, tráº¡ng thÃ¡i (UP/DOWN), Ä‘á»‹a chá»‰ IPv4/IPv6, MTU, MACâ€¦
    - VÃ­ dá»¥ má»™t Ä‘oáº¡n output:
          2: ens33: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 ...
              inet 192.168.1.10/24 ...

2. | (pipe)
    - Dáº¥u pipe dÃ¹ng Ä‘á»ƒ chuyá»ƒn káº¿t quáº£ cá»§a lá»‡nh trÆ°á»›c sang lá»‡nh sau Ä‘á»ƒ tiáº¿p tá»¥c xá»­ lÃ½.

3. grep -v LOOPBACK
    - grep: cÃ´ng cá»¥ tÃ¬m kiáº¿m chuá»—i trong output.
    - -v: Ä‘áº£o ngÆ°á»£c Ä‘iá»u kiá»‡n, tá»©c lÃ  *loáº¡i bá» cÃ¡c dÃ²ng chá»©a tá»« "LOOPBACK"*.
    - Má»¥c Ä‘Ã­ch: loáº¡i interface loopback (lo), tá»©c card áº£o ná»™i bá»™ cá»§a há»‡ thá»‘ng.
    - VÃ¬ loopback khÃ´ng liÃªn quan Ä‘áº¿n MTU cÃ¡c card máº¡ng tháº­t.

4. grep -ic mtu
    - grep: tiáº¿p tá»¥c tÃ¬m kiáº¿m trong pháº§n dá»¯ liá»‡u Ä‘Ã£ lá»c.
    - -i: khÃ´ng phÃ¢n biá»‡t chá»¯ hoa/chá»¯ thÆ°á»ng khi tÃ¬m chuá»—i â€œmtuâ€.
    - -c: chá»‰ Ä‘áº¿m sá»‘ dÃ²ng khá»›p thay vÃ¬ in ná»™i dung.
    - Má»¥c tiÃªu: Ä‘áº¿m xem cÃ³ bao nhiÃªu dÃ²ng chá»©a thÃ´ng tin MTU trong cÃ¡c interface máº¡ng khÃ´ng pháº£i loopback.

Káº¿t quáº£ cuá»‘i cÃ¹ng cá»§a lá»‡nh:
    - Tráº£ vá» má»™t sá»‘ (vÃ­ dá»¥: 2, 3â€¦)
    - Con sá»‘ nÃ y lÃ  sá»‘ lÆ°á»£ng dÃ²ng chá»©a tá»« â€œmtuâ€ trong cÃ¡c interface máº¡ng thá»±c táº¿ trong há»‡ thá»‘ng.
    - ThÃ´ng thÆ°á»ng tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i sá»‘ card máº¡ng Ä‘ang hoáº¡t Ä‘á»™ng (vÃ¬ má»—i interface cÃ³ dÃ²ng khai bÃ¡o MTU).

TÃ³m táº¯t:
    Lá»‡nh nÃ y in ra tá»•ng sá»‘ interface máº¡ng (trá»« loopback) báº±ng cÃ¡ch Ä‘áº¿m sá»‘ dÃ²ng cÃ³ chá»¯ â€œmtuâ€.
		
		
		- cmd: cat /var/run/httpd/httpd.pid
		
cat /var/run/httpd/httpd.pid

Má»¥c Ä‘Ã­ch:
Hiá»ƒn thá»‹ ná»™i dung cá»§a tá»‡p PID (Process ID) do dá»‹ch vá»¥ Apache HTTP Server (thÆ°á»ng gá»i lÃ  httpd) táº¡o ra. ThÆ°á»ng dÃ¹ng Ä‘á»ƒ biáº¿t PID cá»§a tiáº¿n trÃ¬nh httpd hiá»‡n Ä‘ang cháº¡y.

Giáº£i thÃ­ch chi tiáº¿t tá»«ng pháº§n:

* cat: lá»‡nh in ná»™i dung tá»‡p ra chuáº©n Ä‘áº§u ra (stdout). KhÃ´ng thay Ä‘á»•i tá»‡p, chá»‰ Ä‘á»c vÃ  xuáº¥t ná»™i dung.
* /var/run/httpd/httpd.pid: Ä‘Æ°á»ng dáº«n tá»›i tá»‡p PID cá»§a dá»‹ch vá»¥ httpd. ThÆ° má»¥c /var/run (hiá»‡n nhiá»u há»‡ thá»‘ng liÃªn káº¿t tá»›i /run) chá»©a cÃ¡c tá»‡p runtime nhÆ° PID, socket, lock file do cÃ¡c daemon táº¡o.

Ã nghÄ©a cá»§a tá»‡p PID:

* Ná»™i dung: má»™t sá»‘ nguyÃªn (vÃ­ dá»¥: 1234) â€” Ä‘Ã³ lÃ  PID cá»§a tiáº¿n trÃ¬nh chÃ­nh (master) hoáº·c tiáº¿n trÃ¬nh con cá»§a httpd, tÃ¹y cÃ¡ch cáº¥u hÃ¬nh vÃ  phiÃªn báº£n há»‡ Ä‘iá»u hÃ nh.
* Má»¥c Ä‘Ã­ch: cÃ¡c script khá»Ÿi Ä‘á»™ng/dá»«ng (init scripts, systemd, tool quáº£n lÃ½ dá»‹ch vá»¥) sá»­ dá»¥ng tá»‡p nÃ y Ä‘á»ƒ biáº¿t PID tiáº¿n trÃ¬nh Ä‘á»ƒ gá»­i tÃ­n hiá»‡u (SIGTERM, SIGKILL, SIGHUP...) hoáº·c kiá»ƒm tra tráº¡ng thÃ¡i.

VÃ­ dá»¥ thá»±c táº¿:
$ cat /var/run/httpd/httpd.pid
2456
-> Káº¿t quáº£ cho biáº¿t tiáº¿n trÃ¬nh httpd chÃ­nh cÃ³ PID = 2456.

Khi nÃ o tá»‡p cÃ³/khÃ´ng cÃ³:

* CÃ³: khi httpd Ä‘ang cháº¡y vÃ  tiáº¿n trÃ¬nh Ä‘Ã£ ghi PID vÃ o tá»‡p.
* KhÃ´ng cÃ³ hoáº·c rá»—ng: khi httpd chÆ°a cháº¡y, quÃ¡ trÃ¬nh bá»‹ crash, hoáº·c khÃ´ng cÃ³ quyá»n Ä‘á»c tá»‡p.

Quyá»n truy cáº­p vÃ  quyá»n háº¡n:

* Tá»‡p thÆ°á»ng thuá»™c vá» root hoáº·c user cá»§a dá»‹ch vá»¥ (vÃ­ dá»¥: root:root hoáº·c apache:apache). Báº¡n cÃ³ thá»ƒ cáº§n quyá»n root Ä‘á»ƒ Ä‘á»c tá»‡p náº¿u quyá»n háº¡n háº¡n cháº¿.
* Náº¿u cat tráº£ vá» "Permission denied", cháº¡y vá»›i sudo: sudo cat /var/run/httpd/httpd.pid

CÃ¡c trÆ°á»ng há»£p sai khÃ¡c vÃ  cÃ¡ch xá»­ lÃ½:

1. Tá»‡p khÃ´ng tá»“n táº¡i (No such file or directory)

   * Kiá»ƒm tra dá»‹ch vá»¥: systemctl status httpd  (CentOS/RHEL) hoáº·c systemctl status apache2 (Debian/Ubuntu)
   * Khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥ náº¿u cáº§n: sudo systemctl start httpd
2. Tá»‡p tá»“n táº¡i nhÆ°ng ná»™i dung khÃ´ng pháº£i sá»‘ há»£p lá»‡

   * CÃ³ thá»ƒ tiáº¿n trÃ¬nh Ä‘Ã£ cháº¿t nhÆ°ng tá»‡p chÆ°a Ä‘Æ°á»£c xÃ³a; kiá»ƒm tra tiáº¿n trÃ¬nh: ps -ef | grep httpd
   * Náº¿u khÃ´ng cÃ³ tiáº¿n trÃ¬nh, xÃ³a tá»‡p PID cÅ© rá»“i khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥: sudo rm /var/run/httpd/httpd.pid && sudo systemctl start httpd
3. Quyá»n truy cáº­p bá»‹ giá»›i háº¡n

   * DÃ¹ng sudo Ä‘á»ƒ Ä‘á»c hoáº·c thay Ä‘á»•i quyá»n náº¿u cáº§n: sudo cat /var/run/httpd/httpd.pid

Lá»‡nh liÃªn quan há»¯u Ã­ch:

* Kiá»ƒm tra tiáº¿n trÃ¬nh theo PID: ps -p $(cat /var/run/httpd/httpd.pid) -o pid,ppid,cmd
* DÃ¹ng lsof Ä‘á»ƒ kiá»ƒm tra socket/port: sudo lsof -i :80
* Náº¿u dÃ¹ng systemd, xem unit status: sudo systemctl status httpd
* Xem file log Ä‘á»ƒ tÃ¬m lá»—i khá»Ÿi Ä‘á»™ng: sudo journalctl -u httpd --since "1 hour ago" hoáº·c kiá»ƒm tra /var/log/httpd/error_log hoáº·c /var/log/apache2/error.log tÃ¹y distro

LÆ°u Ã½ an toÃ n:

* KhÃ´ng chá»‰nh sá»­a tá»‡p PID báº±ng tay trá»« khi báº¡n cháº¯c cháº¯n (vÃ­ dá»¥ xÃ³a tá»‡p PID cÅ© khi dá»‹ch vá»¥ Ä‘Ã£ cháº¿t). Viá»‡c Ä‘áº·t PID sai cÃ³ thá»ƒ khiáº¿n script quáº£n lÃ½ dá»‹ch vá»¥ gá»­i tÃ­n hiá»‡u tá»›i tiáº¿n trÃ¬nh nháº§m.

TÃ³m táº¯t ngáº¯n gá»n (1 dÃ²ng):
cat /var/run/httpd/httpd.pid â€” in ra PID hiá»‡n táº¡i cá»§a dá»‹ch vá»¥ Apache (httpd) tá»« tá»‡p runtime; dÃ¹ng Ä‘á»ƒ biáº¿t PID hoáº·c Ä‘á»ƒ cÃ¡c script quáº£n lÃ½ dá»‹ch vá»¥ thao tÃ¡c vá»›i tiáº¿n trÃ¬nh Ä‘Ã³.

---

End of file.
		
		
		- cmd: ssh-copy-id vagrant@192.168.10.13
		
SSH-COPY-ID - GIáº¢I THÃCH CHI TIáº¾T

Lá»‡nh máº«u:
ssh-copy-id vagrant@192.168.10.13

Má»¥c Ä‘Ã­ch (tÃ³m táº¯t):
Lá»‡nh nÃ y sao chÃ©p khÃ³a cÃ´ng khai SSH (public key) tá»« mÃ¡y báº¡n vÃ o file `~/.ssh/authorized_keys` trÃªn mÃ¡y chá»§ Ä‘Ã­ch (á»Ÿ Ä‘Ã¢y lÃ  user `vagrant` trÃªn Ä‘á»‹a chá»‰ `192.168.10.13`). Sau khi hoÃ n táº¥t, báº¡n cÃ³ thá»ƒ káº¿t ná»‘i SSH khÃ´ng cáº§n máº­t kháº©u (key-based authentication).

CÃ¡c bÆ°á»›c lá»“ng trong 1 cÃ¢u:

* TrÃªn mÃ¡y cá»¥c bá»™ báº¡n pháº£i cÃ³ cáº·p khÃ³a SSH (private + public), thÆ°á»ng lÃ  `~/.ssh/id_rsa` vÃ  `~/.ssh/id_rsa.pub` (hoáº·c id_ed25519 / id_ed25519.pub).
* `ssh-copy-id` sáº½ má»Ÿ káº¿t ná»‘i SSH tá»›i `vagrant@192.168.10.13`, yÃªu cáº§u máº­t kháº©u (láº§n Ä‘áº§u) vÃ  sau Ä‘Ã³ thÃªm ná»™i dung cá»§a file public key (vÃ­ dá»¥ `~/.ssh/id_rsa.pub`) vÃ o `~/.ssh/authorized_keys` cá»§a user `vagrant` trÃªn mÃ¡y Ä‘Ã­ch.

YÃªu cáº§u vÃ  chuáº©n bá»‹:

1. CÃ³ public key trÃªn mÃ¡y cá»§a báº¡n: kiá»ƒm tra báº±ng:
   ls -l ~/.ssh/*.pub
   Náº¿u khÃ´ng cÃ³, táº¡o cáº·p khÃ³a vá»›i (vÃ­ dá»¥):
   ssh-keygen -t ed25519 -C "[your_email@example.com](mailto:your_email@example.com)"

2. MÃ¡y Ä‘Ã­ch pháº£i cÃ³ SSH server (sshd) Ä‘ang cháº¡y vÃ  user `vagrant` tá»“n táº¡i.

3. Báº¡n cáº§n biáº¿t máº­t kháº©u cá»§a user `vagrant` trÃªn mÃ¡y Ä‘Ã­ch Ä‘á»ƒ cháº¡y `ssh-copy-id` láº§n Ä‘áº§u (trá»« khi SSH Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh sáºµn Ä‘á»ƒ cháº¥p nháº­n khÃ³a).

CÃ¡ch lá»‡nh hoáº¡t Ä‘á»™ng (chi tiáº¿t ká»¹ thuáº­t):

* ssh-copy-id tÃ¬m cÃ¡c file public key trong `~/.ssh/` (máº·c Ä‘á»‹nh lÃ  `id_rsa.pub`, `id_ed25519.pub`, v.v.).
* NÃ³ thá»±c hiá»‡n má»™t káº¿t ná»‘i SSH tá»›i mÃ¡y Ä‘Ã­ch vÃ  cá»‘ gáº¯ng táº¡o thÆ° má»¥c `~/.ssh` náº¿u chÆ°a tá»“n táº¡i (quyá»n 700).
* Sau Ä‘Ã³ nÃ³ ná»‘i (append) ná»™i dung public key vÃ o `~/.ssh/authorized_keys` trÃªn mÃ¡y Ä‘Ã­ch, Ä‘áº£m báº£o file cÃ³ quyá»n 600.
* Náº¿u `authorized_keys` Ä‘Ã£ cÃ³ key giá»‘ng váº­y, `ssh-copy-id` sáº½ trÃ¡nh sao chÃ©p trÃ¹ng láº·p.

Quyá»n vÃ  báº£o máº­t:

* ThÆ° má»¥c `~/.ssh` trÃªn mÃ¡y Ä‘Ã­ch cáº§n quyá»n 700 (rwx------).
* File `~/.ssh/authorized_keys` nÃªn cÃ³ quyá»n 600 (rw-------).
* Náº¿u quyá»n khÃ´ng Ä‘Ãºng, sshd cÃ³ thá»ƒ tá»« chá»‘i xÃ¡c thá»±c báº±ng key.

VÃ­ dá»¥ chi tiáº¿t (thá»±c thi):

1. Kiá»ƒm tra public key trÃªn mÃ¡y local:
   cat ~/.ssh/id_ed25519.pub

2. Cháº¡y lá»‡nh sao chÃ©p key:
   ssh-copy-id vagrant@192.168.10.13
   -> Há»‡ thá»‘ng sáº½ há»i máº­t kháº©u cá»§a user `vagrant` trÃªn mÃ¡y Ä‘Ã­ch; nháº­p máº­t kháº©u.

3. Sau khi thÃ nh cÃ´ng, thá»­ SSH khÃ´ng password:
   ssh vagrant@192.168.10.13

Náº¿u váº«n há»i máº­t kháº©u:

* Kiá»ƒm tra file `~/.ssh/authorized_keys` trÃªn mÃ¡y Ä‘Ã­ch cÃ³ chá»©a public key khÃ´ng.
* Kiá»ƒm tra quyá»n cá»§a `~/.ssh` (700) vÃ  `~/.ssh/authorized_keys` (600).
* Kiá»ƒm tra cáº¥u hÃ¬nh `sshd_config` trÃªn mÃ¡y Ä‘Ã­ch: `PubkeyAuthentication yes` vÃ  khÃ´ng cÃ³ háº¡n cháº¿ ngÄƒn key-based auth.

TÃ¹y chá»n há»¯u Ã­ch cá»§a ssh-copy-id:

* -i <path_to_pubkey> : Chá»‰ Ä‘á»‹nh file public key cá»¥ thá»ƒ Ä‘á»ƒ copy, vÃ­ dá»¥:
  ssh-copy-id -i ~/.ssh/mykey.pub vagrant@192.168.10.13
* -p <port> : Náº¿u SSH cháº¡y trÃªn cá»•ng khÃ¡c (khÃ´ng pháº£i 22), vÃ­ dá»¥:
  ssh-copy-id -p 2222 vagrant@192.168.10.13

Váº¥n Ä‘á» thÆ°á»ng gáº·p (vÃ  cÃ¡ch kháº¯c phá»¥c nhanh):

1. Lá»—i quyá»n (Permissions 0644 for ".ssh" are too open):
   chmod 700 ~/.ssh
   chmod 600 ~/.ssh/authorized_keys
2. ThÆ° má»¥c home ngÆ°á»i dÃ¹ng khÃ´ng cho phÃ©p ghi bá»Ÿi user (vd: root owner khÃ¡c):
   Kiá»ƒm tra owner: `ls -ld /home/vagrant` vÃ  `chown vagrant:vagrant /home/vagrant` náº¿u cáº§n (yÃªu cáº§u quyá»n root trÃªn server).
3. SSH trÃªn server dÃ¹ng `AuthorizedKeysFile` khÃ¡c trong `sshd_config` â€” kiá»ƒm tra cáº¥u hÃ¬nh Ä‘Ã³.
4. Náº¿u `ssh-copy-id` khÃ´ng cÃ³ sáºµn, báº¡n cÃ³ thá»ƒ dÃ¹ng tay copy pub key:
   cat ~/.ssh/id_ed25519.pub | ssh vagrant@192.168.10.13 'mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys && chmod 700 ~/.ssh && chmod 600 ~/.ssh/authorized_keys'

Ghi chÃº cuá»‘i cÃ¹ng:

* Viá»‡c dÃ¹ng key-based authentication an toÃ n hÆ¡n máº­t kháº©u náº¿u báº¡n dÃ¹ng passphrase cho private key vÃ  giá»¯ private key an toÃ n.
* Náº¿u báº¡n cáº§n access tá»« nhiá»u mÃ¡y, thÃªm tá»«ng public key cá»§a má»—i mÃ¡y vÃ o `authorized_keys` cá»§a user Ä‘Ã­ch.

---

Háº¾T

(ÄÃ¢y lÃ  text plain, báº¡n cÃ³ thá»ƒ sao chÃ©p toÃ n bá»™ vÃ  dÃ¡n vÃ o file .txt.)
		
		
		- cmd: ssh vagrant@web01
		
TiÃªu Ä‘á»: Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: ssh vagrant@web01
(Ná»™i dung á»Ÿ dáº¡ng PLAIN TEXT â€” cÃ³ thá»ƒ copy toÃ n bá»™ vÃ o file .txt)

1) CÃ¢u lá»‡nh gá»‘c
   ssh vagrant@web01

2) Má»¥c Ä‘Ã­ch
   Káº¿t ná»‘i qua giao thá»©c SSH tá»›i mÃ¡y chá»§ tÃªn "web01" sá»­ dá»¥ng tÃ i khoáº£n ngÆ°á»i dÃ¹ng "vagrant".
   Sau khi káº¿t ná»‘i thÃ nh cÃ´ng, báº¡n sáº½ cÃ³ má»™t shell (dáº¥u nháº¯c lá»‡nh) trÃªn mÃ¡y "web01".

3) PhÃ¢n tÃ­ch tá»«ng pháº§n
   - ssh
     : ChÆ°Æ¡ng trÃ¬nh client SSH (Secure Shell) dÃ¹ng Ä‘á»ƒ káº¿t ná»‘i an toÃ n tá»›i mÃ¡y tá»« xa.
   - vagrant
     : TÃªn ngÆ°á»i dÃ¹ng (username) trÃªn mÃ¡y tá»« xa. Tá»©c lÃ  báº¡n sáº½ Ä‘Äƒng nháº­p dÆ°á»›i user "vagrant".
   - @
     : Dáº¥u phÃ¢n tÃ¡ch giá»¯a username vÃ  host.
   - web01
     : TÃªn mÃ¡y chá»§ (hostname) hoáº·c Ä‘á»‹a chá»‰ IP cá»§a mÃ¡y tá»« xa. ÄÃ¢y cÃ³ thá»ƒ lÃ :
       * TÃªn DNS há»£p lá»‡ (vÃ­ dá»¥: web01.example.com), hoáº·c
       * TÃªn cá»¥c bá»™ Ä‘Æ°á»£c map trong /etc/hosts (vÃ­ dá»¥ dÃ²ng: 192.168.10.13 web01), hoáº·c
       * Má»™t Ä‘á»‹a chá»‰ IP (vÃ­ dá»¥: 192.168.10.13)

4) Äiá»u kiá»‡n tiÃªn quyáº¿t (preconditions)
   - ÄÃ£ cÃ³ máº¡ng tá»›i host "web01" (ping/route).
   - Host "web01" Ä‘ang cháº¡y dá»‹ch vá»¥ SSH (port máº·c Ä‘á»‹nh 22) vÃ  cháº¥p nháº­n káº¿t ná»‘i.
   - TÃ i khoáº£n "vagrant" tá»“n táº¡i trÃªn "web01".
   - XÃ¡c thá»±c: báº¡n cáº§n cÃ³ phÆ°Æ¡ng thá»©c Ä‘Äƒng nháº­p há»£p lá»‡:
     * SSH key (private key náº±m á»Ÿ ~/.ssh/id_rsa hoáº·c file khÃ¡c), hoáº·c
     * Password cá»§a user vagrant (náº¿u SSH cho phÃ©p password auth).

5) CÃ¡c biáº¿n thá»ƒ thÆ°á»ng dÃ¹ng
   - ssh -i /path/to/key vagrant@web01
     : Chá»‰ Ä‘á»‹nh private key cá»¥ thá»ƒ Ä‘á»ƒ xÃ¡c thá»±c.
   - ssh -p 2222 vagrant@web01
     : Káº¿t ná»‘i tá»›i port SSH khÃ¡c (vÃ­ dá»¥ 2222 thay vÃ¬ 22).
   - ssh -v vagrant@web01
     : Cháº¿ Ä‘á»™ verbose (-vv hoáº·c -vvv Ä‘á»ƒ debug thÃªm) â€” há»¯u Ã­ch khi gáº·p lá»—i.
   - ssh -o StrictHostKeyChecking=no vagrant@web01
     : Tá»± Ä‘á»™ng cháº¥p nháº­n host key má»›i (khÃ´ng khuyáº¿n nghá»‹ cho mÃ´i trÆ°á»ng production vÃ¬ giáº£m an toÃ n).

6) VÃ­ dá»¥ file cáº¥u hÃ¬nh ~/.ssh/config (giÃºp gÃµ ngáº¯n hÆ¡n)
   Host web01
       HostName 192.168.10.13
       User vagrant
       IdentityFile ~/.ssh/vagrant_id_rsa
       Port 22

   Khi Ä‘Ã³ chá»‰ cáº§n: ssh web01

7) ThÃ´ng Ä‘iá»‡p/hiá»ƒn thá»‹ phá»• biáº¿n khi káº¿t ná»‘i thÃ nh cÃ´ng
   - "The authenticity of host 'web01 (192.168.10.13)' can't be established..."
     -> Há»‡ thá»‘ng há»i báº¡n cÃ³ cháº¥p nháº­n host key khÃ´ng; tráº£ lá»i "yes" Ä‘á»ƒ lÆ°u vÃ o ~/.ssh/known_hosts.
   - Prompt shell: vagrant@web01:~$  (báº¡n Ä‘Ã£ Ä‘Äƒng nháº­p)

8) Lá»—i thÆ°á»ng gáº·p & cÃ¡ch kháº¯c phá»¥c
   - Permission denied (publickey,password)
     -> Kiá»ƒm tra private key, quyá»n file (~/.ssh 700, ~/.ssh/id_rsa 600), hoáº·c password Ä‘Ãºng khÃ´ng.
   - Connection refused
     -> SSH server khÃ´ng cháº¡y trÃªn host; kiá»ƒm tra dá»‹ch vá»¥ SSH trÃªn web01.
   - No route to host / Network unreachable / Host not found
     -> Kiá»ƒm tra DNS hoáº·c /etc/hosts; kiá»ƒm tra máº¡ng/route.
   - WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!
     -> Host key cá»§a web01 Ä‘Ã£ thay Ä‘á»•i; cÃ³ thá»ƒ do rebuild VM. XoÃ¡ dÃ²ng tÆ°Æ¡ng á»©ng trong ~/.ssh/known_hosts hoáº·c xÃ¡c nháº­n nguyÃªn nhÃ¢n trÆ°á»›c khi xÃ³a.

9) Má»™t sá»‘ máº¹o há»¯u Ã­ch
   - Äá»ƒ copy file tá»›i/ra: scp file.txt vagrant@web01:/path/to/dest
   - Äá»ƒ cháº¡y 1 lá»‡nh tá»« local mÃ  khÃ´ng vÃ o shell: ssh vagrant@web01 'uname -a && whoami'
   - Äáº£m báº£o quyá»n trÃªn private key lÃ  háº¡n cháº¿ (chmod 600).
   - TrÃ¡nh dÃ¹ng StrictHostKeyChecking=no trÃªn mÃ´i trÆ°á»ng nháº¡y cáº£m.

10) VÃ­ dá»¥ thá»±c táº¿ (ká»‹ch báº£n Vagrant)
   - Náº¿u báº¡n dÃ¹ng Vagrant, thÆ°á»ng web01 lÃ  má»™t VM vÃ  private key máº·c Ä‘á»‹nh náº±m á»Ÿ ~/.vagrant.d/insecure_private_key hoáº·c trong thÆ° má»¥c dá»± Ã¡n.
   - Lá»‡nh cÃ³ thá»ƒ lÃ : ssh -i .vagrant/machines/default/virtualbox/private_key vagrant@127.0.0.1 -p 2222
     (Vagrant thÆ°á»ng forward port 2222 trÃªn localhost)

11) CÃ¡ch thoÃ¡t phiÃªn SSH
   - GÃµ: exit
   - Hoáº·c nháº¥n Ctrl+D

--- Káº¾T THÃšC ---
(ÄÃ¢y lÃ  plain text, báº¡n cÃ³ thá»ƒ copy nguyÃªn khá»‘i trÃªn vÃ  dÃ¡n vÃ o file .txt)
		
		
		- cmd: passwd devops
		
TiÃªu Ä‘á»: Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: passwd devops
------------------------------------------------

TÃ³m táº¯t ngáº¯n (1 cÃ¢u):
  `passwd devops` lÃ  lá»‡nh dÃ¹ng Ä‘á»ƒ **thay Ä‘á»•i máº­t kháº©u cho tÃ i khoáº£n user cÃ³ tÃªn "devops"**; náº¿u cháº¡y bá»Ÿi chÃ­nh user (Ä‘ang Ä‘Äƒng nháº­p lÃ  devops) thÃ¬ thay máº­t kháº©u cho chÃ­nh há», náº¿u cháº¡y bá»Ÿi root (hoáº·c qua sudo) thÃ¬ cÃ³ thá»ƒ Ä‘áº·t/thay máº­t kháº©u cho user khÃ¡c.

1) Má»¥c Ä‘Ã­ch cÆ¡ báº£n
  - Thay Ä‘á»•i máº­t kháº©u cho má»™t tÃ i khoáº£n Unix/Linux (á»Ÿ Ä‘Ã¢y lÃ  tÃ i khoáº£n `devops`).
  - Cáº­p nháº­t thÃ´ng tin máº­t kháº©u trong cÃ¡c file quáº£n lÃ½ máº­t kháº©u (thÆ°á»ng lÃ  `/etc/shadow`).
  - CÃ³ thá»ƒ khÃ³a/giáº£i khÃ³a máº­t kháº©u dá»±a trÃªn cÃ¡c tuá»³ chá»n (xem pháº§n tuá»³ chá»n).

2) CÃº phÃ¡p cÆ¡ báº£n
  - Thay máº­t kháº©u cho user khÃ¡c (cáº§n quyá»n root):
      passwd devops
  - Thay máº­t kháº©u cho chÃ­nh báº¡n (gÃµ `passwd` khÃ´ng kÃ¨m tÃªn user):
      passwd

3) HÃ nh vi tÆ°Æ¡ng tÃ¡c (thÃ´ng thÆ°á»ng)
  - Khi cháº¡y `passwd devops` dÆ°á»›i quyá»n root, há»‡ thá»‘ng sáº½ yÃªu cáº§u nháº­p máº­t kháº©u má»›i cho user `devops`:
      Enter new UNIX password:
      Retype new UNIX password:
    - Náº¿u máº­t kháº©u yáº¿u hoáº·c khÃ´ng thá»a chÃ­nh sÃ¡ch PAM, báº¡n sáº½ nháº­n thÃ´ng bÃ¡o lá»—i vÃ  Ä‘Æ°á»£c yÃªu cáº§u thá»­ láº¡i.
    - Náº¿u Ä‘á»•i thÃ nh cÃ´ng: `passwd: password updated successfully`

  - Khi user `devops` tá»± cháº¡y `passwd` (khÃ´ng pháº£i root), lá»‡nh thÆ°á»ng yÃªu cáº§u nháº­p máº­t kháº©u hiá»‡n táº¡i trÆ°á»›c khi cho phÃ©p thay máº­t kháº©u:
      (current) UNIX password:
      Enter new UNIX password:
      Retype new UNIX password:

4) Quyá»n cáº§n thiáº¿t
  - Äá»•i máº­t kháº©u ngÆ°á»i khÃ¡c: cáº§n quyá»n root (hoáº·c sudo).
  - Äá»•i máº­t kháº©u chÃ­nh mÃ¬nh: khÃ´ng cáº§n quyá»n Ä‘áº·c biá»‡t, chá»‰ cáº§n Ä‘ang Ä‘Äƒng nháº­p báº±ng tÃ i khoáº£n Ä‘Ã³.

5) CÃ¡c tuá»³ chá»n phá»• biáº¿n cá»§a passwd
  - `passwd username` â€” Ä‘á»•i máº­t kháº©u cho username.
  - `passwd -l username` â€” khÃ³a tÃ i khoáº£n (lock password). Thá»±c cháº¥t thÃªm `!` trÆ°á»›c trÆ°á»ng máº­t kháº©u trong `/etc/shadow`.
  - `passwd -u username` â€” má»Ÿ khÃ³a (unlock) tÃ i khoáº£n.
  - `passwd -d username` â€” xoÃ¡ máº­t kháº©u (passwordless account) â€” *tháº­n trá»ng*.
  - `passwd -e username` â€” buá»™c user Ä‘á»•i máº­t kháº©u á»Ÿ láº§n Ä‘Äƒng nháº­p tiáº¿p theo (expire).
  - `passwd -S username` â€” hiá»ƒn thá»‹ tráº¡ng thÃ¡i máº­t kháº©u (locked/last change/expiry).
  - TrÃªn má»™t sá»‘ há»‡ (vÃ­ dá»¥ RHEL/CentOS): `passwd --stdin username` â€” nháº­n máº­t kháº©u tá»« stdin (thÆ°á»ng dÃ¹ng trong script, nhÆ°ng cÃ³ rá»§i ro báº£o máº­t).
  - LÆ°u Ã½: cÃ¡c tuá»³ chá»n cÃ³ thá»ƒ khÃ¡c nhau giá»¯a cÃ¡c báº£n Linux (GNU passwd vs util-linux), kiá»ƒm tra `man passwd` trÃªn há»‡ cá»§a báº¡n.

6) VÃ­ dá»¥ thá»±c táº¿
  - Root Ä‘áº·t máº­t kháº©u cho user devops:
      sudo passwd devops
    (sau Ä‘Ã³ nháº­p máº­t kháº©u má»›i 2 láº§n)
  - User devops Ä‘á»•i máº­t kháº©u cá»§a chÃ­nh há»:
      passwd
    (nháº­p máº­t kháº©u hiá»‡n táº¡i rá»“i máº­t kháº©u má»›i 2 láº§n)
  - KhÃ³a tÃ i khoáº£n devops:
      sudo passwd -l devops
  - Má»Ÿ khÃ³a:
      sudo passwd -u devops
  - Buá»™c Ä‘á»•i máº­t kháº©u ngay láº§n Ä‘Äƒng nháº­p tiáº¿p theo:
      sudo passwd -e devops
  - Äáº·t máº­t kháº©u trong script (vÃ­ dá»¥ CentOS/RHEL) â€” *khÃ´ng khuyáº¿n nghá»‹ do rá»§i ro*:
      echo "NewP@ssw0rd" | sudo passwd --stdin devops

7) ThÃ´ng bÃ¡o lá»—i thÆ°á»ng gáº·p & cÃ¡ch kháº¯c phá»¥c
  - `passwd: Authentication token manipulation error` â€” thÆ°á»ng do file permission sai trÃªn `/etc/passwd` hoáº·c `/etc/shadow` hoáº·c Ä‘ang cá»‘ Ä‘á»•i mÃ  khÃ´ng cÃ³ quyá»n root. Kiá»ƒm tra quyá»n vÃ  SELinux.
  - `BAD PASSWORD: it is too short` hoáº·c thÃ´ng bÃ¡o liÃªn quan chÃ­nh sÃ¡ch PAM â€” há»‡ thá»‘ng cÃ³ chÃ­nh sÃ¡ch máº­t kháº©u (PAM) yÃªu cáº§u Ä‘á»™ dÃ i/Ä‘á»™ phá»©c táº¡p; chá»n máº­t kháº©u máº¡nh hÆ¡n hoáº·c thay Ä‘á»•i chÃ­nh sÃ¡ch (chá»‰ do admin).
  - `passwd: Permission denied` â€” thiáº¿u quyá»n; sá»­ dá»¥ng `sudo` hoáº·c Ä‘Äƒng nháº­p root.
  - `passwd: user 'devops' does not exist` â€” user khÃ´ng tá»“n táº¡i; kiá»ƒm tra `getent passwd devops` hoáº·c `id devops`.

8) Kiá»ƒm tra tráº¡ng thÃ¡i máº­t kháº©u
  - Xem tráº¡ng thÃ¡i:
      sudo passwd -S devops
    Káº¿t quáº£ khoáº£ng: `devops PS 2025-12-01 0 99999 7 -1 (Password set, ... )`
  - Hoáº·c xem /etc/shadow (chá»‰ root):
      sudo grep '^devops:' /etc/shadow

9) An toÃ n & best practices
  - KHÃ”NG truyá»n máº­t kháº©u rÃµ rÃ ng trÃªn command line trong script (process list cÃ³ thá»ƒ lá»™).
  - TrÃ¡nh dÃ¹ng `--stdin` hoáº·c `chpasswd` vá»›i máº­t kháº©u trong file khÃ´ng Ä‘Æ°á»£c báº£o vá»‡.
  - Sá»­ dá»¥ng `chpasswd` vá»›i stdin an toÃ n (vá»›i file cháº¿ Ä‘á»™ chá»‰ root) náº¿u cáº§n quáº£n lÃ½ hÃ ng loáº¡t:
      echo "devops:NewP@ssw0rd" | sudo chpasswd
  - Ãp dá»¥ng password policy (PAM) Ä‘á»ƒ báº¯t buá»™c Ä‘á»™ dÃ i, history, v.v.
  - Khuyáº¿n khÃ­ch sá»­ dá»¥ng quáº£n lÃ½ khoÃ¡ cÃ´ng khai (SSH key) cho truy cáº­p SSH thay vÃ¬ máº­t kháº©u khi cÃ³ thá»ƒ.

10) Sá»­ dá»¥ng trong automation / script (máº¹o)
  - `chpasswd`:
      echo "devops:NewP@ssw0rd" | sudo chpasswd
  - `usermod -p` khÃ´ng dÃ¹ng trá»±c tiáº¿p vá»›i máº­t kháº©u plain (chá»‰ dÃ¹ng vá»›i hash).
  - Tools tá»± Ä‘á»™ng hoÃ¡ (Ansible, Puppet) cÃ³ module an toÃ n Ä‘á»ƒ quáº£n lÃ½ máº­t kháº©u.

11) Má»™t sá»‘ lÆ°u Ã½ há»‡ thá»‘ng
  - CÃ¡c thay Ä‘á»•i máº­t kháº©u áº£nh hÆ°á»Ÿng tá»›i:
    - ÄÄƒng nháº­p shell, SSH (náº¿u server cho phÃ©p máº­t kháº©u), sudo (náº¿u yÃªu cáº§u máº­t kháº©u), cÃ¡c dá»‹ch vá»¥ xÃ¡c thá»±c PAM.
  - Náº¿u há»‡ dÃ¹ng LDAP/AD Ä‘á»ƒ quáº£n lÃ½ ngÆ°á»i dÃ¹ng, `passwd` cÃ³ thá»ƒ tÆ°Æ¡ng tÃ¡c vá»›i dá»‹ch vá»¥ Ä‘Ã³ thay vÃ¬ `/etc/shadow`. HÃ£y kiá»ƒm tra cáº¥u hÃ¬nh NSS/PAM.

12) VÃ­ dá»¥ file hÆ°á»›ng dáº«n (plain text) Ä‘á»ƒ copy vÃ o .txt
  TiÃªu Ä‘á»: HÆ°á»›ng dáº«n dÃ¹ng lá»‡nh passwd devops
  -----------------------------------------
  Má»¥c Ä‘Ã­ch: Thay Ä‘á»•i máº­t kháº©u cho ngÆ°á»i dÃ¹ng 'devops'.

  1) Äá»•i máº­t kháº©u (root):
     sudo passwd devops
     -> Nháº­p máº­t kháº©u má»›i 2 láº§n.

  2) Äá»•i máº­t kháº©u (user devops tá»± Ä‘á»•i):
     passwd
     -> Nháº­p máº­t kháº©u hiá»‡n táº¡i, rá»“i máº­t kháº©u má»›i 2 láº§n.

  3) KhÃ³a user:
     sudo passwd -l devops

  4) Má»Ÿ khÃ³a:
     sudo passwd -u devops

  5) Kiá»ƒm tra tráº¡ng thÃ¡i:
     sudo passwd -S devops

  6) Äá»•i hÃ ng loáº¡t an toÃ n (vÃ­ dá»¥ dÃ¹ng chpasswd):
     echo "devops:NewP@ssw0rd" | sudo chpasswd

  7) LÆ°u Ã½ báº£o máº­t:
     - KhÃ´ng Ä‘áº·t máº­t kháº©u plain trÃªn command line cÃ´ng khai.
     - TuÃ¢n thá»§ chÃ­nh sÃ¡ch máº­t kháº©u (PAM).
     - Sá»­ dá»¥ng SSH key khi cÃ³ thá»ƒ.

13) TÃ³m táº¯t cuá»‘i
  - `passwd devops` lÃ  lá»‡nh tiÃªu chuáº©n Ä‘á»ƒ Ä‘áº·t/Ä‘á»•i máº­t kháº©u cho user `devops`.
  - Äá»•i máº­t kháº©u ngÆ°á»i khÃ¡c yÃªu cáº§u quyá»n root; Ä‘á»•i cho chÃ­nh mÃ¬nh thÃ¬ cháº¡y `passwd`.
  - Cáº©n trá»ng khi tá»± Ä‘á»™ng hÃ³a thay máº­t kháº©u Ä‘á»ƒ trÃ¡nh lá»™ thÃ´ng tin.

--- Háº¿t ---
		
		
		- cmd: vim /etc/ssh/sshd_config
		
TiÃªu Ä‘á»:
    Giáº£i thÃ­ch chi tiáº¿t nháº¥t cho: vim /etc/ssh/sshd_config

Má»¥c Ä‘Ã­ch chung:
    /etc/ssh/sshd_config lÃ  file cáº¥u hÃ¬nh cá»§a daemon OpenSSH (sshd) trÃªn mÃ¡y Linux/Unix.
    File nÃ y Ä‘iá»u khiá»ƒn hÃ nh vi cá»§a SSH server: cá»•ng láº¯ng nghe, phÆ°Æ¡ng thá»©c xÃ¡c thá»±c, quyá»n root,
    forwarding, subsystem (vÃ­ dá»¥ sftp), vÃ  nhiá»u tÃ¹y chá»n báº£o máº­t/hiá»‡u nÄƒng khÃ¡c.

LÆ°u Ã½ trÆ°á»›c khi chá»‰nh sá»­a:
    1. LuÃ´n sao lÆ°u file trÆ°á»›c khi thay Ä‘á»•i:
         cp /etc/ssh/sshd_config /etc/ssh/sshd_config.bak.$(date +%F_%T)
    2. Kiá»ƒm tra syntax trÆ°á»›c khi restart:
         sshd -t
       Náº¿u tráº£ vá» lá»—i, hÃ£y sá»­a trÆ°á»›c khi restart.
    3. Náº¿u Ä‘ang lÃ m trÃªn server tá»« xa: má»Ÿ thÃªm 1 káº¿t ná»‘i SSH trÆ°á»›c khi restart Ä‘á»ƒ trÃ¡nh khÃ³a mÃ¬nh ra ngoÃ i.
    4. TrÃªn há»‡ thá»‘ng dÃ¹ng systemd: dÃ¹ng systemctl restart sshd (hoáº·c ssh á»Ÿ má»™t sá»‘ distro).
       TrÃªn há»‡ thá»‘ng dÃ¹ng init.d: service sshd restart (hoáº·c service ssh restart tÃ¹y distro).

CÃ¡ch má»Ÿ file:
    vim /etc/ssh/sshd_config
    (hoáº·c dÃ¹ng editor khÃ¡c: nano /etc/ssh/sshd_config)

CÃ¡c lá»‡nh vim gá»£i Ã½ nhanh:
    - Má»Ÿ: vim /etc/ssh/sshd_config
    - Chá»‰nh sá»­a: nháº¥n i Ä‘á»ƒ vÃ o Insert mode
    - LÆ°u & thoÃ¡t: Esc -> :wq
    - ThoÃ¡t khÃ´ng lÆ°u: Esc -> :q!

CÃ¡c má»¥c cáº¥u hÃ¬nh quan trá»ng (giáº£i thÃ­ch + giÃ¡ trá»‹ máº«u):

1) Port
    MÃ´ táº£: cá»•ng TCP Ä‘á»ƒ sshd láº¯ng nghe (máº·c Ä‘á»‹nh 22).
    VÃ­ dá»¥:
        Port 22
    Ghi chÃº: Ä‘á»•i cá»•ng giÃºp giáº£m má»™t sá»‘ táº¥n cÃ´ng tá»± Ä‘á»™ng, nhÆ°ng khÃ´ng thay cho báº£o máº­t thá»±c sá»±.

2) ListenAddress
    MÃ´ táº£: Ä‘á»‹a chá»‰ IP mÃ  sshd láº¯ng nghe (máº·c Ä‘á»‹nh láº¯ng nghe táº¥t cáº£).
    VÃ­ dá»¥:
        ListenAddress 0.0.0.0
        ListenAddress 192.168.1.10

3) PermitRootLogin
    MÃ´ táº£: cho phÃ©p hoáº·c tá»« chá»‘i login trá»±c tiáº¿p báº±ng root.
    GiÃ¡ trá»‹: yes / prohibit-password / no
    VÃ­ dá»¥ (khuyáº¿n nghá»‹):
        PermitRootLogin no

4) PasswordAuthentication
    MÃ´ táº£: báº­t/táº¯t xÃ¡c thá»±c báº±ng máº­t kháº©u.
    VÃ­ dá»¥ (khuyáº¿n nghá»‹ táº¯t náº¿u dÃ¹ng key):
        PasswordAuthentication no

5) PubkeyAuthentication
    MÃ´ táº£: báº­t xÃ¡c thá»±c báº±ng SSH keys.
    VÃ­ dá»¥:
        PubkeyAuthentication yes

6) AuthorizedKeysFile
    MÃ´ táº£: Ä‘á»‹nh nghÄ©a file chá»©a public keys cá»§a user.
    VÃ­ dá»¥ máº·c Ä‘á»‹nh:
        AuthorizedKeysFile .ssh/authorized_keys

7) PermitEmptyPasswords
    MÃ´ táº£: cÃ³ cho phÃ©p tÃ i khoáº£n cÃ³ password rá»—ng khÃ´ng.
    VÃ­ dá»¥:
        PermitEmptyPasswords no

8) PermitUserEnvironment
    MÃ´ táº£: cho phÃ©p Ä‘á»c ~/.ssh/environment
    VÃ­ dá»¥ (an toÃ n):
        PermitUserEnvironment no

9) ChallengeResponseAuthentication
    MÃ´ táº£: dÃ¹ng cho PAM/keyboard-interactive.
    VÃ­ dá»¥:
        ChallengeResponseAuthentication no

10) UsePAM
    MÃ´ táº£: báº­t/táº¯t PAM (Pluggable Authentication Modules).
    VÃ­ dá»¥:
        UsePAM yes

11) AllowUsers / AllowGroups / DenyUsers / DenyGroups
    MÃ´ táº£: lá»c user/group Ä‘Æ°á»£c phÃ©p SSH.
    VÃ­ dá»¥: chá»‰ cho phÃ©p 2 user:
        AllowUsers tuan admin

12) X11Forwarding
    MÃ´ táº£: cho phÃ©p chuyá»ƒn tiáº¿p X11.
    VÃ­ dá»¥:
        X11Forwarding no

13) AllowTcpForwarding
    MÃ´ táº£: cho phÃ©p TCP forwarding (port forwarding).
    VÃ­ dá»¥:
        AllowTcpForwarding no

14) GatewayPorts
    MÃ´ táº£: cho phÃ©p port forwarding bind ra ngoÃ i.
    VÃ­ dá»¥:
        GatewayPorts no

15) MaxAuthTries
    MÃ´ táº£: sá»‘ láº§n thá»­ Ä‘Äƒng nháº­p (máº­t kháº©u) trÆ°á»›c khi ngáº¯t.
    VÃ­ dá»¥:
        MaxAuthTries 3

16) ClientAliveInterval vÃ  ClientAliveCountMax
    MÃ´ táº£: cáº¥u hÃ¬nh timeout cho káº¿t ná»‘i khÃ´ng hoáº¡t Ä‘á»™ng (server gá»­i keepalive).
    VÃ­ dá»¥:
        ClientAliveInterval 300
        ClientAliveCountMax 2
    Ã nghÄ©a: sau 300s náº¿u khÃ´ng cÃ³ pháº£n há»“i, sshd gá»­i keepalive; sau 2 láº§n khÃ´ng pháº£n há»“i sáº½ Ä‘Ã³ng.

17) LoginGraceTime
    MÃ´ táº£: thá»i gian tá»‘i Ä‘a Ä‘á»ƒ user authenticate.
    VÃ­ dá»¥:
        LoginGraceTime 60

18) Banner
    MÃ´ táº£: file hiá»ƒn thá»‹ trÆ°á»›c khi login (thÃ´ng bÃ¡o phÃ¡p lÃ½).
    VÃ­ dá»¥:
        Banner /etc/issue.net

19) HostKey
    MÃ´ táº£: file chá»©a private host key (rsa, ecdsa, ed25519â€¦).
    VÃ­ dá»¥:
        HostKey /etc/ssh/ssh_host_rsa_key
        HostKey /etc/ssh/ssh_host_ed25519_key

20) Subsystem (vÃ­ dá»¥ sftp)
    MÃ´ táº£: cáº¥u hÃ¬nh subsystem cho sftp.
    VÃ­ dá»¥ máº·c Ä‘á»‹nh:
        Subsystem sftp /usr/lib/openssh/sftp-server
    Hoáº·c dÃ¹ng internal-sftp cho chroot:
        Subsystem sftp internal-sftp

21) Match blocks
    MÃ´ táº£: Ã¡p dá»¥ng thiáº¿t láº­p khÃ¡c nhau theo user/group/host/ip.
    VÃ­ dá»¥:
        Match User guest
            X11Forwarding no
            AllowTcpForwarding no
    Ghi chÃº: Match pháº£i Ä‘á»©ng á»Ÿ cuá»‘i file; cÃ¡c tÃ¹y chá»n trong Match thay tháº¿ cÃ¡c tÃ¹y chá»n chung.

22) Ciphers, MACs, KexAlgorithms
    MÃ´ táº£: cáº¥u hÃ¬nh thuáº­t toÃ¡n mÃ£ hÃ³a, MAC, key-exchange â€” nÃ¢ng cáº¥p Ä‘á»ƒ loáº¡i bá» thuáº­t toÃ¡n yáº¿u.
    VÃ­ dá»¥ (tÃ¹y distro/version):
        Ciphers chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,...
    Ghi chÃº: náº¿u chá»‰nh thuáº­t toÃ¡n, cáº§n Ä‘áº£m báº£o client há»— trá»£.

CÃ¡ch kiá»ƒm tra vÃ  restart sshd:
    - Kiá»ƒm tra syntax:
         sshd -t
    - Kiá»ƒm tra config hiá»‡n táº¡i Ä‘ang dÃ¹ng:
         sshd -T         # in ra táº¥t cáº£ tÃ¹y chá»n sau khi Ã¡p dá»¥ng (toÃ n bá»™)
    - Reload config (khÃ´ng cáº¯t káº¿t ná»‘i hiá»‡n táº¡i náº¿u systemd há»— trá»£):
         systemctl reload sshd
    - Restart sshd:
         systemctl restart sshd
       (trÃªn Debian/Ubuntu cÃ³ thá»ƒ dÃ¹ng: systemctl restart ssh.service hoáº·c service ssh restart)

VÃ­ dá»¥ cáº¥u hÃ¬nh "secure" (máº«u, copy vÃ o /etc/ssh/sshd_config):
    # Minimal secure sshd_config example
    Port 22
    Protocol 2
    ListenAddress 0.0.0.0
    HostKey /etc/ssh/ssh_host_ed25519_key
    HostKey /etc/ssh/ssh_host_rsa_key
    PermitRootLogin no
    PasswordAuthentication no
    PubkeyAuthentication yes
    AuthorizedKeysFile .ssh/authorized_keys
    PermitEmptyPasswords no
    ChallengeResponseAuthentication no
    UsePAM yes
    X11Forwarding no
    AllowTcpForwarding no
    MaxAuthTries 3
    ClientAliveInterval 300
    ClientAliveCountMax 2
    LoginGraceTime 60
    Subsystem sftp internal-sftp
    LogLevel VERBOSE

CÃ¡c máº¹o/khuyáº¿n nghá»‹:
    - Æ¯u tiÃªn dÃ¹ng SSH key, táº¯t PasswordAuthentication khi Ä‘Ã£ cáº¥u hÃ¬nh key cho user.
    - VÃ´ hiá»‡u hÃ³a root login trá»±c tiáº¿p (PermitRootLogin no). DÃ¹ng sudo náº¿u cáº§n quyá»n root.
    - Giá»›i háº¡n user cÃ³ thá»ƒ SSH báº±ng AllowUsers/AllowGroups.
    - DÃ¹ng Fail2ban hoáº·c tÆ°Æ¡ng tá»± Ä‘á»ƒ cháº·n thá»­ máº­t kháº©u láº·p.
    - Kiá»ƒm tra sshd -t sau má»—i chá»‰nh sá»­a.
    - Khi thay Ä‘á»•i thuáº­t toÃ¡n (Ciphers/Kex) Ä‘áº£m báº£o client tÆ°Æ¡ng thÃ­ch.
    - DÃ¹ng chroot + internal-sftp náº¿u muá»‘n giá»›i háº¡n user chá»‰ xÃ i sftp.

CÃ¡c lá»‡nh trá»£ giÃºp/kiá»ƒm tra:
    - Kiá»ƒm tra sshd Ä‘ang láº¯ng nghe cá»•ng nÃ o:
         ss -tlnp | grep sshd
      hoáº·c
         netstat -tlnp | grep sshd
    - Xem log khi cÃ³ lá»—i (vÃ­ dá»¥ trÃªn há»‡ thá»‘ng dÃ¹ng systemd):
         journalctl -u sshd -n 200
      hoáº·c
         tail -f /var/log/auth.log   (Debian/Ubuntu)
         tail -f /var/log/secure     (RHEL/CentOS)

KhÃ´i phá»¥c náº¿u bá»‹ khÃ³a ngoÃ i (náº¿u restart lá»—i):
    1. Má»Ÿ console tá»« hosting provider (web console) hoáº·c truy cáº­p váº­t lÃ½.
    2. KhÃ´i phá»¥c file tá»« báº£n sao lÆ°u:
         cp /etc/ssh/sshd_config.bak.YYYY-MM-DD_HH:MM:SS /etc/ssh/sshd_config
    3. Cháº¡y sshd -t Ä‘á»ƒ kiá»ƒm tra vÃ  restart.

Káº¿t luáº­n ngáº¯n:
    - /etc/ssh/sshd_config lÃ  trÃ¡i tim cáº¥u hÃ¬nh SSH server.
    - TrÆ°á»›c khi sá»­a: sao lÆ°u, kiá»ƒm tra báº±ng sshd -t, má»Ÿ session thá»© hai Ä‘á»ƒ test.
    - Æ¯u tiÃªn key-based auth, táº¯t password-based khi cÃ³ thá»ƒ, vÃ´ hiá»‡u hÃ³a root login trá»±c tiáº¿p.

End of file.
		
		
		- cmd: ssh devops@web01 uptime
		
ssh devops@web01 uptime

Má»¥c Ä‘Ã­ch:
Thá»±c hiá»‡n káº¿t ná»‘i SSH tá»›i mÃ¡y chá»§ cÃ³ hostname "web01" vá»›i user "devops", sau Ä‘Ã³ cháº¡y lá»‡nh uptime trÃªn mÃ¡y tá»« xa vÃ  in káº¿t quáº£ vá» terminal cá»¥c bá»™. DÃ¹ng Ä‘á»ƒ kiá»ƒm tra thá»i gian cháº¡y (uptime), sá»‘ user Ä‘ang Ä‘Äƒng nháº­p vÃ  3 chá»‰ sá»‘ táº£i trung bÃ¬nh (load average).

Giáº£i thÃ­ch chi tiáº¿t tá»«ng pháº§n:

* ssh: chÆ°Æ¡ng trÃ¬nh Secure Shell dÃ¹ng Ä‘á»ƒ káº¿t ná»‘i an toÃ n tá»›i mÃ¡y tá»« xa.
* devops@web01: chá»‰ Ä‘á»‹nh user (devops) vÃ  host (web01). Host cÃ³ thá»ƒ lÃ  hostname (DNS) hoáº·c Ä‘á»‹a chá»‰ IP (vÃ­ dá»¥: 192.168.1.10).
* uptime: lá»‡nh Ä‘Æ°á»£c truyá»n tá»›i mÃ¡y tá»« xa Ä‘á»ƒ thá»±c thi; in ra thá»i gian hiá»‡n táº¡i, thá»i gian mÃ¡y Ä‘Ã£ cháº¡y, sá»‘ user Ä‘ang Ä‘Äƒng nháº­p vÃ  load averages (1, 5, 15 phÃºt).

VÃ­ dá»¥ thá»±c táº¿ (káº¿t quáº£ máº«u):
$ ssh devops@web01 uptime
09:42:17 up 14 days,  4:03,  3 users,  load average: 0.12, 0.08, 0.05

Giáº£i thÃ­ch tá»«ng trÆ°á»ng trong output uptime:

* 09:42:17: thá»i gian hiá»‡n táº¡i trÃªn mÃ¡y tá»« xa (HH:MM:SS).
* up 14 days, 4:03: thá»i gian mÃ¡y Ä‘Ã£ cháº¡y liÃªn tá»¥c (14 ngÃ y vÃ  4 giá» 3 phÃºt). Náº¿u uptime ngáº¯n sáº½ hiá»ƒn thá»‹ dáº¡ng "up 2 min", "up 3:44", hoáº·c "up 3 days, 2:01".
* 3 users: sá»‘ lÆ°á»£ng ngÆ°á»i dÃ¹ng (sessions) Ä‘ang Ä‘Äƒng nháº­p vÃ o há»‡ thá»‘ng (phiÃªn SSH, console, v.v.).
* load average: 0.12, 0.08, 0.05 â€” táº£i trung bÃ¬nh trÃªn 1, 5 vÃ  15 phÃºt. ÄÃ¢y lÃ  chá»‰ sá»‘ biá»ƒu thá»‹ lÆ°á»£ng cÃ´ng viá»‡c trÃªn CPU/runnable queue; so sÃ¡nh vá»›i sá»‘ lÃµi CPU Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ tÃ¬nh tráº¡ng táº£i (vÃ­ dá»¥ há»‡ thá»‘ng 2 CPU vá»›i load average 4.0 Ä‘ang quÃ¡ táº£i).

CÃ¡c biáº¿n thá»ƒ vÃ  tuá»³ chá»n thÆ°á»ng dÃ¹ng:

* ssh -p 2222 devops@web01 uptime  -> dÃ¹ng port SSH khÃ¡c (2222).
* ssh -i ~/.ssh/id_rsa devops@web01 uptime  -> chá»‰ rÃµ key riÃªng Ä‘á»ƒ xÃ¡c thá»±c.
* ssh -o ConnectTimeout=5 devops@web01 uptime -> Ä‘áº·t timeout káº¿t ná»‘i ngáº¯n hÆ¡n.
* ssh -T devops@web01 "uptime && who" -> thá»±c hiá»‡n nhiá»u lá»‡nh báº±ng cÃ¡ch dÃ¹ng dáº¥u ngoáº·c kÃ©p.

Ká»‹ch báº£n thá»±c thi nguyÃªn lÃ½:

1. SSH client káº¿t ná»‘i tá»›i web01:22 (máº·c Ä‘á»‹nh). Náº¿u host tá»“n táº¡i, client vÃ  server trao Ä‘á»•i khoÃ¡ cÃ´ng khai.
2. XÃ¡c thá»±c: báº±ng máº­t kháº©u hoáº·c báº±ng key. Náº¿u thÃ nh cÃ´ng, shell non-interactive Ä‘Æ°á»£c má»Ÿ Ä‘á»ƒ cháº¡y lá»‡nh uptime.
3. Káº¿t quáº£ uptime Ä‘Æ°á»£c gá»­i qua káº¿t ná»‘i mÃ£ hoÃ¡ vÃ  hiá»ƒn thá»‹ trÃªn terminal cá»§a báº¡n.

Kháº£ nÄƒng bÃ¡o lá»—i thÆ°á»ng gáº·p vÃ  cÃ¡ch kháº¯c phá»¥c:

* ssh: Could not resolve hostname web01: Name or service not known
  -> Hostname khÃ´ng phÃ¢n giáº£i: kiá»ƒm tra /etc/hosts, DNS hoáº·c thay báº±ng IP.
* ssh: connect to host web01 port 22: Connection refused
  -> SSHd trÃªn host cÃ³ thá»ƒ khÃ´ng cháº¡y hoáº·c port khÃ¡c; kiá»ƒm tra dá»‹ch vá»¥ sshd trÃªn web01 hoáº·c firewall.
* ssh: connect to host web01 port 22: Connection timed out
  -> CÃ³ thá»ƒ do máº¡ng, route, firewall cháº·n; kiá»ƒm tra káº¿t ná»‘i máº¡ng vÃ  firewall.
* Permission denied (publickey,password).
  -> XÃ¡c thá»±c tháº¥t báº¡i: kiá»ƒm tra key, quyá»n file (~/.ssh), hay máº­t kháº©u Ä‘Ãºng.
* Host key verification failed.
  -> Chá»©ng thá»±c host Ä‘Ã£ Ä‘á»•i (man-in-the-middle nghi ngá») hoáº·c file known_hosts chá»©a entry khÃ¡c; xÃ¡c minh thá»§ cÃ´ng trÆ°á»›c khi xÃ³a entry cÅ©.
* Command not found: uptime
  -> TrÃªn host tá»« xa lá»‡nh uptime khÃ´ng tá»“n táº¡i (hiáº¿m), hoáº·c mÃ´i trÆ°á»ng PATH khÃ¡c khi thá»±c thi non-interactive. CÃ³ thá»ƒ gá»i báº±ng Ä‘Æ°á»ng dáº«n Ä‘áº§y Ä‘á»§: /usr/bin/uptime.

Quyá»n vÃ  an toÃ n:

* TrÃ¡nh viáº¿t máº­t kháº©u trá»±c tiáº¿p trong lá»‡nh. DÃ¹ng SSH keys vá»›i passphrase vÃ  ssh-agent.
* Háº¡n cháº¿ user cÃ³ quyá»n SSH: cáº¥u hÃ¬nh AllowUsers/AllowGroups trong /etc/ssh/sshd_config.
* XÃ¡c minh host key láº§n Ä‘áº§u (accepted fingerprint) Ä‘á»ƒ phÃ²ng MITM.

Lá»‡nh liÃªn quan há»¯u Ã­ch Ä‘á»ƒ kiá»ƒm tra thÃªm:

* who, w  -> xem ai Ä‘ang Ä‘Äƒng nháº­p vÃ  hoáº¡t Ä‘á»™ng cá»§a há».
* top, htop  -> xem tiáº¿n trÃ¬nh vÃ  sá»­ dá»¥ng CPU/Memory realtime.
* cat /proc/uptime  -> thÃ´ng tin uptime á»Ÿ Ä‘á»‹nh dáº¡ng sá»‘ giÃ¢y.
* ssh devops@web01 "cat /proc/loadavg"  -> láº¥y loadavg thÃ´.
* uptime -p  -> in uptime á»Ÿ dáº¡ng thÃ¢n thiá»‡n: "up 14 days, 4 hours, 3 minutes" (náº¿u cÃ³ trÃªn distro).
* ssh -v devops@web01 uptime  -> báº­t verbose Ä‘á»ƒ debug káº¿t ná»‘i SSH.

Ghi chÃº vá» Ä‘Ã¡nh giÃ¡ load average:

* Load average thá»ƒ hiá»‡n Ä‘á»™ dÃ i queue cá»§a tiáº¿n trÃ¬nh chá» CPU I/O. Äá»ƒ biáº¿t há»‡ thá»‘ng cÃ³ bá»‹ quÃ¡ táº£i hay khÃ´ng, so sÃ¡nh giÃ¡ trá»‹ load average vá»›i sá»‘ lÃµi CPU. VÃ­ dá»¥: load 2.0 trÃªn há»‡ 2 lÃµi ~ Ä‘áº§y táº£i; trÃªn 8 lÃµi thÃ¬ ráº£nh.

VÃ­ dá»¥ thao tÃ¡c an toÃ n:

* Thá»±c hiá»‡n vá»›i key:
  ssh -i ~/.ssh/id_ed25519 devops@web01 uptime
* Debug káº¿t ná»‘i khi lá»—i:
  ssh -vvv devops@web01 uptime

TÃ³m táº¯t ngáº¯n (1 dÃ²ng):
ssh devops@web01 uptime â€” káº¿t ná»‘i SSH tá»›i web01 vá»›i user devops vÃ  cháº¡y lá»‡nh uptime trÃªn mÃ¡y tá»« xa Ä‘á»ƒ kiá»ƒm tra thá»i gian cháº¡y, sá»‘ user vÃ  load average.

---

End of file.
		
		
		- cmd: ssh-keygen
		
SSH-KEYGEN - GIáº¢I THÃCH CHI TIáº¾T

Lá»‡nh máº«u:
ssh-keygen

Má»¥c Ä‘Ã­ch (tÃ³m táº¯t):
ssh-keygen lÃ  cÃ´ng cá»¥ táº¡o cáº·p khÃ³a SSH (private key + public key). KhÃ³a nÃ y dÃ¹ng cho xÃ¡c thá»±c khÃ´ng máº­t kháº©u (key-based authentication) khi káº¿t ná»‘i SSH, hoáº·c cho cÃ¡c má»¥c Ä‘Ã­ch mÃ£ hÃ³a/chá»¯ kÃ½ khÃ¡c.

Vá»‹ trÃ­ máº·c Ä‘á»‹nh cá»§a khÃ³a:

* Private key: ~/.ssh/id_rsa  (hoáº·c id_ed25519, id_ecdsa, ...)
* Public key:  ~/.ssh/id_rsa.pub

CÃ¡c bÆ°á»›c cÆ¡ báº£n khi cháº¡y `ssh-keygen`:

1. Cháº¡y `ssh-keygen` hoáº·c `ssh-keygen -t ed25519`.
2. Há»‡ thá»‘ng há»i nÆ¡i lÆ°u file (máº·c Ä‘á»‹nh lÃ  `~/.ssh/id_<type>`). Nháº¥n Enter Ä‘á»ƒ cháº¥p nháº­n.
3. Há»‡ thá»‘ng há»i passphrase (máº­t kháº©u báº£o vá»‡ private key). Báº¡n cÃ³ thá»ƒ Ä‘á»ƒ trá»‘ng (khÃ´ng an toÃ n) hoáº·c nháº­p passphrase Ä‘á»ƒ tÄƒng báº£o máº­t.
4. Káº¿t thÃºc: cáº·p khÃ³a Ä‘Æ°á»£c táº¡o, fingerprint vÃ  ná»™i dung public key Ä‘Æ°á»£c hiá»ƒn thá»‹ tÃ³m táº¯t.

TÃ¹y chá»n thÆ°á»ng dÃ¹ng:

* -t <type> : Kiá»ƒu khÃ³a. VÃ­ dá»¥ `ed25519`, `rsa`, `ecdsa`, `dsa`.
  VÃ­ dá»¥ model hiá»‡n Ä‘áº¡i vÃ  khuyáº¿n nghá»‹: `ed25519`.
* -b <bits> : Sá»‘ bit cho khÃ³a (chá»‰ dÃ¹ng vá»›i RSA/DSA). VÃ­ dá»¥ `-b 4096` cho RSA.
* -C "comment" : ThÃªm chÃº thÃ­ch vÃ o public key (thÆ°á»ng dÃ¹ng email hoáº·c mÃ´ táº£), vÃ­ dá»¥ `-C "tuan@laptop"`.
* -f <filename> : Chá»‰ Ä‘á»‹nh file output (private key). VÃ­ dá»¥ `-f ~/.ssh/id_ed25519_work`.
* -N <passphrase> : Thiáº¿t láº­p passphrase khÃ´ng tÆ°Æ¡ng tÃ¡c (dÃ¹ng trong script). VÃ­ dá»¥ `-N ""` Ä‘á»ƒ táº¡o key khÃ´ng passphrase.
* -q : Cháº¿ Ä‘á»™ im láº·ng (quiet).
* -y : Chuyá»ƒn private key sang public key (in public key). VÃ­ dá»¥ `ssh-keygen -y -f ~/.ssh/id_rsa > id_rsa.pub`.
* -p : Thay Ä‘á»•i passphrase cho private key hiá»‡n cÃ³.
* -l : Hiá»ƒn thá»‹ fingerprint cá»§a public key (vÃ­ dá»¥ `ssh-keygen -l -f ~/.ssh/id_rsa.pub`).

VÃ­ dá»¥ Ä‘áº§y Ä‘á»§:

1. Táº¡o khÃ³a ED25519 (khuyáº¿n nghá»‹ hiá»‡n nay):
   ssh-keygen -t ed25519 -C "tuan@laptop"

2. Táº¡o khÃ³a RSA 4096-bit:
   ssh-keygen -t rsa -b 4096 -C "tuan@laptop"

3. Táº¡o key vá»›i tÃªn file tÃ¹y chá»n vÃ  khÃ´ng passphrase (dÃ¹ng trong script tá»± Ä‘á»™ng):
   ssh-keygen -t ed25519 -f ~/.ssh/id_ed25519_deploy -N ""

4. Láº¥y public key tá»« private key hiá»‡n cÃ³:
   ssh-keygen -y -f ~/.ssh/id_rsa > ~/.ssh/id_rsa.pub

Quyá»n file vÃ  báº£o máº­t:

* Private key (vÃ­ dá»¥ `~/.ssh/id_rsa`) pháº£i cÃ³ quyá»n 600 (rw-------).
  Sá»­a: `chmod 600 ~/.ssh/id_rsa`.
* ThÆ° má»¥c `~/.ssh` nÃªn lÃ  700 (rwx------).
  Sá»­a: `chmod 700 ~/.ssh`.
* KhÃ´ng chia sáº» private key; chá»‰ chia sáº» public key (`*.pub`).
* DÃ¹ng passphrase Ä‘á»ƒ tÄƒng báº£o máº­t náº¿u private key cÃ³ thá»ƒ bá»‹ lá»™.

Sá»­ dá»¥ng vá»›i ssh-agent (Ä‘á»ƒ khÃ´ng nháº­p passphrase má»—i láº§n):

1. Khá»Ÿi Ä‘á»™ng ssh-agent (Linux/macOS):
   eval "$(ssh-agent -s)"
2. ThÃªm private key vÃ o agent:
   ssh-add ~/.ssh/id_ed25519
3. Kiá»ƒm tra keys Ä‘ang load: `ssh-add -l`

Chuyá»ƒn Ä‘á»•i/Ä‘á»•i Ä‘á»‹nh dáº¡ng vÃ  tÆ°Æ¡ng thÃ­ch:

* OpenSSH <-> PEM (Ä‘Ã´i khi cáº§n cho má»™t sá»‘ pháº§n má»m):
  ssh-keygen cÃ³ thá»ƒ chuyá»ƒn Ä‘á»•i Ä‘á»‹nh dáº¡ng private key (tÃ¹y lá»‡nh, vÃ­ dá»¥ `-p` vá»›i `-m PEM`).
* Putty (Windows) dÃ¹ng Ä‘á»‹nh dáº¡ng `.ppk`; dÃ¹ng `puttygen` Ä‘á»ƒ chuyá»ƒn Ä‘á»•i giá»¯a OpenSSH vÃ  PPK.

Fingerprint vÃ  xÃ¡c thá»±c:

* Xem fingerprint cá»§a public key:
  ssh-keygen -lf ~/.ssh/id_ed25519.pub
* So sÃ¡nh fingerprint khi thÃªm key vÃ o server (Ä‘áº·c biá»‡t cho host keys khi láº§n Ä‘áº§u káº¿t ná»‘i).

Sá»­a passphrase cho private key:
ssh-keygen -p -f ~/.ssh/id_rsa

Má»™t vÃ i lÆ°u Ã½ vÃ  máº¹o:

* ED25519 nhanh, an toÃ n vÃ  lÃ  lá»±a chá»n tá»‘t cho háº§u háº¿t trÆ°á»ng há»£p. RSA nÃªn dÃ¹ng 3072 hoáº·c 4096 bit náº¿u cáº§n tÆ°Æ¡ng thÃ­ch cÅ©.
* TrÃ¡nh dÃ¹ng DSA (dsa) â€” khÃ´ng cÃ²n an toÃ n.
* Náº¿u táº¡o key cho CI/CD hoáº·c deployment, cÃ¢n nháº¯c táº¡o key khÃ´ng passphrase, lÆ°u private key an toÃ n (secret manager) vÃ  giá»›i háº¡n quyá»n trÃªn server (chá»‰ cho phÃ©p cÃ¡c lá»‡nh cáº§n thiáº¿t hoáº·c dÃ¹ng user Ã­t quyá»n).
* Sá»­ dá»¥ng `-C` Ä‘á»ƒ dá»… biáº¿t key thuá»™c thiáº¿t bá»‹ nÃ o khi Ä‘á»c `authorized_keys`.

Kháº¯c phá»¥c sá»± cá»‘ thÆ°á»ng gáº·p:

* "Permission denied (publickey)": kiá»ƒm tra `authorized_keys` trÃªn server, quyá»n file/thÆ° má»¥c, vÃ  cháº¯c cháº¯n public key Ä‘Ã£ Ä‘Æ°á»£c copy Ä‘Ãºng.
* "bad passphrase" khi dÃ¹ng ssh-add: nháº­p Ä‘Ãºng passphrase hoáº·c dÃ¹ng `ssh-keygen -p` Ä‘á»ƒ Ä‘á»•i.
* Náº¿u sshd trÃªn server tá»« chá»‘i key: kiá»ƒm tra `sshd_config` (PubkeyAuthentication yes, AuthorizedKeysFile Ä‘Ãºng Ä‘Æ°á»ng dáº«n).

Káº¿t luáº­n ngáº¯n:

* `ssh-keygen` táº¡o cáº·p khÃ³a an toÃ n Ä‘á»ƒ xÃ¡c thá»±c SSH khÃ´ng cáº§n máº­t kháº©u. Sá»­ dá»¥ng `ed25519` náº¿u cÃ³ thá»ƒ, báº£o vá»‡ private key báº±ng passphrase vÃ  quáº£n lÃ½ private key cáº©n trá»ng.

---

Háº¾T

(ÄÃ¢y lÃ  text plain, báº¡n cÃ³ thá»ƒ sao chÃ©p toÃ n bá»™ vÃ  dÃ¡n vÃ o file .txt.)
		
		
		- cmd: ssh-copy-id devops@web01
		
TiÃªu Ä‘á»: Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: ssh-copy-id devops@web01
(Ná»™i dung á»Ÿ dáº¡ng PLAIN TEXT â€” cÃ³ thá»ƒ copy toÃ n bá»™ vÃ o file .txt)

1) CÃ¢u lá»‡nh gá»‘c
   ssh-copy-id devops@web01

2) Má»¥c Ä‘Ã­ch
   Sao chÃ©p (cÃ i) public SSH key tá»« mÃ¡y local vÃ o tÃ i khoáº£n "devops" trÃªn mÃ¡y tá»« xa "web01",
   Ä‘á»ƒ sau nÃ y cÃ³ thá»ƒ Ä‘Äƒng nháº­p báº±ng key (khÃ´ng cáº§n password). CÃ´ng cá»¥ ssh-copy-id tá»± Ä‘á»™ng
   thÃªm public key vÃ o file ~/.ssh/authorized_keys trÃªn mÃ¡y tá»« xa, Ä‘á»“ng thá»i cá»‘ gáº¯ng táº¡o thÆ° má»¥c
   ~/.ssh vÃ  thiáº¿t láº­p quyá»n há»£p lá»‡ náº¿u cáº§n.

3) PhÃ¢n tÃ­ch tá»«ng pháº§n
   - ssh-copy-id
     : Tiá»‡n Ã­ch nhá» dÃ¹ng Ä‘á»ƒ copy public SSH key lÃªn mÃ¡y tá»« xa (Ä‘i kÃ¨m vá»›i OpenSSH trÃªn nhiá»u distro).
       NÃ³ thá»±c hiá»‡n cÃ¡c thao tÃ¡c an toÃ n: kiá»ƒm tra tá»“n táº¡i ~/.ssh, táº¡o náº¿u thiáº¿u, set permission,
       vÃ  append public key vÃ o ~/.ssh/authorized_keys (khÃ´ng ghi Ä‘Ã¨).
   - devops
     : TÃªn ngÆ°á»i dÃ¹ng (username) trÃªn mÃ¡y tá»« xa â€” báº¡n sáº½ thÃªm public key cho user nÃ y.
   - @
     : Dáº¥u phÃ¢n tÃ¡ch giá»¯a username vÃ  host.
   - web01
     : Hostname hoáº·c Ä‘á»‹a chá»‰ IP cá»§a mÃ¡y tá»« xa (vÃ­ dá»¥: web01 hoáº·c 192.168.10.13). CÃ³ thá»ƒ lÃ  tÃªn
       Ä‘Æ°á»£c Ã¡nh xáº¡ trong /etc/hosts hoáº·c DNS.

4) Äiá»u kiá»‡n tiÃªn quyáº¿t (preconditions)
   - TrÃªn mÃ¡y local Ä‘Ã£ cÃ³ cáº·p key SSH (private + public). Máº·c Ä‘á»‹nh:
       * private: ~/.ssh/id_rsa  (hoáº·c id_ed25519)
       * public : ~/.ssh/id_rsa.pub (hoáº·c id_ed25519.pub)
     Náº¿u chÆ°a cÃ³, táº¡o báº±ng: ssh-keygen -t ed25519  (hoáº·c: ssh-keygen -t rsa -b 4096)
   - MÃ¡y tá»« xa (web01) Ä‘ang cháº¡y dá»‹ch vá»¥ SSH vÃ  cÃ³ thá»ƒ truy cáº­p Ä‘Æ°á»£c qua máº¡ng.
   - Báº¡n biáº¿t password cá»§a user devops (hoáº·c Ä‘Ã£ cÃ³ quyá»n sudo/truy cáº­p tÆ°Æ¡ng á»©ng) Ä‘á»ƒ ssh-copy-id thá»±c hiá»‡n láº§n Ä‘áº§u.
   - TrÃªn local, ssh-copy-id pháº£i cÃ³ sáºµn (thÆ°á»ng cÃ³ trÃªn há»‡ Linux/macOS). TrÃªn Windows báº¡n cÃ³ thá»ƒ dÃ¹ng Git Bash / WSL hoáº·c cÃ i OpenSSH.

5) Hoáº¡t Ä‘á»™ng thá»±c táº¿ khi cháº¡y
   - ssh-copy-id tÃ¬m public key(s) trong ~/.ssh (máº·c Ä‘á»‹nh) hoáº·c file báº¡n chá»‰ Ä‘á»‹nh.
   - Káº¿t ná»‘i Ä‘áº¿n devops@web01 (sáº½ hiá»ƒn thá»‹ prompt nháº­p password náº¿u cáº§n).
   - Táº¡o thÆ° má»¥c ~/.ssh trÃªn web01 náº¿u chÆ°a tá»“n táº¡i, thiáº¿t láº­p quyá»n (700 cho ~/.ssh).
   - ThÃªm public key vÃ o ~/.ssh/authorized_keys (append, trÃ¡nh duplicate).
   - Thiáº¿t láº­p quyá»n cho authorized_keys (600).
   - Tráº£ vá» tráº¡ng thÃ¡i thÃ nh cÃ´ng/ lá»—i.

6) TÃ¹y chá»n há»¯u Ã­ch
   - Chá»‰ Ä‘á»‹nh public key cá»¥ thá»ƒ:
       ssh-copy-id -i /path/to/mykey.pub devops@web01
     (dÃ¹ng khi báº¡n cÃ³ nhiá»u key vÃ  muá»‘n cÃ i key cá»¥ thá»ƒ)
   - Chá»‰ Ä‘á»‹nh port SSH khÃ´ng máº·c Ä‘á»‹nh:
     * CÃ¡ch an toÃ n (khuyÃªn dÃ¹ng): ssh-copy-id -o "Port=2222" devops@web01
       (dÃ¹ng tÃ¹y chá»n -o Ä‘á»ƒ chuyá»ƒn trá»±c tiáº¿p tÃ¹y chá»n tá»›i ssh)
     * Má»™t sá»‘ há»‡ thá»‘ng cho phÃ©p: ssh-copy-id -p 2222 devops@web01  (khÃ´ng pháº£i má»i phiÃªn báº£n Ä‘á»u há»— trá»£)
   - Cháº¿ Ä‘á»™ verbose (debug): ssh-copy-id -v devops@web01
   - DÃ¹ng key cÃ³ passphrase: ssh-agent vÃ  ssh-add Ä‘á»ƒ unlock private key trÆ°á»›c khi cháº¡y.
   - Truyá»n thÃªm tÃ¹y chá»n SSH (vÃ­ dá»¥ StrictHostKeyChecking): ssh-copy-id -o 'StrictHostKeyChecking=no' devops@web01
     (khÃ´ng khuyáº¿n nghá»‹ trÃªn mÃ´i trÆ°á»ng production trá»« khi hiá»ƒu rÃµ háº­u quáº£)

7) VÃ­ dá»¥ thá»±c táº¿
   - VÃ­ dá»¥ cÆ¡ báº£n (máº·c Ä‘á»‹nh public key ~/.ssh/id_ed25519.pub):
       ssh-copy-id devops@web01
     Sau Ä‘Ã³ há»‡ thá»‘ng yÃªu cáº§u password cá»§a user devops; nháº­p password Ä‘á»ƒ cÃ i key.
   - VÃ­ dá»¥ chá»‰ Ä‘á»‹nh file public key:
       ssh-copy-id -i ~/.ssh/id_rsa.pub devops@web01
   - VÃ­ dá»¥ port khÃ¡c (Port 2222):
       ssh-copy-id -o "Port=2222" -i ~/.ssh/id_ed25519.pub devops@web01

8) Khi dÃ¹ng vá»›i Vagrant / VM
   - Náº¿u VM forward SSH trÃªn port khÃ¡c, dÃ¹ng -o "Port=XXXX" hoáº·c chá»‰ Ä‘á»‹nh IdentityFile:
       ssh-copy-id -i .vagrant/machines/default/virtualbox/private_key.pub -o "Port=2222" vagrant@127.0.0.1
   - LÆ°u Ã½: private_key cá»§a Vagrant Ä‘Ã´i khi lÃ  private (khÃ´ng cÃ³ .pub); báº¡n cáº§n public key tÆ°Æ¡ng á»©ng.

9) Lá»—i thÆ°á»ng gáº·p & cÃ¡ch kháº¯c phá»¥c
   - "ssh-copy-id: no identities found" hoáº·c "could not open a connection to your authentication agent"
     -> KhÃ´ng tÃ¬m tháº¥y public key: cháº¡y ssh-keygen Ä‘á»ƒ táº¡o key, hoáº·c chá»‰ Ä‘á»‹nh -i path/to/key.pub.
     -> Náº¿u dÃ¹ng ssh-agent, hÃ£y cháº¡y: eval "$(ssh-agent -s)" && ssh-add ~/.ssh/id_rsa
   - "Permission denied (publickey,password)." hoáº·c "Permission denied, please try again."
     -> Password sai, hoáº·c user devops khÃ´ng cho phÃ©p password auth (chá»‰ publickey). Náº¿u bá»‹ khÃ³a, cáº§n admin can thiá»‡p.
   - "Connection refused" / "Network is unreachable" / "No route to host"
     -> MÃ¡y tá»« xa khÃ´ng reachable; kiá»ƒm tra máº¡ng, DNS, firewall, port.
   - "WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!"
     -> Host key trÃªn web01 Ä‘Ã£ thay Ä‘á»•i; kiá»ƒm tra nguyÃªn nhÃ¢n (cÃ³ thá»ƒ VM rebuild). Náº¿u an toÃ n, xoÃ¡ dÃ²ng host trong ~/.ssh/known_hosts rá»“i thá»­ láº¡i.
   - "Failed to add the host to the list of known hosts"
     -> Quyá»n file ~/.ssh/known_hosts/authorized_keys trÃªn server cÃ³ váº¥n Ä‘á»; cáº§n sá»­a permission trÃªn server (700 cho ~/.ssh, 600 cho authorized_keys).
   - "Authentication agent refused operation"
     -> Kiá»ƒm tra ssh-agent/ssh-add; hoáº·c chá»‰ Ä‘á»‹nh trá»±c tiáº¿p file public/private.

10) Váº¥n Ä‘á» vá» quyá»n file
    - TrÃªn mÃ¡y server ~/.ssh pháº£i cÃ³ quyá»n 700 (drwx------).
    - File ~/.ssh/authorized_keys pháº£i cÃ³ quyá»n 600 (-rw-------).
    - Náº¿u quyá»n quÃ¡ má»Ÿ, sshd cÃ³ thá»ƒ tá»« chá»‘i public key auth.

11) Báº£o máº­t & lÆ°u Ã½
    - ssh-copy-id chá»‰ **append** public key; nÃ³ khÃ´ng xÃ³a keys hiá»‡n cÃ³.
    - Kiá»ƒm tra ká»¹ username (devops) â€” náº¿u gÃµ nháº§m user, key sáº½ náº±m á»Ÿ tÃ i khoáº£n khÃ¡c.
    - TrÃ¡nh dÃ¹ng cÃ¡c flags táº¯t kiá»ƒm tra host key (StrictHostKeyChecking=no) trÃªn mÃ´i trÆ°á»ng nháº¡y cáº£m.
    - CÃ³ thá»ƒ kiá»ƒm tra káº¿t ná»‘i sau khi cÃ i: ssh devops@web01  (nÃªn khÃ´ng cÃ²n há»i password náº¿u key/cáº¥u hÃ¬nh Ä‘Ãºng).

12) Kiá»ƒm tra sau khi cÃ i
    - TrÃªn server (web01) â€” sau khi ssh-copy-id thÃ nh cÃ´ng, kiá»ƒm tra:
        ls -la ~/.ssh
        cat ~/.ssh/authorized_keys
      (kiá»ƒm tra public key Ä‘Ã£ Ä‘Æ°á»£c thÃªm vÃ o, khÃ´ng cÃ³ duplicate náº¿u khÃ´ng cáº§n)
    - Tá»« local, thá»­ Ä‘Äƒng nháº­p:
        ssh devops@web01
      Náº¿u váº«n há»i password, debug báº±ng ssh -v devops@web01 Ä‘á»ƒ xem nguyÃªn nhÃ¢n (agent, key, quyá»n).

13) TÃ³m táº¯t ngáº¯n gá»n (1 dÃ²ng)
    ssh-copy-id devops@web01 â€” nhanh chÃ³ng vÃ  an toÃ n thÃªm public SSH key cá»§a báº¡n vÃ o tÃ i khoáº£n devops trÃªn web01 Ä‘á»ƒ cho phÃ©p Ä‘Äƒng nháº­p báº±ng key (khÃ´ng cáº§n máº­t kháº©u).

--- Káº¾T THÃšC ---
(ÄÃ¢y lÃ  plain text, báº¡n cÃ³ thá»ƒ copy nguyÃªn khá»‘i trÃªn vÃ  dÃ¡n vÃ o file .txt)
		
		
		- cmd: ssh -i .ssh/id_rsa devops@web01 uptime
		
TiÃªu Ä‘á»: Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: ssh -i .ssh/id_rsa devops@web01 uptime
---------------------------------------------------------------------

TÃ³m táº¯t ngáº¯n (1 cÃ¢u):
  Lá»‡nh `ssh -i .ssh/id_rsa devops@web01 uptime` dÃ¹ng SSH vá»›i khoÃ¡ riÃªng (private key) á»Ÿ Ä‘Æ°á»ng dáº«n `.ssh/id_rsa` Ä‘á»ƒ Ä‘Äƒng nháº­p vÃ o mÃ¡y `web01` vá»›i user `devops` vÃ  thá»±c thi lá»‡nh `uptime` trÃªn mÃ¡y tá»« xa, sau Ä‘Ã³ in káº¿t quáº£ vÃ  Ä‘Ã³ng káº¿t ná»‘i.

1) CÃº phÃ¡p Ä‘áº§y Ä‘á»§ cá»§a lá»‡nh nÃ y
  ssh -i .ssh/id_rsa devops@web01 uptime

  - `ssh`             : chÆ°Æ¡ng trÃ¬nh Secure Shell (SSH) client.
  - `-i .ssh/id_rsa`  : chá»‰ Ä‘á»‹nh file private key Ä‘á»ƒ xÃ¡c thá»±c (á»Ÿ Ä‘Ã¢y lÃ  `.ssh/id_rsa`). 
                        **ChÃº Ã½:** `.ssh/id_rsa` lÃ  Ä‘Æ°á»ng dáº«n *tÆ°Æ¡ng Ä‘á»‘i* so vá»›i thÆ° má»¥c hiá»‡n táº¡i. ThÃ´ng dá»¥ng hÆ¡n lÃ  `~/.ssh/id_rsa` (Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i tá»›i thÆ° má»¥c home).
  - `devops@web01`    : user `devops` trÃªn host `web01`. Host cÃ³ thá»ƒ lÃ  hostname (DNS) hoáº·c entry trong `/etc/hosts`.
  - `uptime`          : lá»‡nh Ä‘Æ°á»£c gá»­i Ä‘á»ƒ thá»±c thi trÃªn mÃ¡y tá»« xa; SSH sáº½ cháº¡y `uptime`, in káº¿t quáº£ ra stdout local vÃ  káº¿t ná»‘i sáº½ Ä‘Ã³ng ngay khi lá»‡nh káº¿t thÃºc.

2) Má»¥c Ä‘Ã­ch & hÃ nh vi
  - Má»¥c Ä‘Ã­ch: kiá»ƒm tra thá»i gian Ä‘Ã£ cháº¡y (uptime), sá»‘ lÆ°á»£ng ngÆ°á»i dÃ¹ng Ä‘ang Ä‘Äƒng nháº­p vÃ  má»©c táº£i há»‡ thá»‘ng (load average) trÃªn host `web01` báº±ng cÃ¡ch thá»±c thi lá»‡nh tá»« xa.
  - HÃ nh vi: SSH sáº½:
      1. Khá»Ÿi táº¡o káº¿t ná»‘i TCP tá»›i port 22 cá»§a `web01` (máº·c Ä‘á»‹nh).
      2. Thá»±c hiá»‡n báº¯t tay (handshake) vÃ  xÃ¡c thá»±c báº±ng khoÃ¡ riÃªng/khÃ³a cÃ´ng khai (private/public key).
      3. Náº¿u xÃ¡c thá»±c thÃ nh cÃ´ng, cháº¡y `uptime` trÃªn shell tá»« xa, truyá»n stdout/stderr vá» terminal local.
      4. ÄÃ³ng káº¿t ná»‘i khi lá»‡nh hoÃ n thÃ nh.

3) ÄÆ°á»ng dáº«n file khoÃ¡ riÃªng (`-i`) â€” lÆ°u Ã½ quan trá»ng
  - Quy Æ°á»›c phá»• biáº¿n: private key náº±m á»Ÿ `~/.ssh/id_rsa` (hoáº·c `~/.ssh/id_ed25519`).
  - Náº¿u báº¡n viáº¿t `-i .ssh/id_rsa`:
      - Ä‘Ã³ lÃ  Ä‘Æ°á»ng dáº«n *tÆ°Æ¡ng Ä‘á»‘i* (vÃ­ dá»¥ náº¿u báº¡n á»Ÿ `/home/user` thÃ¬ thá»±c táº¿ lÃ  `/home/user/.ssh/id_rsa`).
      - ThÆ°á»ng an toÃ n hÆ¡n dÃ¹ng `-i ~/.ssh/id_rsa`.
  - Quyá»n file: private key pháº£i cÃ³ permission cháº·t (vÃ­ dá»¥ `chmod 600 ~/.ssh/id_rsa`) náº¿u khÃ´ng SSH sáº½ phÃ n nÃ n vÃ  tá»« chá»‘i dÃ¹ng file Ä‘Ã³.

4) Náº¿u private key cÃ³ passphrase
  - Khi private key Ä‘Æ°á»£c mÃ£ hoÃ¡ báº±ng passphrase, SSH sáº½ yÃªu cáº§u nháº­p passphrase (prompt) â€” hoáº·c báº¡n cÃ³ thá»ƒ dÃ¹ng ssh-agent (`ssh-add`) Ä‘á»ƒ lÆ°u passphrase trong phiÃªn lÃ m viá»‡c.
  - VÃ­ dá»¥: `eval "$(ssh-agent -s)"; ssh-add ~/.ssh/id_rsa` â€” sau Ä‘Ã³ cháº¡y `ssh -i ...` sáº½ khÃ´ng yÃªu cáº§u nháº­p láº¡i passphrase.

5) Hostname `web01` resolvability
  - `web01` pháº£i Ä‘Æ°á»£c phÃ¢n giáº£i (DNS) hoáº·c cÃ³ entry trong `/etc/hosts` (vÃ­ dá»¥ `192.0.2.5 web01`) hoáº·c báº¡n cÃ³ `~/.ssh/config` vá»›i `Host web01` vÃ  `Hostname 192.0.2.5`.
  - Náº¿u khÃ´ng phÃ¢n giáº£i Ä‘Æ°á»£c: lá»—i `ssh: Could not resolve hostname web01: Name or service not known`.

6) Port SSH khÃ´ng máº·c Ä‘á»‹nh
  - Náº¿u server SSH cháº¡y á»Ÿ port khÃ¡c (khÃ´ng 22), dÃ¹ng `-p`:
      ssh -i ~/.ssh/id_rsa -p 2222 devops@web01 uptime

7) Ã nghÄ©a káº¿t quáº£ `uptime`
  - VÃ­ dá»¥ káº¿t quáº£:
      18:20:01 up 5 days,  3:12,  2 users,  load average: 0.00, 0.01, 0.05
    - `18:20:01` : thá»i gian hiá»‡n táº¡i trÃªn mÃ¡y tá»« xa.
    - `up 5 days, 3:12` : mÃ¡y Ä‘Ã£ hoáº¡t Ä‘á»™ng (uptime) trong 5 ngÃ y 3 giá» 12 phÃºt.
    - `2 users` : cÃ³ 2 user Ä‘ang Ä‘Äƒng nháº­p.
    - `load average: 0.00, 0.01, 0.05` : táº£i trung bÃ¬nh trong 1, 5, 15 phÃºt.

8) Exit code / tráº¡ng thÃ¡i tráº£ vá»
  - Náº¿u SSH thÃ nh cÃ´ng vÃ  lá»‡nh `uptime` cháº¡y xong, exit code cá»§a ssh trÃªn mÃ¡y local sáº½ báº±ng exit code cá»§a lá»‡nh tá»« xa (0 náº¿u thÃ nh cÃ´ng).
  - Náº¿u cÃ³ lá»—i (xÃ¡c thá»±c tháº¥t báº¡i, host unreachable,..) thÃ¬ ssh tráº£ mÃ£ khÃ¡c (khÃ´ng 0). Trong script, kiá»ƒm tra báº±ng `$?` hoáº·c `if ssh ... ; then ...`.

9) ThÃ´ng bÃ¡o lá»—i thÆ°á»ng gáº·p vÃ  cÃ¡ch kháº¯c phá»¥c
  - `Permission denied (publickey).`  â†’ private key khÃ´ng khá»›p hoáº·c user khÃ´ng cÃ³ public key trong `~devops/.ssh/authorized_keys`. Kiá»ƒm tra public key, quyá»n `~/.ssh` vÃ  `authorized_keys`.
  - `Warning: Identity file .ssh/id_rsa not accessible: No such file or directory` â†’ file key khÃ´ng tá»“n táº¡i (Ä‘Æ°á»ng dáº«n sai).
  - `Bad permissions: ignore key` â†’ private key cÃ³ quyá»n khÃ´ng phÃ¹ há»£p; cháº¡y `chmod 600 ~/.ssh/id_rsa`.
  - `ssh: connect to host web01 port 22: Connection refused` â†’ SSH server khÃ´ng cháº¡y hoáº·c firewall cháº·n.
  - `Could not resolve hostname web01` â†’ hostname khÃ´ng resolvable; kiá»ƒm tra DNS hoáº·c `/etc/hosts`.
  - `Host key verification failed.` â†’ host key thay Ä‘á»•i; kiá»ƒm tra `~/.ssh/known_hosts` (cáº©n trá»ng: cÃ³ thá»ƒ lÃ  man-in-the-middle).

10) ThÃ´ng tin báº£o máº­t & best practices
  - KhÃ´ng chia sáº» private key; giá»¯ permission cháº·t (`600`) vÃ  ownership Ä‘Ãºng.
  - DÃ¹ng passphrase cho private key; dÃ¹ng `ssh-agent` Ä‘á»ƒ quáº£n lÃ½ passphrase.
  - Sá»­ dá»¥ng public key auth thay vÃ¬ máº­t kháº©u khi cÃ³ thá»ƒ.
  - Kiá»ƒm tra `known_hosts` khi fingerprint host thay Ä‘á»•i â€” xÃ¡c minh trÆ°á»›c khi xÃ³a entry.
  - Náº¿u dÃ¹ng lá»‡nh tá»± Ä‘á»™ng trong script/CI, cÃ¢n nháº¯c dÃ¹ng key cÃ³ pháº¡m vi háº¡n cháº¿ hoáº·c agent forwarding Ä‘Æ°á»£c báº£o vá»‡.

11) VÃ­ dá»¥ nÃ¢ng cao / ká»‹ch báº£n sá»­ dá»¥ng
  - Cháº¡y vÃ  in output (ká»‹ch báº£n shell):
      if ssh -i ~/.ssh/id_rsa devops@web01 uptime >/tmp/web01_uptime.txt; then
          echo "OK: uptime saved to /tmp/web01_uptime.txt"
      else
          echo "ERROR: ssh or uptime failed"
      fi

  - ThÃªm `-o ConnectTimeout=5` Ä‘á»ƒ giá»›i háº¡n thá»i gian chá»:
      ssh -o ConnectTimeout=5 -i ~/.ssh/id_rsa devops@web01 uptime

  - DÃ¹ng verbose Ä‘á»ƒ debug:
      ssh -v -i ~/.ssh/id_rsa devops@web01 uptime
    (CÃ³ thá»ƒ láº·p `-vvv` Ä‘á»ƒ cÃ³ thÃ´ng tin chi tiáº¿t hÆ¡n.)

  - Sá»­ dá»¥ng config file `~/.ssh/config` Ä‘á»ƒ trÃ¡nh viáº¿t `-i` má»—i láº§n:
      Host web01
        HostName 192.0.2.5
        User devops
        IdentityFile ~/.ssh/id_rsa
    Sau Ä‘Ã³ chá»‰ cáº§n: `ssh web01 uptime`

12) Sá»­ dá»¥ng trong automation (Ansible / scripts)
  - Náº¿u cáº§n kiá»ƒm tra nhiá»u host, dÃ¹ng cÃ´ng cá»¥ quáº£n lÃ½ (Ansible) thay vÃ¬ vÃ²ng láº·p ssh thá»§ cÃ´ng.
  - TrÃ¡nh Ä‘áº·t passphrase/plain password trong script. Náº¿u pháº£i, báº£o vá»‡ file khoÃ¡ vá»›i permission cháº·t.

13) TÃ³m táº¯t nhanh cÃ¡c bÆ°á»›c kiá»ƒm tra khi lá»‡nh khÃ´ng cháº¡y
  - Kiá»ƒm tra file key tá»“n táº¡i vÃ  permission (`ls -l .ssh/id_rsa`, `chmod 600`).
  - Kiá»ƒm tra hostname cÃ³ thá»ƒ ping/resolve.
  - Kiá»ƒm tra port SSH (telnet web01 22 hoáº·c `nc -vz web01 22`).
  - Cháº¡y `ssh -v` Ä‘á»ƒ Ä‘á»c log debug.
  - Kiá»ƒm tra `authorized_keys` trÃªn `web01` (náº¿u cÃ³ quyá»n root) vÃ  permission cá»§a `~/.ssh` vÃ  `authorized_keys`.

14) Máº«u file hÆ°á»›ng dáº«n (plain text) Ä‘á»ƒ copy vÃ o .txt
  TiÃªu Ä‘á»: HÆ°á»›ng dáº«n & giáº£i thÃ­ch lá»‡nh `ssh -i .ssh/id_rsa devops@web01 uptime`
  ---------------------------------------------------------------------------
  Má»¥c Ä‘Ã­ch:
    - DÃ¹ng SSH key Ä‘á»ƒ Ä‘Äƒng nháº­p user devops trÃªn host web01 vÃ  cháº¡y lá»‡nh uptime.

  CÃº phÃ¡p:
    ssh -i .ssh/id_rsa devops@web01 uptime

  LÆ°u Ã½ chÃ­nh:
    - `.ssh/id_rsa` lÃ  Ä‘Æ°á»ng dáº«n TÆ¯Æ NG Äá»I; thÆ°á»ng dÃ¹ng `~/.ssh/id_rsa`.
    - Äáº·t quyá»n private key: chmod 600 ~/.ssh/id_rsa
    - Náº¿u key cÃ³ passphrase, dÃ¹ng ssh-agent hoáº·c ssh-add.
    - Kiá»ƒm tra host resolution (DNS hoáº·c /etc/hosts).
    - Káº¿t quáº£ `uptime` tráº£ vá» thá»i gian hoáº¡t Ä‘á»™ng vÃ  load average.

  VÃ­ dá»¥ debug:
    ssh -v -i ~/.ssh/id_rsa devops@web01 uptime

  Troubleshooting nhanh:
    - Permission denied (publickey) => kiá»ƒm tra public key trÃªn server.
    - Could not resolve hostname => kiá»ƒm tra DNS hoáº·c /etc/hosts.
    - Connection refused => SSH server táº¯t hoáº·c firewall.

  Káº¿t luáº­n:
    - Lá»‡nh nÃ y lÃ  cÃ¡ch nhanh vÃ  an toÃ n Ä‘á»ƒ cháº¡y lá»‡nh má»™t-láº§n trÃªn host tá»« xa báº±ng xÃ¡c thá»±c khoÃ¡ cÃ´ng khai.

--- Háº¿t ---
		
		
		- cmd: cat .ssh/id_rsa
		
TiÃªu Ä‘á»:
    Giáº£i thÃ­ch chi tiáº¿t nháº¥t cho: cat .ssh/id_rsa

Má»¥c Ä‘Ã­ch cá»§a lá»‡nh:
    `cat .ssh/id_rsa` in (xuáº¥t) toÃ n bá»™ ná»™i dung file private key SSH (thÆ°á»ng lÃ  RSA)
    tá»« thÆ° má»¥c `.ssh` trong home cá»§a ngÆ°á»i dÃ¹ng hiá»‡n táº¡i ra mÃ n hÃ¬nh (stdout).

CÃº phÃ¡p:
    cat <Ä‘Æ°á»ng_dáº«n_Ä‘áº¿n_file>
VÃ­ dá»¥ cá»¥ thá»ƒ:
    cat ~/.ssh/id_rsa
    hoáº·c (náº¿u Ä‘ang á»Ÿ trong thÆ° má»¥c home):
    cat .ssh/id_rsa

Giáº£i thÃ­ch tá»«ng pháº§n:
    - cat
        + LÃ  lá»‡nh "concatenate" / in ná»™i dung file ra mÃ n hÃ¬nh.
        + Náº¿u file lá»›n, `cat` sáº½ Ä‘áº©y toÃ n bá»™ ná»™i dung ra terminal ngay láº­p tá»©c.
    - .ssh/id_rsa
        + ÄÆ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i Ä‘áº¿n file private key RSA máº·c Ä‘á»‹nh cá»§a SSH.
        + File nÃ y thÆ°á»ng chá»©a private key á»Ÿ Ä‘á»‹nh dáº¡ng OpenSSH (hoáº·c PEM trÃªn há»‡ cÅ©).
        + Máº·c Ä‘á»‹nh file nÃ y chá»‰ thuá»™c vá» user vÃ  cÃ³ quyá»n truy cáº­p ráº¥t háº¡n cháº¿ (chmod 600).

Káº¿t quáº£ khi cháº¡y:
    - Terminal sáº½ hiá»ƒn thá»‹ toÃ n bá»™ private key, báº¯t Ä‘áº§u báº±ng:
          -----BEGIN OPENSSH PRIVATE KEY-----
      hoáº·c trÃªn má»™t sá»‘ há»‡ cÅ©:
          -----BEGIN RSA PRIVATE KEY-----
      vÃ  káº¿t thÃºc báº±ng:
          -----END OPENSSH PRIVATE KEY-----
    - Ná»™i dung nÃ y tuyá»‡t Ä‘á»‘i **khÃ´ng** Ä‘Æ°á»£c chia sáº» cÃ´ng khai. Náº¿u ai Ä‘Ã³ cÃ³ ná»™i dung nÃ y,
      há» cÃ³ thá»ƒ giáº£ máº¡o báº¡n Ä‘á»ƒ Ä‘Äƒng nháº­p vÃ o server dÃ¹ng key Ä‘Ã³.

Rá»§i ro & khuyáº¿n cÃ¡o báº£o máº­t (ráº¥t quan trá»ng):
    1. KhÃ´ng bao giá» paste ná»™i dung private key vÃ o chat, email, diá»…n Ä‘Ã n, hoáº·c nÆ¡i lÆ°u trá»¯ cÃ´ng khai.
    2. Khi `cat` in private key ra terminal, ná»™i dung cÃ³ thá»ƒ:
         - LÆ°u vÃ o lá»‹ch sá»­ cá»§a terminal (tÃ¹y shell/terminal vÃ  cÃ¡ch cáº¥u hÃ¬nh),
         - Bá»‹ nhÃ¬n tháº¥y bá»Ÿi ngÆ°á»i Ä‘á»©ng cáº¡nh (shoulder-surfing),
         - Bá»‹ ghi láº¡i bá»Ÿi pháº§n má»m logging náº¿u terminal/session bá»‹ ghi log.
    3. TrÆ°á»›c khi truy xuáº¥t, Ä‘áº£m báº£o file cÃ³ quyá»n Ä‘Ãºng:
         - chmod 600 ~/.ssh/id_rsa
         - chown $(whoami):$(whoami) ~/.ssh/id_rsa
    4. Náº¿u private key bá»‹ lá»™, báº¡n pháº£i **revoke** (loáº¡i bá») key trÃªn server hoáº·c thay key má»›i
       vÃ  cáº­p nháº­t authorized_keys tÆ°Æ¡ng á»©ng.

CÃ¡ch an toÃ n hÆ¡n Ä‘á»ƒ xem thÃ´ng tin liÃªn quan:
    - Chá»‰ kiá»ƒm tra file cÃ³ tá»“n táº¡i hay khÃ´ng (khÃ´ng in ná»™i dung):
        ls -l ~/.ssh/id_rsa
    - Hiá»ƒn thá»‹ vÃ i dÃ²ng Ä‘áº§u / cuá»‘i (khÃ´ng in toÃ n bá»™):
        head -n 3 ~/.ssh/id_rsa
        tail -n 3 ~/.ssh/id_rsa
      (LÆ°u Ã½: hai lá»‡nh nÃ y váº«n in má»™t pháº§n cá»§a key â€” trÃ¡nh chia sáº» pháº§n in ra.)
    - Kiá»ƒm tra fingerprint tá»« private key (trÃ­ch public rá»“i láº¥y fingerprint):
        ssh-keygen -y -f ~/.ssh/id_rsa > /tmp/tmp_pubkey.pub
        ssh-keygen -lf /tmp/tmp_pubkey.pub
        rm /tmp/tmp_pubkey.pub
      -> CÃ¡ch nÃ y cho báº¡n fingerprint cÃ´ng khai mÃ  khÃ´ng in private key.
    - In public key (an toÃ n Ä‘á»ƒ chia sáº»):
        ssh-keygen -y -f ~/.ssh/id_rsa > ~/.ssh/id_rsa.pub
        cat ~/.ssh/id_rsa.pub
      Public key cÃ³ thá»ƒ Ä‘Æ°a vÃ o `~/.ssh/authorized_keys` trÃªn server.

Kiá»ƒm tra Ä‘á»‹nh dáº¡ng / kiá»ƒu key:
    file ~/.ssh/id_rsa
    ssh-keygen -lf ~/.ssh/id_rsa  # sáº½ lá»—i náº¿u file lÃ  private; dÃ¹ng -y Ä‘á»ƒ táº¡o public trÆ°á»›c

VÃ­ dá»¥ (mÃ´ phá»ng) â€” **KHÃ”NG PHáº¢I** key tháº­t:
    -----BEGIN OPENSSH PRIVATE KEY-----
    b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAA...
    ...
    -----END OPENSSH PRIVATE KEY-----

HÃ nh Ä‘á»™ng khuyáº¿n nghá»‹ sau khi xem:
    - Náº¿u báº¡n cáº§n chia sáº» quyá»n truy cáº­p: chia sáº» **public key** (id_rsa.pub), khÃ´ng chia sáº» private key.
    - Náº¿u private key vÃ´ tÃ¬nh bá»‹ lá»™: táº¡o cáº·p key má»›i báº±ng `ssh-keygen` vÃ  cáº­p nháº­t authorized_keys,
      Ä‘á»“ng thá»i xÃ³a/thu há»“i key cÅ© trÃªn cÃ¡c server liÃªn quan.

TÃ³m táº¯t ngáº¯n gá»n:
    - `cat .ssh/id_rsa` in private SSH key ra mÃ n hÃ¬nh.
    - Ráº¥t nguy hiá»ƒm náº¿u lá»™; chá»‰ dÃ¹ng khi báº¡n hiá»ƒu rá»§i ro vÃ  Ä‘ang á»Ÿ mÃ´i trÆ°á»ng an toÃ n.
    - Thay vÃ¬ in private key, dÃ¹ng `ssh-keygen -y` Ä‘á»ƒ trÃ­ch public vÃ  láº¥y fingerprint.

CÃ¡c lá»‡nh tham kháº£o Ä‘á»ƒ copy/ghi chÃº (an toÃ n hÆ¡n):
    # Kiá»ƒm tra file tá»“n táº¡i vÃ  quyá»n
    ls -l ~/.ssh/id_rsa

    # Láº¥y fingerprint mÃ  khÃ´ng hiá»ƒn thá»‹ private key trá»±c tiáº¿p
    ssh-keygen -y -f ~/.ssh/id_rsa > /tmp/tmp_pubkey.pub
    ssh-keygen -lf /tmp/tmp_pubkey.pub
    shred -u /tmp/tmp_pubkey.pub     # xÃ³a an toÃ n file táº¡m

    # Táº¡o public key tá»« private (náº¿u thiáº¿u)
    ssh-keygen -y -f ~/.ssh/id_rsa > ~/.ssh/id_rsa.pub
    chown $(whoami):$(whoami) ~/.ssh/id_rsa.pub
    chmod 644 ~/.ssh/id_rsa.pub

Káº¿t thÃºc.
		
		
		- cmd: cat .ssh/id_rsa.pub
		
cat ~/.ssh/id_rsa.pub

Má»¥c Ä‘Ã­ch:
Hiá»ƒn thá»‹ ná»™i dung cá»§a khÃ³a cÃ´ng khai (public key) RSA náº±m trong tá»‡p id_rsa.pub trong thÆ° má»¥c .ssh cá»§a ngÆ°á»i dÃ¹ng hiá»‡n táº¡i. KhÃ³a cÃ´ng khai thÆ°á»ng dÃ¹ng Ä‘á»ƒ thÃªm vÃ o file authorized_keys trÃªn mÃ¡y chá»§ tá»« xa Ä‘á»ƒ báº­t xÃ¡c thá»±c SSH báº±ng khÃ³a (key-based authentication).

Giáº£i thÃ­ch chi tiáº¿t tá»«ng pháº§n:

* cat: lá»‡nh Ä‘á»c vÃ  in ná»™i dung tá»‡p ra stdout (terminal). KhÃ´ng thay Ä‘á»•i tá»‡p.
* ~/.ssh/id_rsa.pub: Ä‘Æ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i tá»›i tá»‡p khÃ³a cÃ´ng khai RSA cá»§a ngÆ°á»i dÃ¹ng. Dáº¥u ~ Ä‘áº¡i diá»‡n cho thÆ° má»¥c home cá»§a user hiá»‡n táº¡i (vÃ­ dá»¥ /home/tuannn/.ssh/id_rsa.pub).

Ná»™i dung tá»‡p id_rsa.pub:

* Dáº¡ng má»™t dÃ²ng: <type> <base64-encoded-key> [comment]
  VÃ­ dá»¥:
  ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC3... [user@example.com](mailto:user@example.com)

  * ssh-rsa: loáº¡i khÃ³a (RSA). CÃ³ thá»ƒ lÃ  ssh-ed25519, ecdsa-sha2-nistp256, v.v.
  * AAAA...: pháº§n khÃ³a Ä‘Æ°á»£c mÃ£ hÃ³a base64.
  * [user@example.com](mailto:user@example.com): thÆ°á»ng lÃ  comment (tÃ¹y chá»n) Ä‘á»ƒ nháº­n diá»‡n khÃ³a (email, mÃ¡y, hoáº·c tÃªn).

Má»¥c Ä‘Ã­ch sá»­ dá»¥ng:

* ThÃªm khÃ³a cÃ´ng khai nÃ y vÃ o ~/.ssh/authorized_keys trÃªn mÃ¡y chá»§ tá»« xa Ä‘á»ƒ cho phÃ©p Ä‘Äƒng nháº­p khÃ´ng cáº§n máº­t kháº©u báº±ng khÃ³a riÃªng tÆ°Æ¡ng á»©ng (id_rsa private key).
* CÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ cung cáº¥p cho dá»‹ch vá»¥ Git, CI/CD, hoáº·c cÃ¡c server khÃ¡c yÃªu cáº§u SSH public key.

VÃ­ dá»¥ thá»±c táº¿:
$ cat ~/.ssh/id_rsa.pub
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC3... tuan@laptop

Äá»ƒ cÃ i Ä‘áº·t public key trÃªn mÃ¡y chá»§ tá»« xa (vÃ­ dá»¥ web01):

* CÃ¡ch thá»§ cÃ´ng:
  ssh user@web01 "mkdir -p ~/.ssh && chmod 700 ~/.ssh && cat >> ~/.ssh/authorized_keys" < ~/.ssh/id_rsa.pub
  -> Lá»‡nh nÃ y ná»‘i khÃ³a cÃ´ng khai vÃ o authorized_keys trÃªn mÃ¡y tá»« xa, táº¡o thÆ° má»¥c ~/.ssh náº¿u chÆ°a cÃ³ vÃ  Ä‘áº£m báº£o quyá»n phÃ¹ há»£p.
* DÃ¹ng ssh-copy-id (náº¿u cÃ³):
  ssh-copy-id -i ~/.ssh/id_rsa.pub user@web01
  -> tiá»‡n lá»£i: sao chÃ©p vÃ  Ä‘áº£m báº£o quyá»n file.

Quyá»n vÃ  an toÃ n:

* Tá»‡p id_rsa.pub lÃ  public: chia sáº» an toÃ n (khÃ´ng nháº¡y cáº£m) â€” nhÆ°ng trÃ¡nh Ä‘Äƒng táº£i lÃªn chá»— cÃ´ng khai náº¿u báº¡n khÃ´ng muá»‘n má»i nÆ¡i cÃ³ thá»ƒ nháº­n dáº¡ng hoáº·c dÃ¹ng comment Ä‘á»ƒ truy láº¡i.
* Tá»‡p private (id_rsa) **khÃ´ng** Ä‘Æ°á»£c chia sáº». NÃ³ pháº£i Ä‘Æ°á»£c giá»¯ bÃ­ máº­t vÃ  cÃ³ quyá»n 600 (rw-------). Náº¿u private key bá»‹ lá»™, khÃ³a cáº§n Ä‘Æ°á»£c thu há»“i/Ä‘á»•i má»›i.
* Khi dÃ¡n public key vÃ o authorized_keys, file authorized_keys nÃªn cÃ³ quyá»n 600 vÃ  thÆ° má»¥c ~/.ssh quyá»n 700 Ä‘á»ƒ SSHD cháº¥p nháº­n.

CÃ¡c lá»—i/vaÌ€ lÆ°u Ã½ hay gáº·p:

* No such file or directory
  -> KhÃ´ng cÃ³ id_rsa.pub: cÃ³ thá»ƒ chÆ°a táº¡o key pair. Táº¡o má»›i báº±ng:
  ssh-keygen -t rsa -b 4096 -C "[your_email@example.com](mailto:your_email@example.com)"
  (sau Ä‘Ã³ file id_rsa vÃ  id_rsa.pub sáº½ Ä‘Æ°á»£c táº¡o trong ~/.ssh)
* Permission denied (publickey)
  -> SSH server khÃ´ng cháº¥p nháº­n key: kiá»ƒm tra ráº±ng public key Ä‘Ã£ Ä‘Æ°á»£c thÃªm chÃ­nh xÃ¡c vÃ o ~/.ssh/authorized_keys cá»§a user trÃªn host tá»« xa, vÃ  quyá»n cá»§a ~/.ssh vÃ  authorized_keys lÃ  Ä‘Ãºng.
* Ná»™i dung tá»‡p id_rsa.pub trá»‘ng hoáº·c bá»‹ há»ng
  -> Táº¡o láº¡i key pair náº¿u public key khÃ´ng há»£p lá»‡.

Lá»‡nh liÃªn quan há»¯u Ã­ch:

* ssh-keygen -y -f ~/.ssh/id_rsa  -> xuáº¥t public key tá»« private key (náº¿u id_rsa.pub bá»‹ máº¥t):
  ssh-rsa AAAAB3NzaC1... user@host
* ssh-add ~/.ssh/id_rsa  -> thÃªm private key vÃ o ssh-agent Ä‘á»ƒ sá»­ dá»¥ng mÃ  khÃ´ng pháº£i nháº­p passphrase nhiá»u láº§n.
* ssh-copy-id -i ~/.ssh/id_rsa.pub user@host  -> sao chÃ©p public key tá»›i host.
* cat ~/.ssh/authorized_keys  -> xem danh sÃ¡ch public key Ä‘Ã£ Ä‘Æ°á»£c cho phÃ©p trÃªn host hiá»‡n táº¡i.

VÃ­ dá»¥ an toÃ n khi sao chÃ©p public key Ä‘áº¿n server:

1. TrÃªn mÃ¡y local:
   cat ~/.ssh/id_rsa.pub | ssh user@server "mkdir -p ~/.ssh && chmod 700 ~/.ssh && cat >> ~/.ssh/authorized_keys && chmod 600 ~/.ssh/authorized_keys"
2. Kiá»ƒm tra káº¿t ná»‘i:
   ssh user@server

TÃ³m táº¯t 1 dÃ²ng:
cat ~/.ssh/id_rsa.pub â€” in ra khÃ³a cÃ´ng khai RSA cá»§a báº¡n Ä‘á»ƒ dÃ¹ng cho thiáº¿t láº­p xÃ¡c thá»±c SSH báº±ng key; public key cÃ³ thá»ƒ chia sáº» an toÃ n, private key thÃ¬ luÃ´n giá»¯ bÃ­ máº­t.

---

End of file.
		
		
		- cmd: for host in `cat remhosts`; do echo $host;done
		
GIáº¢I THÃCH CHI TIáº¾T: for host in `cat remhosts`; do echo $host; done

Lá»‡nh máº«u:
for host in `cat remhosts`; do echo $host; done

Má»¥c Ä‘Ã­ch (tÃ³m táº¯t):
VÃ²ng láº·p nÃ y Ä‘á»c Ä‘áº§u ra cá»§a lá»‡nh `cat remhosts` (thÆ°á»ng lÃ  ná»™i dung cá»§a file `remhosts`) rá»“i láº·p qua tá»«ng "tá»«" trong Ä‘áº§u ra Ä‘Ã³; vá»›i má»—i pháº§n tá»­, in ra giÃ¡ trá»‹ (echo $host). Má»¥c tiÃªu phá»• biáº¿n: liá»‡t kÃª hoáº·c xá»­ lÃ½ tá»«ng host (má»™t dÃ²ng/1 host) trong file remhosts.

Giáº£i thÃ­ch tá»«ng pháº§n:

* `cat remhosts` : in ná»™i dung file remhosts ra stdout.
* `` `...` `` : command substitution (thay báº±ng káº¿t quáº£ cá»§a lá»‡nh bÃªn trong). ÄÃ¢y lÃ  cÃ¡ch cÅ©; tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `$(cat remhosts)`.
* for host in ...; do ...; done : cáº¥u trÃºc vÃ²ng láº·p `for` cá»§a shell (bash, sh). Pháº§n sau `in` lÃ  danh sÃ¡ch cÃ¡c pháº§n tá»­ Ä‘á»ƒ láº·p.
* echo $host : in giÃ¡ trá»‹ biáº¿n `host` cho tá»«ng pháº§n tá»­.

CÃ¡ch shell tÃ¡ch pháº§n tá»­ (word splitting):

* Sau khi thá»±c hiá»‡n command substitution, shell sáº½ tÃ¡ch káº¿t quáº£ thÃ nh cÃ¡c pháº§n tá»­ dá»±a trÃªn biáº¿n IFS (máº·c Ä‘á»‹nh gá»“m whitespace: space, tab, newline).
* Äiá»u nÃ y cÃ³ nghÄ©a: náº¿u file `remhosts` cÃ³ má»—i host trÃªn má»™t dÃ²ng, káº¿t quáº£ sáº½ thÆ°á»ng tÃ¡ch Ä‘Ãºng theo dÃ²ng. NhÆ°ng náº¿u cÃ³ khoáº£ng tráº¯ng trong dÃ²ng (space) hoáº·c dÃ²ng rá»—ng, hoáº·c kÃ½ tá»± Ä‘áº·c biá»‡t, káº¿t quáº£ sáº½ KHÃ”NG LUÃ”N báº£n quyá»n lÃ  "má»™t dÃ²ng = má»™t pháº§n tá»­".

Váº¥n Ä‘á» thÆ°á»ng gáº·p & rá»§i ro:

1. Khoáº£ng tráº¯ng trong tÃªn host:

   * Náº¿u má»™t dÃ²ng chá»©a space hoáº·c tab, shell sáº½ coi Ä‘Ã³ lÃ  phÃ¢n tÃ¡ch thÃ nh nhiá»u pháº§n tá»­ (khÃ´ng mong muá»‘n).
2. DÃ²ng rá»—ng sáº½ bá»‹ bá» qua (khÃ´ng táº¡o pháº§n tá»­ rá»—ng).
3. Globbing (filename expansion): náº¿u pháº§n tá»­ chá»©a kÃ½ tá»± jokers nhÆ° `*` hoáº·c `?`, shell cÃ³ thá»ƒ má»Ÿ rá»™ng thÃ nh tÃªn file trong thÆ° má»¥c hiá»‡n táº¡i.
4. Backticks khÃ³ Ä‘á»c khi lá»“ng nhiá»u lá»‡nh â€” dÃ¹ng `$(...)` rÃµ rÃ ng hÆ¡n.

VÃ­ dá»¥ minh há»a váº¥n Ä‘á»:
Giáº£ sá»­ remhosts chá»©a:

```
host1.example.com
host 2.example.com
host3.example.com

host4.example.com
```

VÃ²ng láº·p gá»‘c sáº½ táº¡o cÃ¡c pháº§n tá»­: `host1.example.com`, `host`, `2.example.com`, `host3.example.com`, `host4.example.com` (dÃ²ng rá»—ng bá»‹ bá» qua) â€” rÃµ rÃ ng lÃ  sai náº¿u báº¡n muá»‘n má»—i dÃ²ng lÃ  má»™t host.

CÃ¡ch an toÃ n vÃ  khuyáº¿n nghá»‹ (nÃªn dÃ¹ng thay tháº¿):

1. Sá»­ dá»¥ng `while` + `read -r` (Ä‘Ãºng cÃ¡ch Ä‘á»ƒ Ä‘á»c theo dÃ²ng, giá»¯ nguyÃªn kÃ½ tá»± Ä‘áº·c biá»‡t vÃ  khoáº£ng tráº¯ng):

   while IFS= read -r host; do
   echo "$host"
   done < remhosts

   * `IFS=` táº¡m thá»i Ä‘áº·t IFS rá»—ng Ä‘á»ƒ khÃ´ng cáº¯t bá» khoáº£ng tráº¯ng Ä‘áº§u/cuá»‘i.
   * `-r` khiáº¿n `read` khÃ´ng xá»­ lÃ½ backslash escapes (giá»¯ nguyÃªn `\`).
   * CÃ¡ch nÃ y Ä‘áº£m báº£o: má»—i dÃ²ng trong file -> má»™t láº§n láº·p (bao gá»“m nhá»¯ng dÃ²ng cÃ³ khoáº£ng tráº¯ng).

2. Náº¿u cáº§n danh sÃ¡ch khÃ´ng cÃ³ dÃ²ng rá»—ng vÃ  an toÃ n vá»›i kÃ½ tá»± Ä‘áº·c biá»‡t, dÃ¹ng `mapfile` (bash):

   mapfile -t hosts < remhosts
   for host in "${hosts[@]}"; do
   echo "$host"
   done

   * `mapfile` (a.k.a. `readarray`) Ä‘á»c toÃ n bá»™ file vÃ o máº£ng, giá»¯ nguyÃªn dÃ²ng.
   * `-t` loáº¡i bá» newline cuá»‘i má»—i pháº§n tá»­.

3. DÃ¹ng `xargs` náº¿u muá»‘n thá»±c hiá»‡n lá»‡nh cho tá»«ng dÃ²ng (khÃ´ng an toÃ n náº¿u dÃ²ng chá»©a whitespace trá»« khi chá»‰ rÃµ -d):

   xargs -a remhosts -L1 -I{} echo {}

   Hoáº·c an toÃ n vá»›i dÃ²ng cÃ³ khoáº£ng tráº¯ng (GNU xargs):
   xargs -d '\n' -a remhosts -L1 -I{} echo "{}"

4. Thay backticks báº±ng `$(...)` cho dá»… Ä‘á»c:
   for host in $(cat remhosts); do echo "$host"; done

   NhÆ°ng lÆ°u Ã½: Ä‘iá»u nÃ y váº«n chá»‹u háº¡n cháº¿ tÃ¡ch tá»« (word splitting) nhÆ° Ä‘Ã£ nÃªu.

Kháº¯c phá»¥c váº¥n Ä‘á» globbing/word-splitting táº¡m thá»i:

* Disable globbing trÆ°á»›c vÃ²ng láº·p: `set -f` (sau Ä‘Ã³ `set +f` Ä‘á»ƒ báº­t láº¡i). NhÆ°ng Ä‘iá»u nÃ y khÃ´ng giáº£i quyáº¿t tÃ¡ch theo whitespace.

Má»™t vÃ­ dá»¥ hoÃ n chá»‰nh an toÃ n (khuyáº¿n nghá»‹):

#!/bin/bash
while IFS= read -r host; do
# bá» qua dÃ²ng rá»—ng hoáº·c dÃ²ng báº¯t Ä‘áº§u báº±ng '#'
[ -z "$host" ] && continue
case "$host" in
#*) continue ;;  # náº¿u comment
esac
echo "Processing host: $host"
# vÃ­ dá»¥: ssh user@"$host" ...
done < remhosts

LÆ°u Ã½ vá» káº¿t thÃºc dÃ²ng (CRLF):

* Náº¿u file `remhosts` Ä‘Æ°á»£c táº¡o trÃªn Windows, má»—i dÃ²ng cÃ³ thá»ƒ káº¿t thÃºc báº±ng `\r\n`. Äiá»u nÃ y khiáº¿n `$host` káº¿t thÃºc báº±ng `\r` â€” gÃ¢y lá»—i khi dÃ¹ng lÃ m hostname. Giáº£i quyáº¿t vá»›i `dos2unix remhosts` hoáº·c trong script: `host=${host%%$'\r'}` Ä‘á»ƒ loáº¡i bá» `\r`.

TÃ³m táº¯t nhanh:

* `for host in \`cat remhosts`; do echo $host; done` hoáº¡t Ä‘á»™ng nhÆ°ng dá»… gáº·p lá»—i vá»›i khoáº£ng tráº¯ng, dÃ²ng rá»—ng vÃ  globbing.
* NÃªn dÃ¹ng `while IFS= read -r host; do ...; done < remhosts` hoáº·c `mapfile` cho xá»­ lÃ½ "má»—i dÃ²ng lÃ  má»™t pháº§n tá»­" an toÃ n hÆ¡n.

---

Háº¾T

(ÄÃ¢y lÃ  text plain, báº¡n cÃ³ thá»ƒ sao chÃ©p toÃ n bá»™ vÃ  dÃ¡n vÃ o file .txt.)
		
		
		- cmd: for host in `cat remhosts`; do ssh devops@$host hostname;done
		
TiÃªu Ä‘á»: Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: for host in `cat remhosts`; do ssh devops@$host hostname; done
(Ná»™i dung PLAIN TEXT â€” cÃ³ thá»ƒ copy toÃ n bá»™ vÃ o file .txt)

1. CÃ¢u lá»‡nh gá»‘c
   for host in `cat remhosts`; do ssh devops@$host hostname; done

2. Má»¥c Ä‘Ã­ch
   VÃ²ng láº·p duyá»‡t tá»«ng dÃ²ng/entry trong tá»‡p "remhosts" vÃ  thá»±c hiá»‡n lá»‡nh
   `ssh devops@<host> hostname` trÃªn tá»«ng host, nghÄ©a lÃ  káº¿t ná»‘i SSH Ä‘áº¿n host Ä‘Ã³
   dÆ°á»›i user "devops" vÃ  cháº¡y lá»‡nh `hostname` Ä‘á»ƒ in ra tÃªn mÃ¡y tá»« xa.

3. PhÃ¢n tÃ­ch chi tiáº¿t tá»«ng pháº§n

   * for host in `cat remhosts`;

     * `cat remhosts` sáº½ in ná»™i dung file remhosts ra stdout.
     * CÃ¡c giÃ¡ trá»‹ Ä‘áº§u vÃ o Ä‘Æ°á»£c Ä‘áº·t trong dáº¥u backticks `...` â€” shell sáº½ cháº¡y
       lá»‡nh nÃ y vÃ  thay báº±ng káº¿t quáº£ (command substitution).
     * VÃ²ng for sáº½ tÃ¡ch káº¿t quáº£ theo whitespace (khoáº£ng tráº¯ng, newline, tab)
       vÃ  gÃ¡n láº§n lÆ°á»£t vÃ o biáº¿n `host`.
   * do ...; done

     * Khá»‘i lá»‡nh cháº¡y vá»›i má»—i giÃ¡ trá»‹ `host`.
   * ssh devops@$host hostname

     * Thá»±c hiá»‡n káº¿t ná»‘i SSH tá»›i host (giÃ¡ trá»‹ trong biáº¿n $host) vá»›i user devops,
       rá»“i cháº¡y lá»‡nh `hostname` trÃªn host tá»« xa. Káº¿t quáº£ (tÃªn host) Ä‘Æ°á»£c in vá»
       terminal local.

4. Giáº£ Ä‘á»‹nh/Ä‘iá»u kiá»‡n tiÃªn quyáº¿t

   * File remhosts tá»“n táº¡i vÃ  chá»©a danh sÃ¡ch host (hostname hoáº·c Ä‘á»‹a chá»‰ IP).
   * Má»—i host trong remhosts cÃ³ thá»ƒ truy cáº­p Ä‘Æ°á»£c qua máº¡ng tá»« mÃ¡y local.
   * Dá»‹ch vá»¥ SSH (sshd) Ä‘ang cháº¡y trÃªn cÃ¡c host Ä‘Ã­ch.
   * TÃ i khoáº£n devops tá»“n táº¡i trÃªn cÃ¡c host Ä‘Ã­ch vÃ  báº¡n cÃ³ thá»ƒ xÃ¡c thá»±c (password hoáº·c SSH key).
   * TrÃªn mÃ¡y local báº¡n cÃ³ ssh client.

5. Váº¥n Ä‘á» thÆ°á»ng gáº·p vá»›i dáº¡ng nÃ y

   * Náº¿u má»™t dÃ²ng trong remhosts chá»©a khoáº£ng tráº¯ng, choÃ¡n dáº¥u cÃ¡ch, hoáº·c kÃ½ tá»± Ä‘áº·c biá»‡t,
     `for host in \\`cat remhosts\`` sáº½ tÃ¡ch sai vÃ¬ vÃ²ng for tÃ¡ch theo whitespace.
   * Náº¿u remhosts cÃ³ dÃ²ng trá»‘ng, vÃ²ng for cÃ³ thá»ƒ bá» qua hoáº·c táº¡o giÃ¡ trá»‹ rá»—ng.
   * Náº¿u host chá»©a kÃ½ tá»± â€˜@â€™ hoáº·c cÃ¡c kÃ½ tá»± cáº§n escape, cÃ³ thá»ƒ gÃ¢y lá»—i.
   * Náº¿u SSH yÃªu cáº§u cháº¥p nháº­n host key láº§n Ä‘áº§u, lá»‡nh sáº½ dá»«ng chá» ngÆ°á»i dÃ¹ng tráº£ lá»i
     ("The authenticity... continue connecting (yes/no)?"). Äiá»u nÃ y lÃ m vÃ²ng láº·p bá»‹ block.

6. Äá»‹nh dáº¡ng file remhosts (vÃ­ dá»¥ há»£p lÃ½)

   * Má»—i host trÃªn má»™t dÃ²ng, chá»‰ chá»©a hostname hoáº·c IP, khÃ´ng thÃªm khoáº£ng tráº¯ng thá»«a:
     web01
     192.168.10.13
     db01.example.com
   * Náº¿u cáº§n cá»•ng khÃ¡c hoáº·c user khÃ¡c trÃªn tá»«ng host, ghi á»Ÿ Ä‘á»‹nh dáº¡ng khÃ¡c vÃ  dÃ¹ng script
     phá»©c táº¡p hÆ¡n Ä‘á»ƒ parse (vÃ­ dá»¥: host:port hoáº·c user@host).

7. CÃ¡ch an toÃ n hÆ¡n & cÃ¡c cáº£i tiáº¿n (khuyáº¿n nghá»‹)
   a) DÃ¹ng command substitution hiá»‡n Ä‘áº¡i vÃ  trÃ¡nh backticks:
   for host in $(cat remhosts); do ssh devops@$host hostname; done
   â€” nhÆ°ng váº«n cÃ²n váº¥n Ä‘á» tÃ¡ch theo whitespace.

   b) DÃ¹ng while read Ä‘á»ƒ giá»¯ nguyÃªn dÃ²ng nguyÃªn váº¹n (an toÃ n vá»›i tÃªn cÃ³ khoáº£ng tráº¯ng):
   while IFS= read -r host; do
   ssh devops@"$host" hostname
   done < remhosts

   * IFS= vÃ  -r giÃºp giá»¯ nguyÃªn kÃ½ tá»± khoáº£ng tráº¯ng vÃ  backslash trong dÃ²ng.

   c) Bá» qua dÃ²ng trá»‘ng vÃ  comment (#):
   while IFS= read -r host; do
   [ -z "$host" ] && continue   # bá» qua dÃ²ng rá»—ng
   case "$host" in
   #*) continue ;;            # bá» qua dÃ²ng báº¯t Ä‘áº§u #
   esac
   ssh devops@"$host" hostname
   done < remhosts

   d) ThÃªm timeout & tÃ¹y chá»n SSH Ä‘á»ƒ trÃ¡nh block lÃ¢u:
   ssh -o ConnectTimeout=5 -o BatchMode=yes devops@"$host" hostname

   * ConnectTimeout giá»›i háº¡n thá»i gian káº¿t ná»‘i.
   * BatchMode=yes lÃ m ssh tháº¥t báº¡i ngay náº¿u cáº§n password (khÃ´ng prompt),
     há»¯u Ã­ch khi báº¡n muá»‘n script khÃ´ng dá»«ng chá» nháº­p password.

   e) Tá»± Ä‘á»™ng cháº¥p nháº­n host key (khÃ´ng khuyáº¿n nghá»‹ trÃªn prod):
   ssh -o StrictHostKeyChecking=no devops@"$host" hostname

   f) DÃ¹ng key cá»¥ thá»ƒ hoáº·c port khÃ¡c:
   ssh -i /path/to/key -p 2222 devops@"$host" hostname

   g) Thá»±c thi song song (náº¿u nhiá»u host) â€” vÃ­ dá»¥ dÃ¹ng xargs hoáº·c parallel:
   cat remhosts | xargs -n1 -P10 -I{} ssh devops@{} hostname

   * -P10 cháº¡y tá»‘i Ä‘a 10 káº¿t ná»‘i song song.
     Hoáº·c dÃ¹ng GNU parallel:
     parallel -a remhosts -j 10 ssh devops@{} hostname

8. VÃ­ dá»¥ hoÃ n chá»‰nh (an toÃ n, dÃ²ng theo remhosts):

   # file remhosts:

   # web01

   # 192.168.10.13

   while IFS= read -r host; do
   [ -z "$host" ] && continue
   ssh -o ConnectTimeout=6 -o BatchMode=yes devops@"$host" hostname || 
   echo "ERROR connecting to $host"
   done < remhosts

   * DÃ²ng cuá»‘i sau || sáº½ in lá»—i thay vÃ¬ dá»«ng toÃ n bá»™ script.

9. Giáº£i thÃ­ch vá» quoting vÃ  biáº¿n

   * LuÃ´n dÃ¹ng "$host" khi chÃ¨n biáº¿n vÃ o lá»‡nh Ä‘á»ƒ giá»¯ nguyÃªn kÃ½ tá»± Ä‘áº·c biá»‡t/ khoáº£ng tráº¯ng.
   * TrÃ¡nh dÃ¹ng backticks vÃ¬ khÃ³ Ä‘á»c khi lá»“ng láº·p vÃ  Ã­t an toÃ n; dÃ¹ng $(...) thay tháº¿.

10. Xá»­ lÃ½ káº¿t quáº£ (luá»“ng Ä‘áº§u ra)

* Káº¿t quáº£ chuáº©n (stdout) sáº½ in tÃªn host cho má»—i host:
  web01
  192.168.10.13
  db01
* Náº¿u muá»‘n gÃ¡n nhÃ£n (tÃªn host local => remote):
  while IFS= read -r host; do
  printf "%s: " "$host"
  ssh -o ConnectTimeout=6 devops@"$host" hostname || echo "(failed)"
  done < remhosts

11. Báº£o máº­t & lÆ°u Ã½

* Äáº£m báº£o private key cÃ³ quyá»n háº¡n cháº·t (chmod 600).
* TrÃ¡nh lÆ°u máº­t kháº©u á»Ÿ cleartext; dÃ¹ng SSH keys vÃ  ssh-agent.
* Náº¿u dÃ¹ng StrictHostKeyChecking=no, báº¡n sáº½ bá» qua kiá»ƒm tra MITM â€” chá»‰ dÃ¹ng trÃªn máº¡ng tin cáº­y.

12. Kiá»ƒm tra trÆ°á»›c khi cháº¡y Ä‘áº¡i trÃ 

* Test vá»›i 1 host trÆ°á»›c: ssh devops@web01 hostname
* Kiá»ƒm tra remhosts báº±ng: sed -n '1,5p' remhosts

13. TÃ³m táº¯t ngáº¯n gá»n

* Lá»‡nh ban Ä‘áº§u duyá»‡t tá»«ng host trong file remhosts vÃ  cháº¡y `ssh devops@host hostname` Ä‘á»ƒ láº¥y
  tÃªn mÃ¡y tá»« xa.
* Cáº§n cáº©n trá»ng vá»›i cÃ¡ch tÃ¡ch dÃ²ng (whitespace) â€” dÃ¹ng `while IFS= read -r` lÃ  an toÃ n hÆ¡n.

--- Káº¾T THÃšC ---
(ÄÃ¢y lÃ  plain text, báº¡n cÃ³ thá»ƒ copy nguyÃªn khá»‘i trÃªn vÃ  dÃ¡n vÃ o file .txt)
		
		
		- cmd: for host in `cat remhosts`; do ssh devops@$host uptime;done
		
TiÃªu Ä‘á»: Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: for host in `cat remhosts`; do ssh devops@$host uptime; done
-----------------------------------------------------------------------------------------

TÃ³m táº¯t ngáº¯n (1 cÃ¢u):
  Lá»‡nh nÃ y láº·p qua tá»«ng dÃ²ng/entry trong file `remhosts`, vá»›i má»—i host thá»±c hiá»‡n káº¿t ná»‘i SSH tá»›i host Ä‘Ã³ dÆ°á»›i user `devops` vÃ  cháº¡y lá»‡nh `uptime` trÃªn mÃ¡y tá»« xa, in káº¿t quáº£ ra terminal cá»¥c bá»™.

1) CÃº phÃ¡p gá»‘c & Ã½ nghÄ©a tá»«ng pháº§n
  for host in `cat remhosts`; do ssh devops@$host uptime; done

  - `for host in ...; do ...; done` : cáº¥u trÃºc vÃ²ng láº·p `for` cá»§a shell (bash/sh).
  - `` `cat remhosts` `` : command substitution (backticks) â€” thá»±c thi `cat remhosts` vÃ  Ä‘Æ°a káº¿t quáº£ (cÃ¡c tá»«/chuá»—i) vÃ o danh sÃ¡ch Ä‘á»ƒ vÃ²ng láº·p láº·p qua.
  - `ssh devops@$host uptime` : vá»›i má»—i giÃ¡ trá»‹ `host`, gá»i SSH Ä‘Äƒng nháº­p user `devops` táº¡i host Ä‘Ã³ rá»“i cháº¡y `uptime` trÃªn mÃ¡y tá»« xa. Káº¿t quáº£ (stdout) Ä‘Æ°á»£c in trÃªn terminal local.
  - Dáº¥u `;` phÃ¢n tÃ¡ch cÃ¡c pháº§n trong má»™t dÃ²ng; cÃ³ thá»ƒ viáº¿t nhiá»u dÃ²ng:
      for host in `cat remhosts`
      do
        ssh devops@$host uptime
      done

2) Dáº¡ng file `remhosts`
  - `remhosts` thÆ°á»ng lÃ  file vÄƒn báº£n chá»©a tÃªn host hoáº·c Ä‘á»‹a chá»‰ IP, vÃ­ dá»¥:
      web01
      web02.example.com
      10.0.0.5
  - Má»—i "word" mÃ  command substitution tráº£ vá» sáº½ trá»Ÿ thÃ nh má»™t giÃ¡ trá»‹ `host`. Náº¿u file cÃ³ host trÃªn nhiá»u dÃ²ng thÃ¬ thÆ°á»ng hoáº¡t Ä‘á»™ng nhÆ° mong Ä‘á»£i; nhÆ°ng náº¿u cÃ³ khoáº£ng tráº¯ng trong má»™t dÃ²ng hoáº·c comment, cÃ³ thá»ƒ gÃ¢y váº¥n Ä‘á» (xem pháº§n an toÃ n/cáº£i tiáº¿n).

3) HÃ nh vi thá»±c thi
  - Shell Ä‘á»c danh sÃ¡ch host tá»« output cá»§a `cat remhosts` (command substitution).
  - VÃ²ng láº·p cháº¡y tuáº§n tá»±: thá»±c hiá»‡n SSH tá»›i host Ä‘áº§u tiÃªn, chá» `uptime` cháº¡y xong vÃ  SSH Ä‘Ã³ng, rá»“i má»›i qua host tiáº¿p theo.
  - Náº¿u ssh yÃªu cáº§u máº­t kháº©u/passphrase sáº½ dá»«ng chá» nháº­p â€” script sáº½ bá»‹ block cho Ä‘áº¿n khi nháº­p xong.

4) Nhá»¯ng váº¥n Ä‘á» thÆ°á»ng gáº·p & rá»§i ro
  - **Word splitting / host chá»©a khoáº£ng tráº¯ng:** sá»­ dá»¥ng backticks + for sáº½ tÃ¡ch theo IFS (máº·c Ä‘á»‹nh: whitespace). Náº¿u file cÃ³ dÃ²ng rá»—ng, khoáº£ng tráº¯ng hoáº·c kÃ½ tá»± khÃ´ng mong muá»‘n, vÃ²ng láº·p cÃ³ thá»ƒ nháº­n sai host.  
  - **Backticks vs $(...) :** backticks hoáº¡t Ä‘á»™ng nhÆ°ng `$(cat remhosts)` Ä‘Æ°á»£c khuyáº¿n nghá»‹ vÃ¬ dá»… Ä‘á»c vÃ  lá»“ng nhau.  
  - **Khi file lá»›n / nhiá»u host:** vÃ²ng láº·p cháº¡y **tuáº§n tá»±**, sáº½ cháº­m.  
  - **Xá»­ lÃ½ lá»—i:** náº¿u má»™t SSH tháº¥t báº¡i (host unreachable, permission denied), vÃ²ng láº·p váº«n tiáº¿p tá»¥c; náº¿u cáº§n stop on error pháº£i kiá»ƒm tra mÃ£ tráº£ vá».  
  - **YÃªu cáº§u xÃ¡c thá»±c tÆ°Æ¡ng tÃ¡c:** náº¿u SSH cáº§n máº­t kháº©u/passphrase sáº½ yÃªu cáº§u ngÆ°á»i dÃ¹ng. Trong automation, cáº§n dÃ¹ng key, agent hoáº·c cháº¿ Ä‘á»™ khÃ´ng tÆ°Æ¡ng tÃ¡c.  
  - **Hostname chá»©a kÃ½ tá»± Ä‘áº·c biá»‡t (#, ;)** cÃ³ thá»ƒ gÃ¢y lá»—i náº¿u khÃ´ng xá»­ lÃ½.  
  - **SSH hoÃ¡/timeout:** náº¿u host cháº­m/khÃ´ng pháº£n há»“i, vÃ²ng láº·p cÃ³ thá»ƒ treo lÃ¢u.

5) ThÃ´ng bÃ¡o lá»—i phá»• biáº¿n & nguyÃªn nhÃ¢n
  - `ssh: Could not resolve hostname ...` â†’ hostname khÃ´ng phÃ¢n giáº£i (DNS hoáº·c /etc/hosts).
  - `ssh: connect to host ... port 22: Connection refused` â†’ SSH server khÃ´ng cháº¡y hoáº·c firewall cháº·n.
  - `Permission denied (publickey)` â†’ public key chÆ°a Ä‘Æ°á»£c cÃ i trong `~devops/.ssh/authorized_keys` hoáº·c private key khÃ´ng há»£p lá»‡.
  - `Warning: Permanently added 'host' (ECDSA) to the list of known hosts.` â†’ láº§n Ä‘áº§u connect, hostkey Ä‘Æ°á»£c thÃªm vÃ o `~/.ssh/known_hosts`.
  - `Name or service not known` â†’ tÃªn host sai chÃ­nh táº£ hoáº·c khÃ´ng resolvable.

6) Kiá»ƒm tra exit code trong script
  - Sau má»—i lá»‡nh SSH, exit code cá»§a SSH lÃ  `$?`. VÃ­ dá»¥:
      ssh devops@$host uptime
      if [ $? -ne 0 ]; then
        echo "ERROR on $host"
      fi
  - Hoáº·c:
      if ssh devops@$host uptime >/dev/null; then
        echo "$host OK"
      else
        echo "$host FAILED"
      fi

7) Cáº£i tiáº¿n an toÃ n & thá»±c táº¿ (khuyáº¿n nghá»‹)
  - DÃ¹ng `$(...)` thay backticks:
      for host in $(cat remhosts); do ssh devops@"$host" uptime; done
  - Tuy nhiÃªn cÃ¡ch **an toÃ n hÆ¡n** Ä‘á»ƒ Ä‘á»c file dÃ²ng-by-dÃ²ng (Ä‘áº·c biá»‡t khi host cÃ³ khoáº£ng tráº¯ng hoáº·c Ä‘á»ƒ trÃ¡nh word-splitting):
      while IFS= read -r host; do
        [ -z "$host" ] && continue   # bá» qua dÃ²ng rá»—ng
        ssh devops@"$host" uptime
      done < remhosts
  - Quotes quanh `$host` Ä‘á»ƒ báº£o vá»‡ kÃ½ tá»± Ä‘áº·c biá»‡t: `ssh devops@"$host" uptime`
  - ThÃªm timeout vÃ  cháº¿ Ä‘á»™ non-interactive Ä‘á»ƒ automation:
      ssh -o BatchMode=yes -o ConnectTimeout=5 devops@"$host" uptime
    - `BatchMode=yes` sáº½ fail nhanh náº¿u cáº§n password (khÃ´ng prompt).
  - DÃ¹ng `-i` hoáº·c `~/.ssh/config` Ä‘á»ƒ chá»‰ file private key náº¿u cáº§n:
      ssh -i ~/.ssh/id_rsa -o BatchMode=yes devops@"$host" uptime
    hoáº·c cáº¥u hÃ¬nh `~/.ssh/config` Ä‘á»ƒ trÃ¡nh pháº£i viáº¿t `-i` nhiá»u láº§n.

8) TÄƒng tá»‘c / cháº¡y song song (khi nhiá»u host)
  - DÃ¹ng `xargs` vá»›i Ä‘a tiáº¿n trÃ¬nh:
      cat remhosts | xargs -n1 -P10 -I{} ssh -o BatchMode=yes devops@{} uptime
    - `-P10` cháº¡y 10 parallel processes.
  - DÃ¹ng `parallel` (GNU parallel) náº¿u cÃ³:
      parallel -a remhosts -j10 ssh devops@{} uptime
  - ChÃº Ã½: cháº¡y song song cáº§n cáº©n tháº­n vá»›i xÃ¡c thá»±c (ssh-agent) vÃ  táº£i máº¡ng.

9) Ghi output theo host vÃ o file
  - Ghi tá»«ng output vÃ o file riÃªng hoáº·c táº­p trung vá»›i tiá»n tá»‘ host:
      for host in $(cat remhosts); do
        echo "== $host ==" >> all_uptimes.txt
        ssh devops@"$host" uptime >> all_uptimes.txt 2>&1
      done

10) VÃ­ dá»¥ sá»­a lá»—i & robust script máº«u
  # robust-read-loop.sh
  while IFS= read -r host; do
    host="${host%%#*}"           # bá» comment sau dáº¥u #
    host="$(echo "$host" | xargs)"  # trim whitespace (xargs dÃ¹ng Ä‘á»ƒ trim)
    [ -z "$host" ] && continue
    echo "Checking $host..."
    if ssh -o BatchMode=yes -o ConnectTimeout=5 devops@"$host" uptime >/tmp/uptime_$host.txt 2>&1; then
      echo "$host: OK"
    else
      echo "$host: FAIL (see /tmp/uptime_$host.txt)"
    fi
  done < remhosts

11) Khi dÃ¹ng trong automation (CI/CD)
  - KhÃ´ng dÃ¹ng password interactive; dÃ¹ng SSH key cÃ³ passphrase + ssh-agent hoáº·c key khÃ´ng passphrase trong mÃ´i trÆ°á»ng an toÃ n.
  - Quyá»n file key: `chmod 600`.
  - Kiá»ƒm soÃ¡t known_hosts: cÃ³ thá»ƒ pre-seed `known_hosts` Ä‘á»ƒ trÃ¡nh prompt interactive.

12) CÃ¡c lÆ°u Ã½ báº£o máº­t
  - KhÃ´ng lÆ°u private key trong repository cÃ´ng khai.
  - Háº¡n cháº¿ user (devops) quyá»n náº¿u dÃ¹ng key chung.
  - Sá»­ dá»¥ng jump host / bastion náº¿u cáº§n truy cáº­p máº¡ng private.
  - XÃ¡c minh host key fingerprint náº¿u host má»›i xuáº¥t hiá»‡n (ngÄƒn MITM).

13) TÃ³m táº¯t nhanh cÃ¡c bÆ°á»›c kiá»ƒm tra khi lá»‡nh khÃ´ng cháº¡y
  - Kiá»ƒm tra ná»™i dung `remhosts` (Ä‘Æ°á»ng dáº«n, format).
  - Kiá»ƒm tra quyá»n vÃ  tá»“n táº¡i file private key (náº¿u cáº§n).
  - DÃ¹ng `ssh -v` Ä‘á»ƒ debug chi tiáº¿t káº¿t ná»‘i.
  - Kiá»ƒm tra DNS hoáº·c `/etc/hosts`.
  - Thá»­ connect thá»§ cÃ´ng: `ssh devops@the-problem-host` Ä‘á»ƒ tháº¥y prompt/lá»—i chi tiáº¿t.

14) Máº«u hÆ°á»›ng dáº«n (plain text) Ä‘á»ƒ copy vÃ o file .txt
  TiÃªu Ä‘á»: HÆ°á»›ng dáº«n & giáº£i thÃ­ch lá»‡nh `for host in \`cat remhosts\`; do ssh devops@$host uptime; done`
  -------------------------------------------------------------------------
  Má»¥c Ä‘Ã­ch:
    - Láº·p qua danh sÃ¡ch host trong file remhosts vÃ  cháº¡y lá»‡nh `uptime` trÃªn tá»«ng host báº±ng SSH vá»›i user devops.

  CÃº phÃ¡p ngáº¯n:
    for host in `cat remhosts`; do ssh devops@$host uptime; done

  LÆ°u Ã½ chÃ­nh & khuyáº¿n nghá»‹:
    - DÃ¹ng `while IFS= read -r host; do ...; done < remhosts` Ä‘á»ƒ Ä‘á»c dÃ²ng an toÃ n.
    - Quote biáº¿n: `ssh devops@"$host" uptime`
    - DÃ¹ng `-o BatchMode=yes` vÃ  `-o ConnectTimeout=5` cho automation.
    - DÃ¹ng `xargs -P` hoáº·c GNU parallel náº¿u muá»‘n cháº¡y song song.
    - Kiá»ƒm soÃ¡t known_hosts vÃ  SSH key Ä‘á»ƒ trÃ¡nh prompt tÆ°Æ¡ng tÃ¡c.

  VÃ­ dá»¥ robust:
    while IFS= read -r host; do
      [ -z "$host" ] && continue
      ssh -o BatchMode=yes -o ConnectTimeout=5 devops@"$host" uptime
    done < remhosts

  Troubleshooting:
    - Permission denied -> kiá»ƒm tra public key á»Ÿ server.
    - Could not resolve hostname -> kiá»ƒm tra DNS hoáº·c /etc/hosts.
    - Connection refused -> SSH server táº¯t hoáº·c firewall.

--- Háº¿t ---
		
		
		- cmd: for host in `cat remhosts`; do ssh devops@$host sudo yum install git -y;done
		
TiÃªu Ä‘á»:
    Giáº£i thÃ­ch chi tiáº¿t nháº¥t cho: for host in `cat remhosts`; do ssh devops@$host sudo yum install git -y; done

Má»¥c Ä‘Ã­ch chung:
    Lá»‡nh nÃ y cháº¡y má»™t vÃ²ng láº·p trÃªn má»—i dÃ²ng trong file `remhosts`, vá»›i má»—i giÃ¡ trá»‹ (tÃªn host hoáº·c Ä‘á»‹a chá»‰ IP) sáº½
    SSH tá»›i host Ä‘Ã³ báº±ng user `devops` vÃ  thá»±c thi lá»‡nh `sudo yum install git -y` Ä‘á»ƒ cÃ i gÃ³i `git` trÃªn remote.

CÃº phÃ¡p gá»‘c (nguyÃªn thá»§y):
    for host in `cat remhosts`; do ssh devops@$host sudo yum install git -y; done

Giáº£i thÃ­ch chi tiáº¿t tá»«ng pháº§n:

1) File danh sÃ¡ch hosts: `remhosts`
    - ÄÃ¢y lÃ  file text chá»©a cÃ¡c host (má»—i host trÃªn 1 dÃ²ng), vÃ­ dá»¥:
          192.168.1.10
          server02.example.com
          10.0.0.5
    - LÆ°u Ã½: khÃ´ng nÃªn cÃ³ dÃ²ng trá»‘ng hoáº·c khoáº£ng tráº¯ng thá»«a; náº¿u cÃ³, vÃ²ng láº·p cÃ³ thá»ƒ xá»­ lÃ½ nháº§m.

2) Backticks: `` `cat remhosts` ``
    - Cháº¡y lá»‡nh `cat remhosts` rá»“i chÃ¨n output vÃ o chá»— Ä‘Ã³ (command substitution).
    - NhÆ°á»£c Ä‘iá»ƒm: náº¿u host cÃ³ khoáº£ng tráº¯ng hoáº·c kÃ½ tá»± Ä‘áº·c biá»‡t, parsing sáº½ sai. NÃªn dÃ¹ng `$(cat remhosts)` hoáº·c
      â€” tá»‘t hÆ¡n â€” Ä‘á»c báº±ng `while read` (xem pháº§n cáº£i tiáº¿n).

3) for host in ...; do ...; done
    - `for` láº·p qua tá»«ng "word" trong output cá»§a command substitution.
    - Má»—i "word" gÃ¡n vÃ o biáº¿n `host`.

4) ssh devops@$host
    - Káº¿t ná»‘i SSH tá»›i host vá»›i username `devops`.
    - YÃªu cáº§u:
        + tÃ i khoáº£n `devops` tá»“n táº¡i trÃªn remote,
        + cÃ³ thá»ƒ xÃ¡c thá»±c (SSH key hoáº·c máº­t kháº©u).
    - Náº¿u authentication yÃªu cáº§u máº­t kháº©u, loop sáº½ dá»«ng chá» nháº­p máº­t kháº©u cho má»—i host â€” khÃ´ng tá»± Ä‘á»™ng Ä‘Æ°á»£c.

5) sudo yum install git -y
    - TrÃªn remote sáº½ cháº¡y `sudo yum install git -y` (cÃ i git trÃªn há»‡ dÃ¹ng yum / RHEL/CentOS/Amazon Linux).
    - `-y` tá»± Ä‘á»™ng tráº£ lá»i "yes" cho prompt cÃ i Ä‘áº·t.
    - YÃªu cáº§u `devops` cÃ³ quyá»n `sudo` trÃªn remote; náº¿u `sudo` yÃªu cáº§u password, SSH session sáº½ chá» nháº­p password.

Rá»§i ro & lÆ°u Ã½ quan trá»ng:
    - **Báº£o máº­t / xÃ¡c thá»±c:** Náº¿u báº¡n dÃ¹ng máº­t kháº©u tÆ°Æ¡ng tÃ¡c, loop sáº½ dá»«ng Ä‘á»ƒ nháº­p máº­t kháº©u nhiá»u láº§n â€” khÃ´ng phÃ¹ há»£p cho automation.
      NÃªn cáº¥u hÃ¬nh SSH key-based authentication (ssh-copy-id) cho user `devops`.
    - **Sudo password:** Náº¿u `sudo` yÃªu cáº§u máº­t kháº©u, lá»‡nh sáº½ fail hoáº·c treo. Báº¡n cÃ³ thá»ƒ cáº¥u hÃ¬nh passwordless sudo cho `devops`
      (tháº­n trá»ng â€” chá»‰ Ã¡p dá»¥ng khi báº¡n hiá»ƒu rá»§i ro).
    - **Parsing host:** DÃ¹ng backticks cÃ³ thá»ƒ gÃ¢y lá»—i náº¿u cÃ³ kÃ½ tá»± tráº¯ng. DÃ¹ng `while read` Ä‘á»ƒ an toÃ n.
    - **Idempotence:** Náº¿u lá»‡nh cháº¡y nhiá»u láº§n, `yum install` sáº½ khÃ´ng gÃ¢y lá»—i (nÃ³ sáº½ bÃ¡o Ä‘Ã£ cÃ i). Tuy nhiÃªn tá»‘t hÆ¡n kiá»ƒm tra trÆ°á»›c:
          rpm -q git || sudo yum install -y git
    - **Host key checking:** Láº§n Ä‘áº§u SSH tá»›i host má»›i sáº½ yÃªu cáº§u cháº¥p nháº­n host key. Äiá»u nÃ y lÃ m dá»«ng automation. CÃ³ thá»ƒ
      sá»­ dá»¥ng `-o StrictHostKeyChecking=no` (nhÆ°ng lÆ°u Ã½ rá»§i ro MITM) hoáº·c trÆ°á»›c Ä‘Ã³ thÃªm known_hosts.
    - **Song song / hiá»‡u nÄƒng:** Lá»‡nh cháº¡y tuáº§n tá»±; vá»›i nhiá»u host cÃ³ thá»ƒ lÃ¢u. CÃ³ thá»ƒ dÃ¹ng `xargs -P` hoáº·c tools nhÆ° Ansible, pssh.

CÃ¡c cÃ¡ch cáº£i thiá»‡n (an toÃ n & thá»±c dá»¥ng):

A) Cáº£i tiáº¿n giá»¯ format Ä‘Æ¡n giáº£n (trÃ¡nh backticks; Ä‘á»c theo dÃ²ng):
    for host in $(cat remhosts); do
        ssh devops@"$host" sudo yum install git -y
    done

B) CÃ¡ch an toÃ n hÆ¡n (Ä‘á»c theo dÃ²ng, xá»­ lÃ½ tÃªn host cÃ³ khoáº£ng tráº¯ng â€” hiáº¿m):
    while IFS= read -r host; do
        [ -z "$host" ] && continue      # bá» qua dÃ²ng rá»—ng
        ssh devops@"$host" sudo yum install git -y
    done < remhosts

C) Kiá»ƒm tra trÆ°á»›c khi cÃ i (khÃ´ng lÃ m rá»‘i output náº¿u git Ä‘Ã£ cÃ³):
    while IFS= read -r host; do
        [ -z "$host" ] && continue
        ssh -o BatchMode=yes devops@"$host" "rpm -q git || sudo yum install -y git"
    done < remhosts
    - `-o BatchMode=yes` lÃ m SSH fail ngay náº¿u khÃ´ng thá»ƒ auth báº±ng key (khÃ´ng há»i password).

D) Ghi log vÃ  bÃ¡o lá»—i (theo host):
    mkdir -p /tmp/remotes_install_logs
    while IFS= read -r host; do
        [ -z "$host" ] && continue
        echo "=== $host ===" >> /tmp/remotes_install_logs/install.log
        ssh -o BatchMode=yes devops@"$host" "rpm -q git || sudo yum install -y git" \
            >> /tmp/remotes_install_logs/"$host".log 2>&1 || echo "FAILED: $host" >> /tmp/remotes_install_logs/install.log
    done < remhosts

E) Cháº¡y song song vá»›i xargs (nhanh hÆ¡n; cáº©n tháº­n vá»›i sá»‘ káº¿t ná»‘i):
    cat remhosts | xargs -n1 -P10 -I{} ssh -o BatchMode=yes devops@{} "rpm -q git || sudo yum install -y git"
    - `-P10` cháº¡y tá»‘i Ä‘a 10 tiáº¿n trÃ¬nh song song; Ä‘iá»u chá»‰nh theo kháº£ nÄƒng máº¡ng/SSH server.

F) Thay tháº¿ báº±ng Ansible (khuyáº¿n nghá»‹ cho quáº£n trá»‹ nhiá»u host):
    - Ansible xá»­ lÃ½ idempotence, parallel, káº¿t quáº£, vÃ  xÃ¡c thá»±c tá»‘t hÆ¡n.
    - Playbook máº«u: `ansible all -i remhosts -m yum -a "name=git state=present" -u devops`

HÆ°á»›ng dáº«n thiáº¿t láº­p SSH key (náº¿u chÆ°a cÃ³):
    # TrÃªn local
    ssh-keygen -t rsa -b 4096 -f ~/.ssh/id_rsa_devops
    # Copy public key tá»›i remote (cháº¡y 1 láº§n)
    ssh-copy-id -i ~/.ssh/id_rsa_devops.pub devops@host
    # SSH sá»­ dá»¥ng key:
    ssh -i ~/.ssh/id_rsa_devops devops@host

CÃ¡c lá»—i thÆ°á»ng gáº·p & cÃ¡ch xá»­ lÃ½:
    - "Permission denied (publickey,password)." -> chÆ°a cáº¥u hÃ¬nh SSH key hoáº·c sai quyá»n.
    - "sudo: a password is required" -> user `devops` cáº§n nháº­p sudo password; Ä‘á»ƒ automation dÃ¹ng passwordless sudo hoáº·c thÃªm bÆ°á»›c nháº­p password an toÃ n.
    - "Host key verification failed." -> host chÆ°a cÃ³ trong `~/.ssh/known_hosts`; thÃªm trÆ°á»›c báº±ng `ssh-keyscan`.
        ssh-keyscan -H host >> ~/.ssh/known_hosts
    - Lá»—i máº¡ng/timed out -> kiá»ƒm tra firewall/port 22/selinux/security group.

VÃ­ dá»¥ thá»±c táº¿ (báº£n copy-ready Ä‘á»ƒ dÃ¡n vÃ o file .txt):

    #!/bin/bash
    # Script: install-git-on-remotes.sh
    # MÃ´ táº£: cÃ i git trÃªn cÃ¡c host liá»‡t kÃª trong file remhosts
    set -o errexit
    set -o nounset
    set -o pipefail

    REMHOSTS="remhosts"
    LOGDIR="/tmp/remotes_install_logs"
    mkdir -p "$LOGDIR"

    while IFS= read -r host; do
        # bá» qua dÃ²ng rá»—ng vÃ  comment
        host="$(echo "$host" | sed 's/#.*//; s/^[[:space:]]*//; s/[[:space:]]*$//')"
        [ -z "$host" ] && continue

        echo "--- $host ---" | tee -a "$LOGDIR/install.log"
        ssh -o BatchMode=yes -o ConnectTimeout=10 devops@"$host" "rpm -q git || sudo yum install -y git" \
            >> "$LOGDIR/$host.log" 2>&1 || echo "FAILED: $host (see $LOGDIR/$host.log)" | tee -a "$LOGDIR/install.log"
    done < "$REMHOSTS"

TÃ³m táº¯t ngáº¯n:
    - Lá»‡nh gá»‘c láº·p qua hosts trong `remhosts`, SSH tá»›i má»—i host vá»›i user `devops` vÃ  cháº¡y `sudo yum install git -y`.
    - Äá»ƒ automation an toÃ n vÃ  khÃ´ng bá»‹ treo: dÃ¹ng SSH key, dÃ¹ng `-o BatchMode=yes` náº¿u khÃ´ng muá»‘n prompt password, hoáº·c cáº¥u hÃ¬nh passwordless sudo.
    - NÃªn dÃ¹ng `while read` thay vÃ¬ backticks Ä‘á»ƒ trÃ¡nh lá»—i parsing; cÃ¢n nháº¯c dÃ¹ng xargs/pssh/Ansible cho sá»‘ lÆ°á»£ng host lá»›n.
    - LuÃ´n log káº¿t quáº£ vÃ  kiá»ƒm tra/khÃ´i phá»¥c náº¿u cÃ³ lá»—i.

Káº¿t thÃºc.
		
		
		- cmd: echo "testfile" >testfile.txt
		
echo "testfile" >testfile.txt

Má»¥c Ä‘Ã­ch:
Ghi chuá»—i kÃ½ tá»± "testfile" vÃ o má»™t tá»‡p tÃªn testfile.txt â€” náº¿u tá»‡p chÆ°a tá»“n táº¡i thÃ¬ táº¡o má»›i, náº¿u tá»‡p Ä‘Ã£ tá»“n táº¡i thÃ¬ **ghi Ä‘Ã¨** (overwrite) ná»™i dung cÅ©.

Giáº£i thÃ­ch chi tiáº¿t tá»«ng pháº§n:

* echo: lá»‡nh Ä‘Æ¡n giáº£n dÃ¹ng Ä‘á»ƒ in (xuáº¥t) chuá»—i kÃ½ tá»± ra chuáº©n Ä‘áº§u ra (stdout). VÃ­ dá»¥: echo "hello" sáº½ in dÃ²ng hello.
* "testfile": chuá»—i kÃ½ tá»± Ä‘Æ°á»£c Ä‘áº·t trong dáº¥u ngoáº·c kÃ©p. DÃ¹ng dáº¥u ngoáº·c kÃ©p báº£o toÃ n chuá»—i nguyÃªn váº¹n (bao gá»“m dáº¥u cÃ¡ch, biáº¿n mÃ´i trÆ°á»ng sáº½ váº«n Ä‘Æ°á»£c má»Ÿ rá»™ng náº¿u cÃ³). Náº¿u báº¡n dÃ¹ng dáº¥u nhÃ¡y Ä‘Æ¡n 'testfile' thÃ¬ ná»™i dung sáº½ Ä‘Æ°á»£c giá»¯ nguyÃªn vÃ  cÃ¡c biáº¿n sáº½ khÃ´ng Ä‘Æ°á»£c má»Ÿ rá»™ng.
* > : toÃ¡n tá»­ chuyá»ƒn hÆ°á»›ng (redirection) stdout sang tá»‡p. ToÃ¡n tá»­ Ä‘Æ¡n > sáº½ táº¡o tá»‡p má»›i náº¿u chÆ°a tá»“n táº¡i, hoáº·c xÃ³a/ghi Ä‘Ã¨ ná»™i dung hiá»‡n cÃ³ cá»§a tá»‡p náº¿u tá»‡p Ä‘Ã£ tá»“n táº¡i.
* testfile.txt: tÃªn tá»‡p Ä‘Ã­ch sáº½ chá»©a ná»™i dung Ä‘Æ°á»£c chuyá»ƒn hÆ°á»›ng.

HÃ nh vi chi tiáº¿t:

* Sau khi cháº¡y, file testfile.txt sáº½ chá»©a duy nháº¥t má»™t dÃ²ng: testfile (kÃ¨m kÃ½ tá»± xuá»‘ng dÃ²ng cuá»‘i dÃ²ng do echo máº·c Ä‘á»‹nh thÃªm xuá»‘ng dÃ²ng).
* Náº¿u trÆ°á»›c Ä‘Ã³ testfile.txt cÃ³ ná»™i dung, ná»™i dung Ä‘Ã³ **bá»‹ máº¥t** vÃ  thay báº±ng "testfile".

VÃ­ dá»¥ thá»±c táº¿:
$ echo "testfile" >testfile.txt
$ cat testfile.txt
testfile

So sÃ¡nh vá»›i append (thÃªm vÃ o cuá»‘i tá»‡p):

* Ghi Ä‘Ã¨: >
  echo "A" >file.txt   # file.txt chá»‰ cÃ²n 1 dÃ²ng A
* ThÃªm vÃ o cuá»‘i: >>
  echo "B" >>file.txt  # náº¿u file.txt Ä‘Ã£ cÃ³ A thÃ¬ sáº½ thÃ nh:\nA\nB

Má»™t sá»‘ biáº¿n thá»ƒ vÃ  tuá»³ chá»n thÆ°á»ng dÃ¹ng:

* echo testfile > testfile.txt  # khÃ´ng dÃ¹ng dáº¥u ngoáº·c kÃ©p náº¿u ná»™i dung khÃ´ng chá»©a khoáº£ng tráº¯ng hay kÃ½ tá»± Ä‘áº·c biá»‡t
* echo "Line 1\nLine 2" > file.txt  # chÃº Ã½: echo máº·c Ä‘á»‹nh khÃ´ng luÃ´n diá»…n giáº£i \n trÃªn má»i shell; dÃ¹ng printf Ä‘á»ƒ kiá»ƒm soÃ¡t chÃ­nh xÃ¡c dÃ²ng:
  printf "Line 1\nLine 2\n" > file.txt
* printf "testfile\n" > testfile.txt  # khi cáº§n kiá»ƒm soÃ¡t newline chÃ­nh xÃ¡c
* echo "$HOME" > file.txt  # vá»›i dáº¥u ngoáº·c kÃ©p biáº¿n sáº½ Ä‘Æ°á»£c má»Ÿ rá»™ng; dÃ¹ng '$HOME' hoáº·c single quotes Ä‘á»ƒ trÃ¡nh má»Ÿ rá»™ng

Quyá»n truy cáº­p vÃ  lá»—i hay gáº·p:

* Permission denied
  -> Náº¿u báº¡n khÃ´ng cÃ³ quyá»n ghi vÃ o thÆ° má»¥c hiá»‡n táº¡i, shell sáº½ bÃ¡o lá»—i: "bash: testfile.txt: Permission denied".
  Giáº£i phÃ¡p: ghi vÃ o thÆ° má»¥c báº¡n cÃ³ quyá»n, hoáº·c dÃ¹ng sudo (chÃº Ã½: sudo echo "..." > /root/file.txt sáº½ **khÃ´ng** cháº¡y vá»›i quyá»n root vÃ¬ redirection do shell cá»¥c bá»™ thá»±c hiá»‡n). VÃ­ dá»¥ Ä‘Ãºng cÃ¡ch vá»›i sudo:
  echo "testfile" | sudo tee /root/testfile.txt > /dev/null
  hoáº·c
  sudo sh -c 'echo "testfile" > /root/testfile.txt'
* ToÃ¡n tá»­ > máº¥t ná»™i dung cÅ©
  -> Náº¿u báº¡n muá»‘n *báº£o tá»“n* ná»™i dung cÅ© vÃ  thÃªm vÃ o, dÃ¹ng >> thay vÃ¬ >.

TÆ°Æ¡ng tÃ¡c vá»›i biáº¿n mÃ´i trÆ°á»ng vÃ  kÃ½ tá»± Ä‘áº·c biá»‡t:

* Náº¿u chuá»—i chá»©a kÃ½ tá»± shell (vÃ­ dá»¥ $, `, !), hÃ£y cáº©n tháº­n vá»›i dáº¥u ngoáº·c kÃ©p vÃ  nhÃ¡y Ä‘Æ¡n Ä‘á»ƒ trÃ¡nh má»Ÿ rá»™ng khÃ´ng mong muá»‘n.

  * echo "$VAR" -> má»Ÿ rá»™ng biáº¿n
  * echo '$VAR' -> giá»¯ nguyÃªn kÃ½ tá»± $VAR
* Náº¿u cáº§n ghi nhiá»u dÃ²ng má»™t lÃºc, dÃ¹ng EOF heredoc:
  cat > testfile.txt <<'EOF'
  DÃ²ng 1
  DÃ²ng 2
  EOF
  (dÃ¹ng <<'EOF' Ä‘á»ƒ trÃ¡nh má»Ÿ rá»™ng biáº¿n bÃªn trong heredoc)

CÃ¡c lá»‡nh thay tháº¿/tiá»‡n Ã­ch:

* tee: dÃ¹ng khi cáº§n ghi Ä‘á»“ng thá»i vÃ o tá»‡p vÃ  in ra stdout, hoáº·c khi cáº§n sudo Ä‘á»ƒ ghi tá»‡p thuá»™c thÆ° má»¥c root:
  echo "testfile" | tee testfile.txt
  echo "secret" | sudo tee /etc/somefile > /dev/null
* printf: chÃ­nh xÃ¡c hÆ¡n echo cho cÃ¡c chuá»—i cÃ³ escape sequences:
  printf "Line1\nLine2\n" > testfile.txt

An toÃ n vÃ  lÆ°u Ã½:

* TrÃ¡nh vÃ´ tÃ¬nh ghi Ä‘Ã¨ tá»‡p quan trá»ng. Tháº­n trá»ng khi dÃ¹ng > vá»›i tÃªn tá»‡p cÃ³ thá»ƒ chá»©a dá»¯ liá»‡u quan trá»ng.
* Náº¿u muá»‘n an toÃ n hÆ¡n, báº¡n cÃ³ thá»ƒ kiá»ƒm tra tá»“n táº¡i trÆ°á»›c khi ghi:
  if [ -f testfile.txt ]; then echo "File exists"; else echo "testfile" > testfile.txt; fi

TÃ³m táº¯t 1 dÃ²ng:
echo "testfile" >testfile.txt â€” in chuá»—i "testfile" vÃ  ghi (ghi Ä‘Ã¨) vÃ o file testfile.txt (táº¡o file náº¿u chÆ°a cÃ³).

---

End of file.
		
		
		- cmd: scp testfile.txt devops@web01:/tmp/
		
SCP - GIáº¢I THÃCH CHI TIáº¾T

Lá»‡nh máº«u:
scp testfile.txt devops@web01:/tmp/

Má»¥c Ä‘Ã­ch (tÃ³m táº¯t):
Lá»‡nh nÃ y sao chÃ©p file `testfile.txt` tá»« mÃ¡y cá»¥c bá»™ (local) sang mÃ¡y chá»§ tá»« xa (remote) cÃ³ hostname `web01`, vÃ o thÆ° má»¥c `/tmp/`, Ä‘Äƒng nháº­p dÆ°á»›i user `devops`. `scp` dÃ¹ng giao thá»©c SSH Ä‘á»ƒ truyá»n file nÃªn an toÃ n (Ä‘Æ°á»£c mÃ£ hoÃ¡).

Giáº£i thÃ­ch tá»«ng pháº§n cá»§a lá»‡nh:

* `scp` : chÆ°Æ¡ng trÃ¬nh Secure Copy (sao chÃ©p file qua SSH).
* `testfile.txt` : file nguá»“n trÃªn mÃ¡y local (cÃ³ thá»ƒ lÃ  Ä‘Æ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i hoáº·c tuyá»‡t Ä‘á»‘i).
* `devops@web01` : user vÃ  hostname (hoáº·c IP) cá»§a mÃ¡y Ä‘Ã­ch. Náº¿u mÃ¡y Ä‘Ã­ch cáº§n má»™t cá»•ng SSH khÃ¡c, dÃ¹ng tÃ¹y chá»n `-P` (chÃº Ã½ chá»¯ P hoa).
* `:/tmp/` : Ä‘Æ°á»ng dáº«n Ä‘Ã­ch trÃªn mÃ¡y remote â€” dáº¥u `:` phÃ¢n tÃ¡ch host vÃ  Ä‘Æ°á»ng dáº«n.

HÃ nh vi máº·c Ä‘á»‹nh vÃ  xÃ¡c thá»±c:

* `scp` sáº½ má»Ÿ káº¿t ná»‘i SSH tá»›i `web01` dÆ°á»›i user `devops`. Náº¿u báº¡n chÆ°a cáº¥u hÃ¬nh SSH key, nÃ³ sáº½ yÃªu cáº§u máº­t kháº©u `devops` trÃªn server.
* File sáº½ Ä‘Æ°á»£c ghi vÃ o `/tmp/testfile.txt` trÃªn remote (tÃªn giá»¯ nguyÃªn). Náº¿u `/tmp/` khÃ´ng tá»“n táº¡i hoáº·c khÃ´ng cÃ³ quyá»n ghi cho user `devops`, lá»‡nh sáº½ bÃ¡o lá»—i.

TÃ¹y chá»n há»¯u dá»¥ng:

* `-P <port>` : chá»‰ Ä‘á»‹nh cá»•ng SSH khÃ¡c (vÃ­ dá»¥ `-P 2222`). LÆ°u Ã½: `-P` viáº¿t hoa.
  VÃ­ dá»¥: `scp -P 2222 testfile.txt devops@web01:/tmp/`
* `-i <identity_file>` : chá»‰ Ä‘á»‹nh private key Ä‘á»ƒ dÃ¹ng xÃ¡c thá»±c (vÃ­ dá»¥ `-i ~/.ssh/id_ed25519`).
  VÃ­ dá»¥: `scp -i ~/.ssh/id_ed25519 testfile.txt devops@web01:/tmp/`
* `-r` : sao chÃ©p thÆ° má»¥c theo dáº¡ng Ä‘á»‡ quy (khi muá»‘n copy cáº£ thÆ° má»¥c).
  VÃ­ dá»¥: `scp -r mydir devops@web01:/tmp/`
* `-C` : báº­t nÃ©n dá»¯ liá»‡u khi truyá»n (cÃ³ thá»ƒ tÄƒng tá»‘c khi bÄƒng thÃ´ng lÃ  nÃºt cá»• chai).
* `-p` : giá»¯ nguyÃªn thá»i gian chá»‰nh sá»­a, quyá»n vÃ  cháº¿ Ä‘á»™ file (preserve).
* `-v` : verbose, hiá»ƒn thá»‹ thÃ´ng tin debug (há»¯u Ã­ch khi gáº·p lá»—i xÃ¡c thá»±c/connection).

Má»™t vÃ i vÃ­ dá»¥ thá»±c táº¿:

1. Copy file tá»›i server dÃ¹ng key vÃ  port tÃ¹y chá»‰nh:
   scp -i ~/.ssh/id_ed25519 -P 2222 testfile.txt devops@192.168.10.5:/tmp/

2. Copy thÆ° má»¥c `site/` sang server:
   scp -r site/ devops@web01:/var/www/

3. Copy tá»« remote vá» local (ngÆ°á»£c láº¡i):
   scp devops@web01:/tmp/testfile.txt ./

4. Copy nhiá»u file cÃ¹ng lÃºc:
   scp file1.txt file2.txt devops@web01:/tmp/

Quyá»n vÃ  Ä‘Æ°á»ng dáº«n:

* Äáº£m báº£o user `devops` cÃ³ quyá»n ghi vÃ o thÆ° má»¥c Ä‘Ã­ch `/tmp/`.
* Náº¿u Ä‘Æ°á»ng dáº«n Ä‘Ã­ch káº¿t thÃºc báº±ng `/` thÃ¬ file giá»¯ nguyÃªn tÃªn. Náº¿u chá»‰ Ä‘á»‹nh Ä‘Æ°á»ng dáº«n tá»‡p Ä‘áº§y Ä‘á»§ (vÃ­ dá»¥ `/tmp/abc.txt`), file sáº½ Ä‘Æ°á»£c lÆ°u vá»›i tÃªn Ä‘Ã³.

CÃ¡c lá»—i thÃ´ng thÆ°á»ng & cÃ¡ch kháº¯c phá»¥c:

1. Permission denied (publickey,password):

   * Náº¿u server chá»‰ cho phÃ©p xÃ¡c thá»±c báº±ng key, hÃ£y dÃ¹ng `-i` vá»›i private key tÆ°Æ¡ng á»©ng hoáº·c thÃªm public key vÃ o `~/.ssh/authorized_keys` trÃªn server.
   * Náº¿u nháº­p sai máº­t kháº©u, kiá»ƒm tra user/password.
2. No such file or directory: Ä‘áº£m báº£o file nguá»“n tá»“n táº¡i vÃ  Ä‘Æ°á»ng dáº«n Ä‘Ã­ch Ä‘Ãºng.
3. Host key verification failed / WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!:

   * Host key change cÃ³ thá»ƒ do server cÃ i láº¡i hoáº·c táº¥n cÃ´ng MITM. Kiá»ƒm tra vÃ  xÃ³a entry cÅ© trong `~/.ssh/known_hosts` náº¿u báº¡n cháº¯c cháº¯n.
4. Connection timed out / Connection refused:

   * Kiá»ƒm tra host cÃ³ thá»ƒ ping Ä‘Æ°á»£c, cá»•ng SSH má»Ÿ, vÃ  firewall/ security group cho phÃ©p káº¿t ná»‘i.
5. TÃªn host chá»©a kÃ½ tá»± Ä‘áº·c biá»‡t hoáº·c biáº¿n: hÃ£y Ä‘áº·t trong dáº¥u ngoáº·c kÃ©p hoáº·c escape.
   VÃ­ dá»¥: `scp "file name with spaces.txt" devops@web01:/tmp/`

LÆ°u Ã½ vá» hiá»‡u nÄƒng vÃ  resume:

* `scp` khÃ´ng há»— trá»£ resume truyá»n file náº¿u bá»‹ giÃ¡n Ä‘oáº¡n. Náº¿u cáº§n resume hoáº·c sync chá»‰ khÃ¡c biá»‡t, dÃ¹ng `rsync` qua SSH:
  rsync -avz -e "ssh -p 2222" ./ test@web01:/tmp/
* `scp -C` cÃ³ thá»ƒ giáº£m dung lÆ°á»£ng truyá»n náº¿u file nÃ©n tá»‘t.

Báº£o máº­t vÃ  thá»±c tiá»…n:

* `scp` sá»­ dá»¥ng SSH, vÃ¬ váº­y báº£o máº­t tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i SSH (mÃ£ hoÃ¡, xÃ¡c thá»±c báº±ng key/máº­t kháº©u).
* Trong nhiá»u mÃ´i trÆ°á»ng, `rsync` (qua SSH) hoáº·c `sftp`/`scp` thay tháº¿ hiá»‡n Ä‘áº¡i (nhÆ° `sftp` hoáº·c `rsync`) Ä‘Æ°á»£c khuyÃªn dÃ¹ng cho tÃ­nh nÄƒng nÃ¢ng cao (resume, filter, delta-transfer).

TÃ³m táº¯t nhanh:

* Lá»‡nh `scp testfile.txt devops@web01:/tmp/` â€” copy file local `testfile.txt` sang server `web01` vÃ o `/tmp/` báº±ng user `devops`.
* Náº¿u khÃ´ng muá»‘n nháº­p máº­t kháº©u má»—i láº§n, cáº¥u hÃ¬nh SSH key vÃ  dÃ¹ng `-i` náº¿u cáº§n dÃ¹ng key riÃªng.
* DÃ¹ng `-P` Ä‘á»ƒ chá»‰ Ä‘á»‹nh port, `-r` Ä‘á»ƒ copy thÆ° má»¥c, `-C` Ä‘á»ƒ nÃ©n, vÃ  chuyá»ƒn sang `rsync` náº¿u cáº§n resume hoáº·c sync thÃ´ng minh.

---

Háº¾T

(ÄÃ¢y lÃ  text plain, báº¡n cÃ³ thá»ƒ sao chÃ©p toÃ n bá»™ vÃ  dÃ¡n vÃ o file .txt.)
		
		
		- cmd: scp testfile.txt devops@web01:/root/
		
TiÃªu Ä‘á»: Giáº£i thÃ­ch chi tiáº¿t lá»‡nh: scp -i ~/.ssh/id_rsa testfile.txt devops@web01:/root/
(Ná»™i dung á»Ÿ dáº¡ng PLAIN TEXT â€” cÃ³ thá»ƒ copy toÃ n bá»™ vÃ o file .txt)

1. CÃ¢u lá»‡nh gá»‘c
   scp -i ~/.ssh/id_rsa testfile.txt devops@web01:/root/

2. Má»¥c Ä‘Ã­ch
   DÃ¹ng scp (Secure Copy) Ä‘á»ƒ truyá»n file `testfile.txt` tá»« mÃ¡y local tá»›i thÆ° má»¥c `/root/` trÃªn
   mÃ¡y tá»« xa `web01`, sá»­ dá»¥ng tÃ i khoáº£n `devops`, vÃ  chá»‰ Ä‘á»‹nh private key `~/.ssh/id_rsa`
   Ä‘á»ƒ xÃ¡c thá»±c (thay vÃ¬ há»i password hoáº·c dÃ¹ng key máº·c Ä‘á»‹nh).

3. PhÃ¢n tÃ­ch tá»«ng pháº§n

   * scp
     : ChÆ°Æ¡ng trÃ¬nh Secure Copy, truyá»n file qua SSH.
   * -i ~/.ssh/id_rsa
     : Chá»‰ Ä‘á»‹nh file private key (.pem / id_rsa) Ä‘á»ƒ ssh/sftp/s cp sá»­ dá»¥ng trong quÃ¡ trÃ¬nh xÃ¡c thá»±c.
     LÆ°u Ã½: scp sáº½ dÃ¹ng private key tÆ°Æ¡ng á»©ng vá»›i public key Ä‘Ã£ cÃ i trÃªn remote (~/.ssh/authorized_keys).
   * testfile.txt
     : File nguá»“n trÃªn mÃ¡y local (Ä‘Æ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i hoáº·c tuyá»‡t Ä‘á»‘i).
   * devops@web01:/root/
     : ÄÃ­ch Ä‘áº¿n á»Ÿ dáº¡ng user@host:/path. á» Ä‘Ã¢y devops lÃ  user trÃªn web01 vÃ  /root/ lÃ  Ä‘Æ°á»ng dáº«n
     trÃªn mÃ¡y tá»« xa.

4. Äiá»u kiá»‡n tiÃªn quyáº¿t

   * File ~/.ssh/id_rsa lÃ  private key Ä‘Ãºng, vÃ  public key tÆ°Æ¡ng á»©ng Ä‘Ã£ Ä‘Æ°á»£c cÃ i trÃªn
     `/home/devops/.ssh/authorized_keys` (hoáº·c nÆ¡i phÃ¹ há»£p) trÃªn web01.
   * Quyá»n file private key trÃªn local pháº£i háº¡n cháº¿ (chmod 600 ~/.ssh/id_rsa).
   * MÃ¡y tá»« xa reachable vÃ  SSH Ä‘ang cháº¡y.
   * TÃ i khoáº£n devops tá»“n táº¡i trÃªn web01.
   * Quyá»n ghi vÃ o /root/ trÃªn web01: LÆ°u Ã½ quan trá»ng (xem má»¥c 6) â€” thÆ°á»ng devops khÃ´ng cÃ³ quyá»n ghi /root/.

5. VÃ¬ sao dÃ¹ng -i ?

   * Khi báº¡n cÃ³ nhiá»u private key hoáº·c key khÃ´ng náº±m á»Ÿ vá»‹ trÃ­ máº·c Ä‘á»‹nh (~/.ssh/id_rsa, ~/.ssh/id_ed25519),
     hoáº·c báº¡n muá»‘n cháº¯c cháº¯n dÃ¹ng má»™t key cá»¥ thá»ƒ, dÃ¹ng -i Ä‘á»ƒ chá»‰ Ä‘á»‹nh Ä‘Æ°á»ng dáº«n tá»›i private key.
   * TrÃ¡nh viá»‡c scp/ssh thá»­ cÃ¡c key khÃ¡c hoáº·c há»i password; há»¯u Ã­ch cho automation.

6. Quyá»n truy cáº­p tá»›i /root/

   * ThÆ° má»¥c /root/ thÆ°á»ng chá»‰ thuá»™c vá» user root. Náº¿u `devops` khÃ´ng pháº£i root, lá»‡nh scp tá»›i /root/ sáº½
     bá»‹ "Permission denied".
   * Giáº£i phÃ¡p:
     a) Sao chÃ©p tá»›i home cá»§a devops rá»“i SSH vÃ  sudo di chuyá»ƒn:
     scp -i ~/.ssh/id_rsa testfile.txt devops@web01:~/
     ssh -i ~/.ssh/id_rsa devops@web01 'sudo mv ~/testfile.txt /root/ && sudo chown root:root /root/testfile.txt'
     b) Náº¿u Ä‘Æ°á»£c phÃ©p, cháº¡y scp nhÆ° root: scp -i ~/.ssh/id_rsa testfile.txt root@web01:/root/
     c) Cáº¥u hÃ¬nh sudoers Ä‘á»ƒ devops cÃ³ thá»ƒ di chuyá»ƒn file vÃ o /root/ mÃ  khÃ´ng cáº§n password (pháº£i cÃ¢n nháº¯c báº£o máº­t).

7. TÃ¹y chá»n há»¯u Ã­ch

   * -P port
     scp -P 2222 -i ~/.ssh/id_rsa testfile.txt devops@web01:/root/
     (LÆ°u Ã½: scp dÃ¹ng -P uppercase Ä‘á»ƒ chá»‰ port)
   * -r
     scp -r -i ~/.ssh/id_rsa mydir/ devops@web01:/root/   # sao chÃ©p Ä‘á»‡ quy thÆ° má»¥c
   * -C
     scp -C -i ~/.ssh/id_rsa testfile.txt devops@web01:/root/   # nÃ©n trong quÃ¡ trÃ¬nh truyá»n
   * -v
     scp -v -i ~/.ssh/id_rsa testfile.txt devops@web01:/root/   # verbose Ä‘á»ƒ debug

8. VÃ­ dá»¥ thá»±c táº¿

   * Copy file dÃ¹ng private key máº·c Ä‘á»‹nh á»Ÿ ~/.ssh/id_rsa:
     scp -i ~/.ssh/id_rsa testfile.txt devops@web01:/root/
   * Copy qua port 2222 vá»›i key cá»¥ thá»ƒ vÃ  IP:
     scp -P 2222 -i ~/.ssh/id_rsa testfile.txt devops@192.168.10.13:/root/
   * An toÃ n hÆ¡n (copy tá»›i home rá»“i dÃ¹ng sudo Ä‘á»ƒ di chuyá»ƒn):
     scp -i ~/.ssh/id_rsa testfile.txt devops@web01:~/ && ssh -i ~/.ssh/id_rsa devops@web01 'sudo mv ~/testfile.txt /root/'

9. Lá»—i thÆ°á»ng gáº·p & cÃ¡ch kháº¯c phá»¥c

   * Permission denied (publickey)
     -> Private key khÃ´ng khá»›p public key trÃªn remote, hoáº·c quyá»n file private key khÃ´ng Ä‘á»§ cháº·t. Kiá»ƒm tra

     * Public key Ä‘Ã£ cÃ³ trong ~/.ssh/authorized_keys cá»§a devops trÃªn web01?
     * Quyá»n: chmod 600 ~/.ssh/id_rsa ; chmod 700 ~/.ssh ; chmod 600 ~/.ssh/authorized_keys (remote)
   * Permission denied (destination: /root/)
     -> devops khÃ´ng cÃ³ quyá»n ghi /root/. Giáº£i phÃ¡p: copy tá»›i thÆ° má»¥c cÃ³ thá»ƒ ghi (~/), hoáº·c dÃ¹ng root user.
   * Connection refused / No route to host
     -> SSH server khÃ´ng reachable; kiá»ƒm tra máº¡ng, firewall, DNS, port.
   * Host key verification failed / REMOTE HOST IDENTIFICATION HAS CHANGED
     -> Host key changed; kiá»ƒm tra nguyÃªn nhÃ¢n vÃ  cáº­p nháº­t/ xÃ³a dÃ²ng tÆ°Æ¡ng á»©ng trong ~/.ssh/known_hosts náº¿u an toÃ n.
   * bad ownership or modes for directory /home/.../.ssh
     -> Náº¿u permission trÃªn remote cho ~/.ssh hoáº·c home quÃ¡ má»Ÿ, sshd cÃ³ thá»ƒ tá»« chá»‘i. Sá»­a quyá»n phÃ¹ há»£p.

10. Quyá»n file private key (quan trá»ng)

    * Private key (~/.ssh/id_rsa) pháº£i chá»‰ cÃ³ thá»ƒ Ä‘á»c Ä‘Æ°á»£c bá»Ÿi owner:
      chmod 600 ~/.ssh/id_rsa
    * ThÆ° má»¥c ~/.ssh nÃªn cÃ³: chmod 700 ~/.ssh
    * Náº¿u quyá»n khÃ´ng Ä‘Ãºng, ssh sáº½ cáº£nh bÃ¡o/ tá»« chá»‘i sá»­ dá»¥ng key.

11. Báº£o máº­t & lÆ°u Ã½

    * KhÃ´ng Ä‘áº·t private key á»Ÿ nÆ¡i cÃ³ thá»ƒ bá»‹ truy cáº­p cÃ´ng cá»™ng.
    * TrÃ¡nh truyá»n private key qua máº¡ng hoáº·c lÆ°u private key trong repo.
    * Náº¿u cáº§n automation, dÃ¹ng ssh-agent hoáº·c deploy key cÃ³ quyá»n giá»›i háº¡n.

12. Kiá»ƒm tra sau khi copy

    * SSH vÃ o remote vÃ  kiá»ƒm tra vá»‹ trÃ­ Ä‘Ã­ch:
      ssh -i ~/.ssh/id_rsa devops@web01 'ls -l /root/testfile.txt'
      (náº¿u devops khÃ´ng cÃ³ quyá»n Ä‘á»c /root/ thÃ¬ kiá»ƒm tra file trong home hoáº·c chuyá»ƒn báº±ng sudo)

13. Thay tháº¿ khi cáº§n

    * rsync (tá»‘t cho Ä‘á»“ng bá»™/dÃ¹ng nhiá»u file):
      rsync -avz -e 'ssh -i ~/.ssh/id_rsa -p 2222' testfile.txt devops@web01:/root/
    * sftp:
      sftp -i ~/.ssh/id_rsa devops@web01
      put testfile.txt /root/

14. TÃ³m táº¯t ngáº¯n gá»n
    scp -i ~/.ssh/id_rsa testfile.txt devops@web01:/root/ â€” truyá»n file testfile.txt lÃªn web01 sá»­ dá»¥ng private key
    ~/.ssh/id_rsa Ä‘á»ƒ xÃ¡c thá»±c. CHÃš Ã: thÆ°á»ng devops khÃ´ng cÃ³ quyá»n ghi vÃ o /root/ nÃªn nÃªn copy tá»›i home rá»“i dÃ¹ng sudo hoáº·c dÃ¹ng root.

--- Káº¾T THÃšC ---
(ÄÃ¢y lÃ  plain text, báº¡n cÃ³ thá»ƒ copy nguyÃªn khá»‘i trÃªn vÃ  dÃ¡n vÃ o file .txt)
		
		
		- cmd: scp -i ~/.ssh/id_rsa testfile.txt devops@web01:/root/
		
Giáº£i thÃ­ch chi tiáº¿t (plain text) â€” lá»‡nh:

scp -i ~/.ssh/id_rsa testfile.txt devops@web01:/root/

---

## Má»¥c Ä‘Ã­ch

Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ sao chÃ©p má»™t file tá»« mÃ¡y tÃ­nh hiá»‡n táº¡i (local) lÃªn má»™t mÃ¡y chá»§ tá»« xa (remote) sá»­ dá»¥ng giao thá»©c SSH (Secure Copy Protocol).

---

## Cáº¥u trÃºc tá»•ng quÃ¡t

scp [tÃ¹y chá»n] <tá»‡p nguá»“n> <Ä‘Ã­ch>

Trong vÃ­ dá»¥:

* scp           : chÆ°Æ¡ng trÃ¬nh secure copy
* -i ~/.ssh/id_rsa : dÃ¹ng private key táº¡i Ä‘Æ°á»ng dáº«n ~/.ssh/id_rsa Ä‘á»ƒ xÃ¡c thá»±c báº±ng khÃ³a (thay vÃ¬ máº­t kháº©u)
* testfile.txt  : tá»‡p nguá»“n trÃªn mÃ¡y local (tá»‡p cáº§n chuyá»ƒn)
* devops@web01:/root/ : Ä‘Ã­ch trÃªn mÃ¡y remote â€” Ä‘Äƒng nháº­p báº±ng user "devops" tá»›i host "web01" vÃ  Ä‘áº·t tá»‡p vÃ o thÆ° má»¥c /root/

---

## Giáº£i thÃ­ch tá»«ng pháº§n (chi tiáº¿t nháº¥t)

1. scp

   * LÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ sao chÃ©p tá»‡p qua SSH.
   * Tá»± Ä‘á»™ng mÃ£ hÃ³a dá»¯ liá»‡u khi truyá»n, vÃ¬ váº­y an toÃ n hÆ¡n scp qua máº¡ng cÃ´ng cá»™ng.

2. -i ~/.ssh/id_rsa

   * TÃ¹y chá»n -i chá»‰ Ä‘Æ°á»ng dáº«n tá»›i *private key* dÃ¹ng Ä‘á»ƒ xÃ¡c thá»±c vá»›i mÃ¡y remote.
   * ThÃ´ng thÆ°á»ng file private key náº±m trong ~/.ssh/ (vÃ­ dá»¥ id_rsa). Náº¿u key khÃ´ng náº±m á»Ÿ Ä‘Ã³, thay Ä‘Æ°á»ng dáº«n phÃ¹ há»£p.
   * Quyá»n cá»§a private key pháº£i an toÃ n: chmod 600 ~/.ssh/id_rsa (chá»‰ chá»§ sá»Ÿ há»¯u Ä‘á»c/ghi).
   * Náº¿u báº¡n dÃ¹ng ssh-agent thÃ¬ cÃ³ thá»ƒ khÃ´ng cáº§n -i, vÃ¬ agent sáº½ cung cáº¥p key tá»± Ä‘á»™ng.

3. testfile.txt

   * Tá»‡p nguá»“n trÃªn mÃ¡y local. CÃ³ thá»ƒ lÃ  Ä‘Æ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i (nhÆ° á»Ÿ vÃ­ dá»¥) hoáº·c Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i (/home/user/testfile.txt).
   * Náº¿u tá»‡p khÃ´ng tá»“n táº¡i, scp sáº½ bÃ¡o lá»—i "No such file or directory".

4. devops@web01:/root/

   * devops : tÃªn tÃ i khoáº£n (user) trÃªn mÃ¡y remote.
   * web01  : tÃªn host hoáº·c Ä‘á»‹a chá»‰ IP (vÃ­ dá»¥ web01 hoáº·c 192.168.1.10). Cáº§n Ä‘Æ°á»£c há»‡ thá»‘ng DNS (hoáº·c /etc/hosts) phÃ¢n giáº£i náº¿u dÃ¹ng tÃªn.
   * :/root/ : Ä‘Æ°á»ng dáº«n Ä‘Ã­ch trÃªn mÃ¡y remote â€” á»Ÿ Ä‘Ã¢y lÃ  thÆ° má»¥c /root/. LÆ°u Ã½: /root/ thÆ°á»ng chá»‰ truy cáº­p Ä‘Æ°á»£c bá»Ÿi user root. Náº¿u user devops khÃ´ng cÃ³ quyá»n ghi vÃ o /root/, thao tÃ¡c sáº½ tháº¥t báº¡i (permission denied).
   * Náº¿u muá»‘n Ä‘á»•i tÃªn tá»‡p khi copy, chá»‰ Ä‘á»‹nh file Ä‘Ã­ch: devops@web01:/root/tÃªn_má»›i.txt

---

## VÃ­ dá»¥ thay Ä‘á»•i thÆ°á»ng gáº·p

* Sao chÃ©p vÃ o thÆ° má»¥c home cá»§a user remote:
  scp -i ~/.ssh/id_rsa testfile.txt devops@web01:~/

* Sao chÃ©p vÃ o Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i vÃ  Ä‘á»•i tÃªn file:
  scp -i ~/.ssh/id_rsa testfile.txt devops@web01:/var/www/html/testfile-2025.txt

* Sao chÃ©p nhiá»u file:
  scp -i ~/.ssh/id_rsa file1.txt file2.txt devops@web01:/home/devops/

* Sao chÃ©p thÆ° má»¥c (dÃ¹ng -r Ä‘á»ƒ Ä‘á»‡ quy):
  scp -r -i ~/.ssh/id_rsa somedir/ devops@web01:/home/devops/somedir/

---

## Lá»—i thÆ°á»ng gáº·p & cÃ¡ch kháº¯c phá»¥c

1. Permission denied (khÃ´ng cÃ³ quyá»n):

   * NguyÃªn nhÃ¢n: user devops khÃ´ng cÃ³ quyá»n ghi vÃ o thÆ° má»¥c Ä‘Ã­ch (/root/ thÆ°á»ng chá»‰ cho root).
   * Kháº¯c phá»¥c: chá»n thÆ° má»¥c Ä‘Ã­ch mÃ  user cÃ³ quyá»n (vÃ­ dá»¥ /home/devops/) hoáº·c Ä‘Äƒng nháº­p báº±ng root (root@web01) náº¿u an toÃ n vÃ  cho phÃ©p.

2. Authentication failed (xÃ¡c thá»±c tháº¥t báº¡i):

   * Kiá»ƒm tra Ä‘Æ°á»ng dáº«n key, quyá»n file key (chmod 600), vÃ  key pháº£i tÆ°Æ¡ng á»©ng vá»›i public key Ä‘Ã£ cÃ i trÃªn mÃ¡y remote (~/.ssh/authorized_keys).
   * Náº¿u server yÃªu cáº§u passphrase, báº¡n sáº½ Ä‘Æ°á»£c há»i passphrase cá»§a private key.

3. Hostname khÃ´ng phÃ¢n giáº£i Ä‘Æ°á»£c (unknown host):

   * DÃ¹ng Ä‘á»‹a chá»‰ IP thay cho tÃªn host, hoáº·c thÃªm mapping vÃ o /etc/hosts.

4. No such file or directory (file nguá»“n khÃ´ng tá»“n táº¡i):

   * Kiá»ƒm tra chÃ­nh xÃ¡c tÃªn vÃ  Ä‘Æ°á»ng dáº«n file nguá»“n trÃªn mÃ¡y local.

---

## Gá»£i Ã½ báº£o máº­t & tiá»‡n dá»¥ng

* KhÃ´ng chia sáº» private key (id_rsa). Giá»¯ quyá»n truy cáº­p háº¡n cháº¿: chmod 600 ~/.ssh/id_rsa
* DÃ¹ng ssh-agent Ä‘á»ƒ lÆ°u passphrase vÃ  trÃ¡nh pháº£i nháº­p nhiá»u láº§n: ssh-agent + ssh-add ~/.ssh/id_rsa
* Äáº·t public key (id_rsa.pub) vÃ o ~/.ssh/authorized_keys trÃªn mÃ¡y remote cho user tÆ°Æ¡ng á»©ng.
* Xem thÃªm chi tiáº¿t báº±ng: man scp hoáº·c ssh -v Ä‘á»ƒ debug káº¿t ná»‘i.

---

## Báº£n sao (copy-ready) â€” ná»™i dung toÃ n bá»™ Ä‘á»ƒ dÃ¡n vÃ o file .txt

scp -i ~/.ssh/id_rsa testfile.txt devops@web01:/root/

(END)
		
		
		- cmd: scp -i ~/.ssh/id_rsa testfile.txt devops@web01:/home/devops/
		
TiÃªu Ä‘á»:
    Giáº£i thÃ­ch chi tiáº¿t nháº¥t cho: scp -i ~/.ssh/id_rsa testfile.txt devops@web01:/home/devops/

Má»¥c Ä‘Ã­ch cá»§a lá»‡nh:
    Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ sao chÃ©p (copy) file `testfile.txt` tá»« mÃ¡y LOCAL sang mÃ¡y REMOTE (server `web01`)
    thÃ´ng qua giao thá»©c SCP (Secure Copy), vá»›i viá»‡c sá»­ dá»¥ng key SSH riÃªng (`id_rsa`) Ä‘á»ƒ xÃ¡c thá»±c.

CÃº phÃ¡p ngáº¯n gá»n:
    scp [tÃ¹y_chá»n] <file_nguá»“n> <user>@<host>:<Ä‘Æ°á»ng_dáº«n_Ä‘Ã­ch>

PhÃ¢n tÃ­ch chi tiáº¿t tá»«ng pháº§n:

1) scp
    - SCP = Secure Copy Protocol.
    - LÃ  cÃ´ng cá»¥ chuyá»ƒn file giá»¯a mÃ¡y local vÃ  remote thÃ´ng qua SSH.
    - LÆ°u trá»¯ dá»¯ liá»‡u vÃ  xÃ¡c thá»±c Ä‘Æ°á»£c mÃ£ hÃ³a an toÃ n.

2) -i ~/.ssh/id_rsa
    - TÃ¹y chá»n `-i` (identity file) dÃ¹ng Ä‘á»ƒ chá»‰ Ä‘á»‹nh file PRIVATE KEY Ä‘Æ°á»£c dÃ¹ng cho SSH.
    - `~/.ssh/id_rsa` lÃ  private key SSH cá»§a báº¡n trÃªn mÃ¡y local.
    - File nÃ y pháº£i cÃ³ quyá»n Ä‘Ãºng (600), vÃ­ dá»¥:
        chmod 600 ~/.ssh/id_rsa
    - LÆ°u Ã½ quan trá»ng:
        + Tuyá»‡t Ä‘á»‘i khÃ´ng chia sáº» file id_rsa.
        + Náº¿u private key sai hoáº·c khÃ´ng khá»›p vá»›i public key trÃªn remote, báº¡n khÃ´ng SSH/SCP Ä‘Æ°á»£c.

3) testfile.txt
    - ÄÃ¢y lÃ  file nguá»“n cáº§n copy tá»« mÃ¡y local.
    - File pháº£i tá»“n táº¡i trong thÆ° má»¥c hiá»‡n táº¡i, hoáº·c báº¡n pháº£i chá»‰ Ä‘á»‹nh Ä‘Æ°á»ng dáº«n Ä‘áº§y Ä‘á»§:
        /path/to/testfile.txt
    - SCP sáº½ Ä‘á»c file nÃ y vÃ  upload lÃªn server.

4) devops@web01
    - `devops` lÃ  username trÃªn mÃ¡y remote.
    - `web01` lÃ  hostname hoáº·c IP cá»§a mÃ¡y remote.
        + CÃ³ thá»ƒ lÃ : web01, 192.168.1.10, server.example.com, ...
    - SCP sáº½ SSH Ä‘áº¿n host nÃ y báº±ng user "devops".

5) :/home/devops/
    - Dáº¥u hai cháº¥m `:` ngÄƒn cÃ¡ch pháº§n "user@host" vÃ  Ä‘Æ°á»ng dáº«n trÃªn remote.
    - `/home/devops/` lÃ  thÆ° má»¥c Ä‘Ã­ch trÃªn REMOTE.
    - Quy táº¯c:
        + Báº¡n pháº£i cÃ³ quyá»n ghi vÃ o thÆ° má»¥c nÃ y.
        + Náº¿u khÃ´ng cÃ³ quyá»n, dÃ¹ng sudo trÃªn remote (nhÆ°ng vá»›i SCP thÃ¬ khÃ´ng dÃ¹ng sudo trá»±c tiáº¿p Ä‘Æ°á»£c).
        + ÄÆ°á»ng dáº«n pháº£i tá»“n táº¡i, náº¿u khÃ´ng SCP sáº½ bÃ¡o lá»—i:
              No such file or directory

Hoáº¡t Ä‘á»™ng thá»±c táº¿ cá»§a lá»‡nh:
    - Má»Ÿ káº¿t ná»‘i SSH tá»›i web01 báº±ng user devops vÃ  key id_rsa.
    - XÃ¡c thá»±c thÃ nh cÃ´ng â†’ báº¯t Ä‘áº§u truyá»n file testfile.txt.
    - File sáº½ Ä‘Æ°á»£c gá»­i tá»›i Ä‘Æ°á»ng dáº«n remote: /home/devops/testfile.txt
    - Náº¿u file trÃ¹ng tÃªn â†’ SCP sáº½ ghi Ä‘Ã¨ file cÅ© mÃ  KHÃ”NG há»i (hÃ nh vi máº·c Ä‘á»‹nh).

VÃ­ dá»¥ output khi cháº¡y lá»‡nh:
    testfile.txt                                  100%   12KB   200.0KB/s   0.04s

YÃªu cáº§u Ä‘á»ƒ lá»‡nh cháº¡y thÃ nh cÃ´ng:
    1. Báº¡n pháº£i cÃ³ file private key id_rsa Ä‘Ãºng.
    2. Public key tÆ°Æ¡ng á»©ng pháº£i cÃ³ trong file:
          /home/devops/.ssh/authorized_keys
       trÃªn host web01.
    3. Port 22 trÃªn web01 pháº£i má»Ÿ.
    4. Báº¡n cáº§n quyá»n write vÃ o thÆ° má»¥c /home/devops/.
    5. MÃ¡y local pháº£i resolve Ä‘Æ°á»£c hostname "web01"
       (DNS hoáº·c trong /etc/hosts).

CÃ¡c biáº¿n thá»ƒ há»¯u Ã­ch:
    - Chá»‰ Ä‘á»‹nh port SSH:
        scp -P 2222 -i ~/.ssh/id_rsa testfile.txt devops@web01:/home/devops/

    - Copy thÆ° má»¥c toÃ n bá»™ (recursive):
        scp -r -i ~/.ssh/id_rsa myfolder/ devops@web01:/home/devops/

    - Copy tá»« remote vá» local:
        scp -i ~/.ssh/id_rsa devops@web01:/home/devops/testfile.txt .

    - Hiá»ƒn thá»‹ tiáº¿n trÃ¬nh:
        scp -v -i ~/.ssh/id_rsa testfile.txt devops@web01:/home/devops/

CÃ¡c lá»—i thÆ°á»ng gáº·p & cÃ¡ch xá»­ lÃ½:
    1. Permission denied (publickey)
        â†’ Key khÃ´ng Ä‘Ãºng hoáº·c khÃ´ng cÃ³ quyá»n.
    
    2. No such file or directory
        â†’ Sai Ä‘Æ°á»ng dáº«n file nguá»“n hoáº·c Ä‘Ã­ch.

    3. Host key verification failed
        â†’ Báº¡n chÆ°a cháº¥p nháº­n SSH host key:
            ssh devops@web01   # cháº¥p nháº­n fingerprint 1 láº§n
        hoáº·c dÃ¹ng:
            scp -o StrictHostKeyChecking=no ...

    4. Too open permissions on private key
        â†’ Sá»­a quyá»n:
            chmod 600 ~/.ssh/id_rsa

    5. Connection timed out hoáº·c refused
        â†’ Kiá»ƒm tra firewall, cá»•ng SSH, hoáº·c remote bá»‹ táº¯t.

TÃ³m táº¯t ngáº¯n gá»n:
    Lá»‡nh sao chÃ©p file testfile.txt tá»« local sang thÆ° má»¥c /home/devops/ trÃªn mÃ¡y web01
    thÃ´ng qua SCP, sá»­ dá»¥ng private key id_rsa Ä‘á»ƒ xÃ¡c thá»±c SSH.

Káº¿t thÃºc.
		
		
		
TiÃªu Ä‘á»:
    Giáº£i thÃ­ch chi tiáº¿t nháº¥t cho: scp -i ~/.ssh/id_rsa testfile.txt devops@web01:/home/devops/

Má»¥c Ä‘Ã­ch cá»§a lá»‡nh:
    Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ sao chÃ©p (copy) file `testfile.txt` tá»« mÃ¡y LOCAL sang mÃ¡y REMOTE (server `web01`)
    thÃ´ng qua giao thá»©c SCP (Secure Copy), vá»›i viá»‡c sá»­ dá»¥ng key SSH riÃªng (`id_rsa`) Ä‘á»ƒ xÃ¡c thá»±c.

CÃº phÃ¡p ngáº¯n gá»n:
    scp [tÃ¹y_chá»n] <file_nguá»“n> <user>@<host>:<Ä‘Æ°á»ng_dáº«n_Ä‘Ã­ch>

PhÃ¢n tÃ­ch chi tiáº¿t tá»«ng pháº§n:

1) scp
    - SCP = Secure Copy Protocol.
    - LÃ  cÃ´ng cá»¥ chuyá»ƒn file giá»¯a mÃ¡y local vÃ  remote thÃ´ng qua SSH.
    - LÆ°u trá»¯ dá»¯ liá»‡u vÃ  xÃ¡c thá»±c Ä‘Æ°á»£c mÃ£ hÃ³a an toÃ n.

2) -i ~/.ssh/id_rsa
    - TÃ¹y chá»n `-i` (identity file) dÃ¹ng Ä‘á»ƒ chá»‰ Ä‘á»‹nh file PRIVATE KEY Ä‘Æ°á»£c dÃ¹ng cho SSH.
    - `~/.ssh/id_rsa` lÃ  private key SSH cá»§a báº¡n trÃªn mÃ¡y local.
    - File nÃ y pháº£i cÃ³ quyá»n Ä‘Ãºng (600), vÃ­ dá»¥:
        chmod 600 ~/.ssh/id_rsa
    - LÆ°u Ã½ quan trá»ng:
        + Tuyá»‡t Ä‘á»‘i khÃ´ng chia sáº» file id_rsa.
        + Náº¿u private key sai hoáº·c khÃ´ng khá»›p vá»›i public key trÃªn remote, báº¡n khÃ´ng SSH/SCP Ä‘Æ°á»£c.

3) testfile.txt
    - ÄÃ¢y lÃ  file nguá»“n cáº§n copy tá»« mÃ¡y local.
    - File pháº£i tá»“n táº¡i trong thÆ° má»¥c hiá»‡n táº¡i, hoáº·c báº¡n pháº£i chá»‰ Ä‘á»‹nh Ä‘Æ°á»ng dáº«n Ä‘áº§y Ä‘á»§:
        /path/to/testfile.txt
    - SCP sáº½ Ä‘á»c file nÃ y vÃ  upload lÃªn server.

4) devops@web01
    - `devops` lÃ  username trÃªn mÃ¡y remote.
    - `web01` lÃ  hostname hoáº·c IP cá»§a mÃ¡y remote.
        + CÃ³ thá»ƒ lÃ : web01, 192.168.1.10, server.example.com, ...
    - SCP sáº½ SSH Ä‘áº¿n host nÃ y báº±ng user "devops".

5) :/home/devops/
    - Dáº¥u hai cháº¥m `:` ngÄƒn cÃ¡ch pháº§n "user@host" vÃ  Ä‘Æ°á»ng dáº«n trÃªn remote.
    - `/home/devops/` lÃ  thÆ° má»¥c Ä‘Ã­ch trÃªn REMOTE.
    - Quy táº¯c:
        + Báº¡n pháº£i cÃ³ quyá»n ghi vÃ o thÆ° má»¥c nÃ y.
        + Náº¿u khÃ´ng cÃ³ quyá»n, dÃ¹ng sudo trÃªn remote (nhÆ°ng vá»›i SCP thÃ¬ khÃ´ng dÃ¹ng sudo trá»±c tiáº¿p Ä‘Æ°á»£c).
        + ÄÆ°á»ng dáº«n pháº£i tá»“n táº¡i, náº¿u khÃ´ng SCP sáº½ bÃ¡o lá»—i:
              No such file or directory

Hoáº¡t Ä‘á»™ng thá»±c táº¿ cá»§a lá»‡nh:
    - Má»Ÿ káº¿t ná»‘i SSH tá»›i web01 báº±ng user devops vÃ  key id_rsa.
    - XÃ¡c thá»±c thÃ nh cÃ´ng â†’ báº¯t Ä‘áº§u truyá»n file testfile.txt.
    - File sáº½ Ä‘Æ°á»£c gá»­i tá»›i Ä‘Æ°á»ng dáº«n remote: /home/devops/testfile.txt
    - Náº¿u file trÃ¹ng tÃªn â†’ SCP sáº½ ghi Ä‘Ã¨ file cÅ© mÃ  KHÃ”NG há»i (hÃ nh vi máº·c Ä‘á»‹nh).

VÃ­ dá»¥ output khi cháº¡y lá»‡nh:
    testfile.txt                                  100%   12KB   200.0KB/s   0.04s

YÃªu cáº§u Ä‘á»ƒ lá»‡nh cháº¡y thÃ nh cÃ´ng:
    1. Báº¡n pháº£i cÃ³ file private key id_rsa Ä‘Ãºng.
    2. Public key tÆ°Æ¡ng á»©ng pháº£i cÃ³ trong file:
          /home/devops/.ssh/authorized_keys
       trÃªn host web01.
    3. Port 22 trÃªn web01 pháº£i má»Ÿ.
    4. Báº¡n cáº§n quyá»n write vÃ o thÆ° má»¥c /home/devops/.
    5. MÃ¡y local pháº£i resolve Ä‘Æ°á»£c hostname "web01"
       (DNS hoáº·c trong /etc/hosts).

CÃ¡c biáº¿n thá»ƒ há»¯u Ã­ch:
    - Chá»‰ Ä‘á»‹nh port SSH:
        scp -P 2222 -i ~/.ssh/id_rsa testfile.txt devops@web01:/home/devops/

    - Copy thÆ° má»¥c toÃ n bá»™ (recursive):
        scp -r -i ~/.ssh/id_rsa myfolder/ devops@web01:/home/devops/

    - Copy tá»« remote vá» local:
        scp -i ~/.ssh/id_rsa devops@web01:/home/devops/testfile.txt .

    - Hiá»ƒn thá»‹ tiáº¿n trÃ¬nh:
        scp -v -i ~/.ssh/id_rsa testfile.txt devops@web01:/home/devops/

CÃ¡c lá»—i thÆ°á»ng gáº·p & cÃ¡ch xá»­ lÃ½:
    1. Permission denied (publickey)
        â†’ Key khÃ´ng Ä‘Ãºng hoáº·c khÃ´ng cÃ³ quyá»n.
    
    2. No such file or directory
        â†’ Sai Ä‘Æ°á»ng dáº«n file nguá»“n hoáº·c Ä‘Ã­ch.

    3. Host key verification failed
        â†’ Báº¡n chÆ°a cháº¥p nháº­n SSH host key:
            ssh devops@web01   # cháº¥p nháº­n fingerprint 1 láº§n
        hoáº·c dÃ¹ng:
            scp -o StrictHostKeyChecking=no ...

    4. Too open permissions on private key
        â†’ Sá»­a quyá»n:
            chmod 600 ~/.ssh/id_rsa

    5. Connection timed out hoáº·c refused
        â†’ Kiá»ƒm tra firewall, cá»•ng SSH, hoáº·c remote bá»‹ táº¯t.

TÃ³m táº¯t ngáº¯n gá»n:
    Lá»‡nh sao chÃ©p file testfile.txt tá»« local sang thÆ° má»¥c /home/devops/ trÃªn mÃ¡y web01
    thÃ´ng qua SCP, sá»­ dá»¥ng private key id_rsa Ä‘á»ƒ xÃ¡c thá»±c SSH.

Káº¿t thÃºc.
		
		
		
	Varantfile:

		Vagrant.configure("2") do |config|

		  config.vm.define "scriptbox" do |scriptbox|
			scriptbox.vm.box = "eurolinux-vagrant/centos-stream-9"
				scriptbox.vm.network "private_network", ip: "192.168.10.12"
				scriptbox.vm.provider "virtualbox" do |vb|
			 vb.memory = "1024"
		   end
		  end

		  config.vm.define "web01" do |web01|
			web01.vm.box = "eurolinux-vagrant/centos-stream-9"
				web01.vm.network "private_network", ip: "192.168.10.13"
		  end

		  config.vm.define "web02" do |web02|
			web02.vm.box = "eurolinux-vagrant/centos-stream-9"
				web02.vm.network "private_network", ip: "192.168.10.14"
		  end

		   config.vm.define "web03" do |web03|
			web03.vm.box = "ubuntu/bionic64"
				web03.vm.network "private_network", ip: "192.168.10.15"
		  end
		end
	
		
		
		
	Ná»™i dung file script:
	
		Case 1:
		
			#!/bin/bash

			echo "Welcome to bash script."
			echo

			echo "The uptime of the system is: "
			uptime

			echo "Memory Utilization"
			free -m

			echo "Disk Utilization"
			df -h
			
		Case 2:
		
			#!/bin/bash

			### This script prints system info ###

			echo "Welcome to bash script."
			echo

			#checking system uptime
			echo "#################################"
			echo "The uptime of the system is: "
			uptime

			# Memory Utilization
			echo "#################################"
			echo "Memory Utilization"
			free -m

			# Disk Utilization
			echo "#################################"
			echo "Disk Utilization"
			df -h
			
		Case 3:
		
			#!/bin/bash

			#Installing Dependencies
			echo "###################################"
			echo "Installing packages"
			echo "###################################"
			sudo yum install wget unzip httpd -y
			echo

			# Start & Enable Service
			echo "###################################"
			echo "Start & Enabel HTTPD Service"
			echo "###################################"
			sudo systemctl start httpd
			sudo systemctl enable httpd
			echo

			# Creating Temp Directory
			echo "###################################"
			echo "Starting Artifact Deployment"
			echo "###################################"
			mkdir -p /tmp/webfiles
			cd /tmp/webfiles
			echo

			wget https://www.tooplate.com/zip-templates/2098_health.zip
			unzip 2098_health.zip
			sudo cp -r 2098_health.zip/* /var/www/html/
			echo

			# Bounce Service
			echo "###################################"
			echo "Restarting HTTPD Service"
			echo "###################################"
			systemctl restart httpd
			echo

			# Clean Up
			echo "###################################"
			echo "Removing Temporary Files"
			echo "###################################"
			rm -rf /tmp/webfiles
			echo
			
		Case 4:
		
			CÃ¡i nÃ y cÃ³ thá»ƒ cháº¡y lÃªn trang web
		
			#!/bin/bash

			#Installing Dependencies
			echo "###################################"
			echo "Installing packages"
			echo "###################################"
			sudo yum install wget unzip httpd -y > /dev/null
			echo

			# Start & Enable Service
			echo "###################################"
			echo "Start & Enabel HTTPD Service"
			echo "###################################"
			sudo systemctl start httpd
			sudo systemctl enable httpd
			echo

			# Creating Temp Directory
			echo "###################################"
			echo "Starting Artifact Deployment"
			echo "###################################"
			mkdir -p /tmp/webfiles
			cd /tmp/webfiles
			echo

			wget https://www.tooplate.com/zip-templates/2098_health.zip > /dev/null
			unzip 2098_health.zip > /dev/null
			sudo cp -r 2098_health/* /var/www/html/
			echo

			# Bounce Service
			echo "###################################"
			echo "Restarting HTTPD Service"
			echo "###################################"
			systemctl restart httpd
			echo

			# Clean Up
			echo "###################################"
			echo "Removing Temporary Files"
			echo "###################################"
			rm -rf /tmp/webfiles
			echo

			sudo systemctl status httpd
			ls /var/www/html/
			
		Case 5:
		
			[root@scriptbox ~]# SKILL="DevOps"
			[root@scriptbox ~]# echo $SKILL
			DevOps
			[root@scriptbox ~]# echo SKILL
			SKILL
			[root@scriptbox ~]# PACKAGE="httpd wget unzip"
			[root@scriptbox ~]# yum install $PACKAGE -y
			Last metadata expiration check: 0:12:59 ago on Sun 21 Sep 2025 11:19:55 AM UTC.
			Package httpd-2.4.62-7.el9.x86_64 is already installed.
			Package wget-1.21.1-8.el9.x86_64 is already installed.
			Package unzip-6.0-59.el9.x86_64 is already installed.
			Dependencies resolved.
			Nothing to do.
			Complete!
			
		Case 6:
		
			[root@scriptbox scripts]# ls
			firstscript.sh  websetup.sh
			[root@scriptbox scripts]# mv firstscript.sh 1_firstscript.sh
			[root@scriptbox scripts]# mv websetup.sh 2_websetup.sh
			[root@scriptbox scripts]# ls
			1_firstscript.sh  2_websetup.sh
			[root@scriptbox scripts]# cp 2_websetup.sh 3_vars_websetup.sh
			[root@scriptbox scripts]# ls
			1_firstscript.sh  2_websetup.sh  3_vars_websetup.sh
		
		Case 7:
		
			#!/bin/bash
			ART_NAME="2098_health"
			SVC="httpd"
			URL="https://www.tooplate.com/zip-templates/2098_health.zip"
			ART_NAME="2098_health"
			TEMPDIR="/tmp/webfiles"

			#Installing Dependencies
			echo "###################################"
			echo "Installing packages"
			echo "###################################"
			sudo yum install $PACKAGE -y > /dev/null
			echo

			# Start & Enable Service
			echo "###################################"
			echo "Start & Enabel HTTPD Service"
			echo "###################################"
			sudo systemctl start $SVC
			sudo systemctl enable $SVC
			echo

			# Creating Temp Directory
			echo "###################################"
			echo "Starting Artifact Deployment"
			echo "###################################"
			mkdir -p $TEMPDIR
			cd $TEMPDIR
			echo

			wget $URL > /dev/null
			unzip $ART_NAME.zip > /dev/null
			sudo cp -r $ART_NAME/* /var/www/html/
			echo

			# Bounce Service
			echo "###################################"
			echo "Restarting HTTPD Service"
			echo "###################################"
			systemctl restart $SVC
			echo

			# Clean Up
			echo "###################################"
			echo "Removing Temporary Files"
			echo "###################################"
			rm -rf $TEMPDIR
			echo

			sudo systemctl status $SVC
			ls /var/www/html/
			
		Case 8:
		
			#!/bin/bash
			sudo systemctl stop httpd
			sudo rm -rf /var/www/html/*
			sudo yum remove httpd wget unzip -y
			
		Case 9:
		
			#!/bin/bash

			echo "Value of 0 is "
			echo $0

			echo "Value of 1"
			echo $1

			echo "Value of 2"
			echo $2

			echo "Value of 3"
			echo $3
			
				[root@scriptbox scripts]# ./4_args.sh Linux AWS Ansible Jenkins
				Value of 0 is
				./4_args.sh
				Value of 1
				Linux
				Value of 2
				AWS
				Value of 3
				Ansible
				
		Case 10:
		
			[root@scriptbox scripts]# echo $USER
			root
			[root@scriptbox scripts]# echo $HOSTNAME
			scriptbox
			[root@scriptbox scripts]# echo $RANDOM
			11889
			[root@scriptbox scripts]# SKILL="DevOps"
			[root@scriptbox scripts]# echo $SKILL
			DevOps
			[root@scriptbox scripts]# SKILL='DevOps'
			[root@scriptbox scripts]# echo $SKILL
			DevOps
			[root@scriptbox scripts]# echo "Ihave got $SKILL skill."
			Ihave got DevOps skill.
			[root@scriptbox scripts]# echo 'Ihave got $SKILL skill.'
			Ihave got $SKILL skill.
			[root@scriptbox scripts]# echo "Ihave got \$SKILL skill."
			Ihave got $SKILL skill.

			[root@scriptbox scripts]# uptime
			 13:25:12 up  3:03,  1 user,  load average: 0.02, 0.04, 0.03
			[root@scriptbox scripts]# UP="uptime"
			[root@scriptbox scripts]# echo $UP
			uptime
			[root@scriptbox scripts]# UP=`uptime`
			[root@scriptbox scripts]# echo $UP
			13:25:42 up 3:03, 1 user, load average: 0.01, 0.03, 0.03
			
			[root@scriptbox scripts]# CURRENT_USER=$(who)
			[root@scriptbox scripts]# echo $CURRENT_USER
			vagrant pts/0 2025-09-21 10:44 (10.0.2.2)
			[root@scriptbox scripts]# free -m
						   total        used        free      shared  buff/cache   available
			Mem:             767         330         155           3         414         436
			Swap:           1023           0        1023
			[root@scriptbox scripts]# free -m | grep Mem
			Mem:             767         330         155           3         414         436
			[root@scriptbox scripts]# free -m | grep Mem | awk '{print $4}'
			155
			[root@scriptbox scripts]# FREE_RAM=`free -m | grep Mem | awk '{print $4}'`
			[root@scriptbox scripts]# echo "Free RAM is $FREE_RAM mb."
			Free RAM is 155 mb.
			
		Case 11:
		
			#!/bin/bash

			echo "Welcome $USER on $HOSTNAME."
			echo "##############################################"

			FREERAM=$(free -m | grep Mem | awk '{print $4}')
			LOAD=`uptime | awk '{print $9}'`
			ROOTFREE=$(df -h | grep '/dev/sdal' | awk '{print $4}')

			echo "##############################################"
			echo "Available free RAM is $FREERAM MB"
			echo "##############################################"
			echo "Current Load Average $LOAD"
			echo "##############################################"
			echo "Free ROOT partition size is $ROOTFREE"
			
		Case 12:
		
			[root@scriptbox scripts]# CURRENT_USER=$(who)
			[root@scriptbox scripts]# echo CURRENT_USER
			CURRENT_USER
			[root@scriptbox scripts]# echo $CURRENT_USER
			vagrant pts/0 2025-09-22 13:05 (10.0.2.2)
			[root@scriptbox scripts]# free -m
						   total        used        free      shared  buff/cache   available
			Mem:             767         282         383           3         229         485
			Swap:           1023           0        1023
			[root@scriptbox scripts]# free -m | grep Mem
			Mem:             767         282         383           3         229         485
			[root@scriptbox scripts]# free -m | grep Mem | awk '{print $4}'
			382
			[root@scriptbox scripts]# FREE_RAM=`free -m | grep Mem | awk '{print $4}'`
			[root@scriptbox scripts]# echo "Free RAM is $FREE_RAM mb."
			Free RAM is 382 mb.
			[root@scriptbox scripts]# ./6_command_subs.sh
			Welcome root on scriptbox.
			##############################################
			##############################################
			Available free RAM is 382 MB
			##############################################
			Current Load Average 0.04,
			##############################################
			Free ROOT partition size is
			
		Case 13:
		
			[root@scriptbox scripts]# SEASON="Monsoon"
			[root@scriptbox scripts]# echo SEASON
			SEASON
			[root@scriptbox scripts]# echo $SEASON
			Monsoon
			[root@scriptbox scripts]# exit
			logout
			[vagrant@scriptbox ~]$ sudo -i
			[root@scriptbox ~]# echo $SEASON

			[root@scriptbox ~]# cd /opt/scripts/

		Case 14:
		
			#!/bin/bash
			echo "The $SEASON season is more than expected, this time."
			
			[root@scriptbox scripts]# chmod +x testvars.sh
			[root@scriptbox scripts]# SEASON="Monsoon"
			[root@scriptbox scripts]# echo $SEASON
			Monsoon
			[root@scriptbox scripts]# ./testvars.sh
			The  season is more than expected, this time.
			[root@scriptbox scripts]# export SEASON
			[root@scriptbox scripts]# ./testvars.sh
			The Monsoon season is more than expected, this time.
			
		Case 15:
		
			# .bashrc
			# User specific aliases and functions
			alias rm='rm -i'
			alias cp='cp -i'
			alias mv='mv -i'
			# Source global definitions
			if [ -f /etc/bashrc ]; then
					. /etc/bashrc
			fi
			export SEASON="Monsoon"


			[root@scriptbox ~]# echo $SEASON
			[root@scriptbox ~]# exit
			logout
			[vagrant@scriptbox ~]$ sudo -i
			[root@scriptbox ~]# vi .bashrc
			[root@scriptbox ~]# sudo -i
			[root@scriptbox ~]# echo $SEASON
			Monsoon
		
		Case 16:
			
			#!/bin/bash
			export SEASON='Winter'
			
			[vagrant@scriptbox ~]$ echo $SEASON
			Winter
			[vagrant@scriptbox ~]$ sudo -i
			[root@scriptbox ~]# echo $SEASON
			Monsoon
			
		Case 17:
		
			#!/bin/bash
			echo "Enter youe skills:"
			read SKILL
			echo "Your $SKILL skill is in high Demand in the IT Industry."
			read -p 'Username: ' USR
			read -sp 'Password: ' pass
			echo
			echo "Login Successfull: Welcome USER $USR,"

			[root@scriptbox scripts]# chmod +x 7_userInput.sh
			[root@scriptbox scripts]# ./7_userInput.sh
			Enter youe skills:
			CloudComputing
			Your CloudComputing skill is in high Demand in the IT Industry.
			Username: ngoctuanqng1
			Password:
			Login Successfull: Welcome USER ngoctuanqng1,

		Case 18:
		
			#!/bin/bash
			read -p "Enter a number: " NUM
			echo
			if [ $NUM -gt 100 ]
			then
					echo "We have entered in IF block."
					sleep 3
					echo "Your Number is greater than 100"
					echo
					date
			fi
			echo "Script execution completed successfully."
			
			[root@scriptbox scripts]# chmod +x 8if1.sh
			[root@scriptbox scripts]# ./8if1.sh
			Enter a number: 120
			We have entered in IF block.
			Your Number is greater than 100
			Mon Sep 22 03:40:30 PM UTC 2025
			Script execution completed successfully.
			[root@scriptbox scripts]# ./8if1.sh
			Enter a number: 50
			Script execution completed successfully.
		
		Case 19:
		
			#!/bin/bash
			read -p "Enter a number: " NUM
			echo
			if [ $NUM -gt 100 ]
			then
					echo "We have entered in IF block."
					sleep 3
					echo "Your Number is greater than 100"
					echo
					date
			else
					echo "You have entered number less than 100."
			fi
			echo "Script execution completed successfully."
			
			[root@scriptbox scripts]# ./9_if1.sh
			Enter a number: 60
			You have entered number less than 100.
			Script execution completed successfully.
			[root@scriptbox scripts]# ./9_if1.sh
			Enter a number: 110
			We have entered in IF block.
			Your Number is greater than 100
			Mon Sep 22 03:43:41 PM UTC 2025
			Script execution completed successfully.
			
		Case 20:
		
			#!/bin/bash
			value=$(ip addr show | grep -v LOOPBACK | grep -ic mtu)
			if [ $value -eq 1 ]
			then
					echo "1 Active Network Interface found."
			elif [ $value -gt 1 ]
			then
					echo "Found Multiple active Interface."
			else
					echo "No Active interface found."
			fi
			
			[root@scriptbox ~]# ./9_ifelif.sh
			Found Multiple active Interface.
			[root@scriptbox ~]# ls
			9_ifelif.sh  anaconda-ks.cfg  original-ks.cfg
			[root@scriptbox ~]# ls /opt/scripts/
			1_firstscript.sh  2_websetup.sh  3_vars_websetup.sh  4_args.sh  5_args_websetup.sh  6_command_subs.sh  7_userInput.sh  8if1.sh  9_if1.sh  dismantle.sh  testvars.sh
			[root@scriptbox ~]# mv ./9_ifelif.sh /opt/scripts/
			[root@scriptbox ~]# cd /opt/scripts/
			[root@scriptbox scripts]# ls
			1_firstscript.sh  2_websetup.sh  3_vars_websetup.sh  4_args.sh  5_args_websetup.sh  6_command_subs.sh  7_userInput.sh  8if1.sh  9_if1.sh  9_ifelif.sh  dismantle.sh  testvars.sh
			
		Case 21:
		
			#!/bin/bash
			echo "#######################################################"
			date
			ls /var/run/httpd/httpd.id &> /dev/null
			if [ $? -eq 0 ]
			then
					echo "Httpd process is running."
			else
					echo "Httpd process is NOT Running."
					echo "Starting the process"
					systemctl start httpd
					if [ $? -eq 0 ]
					then
							echo "Process started successfully."
					else
							echo "Process Starting Failed, contact the admin."
					fi
			fi
			echo "#######################################################"
			echo
			
			[root@scriptbox scripts]# ./11_monit.sh
			#######################################################
			Mon Sep 22 04:12:59 PM UTC 2025
			Httpd process is NOT Running.
			Starting the process
			Process started successfully.
			#######################################################
			
		Case 22:
		
			#!/bin/bash
			# mm hh dom MM DOW COMMAND
			# mm hh dom MM DOW COMMAND
			# 30 20 * * 1-5 COMMAND
			* * * * * /opt/scripts/11_monit.sh &>> /var/log/monit_httpd.log

			[root@scriptbox scripts]# crontab -e
			no crontab for root - using an empty one
			crontab: installing new crontab
			[root@scriptbox scripts]# systemctl stop httpd
			[root@scriptbox scripts]# ls /var/log/monit_httpd.log
			/var/log/monit_httpd.log
			[root@scriptbox scripts]# cat /var/log/monit_httpd.log
			#######################################################
			Mon Sep 22 04:20:08 PM UTC 2025
			Httpd process is NOT Running.
			Starting the process
			Process started successfully.
			#######################################################

			#######################################################
			Mon Sep 22 04:21:03 PM UTC 2025
			Httpd process is NOT Running.
			Starting the process
			Process started successfully.
			#######################################################
			
		Case 23:
		
			#!/bin/bash
			echo "#######################################################"
			date
			ls /var/run/httpd/httpd.id &> /dev/null

			if [ -f /var/run/httpd/httpd.pid ]
			then
					echo "Httpd process is running."
			else
					echo "Httpd process is NOT Running."
					echo "Starting the process"
					systemctl start httpd
					if [ $? -eq 0 ]
					then
							echo "Process started successfully."
					else
							echo "Process Starting Failed, contact the admin."
					fi
			fi
			echo "#######################################################"
			echo
			
		Case 24:
		
			#!/bin/bash
			for VAR1 in java .net python ruby php
			do
					echo "Looping...."
					sleep 1
					echo "#####################################"
					echo "Value of VAR1 is $VAR1."
					echo "#####################################"
					date
			done
			
			[root@scriptbox scripts]# chmod +x 13_for.sh
			[root@scriptbox scripts]# ./13_for.sh
			Looping....
			#####################################
			Value of VAR1 is java.
			#####################################
			Mon Sep 22 04:28:16 PM UTC 2025
			Looping....
			#####################################
			Value of VAR1 is .net.
			#####################################
			Mon Sep 22 04:28:18 PM UTC 2025
			Looping....
			#####################################
			Value of VAR1 is python.
			#####################################
			Mon Sep 22 04:28:19 PM UTC 2025
			Looping....
			#####################################
			Value of VAR1 is ruby.
			#####################################
			Mon Sep 22 04:28:20 PM UTC 2025
			Looping....
			#####################################
			Value of VAR1 is php.
			#####################################
			Mon Sep 22 04:28:21 PM UTC 2025
			
		Case 25:
		
			#!/bin/bash
			MYUSERS="alpha beta gamma"
			for usr in $MYUSERS
			do
					echo "Adding user $usr."
					useradd $usr
					id $usr
					echo "##############################"
			done
			
			[root@scriptbox scripts]# chmod +x 14_for.sh
			[root@scriptbox scripts]# ./14_for.sh
			Adding user alpha.
			uid=1001(alpha) gid=1001(alpha) groups=1001(alpha)
			##############################
			Adding user beta.
			uid=1002(beta) gid=1002(beta) groups=1002(beta)
			##############################
			Adding user gamma.
			uid=1003(gamma) gid=1003(gamma) groups=1003(gamma)
			##############################
	
		Case 26:
		
			#!/bin/bash
			counter=0
			while [ $counter -lt 5 ]
			do
					echo "Looping...."
					echo "Value of counter is $counter."
					counter=$(( $counter + 1))
					sleep 1
			done
			echo "Out of the loop"
			
			[root@scriptbox ~]# chmod +x 15_while.sh
			[root@scriptbox ~]# ./15_while.sh
			Looping....
			Value of counter is 0.
			Looping....
			Value of counter is 1.
			Looping....
			Value of counter is 2.
			Looping....
			Value of counter is 3.
			Looping....
			Value of counter is 4.
			Out of the loop
			
		Case 27:
		
            #!/bin/bash
            counter=2
            while true
            do
                echo "Looping...."
                echo "Value of counter is $counter."
                counter=$(( $counter * 2))
                sleep 1
            done
            echo "Out of the loop"
			
			[root@scriptbox ~]# ./16_while.sh
			Looping....
			Value of counter is 2.
			Looping....
			Value of counter is 4.
			Looping....
			Value of counter is 8.
			Looping....
			Value of counter is 16.
			Looping....
			Value of counter is 32.
			Looping....
			Value of counter is 64.
			Looping....
			Value of counter is 128.
			...
			
		Case 28:
		
			127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
			::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
			192.168.10.13 web01
			192.168.10.14 web02
			192.168.10.15 web03
			
			[root@localhost ~]# ping web01
			PING web01 (192.168.10.13) 56(84) bytes of data.
			64 bytes from web01 (192.168.10.13): icmp_seq=1 ttl=64 time=3.83 ms
			64 bytes from web01 (192.168.10.13): icmp_seq=2 ttl=64 time=2.57 ms
			64 bytes from web01 (192.168.10.13): icmp_seq=3 ttl=64 time=1.44 ms
			64 bytes from web01 (192.168.10.13): icmp_seq=4 ttl=64 time=3.46 ms
			64 bytes from web01 (192.168.10.13): icmp_seq=5 ttl=64 time=2.18 ms

		Case 29:
		
			web01: visudo
		
				## Allow root to run any commands anywhere
				root    ALL=(ALL)       ALL
				devops ALL=(ALL)        NOPASSWD: ALL
				
			web03: /etc/ssh/sshd_config

				PasswordAuthentication yes
				ChallengeResponseAuthentication no
			
		Case 30:
		
			multios_websetup.sh:
		
				#!/bin/bash

				# Variable Declaration
				#PACKAGE="httpd wget unzip"
				#SVC="httpd"
				URL='https://www.tooplate.com/zip-templates/2098_health.zip'
				ART_NAME='2098_health'
				TEMPDIR="/tmp/webfiles"

				yum --help &> /dev/null

				if [ $? -eq 0 ]
				then
				   # Set Variables for CentOS
				   PACKAGE="httpd wget unzip"
				   SVC="httpd"

				   echo "Running Setup on CentOS"
				   # Installing Dependencies
				   echo "########################################"
				   echo "Installing packages."
				   echo "########################################"
				   sudo yum install $PACKAGE -y > /dev/null
				   echo

				   # Start & Enable Service
				   echo "########################################"
				   echo "Start & Enable HTTPD Service"
				   echo "########################################"
				   sudo systemctl start $SVC
				   sudo systemctl enable $SVC
				   echo

				   # Creating Temp Directory
				   echo "########################################"
				   echo "Starting Artifact Deployment"
				   echo "########################################"
				   mkdir -p $TEMPDIR
				   cd $TEMPDIR
				   echo

				   wget $URL > /dev/null
				   unzip $ART_NAME.zip > /dev/null
				   sudo cp -r $ART_NAME/* /var/www/html/
				   echo

				   # Bounce Service
				   echo "########################################"
				   echo "Restarting HTTPD service"
				   echo "########################################"
				   systemctl restart $SVC
				   echo

				   # Clean Up
				   echo "########################################"
				   echo "Removing Temporary Files"
				   echo "########################################"
				   rm -rf $TEMPDIR
				   echo

				   sudo systemctl status $SVC
				   ls /var/www/html/

				else
					# Set Variables for Ubuntu
				   PACKAGE="apache2 wget unzip"
				   SVC="apache2"

				   echo "Running Setup on CentOS"
				   # Installing Dependencies
				   echo "########################################"
				   echo "Installing packages."
				   echo "########################################"
				   sudo apt update
				   sudo apt install $PACKAGE -y > /dev/null
				   echo

				   # Start & Enable Service
				   echo "########################################"
				   echo "Start & Enable HTTPD Service"
				   echo "########################################"
				   sudo systemctl start $SVC
				   sudo systemctl enable $SVC
				   echo

				   # Creating Temp Directory
				   echo "########################################"
				   echo "Starting Artifact Deployment"
				   echo "########################################"
				   mkdir -p $TEMPDIR
				   cd $TEMPDIR
				   echo

				   wget $URL > /dev/null
				   unzip $ART_NAME.zip > /dev/null
				   sudo cp -r $ART_NAME/* /var/www/html/
				   echo

				   # Bounce Service
				   echo "########################################"
				   echo "Restarting HTTPD service"
				   echo "########################################"
				   systemctl restart $SVC
				   echo

				   # Clean Up
				   echo "########################################"
				   echo "Removing Temporary Files"
				   echo "########################################"
				   rm -rf $TEMPDIR
				   echo

				   sudo systemctl status $SVC
				   ls /var/www/html/
				fi 

		Case 31:
		
			#!/bin/bash
			USR='devops'
			for host in `cat remhosts`
			do
					echo
					echo "#######################################"
					echo "Connecting to $host"
					echo "Pushing Script to $host"
					scp multios_websetup.sh $USR@$host:/tmp/
					echo "Executing Script on $host"
					ssh $USR@$host sudo /tmp/multios_websetup.sh
					ssh $USR@$host sudo rm -rf /tmp/multios_websetup.sh
					echo "#######################################"
					echo
			done

--- AWS Part-1:

	Setting EC2
	
	Khi táº¡o inbound rules trong security group chÃº Ã½ Ä‘áº¿n port, pháº£i Ä‘Ãºng port má»›i cháº¡y ra Ä‘Æ°á»£c trang web
	
	ChÃº Ã½ khi truy cáº­p ec2 vá»›i ssh key pair thÃ¬ cáº§n import Ä‘Ãºng file key pair, náº¿u khÃ´ng sáº½ bá»‹ denied
	
	My IP mÃ  báº¡n thÆ°á»ng tháº¥y khi cáº¥u hÃ¬nh Inbound rule trong Security Group cá»§a AWS nghÄ©a lÃ :

		AWS tá»± Ä‘á»™ng láº¥y Ä‘á»‹a chá»‰ IP public hiá»‡n táº¡i cá»§a mÃ¡y tÃ­nh báº¡n Ä‘ang dÃ¹ng
		(mÃ¡y laptop/PC/Ä‘iá»‡n thoáº¡i Ä‘ang truy cáº­p vÃ o AWS Console).

		Khi báº¡n chá»n My IP, rule sáº½ chá»‰ cho phÃ©p Ä‘á»‹a chá»‰ IP Ä‘Ã³ Ä‘Æ°á»£c truy cáº­p vÃ o EC2 qua cá»•ng
		báº¡n chá»n (vÃ­ dá»¥ SSH port 22, hoáº·c HTTP port 80).

	ChÆ°a cháº¡y Ä‘Æ°á»£c mkfs

		Tuy nhiÃªn láº¡i cháº¡y Ä‘Æ°á»£c lá»‡nh mkfs.t4 /dev/nvme1n1p1
		
	Khi thÃªm file vÃ o /var/www/html thÃ¬ cáº§n khá»Ÿi Ä‘á»™ng láº¡i webserver Ä‘á»ƒ cáº­p nháº­t
	
		systemctl restart apache2
	
	Mount á»• Ä‘Ä©a trong EC2 báº±ng lá»‡nh cmd
	
	Táº¡o snapshot tá»« volume
	
	Táº¡o image (AMI) tá»« EC2 instance
	
	Táº¡o launch template tá»« AMI
	
	Launch instance tá»« launch template
	
	Elastic file system
	
	Táº¡o target group, load balancer, sau Ä‘Ã³ táº¡o auto scaling groups
	
	CÃ³ thá»ƒ truy cáº­p tÃ i nguyÃªn S3 public vá»›i ACLs enabled vÃ  bá» block all public access
	
	Táº¡o lifecycle rules vÃ  replication rules trong S3
	
	Táº¡o 1 RDS, 1 EC2. Tá»« EC2 cÃ i mysql, sau Ä‘Ã³ truy cáº­p vÃ o RDS thÃ´ng qua tÃªn vÃ  password cá»§a RDS
	
	
	
	
	
	

	AWS Part-1 - Command:
	
		- cmd: ssh -i "web-dev-key.pem" ec2-user@ec2-3-90-88-184.compute-1.amazonaws.com
		
Giáº£i thÃ­ch chi tiáº¿t (plain text) â€” lá»‡nh:

ssh -i "web-dev-key.pem" [ec2-user@ec2-3-90-88-184.compute-1.amazonaws.com](mailto:ec2-user@ec2-3-90-88-184.compute-1.amazonaws.com)

---

## Má»¥c Ä‘Ã­ch

Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ thiáº¿t láº­p má»™t káº¿t ná»‘i SSH tá»« mÃ¡y local Ä‘áº¿n má»™t phiÃªn báº£n mÃ¡y chá»§ Amazon EC2, sá»­ dá»¥ng má»™t private key file (.pem) Ä‘á»ƒ xÃ¡c thá»±c thay vÃ¬ máº­t kháº©u.

---

## Cáº¥u trÃºc tá»•ng quÃ¡t

ssh [tÃ¹y chá»n] <user>@<host>

Trong vÃ­ dá»¥:

* ssh                : chÆ°Æ¡ng trÃ¬nh Secure Shell client
* -i "web-dev-key.pem": chá»‰ Ä‘á»‹nh private key file (á»Ÿ Ä‘Ã¢y tÃªn file lÃ  web-dev-key.pem) dÃ¹ng Ä‘á»ƒ xÃ¡c thá»±c
* ec2-user           : tÃªn user trÃªn mÃ¡y EC2 (thÆ°á»ng dÃ¹ng cho AMI Amazon Linux; cÃ¡c AMI khÃ¡c cÃ³ thá»ƒ dÃ¹ng ubuntu, centos, ec2-user, bitnami, v.v.)
* ec2-3-90-88-184.compute-1.amazonaws.com : hostname cÃ´ng khai (public DNS) cá»§a instance EC2 â€” cÃ³ thá»ƒ thay báº±ng Ä‘á»‹a chá»‰ IP cÃ´ng khai

---

## Giáº£i thÃ­ch tá»«ng pháº§n (chi tiáº¿t nháº¥t)

1. ssh

   * CÃ´ng cá»¥ káº¿t ná»‘i an toÃ n qua máº¡ng tá»›i shell trÃªn mÃ¡y tá»« xa.
   * Dá»¯ liá»‡u truyá»n qua káº¿t ná»‘i SSH Ä‘Æ°á»£c mÃ£ hÃ³a.

2. -i "web-dev-key.pem"

   * TÃ¹y chá»n -i chá»‰ Ä‘á»‹nh file private key dÃ¹ng Ä‘á»ƒ xÃ¡c thá»±c vá»›i server.
   * File .pem lÃ  private key Ä‘Æ°á»£c táº£i xuá»‘ng khi báº¡n táº¡o key pair trong AWS EC2.
   * Quyá»n file nÃªn lÃ  riÃªng tÆ°: cháº¡y chmod 400 web-dev-key.pem (hoáº·c chmod 600) Ä‘á»ƒ chá»‰ chá»§ sá»Ÿ há»¯u cÃ³ quyá»n Ä‘á»c.
   * Náº¿u khÃ´ng Ä‘áº·t quyá»n cháº·t cháº½, SSH sáº½ tá»« chá»‘i dÃ¹ng key (error: Unprotected private key file).

3. ec2-user

   * TÃªn tÃ i khoáº£n dÃ¹ng Ä‘á»ƒ Ä‘Äƒng nháº­p. TrÃªn Amazon Linux / Amazon Linux 2, user máº·c Ä‘á»‹nh lÃ  ec2-user.
   * TrÃªn Ubuntu AMI thÆ°á»ng lÃ  ubuntu; trÃªn CentOS thÆ°á»ng lÃ  centos; trÃªn RHEL thÆ°á»ng lÃ  ec2-user hoáº·c root. LuÃ´n kiá»ƒm tra tÃ i liá»‡u AMI náº¿u khÃ´ng cháº¯c.

4. ec2-3-90-88-184.compute-1.amazonaws.com

   * Hostname public do AWS cung cáº¥p cho instance (Ä‘i cÃ¹ng IP public 3.90.88.184 trong vÃ­ dá»¥).
   * Báº¡n cÃ³ thá»ƒ dÃ¹ng Ä‘á»‹a chá»‰ IP cÃ´ng khai trá»±c tiáº¿p: ssh -i "web-dev-key.pem" ec2-user@3.90.88.184
   * Äáº£m báº£o instance cÃ³ Public IP vÃ  Ä‘ang cháº¡y; náº¿u instance chá»‰ cÃ³ private IP thÃ¬ cáº§n VPN hoáº·c bastion host.

---

## Kiá»ƒm tra & yÃªu cáº§u trÆ°á»›c khi káº¿t ná»‘i

1. Quyá»n file key:

   * chmod 400 web-dev-key.pem
   * Náº¿u khÃ´ng, báº¡n sáº½ gáº·p: "Permissions 0664 for 'web-dev-key.pem' are too open." vÃ  SSH sáº½ tá»« chá»‘i.

2. Security Group (AWS):

   * Instance pháº£i cho phÃ©p inbound SSH (port 22) tá»« Ä‘á»‹a chá»‰ IP cá»§a báº¡n (hoáº·c dáº£i IP).
   * Kiá»ƒm tra security group vÃ  sá»­a rule inbound náº¿u cáº§n (Source: your-ip/32 hoáº·c 0.0.0.0/0 táº¡m trong mÃ´i trÆ°á»ng thá»­ nghiá»‡m â€” *khÃ´ng* khuyáº¿n nghá»‹ cho production).

3. User vÃ  AMI Ä‘Ãºng:

   * DÃ¹ng Ä‘Ãºng username tÆ°Æ¡ng á»©ng AMI (ec2-user, ubuntu, centos, etc.)

4. Instance Ä‘ang cháº¡y & cÃ³ public IP.

---

## Lá»—i thÆ°á»ng gáº·p & cÃ¡ch kháº¯c phá»¥c

1. Permission denied (publickey):

   * NguyÃªn nhÃ¢n: server khÃ´ng cháº¥p nháº­n key báº¡n dÃ¹ng.
   * Kiá»ƒm tra: Ä‘Ã£ upload public key tÆ°Æ¡ng á»©ng vÃ o EC2 (khi táº¡o instance qua key pair) hay user ~/.ssh/authorized_keys chá»©a public key.
   * Äáº£m báº£o dÃ¹ng private key phÃ¹ há»£p.

2. Unprotected private key file:

   * NguyÃªn nhÃ¢n: quyá»n file .pem quÃ¡ má»Ÿ.
   * Kháº¯c phá»¥c: chmod 400 web-dev-key.pem

3. Connection timed out / Connection refused:

   * NguyÃªn nhÃ¢n: security group chÆ°a má»Ÿ port 22; instance Ä‘ang táº¯t; máº¡ng firewall cháº·n.
   * Kháº¯c phá»¥c: má»Ÿ inbound rule cho port 22, kiá»ƒm tra instance tráº¡ng thÃ¡i, hoáº·c dÃ¹ng bastion.

4. Hostname khÃ´ng phÃ¢n giáº£i hoáº·c khÃ´ng cÃ³ route:

   * DÃ¹ng Ä‘á»‹a chá»‰ IP thay cho hostname, kiá»ƒm tra DNS hoáº·c máº¡ng.

---

## CÃ¡c biáº¿n thá»ƒ & máº¹o

* DÃ¹ng IP thay hostname:
  ssh -i "web-dev-key.pem" ec2-user@3.90.88.184

* ThÃªm tÃ¹y chá»n -v (verbose) Ä‘á»ƒ debug:
  ssh -i "web-dev-key.pem" -v [ec2-user@ec2-3-90-88-184.compute-1.amazonaws.com](mailto:ec2-user@ec2-3-90-88-184.compute-1.amazonaws.com)

* Náº¿u muá»‘n káº¿t ná»‘i vá»›i user root (náº¿u AMI cho phÃ©p):
  ssh -i "web-dev-key.pem" [root@ec2-3-90-88-184.compute-1.amazonaws.com](mailto:root@ec2-3-90-88-184.compute-1.amazonaws.com)

* Sá»­ dá»¥ng SSH config Ä‘á»ƒ trÃ¡nh ghi láº¡i -i vÃ  hostname dÃ i:
  Trong ~/.ssh/config thÃªm:
  Host my-ec2
  HostName ec2-3-90-88-184.compute-1.amazonaws.com
  User ec2-user
  IdentityFile ~/path/to/web-dev-key.pem
  Sau Ä‘Ã³: ssh my-ec2

---

## Gá»£i Ã½ báº£o máº­t

* Giá»¯ private key an toÃ n; khÃ´ng commit vÃ o git.
* DÃ¹ng security group háº¡n cháº¿ pháº¡m vi IP cÃ³ thá»ƒ SSH vÃ o (khÃ´ng Ä‘á»ƒ 0.0.0.0/0 trá»« khi cáº§n thiáº¿t).
* CÃ¢n nháº¯c dÃ¹ng MFA, AWS Systems Manager Session Manager hoáº·c bastion host Ä‘á»ƒ tÄƒng an ninh.

---

## Báº£n sao (copy-ready) â€” ná»™i dung toÃ n bá»™ Ä‘á»ƒ dÃ¡n vÃ o file .txt

ssh -i "web-dev-key.pem" [ec2-user@ec2-3-90-88-184.compute-1.amazonaws.com](mailto:ec2-user@ec2-3-90-88-184.compute-1.amazonaws.com)

(END)
		
		
		- cmd: ssh -i "E:/devops learning download/AWS_Part-1/web-dev-key.pem" ec2-user@ec2-3-90-88-184.compute-1.amazonaws.com
		
TiÃªu Ä‘á»:
    Giáº£i thÃ­ch chi tiáº¿t nháº¥t cho:
    ssh -i "E:/devops learning download/AWS_Part-1/web-dev-key.pem" ec2-user@ec2-3-90-88-184.compute-1.amazonaws.com

Má»¥c Ä‘Ã­ch lá»‡nh:
    DÃ¹ng SSH Ä‘á»ƒ káº¿t ná»‘i (login) tá»« mÃ¡y LOCAL tá»›i má»™t instance EC2 cá»§a AWS,
    xÃ¡c thá»±c báº±ng private key PEM náº±m trÃªn á»• Ä‘Ä©a (Ä‘Æ°á»ng dáº«n Windows).

CÃº phÃ¡p chung:
    ssh -i "<Ä‘Æ°á»ng_dáº«n_private_key>" <user>@<host-or-ip>

PhÃ¢n tÃ­ch chi tiáº¿t tá»«ng pháº§n:

1) ssh
    - ChÆ°Æ¡ng trÃ¬nh OpenSSH client (giao thá»©c SSH) Ä‘á»ƒ má»Ÿ má»™t shell an toÃ n tá»›i remote host.
    - Máº·c Ä‘á»‹nh dÃ¹ng cá»•ng TCP 22 (SSH).

2) -i "E:/devops learning download/AWS_Part-1/web-dev-key.pem"
    - `-i` (identity file) chá»‰ Ä‘á»‹nh file private key (PEM) dÃ¹ng Ä‘á»ƒ xÃ¡c thá»±c.
    - ÄÆ°á»ng dáº«n á»Ÿ vÃ­ dá»¥ lÃ  Ä‘Æ°á»ng dáº«n Windows (chá»©a khoáº£ng tráº¯ng), vÃ¬ váº­y Ä‘Æ°á»£c Ä‘áº·t trong dáº¥u ngoáº·c kÃ©p `"..."`.
    - LÆ°u Ã½ vá» quyá»n truy cáº­p:
        + TrÃªn há»‡ thá»‘ng UNIX/Linux/WSL: file private key pháº£i cÃ³ quyá»n háº¡n cháº¿ (vÃ­ dá»¥ chmod 400).
        + TrÃªn Windows (OpenSSH client trong PowerShell/Git Bash/WSL): náº¿u dÃ¹ng WSL/Git Bash, báº¡n cÃ³ thá»ƒ cáº§n chá»‰nh quyá»n trong WSL. TrÃ¬nh SSH cá»§a Windows cÃ³ thá»ƒ cáº£nh bÃ¡o vá» "too open permissions".
    - Báº£o máº­t: file .pem lÃ  private key â€” **khÃ´ng** Ä‘Æ°á»£c chia sáº», sao chÃ©p vÃ o nÆ¡i cÃ´ng cá»™ng, hoáº·c commit lÃªn git.

3) ec2-user
    - TÃªn user Ä‘á»ƒ Ä‘Äƒng nháº­p trÃªn remote.
    - `ec2-user` lÃ  user máº·c Ä‘á»‹nh trÃªn nhiá»u AMI cá»§a Amazon Linux / Amazon Linux 2.
    - LÆ°u Ã½: vá»›i cÃ¡c AMI khÃ¡c user máº·c Ä‘á»‹nh cÃ³ thá»ƒ lÃ  `ubuntu`, `centos`, `admin`, `ec2-user`,... (khÃ´ng dÃ¹ng user `root` trá»±c tiáº¿p).

4) ec2-3-90-88-184.compute-1.amazonaws.com
    - TÃªn host (public DNS) cá»§a EC2 instance do AWS gÃ¡n.
    - CÃ³ thá»ƒ thay báº±ng Ä‘á»‹a chá»‰ IP public (vd. 3.90.88.184) hoáº·c hostname.
    - YÃªu cáº§u:
        + Instance pháº£i cÃ³ public IP (hoáº·c qua bastion/VPN).
        + Security Group cá»§a EC2 pháº£i cho phÃ©p inbound SSH (port 22) tá»« IP báº¡n Ä‘ang dÃ¹ng.

HÃ nh vi thá»±c táº¿ khi cháº¡y:
    - SSH client sáº½ dÃ¹ng private key trong file .pem Ä‘á»ƒ authenticate.
    - Náº¿u thÃ nh cÃ´ng, báº¡n sáº½ nháº­n Ä‘Æ°á»£c má»™t shell tÆ°Æ¡ng tÃ¡c trÃªn EC2 (prompt cá»§a ec2-user@...).
    - Láº§n Ä‘áº§u káº¿t ná»‘i tá»›i host má»›i sáº½ hiá»‡n thÃ´ng bÃ¡o fingerprint cá»§a host vÃ  há»i cÃ³ cháº¥p nháº­n khÃ´ng (yes/no). Náº¿u yes, host key sáº½ Ä‘Æ°á»£c ghi vÃ o ~/.ssh/known_hosts.

VÃ­ dá»¥ output khi káº¿t ná»‘i thÃ nh cÃ´ng:
    The authenticity of host 'ec2-3-90-88-184.compute-1.amazonaws.com (3.90.88.184)' can't be established.
    ECDSA key fingerprint is SHA256:...
    Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
    Warning: Permanently added 'ec2-3-90-88-184.compute-1.amazonaws.com,3.90.88.184' (ECDSA) to the list of known hosts.
    [ec2-user@ip-172-31-xx-xx ~]$

CÃ¡c lá»—i thÆ°á»ng gáº·p & cÃ¡ch xá»­ lÃ½:

1) Permission denied (publickey)
    - NguyÃªn nhÃ¢n: key khÃ´ng khá»›p, public key chÆ°a Ä‘Æ°á»£c cÃ i trÃªn EC2 (authorized_keys), hoáº·c SSH client khÃ´ng dÃ¹ng Ä‘Ãºng key.
    - Kiá»ƒm tra:
        ssh -i "E:/..." -v ec2-user@ec2-3-90-88-184.compute-1.amazonaws.com
      (dÃ¹ng `-v` Ä‘á»ƒ xem chi tiáº¿t xÃ¡c thá»±c)

2) Bad permissions: UNPROTECTED PRIVATE KEY FILE
    - TrÃªn Linux/WSL: cháº¡y `chmod 400 /path/to/web-dev-key.pem`
    - TrÃªn Windows: náº¿u dÃ¹ng OpenSSH tÃ­ch há»£p, hÃ£y dÃ¹ng WSL/Git Bash hoáº·c Ä‘áº·t quyá»n file sao cho chá»‰ user hiá»‡n táº¡i truy cáº­p Ä‘Æ°á»£c; hoáº·c chuyá»ƒn file vÃ o WSL rá»“i chmod 400.

3) Connection timed out / Connection refused
    - Kiá»ƒm tra security group: báº­t inbound rule cho port 22 tá»« IP cá»§a báº¡n.
    - Kiá»ƒm tra instance Ä‘ang cháº¡y, public IP Ä‘Ãºng, firewall cá»¥c bá»™ hoáº·c máº¡ng khÃ´ng cháº·n cá»•ng.

4) Host key verification failed
    - Xáº£y ra náº¿u host key trÃªn server thay Ä‘á»•i (vÃ­ dá»¥ recreate instance) hoáº·c entry known_hosts cÅ© khÃ¡c vá»›i host hiá»‡n táº¡i.
    - Sá»­a: xÃ³a dÃ²ng tÆ°Æ¡ng á»©ng trong ~/.ssh/known_hosts hoáº·c dÃ¹ng `ssh-keygen -R <host-or-ip>`.

5) Náº¿u báº¡n dÃ¹ng PuTTY trÃªn Windows
    - PuTTY khÃ´ng dÃ¹ng file PEM trá»±c tiáº¿p; chuyá»ƒn PEM -> PPK báº±ng PuTTYgen rá»“i dÃ¹ng .ppk Ä‘á»ƒ káº¿t ná»‘i:
        + Má»Ÿ PuTTYgen -> Load .pem -> Save private key (.ppk)
        + DÃ¹ng PuTTY vÃ  chá»‰ tá»›i file .ppk trong Connection â†’ SSH â†’ Auth â†’ Private key file for authentication.

TÃ¹y chá»n há»¯u Ã­ch:
    - DÃ¹ng verbose khi debug:
        ssh -i "E:/..." -vvv ec2-user@host
    - Gi force dÃ¹ng Ä‘Ãºng key:
        ssh -i "E:/..." -o IdentitiesOnly=yes ec2-user@host
    - Náº¿u SSH cháº¡y trÃªn port khÃ¡c:
        ssh -i "E:/..." -p 2222 ec2-user@host

An toÃ n & best practices (rÃºt gá»n):
    - Giá»¯ private key an toÃ n, khÃ´ng upload public places.
    - Sá»­ dá»¥ng SSH agent (ssh-agent) Ä‘á»ƒ load key vÃ  trÃ¡nh nháº­p path má»—i láº§n:
        eval $(ssh-agent)
        ssh-add "E:/devops learning download/AWS_Part-1/web-dev-key.pem"
    - Sá»­ dá»¥ng bastion host náº¿u instance trong private subnet.
    - Háº¡n cháº¿ source IP trong Security Group thay vÃ¬ má»Ÿ 0.0.0.0/0 náº¿u cÃ³ thá»ƒ.
    - XoÃ¡ key khá»i instance khi khÃ´ng cÃ²n cáº§n thiáº¿t; táº¡o key má»›i náº¿u nghi ngá» bá»‹ lá»™.

CÃ¡c lá»‡nh tham kháº£o Ä‘á»ƒ chÃ©p/cáº¥u hÃ¬nh / kiá»ƒm tra:
    # ThÃªm host vÃ o known_hosts trÆ°á»›c (khÃ´ng prompt) â€” dÃ¹ng ssh-keyscan (cáº©n tháº­n vá»›i MITM)
    ssh-keyscan -H ec2-3-90-88-184.compute-1.amazonaws.com >> ~/.ssh/known_hosts

    # Debug verbose
    ssh -i "E:/devops learning download/AWS_Part-1/web-dev-key.pem" -vvv ec2-user@ec2-3-90-88-184.compute-1.amazonaws.com

    # Náº¿u dÃ¹ng WSL: di chuyá»ƒn key vÃ o WSL vÃ  sá»­a quyá»n
    # (trong WSL)
    mv /mnt/e/devops\ learning\ download/AWS_Part-1/web-dev-key.pem ~/.ssh/web-dev-key.pem
    chmod 400 ~/.ssh/web-dev-key.pem
    ssh -i ~/.ssh/web-dev-key.pem ec2-user@ec2-3-90-88-184.compute-1.amazonaws.com

LÆ°u Ã½ cuá»‘i:
    - CÃ¢u lá»‡nh báº¡n Ä‘Æ°a ra cháº¡y trÃªn client cÃ³ SSH (PowerShell vá»›i OpenSSH, Git Bash, Cygwin, WSL, hoáº·c Linux/Mac).
    - Náº¿u báº¡n dÃ¹ng PuTTY/WinSCP trÃªn Windows, cáº§n convert PEM sang PPK.
    - Tuyá»‡t Ä‘á»‘i khÃ´ng chia sáº» ná»™i dung file PEM cÃ´ng khai.

Káº¿t luáº­n ngáº¯n:
    Lá»‡nh má»Ÿ SSH tá»›i instance EC2 (host ec2-3-90-88-184...) báº±ng user ec2-user vÃ  private key PEM náº±m á»Ÿ Ä‘Æ°á»ng dáº«n Windows. Äáº£m báº£o key Ä‘Ãºng, quyá»n file há»£p lÃ½, vÃ  security group/port 22 cá»§a EC2 cho phÃ©p truy cáº­p.
		
		
		- cmd: ss -tunlp | grep 80
		
ss -tunlp | grep 80

Má»¥c Ä‘Ã­ch:
Liá»‡t kÃª cÃ¡c socket Ä‘ang á»Ÿ tráº¡ng thÃ¡i "listening" (láº¯ng nghe) cá»§a TCP vÃ  UDP, hiá»ƒn thá»‹ thÃ´ng tin tiáº¿n trÃ¬nh liÃªn quan (náº¿u cÃ³), rá»“i lá»c káº¿t quáº£ chá»‰ ra cÃ¡c dÃ²ng cÃ³ chá»©a "80" â€” thÆ°á»ng Ä‘á»ƒ kiá»ƒm tra tiáº¿n trÃ¬nh nÃ o Ä‘ang láº¯ng nghe cá»•ng 80 (HTTP).

Giáº£i thÃ­ch chi tiáº¿t tá»«ng pháº§n:

* ss: tiá»‡n Ã­ch hiá»‡n Ä‘áº¡i thay tháº¿ netstat Ä‘á»ƒ hiá»ƒn thá»‹ socket trÃªn Linux. Nhanh, chÃ­nh xÃ¡c vÃ  cÃ³ nhiá»u tuá»³ chá»n.
* -t: chá»‰ hiá»‡n socket TCP.
* -u: chá»‰ hiá»‡n socket UDP.
  Khi káº¿t há»£p -t vÃ  -u sáº½ hiá»ƒn thá»‹ cáº£ TCP vÃ  UDP.
* -n: khÃ´ng phÃ¢n giáº£i tÃªn (hiá»ƒn thá»‹ sá»‘ cá»•ng vÃ  Ä‘á»‹a chá»‰ thay vÃ¬ dá»‹ch sang tÃªn dá»‹ch vá»¥/host) â€” nhanh hÆ¡n vÃ  trÃ¡nh phá»¥ thuá»™c DNS.
* -l: chá»‰ hiá»‡n cÃ¡c socket Ä‘ang "listening" (láº¯ng nghe) â€” nghÄ©a lÃ  cÃ¡c socket accept/receive káº¿t ná»‘i má»›i.
* -p: hiá»ƒn thá»‹ tiáº¿n trÃ¬nh/ PID vÃ  tÃªn chÆ°Æ¡ng trÃ¬nh Ä‘ang giá»¯ socket (yÃªu cáº§u quyá»n root Ä‘á»ƒ tháº¥y tiáº¿n trÃ¬nh cá»§a user khÃ¡c).
* | grep 80: qua pipe lá»c nhá»¯ng dÃ²ng cÃ³ chá»¯ "80" (thÆ°á»ng Ä‘á»ƒ tÃ¬m cá»•ng 80).

VÃ­ dá»¥ thá»±c táº¿ (káº¿t quáº£ máº«u):
$ sudo ss -tunlp | grep 80
tcp    LISTEN 0      128    0.0.0.0:80      0.0.0.0:*      users:("nginx",pid=1234,fd=6)
tcp    LISTEN 0      128    [::]:80         [::]:*         users:("nginx",pid=1234,fd=7)

Giáº£i thÃ­ch cÃ¡c trÆ°á»ng (theo thá»© tá»± trong vÃ­ dá»¥ ss):

* Loáº¡i giao thá»©c: tcp/udp
* Tráº¡ng thÃ¡i: LISTEN (Ä‘ang láº¯ng nghe)
* Recv-Q, Send-Q: kÃ­ch thÆ°á»›c hÃ ng Ä‘á»£i nháº­n/gá»­i (Ä‘áº¿m bytes Ä‘ang chá»)
* Local Address:Port: Ä‘á»‹a chá»‰ vÃ  cá»•ng Ä‘ang láº¯ng nghe (0.0.0.0:80 nghÄ©a lÃ  láº¯ng nghe trÃªn táº¥t cáº£ IPv4 interfaces; [::]:80 cho IPv6/all interfaces)
* Peer Address:Port: vá»›i listening sáº½ lÃ  * hoáº·c :*
* users:("nginx",pid=1234,fd=6): tiáº¿n trÃ¬nh Ä‘ang giá»¯ socket â€” tÃªn chÆ°Æ¡ng trÃ¬nh, PID vÃ  file descriptor.

LÆ°u Ã½ quan trá»ng vÃ  cÃ¡c trÆ°á»ng há»£p thÆ°á»ng gáº·p:

* Quyá»n root: Ä‘á»ƒ tháº¥y cá»™t users:(...) vá»›i tÃªn tiáº¿n trÃ¬nh vÃ  PID, cáº§n cháº¡y vá»›i sudo hoáº·c root. Náº¿u khÃ´ng, pháº§n process cÃ³ thá»ƒ trá»‘ng hoáº·c bá»‹ áº©n.
* grep 80 cÃ³ thá»ƒ cho káº¿t quáº£ "nhiá»…u":

  * NÃ³ sáº½ match má»i vá»‹ trÃ­ cÃ³ "80" (vÃ­ dá»¥ pid=8080, Ä‘á»‹a chá»‰ chá»©a 80, hay port 8080) â€” khÃ´ng chá»‰ cá»•ng 80. VÃ¬ váº­y káº¿t quáº£ cÃ³ thá»ƒ bao gá»“m port 8080, 18080, hoáº·c chuá»—i khÃ¡c cÃ³ "80".
  * Äá»ƒ lá»c chÃ­nh xÃ¡c cá»•ng 80 IPv4, dÃ¹ng grep -E '(:|[)80($| )' hoáº·c dÃ¹ng ss bá»™ lá»c: ss -ltnp sport = :80

CÃ¡c lá»‡nh thay tháº¿ vÃ  chá»n lá»c chÃ­nh xÃ¡c hÆ¡n:

* DÃ¹ng cÃº phÃ¡p lá»c cá»§a ss (khuyáº¿n nghá»‹):
  sudo ss -ltnp 'sport = :80'   # TCP listening trÃªn port 80
  sudo ss -lunp 'sport = :80'   # UDP listening trÃªn port 80
  (lÆ°u Ã½: -t/-u cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ háº¡n cháº¿ giao thá»©c)
* DÃ¹ng grep cáº©n tháº­n:
  sudo ss -tunlp | grep -E ':(80)( |$)'  # cá»‘ gáº¯ng match ":80" nhÆ° cá»•ng

Náº¿u khÃ´ng cÃ³ output:

* KhÃ´ng cÃ³ tiáº¿n trÃ¬nh nÃ o láº¯ng nghe trÃªn cá»•ng 80 trÃªn host (hoáº·c firewall/NAT cháº·n). Kiá»ƒm tra: systemctl status nginx/httpd, sudo lsof -i :80, hoáº·c netstat -tlnp (náº¿u cÃ²n dÃ¹ng).

CÃ¡c lá»—i/hiá»‡n tÆ°á»£ng hay gáº·p vÃ  cÃ¡ch kháº¯c phá»¥c:

* KhÃ´ng tháº¥y users:(...): cháº¡y ss khÃ´ng cÃ³ quyá»n root -> dÃ¹ng sudo.
* Káº¿t quáº£ chá»©a port khÃ¡c (vÃ­ dá»¥ 8080): do grep match chuá»—i chá»©a "80" -> dÃ¹ng lá»c chÃ­nh xÃ¡c nhÆ° phÃ­a trÃªn.
* Permission denied khi dÃ¹ng sudo ss -tunlp? -> kiá»ƒm tra user sudo vÃ  PAM, hoáº·c cháº¡y sudo su - rá»“i cháº¡y lá»‡nh.

CÃ¡c lá»‡nh liÃªn quan há»¯u Ã­ch:

* sudo lsof -i :80          # liá»‡t kÃª tiáº¿n trÃ¬nh sá»­ dá»¥ng cá»•ng 80 báº±ng lsof
* sudo netstat -tlnp | grep ':80'  # netstat cá»• Ä‘iá»ƒn (náº¿u cÃ³)
* ps -p 1234 -o pid,user,cmd  # khi biáº¿t PID, xem tiáº¿n trÃ¬nh chi tiáº¿t
* sudo ss -plant            # thÃªm -a Ä‘á»ƒ tháº¥y cáº£ listening vÃ  non-listening; -n Ä‘á»ƒ khÃ´ng phÃ¢n giáº£i

VÃ­ dá»¥ thao tÃ¡c Ä‘á»ƒ xÃ¡c Ä‘á»‹nh tiáº¿n trÃ¬nh:

1. sudo ss -tunlp | grep -E ':(80)( |$)'
   -> láº¥y dÃ²ng cÃ³ users:("nginx",pid=1234,...)
2. ps -p 1234 -o pid,user,cmd
   -> biáº¿t user cháº¡y vÃ  cÃ¢u lá»‡nh khá»Ÿi cháº¡y tiáº¿n trÃ¬nh

Ghi chÃº vá» IPv4/IPv6:

* Local Address cÃ³ thá»ƒ lÃ  0.0.0.0:80 (IPv4 all interfaces) hoáº·c [::]:80 (IPv6 all interfaces). Má»™t tiáº¿n trÃ¬nh cÃ³ thá»ƒ láº¯ng nghe trÃªn cáº£ hai.

TÃ³m táº¯t ngáº¯n (1 dÃ²ng):
ss -tunlp | grep 80 â€” kiá»ƒm tra cÃ¡c socket TCP/UDP Ä‘ang láº¯ng nghe vÃ  tiáº¿n trÃ¬nh liÃªn quan, rá»“i lá»c nhá»¯ng dÃ²ng chá»©a "80" (thÆ°á»ng Ä‘á»ƒ tÃ¬m tiáº¿n trÃ¬nh láº¯ng nghe cá»•ng HTTP 80); cháº¡y vá»›i sudo Ä‘á»ƒ tháº¥y PID/program vÃ  cÃ¢n nháº¯c dÃ¹ng bá»™ lá»c ss hoáº·c regex grep chÃ­nh xÃ¡c Ä‘á»ƒ trÃ¡nh match nháº§m.

---

End of file.
		
		
		- cmd: curl http://localhost
		
CURL [http://localhost](http://localhost) - GIáº¢I THÃCH CHI TIáº¾T

Lá»‡nh máº«u:
curl [http://localhost](http://localhost)

Má»¥c Ä‘Ã­ch (tÃ³m táº¯t):
Lá»‡nh nÃ y gá»­i má»™t yÃªu cáº§u HTTP GET tá»›i Ä‘á»‹a chá»‰ `http://localhost` (mÃ¡y cá»¥c bá»™) vÃ  in ra pháº£n há»“i (response body) ra stdout. ThÆ°á»ng dÃ¹ng Ä‘á»ƒ kiá»ƒm tra dá»‹ch vá»¥ web (web server, API) Ä‘ang cháº¡y trÃªn mÃ¡y cá»§a báº¡n.

Giáº£i thÃ­ch tá»«ng pháº§n:

* `curl` : chÆ°Æ¡ng trÃ¬nh dÃ²ng lá»‡nh Ä‘á»ƒ truyá»n dá»¯ liá»‡u báº±ng cÃ¡c giao thá»©c (HTTP, HTTPS, FTP, ...). Ráº¥t thÃ´ng dá»¥ng Ä‘á»ƒ kiá»ƒm tra endpoint, táº£i xuá»‘ng file, gá»i API.
* `http://localhost` : URL má»¥c tiÃªu. `localhost` thÆ°á»ng trá» tá»›i Ä‘á»‹a chá»‰ IP loopback (127.0.0.1 cho IPv4, ::1 cho IPv6). Máº·c Ä‘á»‹nh, HTTP dÃ¹ng cá»•ng 80 náº¿u khÃ´ng chá»‰ Ä‘á»‹nh cá»•ng.

HÃ nh vi máº·c Ä‘á»‹nh:

* Gá»­i HTTP GET tá»›i `localhost:80` (trá»« khi server láº¯ng nghe cá»•ng khÃ¡c).
* In ná»™i dung (body) cá»§a pháº£n há»“i ra terminal.
* KhÃ´ng hiá»ƒn thá»‹ headers trá»« khi yÃªu cáº§u thÃªm tÃ¹y chá»n.

CÃ¡c tÃ¹y chá»n há»¯u Ã­ch (thÆ°á»ng dÃ¹ng kÃ¨m):

* `-I` hoáº·c `--head` : chá»‰ láº¥y HTTP headers (HEAD request). VÃ­ dá»¥: `curl -I http://localhost`.
* `-v` hoáº·c `--verbose` : hiá»ƒn thá»‹ nhiá»u thÃ´ng tin vá» káº¿t ná»‘i (request/response headers, káº¿t quáº£ TCP handshake). Há»¯u Ã­ch Ä‘á»ƒ debug.
* `-s` hoáº·c `--silent` : cháº¿ Ä‘á»™ im láº·ng (áº©n progress, errors).
* `-S` : show error khi dÃ¹ng cÃ¹ng `-s`.
* `-o <file>` : lÆ°u response body vÃ o file thay vÃ¬ in ra stdout. VÃ­ dá»¥: `curl -o out.html http://localhost`.
* `-O` : lÆ°u file vá» theo tÃªn gá»‘c tá»« URL.
* `-L` hoáº·c `--location` : theo redirect (3xx). Náº¿u server tráº£ redirect, curl sáº½ tá»± theo.
* `-X <METHOD>` : chá»‰ Ä‘á»‹nh HTTP method (GET, POST, PUT, DELETE...). VÃ­ dá»¥: `curl -X POST http://localhost`.
* `-d <data>` hoáº·c `--data` : gá»­i dá»¯ liá»‡u body (cÃ¹ng `-X POST` thÆ°á»ng dÃ¹ng). VÃ­ dá»¥: `curl -d 'a=1&b=2' http://localhost`.
* `-H "Header: value"` : thÃªm header tÃ¹y chá»‰nh. VÃ­ dá»¥ `-H "Content-Type: application/json"`.
* `-u user:pass` : basic auth. VÃ­ dá»¥ `curl -u admin:secret http://localhost`.
* `--max-time <seconds>` : giá»›i háº¡n tá»•ng thá»i gian request.
* `--connect-timeout <seconds>` : thá»i gian chá» káº¿t ná»‘i.
* `--insecure` hoáº·c `-k` : bá» kiá»ƒm tra chá»©ng chá»‰ TLS (khi dÃ¹ng https vá»›i cert tá»± kÃ½).
* `--http1.1`, `--http2` : Ã©p giao thá»©c HTTP phiÃªn báº£n cá»¥ thá»ƒ.

VÃ­ dá»¥ thá»±c táº¿:

1. Láº¥y body:
   curl [http://localhost](http://localhost)

2. Láº¥y headers:
   curl -I [http://localhost](http://localhost)

3. Láº¥y Ä‘áº§y Ä‘á»§ request+response Ä‘á»ƒ debug:
   curl -v [http://localhost](http://localhost)

4. Theo redirect vÃ  lÆ°u vÃ o file:
   curl -L -o homepage.html [http://localhost](http://localhost)

5. Gá»i API JSON POST:
   curl -X POST -H "Content-Type: application/json" -d '{"name":"tuan"}' [http://localhost:3000/api/users](http://localhost:3000/api/users)

6. Kiá»ƒm tra endpoint trÃªn cá»•ng 8080:
   curl [http://localhost:8080/health](http://localhost:8080/health)

7. DÃ¹ng IPv4 báº¯t buá»™c (náº¿u localhost giáº£i quyáº¿t sang IPv6 vÃ  service chá»‰ láº¯ng nghe IPv4):
   curl -4 [http://localhost](http://localhost)

8. DÃ¹ng IPv6 báº¯t buá»™c:
   curl -6 [http://localhost](http://localhost)

9. Sá»­ dá»¥ng káº¿t há»£p vá»›i jq Ä‘á»ƒ pretty-print JSON (náº¿u Ä‘Ã£ cÃ i jq):
   curl -s [http://localhost/api](http://localhost/api) | jq '.'

Nhá»¯ng Ä‘iá»u cáº§n lÆ°u Ã½ / lá»—i thÆ°á»ng gáº·p:

* "Connection refused": khÃ´ng cÃ³ service nÃ o láº¯ng nghe trÃªn cá»•ng Ä‘Ã³; kiá»ƒm tra server (nginx, apache, app) Ä‘Ã£ cháº¡y vÃ  Ä‘ang láº¯ng nghe Ä‘Ãºng cá»•ng.
* "Connection timed out": cÃ³ thá»ƒ do firewall cháº·n hoáº·c service khÃ´ng pháº£n há»“i; kiá»ƒm tra iptables/ufw, network.
* Ná»™i dung tráº£ vá» rá»—ng: server cÃ³ thá»ƒ tráº£ 204 No Content hoáº·c lá»—i; dÃ¹ng `-I` hoáº·c `-v` Ä‘á»ƒ xem status code.
* Náº¿u `localhost` trá» tá»›i IPv6 (::1) nhÆ°ng service chá»‰ láº¯ng nghe IPv4 (127.0.0.1), dÃ¹ng `curl -4` hoáº·c thay `localhost` báº±ng `127.0.0.1`.
* Náº¿u báº¡n dÃ¹ng Docker container hoáº·c VM: `localhost` trong container lÃ  container Ä‘Ã³, khÃ´ng pháº£i host mÃ¡y chá»§. Äá»ƒ gá»i service trÃªn host tá»« container cÃ³ cÃ¡ch khÃ¡c (vÃ­ dá»¥ Docker for Mac/Windows dÃ¹ng `host.docker.internal`, hoáº·c mapping network).

ThÃ´ng tin HTTP cÆ¡ báº£n báº¡n cÃ³ thá»ƒ cáº§n Ä‘á»c tá»« response headers (vá»›i `-I` hoáº·c `-v`):

* `HTTP/1.1 200 OK` â€” status code vÃ  reason.
* `Content-Type` â€” kiá»ƒu ná»™i dung (text/html, application/json, v.v.).
* `Content-Length` â€” kÃ­ch thÆ°á»›c body.
* `Server` â€” server software (nginx, Apache, etc.).

So sÃ¡nh nhanh vá»›i cÃ´ng cá»¥ khÃ¡c:

* `wget`: chá»§ yáº¿u Ä‘á»ƒ táº£i file; curl linh hoáº¡t hÆ¡n cho API vÃ  cÃ³ nhiá»u tuá»³ chá»n header/body.
* `httpie`: giao diá»‡n thÃ¢n thiá»‡n hÆ¡n cho API (mÃ u, JSON auto-format).
* `telnet`/`nc`: Ä‘á»ƒ kiá»ƒm tra cá»•ng TCP thÃ´ (khÃ´ng parse HTTP), há»¯u Ã­ch khi debug káº¿t ná»‘i.

á»¨ng dá»¥ng thá»±c táº¿:

* Health check: `curl http://localhost:port/health` Ä‘á»ƒ kiá»ƒm tra service cÃ²n sá»‘ng.
* Kiá»ƒm tra cáº¥u hÃ¬nh reverse proxy (nginx) báº±ng cÃ¡ch gá»i localhost vÃ  kiá»ƒm tra headers.
* Tá»± Ä‘á»™ng hÃ³a scripts: dÃ¹ng curl trong script shell Ä‘á»ƒ gá»i endpoint, kiá»ƒm tra status code vÃ  xá»­ lÃ½ logic.

Kiá»ƒm tra status code trong script:

* Láº¥y status code:
  curl -s -o /dev/null -w "%{http_code}" [http://localhost](http://localhost)

* VÃ­ dá»¥ kiá»ƒm tra vÃ  hÃ nh Ä‘á»™ng:
  if [ "$(curl -s -o /dev/null -w "%{http_code}" http://localhost/health)" -eq 200 ]; then
  echo "Service OK"
  else
  echo "Service DOWN"
  fi

Máº¹o báº£o máº­t:

* TrÃ¡nh in ra terminal cÃ¡c token/máº­t kháº©u. DÃ¹ng file hoáº·c biáº¿n mÃ´i trÆ°á»ng vÃ  `-u`/`-H` cáº©n tháº­n.
* Khi dÃ¹ng HTTPS vá»›i cert tá»± kÃ½ trong mÃ´i trÆ°á»ng dev, dÃ¹ng `--insecure` chá»‰ khi biáº¿t rÃµ rá»§i ro.

TÃ³m táº¯t nhanh:

* `curl http://localhost` gá»­i GET tá»›i Ä‘á»‹a chá»‰ cá»¥c bá»™ vÃ  in response body.
* DÃ¹ng thÃªm `-I`, `-v`, `-L`, `-o`, `-d`, `-H`, `-u` tÃ¹y nhu cáº§u.
* Náº¿u gáº·p lá»—i káº¿t ná»‘i, kiá»ƒm tra service, cá»•ng, firewall, vÃ  liá»‡u `localhost` cÃ³ trá» Ä‘Ãºng IP.

---

Háº¾T

(ÄÃ¢y lÃ  text plain, báº¡n cÃ³ thá»ƒ sao chÃ©p toÃ n bá»™ vÃ  dÃ¡n vÃ o file .txt.)
		
		
		- cmd: apt update && apt install apache2 -y
		
# Lá»‡nh cáº§n sao chÃ©p (dÃ nh cho file .txt)

apt update && apt install apache2 -y

---

1. Ã nghÄ©a tá»•ng quÃ¡t:

* `apt update` : Cáº­p nháº­t danh sÃ¡ch gÃ³i (package index) tá»« cÃ¡c kho lÆ°u trá»¯ Ä‘Æ°á»£c cáº¥u hÃ¬nh trÃªn há»‡ thá»‘ng. Lá»‡nh nÃ y khÃ´ng cÃ i Ä‘áº·t hay nÃ¢ng cáº¥p gÃ³i, chá»‰ táº£i vá» thÃ´ng tin má»›i nháº¥t (phiÃªn báº£n, phá»¥ thuá»™c).

* `&&` : ToÃ¡n tá»­ cá»§a shell (bash). Chá»‰ cháº¡y lá»‡nh bÃªn pháº£i (`apt install ...`) **khi lá»‡nh bÃªn trÃ¡i (`apt update`) cháº¡y thÃ nh cÃ´ng (exit code 0)**. Náº¿u `apt update` tháº¥t báº¡i, `apt install` sáº½ khÃ´ng Ä‘Æ°á»£c thá»±c hiá»‡n.

* `apt install apache2 -y` : CÃ i Ä‘áº·t gÃ³i `apache2` (web server Apache) vÃ  `-y` tá»± Ä‘á»™ng tráº£ lá»i "yes" cho má»i cÃ¢u há»i xÃ¡c nháº­n (vÃ­ dá»¥: "Do you want to continue? [Y/n]").

---

2. Ai nÃªn cháº¡y lá»‡nh nÃ y:

* NgÆ°á»i dÃ¹ng cÃ³ quyá»n root hoáº·c ngÆ°á»i dÃ¹ng cÃ³ quyá»n sudo trÃªn há»‡ thá»‘ng Debian/Ubuntu hoáº·c cÃ¡c báº£n phÃ¢n phá»‘i tÆ°Æ¡ng thÃ­ch vá»›i apt.

VÃ­ dá»¥ Ä‘Ãºng cÃ¡ch (náº¿u báº¡n khÃ´ng á»Ÿ root):

sudo apt update && sudo apt install apache2 -y

---

3. CÃ¡c bÆ°á»›c thá»±c táº¿ sau khi cháº¡y lá»‡nh vÃ  cÃ¡c lá»‡nh kiá»ƒm tra há»¯u Ã­ch:

* Kiá»ƒm tra tráº¡ng thÃ¡i dá»‹ch vá»¥ Apache:
  systemctl status apache2

* Báº­t dá»‹ch vá»¥ Apache khá»Ÿi Ä‘á»™ng cÃ¹ng há»‡ thá»‘ng:
  sudo systemctl enable apache2

* Khá»Ÿi Ä‘á»™ng (náº¿u chÆ°a cháº¡y):
  sudo systemctl start apache2

* Kiá»ƒm tra port láº¯ng nghe (thÆ°á»ng 80 vÃ  443):
  ss -tunlp | grep apache
  hoáº·c
  sudo ss -tunlp | grep :80

* Kiá»ƒm tra trang máº·c Ä‘á»‹nh báº±ng curl (trÃªn mÃ¡y chá»§):
  curl -I [http://localhost](http://localhost)

* Náº¿u truy cáº­p tá»« trÃ¬nh duyá»‡t, má»Ÿ: http://<IP_cá»§a_mÃ¡y_chá»§>/  (trang máº·c Ä‘á»‹nh cá»§a Apache sáº½ hiá»ƒn thá»‹)

---

4. CÃ¡c lÆ°u Ã½ quan trá»ng vÃ  lá»—i phá»• biáº¿n:

* Quyá»n: Thá»±c hiá»‡n báº±ng `sudo` hoáº·c user root. Náº¿u khÃ´ng, báº¡n sáº½ tháº¥y lá»—i permission (vÃ­ dá»¥ "E: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)").

* Káº¿t ná»‘i máº¡ng: `apt update` cáº§n truy cáº­p Internet Ä‘áº¿n cÃ¡c mirror; náº¿u mÃ¡y chá»§ náº±m trong máº¡ng ná»™i bá»™ hoáº·c bá»‹ cháº·n, lá»‡nh sáº½ bÃ¡o lá»—i káº¿t ná»‘i.

* File lock: Náº¿u cÃ³ tiáº¿n trÃ¬nh apt khÃ¡c Ä‘ang cháº¡y (vÃ­ dá»¥ apt, apt-get, unattended-upgrades), báº¡n sáº½ tháº¥y thÃ´ng bÃ¡o file lock â€” chá» tiáº¿n trÃ¬nh Ä‘Ã³ hoÃ n thÃ nh hoáº·c táº¯t tiáº¿n trÃ¬nh Ä‘Ã³.

* KhÃ´ng Ä‘á»§ dung lÆ°á»£ng Ä‘Ä©a: `apt` cÃ³ thá»ƒ tháº¥t báº¡i náº¿u á»• /var hoáº·c / full.

* Phá»¥ thuá»™c (dependencies): apt sáº½ tá»± giáº£i quyáº¿t; náº¿u conflict nghiÃªm trá»ng, apt sáº½ bÃ¡o vÃ  yÃªu cáº§u can thiá»‡p.

---

5. CÃ¡ch gá»¡ (náº¿u muá»‘n):

* Gá»¡ gÃ³i apache2 nhÆ°ng giá»¯ cáº¥u hÃ¬nh:
  sudo apt remove apache2 -y

* Gá»¡ sáº¡ch cáº£ file cáº¥u hÃ¬nh:
  sudo apt purge apache2 -y

* XÃ³a cÃ¡c gÃ³i khÃ´ng cÃ²n cáº§n:
  sudo apt autoremove -y

---

6. VÃ­ dá»¥ quy trÃ¬nh an toÃ n cho mÃ´i trÆ°á»ng production:

* Äáº§u tiÃªn kiá»ƒm tra snapshot/backup náº¿u server quan trá»ng.
* Cháº¡y `sudo apt update` Ä‘á»ƒ cáº­p nháº­t index.
* Kiá»ƒm tra gÃ³i sáº½ cÃ i: `apt show apache2` hoáº·c `apt-cache policy apache2`.
* CÃ i trÃªn mÃ¡y test trÆ°á»›c, sau Ä‘Ã³ trÃªn production.

---

7. ThÃ´ng tin thÃªm (tÃ³m táº¯t nhanh):

* `apt update` = cáº­p nháº­t danh sÃ¡ch gÃ³i.
* `apt install <gÃ³i>` = cÃ i gÃ³i.
* `-y` = Ä‘á»“ng Ã½ tá»± Ä‘á»™ng vá»›i má»i prompt.
* `&&` = chá»‰ cháº¡y lá»‡nh sau khi lá»‡nh trÆ°á»›c thÃ nh cÃ´ng.

---

Náº¿u báº¡n muá»‘n, lÆ°u nguyÃªn vÄƒn ná»™i dung nÃ y vÃ o file `install_apache2.txt` rá»“i dÃ¹ng `cat install_apache2.txt` hoáº·c má»Ÿ báº±ng editor Ä‘á»ƒ cháº¡y copy/paste vÃ o terminal.
		
		
		- cmd: apt install unzip -y
		
# apt install unzip -y

Command:
apt install unzip -y

Má»¥c Ä‘Ã­ch:
CÃ i Ä‘áº·t gÃ³i pháº§n má»m 'unzip' (cÃ´ng cá»¥ giáº£i nÃ©n file .zip) trÃªn cÃ¡c há»‡ thá»‘ng Debian/Ubuntu báº±ng trÃ¬nh quáº£n lÃ½ gÃ³i APT.

Giáº£i thÃ­ch tá»«ng pháº§n (plain text, copy trá»±c tiáº¿p vÃ o .txt):

1. apt

   * LÃ  trÃ¬nh quáº£n lÃ½ gÃ³i (Advanced Package Tool) dÃ¹ng trÃªn Debian/Ubuntu.
   * DÃ¹ng Ä‘á»ƒ táº£i vÃ  cÃ i Ä‘áº·t pháº§n má»m tá»« kho (repositories) Ä‘Ã£ cáº¥u hÃ¬nh.

2. install

   * Lá»‡nh con cá»§a apt: yÃªu cáº§u cÃ i Ä‘áº·t má»™t hoáº·c nhiá»u gÃ³i.

3. unzip

   * TÃªn gÃ³i cáº§n cÃ i Ä‘áº·t. GÃ³i nÃ y cung cáº¥p chÆ°Æ¡ng trÃ¬nh 'unzip' Ä‘á»ƒ giáº£i nÃ©n tá»‡p ZIP.
   * Sau khi cÃ i, báº¡n cÃ³ thá»ƒ dÃ¹ng: unzip file.zip

4. -y

   * TÃ¹y chá»n tá»± Ä‘á»™ng tráº£ lá»i "yes" cho má»i lá»i há»i xÃ¡c nháº­n trong quÃ¡ trÃ¬nh cÃ i (vÃ­ dá»¥: "Do you want to continue? [Y/n]").
   * Tiá»‡n khi cháº¡y trong script hoáº·c automation nhÆ°ng hÃ£y cáº©n tháº­n vÃ¬ nÃ³ sáº½ cháº¥p nháº­n má»i thay Ä‘á»•i Ä‘Æ°á»£c Ä‘á» xuáº¥t.

LÆ°u Ã½ & bÆ°á»›c khuyáº¿n nghá»‹ trÆ°á»›c khi cháº¡y:

* NÃªn cháº¡y 'apt update' trÆ°á»›c Ä‘á»ƒ lÃ m má»›i danh sÃ¡ch gÃ³i, vÃ­ dá»¥:
  apt update && apt install unzip -y
* Náº¿u khÃ´ng cháº¡y 'apt update', apt cÃ³ thá»ƒ dÃ¹ng báº£n cache cÅ© vÃ  cÃ i phiÃªn báº£n khÃ´ng má»›i nháº¥t.

Quyá»n (Privileges):

* Cáº§n quyá»n root Ä‘á»ƒ cÃ i gÃ³i. Náº¿u báº¡n khÃ´ng á»Ÿ user root thÃ¬ thÃªm 'sudo' trÆ°á»›c:
  sudo apt install unzip -y

VÃ­ dá»¥ thá»±c táº¿ (1 dÃ²ng, copy Ä‘Æ°á»£c):

# Cáº­p nháº­t danh sÃ¡ch gÃ³i rá»“i cÃ i unzip (sá»­ dá»¥ng sudo náº¿u cáº§n)

sudo apt update && sudo apt install unzip -y

Kiá»ƒm tra sau khi cÃ i:

* XÃ¡c nháº­n unzip Ä‘Ã£ sáºµn sÃ ng:
  unzip -v

  # hoáº·c kiá»ƒm tra gÃ³i Ä‘Ã£ cÃ i:

  apt list --installed | grep unzip

CÃ¡c lá»—i thÆ°á»ng gáº·p vÃ  cÃ¡ch xá»­ lÃ½ nhanh:

* "E: Could not get lock /var/lib/dpkg/lock-frontend":
  CÃ³ tiáº¿n trÃ¬nh apt/dpkg khÃ¡c Ä‘ang cháº¡y (vÃ­ dá»¥ apt update, apt upgrade, gui software center). Chá» hoáº·c kill tiáº¿n trÃ¬nh Ä‘Ã³.
* "Package 'unzip' has no installation candidate":
  Kiá»ƒm tra káº¿t ná»‘i Internet vÃ  cháº¡y 'apt update' Ä‘á»ƒ lÃ m má»›i danh sÃ¡ch kho.
* Thiáº¿u quyá»n: náº¿u báº¡n khÃ´ng pháº£i root, thÃªm sudo trÆ°á»›c lá»‡nh.

An toÃ n & Best practices:

* TrÃ¡nh dÃ¹ng '-y' náº¿u báº¡n muá»‘n Ä‘á»c cÃ¡c thay Ä‘á»•i lá»›n (vÃ­ dá»¥ sáº½ xÃ³a gÃ³i khÃ¡c).
* Khi cháº¡y trÃªn server production, kiá»ƒm tra thay Ä‘á»•i phá»¥ thuá»™c (dependencies) náº¿u cÃ³.

Máº¹o nhanh dÃ¹ng unzip sau khi cÃ i:

* Giáº£i nÃ©n vÃ o thÆ° má»¥c hiá»‡n táº¡i:
  unzip archive.zip
* Giáº£i nÃ©n vÃ o thÆ° má»¥c cá»¥ thá»ƒ:
  unzip archive.zip -d /path/to/destination
* Xem ná»™i dung file zip mÃ  khÃ´ng giáº£i nÃ©n:
  unzip -l archive.zip

---

Táº¥t cáº£ ná»™i dung trÃªn lÃ  plain text, báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ  lÆ°u vÃ o file .txt.
		
		
		- cmd: systemctl restart apache2
		
===========================
GIáº¢I THÃCH Lá»†NH systemctl restart apache2
===========================

1. CÃº phÃ¡p lá»‡nh:
   systemctl restart apache2

2. Chá»©c nÄƒng:
   - Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ KHá»I Äá»˜NG Láº I (restart) dá»‹ch vá»¥ Apache2 trÃªn há»‡ thá»‘ng Linux sá»­ dá»¥ng systemd.
   - Apache2 lÃ  dá»‹ch vá»¥ web server (HTTP server).

3. Khi cháº¡y lá»‡nh nÃ y, systemd sáº½ thá»±c hiá»‡n:
   - Dá»«ng (stop) dá»‹ch vá»¥ apache2 Ä‘ang cháº¡y.
   - Sau Ä‘Ã³ khá»Ÿi Ä‘á»™ng láº¡i (start) dá»‹ch vá»¥ apache2.
   - Táº£i láº¡i toÃ n bá»™ cáº¥u hÃ¬nh tá»« file config (nhÆ° apache2.conf, site-enabled, vhost...).

4. Khi nÃ o cáº§n dÃ¹ng restart:
   - Sau khi chá»‰nh sá»­a file cáº¥u hÃ¬nh Apache.
   - Khi Apache bá»‹ lá»—i, treo, hoáº·c cháº¡y khÃ´ng Ä‘Ãºng.
   - Khi muá»‘n Ã¡p dá»¥ng phiÃªn báº£n má»›i sau khi update gÃ³i apache2.
   - Khi muá»‘n refresh toÃ n bá»™ tiáº¿n trÃ¬nh cá»§a Apache.

5. LÆ°u Ã½ quan trá»ng:
   - Restart sáº½ lÃ m ngáº¯t káº¿t ná»‘i cÃ¡c request Ä‘ang xá»­ lÃ½ â†’ giÃ¡n Ä‘oáº¡n ngáº¯n website.
   - Náº¿u chá»‰ thay Ä‘á»•i cáº¥u hÃ¬nh Ä‘Æ¡n giáº£n, báº¡n cÃ³ thá»ƒ dÃ¹ng:
       systemctl reload apache2
     (reload thÃ¬ khÃ´ng khá»Ÿi Ä‘á»™ng láº¡i tiáº¿n trÃ¬nh â†’ khÃ´ng lÃ m giÃ¡n Ä‘oáº¡n dá»‹ch vá»¥)

6. Kiá»ƒm tra tráº¡ng thÃ¡i sau khi restart:
   - DÃ¹ng:
       systemctl status apache2
     Ä‘á»ƒ xem Apache Ä‘Ã£ cháº¡y thÃ nh cÃ´ng hay chÆ°a.

7. Kiá»ƒm tra service láº¯ng nghe port:
   - DÃ¹ng:
       ss -tunlp | grep apache2
     Ä‘á»ƒ kiá»ƒm tra Apache Ä‘ang má»Ÿ port 80 hoáº·c 443.

===========================
TÃ“M Táº®T NGáº®N Gá»ŒN
===========================
- "systemctl restart apache2" = khá»Ÿi Ä‘á»™ng láº¡i web server Apache.
- DÃ¹ng khi cáº§n apply cáº¥u hÃ¬nh má»›i hoáº·c khi Apache hoáº¡t Ä‘á»™ng lá»—i.
- CÃ³ thá»ƒ gÃ¢y giÃ¡n Ä‘oáº¡n dá»‹ch vá»¥ trong thá»i gian ngáº¯n.
===========================

		
		
		- cmd: ps -ef | grep apache2
		
TiÃªu Ä‘á»: Giáº£i thÃ­ch chi tiáº¿t lá»‡nh `ps -ef | grep apache2`

Má»¥c Ä‘Ã­ch:
  - Liá»‡t kÃª táº¥t cáº£ tiáº¿n trÃ¬nh trÃªn há»‡ thá»‘ng vÃ  tÃ¬m nhá»¯ng tiáº¿n trÃ¬nh liÃªn quan Ä‘áº¿n "apache2".
  - ThÆ°á»ng dÃ¹ng Ä‘á»ƒ kiá»ƒm tra xem Apache (web server) cÃ³ Ä‘ang cháº¡y khÃ´ng, láº¥y PID, vÃ  thÃ´ng tin liÃªn quan.

CÃ¢u lá»‡nh (nguyÃªn vÄƒn):
  ps -ef | grep apache2

PhÃ¢n tÃ­ch tá»«ng thÃ nh pháº§n:
  1) ps
     - LÃ  chÆ°Æ¡ng trÃ¬nh hiá»ƒn thá»‹ cÃ¡c tiáº¿n trÃ¬nh (processes) hiá»‡n cÃ³.
     - TÃ¹y chá»n `-e` hoáº·c `-A`: hiá»ƒn thá»‹ táº¥t cáº£ tiáº¿n trÃ¬nh.
     - TÃ¹y chá»n `-f`: full-format listing â€” hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ cÃ¡c cá»™t thÃ´ng tin (UID, PID, PPID, C, STIME, TTY, TIME, CMD).

  2) |
     - (pipe) chuyá»n káº¿t quáº£ (stdout) cá»§a lá»‡nh bÃªn trÃ¡i lÃ m Ä‘áº§u vÃ o cho lá»‡nh bÃªn pháº£i.

  3) grep apache2
     - `grep` tÃ¬m kiáº¿m dÃ²ng chá»©a chuá»—i "apache2" trong Ä‘áº§u vÃ o.
     - Káº¿t quáº£ tráº£ vá» lÃ  cÃ¡c dÃ²ng tá»« `ps -ef` cÃ³ chá»©a "apache2".
     - LÆ°u Ã½: chÃ­nh lá»‡nh `grep apache2` cÅ©ng thÆ°á»ng xuáº¥t hiá»‡n trong káº¿t quáº£ vÃ¬ chuá»—i "apache2" xuáº¥t trong danh sÃ¡ch command cá»§a grep. Ta sáº½ tháº¥y Ä‘iá»u nÃ y trong pháº§n "Máº¹o" bÃªn dÆ°á»›i.

Giáº£i thÃ­ch cÃ¡c cá»™t xuáº¥t hiá»‡n khi cháº¡y `ps -ef` (thÃ´ng dá»¥ng trÃªn Linux):
  UID    : user sá»Ÿ há»¯u tiáº¿n trÃ¬nh.
  PID    : Process ID (sá»‘ Ä‘á»‹nh danh tiáº¿n trÃ¬nh).
  PPID   : Parent Process ID (PID cá»§a tiáº¿n trÃ¬nh cha).
  C      : CPU utilization (chá»‰ sá»‘ ngáº¯n háº¡n).
  STIME  : thá»i gian tiáº¿n trÃ¬nh báº¯t Ä‘áº§u (start time).
  TTY    : terminal liÃªn káº¿t (náº¿u cÃ³), thÆ°á»ng lÃ  "?" cho tiáº¿n trÃ¬nh há»‡ thá»‘ng.
  TIME   : tá»•ng thá»i gian CPU Ä‘Ã£ sá»­ dá»¥ng.
  CMD    : lá»‡nh/command cháº¡y tiáº¿n trÃ¬nh (vá»›i tham sá»‘ náº¿u cÃ³).

VÃ­ dá»¥ máº«u (giáº£ sá»­ há»‡ thá»‘ng cÃ³ Apache cháº¡y):
  root      1234     1  0 08:12 ?        00:00:02 /usr/sbin/apache2 -k start
  www-data  1236  1234  0 08:12 ?        00:00:00 /usr/sbin/apache2 -k start
  user      2345  2200  0 09:01 pts/0    00:00:00 grep --color=auto apache2

ChÃº thÃ­ch cho vÃ­ dá»¥:
  - DÃ²ng Ä‘áº§u: tiáº¿n trÃ¬nh Apache chÃ­nh do root cháº¡y (PID=1234).
  - DÃ²ng thá»© hai: tiáº¿n trÃ¬nh worker cá»§a Apache cháº¡y dÆ°á»›i user www-data (PID=1236), PPID=1234.
  - DÃ²ng cuá»‘i: chÃ­nh lá»‡nh grep xuáº¥t hiá»‡n; thÆ°á»ng muá»‘n loáº¡i bá» dÃ²ng nÃ y khi chá»‰ quan tÃ¢m Apache.

Máº¹o/biá»‡n phÃ¡p hay dÃ¹ng Ä‘á»ƒ trÃ¡nh tháº¥y chÃ­nh lá»‡nh grep:
  - CÃ¡ch 1: grep -v grep (lá»c bá» dÃ²ng chá»©a "grep")
      ps -ef | grep apache2 | grep -v grep
  - CÃ¡ch 2 (thÃ´ng dá»¥ng, trÃ¡nh match chÃ­nh grep): sá»­ dá»¥ng kÃ½ tá»± thay Ä‘á»•i
      ps -ef | grep [a]pache2
    (vÃ¬ `[a]pache2` váº«n match "apache2" nhÆ°ng báº£n thÃ¢n pattern khÃ´ng xuáº¥t nguyÃªn vÄƒn trong lá»‡nh grep)
  - CÃ¡ch 3: dÃ¹ng pgrep Ä‘á»ƒ láº¥y PID trá»±c tiáº¿p
      pgrep -a apache2
    (`-a` hiá»ƒn thá»‹ command line cÃ¹ng PID)
  - CÃ¡ch 4: dÃ¹ng systemctl / service Ä‘á»ƒ kiá»ƒm tra dá»‹ch vá»¥ (dÃ nh cho há»‡ thá»‘ng dÃ¹ng systemd)
      sudo systemctl status apache2

CÃ¡c hÃ nh Ä‘á»™ng thÆ°á»ng thá»±c hiá»‡n sau khi tÃ¬m PID:
  - Dá»«ng/khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥ Apache (khuyÃªn dÃ¹ng systemctl):
      sudo systemctl stop apache2
      sudo systemctl start apache2
      sudo systemctl restart apache2
  - Gá»­i tÃ­n hiá»‡u tá»›i tiáº¿n trÃ¬nh báº±ng kill:
      sudo kill 1234           # gá»­i SIGTERM, dá»«ng nháº¹ nhÃ ng
      sudo kill -HUP 1234      # reload cáº¥u hÃ¬nh (tÃ¹y á»©ng dá»¥ng)
      sudo kill -9 1234        # SIGKILL, kill ngay láº­p tá»©c (chá»‰ dÃ¹ng khi cáº§n)
    (Thay 1234 báº±ng PID thá»±c táº¿. TrÃ¡nh dÃ¹ng -9 náº¿u khÃ´ng cáº§n thiáº¿t.)

CÃ¡c lÆ°u Ã½ / cáº£nh bÃ¡o:
  - Cáº§n quyá»n (sudo/root) Ä‘á»ƒ xem hoáº·c thao tÃ¡c vá»›i tiáº¿n trÃ¬nh cá»§a user khÃ¡c.
  - TrÃªn má»™t sá»‘ distro Apache binary cÃ³ tÃªn khÃ¡c (vÃ­ dá»¥ `httpd` trÃªn CentOS/RHEL), vÃ¬ váº­y thay `apache2` báº±ng `httpd` khi cáº§n:
      ps -ef | grep httpd
  - Káº¿t quáº£ `ps` lÃ  snapshot thá»i Ä‘iá»ƒm cháº¡y lá»‡nh â€” tiáº¿n trÃ¬nh cÃ³ thá»ƒ xuáº¥t hiá»‡n/biáº¿n máº¥t ngay sau Ä‘Ã³.
  - Sá»­ dá»¥ng `systemctl status apache2` sáº½ cho thÃªm thÃ´ng tin vá» logs, tráº¡ng thÃ¡i vÃ  PID hiá»‡n táº¡i.

TÃ³m táº¯t nhanh cÃ¡c lá»‡nh thay tháº¿/tiá»‡n Ã­ch:
  ps -ef | grep apache2         # tÃ¬m tiáº¿n trÃ¬nh chá»©a "apache2"
  ps -ef | grep [a]pache2       # trÃ¡nh match chÃ­nh grep
  ps -ef | grep apache2 | grep -v grep
  pgrep -a apache2              # liá»‡t kÃª PID + command
  sudo systemctl status apache2 # tráº¡ng thÃ¡i dá»‹ch vá»¥ (systemd)
  sudo systemctl restart apache2

Káº¿t luáº­n:
  - `ps -ef | grep apache2` lÃ  cÃ¡ch nhanh Ä‘á»ƒ kiá»ƒm tra tiáº¿n trÃ¬nh Apache Ä‘ang cháº¡y vÃ  láº¥y PID.
  - DÃ¹ng kÃ¨m `pgrep`, `systemctl`, hoáº·c lá»c grep Ä‘á»ƒ cÃ³ káº¿t quáº£ gá»n hÆ¡n vÃ  thao tÃ¡c an toÃ n.

--- Háº¾T ---
		
		
		- cmd: ss -tunlp | grep 2668
		
---

## TiÃªu Ä‘á»: Giáº£i thÃ­ch chi tiáº¿t lá»‡nh `ss -tunlp | grep 2668`

Má»¥c Ä‘Ã­ch: Giáº£i thÃ­ch chi tiáº¿t tá»«ng pháº§n cá»§a lá»‡nh `ss -tunlp | grep 2668`, cÃ¡ch hoáº¡t Ä‘á»™ng vÃ  cÃ¡c lÆ°u Ã½ thá»±c táº¿. Ná»™i dung trÃ¬nh bÃ y á»Ÿ dáº¡ng **plain text** (sáºµn sÃ ng copy vÃ o file .txt).

---

## Lá»†NH:

ss -tunlp | grep 2668

---

## CHI TIáº¾T Tá»ªNG PHáº¦N (theo thá»© tá»±):

1. `ss`

   * `ss` lÃ  cÃ´ng cá»¥ (socket statistics) dÃ¹ng Ä‘á»ƒ liá»‡t kÃª cÃ¡c socket (káº¿t ná»‘i máº¡ng) trÃªn há»‡ thá»‘ng. Thay tháº¿ cho lá»‡nh cÅ© `netstat` trÃªn nhiá»u báº£n Linux hiá»‡n Ä‘áº¡i vÃ¬ nhanh hÆ¡n vÃ  cÃ³ nhiá»u tuá»³ chá»n.

2. CÃC TUá»² CHá»ŒN (options) Ä‘i kÃ¨m `ss`:

   * `-t` : chá»‰ hiá»‡n cÃ¡c socket TCP (tcp sockets).
   * `-u` : chá»‰ hiá»‡n cÃ¡c socket UDP (udp sockets).
     -> Khi káº¿t há»£p `-t` vÃ  `-u` (`-tu`), `ss` sáº½ liá»‡t kÃª cáº£ socket TCP láº«n UDP.
   * `-n` : hiá»ƒn thá»‹ Ä‘á»‹a chá»‰ vÃ  cá»•ng á»Ÿ dáº¡ng sá»‘ (numerical) â€” khÃ´ng phÃ¢n giáº£i sang tÃªn host/service. Giá»¯ cho output nhanh vÃ  trÃ¡nh DNS lookup.
   * `-l` : chá»‰ hiá»‡n cÃ¡c socket Ä‘ang á»Ÿ tráº¡ng thÃ¡i "listening" (Ä‘ang láº¯ng nghe káº¿t ná»‘i Ä‘áº¿n). ThÃ­ch há»£p Ä‘á»ƒ xem dá»‹ch vá»¥ nÃ o Ä‘ang má»Ÿ port Ä‘á»ƒ accept káº¿t ná»‘i.
   * `-p` : hiá»ƒn thá»‹ thÃ´ng tin process (PID/program) Ä‘ang sá»Ÿ há»¯u socket Ä‘Ã³. ThÆ°á»ng cáº§n quyá»n root Ä‘á»ƒ xem Ä‘áº§y Ä‘á»§ thÃ´ng tin cá»§a process do rÃ ng buá»™c quyá»n riÃªng tÆ°.

   Tá»”NG Há»¢P: `-tunlp` => liá»‡t kÃª cÃ¡c socket TCP & UDP Ä‘ang láº¯ng nghe, hiá»ƒn thá»‹ Ä‘á»‹a chá»‰/cá»•ng báº±ng sá»‘ vÃ  kÃ¨m theo thÃ´ng tin process.

3. `|` (pipe)

   * Dáº¥u `|` chuyá»ƒn (pipe) output cá»§a lá»‡nh `ss -tunlp` sang lÃ m input cho lá»‡nh tiáº¿p theo `grep`.

4. `grep 2668`

   * `grep` tÃ¬m kiáº¿m trong dÃ²ng cÃ³ chá»©a chuá»—i `2668`.
   * á» Ä‘Ã¢y má»¥c tiÃªu lÃ  lá»c cÃ¡c dÃ²ng output liÃªn quan tá»›i **cá»•ng** hoáº·c **PID** cÃ³ chá»©a `2668`.
   * VÃ¬ `ss -tunlp` hiá»ƒn thá»‹ cáº£ cá»•ng vÃ  PID/program (`pid=...`), `grep 2668` sáº½ báº¯t cáº£ trÆ°á»ng há»£p khi 2668 lÃ  **port** Ä‘ang láº¯ng nghe hoáº·c **PID** cá»§a process.

---

## Ã NGHÄ¨A THá»°C Táº¾ / KHI NÃ€O DÃ™NG:

* Muá»‘n kiá»ƒm tra xem cá»•ng 2668 cÃ³ Ä‘ang Ä‘Æ°á»£c má»Ÿ (listening) trÃªn mÃ¡y hay khÃ´ng (vÃ­ dá»¥ xÃ¡c Ä‘á»‹nh dá»‹ch vá»¥ Ä‘ang chiáº¿m port).
* Muá»‘n tÃ¬m process cÃ³ PID 2668 vÃ  socket nÃ o process Ä‘Ã³ Ä‘ang láº¯ng nghe.
* PhÃ¹ há»£p cho viá»‡c debug dá»‹ch vá»¥ khÃ´ng start Ä‘Æ°á»£c vÃ¬ port Ä‘Ã£ Ä‘Æ°á»£c chiáº¿m, hoáº·c xÃ¡c minh firewall / dá»‹ch vá»¥.

---

## QUáº¢N TRá»Š: QUYá»€N (sudo)

* `ss -p` thÆ°á»ng yÃªu cáº§u quyá»n root Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin process cá»§a nhá»¯ng tiáº¿n trÃ¬nh khÃ´ng thuá»™c user hiá»‡n táº¡i.
* Náº¿u báº¡n tháº¥y output cÃ³ má»¥c `users:("-" ...)` hoáº·c khÃ´ng cÃ³ thÃ´ng tin `pid=`, hÃ£y cháº¡y báº±ng `sudo`:

  sudo ss -tunlp | grep 2668

---

## VD Káº¾T QUáº¢ MáºªU (vÃ­ dá»¥ giáº£ Ä‘á»‹nh):

LISTEN 0      128          0.0.0.0:2668       0.0.0.0:*    users:(("myservice",pid=2668,fd=7))

Giáº£i thÃ­ch dÃ²ng trÃªn:

* `LISTEN`         : Socket Ä‘ang á»Ÿ tráº¡ng thÃ¡i láº¯ng nghe (listening).
* `0` / `128`      : giÃ¡ trá»‹ hÃ ng Ä‘á»£i backlog / sá»‘ káº¿t ná»‘i - tuá»³ há»‡ thá»‘ng.
* `0.0.0.0:2668`   : Ä‘á»‹a chá»‰ vÃ  port Ä‘ang láº¯ng nghe (táº¡i táº¥t cáº£ interface) â€” port lÃ  2668.
* `0.0.0.0:*`       : Ä‘á»‹a chá»‰ Ä‘Ã­ch (remote) Ä‘ang chá» káº¿t ná»‘i tá»« báº¥t ká»³.
* `users:(("myservice",pid=2668,fd=7))` : process sá»Ÿ há»¯u socket:

  * `myservice` : tÃªn chÆ°Æ¡ng trÃ¬nh hoáº·c tiáº¿n trÃ¬nh.
  * `pid=2668`  : PID cá»§a process.
  * `fd=7`      : file descriptor dÃ¹ng cho socket.

LÆ¯U Ã: CÃ³ thá»ƒ xuáº¥t hiá»‡n nhiá»u thÃ´ng tin khÃ¡c tuá»³ báº£n `ss` vÃ  kernel (vd: `users:("-",pid=...,fd=...)` náº¿u tÃªn chÆ°Æ¡ng trÃ¬nh khÃ´ng phÃ¢n giáº£i Ä‘Æ°á»£c).

---

## Máº¸O Há»®U ÃCH

* Muá»‘n chá»‰ tÃ¬m port (khÃ´ng tÃ¬m trÃ¹ng PID): báº¡n cÃ³ thá»ƒ dÃ¹ng regex vá»›i grep Ä‘á»ƒ tÃ¬m `:2668\b` (cá»•ng):

  sudo ss -tunlp | grep -E ":2668\b"

* Muá»‘n kiá»ƒm tra tiáº¿n trÃ¬nh theo PID trá»±c tiáº¿p (khÃ´ng qua ss):

  ps -p 2668 -o pid,ppid,user,cmd

* Muá»‘n lÆ°u káº¿t quáº£ vÃ o file .txt:

  sudo ss -tunlp | grep 2668 > ss_port_2668.txt

* Náº¿u khÃ´ng tÃ¬m tháº¥y gÃ¬, kiá»ƒm tra firewall / service Ä‘Ã£ start chÆ°a / hoáº·c port khÃ¡c Ä‘Æ°á»£c cáº¥u hÃ¬nh.

---

## CÃC TRÆ¯á»œNG Há»¢P KHÃ”NG RA Káº¾T QUáº¢

* KhÃ´ng cÃ³ socket nÃ o láº¯ng nghe á»Ÿ port 2668.
* Process cÃ³ PID 2668 Ä‘Ã£ táº¯t hoáº·c PID Ä‘Ã£ thay Ä‘á»•i (PID tÃ¡i sá»­ dá»¥ng theo thá»i gian).
* Báº¡n Ä‘ang cháº¡y lá»‡nh khÃ´ng cÃ³ quyá»n root nÃªn thÃ´ng tin `-p` bá»‹ áº©n.

---

## TÃ“M Táº®T NGáº®N Gá»ŒN (1 dÃ²ng):

`ss -tunlp | grep 2668` => Liá»‡t kÃª táº¥t cáº£ socket TCP/UDP Ä‘ang láº¯ng nghe (numeric) kÃ¨m process, rá»“i lá»c cÃ¡c dÃ²ng cÃ³ chá»©a "2668" (cÃ³ thá»ƒ lÃ  port hoáº·c PID).

---

## Háº¾T

COPY READY: báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng nÃºt "Copy" trÃªn giao diá»‡n Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung nÃ y vÃ  dÃ¡n vÃ o file .txt.
		
		
		- cmd: choco install awscli -y
		
choco install awscli -y

Command:
choco install awscli -y

Má»¥c Ä‘Ã­ch:
CÃ i Ä‘áº·t AWS CLI (Amazon Web Services Command Line Interface) trÃªn mÃ¡y Windows sá»­ dá»¥ng Chocolatey â€” má»™t trÃ¬nh quáº£n lÃ½ gÃ³i cho Windows.

Giáº£i thÃ­ch tá»«ng pháº§n (plain text, copy trá»±c tiáº¿p vÃ o .txt):

1. choco

   * Viáº¿t táº¯t cá»§a Chocolatey, trÃ¬nh quáº£n lÃ½ gÃ³i cho Windows cháº¡y trÃªn PowerShell/CMD.
   * DÃ¹ng Ä‘á»ƒ cÃ i, cáº­p nháº­t, gá»¡ cÃ¡c pháº§n má»m tá»« kho Chocolatey.

2. install

   * Lá»‡nh con cá»§a choco: yÃªu cáº§u cÃ i má»™t gÃ³i pháº§n má»m.

3. awscli

   * TÃªn gÃ³i cáº§n cÃ i (AWS Command Line Interface). Sau khi cÃ i, báº¡n sáº½ cÃ³ lá»‡nh 'aws' Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i AWS tá»« dÃ²ng lá»‡nh.
   * LÆ°u Ã½: cÃ³ thá»ƒ cÃ³ nhiá»u gÃ³i liÃªn quan (vÃ­ dá»¥ awscli v1/v2 hoáº·c awscli2 tÃ¹y kho), nhÆ°ng 'awscli' lÃ  tÃªn phá»• biáº¿n cho AWS CLI v2 trÃªn Chocolatey.

4. -y

   * TÃ¹y chá»n tá»± Ä‘á»™ng tráº£ lá»i "yes" cho má»i xÃ¡c nháº­n (cháº¥p nháº­n licence/confirm) trong quÃ¡ trÃ¬nh cÃ i.
   * Tiá»‡n khi cháº¡y script hoáº·c automation nhÆ°ng cáº©n trá»ng vÃ¬ tá»± Ä‘á»“ng Ã½ má»i thay Ä‘á»•i.

Quyá»n (Privileges):

* Cáº§n cháº¡y PowerShell/CMD vá»›i quyá»n Administrator Ä‘á»ƒ cÃ i báº±ng Chocolatey.
* Má»Ÿ PowerShell chá»n "Run as administrator" rá»“i cháº¡y lá»‡nh.

Khuyáº¿n nghá»‹ trÆ°á»›c khi cháº¡y:

* Cáº­p nháº­t Chocolatey náº¿u cáº§n:
  choco upgrade chocolatey
* Kiá»ƒm tra káº¿t ná»‘i Internet vÃ  quyá»n admin.

VÃ­ dá»¥ thá»±c táº¿ (1 dÃ²ng, copy Ä‘Æ°á»£c):

# Má»Ÿ PowerShell (Administrator) rá»“i cháº¡y:

choco install awscli -y

Kiá»ƒm tra sau khi cÃ i:

* XÃ¡c nháº­n AWS CLI Ä‘Ã£ sáºµn sÃ ng:
  aws --version

  # VÃ­ dá»¥ Ä‘áº§u ra: aws-cli/2.x.x Python/3.x Windows/10 exe/...
* Náº¿u lá»‡nh 'aws' khÃ´ng nháº­n, Ä‘Ã³ng rá»“i má»Ÿ láº¡i terminal (hoáº·c log out/in) Ä‘á»ƒ cáº­p nháº­t PATH.

Cáº¥u hÃ¬nh ban Ä‘áº§u cá»§a AWS CLI (sau khi cÃ i):

* Thiáº¿t láº­p credential vÃ  region:
  aws configure

  # Nháº­p Access Key ID, Secret Access Key, default region (vÃ­ dá»¥: us-east-1), default output (json)

CÃ¡c lá»—i thÆ°á»ng gáº·p & cÃ¡ch xá»­ lÃ½ nhanh:

* "choco: command not found": Chocolatey chÆ°a Ä‘Æ°á»£c cÃ i hoáº·c terminal khÃ´ng nháº­n PATH. CÃ i Chocolatey theo hÆ°á»›ng dáº«n chÃ­nh thá»©c vÃ  má»Ÿ PowerShell báº±ng quyá»n admin.
* "Access denied" / thiáº¿u quyá»n: cháº¡y terminal á»Ÿ cháº¿ Ä‘á»™ Administrator.
* "ExecutionPolicy" error: náº¿u PowerShell cháº·n script, cháº¡y vá»›i quyá»n admin:
  Set-ExecutionPolicy Bypass -Scope Process -Force
  Sau Ä‘Ã³ cháº¡y láº¡i lá»‡nh choco.
* PhiÃªn báº£n aws khÃ´ng Ä‘Ãºng: cháº¡y 'choco upgrade awscli -y' Ä‘á»ƒ cáº­p nháº­t.

Báº£o máº­t & Best practices:

* KhÃ´ng lÆ°u Access Key/Secret trÃªn mÃ¡y cÃ´ng cá»™ng; dÃ¹ng IAM role hoáº·c AWS SSO náº¿u cÃ³ thá»ƒ.
* Khi dÃ¹ng trÃªn mÃ¡y sáº£n xuáº¥t hoáº·c CI, cÃ¢n nháº¯c cÃ i báº±ng phÆ°Æ¡ng phÃ¡p automation cÃ³ kiá»ƒm soÃ¡t (VD: sá»­ dá»¥ng managed image hoáº·c runner config).

Gá»£i Ã½ náº¿u muá»‘n cÃ i cá»¥ thá»ƒ AWS CLI v2:

* Má»™t vÃ i kho cÃ³ gÃ³i tÃªn 'awscli2' hoáº·c tÆ°Æ¡ng tá»±. Kiá»ƒm tra trang chocolatey.org hoáº·c dÃ¹ng:
  choco search awscli

Ghi chÃº thÃªm:

* Chocolatey sáº½ tá»± thÃªm binary vÃ o PATH; náº¿u sau khi cÃ i khÃ´ng tÃ¬m tháº¥y lá»‡nh, hÃ£y khá»Ÿi Ä‘á»™ng láº¡i terminal hoáº·c khá»Ÿi Ä‘á»™ng láº¡i mÃ¡y.
* TÃ¹y chá»n '-y' ráº¥t há»¯u Ã­ch khi tá»± Ä‘á»™ng hÃ³a nhÆ°ng nÃªn Ä‘á»c logs náº¿u cÃ³ lá»—i.

Máº¹o nhanh sá»­ dá»¥ng má»™t sá»‘ lá»‡nh AWS CLI:

* Láº¥y danh sÃ¡ch S3 buckets:
  aws s3 ls
* Kiá»ƒm tra IAM user hiá»‡n táº¡i:
  aws sts get-caller-identity

---

Táº¥t cáº£ ná»™i dung trÃªn lÃ  plain text, báº¡n cÃ³ thá»ƒ copy trá»±c tiáº¿p vÃ  lÆ°u vÃ o file .txt.
		
		
		- cmd: aws --version
		
===========================
GIáº¢I THÃCH Lá»†NH aws --version
===========================

1. CÃº phÃ¡p lá»‡nh:
   aws --version

2. Má»¥c Ä‘Ã­ch:
   - In ra phiÃªn báº£n cá»§a AWS CLI (Amazon Web Services Command Line Interface) Ä‘ang Ä‘Æ°á»£c cÃ i trÃªn há»‡ thá»‘ng.
   - ThÆ°á»ng dÃ¹ng Ä‘á»ƒ kiá»ƒm tra xem báº¡n Ä‘ang cháº¡y AWS CLI phiÃªn báº£n 1 hay 2, vÃ  Ä‘á»ƒ biáº¿t thÃ´ng tin vá» Python / mÃ´i trÆ°á»ng thá»±c thi (náº¿u Ä‘Æ°á»£c hiá»ƒn thá»‹).

3. VÃ­ dá»¥ Ä‘áº§u ra (format chung):
   - ThÃ´ng thÆ°á»ng dÃ²ng tráº£ vá» cÃ³ dáº¡ng:
       aws-cli/<CLI_VERSION> Python/<PYTHON_VERSION> <OS_INFO> <EXEC_INFO>
     VÃ­ dá»¥ vá»›i cÃ¡c giÃ¡ trá»‹ thay tháº¿:
       aws-cli/2.x.x Python/3.x.x Linux/5.x.x exe/x86_64
     Hoáº·c Ä‘Ã´i khi chá»‰ hiá»‡n:
       aws-cli/1.x.x Python/2.x.x

   - LÆ°u Ã½: sá»‘ cá»¥ thá»ƒ cá»§a phiÃªn báº£n sáº½ khÃ¡c tÃ¹y vÃ o phiÃªn báº£n báº¡n Ä‘Ã£ cÃ i (vÃ­ dá»¥ 1.18.69, 2.11.3...).

4. Khi nÃ o dÃ¹ng:
   - XÃ¡c nháº­n phiÃªn báº£n AWS CLI trÆ°á»›c khi cháº¡y script hay khi yÃªu cáº§u má»™t tÃ­nh nÄƒng chá»‰ cÃ³ trÃªn phiÃªn báº£n má»›i.
   - Kiá»ƒm tra Ä‘á»ƒ debug cÃ¡c lá»—i tÆ°Æ¡ng thÃ­ch khi lá»‡nh AWS tráº£ lá»—i khÃ´ng rÃµ nguyÃªn nhÃ¢n.
   - TrÆ°á»›c khi nÃ¢ng cáº¥p hoáº·c khi cÃ i Ä‘áº·t trÃªn mÃ¡y má»›i.

5. ThÃ´ng tin há»¯u Ã­ch liÃªn quan:
   - Kiá»ƒm tra Ä‘Æ°á»ng dáº«n thá»±c thi:
       which aws
     (hoáº·c `command -v aws`) Ä‘á»ƒ biáº¿t file thá»±c thi Ä‘ang dÃ¹ng náº±m á»Ÿ Ä‘Ã¢u.
   - Náº¿u cÃ³ nhiá»u phiÃªn báº£n trÃªn há»‡ thá»‘ng (vÃ­ dá»¥ cÃ i báº±ng package manager vÃ  cÃ i báº±ng pip), kiá»ƒm tra PATH Ä‘á»ƒ biáº¿t Ä‘ang sá»­ dá»¥ng báº£n nÃ o.
   - Kiá»ƒm tra quyá»n thá»±c thi náº¿u nháº­n lá»—i "command not found" hoáº·c "permission denied".

6. Xá»­ lÃ½ lá»—i phá»• biáº¿n:
   - "command not found":
       â†’ AWS CLI chÆ°a cÃ i hoáº·c khÃ´ng cÃ³ trong PATH. CÃ i Ä‘áº·t láº¡i hoáº·c thÃªm Ä‘Æ°á»ng dáº«n vÃ o PATH.
   - Náº¿u Ä‘áº§u ra rá»—ng hoáº·c láº¡:
       â†’ Thá»­ cháº¡y vá»›i redirect Ä‘á»ƒ báº¯t stderr:
           aws --version 2>&1
       â†’ Kiá»ƒm tra `which aws` vÃ  xem file thá»±c thi.
   - Náº¿u cáº§n update:
       â†’ Vá»›i AWS CLI v2 thÆ°á»ng dÃ¹ng installer chÃ­nh thá»©c cá»§a AWS.
       â†’ Vá»›i v1 cÃ³ thá»ƒ cáº­p nháº­t báº±ng `pip install --upgrade awscli` (náº¿u cÃ i báº±ng pip).

7. Sá»­ dá»¥ng trong script:
   - Báº¡n cÃ³ thá»ƒ kiá»ƒm tra phiÃªn báº£n trong script bash Ä‘á»ƒ Ä‘iá»u kiá»‡n hÃ³a hÃ nh vi:
       ver=$(aws --version 2>&1)
       echo "AWS CLI info: $ver"
   - TrÆ°á»ng há»£p muá»‘n kiá»ƒm tra chá»‰ major version (vÃ­ dá»¥ báº¯t buá»™c v2), dÃ¹ng parsing chuá»—i vÃ  so sÃ¡nh.

8. Má»™t sá»‘ lá»‡nh liÃªn quan:
   - Kiá»ƒm tra config hiá»‡n táº¡i:
       aws configure list
   - Hiá»‡n profile máº·c Ä‘á»‹nh:
       aws configure get region
   - Cáº­p nháº­t CLI (tÃ¹y phÆ°Æ¡ng phÃ¡p cÃ i):
       - pip: pip install --upgrade awscli
       - Installer AWS CLI v2: theo hÆ°á»›ng dáº«n chÃ­nh thá»©c cá»§a AWS

===========================
TÃ“M Táº®T NGáº®N Gá»ŒN
===========================
- `aws --version` in ra phiÃªn báº£n AWS CLI vÃ  thÃ´ng tin mÃ´i trÆ°á»ng thá»±c thi.
- DÃ¹ng Ä‘á»ƒ kiá»ƒm tra, debug, vÃ  xÃ¡c Ä‘á»‹nh xem cÃ³ cáº§n nÃ¢ng cáº¥p hay khÃ´ng.
- Náº¿u gáº·p lá»—i, kiá»ƒm tra `which aws`, PATH, vÃ  cháº¡y `aws --version 2>&1` Ä‘á»ƒ báº¯t cáº£ stderr.

===========================
		
		
		- cmd: aws configure
		
TiÃªu Ä‘á»: Giáº£i thÃ­ch chi tiáº¿t nháº¥t cho: aws configure

Má»¥c Ä‘Ã­ch:
  - Cáº¥u hÃ¬nh thÃ´ng tin chá»©ng thá»±c (credentials) vÃ  thiáº¿t láº­p máº·c Ä‘á»‹nh (region, output) cho AWS CLI.
  - GiÃºp AWS CLI biáº¿t dÃ¹ng Access Key/Secret, profile, region vÃ  Ä‘á»‹nh dáº¡ng xuáº¥t káº¿t quáº£.

CÃ¢u lá»‡nh cÆ¡ báº£n (tÆ°Æ¡ng tÃ¡c):
  aws configure

HÃ nh vi máº·c Ä‘á»‹nh:
  - Khi cháº¡y khÃ´ng tham sá»‘, lá»‡nh sáº½ há»i tÆ°Æ¡ng tÃ¡c 4 trÆ°á»ng:
      AWS Access Key ID [None]: <YOUR_ACCESS_KEY_ID>
      AWS Secret Access Key [None]: <YOUR_SECRET_ACCESS_KEY>
      Default region name [None]: <vÃ­ dá»¥: us-east-1>
      Default output format [None]: <json | yaml | text | table>
  - Sau khi nháº­p, AWS CLI sáº½ lÆ°u dá»¯ liá»‡u vÃ o file cáº¥u hÃ¬nh trÃªn mÃ¡y ngÆ°á»i dÃ¹ng.

Vá»‹ trÃ­ file cáº¥u hÃ¬nh (Linux/macOS/Windows):
  - Credentials (chá»©a access key / secret):    ~/.aws/credentials
  - Config (chá»©a region, output, vÃ  profile info): ~/.aws/config
  - TrÃªn Windows: %USERPROFILE%\.aws\credentials vÃ  %USERPROFILE%\.aws\config
  - Cáº¥u trÃºc file theo Ä‘á»‹nh dáº¡ng INI.

VÃ­ dá»¥ ná»™i dung ~/.aws/credentials:
  [default]
  aws_access_key_id = AKIA...
  aws_secret_access_key = wJalrXUtnFEMI/K7MDENG/bPxRfiCY...

VÃ­ dá»¥ ná»™i dung ~/.aws/config:
  [default]
  region = us-east-1
  output = json

Sá»­ dá»¥ng profile (nhiá»u cáº¥u hÃ¬nh):
  - Táº¡o/thiáº¿t láº­p profile tÃªn "myprofile":
      aws configure --profile myprofile
    -> sáº½ lÆ°u vÃ o [myprofile] trong credentials vÃ  [profile myprofile] trong config.
  - DÃ¹ng profile khi cháº¡y lá»‡nh:
      aws s3 ls --profile myprofile

Lá»‡nh khÃ´ng tÆ°Æ¡ng tÃ¡c / set trá»±c tiáº¿p:
  - Thiáº¿t láº­p báº±ng cÃ¢u lá»‡nh (khÃ´ng nháº­p tÆ°Æ¡ng tÃ¡c):
      aws configure set region us-east-1
      aws configure set aws_access_key_id AKIA... --profile myprofile
      aws configure set aws_secret_access_key wJalr... --profile myprofile
  - Äá»c thiáº¿t láº­p hiá»‡n táº¡i:
      aws configure list
  - Liá»‡t kÃª táº¥t cáº£ profile:
      aws configure list-profiles

Biáº¿n mÃ´i trÆ°á»ng (Æ°u tiÃªn hÆ¡n file):
  - Báº¡n cÃ³ thá»ƒ Ä‘áº·t credentials/region báº±ng biáº¿n mÃ´i trÆ°á»ng (thÆ°á»ng dÃ¹ng cho CI/CD):
      export AWS_ACCESS_KEY_ID=AKIA...
      export AWS_SECRET_ACCESS_KEY=wJalr...
      export AWS_SESSION_TOKEN=...        # náº¿u dÃ¹ng credentials táº¡m thá»i
      export AWS_DEFAULT_REGION=us-east-1
  - TrÃªn Windows (PowerShell):
      $env:AWS_ACCESS_KEY_ID="AKIA..."
      $env:AWS_SECRET_ACCESS_KEY="wJalr..."

Credentials táº¡m thá»i / MFA / SSO:
  - Náº¿u dÃ¹ng Role hoáº·c SSO, báº¡n cÃ³ thá»ƒ dÃ¹ng:
      aws configure sso
    (dÃ nh cho cáº¥u hÃ¬nh SSO interactive â€” yÃªu cáº§u AWS CLI v2)
  - Credentials táº¡m thá»i thÆ°á»ng cÃ³ thÃªm AWS_SESSION_TOKEN.
  - Äá»ƒ assume role, dÃ¹ng `aws sts assume-role ...` hoáº·c cáº¥u hÃ¬nh profile vá»›i role_arn vÃ  source_profile trong ~/.aws/config.

Quyá»n háº¡n & báº£o máº­t (best practices):
  - KhÃ´ng lÆ°u access key dÃ i háº¡n trÃªn mÃ¡y cÃ¡ nhÃ¢n náº¿u cÃ³ thá»ƒ â€” Æ°u tiÃªn IAM Role (EC2/ECS) hoáº·c SSO.
  - Giá»¯ file ~/.aws/credentials an toÃ n (permission 600).
  - Sá»­ dá»¥ng profile riÃªng cho tá»«ng má»¥c Ä‘Ã­ch (dev/test/prod).
  - Sá»­ dá»¥ng MFA cho tÃ i khoáº£n quáº£n trá»‹; dÃ¹ng temporary session thay vÃ¬ long-lived keys.

Má»™t sá»‘ lá»‡nh há»¯u Ã­ch liÃªn quan:
  - Kiá»ƒm tra cáº¥u hÃ¬nh hiá»‡n táº¡i:
      aws configure list
  - Hiá»ƒn thá»‹ chi tiáº¿t file credentials/config:
      cat ~/.aws/credentials
      cat ~/.aws/config
  - Kiá»ƒm tra profile cÃ³ hoáº¡t Ä‘á»™ng khÃ´ng (vÃ­ dá»¥ S3):
      aws s3 ls --profile myprofile
  - XÃ³a thiáº¿t láº­p:
      aws configure set aws_access_key_id "" --profile myprofile
      aws configure set aws_secret_access_key "" --profile myprofile

LÆ°u Ã½ & lá»—i thÆ°á»ng gáº·p:
  - â€œInvalidClientTokenIdâ€ hoáº·c â€œSignatureDoesNotMatchâ€: thÆ°á»ng do access key/secret sai hoáº·c xung Ä‘á»™t vÃ¹ng (region).
  - KhÃ´ng cÃ³ quyá»n (AccessDenied): kiá»ƒm tra IAM policy / role.
  - Quyá»n file: náº¿u ~/.aws/credentials khÃ´ng Ä‘á»c Ä‘Æ°á»£c, CLI sáº½ khÃ´ng dÃ¹ng Ä‘Æ°á»£c â€” kiá»ƒm tra permission.
  - Náº¿u dÃ¹ng CLI v1/v2 khÃ¡c nhau, má»™t sá»‘ tÃ­nh nÄƒng (vÃ­ dá»¥ SSO) chá»‰ cÃ³ trÃªn AWS CLI v2.

VÃ­ dá»¥ sá»­ dá»¥ng thá»±c táº¿ (bÆ°á»›c â€“ bÆ°á»›c):
  1) Thiáº¿t láº­p profile default:
     $ aws configure
     AWS Access Key ID [None]: AKIA...
     AWS Secret Access Key [None]: wJalr...
     Default region name [None]: ap-southeast-1
     Default output format [None]: json

  2) DÃ¹ng profile khi cháº¡y lá»‡nh:
     $ aws ec2 describe-instances --profile default

  3) Táº¡o profile khÃ¡c:
     $ aws configure --profile staging
     (nháº­p access key/secret, region, output)

Máº¹o nhanh:
  - TrÃ¡nh paste secret vÃ o terminal náº¿u cÃ³ ngÆ°á»i nhÃ¬n â€” dÃ¹ng biáº¿n mÃ´i trÆ°á»ng trong script CI.
  - Äá»ƒ xem file config cho profile "staging":
      grep -A3 "\[profile staging\]" ~/.aws/config

TÃ³m táº¯t ngáº¯n:
  - `aws configure` = cÃ´ng cá»¥ interactive Ä‘á»ƒ Ä‘áº·t Access Key ID, Secret Access Key, default region, default output vÃ  lÆ°u vÃ o ~/.aws/credentials vÃ  ~/.aws/config.
  - DÃ¹ng `--profile` Ä‘á»ƒ quáº£n lÃ½ nhiá»u bá»™ cáº¥u hÃ¬nh.
  - Æ¯u tiÃªn dÃ¹ng IAM Role / SSO vÃ  credentials táº¡m thá»i Ä‘á»ƒ an toÃ n.

--- Háº¾T ---
		
		
		- cmd: ls ~/.aws/
		
---

## TiÃªu Ä‘á»: Giáº£i thÃ­ch chi tiáº¿t lá»‡nh `ls ~/.aws/`

Má»¥c Ä‘Ã­ch: Giáº£i thÃ­ch chi tiáº¿t nháº¥t tá»«ng pháº§n cá»§a lá»‡nh `ls ~/.aws/`, Ã½ nghÄ©a, cÃ¡c file/thÆ° má»¥c thÆ°á»ng tháº¥y trong `~/.aws/`, cÃ¡c lá»‡nh liÃªn quan Ä‘á»ƒ kiá»ƒm tra ná»™i dung, lÆ°u Ã½ báº£o máº­t, vÃ  vÃ­ dá»¥ thá»±c táº¿. Ná»™i dung trÃ¬nh bÃ y á»Ÿ **Ä‘á»‹nh dáº¡ng plain text** (sáºµn sÃ ng copy vÃ o file .txt).

---

## Lá»†NH Cáº¦N GIáº¢I THÃCH:

ls ~/.aws/

---

## GIáº¢I THÃCH Tá»ªNG PHáº¦N:

1. `ls`

   * `ls` lÃ  lá»‡nh cÆ¡ báº£n trÃªn Linux/Unix Ä‘á»ƒ liá»‡t kÃª (list) cÃ¡c file vÃ  thÆ° má»¥c trong má»™t Ä‘Æ°á»ng dáº«n nháº¥t Ä‘á»‹nh.
   * Máº·c Ä‘á»‹nh `ls` hiá»ƒn thá»‹ tÃªn cÃ¡c file/thÆ° má»¥c (khÃ´ng hiá»‡n chi tiáº¿t nhÆ° quyá»n, chá»§ sá»Ÿ há»¯u, kÃ­ch thÆ°á»›c...).

2. `~` (tilde)

   * `~` lÃ  cÃ¡ch viáº¿t táº¯t cho thÆ° má»¥c home cá»§a user hiá»‡n táº¡i (vÃ­ dá»¥: `/home/tuan` hoáº·c `/root` náº¿u lÃ  root). Shell sáº½ má»Ÿ rá»™ng `~` thÃ nh Ä‘Æ°á»ng dáº«n thá»±c.

3. `~/.aws/`

   * ÄÃ¢y lÃ  thÆ° má»¥c áº©n (`.` trÆ°á»›c tÃªn nghÄ©a lÃ  áº©n) trong thÆ° má»¥c home, thÆ°á»ng dÃ¹ng bá»Ÿi AWS CLI vÃ  SDK Ä‘á»ƒ lÆ°u cáº¥u hÃ¬nh vÃ  thÃ´ng tin xÃ¡c thá»±c.
   * CÃ¡c file/thÆ° má»¥c thÆ°á»ng cÃ³ trong `~/.aws/` bao gá»“m:

     * `credentials` : chá»©a access key ID vÃ  secret access key (thÆ°á»ng theo profile). Dáº¡ng INI. (Ráº¥t nháº¡y cáº£m)
     * `config`      : cáº¥u hÃ¬nh profile, region, output format, vÃ  cÃ¡c thuá»™c tÃ­nh khÃ¡c.
     * `cli/cache`   : cache token táº¡m thá»i (vÃ­ dá»¥ token SSO hoáº·c credential process).
     * `sso/cache`   : khi sá»­ dá»¥ng AWS SSO, cache cá»§a SSO náº±m á»Ÿ Ä‘Ã¢y.
     * `cli` hoáº·c cÃ¡c file khÃ¡c tuá»³ cáº¥u hÃ¬nh/phiÃªn báº£n AWS CLI / SDK báº¡n dÃ¹ng.

---

## Má»˜T Sá» Lá»†NH Há»®U ÃCH LIÃŠN QUAN:

* Liá»‡t kÃª tÃªn file (nhÆ° lá»‡nh gá»‘c):
  ls ~/.aws/

* Liá»‡t kÃª chi tiáº¿t (quyá»n, owner, kÃ­ch thÆ°á»›c, thá»i gian):
  ls -la ~/.aws/

* Hiá»ƒn thá»‹ ná»™i dung file `credentials` (tháº­n trá»ng â€” cÃ³ thá»ƒ lá»™ khÃ³a):
  cat ~/.aws/credentials

* Náº¿u muá»‘n xem ná»™i dung cá»§a `config`:
  cat ~/.aws/config

* LÆ°u káº¿t quáº£ ra file .txt (vÃ­ dá»¥):
  ls -la ~/.aws/ > aws_dot_aws_listing.txt

---

## VD Káº¾T QUáº¢ MáºªU (vÃ­ dá»¥ giáº£ Ä‘á»‹nh):

config
credentials
cli/
cli/cache/

Hoáº·c khi dÃ¹ng `ls -la` (vÃ­ dá»¥):
drwxr-xr-x 3 tuan tuan 4096 Dec  1 09:12 .aws
-rw------- 1 tuan tuan  120 Dec  1 09:10 credentials
-rw-r--r-- 1 tuan tuan  256 Dec  1 09:11 config

Giáº£i thÃ­ch nhanh:

* `-rw-------` nghÄ©a lÃ  chá»‰ chá»§ file (owner) cÃ³ quyá»n Ä‘á»c/ghi â€” Ä‘Ã¢y lÃ  thiáº¿t láº­p tá»‘t cho file `credentials`.

---

## LÆ¯U Ã Báº¢O Máº¬T VÃ” CÃ™NG QUAN TRá»ŒNG:

* File `~/.aws/credentials` chá»©a AWS Access Key ID vÃ  Secret Access Key: **KHÃ”NG** chia sáº» file nÃ y cÃ´ng khai (github, chat, email...).

* NÃªn gÃ¡n quyá»n háº¡n cháº¿ cho file `credentials`:
  chmod 600 ~/.aws/credentials

* Sá»­ dá»¥ng AWS SSO, IAM Roles hoáº·c credential process Ä‘á»ƒ trÃ¡nh lÆ°u secret dÃ i háº¡n trÃªn mÃ¡y cá»¥c bá»™.

---

## KHI NÃ€O DÃ™NG Lá»†NH NÃ€Y:

* Muá»‘n kiá»ƒm tra xem config/credential AWS cÃ³ tá»“n táº¡i trÃªn mÃ¡y hiá»‡n táº¡i khÃ´ng.
* Kiá»ƒm tra xem báº¡n cÃ³ profile AWS nÃ o Ä‘Ã£ cáº¥u hÃ¬nh khÃ´ng.
* Chuáº©n bá»‹ debug lá»—i liÃªn quan Ä‘áº¿n AWS CLI (thiáº¿u profile, region, hoáº·c credential).

---

## Máº¸O/THÃŠM:

* Kiá»ƒm tra cÃ¡c profile AWS Ä‘Ã£ cáº¥u hÃ¬nh (ná»™i dung `config` vÃ  `credentials`):
  awk -F'[][]' '/[/{print $2}' ~/.aws/credentials ~/.aws/config 2>/dev/null | sort -u

* Náº¿u khÃ´ng cÃ³ thÆ° má»¥c `~/.aws/`, AWS CLI chÆ°a Ä‘Æ°á»£c cáº¥u hÃ¬nh cho user hiá»‡n táº¡i. CÃ³ thá»ƒ táº¡o báº±ng `aws configure`.

---

## TÃ“M Táº®T NGáº®N Gá»ŒN (1 dÃ²ng):

`ls ~/.aws/` => Liá»‡t kÃª cÃ¡c file vÃ  thÆ° má»¥c bÃªn trong thÆ° má»¥c áº©n `~/.aws` (nÆ¡i AWS CLI/SDK lÆ°u cáº¥u hÃ¬nh & credentials).

---

## Háº¾T

COPY READY: báº¡n cÃ³ thá»ƒ nháº¥n nÃºt "Copy" trÃªn giao diá»‡n Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung nÃ y vÃ  dÃ¡n vÃ o file .txt.
		
		
		- cmd: cat ~/.aws/config
		
===========================
GIáº¢I THÃCH Lá»†NH: cat ~/.aws/config
===========================

1. CÃº phÃ¡p lá»‡nh:
   cat ~/.aws/config

2. Má»¥c Ä‘Ã­ch:
   - Hiá»ƒn thá»‹ ná»™i dung file cáº¥u hÃ¬nh AWS CLI náº±m trong thÆ° má»¥c home cá»§a ngÆ°á»i dÃ¹ng (~/.aws/config).
   - File nÃ y lÆ°u cÃ¡c cáº¥u hÃ¬nh profile, region máº·c Ä‘á»‹nh, output format, vÃ  má»™t sá»‘ tuá»³ chá»n khÃ¡c cá»§a AWS CLI.

3. Vá»‹ trÃ­ file:
   - ÄÆ°á»ng dáº«n Ä‘áº§y Ä‘á»§: /home/<username>/.aws/config trÃªn Linux/Mac, hoáº·c C:\Users\<username>\.aws\config trÃªn Windows (náº¿u dÃ¹ng Git Bash hoáº·c tÆ°Æ¡ng tá»±).
   - LÆ°u Ã½: file nÃ y khÃ¡c vá»›i ~/.aws/credentials, file credentials lÆ°u access key & secret key, cÃ²n config lÆ°u thÃ´ng tin cáº¥u hÃ¬nh khÃ¡c nhÆ° profile, region, output format.

4. Ná»™i dung file máº«u:
   [default]
   region = us-east-1
   output = json

   [profile dev]
   region = us-west-2
   output = table

   [profile test]
   region = ap-southeast-1
   output = text

   - Giáº£i thÃ­ch cÃ¡c trÆ°á»ng:
     + [default] hoáº·c [profile <name>]: Ä‘á»‹nh nghÄ©a profile AWS CLI. Máº·c Ä‘á»‹nh CLI dÃ¹ng profile "default".
     + region: khu vá»±c AWS máº·c Ä‘á»‹nh khi gá»i cÃ¡c lá»‡nh CLI (vÃ­ dá»¥: us-east-1, ap-southeast-1,...).
     + output: Ä‘á»‹nh dáº¡ng hiá»ƒn thá»‹ cá»§a káº¿t quáº£ CLI, cÃ³ thá»ƒ lÃ  json, text, table.
     + CÃ³ thá»ƒ thÃªm cÃ¡c tuá»³ chá»n khÃ¡c nhÆ° cli_pager, sso_start_url, sso_region, sso_account_id, sso_role_name náº¿u dÃ¹ng SSO.

5. TÃ¬nh huá»‘ng sá»­ dá»¥ng:
   - Kiá»ƒm tra cáº¥u hÃ¬nh hiá»‡n táº¡i cá»§a profile AWS CLI.
   - Debug khi lá»‡nh AWS CLI tráº£ lá»—i liÃªn quan Ä‘áº¿n region hoáº·c profile.
   - XÃ¡c nháº­n profile vÃ  output format trÆ°á»›c khi cháº¡y script hoáº·c pipeline.
   - Khi dÃ¹ng nhiá»u profile, file nÃ y cho biáº¿t cÃ¡c profile Ä‘Ã³ cÃ³ cáº¥u hÃ¬nh gÃ¬.

6. VÃ­ dá»¥ kiá»ƒm tra profile máº·c Ä‘á»‹nh:
   - Lá»‡nh:
       cat ~/.aws/config | grep -A2 "\[default\]"
     â†’ hiá»ƒn thá»‹ cÃ¡c cáº¥u hÃ¬nh liÃªn quan Ä‘áº¿n profile default.

7. LiÃªn quan Ä‘áº¿n file credentials:
   - ~/.aws/credentials lÆ°u access key vÃ  secret key:
       [default]
       aws_access_key_id = AKIAEXAMPLE
       aws_secret_access_key = abcdef123456example
   - ~/.aws/config chá»‰ lÆ°u cáº¥u hÃ¬nh nhÆ° region, output, vÃ  cÃ¡c tuá»³ chá»n profile.

8. LÆ°u Ã½:
   - TrÆ°á»ng há»£p dÃ¹ng SSO (AWS Single Sign-On), file config sáº½ cÃ³ cÃ¡c má»¥c:
       sso_start_url, sso_region, sso_account_id, sso_role_name
     â†’ phá»¥c vá»¥ login tá»± Ä‘á»™ng báº±ng SSO.
   - KhÃ´ng nÃªn lÆ°u access key/secret key trá»±c tiáº¿p trong config, luÃ´n dÃ¹ng file credentials.

9. VÃ­ dá»¥ káº¿t há»£p vá»›i CLI:
   - Xem config profile dev:
       aws configure list --profile dev
   - Láº¥y region máº·c Ä‘á»‹nh profile test:
       grep -A1 "\[profile test\]" ~/.aws/config | grep region

10. TÃ³m táº¯t:
   - `cat ~/.aws/config` = hiá»ƒn thá»‹ ná»™i dung file cáº¥u hÃ¬nh AWS CLI.
   - DÃ¹ng Ä‘á»ƒ kiá»ƒm tra profile, region, output format, vÃ  cÃ¡c tuá»³ chá»n khÃ¡c.
   - Há»¯u Ã­ch Ä‘á»ƒ debug, kiá»ƒm tra nhiá»u profile, hoáº·c xÃ¡c nháº­n cáº¥u hÃ¬nh trÆ°á»›c khi cháº¡y lá»‡nh AWS CLI.

===========================
Háº¾T
===========================
		
		
		- cmd: cat ~/.aws/credentials
		
===========================
GIáº¢I THÃCH Lá»†NH: cat ~/.aws/credentials
===========================

1. CÃº phÃ¡p lá»‡nh:
   cat ~/.aws/credentials

2. Má»¥c Ä‘Ã­ch:
   - Hiá»ƒn thá»‹ ná»™i dung file credentials cá»§a AWS CLI.
   - File nÃ y chá»©a **AWS access key** vÃ  **secret access key** (vÃ  cÃ³ thá»ƒ cÃ³ session token) cho cÃ¡c profile.
   - ÄÃ¢y lÃ  file quan trá»ng Ä‘á»ƒ CLI hoáº·c SDK AWS xÃ¡c thá»±c khi gá»i API.

3. Vá»‹ trÃ­ file:
   - Linux/Mac: ~/.aws/credentials â†’ /home/<username>/.aws/credentials
   - Windows (Git Bash, WSLâ€¦): C:\Users\<username>\.aws\credentials

4. Ná»™i dung file máº«u:
   [default]
   aws_access_key_id = AKIAEXAMPLE12345
   aws_secret_access_key = abcdef1234567890EXAMPLE

   [dev]
   aws_access_key_id = AKIADEVEXAMPLE
   aws_secret_access_key = devsecretkeyEXAMPLE

   [test]
   aws_access_key_id = AKIATESTEXAMPLE
   aws_secret_access_key = testsecretEXAMPLE
   aws_session_token = FwoGZXIvYXdzEP...EXAMPLETOKEN

5. Giáº£i thÃ­ch cÃ¡c trÆ°á»ng:
   - [profile_name]: tÃªn profile. Máº·c Ä‘á»‹nh lÃ  [default].
   - aws_access_key_id: Access Key ID dÃ¹ng Ä‘á»ƒ xÃ¡c thá»±c API.
   - aws_secret_access_key: Secret Key tÆ°Æ¡ng á»©ng vá»›i Access Key ID.
   - aws_session_token (náº¿u cÃ³): token táº¡m thá»i khi dÃ¹ng temporary credentials (vÃ­ dá»¥: assumed role, SSO, STS session).
   
6. TÃ¬nh huá»‘ng sá»­ dá»¥ng:
   - Kiá»ƒm tra credentials Ä‘ang dÃ¹ng cho AWS CLI.
   - Debug khi gáº·p lá»—i "InvalidClientTokenId" hoáº·c "UnrecognizedClientException".
   - Quáº£n lÃ½ nhiá»u profile, vÃ­ dá»¥ profile dev, test, production.
   - DÃ¹ng trong script: profile default hoáº·c chá»‰ Ä‘á»‹nh --profile <name>.

7. LÆ°u Ã½ báº£o máº­t:
   - File nÃ y chá»©a thÃ´ng tin nháº¡y cáº£m (Access Key / Secret Key).
   - KhÃ´ng chia sáº» file nÃ y.
   - KhÃ´ng upload lÃªn GitHub hay báº¥t ká»³ repo cÃ´ng khai nÃ o.
   - Quyá»n file nÃªn giá»›i háº¡n cho user hiá»‡n táº¡i:
       chmod 600 ~/.aws/credentials

8. Li
		
		
		- cmd: aws sts get-caller-identity
		
===========================
GIáº¢I THÃCH Lá»†NH: aws sts get-caller-identity
===========================

1. CÃº phÃ¡p cÆ¡ báº£n:
   aws sts get-caller-identity
   - ThÃªm tuá»³ chá»n thÆ°á»ng dÃ¹ng: --profile <profile-name>, --output json|text|table, --query '<JMESPath>'

2. Má»¥c Ä‘Ã­ch:
   - Tráº£ vá» thÃ´ng tin Ä‘á»‹nh danh cá»§a "caller" Ä‘ang gá»i API (tá»©c credentials hiá»‡n táº¡i).
   - ThÃ´ng tin tráº£ vá» giÃºp biáº¿t báº¡n Ä‘ang dÃ¹ng IAM User/Assumed Role/federated user, thuá»™c Account nÃ o, vÃ  ARN cá»¥ thá»ƒ.

3. Káº¿t quáº£ (máº·c Ä‘á»‹nh JSON) gá»“m 3 trÆ°á»ng:
   {
     "UserId": "AIDAEXAMPLEUSERID",
     "Account": "123456789012",
     "Arn": "arn:aws:iam::123456789012:user/your-user"
   }
   - UserId: ID ná»™i bá»™ cá»§a entity (khÃ´ng pháº£i ARN).
   - Account: AWS Account ID (12 chá»¯ sá»‘).
   - Arn: Amazon Resource Name xÃ¡c Ä‘á»‹nh entity (cÃ³ thá»ƒ lÃ  user, assumed-role session, v.v).

4. TÃ¬nh huá»‘ng sá»­ dá»¥ng phá»• biáº¿n:
   - XÃ¡c Ä‘á»‹nh credentials Ä‘ang Ä‘Æ°á»£c dÃ¹ng trÃªn mÃ¡y local, container hoáº·c CI.
   - Kiá»ƒm tra xem lá»‡nh Ä‘ang cháº¡y vá»›i IAM user hay assumed role.
   - Láº¥y Account ID cho script hoáº·c pipeline:
       aws sts get-caller-identity --query Account --output text

5. VÃ­ dá»¥ lá»‡nh & cÃ¡ch láº¥y giÃ¡ trá»‹:
   - In toÃ n bá»™ JSON:
       aws sts get-caller-identity
   - Chá»‰ láº¥y Account ID (dáº¡ng text):
       aws sts get-caller-identity --query Account --output text
   - Chá»‰ láº¥y ARN:
       aws sts get-caller-identity --query Arn --output text
   - DÃ¹ng trong script bash:
       ACCOUNT_ID=$(aws sts get-caller-identity --query Account --output text)
       echo "Account: $ACCOUNT_ID"

6. Khi caller lÃ  assumed role:
   - Arn thÆ°á»ng cÃ³ dáº¡ng:
       arn:aws:sts::123456789012:assumed-role/RoleName/SessionName
   - UserId cÃ³ thá»ƒ chá»©a session id (khÃ´ng pháº£i user name).

7. LÆ°u Ã½ vá» environment vÃ  credentials:
   - AWS CLI láº¥y credentials theo thá»© tá»± provider: biáº¿n mÃ´i trÆ°á»ng â†’ profile trong ~/.aws/ â†’ role gÃ¡n cho EC2/ECS â†’ ...
   - Náº¿u dÃ¹ng temporary credentials (session token) vÃ  token háº¿t háº¡n, lá»‡nh sáº½ tráº£ lá»—i (ExpiredToken).

8. Lá»—i thÆ°á»ng gáº·p & cÃ¡ch kháº¯c phá»¥c:
   - "Unable to locate credentials":
       â†’ ChÆ°a cáº¥u hÃ¬nh credentials hoáº·c khÃ´ng trong PATH â†’ cáº¥u hÃ¬nh aws configure hoáº·c Ä‘áº·t biáº¿n mÃ´i trÆ°á»ng.
   - "ExpiredToken":
       â†’ Refresh credentials (assume-role láº¡i hoáº·c refresh SSO/session).
   - "SignatureDoesNotMatch" / "InvalidSignature":
       â†’ Kiá»ƒm tra Ä‘á»“ng há»“ há»‡ thá»‘ng (clock skew), Ä‘áº£m báº£o thá»i gian há»‡ thá»‘ng chÃ­nh xÃ¡c.
   - Äá»ƒ debug, cháº¡y:
       aws sts get-caller-identity 2>&1
     â€” chuyá»ƒn stderr vá» stdout Ä‘á»ƒ xem thÃ´ng bÃ¡o lá»—i Ä‘áº§y Ä‘á»§.

9. Quyá»n truy cáº­p:
   - YÃªu cáº§u permission sts:GetCallerIdentity. ThÃ´ng thÆ°á»ng AWS cho phÃ©p gá»i lá»‡nh nÃ y, nhÆ°ng IAM policy cÃ³ thá»ƒ explicit deny.
   - Lá»‡nh nÃ y **khÃ´ng** cung cáº¥p quyá»n má»›i; chá»‰ tráº£ thÃ´ng tin vá» caller.

10. Káº¿t há»£p vá»›i cÃ´ng cá»¥ khÃ¡c:
    - DÃ¹ng jq Ä‘á»ƒ parse JSON:
        aws sts get-caller-identity --output json | jq -r '.Arn'
    - DÃ¹ng trong CI Ä‘á»ƒ log credentials Ä‘ang cháº¡y, há»— trá»£ debug pipelines.

11. VÃ­ dá»¥ output thá»±c táº¿:
   {
     "UserId": "AIDABCDEFGHIJKLMNOP",
     "Account": "987654321098",
     "Arn": "arn:aws:iam::987654321098:user/dev.user"
   }

12. Gá»£i Ã½ bá»• sung:
   - Náº¿u báº¡n nghi ngá» cÃ³ nhiá»u báº£n aws CLI trÃªn há»‡ thá»‘ng:
       which aws
     hoáº·c
       command -v aws
   - Náº¿u cáº§n kiá»ƒm tra profile cá»¥ thá»ƒ:
       aws sts get-caller-identity --profile myprofile

13. TÃ³m táº¯t ngáº¯n gá»n:
   - `aws sts get-caller-identity` cho biáº¿t "mÃ¬nh lÃ  ai" (UserId, Account, Arn) khi gá»i AWS API.
   - Há»¯u Ã­ch Ä‘á»ƒ xÃ¡c minh credentials, debug permission/CI, vÃ  láº¥y Account ID cho script.
   - Náº¿u cÃ³ lá»—i, kiá»ƒm tra credentials, thá»i gian há»‡ thá»‘ng, vÃ  quyá»n IAM.

===========================
Háº¾T
===========================
		
		
		- cmd: aws ec2 describe-instances
		
TiÃªu Ä‘á»: Giáº£i thÃ­ch chi tiáº¿t nháº¥t cho: aws ec2 describe-instances

Má»¥c Ä‘Ã­ch:
  - Láº¥y thÃ´ng tin mÃ´ táº£ (read-only) vá» cÃ¡c EC2 instance trong má»™t region.
  - ThÃ´ng tin tiÃªu chuáº©n: InstanceId, State, InstanceType, AMI (ImageId), Private/Public IP, SecurityGroups, Tags, LaunchTime, NetworkInterfaces, BlockDeviceMappings, v.v.
  - DÃ¹ng Ä‘á»ƒ inventory, kiá»ƒm tra tráº¡ng thÃ¡i, debug máº¡ng, hoáº·c lÃ m nguá»“n dá»¯ liá»‡u cho script/automation.

CÃº phÃ¡p cÆ¡ báº£n:
  aws ec2 describe-instances [--instance-ids <id1> <id2> ...] [--filters <Name=...,Values=...>] [--query <JMESPath>] [--output <json|text|table>] [--profile <profile>] [--region <region>] [--max-items N] [--no-paginate]

VÃ­ dá»¥ nhanh:
  aws ec2 describe-instances
  aws ec2 describe-instances --instance-ids i-0123456789abcdef0
  aws ec2 describe-instances --filters "Name=instance-state-name,Values=running" "Name=tag:Env,Values=prod" --output table
  aws ec2 describe-instances --query "Reservations[].Instances[].{ID:InstanceId,State:State.Name,PrivateIP:PrivateIpAddress,PublicIP:PublicIpAddress}" --output table
  aws ec2 describe-instances --profile staging --region ap-southeast-1

CÃ¡c tham sá»‘/tuá»³ chá»n quan trá»ng:
  --instance-ids <id...>
    - Tráº£ vá» chá»‰ instance cÃ³ ID Ä‘Æ°á»£c cung cáº¥p (vÃ­ dá»¥ i-0abc...).
  --filters Name=<filter-name>,Values=<value1>,<value2>,...
    - Lá»c trá»±c tiáº¿p á»Ÿ API (khuyáº¿n nghá»‹ Ä‘á»ƒ giáº£m dá»¯ liá»‡u tráº£ vá»).
    - Má»™t sá»‘ filter thÆ°á»ng dÃ¹ng:
        Name=instance-state-name (running, stopped, pending, terminated)
        Name=instance-type
        Name=tag:Key (vÃ­ dá»¥ tag:Env)
        Name=subnet-id
        Name=vpc-id
        Name=availability-zone
        Name=private-ip-address
        Name=public-ip-address
        Name=image-id
  --query <JMESPath expression>
    - TrÃ­ch xuáº¥t/chiáº¿t lá»c dá»¯ liá»‡u JSON tráº£ vá». Ráº¥t há»¯u Ã­ch cho scripting.
    - VÃ­ dá»¥: --query "Reservations[].Instances[].{ID:InstanceId,State:State.Name,AZ:Placement.AvailabilityZone}"
  --output <json|text|table>
    - json: raw (máº·c Ä‘á»‹nh)
    - text: plain text
    - table: báº£ng dá»… Ä‘á»c trÃªn terminal
  --profile <profile>
    - Sá»­ dá»¥ng profile trong ~/.aws/credentials vÃ  ~/.aws/config
  --region <region>
    - Chá»‰ Ä‘á»‹nh region (vÃ­ dá»¥ ap-southeast-1); náº¿u khÃ´ng cÃ³ thÃ¬ AWS CLI dÃ¹ng region máº·c Ä‘á»‹nh.
  --max-items N / --no-paginate
    - Äiá»u khiá»ƒn pagination (khi cÃ³ nhiá»u káº¿t quáº£). AWS CLI tá»± paginate theo máº·c Ä‘á»‹nh.

Cáº¥u trÃºc káº¿t quáº£ (tÃ³m táº¯t):
  - Káº¿t quáº£ lÃ  má»™t object JSON chá»©a key "Reservations" (máº£ng).
  - Má»—i pháº§n tá»­ Reservation cÃ³ key "Instances" (máº£ng cÃ¡c Instance).
  - VÃ¬ váº­y Ä‘á»ƒ láº¥y trá»±c tiáº¿p instances thÆ°á»ng pháº£i flatten Reservations[].Instances[].
  - Má»™t object Instance Ä‘iá»ƒn hÃ¬nh cÃ³ cÃ¡c trÆ°á»ng:
      InstanceId, ImageId, State {Code, Name}, PrivateDnsName, PublicDnsName,
      PrivateIpAddress, PublicIpAddress, InstanceType, KeyName, LaunchTime,
      Monitoring, Placement {AvailabilityZone}, SecurityGroups, Tags,
      BlockDeviceMappings, NetworkInterfaces, v.v.

VÃ­ dá»¥ Ä‘áº§u ra rÃºt gá»n:
  {
    "Reservations": [
      {
        "ReservationId": "r-0abcd1234",
        "OwnerId": "123456789012",
        "Instances": [
          {
            "InstanceId": "i-0123456789abcdef0",
            "ImageId": "ami-0abcdef1234567890",
            "State": { "Code": 16, "Name": "running" },
            "PrivateIpAddress": "10.0.0.10",
            "PublicIpAddress": "54.XX.XX.XX",
            "InstanceType": "t3.medium",
            "Placement": { "AvailabilityZone": "ap-southeast-1a" },
            "SecurityGroups": [{ "GroupName": "default", "GroupId": "sg-0abc1234" }],
            "Tags": [{ "Key": "Name", "Value": "web01" }]
          }
        ]
      }
    ]
  }

Sá»­ dá»¥ng phá»• biáº¿n trong scripting:
  - Láº¥y danh sÃ¡ch InstanceId (text):
      aws ec2 describe-instances --query "Reservations[].Instances[].InstanceId" --output text
  - Láº¥y InstanceId vÃ  Public IP, rá»“i lÃ m gÃ¬ Ä‘Ã³:
      aws ec2 describe-instances --query "Reservations[].Instances[].[InstanceId,PublicIpAddress]" --output text
  - DÃ¹ng jq Ä‘á»ƒ xá»­ lÃ½ sÃ¢u hÆ¡n:
      aws ec2 describe-instances | jq -r '.Reservations[].Instances[] | "\(.InstanceId) \(.State.Name) \(.PrivateIpAddress) \(.PublicIpAddress)"'

Quyá»n IAM cáº§n cÃ³:
  - Hoáº·c policy chá»©a Ã­t nháº¥t: "ec2:DescribeInstances"
  - TÃ¹y ká»‹ch báº£n, script cÃ³ thá»ƒ cáº§n thÃªm quyá»n describe khÃ¡c (describe-vpcs, describe-subnets, describe-security-groups) náº¿u báº¡n join dá»¯ liá»‡u.

CÃ¡c lá»—i/phiÃªn báº£n váº¥n Ä‘á» thÆ°á»ng gáº·p & cÃ¡ch kháº¯c phá»¥c:
  - Káº¿t quáº£ rá»—ng:
      + Kiá»ƒm tra region (--region) vÃ¬ instances lÃ  per-region.
      + Kiá»ƒm tra profile/credentials (aws configure list).
  - AccessDenied / UnauthorizedOperation:
      + Kiá»ƒm tra IAM permissions cho user/role.
  - InvalidClientTokenId / AuthFailure:
      + Credentials sai hoáº·c expired (Ä‘áº·c biá»‡t náº¿u dÃ¹ng temporary credentials / session token).
      + Náº¿u dÃ¹ng temporary credentials pháº£i export AWS_SESSION_TOKEN hoáº·c dÃ¹ng profile cÃ³ token.
  - Rate limiting:
      + Náº¿u script gá»i nhiá»u láº§n, implement exponential backoff.

Hiá»‡u nÄƒng & best practices:
  - DÃ¹ng --filters Ä‘á»ƒ giáº£m lÆ°á»£ng dá»¯ liá»‡u tráº£ vá» thay vÃ¬ láº¥y táº¥t cáº£ rá»“i lá»c trÃªn client.
  - DÃ¹ng --query Ä‘á»ƒ tráº£ vá» Ä‘Ãºng cÃ¡c trÆ°á»ng cáº§n thiáº¿t.
  - TrÃ¡nh parse raw JSON báº±ng text parsing; Æ°u tiÃªn JMESPath (--query) hoáº·c jq.
  - Khi cháº¡y trÃªn EC2/CI, Æ°u tiÃªn dÃ¹ng IAM role (instance profile / task role) thay vÃ¬ long-lived access keys.

CÃ¡c biáº¿n thá»ƒ / lá»‡nh liÃªn quan há»¯u Ã­ch:
  - aws ec2 describe-instance-status         # tráº¡ng thÃ¡i há»‡ thá»‘ng/instance (Status checks)
  - aws ec2 describe-images --image-ids ...  # thÃ´ng tin AMI
  - aws ec2 describe-instances --filters "Name=tag:Name,Values=web" --query "Reservations[].Instances[].{ID:InstanceId,IP:PublicIpAddress}" --output table
  - aws ec2 describe-instances --instance-ids $(cat ids.txt)  # káº¿t há»£p vá»›i file IDs

Ghi chÃº Ä‘áº·c biá»‡t:
  - Má»™t instance cÃ³ thá»ƒ cÃ³ nhiá»u network interfaces (ENI); Ä‘á»ƒ láº¥y táº¥t cáº£ IP/ENI, inspect NetworkInterfaces[].
  - PublicIpAddress chá»‰ xuáº¥t hiá»‡n náº¿u instance cÃ³ public IP (auto-assigned hoáº·c Elastic IP).
  - "Reservations" tá»“n táº¡i vÃ¬ API EC2 gá»™p instances theo reservation khi táº¡o; Ä‘á»ƒ xá»­ lÃ½ táº­p há»£p instances, luÃ´n flatten Reservations[].Instances[].
  - Thá»i gian LaunchTime tráº£ vá» theo ISO 8601 (UTC) â€” convert náº¿u cáº§n timezone khÃ¡c.

VÃ­ dá»¥ thá»±c táº¿ (ká»‹ch báº£n):
  1) Láº¥y ID vÃ  Private IP cá»§a táº¥t cáº£ instance Ä‘ang cháº¡y, region ap-southeast-1:
     aws ec2 describe-instances --region ap-southeast-1 --filters "Name=instance-state-name,Values=running" --query "Reservations[].Instances[].{ID:InstanceId,PrivateIP:PrivateIpAddress}" --output table

  2) Láº¥y Public IP cho instances cÃ³ tag Env=prod:
     aws ec2 describe-instances --filters "Name=tag:Env,Values=prod" --query "Reservations[].Instances[].PublicIpAddress" --output text

  3) DÃ¹ng káº¿t quáº£ Ä‘á»ƒ stop má»™t instance (cáº©n tháº­n):
     INSTANCE_ID=$(aws ec2 describe-instances --filters "Name=tag:Name,Values=web01" --query "Reservations[].Instances[0].InstanceId" --output text)
     aws ec2 stop-instances --instance-ids $INSTANCE_ID

TÃ³m táº¯t ngáº¯n:
  - `aws ec2 describe-instances` lÃ  lá»‡nh Ä‘á»c thÃ´ng tin chi tiáº¿t vá» EC2 instances.
  - DÃ¹ng --instance-ids Ä‘á»ƒ truy váº¥n cá»¥ thá»ƒ, --filters Ä‘á»ƒ lá»c phÃ­a server, --query/--output Ä‘á»ƒ trÃ­ch xuáº¥t vÃ  Ä‘á»‹nh dáº¡ng cho scripting.
  - Kiá»ƒm tra region vÃ  IAM permission ("ec2:DescribeInstances") náº¿u gáº·p váº¥n Ä‘á».
  - Flatten Reservations[].Instances[] Ä‘á»ƒ láº¥y danh sÃ¡ch instance thá»±c táº¿.

--- Háº¾T ---
		

		- cmd: sudo amazon-linux-extras install epel -y
		
---

## TiÃªu Ä‘á»: Giáº£i thÃ­ch chi tiáº¿t lá»‡nh `sudo amazon-linux-extras install epel -y`

Má»¥c Ä‘Ã­ch: Giáº£i thÃ­ch tá»«ng pháº§n cá»§a lá»‡nh, Ã½ nghÄ©a thá»±c thi, cÃ¡ch kiá»ƒm tra vÃ  cÃ¡c lÆ°u Ã½ báº£o máº­t/kháº£ nÄƒng tÆ°Æ¡ng thÃ­ch. TrÃ¬nh bÃ y á»Ÿ **Ä‘á»‹nh dáº¡ng plain text** (sáºµn sÃ ng copy vÃ o file .txt).

---

## Lá»†NH Cáº¦N GIáº¢I THÃCH:

sudo amazon-linux-extras install epel -y

---

## GIáº¢I THÃCH Tá»ªNG PHáº¦N:

1. `sudo`

   * Cháº¡y lá»‡nh vá»›i quyá»n superuser (root). Cáº§n thiáº¿t khi cÃ i Ä‘áº·t gÃ³i, thay Ä‘á»•i cáº¥u hÃ¬nh há»‡ thá»‘ng hoáº·c ghi vÃ o cÃ¡c thÆ° má»¥c há»‡ thá»‘ng.
   * Náº¿u báº¡n Ä‘Ã£ lÃ  root, khÃ´ng cáº§n `sudo`.

2. `amazon-linux-extras`

   * ÄÃ¢y lÃ  tiá»‡n Ã­ch do Amazon cung cáº¥p trÃªn Amazon Linux 2 Ä‘á»ƒ dá»… dÃ ng kÃ­ch hoáº¡t/cÃ i Ä‘áº·t cÃ¡c gÃ³i bá»• sung (extra topics) khÃ´ng cÃ³ sáºµn trá»±c tiáº¿p trong repo chÃ­nh.
   * NÃ³ cho phÃ©p enable/disable "topics" (nhÆ° php7.x, epel, nginx1, etc.) hoáº·c cÃ i tháº³ng cÃ¡c gÃ³i tá»« cÃ¡c topic Ä‘Ã³.
   * LÆ°u Ã½: `amazon-linux-extras` thÆ°á»ng cÃ³ trÃªn **Amazon Linux 2**. TrÃªn cÃ¡c báº£n khÃ¡c (vÃ­ dá»¥ Amazon Linux 2023) quáº£n lÃ½ gÃ³i cÃ³ thá»ƒ khÃ¡c (dnf, modular, hoáº·c epel-release trá»±c tiáº¿p).

3. `install epel`

   * `install`: hÃ nh Ä‘á»™ng - cÃ i Ä‘áº·t (tÃ¹y thuá»™c vÃ o amazon-linux-extras, nÃ³ sáº½ enable topic náº¿u cáº§n vÃ  cÃ i gÃ³i liÃªn quan).
   * `epel`: tÃªn cá»§a topic (Extra Packages for Enterprise Linux) â€” EPEL lÃ  má»™t repository do dá»± Ã¡n Fedora quáº£n lÃ½, cung cáº¥p nhiá»u gÃ³i pháº§n má»m bá»• sung cho cÃ¡c báº£n phÃ¢n phá»‘i RHEL/CentOS/Amazon Linux.
   * Khi cháº¡y `amazon-linux-extras install epel`, há»‡ thá»‘ng sáº½:

     * enable hoáº·c cáº¥u hÃ¬nh repo EPEL náº¿u chÆ°a cÃ³,
     * cÃ i Ä‘áº·t gÃ³i epel-release hoáº·c cÃ¡c gÃ³i há»— trá»£ Ä‘á»ƒ thÃªm repo EPEL vÃ o há»‡ thá»‘ng,
     * sau Ä‘Ã³ báº¡n cÃ³ thá»ƒ cÃ i cÃ¡c gÃ³i tá»« repo EPEL báº±ng `yum install <package>`.

4. `-y`

   * TÃ¹y chá»n tá»± Ä‘á»™ng tráº£ lá»i "yes" cho táº¥t cáº£ cÃ¡c prompt trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t (vÃ­ dá»¥ xÃ¡c nháº­n cÃ i gÃ³i, dependencies). Há»¯u Ã­ch khi cháº¡y trong script/automation.
   * LÆ°u Ã½: dÃ¹ng `-y` cÃ³ nghÄ©a báº¡n cháº¥p nháº­n má»i thay Ä‘á»•i sáº½ Ä‘Æ°á»£c thá»±c thi mÃ  khÃ´ng cÃ³ prompt cáº§u xÃ¡c nháº­n.

---

## Ã NGHÄ¨A THá»°C Táº¾ / KHI NÃ€O DÃ™NG:

* DÃ¹ng khi báº¡n cáº§n cÃ¡c gÃ³i khÃ´ng cÃ³ sáºµn trong repo máº·c Ä‘á»‹nh cá»§a Amazon Linux 2 â€” vÃ­ dá»¥ tiá»‡n Ã­ch, thÆ° viá»‡n hoáº·c pháº§n má»m do cá»™ng Ä‘á»“ng cung cáº¥p thÃ´ng qua EPEL.
* ThÆ°á»ng lÃ  bÆ°á»›c Ä‘áº§u khi má»™t pháº§n má»m yÃªu cáº§u EPEL (vÃ­ dá»¥ má»™t sá»‘ tiá»‡n Ã­ch phÃ¡t triá»ƒn, monitoring agent, hay gÃ³i phá»¥ trá»£).

---

## CÃC Lá»†NH KIá»‚M TRA & SAU KHI CÃ€I Äáº¶T:

* Kiá»ƒm tra amazon-linux-extras cÃ³ trÃªn há»‡ thá»‘ng khÃ´ng:
  which amazon-linux-extras || amazon-linux-extras --help

* Liá»‡t kÃª cÃ¡c topics cÃ³ sáºµn:
  amazon-linux-extras list

* Kiá»ƒm tra repo EPEL Ä‘Ã£ Ä‘Æ°á»£c thÃªm chÆ°a:
  yum repolist | grep -i epel

* Sau khi install: thá»­ cÃ i má»™t gÃ³i tá»« EPEL (vÃ­ dá»¥ `htop` náº¿u cÃ³ trong EPEL):
  sudo yum install htop

* Náº¿u muá»‘n xem file repo:
  ls /etc/yum.repos.d/ | grep -i epel
  cat /etc/yum.repos.d/epel*.repo

---

## VD Káº¾T QUáº¢ MáºªU (giáº£ Ä‘á»‹nh khi thÃ nh cÃ´ng):

[sudo] password for user:
Installing : epel-release-7-11.noarch
Updated: epel-release-7-11.noarch

(repolist output)
repo id                    repo name                                    status
epel/x86_64                Extra Packages for Enterprise Linux 7 - x86_64   12,345

Giáº£i thÃ­ch: há»‡ thá»‘ng Ä‘Ã£ thÃªm repo EPEL vÃ  báº¡n cÃ³ thá»ƒ cÃ i gÃ³i tá»« repo Ä‘Ã³.

---

## LÆ¯U Ã & Cáº¢NH BÃO

* TÆ°Æ¡ng thÃ­ch há»‡ Ä‘iá»u hÃ nh: `amazon-linux-extras` thÆ°á»ng dÃ nh cho **Amazon Linux 2**. TrÃªn Amazon Linux 2023 hoáº·c cÃ¡c distro khÃ¡c, cÃ¡ch báº­t EPEL cÃ³ thá»ƒ khÃ¡c (vÃ­ dá»¥ `dnf install epel-release` hoáº·c cáº¥u hÃ¬nh repo khÃ¡c).
* Báº£o máº­t: EPEL lÃ  repo cá»§a cá»™ng Ä‘á»“ng (do Fedora quáº£n lÃ½) â€” khi dÃ¹ng gÃ³i tá»« EPEL, hÃ£y Ä‘áº£m báº£o báº¡n hiá»ƒu nguá»“n gÃ³i vÃ  version tÆ°Æ¡ng thÃ­ch vá»›i há»‡ thá»‘ng cá»§a báº¡n.
* Náº¿u há»‡ thá»‘ng Ä‘ang cháº¡y trong mÃ´i trÆ°á»ng production, cÃ¢n nháº¯c thá»­ trÃªn mÃ´i trÆ°á»ng staging trÆ°á»›c khi báº­t repo má»›i.
* DÃ¹ng `-y` trong script automation tiá»‡n nhÆ°ng cáº§n cáº©n trá»ng vÃ¬ má»i prompt sáº½ bá»‹ auto cháº¥p nháº­n.

---

## Xá»¬ LÃ Lá»–I PHá»” BIáº¾N

* `amazon-linux-extras: command not found` => báº¡n khÃ´ng dÃ¹ng Amazon Linux 2 hoáº·c package chÆ°a Ä‘Æ°á»£c cÃ i. TrÃªn Amazon Linux 2, cÃ´ng cá»¥ nÃ y thÆ°á»ng cÃ³ sáºµn; náº¿u khÃ´ng, hÃ£y kiá»ƒm tra phiÃªn báº£n há»‡ Ä‘iá»u hÃ nh.
* Lá»—i network / GPG key => kiá»ƒm tra káº¿t ná»‘i máº¡ng, cáº¥u hÃ¬nh proxy, hoáº·c GPG key cá»§a repo.
* KhÃ´ng tÃ¬m tháº¥y topic `epel` trong `amazon-linux-extras list` => cÃ³ thá»ƒ distro/version cá»§a báº¡n khÃ´ng bao gá»“m topic Ä‘Ã³; thay vÃ o Ä‘Ã³ cáº§n cÃ i `epel-release` thá»§ cÃ´ng.

---

## CÃC Lá»†NH THAY THáº¾ (khi khÃ´ng dÃ¹ng Amazon Linux 2):

* TrÃªn CentOS/RHEL (phiÃªn báº£n tÆ°Æ¡ng thÃ­ch):
  sudo yum install epel-release

* TrÃªn há»‡ thá»‘ng dÃ¹ng `dnf` (má»™t sá»‘ distro má»›i hÆ¡n):
  sudo dnf install epel-release

* TrÃªn Amazon Linux 2023: quy trÃ¬nh cÃ³ thá»ƒ khÃ¡c â€” kiá»ƒm tra tÃ i liá»‡u Amazon Linux 2023 Ä‘á»ƒ biáº¿t cÃ¡ch báº­t EPEL tÆ°Æ¡ng thÃ­ch.

---

## TÃ“M Táº®T NGáº®N Gá»ŒN (1 dÃ²ng):

`sudo amazon-linux-extras install epel -y` => cháº¡y vá»›i quyá»n root Ä‘á»ƒ báº­t/cÃ i Ä‘áº·t repository EPEL trÃªn Amazon Linux 2 vÃ  tá»± Ä‘á»™ng cháº¥p nháº­n má»i prompt.

---

## Háº¾T

COPY READY: báº¡n cÃ³ thá»ƒ nháº¥n nÃºt "Copy" trÃªn giao diá»‡n Ä‘á»ƒ sao chÃ©p toÃ n bá»™ ná»™i dung nÃ y vÃ  dÃ¡n vÃ o file .txt.
		
		
		- cmd: sudo yum install stress -y
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
sudo yum install stress -y
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t cÃ´ng cá»¥ "stress" trÃªn cÃ¡c há»‡ Ä‘iá»u hÃ nh Linux
sá»­ dá»¥ng trÃ¬nh quáº£n lÃ½ gÃ³i YUM (CentOS, RHEL, Amazon Linux, Rocky Linux, AlmaLinux).

"stress" lÃ  má»™t cÃ´ng cá»¥ dÃ¹ng Ä‘á»ƒ táº¡o táº£i giáº£ (CPU, RAM, I/O, Disk)
nháº±m kiá»ƒm tra kháº£ nÄƒng chá»‹u táº£i vÃ  Ä‘á»™ á»•n Ä‘á»‹nh cá»§a há»‡ thá»‘ng.

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. sudo
--------------------------------------------------
- sudo (Super User DO)
- Cho phÃ©p ngÆ°á»i dÃ¹ng thÆ°á»ng thá»±c thi lá»‡nh vá»›i quyá»n root (quyá»n quáº£n trá»‹).
- Cáº§n thiáº¿t vÃ¬:
  + CÃ i Ä‘áº·t pháº§n má»m
  + Thay Ä‘á»•i há»‡ thá»‘ng
  + Ghi dá»¯ liá»‡u vÃ o cÃ¡c thÆ° má»¥c há»‡ thá»‘ng nhÆ° /usr, /bin, /lib

Náº¿u khÃ´ng cÃ³ sudo:
- Lá»‡nh sáº½ bá»‹ tá»« chá»‘i vá»›i lá»—i "Permission denied"

--------------------------------------------------
2.2. yum
--------------------------------------------------
- yum (Yellowdog Updater Modified)
- LÃ  trÃ¬nh quáº£n lÃ½ gÃ³i (package manager) trÃªn cÃ¡c há»‡ Linux RPM-based.
- Chá»©c nÄƒng:
  + CÃ i Ä‘áº·t pháº§n má»m
  + Gá»¡ cÃ i Ä‘áº·t pháº§n má»m
  + Cáº­p nháº­t há»‡ thá»‘ng
  + Tá»± Ä‘á»™ng xá»­ lÃ½ phá»¥ thuá»™c (dependencies)

yum sáº½:
- Káº¿t ná»‘i Ä‘áº¿n repository
- Táº£i gÃ³i cáº§n thiáº¿t
- CÃ i Ä‘áº·t theo Ä‘Ãºng thá»© tá»± phá»¥ thuá»™c

--------------------------------------------------
2.3. install
--------------------------------------------------
- LÃ  hÃ nh Ä‘á»™ng (command) cá»§a yum
- Ã nghÄ©a: cÃ i Ä‘áº·t má»™t hoáº·c nhiá»u gÃ³i pháº§n má»m

CÃº phÃ¡p chung:
yum install <tÃªn_gÃ³i>

--------------------------------------------------
2.4. stress
--------------------------------------------------
- TÃªn gÃ³i pháº§n má»m cáº§n cÃ i Ä‘áº·t
- stress lÃ  cÃ´ng cá»¥ táº¡o táº£i giáº£ cho há»‡ thá»‘ng

Chá»©c nÄƒng chÃ­nh:
- Táº¡o táº£i CPU
- Táº¡o táº£i bá»™ nhá»› (RAM)
- Táº¡o táº£i I/O
- DÃ¹ng Ä‘á»ƒ:
  + Test hiá»‡u nÄƒng server
  + Kiá»ƒm tra autoscaling
  + Kiá»ƒm tra giá»›i háº¡n tÃ i nguyÃªn
  + Thá»±c hÃ nh DevOps / SysAdmin

--------------------------------------------------
2.5. -y
--------------------------------------------------
- Viáº¿t táº¯t cá»§a "yes"
- Tá»± Ä‘á»™ng tráº£ lá»i "yes" cho táº¥t cáº£ cÃ¢u há»i xÃ¡c nháº­n

Náº¿u KHÃ”NG cÃ³ -y:
- yum sáº½ há»i:
  Is this ok [y/N]:
- NgÆ°á»i dÃ¹ng pháº£i gÃµ y vÃ  nháº¥n Enter

Khi cÃ³ -y:
- Lá»‡nh cháº¡y tá»± Ä‘á»™ng
- PhÃ¹ há»£p cho:
  + Script
  + Automation
  + CI/CD
  + CÃ i Ä‘áº·t hÃ ng loáº¡t

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
Khi cháº¡y lá»‡nh:
sudo yum install stress -y

Há»‡ thá»‘ng sáº½:
1. Kiá»ƒm tra quyá»n sudo
2. Káº¿t ná»‘i Ä‘áº¿n repository YUM
3. TÃ¬m gÃ³i stress
4. Kiá»ƒm tra cÃ¡c gÃ³i phá»¥ thuá»™c
5. Táº£i gÃ³i stress
6. CÃ i Ä‘áº·t stress vÃ o há»‡ thá»‘ng
7. HoÃ n táº¥t mÃ  khÃ´ng cáº§n xÃ¡c nháº­n tá»« ngÆ°á»i dÃ¹ng

--------------------------------------------------
4. Káº¾T QUáº¢ SAU KHI CÃ€I Äáº¶T
--------------------------------------------------
- Lá»‡nh stress cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng trá»±c tiáº¿p trong terminal
- Kiá»ƒm tra báº±ng lá»‡nh:
  stress --version
  hoáº·c
  which stress

--------------------------------------------------
5. VÃ Dá»¤ Sá»¬ Dá»¤NG stress (THAM KHáº¢O)
--------------------------------------------------
Táº¡o táº£i CPU 4 core trong 300 giÃ¢y:
stress -c 4 -t 300

Táº¡o táº£i RAM:
stress --vm 2 --vm-bytes 512M --timeout 60s

--------------------------------------------------
6. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- stress cÃ³ thá»ƒ lÃ m:
  + CPU lÃªn 100%
  + Server bá»‹ cháº­m
  + áº¢nh hÆ°á»Ÿng dá»‹ch vá»¥ Ä‘ang cháº¡y

- KHÃ”NG cháº¡y trÃªn production khi chÆ°a Ä‘Æ°á»£c phÃ©p
- Chá»‰ dÃ¹ng cho:
  + Test
  + Lab
  + MÃ´i trÆ°á»ng thá»­ nghiá»‡m

--------------------------------------------------
7. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
sudo yum install stress -y
= CÃ i Ä‘áº·t cÃ´ng cá»¥ táº¡o táº£i há»‡ thá»‘ng "stress"
= Cháº¡y vá»›i quyá»n root
= Tá»± Ä‘á»™ng Ä‘á»“ng Ã½ má»i xÃ¡c nháº­n
= PhÃ¹ há»£p cho script vÃ  automation
==================================================
		
		
		- cmd: nohup stress -c 4 -t 300 &
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
nohup stress -c 4 -t 300 &

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Cháº¡y chÆ°Æ¡ng trÃ¬nh "stress" nháº±m táº¡o táº£i (load) lÃªn CPU
- Cháº¡y ná»n (background)
- Tiáº¿p tá»¥c cháº¡y ngay cáº£ khi báº¡n thoÃ¡t terminal hoáº·c máº¥t káº¿t ná»‘i SSH

ThÆ°á»ng dÃ¹ng Ä‘á»ƒ:
- Test hiá»‡u nÄƒng CPU
- Test Ä‘á»™ á»•n Ä‘á»‹nh server
- MÃ´ phá»ng tÃ¬nh tráº¡ng CPU bá»‹ táº£i cao

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. nohup
--------------------------------------------------
nohup = "no hang up"

Chá»©c nÄƒng:
- Cho phÃ©p lá»‡nh tiáº¿p tá»¥c cháº¡y ngay cáº£ khi:
  + ÄÃ³ng terminal
  + ThoÃ¡t SSH
  + Máº¥t káº¿t ná»‘i máº¡ng

Náº¿u KHÃ”NG dÃ¹ng nohup:
- Khi báº¡n logout hoáº·c máº¥t SSH â†’ tiáº¿n trÃ¬nh sáº½ bá»‹ kill

Khi dÃ¹ng nohup:
- Tiáº¿n trÃ¬nh váº«n cháº¡y bÃ¬nh thÆ°á»ng trong background

Máº·c Ä‘á»‹nh:
- Output (stdout vÃ  stderr) sáº½ Ä‘Æ°á»£c ghi vÃ o file:
  nohup.out
- File nÃ y náº±m táº¡i thÆ° má»¥c báº¡n cháº¡y lá»‡nh

--------------------------------------------------
2.2. stress
--------------------------------------------------
stress lÃ  cÃ´ng cá»¥ dÃ¹ng Ä‘á»ƒ:
- Táº¡o táº£i giáº£ (artificial load) lÃªn há»‡ thá»‘ng
- CÃ³ thá»ƒ stress:
  + CPU
  + RAM
  + Disk
  + I/O

Trong lá»‡nh nÃ y:
- stress chá»‰ dÃ¹ng Ä‘á»ƒ stress CPU

--------------------------------------------------
2.3. -c 4
--------------------------------------------------
-c = CPU worker

Ã nghÄ©a:
- Táº¡o 4 tiáº¿n trÃ¬nh (worker) cháº¡y vÃ²ng láº·p vÃ´ háº¡n
- Má»—i worker chiáº¿m 100% cá»§a 1 core CPU

Káº¿t quáº£:
- Tá»•ng CPU sá»­ dá»¥ng â‰ˆ 4 core CPU
- Náº¿u mÃ¡y cÃ³:
  + 4 core â†’ CPU gáº§n nhÆ° 100%
  + 8 core â†’ CPU khoáº£ng 50%

LÆ°u Ã½:
- Sá»‘ worker KHÃ”NG nháº¥t thiáº¿t pháº£i báº±ng sá»‘ core
- Náº¿u vÆ°á»£t quÃ¡ sá»‘ core â†’ CPU scheduling sáº½ tÄƒng cao

--------------------------------------------------
2.4. -t 300
--------------------------------------------------
-t = timeout (thá»i gian cháº¡y)

ÄÆ¡n vá»‹:
- TÃ­nh báº±ng giÃ¢y (seconds)

-t 300 nghÄ©a lÃ :
- Cháº¡y stress trong 300 giÃ¢y
- Tá»©c lÃ  5 phÃºt

Háº¿t 300 giÃ¢y:
- stress tá»± Ä‘á»™ng dá»«ng
- Tiáº¿n trÃ¬nh káº¿t thÃºc

--------------------------------------------------
2.5. &
--------------------------------------------------
Dáº¥u & dÃ¹ng Ä‘á»ƒ:
- Cháº¡y lá»‡nh á»Ÿ background (ná»n)
- Terminal khÃ´ng bá»‹ block
- CÃ³ thá»ƒ tiáº¿p tá»¥c gÃµ lá»‡nh khÃ¡c ngay

Náº¿u KHÃ”NG cÃ³ &:
- Terminal sáº½ bá»‹ chiáº¿m
- KhÃ´ng gÃµ Ä‘Æ°á»£c lá»‡nh khÃ¡c cho Ä‘áº¿n khi stress káº¿t thÃºc

--------------------------------------------------
3. CÃCH HOáº T Äá»˜NG Tá»”NG THá»‚
--------------------------------------------------
TrÃ¬nh tá»± xáº£y ra khi cháº¡y lá»‡nh:

1. nohup khá»Ÿi cháº¡y stress
2. stress táº¡o 4 CPU worker
3. Má»—i worker Äƒn 100% CPU core
4. stress cháº¡y trong 300 giÃ¢y
5. Tiáº¿n trÃ¬nh cháº¡y ná»n (&)
6. DÃ¹ báº¡n:
   - logout
   - máº¥t SSH
   - Ä‘Ã³ng terminal
   thÃ¬ stress váº«n cháº¡y
7. Sau 300 giÃ¢y â†’ stress tá»± dá»«ng

--------------------------------------------------
4. FILE OUTPUT (nohup.out)
--------------------------------------------------
Máº·c Ä‘á»‹nh:
- Má»i output sáº½ ghi vÃ o file:
  nohup.out

Xem ná»™i dung:
cat nohup.out

Hoáº·c theo dÃµi realtime:
tail -f nohup.out

--------------------------------------------------
5. CÃCH KIá»‚M TRA TIáº¾N TRÃŒNH ÄANG CHáº Y
--------------------------------------------------

Kiá»ƒm tra stress:
ps -ef | grep stress

Hoáº·c xem CPU:
top
htop

--------------------------------------------------
6. CÃCH Dá»ªNG STRESS TRÆ¯á»šC THá»œI Háº N
--------------------------------------------------

CÃ¡ch 1: kill theo PID
ps -ef | grep stress
kill <PID>

CÃ¡ch 2: kill táº¥t cáº£ stress
pkill stress

--------------------------------------------------
7. Cáº¢NH BÃO QUAN TRá»ŒNG
--------------------------------------------------
- Lá»‡nh nÃ y cÃ³ thá»ƒ lÃ m:
  + CPU lÃªn 100%
  + Server cháº­m, lag
  + Timeout dá»‹ch vá»¥

KHÃ”NG nÃªn cháº¡y:
- TrÃªn server production Ä‘ang phá»¥c vá»¥ ngÆ°á»i dÃ¹ng
- TrÃªn mÃ¡y cÃ³ tÃ i nguyÃªn yáº¿u

NÃªn cháº¡y:
- MÃ´i trÆ°á»ng test
- Lab
- Staging

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
nohup stress -c 4 -t 300 &

= Cháº¡y stress CPU
= DÃ¹ng 4 core CPU
= Cháº¡y trong 5 phÃºt
= Cháº¡y ná»n
= KhÃ´ng bá»‹ dá»«ng khi logout
		
		
		- cmd: top
		
			Lá»‡nh top trong Linux lÃ  má»™t cÃ´ng cá»¥ theo dÃµi tiáº¿n trÃ¬nh (process monitoring) cháº¡y trong real-time.		
		
			CÃ´ng dá»¥ng chÃ­nh

				Hiá»ƒn thá»‹ tÃ¬nh tráº¡ng há»‡ thá»‘ng (CPU, RAM, uptime, load average).

				Liá»‡t kÃª danh sÃ¡ch tiáº¿n trÃ¬nh (process) Ä‘ang cháº¡y, sáº¯p xáº¿p theo má»©c Ä‘á»™ tiÃªu thá»¥ tÃ i nguyÃªn.

				GiÃºp báº¡n nhanh chÃ³ng biáº¿t tiáº¿n trÃ¬nh nÃ o Ä‘ang chiáº¿m CPU hoáº·c RAM nhiá»u nháº¥t.

			Má»™t sá»‘ phÃ­m táº¯t há»¯u Ã­ch trong top

				P â†’ sáº¯p xáº¿p theo CPU usage.

				M â†’ sáº¯p xáº¿p theo RAM usage.

				k â†’ kill process (nháº­p PID).

				q â†’ thoÃ¡t khá»i top.
				
			top = Task Manager trong Linux, giÃºp báº¡n giÃ¡m sÃ¡t CPU, RAM, vÃ  tiáº¿n trÃ¬nh theo thá»i gian thá»±c.
		
		- cmd: fdisk -l	
		
			Lá»‡nh fdisk -l trong Linux Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ liá»‡t kÃª (list) táº¥t cáº£ cÃ¡c phÃ¢n vÃ¹ng (partitions)
			vÃ  á»• Ä‘Ä©a hiá»‡n cÃ³ trÃªn há»‡ thá»‘ng.
			
			fdisk: cÃ´ng cá»¥ quáº£n lÃ½ phÃ¢n vÃ¹ng trÃªn Linux (táº¡o, xÃ³a, thay Ä‘á»•i partition).

			-l (list): hiá»ƒn thá»‹ danh sÃ¡ch cÃ¡c thiáº¿t bá»‹ lÆ°u trá»¯ vÃ  thÃ´ng tin chi tiáº¿t.
		
		- cmd: df -h
		
			Lá»‡nh df -h trong Linux dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ dung lÆ°á»£ng á»• Ä‘Ä©a vÃ  cÃ¡c phÃ¢n vÃ¹ng Ä‘ang Ä‘Æ°á»£c
			mount theo cÃ¡ch dá»… Ä‘á»c (human-readable).
			
			df = disk filesystem (thÃ´ng tin há»‡ thá»‘ng tá»‡p).

			-h = human readable â†’ hiá»ƒn thá»‹ dung lÆ°á»£ng báº±ng Ä‘Æ¡n vá»‹ KB, MB, GB, TB thay vÃ¬ block.	

			KhÃ¡c vá»›i fdisk -l:

				df -h â†’ xem dung lÆ°á»£ng Ä‘ang sá»­ dá»¥ng cá»§a phÃ¢n vÃ¹ng Ä‘Ã£ mount.

				fdisk -l â†’ xem cáº¥u trÃºc phÃ¢n vÃ¹ng cá»§a á»• Ä‘Ä©a (dÃ¹ chÆ°a mount).			
		
		- cmd: mount /dev/nvme1n1p1 /var/www/html/images
		
			Ã nghÄ©a:

				mount: gáº¯n (mount) má»™t phÃ¢n vÃ¹ng/á»• Ä‘Ä©a vÃ o má»™t thÆ° má»¥c trÃªn há»‡ thá»‘ng.

				/dev/nvme1n1p1: thiáº¿t bá»‹ váº­t lÃ½/phÃ¢n vÃ¹ng (á»Ÿ Ä‘Ã¢y lÃ  á»• NVMe, partition sá»‘ 1).

				/var/www/html/images: thÆ° má»¥c mount point (nÆ¡i ná»™i dung cá»§a phÃ¢n vÃ¹ng sáº½ xuáº¥t hiá»‡n).
				
			Quy trÃ¬nh hoáº¡t Ä‘á»™ng:

				Sau khi cháº¡y lá»‡nh, toÃ n bá»™ ná»™i dung gá»‘c trong /var/www/html/images (náº¿u cÃ³) sáº½ bá»‹ áº©n
				Ä‘i (khÃ´ng máº¥t, chá»‰ bá»‹ che khuáº¥t) vÃ  Ä‘Æ°á»£c thay tháº¿ bá»Ÿi ná»™i dung cá»§a phÃ¢n vÃ¹ng /dev/nvme1n1p1.

				Khi unmount (umount /var/www/html/images), dá»¯ liá»‡u gá»‘c trong thÆ° má»¥c láº¡i hiá»‡n ra.
				
			CÃ¡c lÆ°u Ã½:
			
				ThÆ° má»¥c mount point pháº£i tá»“n táº¡i trÆ°á»›c

				Thiáº¿t bá»‹ pháº£i cÃ³ há»‡ thá»‘ng tá»‡p (filesystem) há»£p lá»‡ (ext4, xfs, vfat...).

				Náº¿u muá»‘n mount tá»± Ä‘á»™ng khi khá»Ÿi Ä‘á»™ng láº¡i, cáº§n chá»‰nh file /etc/fstab.
				
		- cmd: mount -a
		
			Ã nghÄ©a:

				mount: gáº¯n (mount) phÃ¢n vÃ¹ng/thiáº¿t bá»‹ vÃ o há»‡ thá»‘ng.

				-a (all): mount táº¥t cáº£ cÃ¡c má»¥c Ä‘Æ°á»£c khai bÃ¡o trong file cáº¥u
				hÃ¬nh /etc/fstab (ngoáº¡i trá»« nhá»¯ng dÃ²ng cÃ³ option noauto).
				
			Khi nÃ o dÃ¹ng:

				Sau khi báº¡n chá»‰nh sá»­a file /etc/fstab Ä‘á»ƒ thÃªm má»›i phÃ¢n vÃ¹ng cáº§n mount tá»±
				Ä‘á»™ng khi khá»Ÿi Ä‘á»™ng láº¡i.

				Thay vÃ¬ pháº£i reboot, báº¡n cÃ³ thá»ƒ cháº¡y mount -a Ä‘á»ƒ kiá»ƒm tra ngay.

		- cmd: umount /var/www/html/images
		
			Ã nghÄ©a:

				umount (khÃ´ng cÃ³ chá»¯ n á»Ÿ Ä‘áº§u) dÃ¹ng Ä‘á»ƒ thÃ¡o (unmount) má»™t phÃ¢n vÃ¹ng khá»i há»‡ thá»‘ng.

				/var/www/html/images lÃ  mount point mÃ  trÆ°á»›c Ä‘Ã³ báº¡n Ä‘Ã£ mount thiáº¿t bá»‹ vÃ o.
				
			Káº¿t quáº£ khi cháº¡y:

				Sau khi umount, dá»¯ liá»‡u trÃªn phÃ¢n vÃ¹ng /dev/nvme1n1p1 sáº½ khÃ´ng cÃ²n xuáº¥t
				hiá»‡n á»Ÿ /var/www/html/images.

				Ná»™i dung gá»‘c cá»§a thÆ° má»¥c /var/www/html/images (náº¿u cÃ³ trÆ°á»›c Ä‘Ã³) sáº½ hiá»‡n ra láº¡i.
		
		- cmd: vi /etc/fstab
		
Lá»†NH: vi /etc/fstab
====================

1. Má»¤C ÄÃCH
----------
Lá»‡nh `vi /etc/fstab` dÃ¹ng Ä‘á»ƒ má»Ÿ vÃ  chá»‰nh sá»­a file cáº¥u hÃ¬nh `/etc/fstab`
báº±ng trÃ¬nh soáº¡n tháº£o `vi`.

File `/etc/fstab` (File Systems Table) chá»©a danh sÃ¡ch cÃ¡c filesystem
sáº½ Ä‘Æ°á»£c há»‡ thá»‘ng tá»± Ä‘á»™ng mount khi khá»Ÿi Ä‘á»™ng hoáº·c khi cháº¡y lá»‡nh `mount -a`.


2. Cáº¤U TRÃšC Lá»†NH
---------------
vi /etc/fstab

Giáº£i thÃ­ch:
- `vi`        : TrÃ¬nh soáº¡n tháº£o vÄƒn báº£n cháº¡y trong terminal.
- `/etc/fstab`: File cáº¥u hÃ¬nh há»‡ thá»‘ng, yÃªu cáº§u quyá»n root Ä‘á»ƒ chá»‰nh sá»­a.


3. QUYá»€N TRUY Cáº¬P
----------------
- File `/etc/fstab` thuá»™c quyá»n quáº£n trá»‹ há»‡ thá»‘ng.
- ThÃ´ng thÆ°á»ng cáº§n dÃ¹ng:
  sudo vi /etc/fstab

Náº¿u má»Ÿ báº±ng user thÆ°á»ng:
- CÃ³ thá»ƒ xem
- KhÃ´ng lÆ°u Ä‘Æ°á»£c thay Ä‘á»•i


4. Ná»˜I DUNG FILE /etc/fstab
---------------------------
Má»—i dÃ²ng Ä‘áº¡i diá»‡n cho 1 filesystem.

Cáº¥u trÃºc 1 dÃ²ng chuáº©n gá»“m 6 cá»™t:

<device>   <mount_point>   <filesystem_type>   <options>   <dump>   <pass>


5. GIáº¢I THÃCH CHI TIáº¾T Tá»ªNG Cá»˜T
------------------------------

Cá»˜T 1: DEVICE (Thiáº¿t bá»‹)
------------------------
XÃ¡c Ä‘á»‹nh phÃ¢n vÃ¹ng hoáº·c thiáº¿t bá»‹ cáº§n mount.

CÃ³ thá»ƒ lÃ :
- /dev/sda1
- UUID=xxxx-xxxx-xxxx
- LABEL=DATA
- network share (NFS, CIFS)

VÃ­ dá»¥:
UUID=1234-ABCD


Cá»˜T 2: MOUNT_POINT (ThÆ° má»¥c mount)
----------------------------------
ThÆ° má»¥c nÆ¡i filesystem Ä‘Æ°á»£c gáº¯n vÃ o.

VÃ­ dá»¥:
- /
- /boot
- /home
- /data

LÆ°u Ã½:
- ThÆ° má»¥c pháº£i tá»“n táº¡i trÆ°á»›c khi mount


Cá»˜T 3: FILESYSTEM_TYPE (Loáº¡i filesystem)
-----------------------------------------
XÃ¡c Ä‘á»‹nh loáº¡i filesystem.

VÃ­ dá»¥ phá»• biáº¿n:
- ext4
- xfs
- vfat
- ntfs
- nfs
- cifs
- swap


Cá»˜T 4: OPTIONS (TÃ¹y chá»n mount)
--------------------------------
CÃ¡c tÃ¹y chá»n mount, phÃ¢n cÃ¡ch báº±ng dáº¥u pháº©y.

Má»™t sá»‘ option thÆ°á»ng dÃ¹ng:
- defaults  : rw, suid, dev, exec, auto, nouser, async
- rw        : cho phÃ©p Ä‘á»c/ghi
- ro        : chá»‰ Ä‘á»c
- noatime   : khÃ´ng ghi access time
- nodiratime: khÃ´ng ghi access time cho thÆ° má»¥c
- nofail    : khÃ´ng lá»—i khi thiáº¿t bá»‹ khÃ´ng tá»“n táº¡i
- _netdev   : mount sau khi cÃ³ network
- user      : cho phÃ©p user thÆ°á»ng mount
- auto      : tá»± mount khi boot
- noauto    : khÃ´ng tá»± mount

VÃ­ dá»¥:
defaults,noatime,nofail


Cá»˜T 5: DUMP
-----------
XÃ¡c Ä‘á»‹nh cÃ³ backup báº±ng lá»‡nh `dump` hay khÃ´ng.

GiÃ¡ trá»‹:
- 0 : khÃ´ng backup
- 1 : cÃ³ backup (Ã­t dÃ¹ng hiá»‡n nay)

ThÆ°á»ng Ä‘á»ƒ:
0


Cá»˜T 6: PASS
-----------
XÃ¡c Ä‘á»‹nh thá»© tá»± kiá»ƒm tra filesystem khi boot (fsck).

GiÃ¡ trá»‹:
- 0 : khÃ´ng kiá»ƒm tra
- 1 : kiá»ƒm tra Ä‘áº§u tiÃªn (thÆ°á»ng cho /)
- 2 : kiá»ƒm tra sau (/home, /data)

VÃ­ dá»¥:
1 hoáº·c 2


6. VÃ Dá»¤ THá»°C Táº¾
----------------

Mount root:
UUID=aaaa-bbbb-cccc  /      ext4  defaults  1  1

Mount home:
UUID=dddd-eeee-ffff  /home  ext4  defaults  0  2

Mount data:
UUID=1111-2222-3333  /data  xfs   defaults,noatime,nofail  0  0

Swap:
UUID=swap-uuid  none  swap  sw  0  0


7. CÃCH CHá»ˆNH Sá»¬A Báº°NG VI
------------------------

Má»Ÿ file:
sudo vi /etc/fstab

CÃ¡c phÃ­m quan trá»ng trong vi:
- i        : vÃ o cháº¿ Ä‘á»™ INSERT (chá»‰nh sá»­a)
- ESC      : thoÃ¡t cháº¿ Ä‘á»™ INSERT
- :w       : lÆ°u file
- :q       : thoÃ¡t
- :wq      : lÆ°u vÃ  thoÃ¡t
- :q!      : thoÃ¡t khÃ´ng lÆ°u


8. KIá»‚M TRA SAU KHI CHá»ˆNH Sá»¬A
----------------------------

Sau khi lÆ°u file, KHÃ”NG reboot ngay.

Cháº¡y:
mount -a

Ã nghÄ©a:
- Mount toÃ n bá»™ filesystem trong /etc/fstab
- Náº¿u cÃ³ lá»—i, há»‡ thá»‘ng sáº½ bÃ¡o ngay


9. Rá»¦I RO VÃ€ LÆ¯U Ã QUAN TRá»ŒNG
----------------------------

- Sai cÃº phÃ¡p cÃ³ thá»ƒ khiáº¿n há»‡ thá»‘ng KHÃ”NG BOOT ÄÆ¯á»¢C
- LuÃ´n backup trÆ°á»›c khi sá»­a:
  cp /etc/fstab /etc/fstab.bak

- Æ¯u tiÃªn dÃ¹ng UUID thay vÃ¬ /dev/sdX
- Vá»›i disk ngoÃ i hoáº·c network:
  dÃ¹ng nofail hoáº·c _netdev


10. TÃ“M Táº®T
-----------

- `vi /etc/fstab` dÃ¹ng Ä‘á»ƒ chá»‰nh sá»­a báº£ng mount filesystem
- File nÃ y quyáº¿t Ä‘á»‹nh mount khi boot
- Má»—i dÃ²ng cÃ³ 6 cá»™t báº¯t buá»™c
- Sai 1 dáº¥u cÃ¡ch cÅ©ng cÃ³ thá»ƒ gÃ¢y lá»—i há»‡ thá»‘ng
- LuÃ´n test báº±ng `mount -a` trÆ°á»›c khi reboot
		
		
		- cmd: systemctl daemon-reload
		
Lá»†NH: systemctl daemon-reload
==============================================

1. systemctl lÃ  gÃ¬?
----------------------------------------------
- systemctl lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh dÃ¹ng Ä‘á»ƒ:
  + Quáº£n lÃ½ systemd
  + Quáº£n lÃ½ service (dá»‹ch vá»¥), socket, timer, targetâ€¦
- systemd lÃ  há»‡ thá»‘ng init máº·c Ä‘á»‹nh trÃªn háº§u háº¿t Linux hiá»‡n Ä‘áº¡i:
  + Ubuntu
  + CentOS / RHEL
  + Amazon Linux
  + Debian
  + Arch Linux

----------------------------------------------

2. daemon-reload nghÄ©a lÃ  gÃ¬?
----------------------------------------------
- daemon-reload yÃªu cáº§u systemd:
  + Äá»c láº¡i TOÃ€N Bá»˜ file unit
  + Cáº­p nháº­t cáº¥u hÃ¬nh dá»‹ch vá»¥ má»›i
  + KHÃ”NG khá»Ÿi Ä‘á»™ng láº¡i service Ä‘ang cháº¡y

NÃ³i ngáº¯n gá»n:
â†’ systemd "refresh láº¡i bá»™ nhá»› cáº¥u hÃ¬nh"

----------------------------------------------

3. systemd Ä‘á»c láº¡i nhá»¯ng file nÃ o?
----------------------------------------------
Lá»‡nh nÃ y sáº½ load láº¡i cÃ¡c file unit trong:
- /etc/systemd/system/
- /lib/systemd/system/
- /usr/lib/systemd/system/

Bao gá»“m cÃ¡c loáº¡i unit:
- *.service   (dá»‹ch vá»¥)
- *.socket    (socket)
- *.timer     (lá»‹ch cháº¡y)
- *.target    (group service)
- *.mount     (mount point)

----------------------------------------------

4. Khi nÃ o Báº®T BUá»˜C pháº£i cháº¡y systemctl daemon-reload?
----------------------------------------------
Báº¡n PHáº¢I cháº¡y lá»‡nh nÃ y khi:

1) Táº¡o file service má»›i
   VÃ­ dá»¥:
   /etc/systemd/system/myapp.service

2) Sá»­a ná»™i dung file service
   VÃ­ dá»¥:
   - ExecStart
   - Environment
   - User
   - Restart

3) XÃ³a file service
4) Thay Ä‘á»•i symbolic link cá»§a service
5) Copy service tá»« mÃ¡y khÃ¡c sang

----------------------------------------------

5. Khi nÃ o KHÃ”NG cáº§n cháº¡y daemon-reload?
----------------------------------------------
KHÃ”NG cáº§n khi:
- Chá»‰ restart service
- Chá»‰ stop / start service
- Chá»‰ enable / disable service
- Chá»‰ thay Ä‘á»•i file config cá»§a á»©ng dá»¥ng
  (vÃ­ dá»¥: nginx.conf, application.yml)

----------------------------------------------

6. daemon-reload CÃ“ restart service khÃ´ng?
----------------------------------------------
- KHÃ”NG
- Service Ä‘ang cháº¡y sáº½ tiáº¿p tá»¥c cháº¡y
- Cáº¥u hÃ¬nh má»›i CHÆ¯A Ã¡p dá»¥ng cho service Ä‘ang cháº¡y

Muá»‘n Ã¡p dá»¥ng cáº¥u hÃ¬nh má»›i:
â†’ Báº®T BUá»˜C pháº£i restart service

----------------------------------------------

7. So sÃ¡nh daemon-reload vs restart
----------------------------------------------
daemon-reload:
- Load láº¡i cáº¥u hÃ¬nh systemd
- KhÃ´ng áº£nh hÆ°á»Ÿng service Ä‘ang cháº¡y

restart:
- Stop service
- Start láº¡i service
- Ãp dá»¥ng cáº¥u hÃ¬nh má»›i

----------------------------------------------

8. Quy trÃ¬nh chuáº©n khi sá»­a file service
----------------------------------------------
BÆ°á»›c 1:
sudo vi /etc/systemd/system/myapp.service

BÆ°á»›c 2:
sudo systemctl daemon-reload

BÆ°á»›c 3:
sudo systemctl restart myapp

----------------------------------------------

9. VÃ­ dá»¥ thá»±c táº¿
----------------------------------------------
VÃ­ dá»¥ sá»­a ExecStart trong file service:

TrÆ°á»›c:
ExecStart=/usr/bin/java -jar app-v1.jar

Sau:
ExecStart=/usr/bin/java -jar app-v2.jar

Náº¿u KHÃ”NG cháº¡y daemon-reload:
â†’ systemd váº«n dÃ¹ng app-v1.jar

----------------------------------------------

10. CÃ¡ch kiá»ƒm tra systemd Ä‘Ã£ load config má»›i chÆ°a
----------------------------------------------
systemctl cat myapp.service

----------------------------------------------

11. Lá»—i thÆ°á»ng gáº·p náº¿u quÃªn daemon-reload
----------------------------------------------
- Restart service nhÆ°ng cáº¥u hÃ¬nh khÃ´ng Ä‘á»•i
- Service váº«n cháº¡y lá»‡nh cÅ©
- Debug mÃ£i khÃ´ng hiá»ƒu vÃ¬ sao khÃ´ng Äƒn config má»›i

----------------------------------------------

12. TÃ³m táº¯t 1 dÃ²ng
----------------------------------------------
systemctl daemon-reload = 
Báº®T systemd Ä‘á»c láº¡i toÃ n bá»™ file service má»›i hoáº·c Ä‘Ã£ sá»­a
		
		
		- cmd: fdisk /dev/nvme1n1
		
			ThÆ° má»¥c sáº½ Ä‘Æ°á»£c láº¥y theo lá»‡nh giÃ¡ trá»‹ cá»§a Disk theo lá»‡nh sau:
			
				[ec2-user@ip-172-31-16-206 ~]$ fdisk -l
				fdisk: cannot open /dev/nvme0n1: Permission denied
				fdisk: cannot open /dev/nvme1n1: Permission denied
				[ec2-user@ip-172-31-16-206 ~]$ sudo -i
				[root@ip-172-31-16-206 ~]# fdisk -l
				Disk /dev/nvme0n1: 8 GiB, 8589934592 bytes, 16777216 sectors
				Disk model: Amazon Elastic Block Store
				Units: sectors of 1 * 512 = 512 bytes
				Sector size (logical/physical): 512 bytes / 512 bytes
				I/O size (minimum/optimal): 4096 bytes / 4096 bytes
				Disklabel type: gpt
				Disk identifier: 7129DF59-1D55-477D-A6E9-19E29F26FE4F

				Device           Start      End  Sectors  Size Type
				/dev/nvme0n1p1    2048     6143     4096    2M BIOS boot
				/dev/nvme0n1p2    6144  1030143  1024000  500M EFI System
				/dev/nvme0n1p3 1030144  3078143  2048000 1000M Linux extended boot
				/dev/nvme0n1p4 3078144 16777182 13699039  6.5G Linux root (x86-64)


				Disk /dev/nvme1n1: 5 GiB, 5368709120 bytes, 10485760 sectors
				Disk model: Amazon Elastic Block Store
				Units: sectors of 1 * 512 = 512 bytes
				Sector size (logical/physical): 512 bytes / 512 bytes
				I/O size (minimum/optimal): 4096 bytes / 4096 bytes
				
			Ã nghÄ©a

				fdisk: cÃ´ng cá»¥ quáº£n lÃ½ phÃ¢n vÃ¹ng (partition) trÃªn á»• Ä‘Ä©a.

				/dev/nvme1n1: thiáº¿t bá»‹ NVMe (á»• Ä‘Ä©a váº­t lÃ½, chÆ°a chá»n phÃ¢n vÃ¹ng cá»¥ thá»ƒ).

				Khi cháº¡y lá»‡nh nÃ y, báº¡n sáº½ má»Ÿ trÃ¬nh tÆ°Æ¡ng tÃ¡c (interactive mode) Ä‘á»ƒ thao tÃ¡c vá»›i báº£ng phÃ¢n
				vÃ¹ng cá»§a á»• Ä‘Ä©a Ä‘Ã³.
				
			Lá»‡nh con	Chá»©c nÄƒng
			m			Hiá»ƒn thá»‹ menu trá»£ giÃºp (help).
			p			In (print) báº£ng phÃ¢n vÃ¹ng hiá»‡n táº¡i.
			n			Táº¡o (new) phÃ¢n vÃ¹ng má»›i.
			d			XÃ³a (delete) má»™t phÃ¢n vÃ¹ng.
			t			Thay Ä‘á»•i loáº¡i phÃ¢n vÃ¹ng (partition type).
			w			LÆ°u thay Ä‘á»•i (write) xuá»‘ng Ä‘Ä©a vÃ  thoÃ¡t.
			q			ThoÃ¡t mÃ  khÃ´ng lÆ°u gÃ¬ (quit).
				
			LÆ°u Ã½ quan trá»ng

				Ráº¥t nguy hiá»ƒm: náº¿u báº¡n d (xÃ³a) rá»“i w, dá»¯ liá»‡u sáº½ máº¥t.
				
		- cmd: lsof /var/www/html/images
		
			Ã nghÄ©a

				lsof = list open files â†’ liá»‡t kÃª táº¥t cáº£ file Ä‘ang Ä‘Æ°á»£c má»Ÿ trÃªn há»‡ thá»‘ng.

				/var/www/html/images = Ä‘Æ°á»ng dáº«n báº¡n muá»‘n kiá»ƒm tra.

			Khi cháº¡y, nÃ³ sáº½ hiá»ƒn thá»‹ cÃ¡c process (tiáº¿n trÃ¬nh) nÃ o Ä‘ang dÃ¹ng thÆ° má»¥c hoáº·c file trong thÆ° má»¥c nÃ y.		
		
		- cmd: yum install lsof -y
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH: yum install lsof -y
==========================================

1. Tá»”NG QUAN
------------
Lá»‡nh:
    yum install lsof -y

ÄÆ°á»£c sá»­ dá»¥ng trÃªn cÃ¡c há»‡ Ä‘iá»u hÃ nh Linux thuá»™c há» Red Hat nhÆ°:
- CentOS
- RHEL (Red Hat Enterprise Linux)
- Oracle Linux
- Amazon Linux (báº£n cÅ© dÃ¹ng yum)

Má»¥c Ä‘Ã­ch:
- CÃ i Ä‘áº·t cÃ´ng cá»¥ "lsof" vÃ o há»‡ thá»‘ng
- Thá»±c hiá»‡n cÃ i Ä‘áº·t tá»± Ä‘á»™ng, khÃ´ng cáº§n xÃ¡c nháº­n thá»§ cÃ´ng


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

2.1. yum
--------
- yum (Yellowdog Updater, Modified) lÃ  trÃ¬nh quáº£n lÃ½ gÃ³i (package manager)
- DÃ¹ng Ä‘á»ƒ:
  + CÃ i Ä‘áº·t pháº§n má»m
  + Cáº­p nháº­t pháº§n má»m
  + Gá»¡ bá» pháº§n má»m
  + Quáº£n lÃ½ cÃ¡c gÃ³i tá»« repository

- yum sáº½:
  + Kiá»ƒm tra repository Ä‘Ã£ cáº¥u hÃ¬nh
  + Táº£i gÃ³i cáº§n thiáº¿t
  + Tá»± Ä‘á»™ng xá»­ lÃ½ cÃ¡c dependency (phá»¥ thuá»™c)


2.2. install
------------
- install lÃ  hÃ nh Ä‘á»™ng yÃªu cáº§u yum:
  + CÃ i Ä‘áº·t má»™t hoáº·c nhiá»u gÃ³i pháº§n má»m má»›i
  + Náº¿u gÃ³i Ä‘Ã£ tá»“n táº¡i, yum sáº½ bá» qua hoáº·c cáº­p nháº­t náº¿u cáº§n

CÃº phÃ¡p chung:
    yum install <package_name>


2.3. lsof
---------
- lsof lÃ  viáº¿t táº¯t cá»§a: "List Open Files"
- DÃ¹ng Ä‘á»ƒ liá»‡t kÃª táº¥t cáº£ cÃ¡c file Ä‘ang Ä‘Æ°á»£c má»Ÿ bá»Ÿi há»‡ thá»‘ng

Trong Linux:
- Má»i thá»© Ä‘á»u Ä‘Æ°á»£c xem lÃ  file, bao gá»“m:
  + File thÃ´ng thÆ°á»ng
  + ThÆ° má»¥c
  + Socket máº¡ng
  + Port TCP/UDP
  + Thiáº¿t bá»‹ (device)

CÃ´ng dá»¥ng chÃ­nh cá»§a lsof:
- Kiá»ƒm tra tiáº¿n trÃ¬nh (process) nÃ o Ä‘ang:
  + Má»Ÿ file cá»¥ thá»ƒ
  + Sá»­ dá»¥ng cá»•ng máº¡ng (port)
  + Giá»¯ file khiáº¿n khÃ´ng thá»ƒ unmount hoáº·c xÃ³a

VÃ­ dá»¥ sá»­ dá»¥ng sau khi cÃ i:
    lsof
    lsof -i :80
    lsof /path/to/file
    lsof -u username
    lsof -p PID


2.4. -y
-------
- -y lÃ  viáº¿t táº¯t cá»§a "yes"
- Tá»± Ä‘á»™ng tráº£ lá»i "yes" cho táº¥t cáº£ cÃ¢u há»i xÃ¡c nháº­n

Náº¿u khÃ´ng cÃ³ -y:
- yum sáº½ há»i:
    Is this ok [y/N]:

Khi cÃ³ -y:
- Lá»‡nh cháº¡y khÃ´ng cáº§n tÆ°Æ¡ng tÃ¡c
- PhÃ¹ há»£p cho:
  + Script tá»± Ä‘á»™ng
  + CÃ i Ä‘áº·t hÃ ng loáº¡t
  + Triá»ƒn khai server


3. QUY TRÃŒNH HOáº T Äá»˜NG Cá»¦A Lá»†NH
------------------------------
Khi cháº¡y:
    yum install lsof -y

Há»‡ thá»‘ng sáº½ thá»±c hiá»‡n:
1. Kiá»ƒm tra quyá»n ngÆ°á»i dÃ¹ng
   - ThÆ°á»ng cáº§n quyá»n root hoáº·c sudo
2. Káº¿t ná»‘i tá»›i cÃ¡c repository
3. TÃ¬m gÃ³i lsof
4. Kiá»ƒm tra cÃ¡c dependency
5. Táº£i gÃ³i lsof
6. CÃ i Ä‘áº·t lsof vÃ o há»‡ thá»‘ng
7. HoÃ n táº¥t mÃ  khÃ´ng cáº§n há»i xÃ¡c nháº­n


4. YÃŠU Cáº¦U QUYá»€N Háº N
--------------------
- Lá»‡nh thÆ°á»ng cáº§n quyá»n root

CÃ¡ch cháº¡y Ä‘Ãºng:
    sudo yum install lsof -y
hoáº·c
    su -
    yum install lsof -y


5. KIá»‚M TRA SAU KHI CÃ€I Äáº¶T
--------------------------
Kiá»ƒm tra lsof Ä‘Ã£ cÃ i chÆ°a:
    lsof -v

Hoáº·c:
    which lsof
    rpm -qa | grep lsof


6. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------

6.1. yum: command not found
---------------------------
NguyÃªn nhÃ¢n:
- Há»‡ Ä‘iá»u hÃ nh má»›i (CentOS Stream 9, RHEL 9) dÃ¹ng dnf

CÃ¡ch xá»­ lÃ½:
    dnf install lsof -y


6.2. Cannot find a valid baseurl
--------------------------------
NguyÃªn nhÃ¢n:
- Repository chÆ°a cáº¥u hÃ¬nh
- Server khÃ´ng cÃ³ Internet

CÃ¡ch xá»­ lÃ½:
- Kiá»ƒm tra file repo trong /etc/yum.repos.d/
- Kiá»ƒm tra káº¿t ná»‘i máº¡ng


7. TÃ“M Táº®T
----------
- yum install lsof -y dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t cÃ´ng cá»¥ lsof
- -y giÃºp tá»± Ä‘á»™ng xÃ¡c nháº­n
- lsof ráº¥t quan trá»ng trong viá»‡c debug:
  + Port Ä‘ang bá»‹ chiáº¿m
  + File khÃ´ng xÃ³a Ä‘Æ°á»£c
  + Process treo

Káº¾T LUáº¬N:
---------
ÄÃ¢y lÃ  lá»‡nh cÃ i Ä‘áº·t nhanh, gá»n, phÃ¹ há»£p cho quáº£n trá»‹ há»‡ thá»‘ng vÃ  script tá»± Ä‘á»™ng.
		
		
		- cmd: yum install mariadb-server -y
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
yum install mariadb-server -y
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t MariaDB Server trÃªn cÃ¡c há»‡ Ä‘iá»u hÃ nh Linux
sá»­ dá»¥ng trÃ¬nh quáº£n lÃ½ gÃ³i YUM (CentOS, RHEL, Amazon Linux, Rocky Linux, AlmaLinux).

MariaDB lÃ  há»‡ quáº£n trá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u quan há»‡ (RDBMS),
tÆ°Æ¡ng thÃ­ch cao vá»›i MySQL vÃ  thÆ°á»ng Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ thay tháº¿ MySQL.

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. yum
--------------------------------------------------
- yum (Yellowdog Updater Modified)
- TrÃ¬nh quáº£n lÃ½ gÃ³i cá»§a cÃ¡c há»‡ Ä‘iá»u hÃ nh Linux dá»±a trÃªn RPM
- Chá»©c nÄƒng:
  + CÃ i Ä‘áº·t pháº§n má»m
  + Gá»¡ bá» pháº§n má»m
  + Cáº­p nháº­t há»‡ thá»‘ng
  + Tá»± Ä‘á»™ng xá»­ lÃ½ phá»¥ thuá»™c (dependencies)

--------------------------------------------------
2.2. install
--------------------------------------------------
- HÃ nh Ä‘á»™ng cá»§a yum
- DÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t má»™t hoáº·c nhiá»u gÃ³i pháº§n má»m

CÃº phÃ¡p chung:
yum install <tÃªn_gÃ³i>

--------------------------------------------------
2.3. mariadb-server
--------------------------------------------------
- TÃªn gÃ³i pháº§n má»m cáº§n cÃ i Ä‘áº·t
- Chá»©a:
  + MariaDB Server (mysqld)
  + CÃ¡c file cáº¥u hÃ¬nh máº·c Ä‘á»‹nh
  + Service systemd (mariadb.service)

Sau khi cÃ i Ä‘áº·t, há»‡ thá»‘ng sáº½ cÃ³:
- Tiáº¿n trÃ¬nh server: mysqld
- ThÆ° má»¥c dá»¯ liá»‡u máº·c Ä‘á»‹nh: /var/lib/mysql
- File cáº¥u hÃ¬nh chÃ­nh: /etc/my.cnf

--------------------------------------------------
2.4. -y
--------------------------------------------------
- Viáº¿t táº¯t cá»§a "yes"
- Tá»± Ä‘á»™ng tráº£ lá»i "yes" cho táº¥t cáº£ cÃ¢u há»i xÃ¡c nháº­n

Náº¿u KHÃ”NG cÃ³ -y:
- yum sáº½ há»i:
  Is this ok [y/N]:

Khi cÃ³ -y:
- Lá»‡nh cháº¡y hoÃ n toÃ n tá»± Ä‘á»™ng
- Ráº¥t phÃ¹ há»£p cho:
  + Script
  + Automation
  + CI/CD
  + CÃ i Ä‘áº·t hÃ ng loáº¡t

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
Khi cháº¡y:
yum install mariadb-server -y

Há»‡ thá»‘ng sáº½ thá»±c hiá»‡n:
1. Kiá»ƒm tra repository kháº£ dá»¥ng
2. TÃ¬m gÃ³i mariadb-server
3. TÃ¬m vÃ  cÃ i Ä‘áº·t cÃ¡c gÃ³i phá»¥ thuá»™c:
   - mariadb
   - mariadb-libs
   - mariadb-common
4. Táº£i cÃ¡c gÃ³i cáº§n thiáº¿t
5. CÃ i Ä‘áº·t MariaDB Server
6. HoÃ n táº¥t mÃ  khÃ´ng cáº§n ngÆ°á»i dÃ¹ng xÃ¡c nháº­n

--------------------------------------------------
4. TRáº NG THÃI SAU KHI CÃ€I Äáº¶T
--------------------------------------------------
- MariaDB CHÆ¯A tá»± Ä‘á»™ng cháº¡y sau khi cÃ i
- Cáº§n khá»Ÿi Ä‘á»™ng thá»§ cÃ´ng

CÃ¡c lá»‡nh thÆ°á»ng dÃ¹ng:
--------------------------------------------------
Khá»Ÿi Ä‘á»™ng MariaDB:
systemctl start mariadb

Cho phÃ©p tá»± Ä‘á»™ng cháº¡y khi boot:
systemctl enable mariadb

Kiá»ƒm tra tráº¡ng thÃ¡i:
systemctl status mariadb

--------------------------------------------------
5. KIá»‚M TRA CÃ€I Äáº¶T
--------------------------------------------------
Kiá»ƒm tra phiÃªn báº£n:
mysql --version

ÄÄƒng nháº­p vÃ o MariaDB:
mysql -u root

--------------------------------------------------
6. THIáº¾T Láº¬P Báº¢O Máº¬T BAN Äáº¦U (QUAN TRá»ŒNG)
--------------------------------------------------
Sau khi cÃ i Ä‘áº·t, cáº§n cháº¡y:
mysql_secure_installation

Lá»‡nh nÃ y giÃºp:
- Äáº·t máº­t kháº©u cho user root
- XÃ³a user anonymous
- VÃ´ hiá»‡u Ä‘Äƒng nháº­p root tá»« xa
- XÃ³a database test
- TÄƒng báº£o máº­t há»‡ thá»‘ng

--------------------------------------------------
7. CÃC FILE & THÆ¯ Má»¤C QUAN TRá»ŒNG
--------------------------------------------------
- /etc/my.cnf            : File cáº¥u hÃ¬nh chÃ­nh
- /var/lib/mysql         : ThÆ° má»¥c chá»©a dá»¯ liá»‡u database
- /var/log/mariadb/      : Log cá»§a MariaDB
- /usr/bin/mysql         : Client mysql
- /usr/lib/systemd/system/mariadb.service : File service

--------------------------------------------------
8. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- MariaDB tiÃªu thá»¥ RAM vÃ  CPU
- KhÃ´ng cÃ i trÃªn mÃ¡y cÃ³ tÃ i nguyÃªn tháº¥p náº¿u khÃ´ng cáº§n thiáº¿t
- KhÃ´ng expose cá»•ng 3306 ra Internet náº¿u chÆ°a cáº¥u hÃ¬nh báº£o máº­t
- NÃªn cáº¥u hÃ¬nh firewall vÃ  user phÃ¢n quyá»n rÃµ rÃ ng

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
yum install mariadb-server -y
= CÃ i Ä‘áº·t MariaDB Server
= Tá»± Ä‘á»™ng xá»­ lÃ½ phá»¥ thuá»™c
= KhÃ´ng cáº§n xÃ¡c nháº­n thá»§ cÃ´ng
= PhÃ¹ há»£p cho automation vÃ  script
==================================================
		
		
		- cmd: systemctl start mariadb
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
systemctl start mariadb

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Khá»Ÿi Ä‘á»™ng (start) dá»‹ch vá»¥ MariaDB
- Cho MariaDB báº¯t Ä‘áº§u cháº¡y dÆ°á»›i sá»± quáº£n lÃ½ cá»§a systemd
- Ãp dá»¥ng trÃªn cÃ¡c há»‡ Linux dÃ¹ng systemd (CentOS, RHEL, Rocky, Alma, Ubuntu, Debian...)

MariaDB lÃ :
- Há»‡ quáº£n trá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u quan há»‡ (RDBMS)
- TÆ°Æ¡ng thÃ­ch cao vá»›i MySQL
- ThÆ°á»ng dÃ¹ng cho web server, application server

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. systemctl
--------------------------------------------------
systemctl lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ:
- Quáº£n lÃ½ service
- Quáº£n lÃ½ unit
- Äiá»u khiá»ƒn systemd

CÃ¡c thao tÃ¡c chÃ­nh:
- start   : khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥
- stop    : dá»«ng dá»‹ch vá»¥
- restart : khá»Ÿi Ä‘á»™ng láº¡i
- reload  : reload cáº¥u hÃ¬nh
- status  : xem tráº¡ng thÃ¡i

--------------------------------------------------
2.2. start
--------------------------------------------------
start lÃ  hÃ nh Ä‘á»™ng:
- YÃªu cáº§u systemd khá»Ÿi Ä‘á»™ng service
- Cháº¡y service ngay láº­p tá»©c

Äáº·c Ä‘iá»ƒm:
- KHÃ”NG tá»± Ä‘á»™ng báº­t khi reboot
- Chá»‰ cÃ³ hiá»‡u lá»±c cho phiÃªn cháº¡y hiá»‡n táº¡i

--------------------------------------------------
2.3. mariadb
--------------------------------------------------
mariadb lÃ :
- TÃªn service (unit name)
- TÆ°Æ¡ng á»©ng vá»›i file service:
  /usr/lib/systemd/system/mariadb.service
  (hoáº·c /lib/systemd/system/mariadb.service)

Service nÃ y:
- Khá»Ÿi Ä‘á»™ng tiáº¿n trÃ¬nh mysqld (MariaDB server)
- Má»Ÿ cá»•ng máº·c Ä‘á»‹nh 3306
- Náº¡p cÃ¡c file cáº¥u hÃ¬nh cá»§a MariaDB

--------------------------------------------------
3. CÃCH HOáº T Äá»˜NG KHI CHáº Y Lá»†NH
--------------------------------------------------
TrÃ¬nh tá»± thá»±c hiá»‡n:

1. systemctl gá»­i yÃªu cáº§u start tá»›i systemd
2. systemd kiá»ƒm tra file mariadb.service
3. systemd kiá»ƒm tra cÃ¡c dependency liÃªn quan
4. systemd cháº¡y tiáº¿n trÃ¬nh mysqld
5. MariaDB Ä‘á»c cáº¥u hÃ¬nh
6. MariaDB khá»Ÿi táº¡o socket, port, data directory
7. Service chuyá»ƒn sang tráº¡ng thÃ¡i "active (running)"

--------------------------------------------------
4. FILE Cáº¤U HÃŒNH LIÃŠN QUAN
--------------------------------------------------
CÃ¡c file cáº¥u hÃ¬nh MariaDB thÆ°á»ng gáº·p:

- /etc/my.cnf
- /etc/my.cnf.d/*.cnf
- /etc/mysql/my.cnf
- /etc/mysql/mariadb.conf.d/*.cnf

CÃ¡c thÃ nh pháº§n quan trá»ng:
- datadir     : thÆ° má»¥c dá»¯ liá»‡u
- socket      : file socket
- port        : cá»•ng (máº·c Ä‘á»‹nh 3306)
- user        : user cháº¡y service (mysql)

--------------------------------------------------
5. KIá»‚M TRA TRáº NG THÃI SERVICE
--------------------------------------------------
Sau khi start, kiá»ƒm tra báº±ng:

systemctl status mariadb

Tráº¡ng thÃ¡i mong muá»‘n:
- Active: active (running)

--------------------------------------------------
6. TRÆ¯á»œNG Há»¢P Lá»†NH KHÃ”NG CHáº Y ÄÆ¯á»¢C
--------------------------------------------------

6.1. Service chÆ°a Ä‘Æ°á»£c cÃ i Ä‘áº·t
--------------------------------------------------
Lá»—i:
Unit mariadb.service not found

CÃ¡ch kiá»ƒm tra:
yum list installed | grep mariadb
hoáº·c
apt list --installed | grep mariadb

--------------------------------------------------
6.2. Port 3306 bá»‹ chiáº¿m
--------------------------------------------------
Lá»—i thÆ°á»ng gáº·p:
- Address already in use

Kiá»ƒm tra:
ss -lntp | grep 3306

--------------------------------------------------
6.3. Lá»—i quyá»n thÆ° má»¥c dá»¯ liá»‡u
--------------------------------------------------
ThÆ°á»ng gáº·p khi:
- Di chuyá»ƒn datadir
- Restore dá»¯ liá»‡u sai quyá»n

Kiá»ƒm tra:
ls -ld /var/lib/mysql

User/Group pháº£i lÃ :
mysql:mysql

--------------------------------------------------
6.4. Cáº¥u hÃ¬nh sai
--------------------------------------------------
Kiá»ƒm tra log:
journalctl -u mariadb -xe

Hoáº·c:
cat /var/log/mariadb/mariadb.log

--------------------------------------------------
7. CÃC Lá»†NH LIÃŠN QUAN THÆ¯á»œNG DÃ™NG
--------------------------------------------------

Dá»«ng MariaDB:
systemctl stop mariadb

Khá»Ÿi Ä‘á»™ng láº¡i:
systemctl restart mariadb

Báº­t tá»± Ä‘á»™ng khi boot:
systemctl enable mariadb

Táº¯t tá»± Ä‘á»™ng khi boot:
systemctl disable mariadb

--------------------------------------------------
8. SO SÃNH START VÃ€ ENABLE
--------------------------------------------------
start:
- Chá»‰ khá»Ÿi Ä‘á»™ng ngay
- KhÃ´ng tá»± cháº¡y khi reboot

enable:
- Thiáº¿t láº­p tá»± cháº¡y khi boot
- KhÃ´ng khá»Ÿi Ä‘á»™ng ngay

Muá»‘n:
- Cháº¡y ngay + tá»± cháº¡y khi boot:
systemctl start mariadb
systemctl enable mariadb

--------------------------------------------------
9. Cáº¢NH BÃO QUAN TRá»ŒNG
--------------------------------------------------
- Náº¿u MariaDB Ä‘ang phá»¥c vá»¥ production:
  + start/restart cÃ³ thá»ƒ gÃ¢y downtime
- KhÃ´ng nÃªn start nhiá»u instance cÃ¹ng lÃºc
- LuÃ´n kiá»ƒm tra log náº¿u start tháº¥t báº¡i

--------------------------------------------------
10. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
systemctl start mariadb

= Khá»Ÿi Ä‘á»™ng MariaDB service
= Cháº¡y mysqld
= Má»Ÿ cá»•ng 3306
= Ãp dá»¥ng cho há»‡ dÃ¹ng systemd
= KhÃ´ng tá»± cháº¡y láº¡i khi reboot
		
		
		- cmd: systemctl status mariadb
		
Lá»†NH: systemctl status mariadb
=============================

1. Má»¤C ÄÃCH
----------
Lá»‡nh `systemctl status mariadb` dÃ¹ng Ä‘á»ƒ kiá»ƒm tra tráº¡ng thÃ¡i hoáº¡t Ä‘á»™ng
cá»§a dá»‹ch vá»¥ MariaDB trÃªn há»‡ thá»‘ng Linux sá»­ dá»¥ng systemd.

Lá»‡nh nÃ y cho biáº¿t:
- Dá»‹ch vá»¥ MariaDB cÃ³ Ä‘ang cháº¡y hay khÃ´ng
- CÃ³ Ä‘Æ°á»£c cáº¥u hÃ¬nh tá»± khá»Ÿi Ä‘á»™ng cÃ¹ng há»‡ thá»‘ng hay khÃ´ng
- ThÃ´ng tin tiáº¿n trÃ¬nh (PID)
- Log lá»—i hoáº·c cáº£nh bÃ¡o gáº§n nháº¥t


2. Cáº¤U TRÃšC Lá»†NH
---------------
systemctl status mariadb

Giáº£i thÃ­ch:
- `systemctl` : CÃ´ng cá»¥ quáº£n lÃ½ dá»‹ch vá»¥ cá»§a systemd
- `status`    : Lá»‡nh con Ä‘á»ƒ xem tráº¡ng thÃ¡i dá»‹ch vá»¥
- `mariadb`   : TÃªn service cá»§a MariaDB


3. QUYá»€N THá»°C THI
----------------
- User thÆ°á»ng: cÃ³ thá»ƒ xem tráº¡ng thÃ¡i
- Root / sudo: xem Ä‘áº§y Ä‘á»§ hÆ¡n (log chi tiáº¿t hÆ¡n)

Khuyáº¿n nghá»‹:
sudo systemctl status mariadb


4. Káº¾T QUáº¢ HIá»‚N THá»Š (VÃ Dá»¤)
--------------------------

â— mariadb.service - MariaDB 10.x database server
   Loaded: loaded (/usr/lib/systemd/system/mariadb.service; enabled; vendor preset: disabled)
   Active: active (running) since Tue 2025-12-16 17:30:21 +07; 10min ago
 Main PID: 1234 (mariadbd)
   Status: "Taking your SQL requests now..."
    Tasks: 27
   Memory: 350.0M
   CGroup: /system.slice/mariadb.service
           â””â”€1234 /usr/sbin/mariadbd


5. GIáº¢I THÃCH CHI TIáº¾T Tá»ªNG DÃ’NG
-------------------------------

DÃ’NG 1:
------
â— mariadb.service - MariaDB 10.x database server
- TÃªn service vÃ  mÃ´ táº£ dá»‹ch vá»¥

DÃ’NG "Loaded":
--------------
Loaded: loaded (/usr/lib/systemd/system/mariadb.service; enabled; vendor preset: disabled)

Giáº£i thÃ­ch:
- loaded            : File service Ä‘Ã£ Ä‘Æ°á»£c load
- path              : ÄÆ°á»ng dáº«n file service
- enabled           : Tá»± khá»Ÿi Ä‘á»™ng khi boot
- disabled          : KhÃ´ng theo vendor preset


DÃ’NG "Active":
--------------
Active: active (running) since Tue 2025-12-16 17:30:21 +07; 10min ago

Giáº£i thÃ­ch:
- active (running)  : Dá»‹ch vá»¥ Ä‘ang cháº¡y
- inactive (dead)   : Dá»‹ch vá»¥ Ä‘ang dá»«ng
- failed            : Dá»‹ch vá»¥ lá»—i
- activating        : Äang khá»Ÿi Ä‘á»™ng
- deactivating      : Äang dá»«ng
- since              : Thá»i Ä‘iá»ƒm báº¯t Ä‘áº§u cháº¡y
- 10min ago         : Thá»i gian Ä‘Ã£ cháº¡y


DÃ’NG "Main PID":
----------------
Main PID: 1234 (mariadbd)

Giáº£i thÃ­ch:
- PID chÃ­nh cá»§a MariaDB
- mariadbd lÃ  tiáº¿n trÃ¬nh server chÃ­nh


DÃ’NG "Status":
--------------
Status: "Taking your SQL requests now..."

Giáº£i thÃ­ch:
- Tráº¡ng thÃ¡i ná»™i bá»™ do MariaDB bÃ¡o cho systemd
- Cho biáº¿t DB sáºµn sÃ ng nháº­n káº¿t ná»‘i


DÃ’NG "Tasks":
-------------
Tasks: 27
- Sá»‘ thread/process MariaDB Ä‘ang cháº¡y


DÃ’NG "Memory":
--------------
Memory: 350.0M
- LÆ°á»£ng RAM MariaDB Ä‘ang sá»­ dá»¥ng


DÃ’NG "CGroup":
--------------
CGroup: /system.slice/mariadb.service
- NhÃ³m cgroup do systemd quáº£n lÃ½
- CÃ¡c tiáº¿n trÃ¬nh con thuá»™c service


6. PHáº¦N LOG á» CUá»I
------------------
CÃ¡c dÃ²ng log má»›i nháº¥t cá»§a MariaDB, vÃ­ dá»¥:

Dec 16 17:31:02 server mariadbd[1234]: Ready for connections.
Dec 16 17:31:02 server mariadbd[1234]: Version: '10.6.x-MariaDB'

Ã nghÄ©a:
- GiÃºp cháº©n Ä‘oÃ¡n lá»—i nhanh
- Hiá»ƒn thá»‹ lá»—i cáº¥u hÃ¬nh, lá»—i port, lá»—i permission, crash


7. CÃC TRáº NG THÃI THÆ¯á»œNG Gáº¶P
---------------------------

active (running) :
- MariaDB Ä‘ang cháº¡y bÃ¬nh thÆ°á»ng

inactive (dead) :
- MariaDB Ä‘ang dá»«ng

failed :
- MariaDB khá»Ÿi Ä‘á»™ng tháº¥t báº¡i
- ThÆ°á»ng do lá»—i config, port 3306, thiáº¿u disk, quyá»n


8. CÃCH DÃ™NG Káº¾T Há»¢P KHI TROUBLESHOOT
------------------------------------

Xem log chi tiáº¿t:
journalctl -u mariadb

Xem log realtime:
journalctl -u mariadb -f

Khá»Ÿi Ä‘á»™ng MariaDB:
systemctl start mariadb

Dá»«ng MariaDB:
systemctl stop mariadb

Restart MariaDB:
systemctl restart mariadb


9. LÆ¯U Ã QUAN TRá»ŒNG
------------------

- status KHÃ”NG thay Ä‘á»•i tráº¡ng thÃ¡i service
- Chá»‰ dÃ¹ng Ä‘á»ƒ kiá»ƒm tra
- Náº¿u tháº¥y "failed" cáº§n xem log ngay
- Service name cÃ³ thá»ƒ lÃ :
  - mariadb
  - mariadb.service
  - mysql (trÃªn má»™t sá»‘ distro)


10. TÃ“M Táº®T
-----------

- `systemctl status mariadb` dÃ¹ng Ä‘á»ƒ kiá»ƒm tra tÃ¬nh tráº¡ng MariaDB
- Hiá»ƒn thá»‹ tráº¡ng thÃ¡i, PID, RAM, log gáº§n nháº¥t
- LÃ  lá»‡nh Ä‘áº§u tiÃªn cáº§n cháº¡y khi DB cÃ³ sá»± cá»‘
- An toÃ n, khÃ´ng áº£nh hÆ°á»Ÿng há»‡ thá»‘ng
		
		
		- cmd: systemctl stop mariadb
		
Lá»†NH: systemctl stop mariadb
==================================================

1. systemctl lÃ  gÃ¬?
--------------------------------------------------
- systemctl lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ systemd
- systemd lÃ  trÃ¬nh init/service manager máº·c Ä‘á»‹nh trÃªn Linux hiá»‡n Ä‘áº¡i:
  + Ubuntu
  + Debian
  + CentOS / RHEL
  + Amazon Linux

--------------------------------------------------

2. mariadb lÃ  gÃ¬?
--------------------------------------------------
- mariadb lÃ  dá»‹ch vá»¥ (service) cá»§a há»‡ quáº£n trá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u MariaDB
- Service name trong systemd thÆ°á»ng lÃ :
  mariadb.service

--------------------------------------------------

3. systemctl stop mariadb nghÄ©a lÃ  gÃ¬?
--------------------------------------------------
Lá»‡nh nÃ y yÃªu cáº§u systemd:

- Dá»ªNG (STOP) service mariadb
- Gá»­i tÃ­n hiá»‡u dá»«ng an toÃ n cho tiáº¿n trÃ¬nh MariaDB
- KHÃ”NG khá»Ÿi Ä‘á»™ng láº¡i service sau khi dá»«ng
- KHÃ”NG gá»¡ cÃ i Ä‘áº·t MariaDB
- KHÃ”NG xÃ³a dá»¯ liá»‡u database

NÃ³i ngáº¯n gá»n:
â†’ Táº¯t MariaDB má»™t cÃ¡ch an toÃ n

--------------------------------------------------

4. BÃªn trong há»‡ thá»‘ng xáº£y ra chuyá»‡n gÃ¬?
--------------------------------------------------
Khi cháº¡y lá»‡nh:

systemctl stop mariadb

systemd sáº½:
1) XÃ¡c Ä‘á»‹nh unit: mariadb.service
2) Gá»­i tÃ­n hiá»‡u SIGTERM Ä‘áº¿n tiáº¿n trÃ¬nh mysqld
3) Chá» tiáº¿n trÃ¬nh tá»± shutdown (graceful shutdown)
4) Náº¿u quÃ¡ timeout:
   â†’ gá»­i SIGKILL (Ã©p dá»«ng)

--------------------------------------------------

5. Äiá»u gÃ¬ xáº£y ra vá»›i dá»¯ liá»‡u?
--------------------------------------------------
- Database KHÃ”NG bá»‹ xÃ³a
- File dá»¯ liá»‡u váº«n náº±m trong:
  /var/lib/mysql/
- MariaDB:
  + Flush dá»¯ liá»‡u tá»« memory xuá»‘ng disk
  + ÄÃ³ng connection
  + Ghi log shutdown

--------------------------------------------------

6. Äiá»u gÃ¬ xáº£y ra vá»›i á»©ng dá»¥ng Ä‘ang dÃ¹ng MariaDB?
--------------------------------------------------
- Má»i káº¿t ná»‘i Ä‘áº¿n database sáº½:
  + Bá»‹ ngáº¯t
  + Gáº·p lá»—i "Connection refused" hoáº·c "Can't connect to MySQL server"
- á»¨ng dá»¥ng phá»¥ thuá»™c MariaDB:
  + Sáº½ lá»—i
  + CÃ³ thá»ƒ crash náº¿u khÃ´ng handle tá»‘t

--------------------------------------------------

7. systemctl stop vs kill process
--------------------------------------------------
systemctl stop mariadb:
- Dá»«ng Ä‘Ãºng quy trÃ¬nh
- An toÃ n cho dá»¯ liá»‡u
- systemd biáº¿t tráº¡ng thÃ¡i service

kill -9 mysqld:
- Ã‰p dá»«ng ngay láº­p tá»©c
- CÃ³ nguy cÆ¡ corrupt dá»¯ liá»‡u
- systemd khÃ´ng kiá»ƒm soÃ¡t Ä‘Æ°á»£c

--------------------------------------------------

8. Sau khi stop mariadb, tráº¡ng thÃ¡i service lÃ  gÃ¬?
--------------------------------------------------
Kiá»ƒm tra báº±ng:
systemctl status mariadb

Káº¿t quáº£ thÆ°á»ng tháº¥y:
- Active: inactive (dead)
hoáº·c
- Active: inactive (stopped)

--------------------------------------------------

9. systemctl stop cÃ³ disable mariadb khÃ´ng?
--------------------------------------------------
KHÃ”NG

- stop: chá»‰ dá»«ng service táº¡m thá»i
- Sau reboot:
  + MariaDB váº«n cÃ³ thá»ƒ tá»± cháº¡y láº¡i náº¿u Ä‘ang enable

--------------------------------------------------

10. Muá»‘n mariadb KHÃ”NG tá»± cháº¡y khi reboot
--------------------------------------------------
Cáº§n cháº¡y thÃªm:
systemctl disable mariadb

--------------------------------------------------

11. CÃ¡ch báº­t láº¡i MariaDB sau khi stop
--------------------------------------------------
Báº­t láº¡i service:
systemctl start mariadb

Restart nhanh:
systemctl restart mariadb

--------------------------------------------------

12. CÃ¡c lá»—i thÆ°á»ng gáº·p
--------------------------------------------------
1) Permission denied
   â†’ cáº§n cháº¡y vá»›i sudo

2) Service name sai
   â†’ kiá»ƒm tra:
     systemctl list-units --type=service | grep maria

3) MariaDB bá»‹ treo khi stop
   â†’ xem log:
     journalctl -u mariadb

--------------------------------------------------

13. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------
systemctl stop mariadb =
Dá»ªNG an toÃ n dá»‹ch vá»¥ MariaDB, khÃ´ng máº¥t dá»¯ liá»‡u, khÃ´ng gá»¡ cÃ i Ä‘áº·t
		
		
		- cmd: stress-ng --cpu 2 --timeout 60s
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH: stress-ng --cpu 2 --timeout 60s
=======================================================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    stress-ng --cpu 2 --timeout 60s

ÄÆ°á»£c sá»­ dá»¥ng trÃªn há»‡ Ä‘iá»u hÃ nh Linux Ä‘á»ƒ:
- Táº¡o táº£i (stress) cho CPU
- Kiá»ƒm tra kháº£ nÄƒng chá»‹u táº£i, Ä‘á»™ á»•n Ä‘á»‹nh cá»§a há»‡ thá»‘ng
- Phá»¥c vá»¥ má»¥c Ä‘Ã­ch test, benchmark, mÃ´ phá»ng táº£i cao


2. GIá»šI THIá»†U stress-ng
-----------------------
- stress-ng lÃ  cÃ´ng cá»¥ táº¡o táº£i há»‡ thá»‘ng nÃ¢ng cao
- LÃ  phiÃªn báº£n má»Ÿ rá»™ng vÃ  máº¡nh hÆ¡n cá»§a lá»‡nh stress
- Há»— trá»£ táº¡o táº£i cho nhiá»u tÃ i nguyÃªn:
  + CPU
  + RAM
  + Disk I/O
  + Network
  + Scheduler
  + Cache
  + Virtual Memory

- ThÆ°á»ng dÃ¹ng trong:
  + Kiá»ƒm tra server trÆ°á»›c khi Ä‘Æ°a vÃ o production
  + Test hiá»‡u nÄƒng
  + PhÃ¡t hiá»‡n lá»—i pháº§n cá»©ng hoáº·c kernel
  + Test trong mÃ´i trÆ°á»ng lab


3. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N Lá»†NH
--------------------------------

3.1. stress-ng
--------------
- TÃªn chÆ°Æ¡ng trÃ¬nh dÃ¹ng Ä‘á»ƒ táº¡o táº£i há»‡ thá»‘ng
- Khi cháº¡y, stress-ng sáº½ sinh ra cÃ¡c tiáº¿n trÃ¬nh (process) hoáº·c luá»“ng (thread)
- Má»—i tiáº¿n trÃ¬nh sáº½ liÃªn tá»¥c tiÃªu thá»¥ tÃ i nguyÃªn theo loáº¡i stress Ä‘Ã£ chá»‰ Ä‘á»‹nh


3.2. --cpu 2
------------
- TÃ¹y chá»n --cpu chá»‰ Ä‘á»‹nh sá»‘ lÆ°á»£ng CPU worker
- GiÃ¡ trá»‹ "2" nghÄ©a lÃ :
  + Táº¡o 2 tiáº¿n trÃ¬nh/luá»“ng Ä‘á»ƒ gÃ¢y táº£i CPU
  + Má»—i worker sáº½ chiáº¿m CPU báº±ng cÃ¡c phÃ©p tÃ­nh liÃªn tá»¥c

TÃ¡c Ä‘á»™ng:
- CPU usage tÄƒng cao
- PhÃ¹ há»£p Ä‘á»ƒ:
  + Test mÃ¡y cÃ³ nhiá»u core
  + MÃ´ phá»ng á»©ng dá»¥ng tiÃªu thá»¥ CPU

LÆ°u Ã½:
- Náº¿u mÃ¡y chá»‰ cÃ³ 1 core, 2 worker sáº½ chia sáº» CPU
- Náº¿u mÃ¡y cÃ³ nhiá»u core, 2 core sáº½ bá»‹ load náº·ng


3.3. --timeout 60s
------------------
- --timeout xÃ¡c Ä‘á»‹nh thá»i gian cháº¡y stress
- 60s nghÄ©a lÃ :
  + Cháº¡y trong 60 giÃ¢y
  + Háº¿t thá»i gian, stress-ng tá»± Ä‘á»™ng dá»«ng

ÄÆ¡n vá»‹ thá»i gian há»— trá»£:
- s  : giÃ¢y
- m  : phÃºt
- h  : giá»
- d  : ngÃ y

VÃ­ dá»¥:
    --timeout 5m
    --timeout 1h


4. CÃCH Lá»†NH HOáº T Äá»˜NG
---------------------
Khi cháº¡y lá»‡nh:
    stress-ng --cpu 2 --timeout 60s

Há»‡ thá»‘ng sáº½:
1. Khá»Ÿi táº¡o 2 CPU worker
2. Má»—i worker liÃªn tá»¥c thá»±c hiá»‡n phÃ©p tÃ­nh
3. CPU usage tÄƒng lÃªn rÃµ rá»‡t
4. Sau 60 giÃ¢y:
   - stress-ng tá»± Ä‘á»™ng káº¿t thÃºc
   - Giáº£i phÃ³ng tÃ i nguyÃªn CPU


5. Káº¾T QUáº¢ VÃ€ BIá»‚U HIá»†N
----------------------
Trong thá»i gian cháº¡y:
- CPU usage cÃ³ thá»ƒ Ä‘áº¡t gáº§n 100% trÃªn 2 core
- Quáº¡t mÃ¡y/server cÃ³ thá»ƒ quay máº¡nh hÆ¡n
- Nhiá»‡t Ä‘á»™ CPU tÄƒng

Sau khi káº¿t thÃºc:
- Há»‡ thá»‘ng trá»Ÿ vá» tráº¡ng thÃ¡i bÃ¬nh thÆ°á»ng
- KhÃ´ng cÃ²n tiáº¿n trÃ¬nh stress-ng cháº¡y


6. KIá»‚M TRA TRONG QUÃ TRÃŒNH CHáº Y
--------------------------------
CÃ³ thá»ƒ dÃ¹ng cÃ¡c lá»‡nh sau Ä‘á»ƒ quan sÃ¡t:

    top
    htop
    mpstat -P ALL
    ps aux | grep stress-ng


7. YÃŠU Cáº¦U QUYá»€N Háº N
--------------------
- KhÃ´ng báº¯t buá»™c pháº£i lÃ  root
- Má»™t sá»‘ kiá»ƒu stress khÃ¡c cÃ³ thá»ƒ cáº§n quyá»n cao hÆ¡n
- Vá»›i --cpu, user thÆ°á»ng cÃ³ thá»ƒ cháº¡y bÃ¬nh thÆ°á»ng


8. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------

8.1. stress-ng: command not found
---------------------------------
NguyÃªn nhÃ¢n:
- stress-ng chÆ°a Ä‘Æ°á»£c cÃ i Ä‘áº·t

CÃ¡ch xá»­ lÃ½:
    yum install stress-ng -y
hoáº·c:
    dnf install stress-ng -y
hoáº·c:
    apt install stress-ng -y


8.2. MÃ¡y bá»‹ cháº­m hoáº·c treo
--------------------------
NguyÃªn nhÃ¢n:
- CPU bá»‹ load cao
- Cháº¡y quÃ¡ nhiá»u worker

CÃ¡ch xá»­ lÃ½:
- Giáº£m sá»‘ worker (--cpu)
- Giáº£m thá»i gian (--timeout)
- Dá»«ng báº±ng Ctrl + C


9. SO SÃNH NHANH Vá»šI stress
--------------------------
- stress-ng máº¡nh hÆ¡n stress
- stress-ng há»— trá»£ nhiá»u loáº¡i test hÆ¡n
- stress-ng cung cáº¥p thá»‘ng kÃª chi tiáº¿t hÆ¡n


10. TÃ“M Táº®T
-----------
- stress-ng --cpu 2: táº¡o táº£i CPU báº±ng 2 worker
- --timeout 60s: cháº¡y trong 60 giÃ¢y
- Lá»‡nh tá»± dá»«ng, an toÃ n cho test ngáº¯n háº¡n
- PhÃ¹ há»£p Ä‘á»ƒ kiá»ƒm tra hiá»‡u nÄƒng CPU

Káº¾T LUáº¬N:
---------
ÄÃ¢y lÃ  lá»‡nh táº¡o táº£i CPU cÃ³ kiá»ƒm soÃ¡t thá»i gian, ráº¥t há»¯u Ã­ch cho viá»‡c test há»‡ thá»‘ng Linux.
		
		
		- cmd: stress-ng --cpu $(nproc) --timeout 300s
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
stress-ng --cpu $(nproc) --timeout 300s
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng cÃ´ng cá»¥ stress-ng Ä‘á»ƒ táº¡o táº£i CPU tá»‘i Ä‘a
trÃªn toÃ n bá»™ sá»‘ core CPU cá»§a há»‡ thá»‘ng trong thá»i gian 300 giÃ¢y (5 phÃºt).

stress-ng thÆ°á»ng Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ:
- Test hiá»‡u nÄƒng CPU
- Kiá»ƒm tra Ä‘á»™ á»•n Ä‘á»‹nh cá»§a há»‡ thá»‘ng
- MÃ´ phá»ng táº£i cao
- Kiá»ƒm tra autoscaling (cloud, container, VM)

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. stress-ng
--------------------------------------------------
- stress-ng lÃ  phiÃªn báº£n nÃ¢ng cao cá»§a stress
- Há»— trá»£ nhiá»u kiá»ƒu stress hÆ¡n:
  + CPU
  + RAM
  + Disk
  + I/O
  + Scheduler
  + System call
- Cho phÃ©p test sÃ¡t vá»›i táº£i thá»±c táº¿ cá»§a há»‡ thá»‘ng

--------------------------------------------------
2.2. --cpu
--------------------------------------------------
- Tham sá»‘ dÃ¹ng Ä‘á»ƒ táº¡o táº£i CPU
- Má»—i instance --cpu tÆ°Æ¡ng Ä‘Æ°Æ¡ng 1 worker CPU
- Má»—i worker sáº½ cháº¡y vÃ²ng láº·p tÃ­nh toÃ¡n liÃªn tá»¥c
  â†’ Ä‘áº©y má»©c sá»­ dá»¥ng CPU lÃªn cao

CÃº phÃ¡p:
stress-ng --cpu <sá»‘_worker>

--------------------------------------------------
2.3. $(nproc)
--------------------------------------------------
- $(...) lÃ  command substitution trong shell (bash)
- nproc lÃ  lá»‡nh tráº£ vá»:
  â†’ sá»‘ core CPU logic mÃ  há»‡ thá»‘ng cÃ³

VÃ­ dá»¥:
- MÃ¡y 2 core      â†’ nproc = 2
- MÃ¡y 4 core      â†’ nproc = 4
- MÃ¡y 8 vCPU (VM) â†’ nproc = 8

Ã nghÄ©a trong lá»‡nh:
--cpu $(nproc)
= táº¡o sá»‘ worker CPU Ä‘Ãºng báº±ng sá»‘ core cá»§a mÃ¡y
= CPU sáº½ bá»‹ load gáº§n 100% trÃªn toÃ n bá»™ core

--------------------------------------------------
2.4. --timeout 300s
--------------------------------------------------
- Tham sá»‘ giá»›i háº¡n thá»i gian cháº¡y stress
- 300s = 300 giÃ¢y = 5 phÃºt

Sau 300 giÃ¢y:
- stress-ng tá»± Ä‘á»™ng dá»«ng
- KhÃ´ng cáº§n kill process thá»§ cÃ´ng

--------------------------------------------------
3. CÃCH Lá»†NH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:
stress-ng --cpu $(nproc) --timeout 300s

Há»‡ thá»‘ng sáº½:
1. XÃ¡c Ä‘á»‹nh sá»‘ core CPU báº±ng nproc
2. Khá»Ÿi táº¡o sá»‘ worker CPU tÆ°Æ¡ng á»©ng
3. Má»—i worker cháº¡y tÃ­nh toÃ¡n liÃªn tá»¥c
4. CPU usage tÄƒng lÃªn gáº§n 100%
5. Sau 300 giÃ¢y, stress-ng tá»± Ä‘á»™ng káº¿t thÃºc

--------------------------------------------------
4. Káº¾T QUáº¢ THá»°C Táº¾
--------------------------------------------------
- CPU load tÄƒng máº¡nh
- Nhiá»‡t Ä‘á»™ CPU tÄƒng
- Server cÃ³ thá»ƒ cháº­m
- CÃ¡c process khÃ¡c bá»‹ tranh CPU

CÃ³ thá»ƒ kiá»ƒm tra báº±ng:
- top
- htop
- mpstat
- uptime

--------------------------------------------------
5. VÃ Dá»¤ MINH Há»ŒA
--------------------------------------------------
MÃ¡y cÃ³ 4 core CPU:

nproc = 4

Lá»‡nh thá»±c táº¿ cháº¡y:
stress-ng --cpu 4 --timeout 300s

--------------------------------------------------
6. LÆ¯U Ã QUAN TRá»ŒNG (Ráº¤T QUAN TRá»ŒNG)
--------------------------------------------------
- KHÃ”NG cháº¡y trÃªn mÃ´i trÆ°á»ng production
- CÃ³ thá»ƒ lÃ m:
  + Treo mÃ¡y
  + Cháº­m dá»‹ch vá»¥
  + Timeout á»©ng dá»¥ng
- Chá»‰ dÃ¹ng cho:
  + Lab
  + Test
  + Benchmark
  + Training

Náº¿u cáº§n dá»«ng sá»›m:
- Nháº¥n Ctrl + C
- Hoáº·c:
  pkill stress-ng

--------------------------------------------------
7. SO SÃNH NHANH Vá»šI stress
--------------------------------------------------
stress:
- CÅ© hÆ¡n
- Ãt loáº¡i test

stress-ng:
- Máº¡nh hÆ¡n
- Nhiá»u phÆ°Æ¡ng thá»©c stress
- BÃ¡o cÃ¡o chi tiáº¿t hÆ¡n

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
stress-ng --cpu $(nproc) --timeout 300s
= Táº¡o táº£i CPU tá»‘i Ä‘a trÃªn toÃ n bá»™ core
= Cháº¡y trong 5 phÃºt
= Tá»± Ä‘á»™ng dá»«ng
= DÃ¹ng Ä‘á»ƒ test hiá»‡u nÄƒng vÃ  Ä‘á»™ á»•n Ä‘á»‹nh
==================================================
		
		
		- cmd: stress-ng --cpu $(nproc) --cpu-load 60 --timeout 600s
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
stress-ng --cpu $(nproc) --cpu-load 60 --timeout 600s

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Táº¡o táº£i (stress) CPU cÃ³ kiá»ƒm soÃ¡t
- Sá»­ dá»¥ng toÃ n bá»™ sá»‘ core CPU cá»§a há»‡ thá»‘ng
- Giá»¯ má»©c táº£i CPU trung bÃ¬nh khoáº£ng 60%
- Cháº¡y trong thá»i gian xÃ¡c Ä‘á»‹nh (10 phÃºt)

ThÆ°á»ng dÃ¹ng Ä‘á»ƒ:
- Test hiá»‡u nÄƒng CPU
- Test thermal / throttling
- Test Ä‘á»™ á»•n Ä‘á»‹nh há»‡ thá»‘ng
- MÃ´ phá»ng táº£i CPU thá»±c táº¿ (khÃ´ng 100%)

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. stress-ng
--------------------------------------------------
stress-ng lÃ :
- PhiÃªn báº£n nÃ¢ng cao cá»§a stress
- Há»— trá»£ nhiá»u loáº¡i stress hÆ¡n
- Cho phÃ©p kiá»ƒm soÃ¡t má»©c táº£i chÃ­nh xÃ¡c hÆ¡n

CÃ³ thá»ƒ stress:
- CPU
- RAM
- Disk
- I/O
- Network
- Scheduler
- VM, cache, filesystem...

--------------------------------------------------
2.2. --cpu
--------------------------------------------------
--cpu <N>:
- Chá»‰ Ä‘á»‹nh sá»‘ CPU worker

Trong lá»‡nh:
--cpu $(nproc)

Ã nghÄ©a:
- Sá»‘ worker CPU = sá»‘ core logic cá»§a há»‡ thá»‘ng

VÃ­ dá»¥:
nproc tráº£ vá»:
- 2  â†’ mÃ¡y 2 core
- 4  â†’ mÃ¡y 4 core
- 8  â†’ mÃ¡y 8 core (ká»ƒ cáº£ hyper-thread)

--------------------------------------------------
2.3. $(nproc)
--------------------------------------------------
$(...) lÃ :
- Command substitution trong shell (bash)

nproc:
- Lá»‡nh tráº£ vá» sá»‘ CPU logic hiá»‡n cÃ³

VÃ­ dá»¥:
nproc = 8

Lá»‡nh thá»±c táº¿ trá»Ÿ thÃ nh:
stress-ng --cpu 8 --cpu-load 60 --timeout 600s

--------------------------------------------------
2.4. --cpu-load 60
--------------------------------------------------
--cpu-load <PERCENT>

Ã nghÄ©a:
- Giá»¯ má»©c sá»­ dá»¥ng CPU trung bÃ¬nh khoáº£ng PERCENT %

--cpu-load 60 nghÄ©a lÃ :
- Má»—i CPU worker chá»‰ dÃ¹ng ~60% cÃ´ng suáº¥t
- stress-ng sáº½:
  + Cháº¡y 60% thá»i gian
  + Nghá»‰ (sleep) 40% thá»i gian

Káº¿t quáº£:
- CPU khÃ´ng lÃªn 100%
- PhÃ¹ há»£p mÃ´ phá»ng táº£i thá»±c táº¿

--------------------------------------------------
2.5. --timeout 600s
--------------------------------------------------
--timeout:
- Giá»›i háº¡n thá»i gian cháº¡y

600s:
- 600 giÃ¢y
- = 10 phÃºt

Háº¿t 600 giÃ¢y:
- stress-ng tá»± Ä‘á»™ng dá»«ng
- Giáº£i phÃ³ng tÃ i nguyÃªn CPU

--------------------------------------------------
3. CÃCH HOáº T Äá»˜NG Tá»”NG THá»‚
--------------------------------------------------
TrÃ¬nh tá»± khi cháº¡y lá»‡nh:

1. Shell cháº¡y nproc â†’ láº¥y sá»‘ CPU
2. stress-ng táº¡o N CPU worker
3. Má»—i worker cháº¡y vÃ²ng láº·p CPU
4. stress-ng Ä‘iá»u chá»‰nh duty cycle
5. CPU load giá»¯ quanh 60%
6. Lá»‡nh cháº¡y trong 600 giÃ¢y
7. Háº¿t thá»i gian â†’ stress-ng tá»± dá»«ng

--------------------------------------------------
4. HÃ€NH VI CPU THá»°C Táº¾
--------------------------------------------------
VÃ­ dá»¥ mÃ¡y 8 core:

- Sá»‘ worker        : 8
- Load má»—i worker  : 60%
- Tá»•ng CPU usage   : ~60% tá»•ng CPU

KhÃ´ng pháº£i:
- 8 core x 60% = 480% (sai)

MÃ  lÃ :
- Tá»•ng toÃ n há»‡ thá»‘ng ~60%

--------------------------------------------------
5. KIá»‚M TRA KHI ÄANG CHáº Y
--------------------------------------------------

Xem CPU:
top
htop

Xem tiáº¿n trÃ¬nh:
ps -ef | grep stress-ng

--------------------------------------------------
6. Dá»ªNG Lá»†NH TRÆ¯á»šC THá»œI Háº N
--------------------------------------------------

CÃ¡ch 1:
Ctrl + C (náº¿u cháº¡y foreground)

CÃ¡ch 2:
pkill stress-ng

CÃ¡ch 3:
kill <PID>

--------------------------------------------------
7. SO SÃNH Vá»šI STRESS CÅ¨
--------------------------------------------------
stress:
- CPU load thÆ°á»ng = 100%
- Ãt tÃ¹y chá»‰nh

stress-ng:
- Kiá»ƒm soÃ¡t % CPU
- ChÃ­nh xÃ¡c hÆ¡n
- DÃ¹ng tá»‘t cho benchmark thá»±c táº¿

--------------------------------------------------
8. Cáº¢NH BÃO QUAN TRá»ŒNG
--------------------------------------------------
- CÃ³ thá»ƒ lÃ m há»‡ thá»‘ng:
  + NÃ³ng CPU
  + TÄƒng tiÃªu thá»¥ Ä‘iá»‡n
  + Giáº£m hiá»‡u nÄƒng dá»‹ch vá»¥ khÃ¡c

KHÃ”NG nÃªn cháº¡y:
- Server production Ä‘ang hoáº¡t Ä‘á»™ng

NÃªn cháº¡y:
- Test / staging / lab

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
stress-ng --cpu $(nproc) --cpu-load 60 --timeout 600s

= Stress toÃ n bá»™ CPU
= Giá»¯ táº£i ~60%
= Cháº¡y 10 phÃºt
= Tá»± dá»«ng
= PhÃ¹ há»£p test hiá»‡u nÄƒng thá»±c táº¿
		
		
		- cmd: sudo yum install -y amazon-efs-utils
		
Lá»†NH: sudo yum install -y amazon-efs-utils
=========================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh `sudo yum install -y amazon-efs-utils` dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t gÃ³i
amazon-efs-utils trÃªn cÃ¡c há»‡ Ä‘iá»u hÃ nh Linux sá»­ dá»¥ng yum
(Amazon Linux, RHEL, CentOS).

GÃ³i `amazon-efs-utils` cung cáº¥p cÃ´ng cá»¥ cáº§n thiáº¿t Ä‘á»ƒ:
- Mount Amazon EFS (Elastic File System)
- Há»— trá»£ mount EFS qua TLS
- Quáº£n lÃ½, debug vÃ  kiá»ƒm tra káº¿t ná»‘i EFS


2. Cáº¤U TRÃšC Lá»†NH
---------------
sudo yum install -y amazon-efs-utils

Giáº£i thÃ­ch tá»«ng thÃ nh pháº§n:
- sudo              : Thá»±c thi lá»‡nh vá»›i quyá»n root
- yum               : TrÃ¬nh quáº£n lÃ½ gÃ³i (package manager)
- install           : Lá»‡nh cÃ i Ä‘áº·t gÃ³i
- -y                : Tá»± Ä‘á»™ng tráº£ lá»i "yes" cho má»i cÃ¢u há»i
- amazon-efs-utils  : TÃªn gÃ³i pháº§n má»m cáº§n cÃ i


3. ÄIá»€U KIá»†N TRÆ¯á»šC KHI CÃ€I Äáº¶T
-----------------------------
- Há»‡ Ä‘iá»u hÃ nh:
  - Amazon Linux 2
  - Amazon Linux 2023
  - RHEL / CentOS (cÃ³ repo phÃ¹ há»£p)

- Instance pháº£i:
  - CÃ³ káº¿t ná»‘i internet
  - Hoáº·c truy cáº­p Ä‘Æ°á»£c repo ná»™i bá»™ (VPC endpoint)

- Quyá»n:
  - User thuá»™c sudoers


4. AMAZON-EFS-UTILS LÃ€ GÃŒ?
--------------------------
`amazon-efs-utils` lÃ  bá»™ cÃ´ng cá»¥ chÃ­nh thá»©c cá»§a AWS dÃ¹ng cho Amazon EFS.

Chá»©c nÄƒng chÃ­nh:
- Mount EFS báº±ng lá»‡nh `mount -t efs`
- Há»— trá»£ mÃ£ hÃ³a TLS khi truyá»n dá»¯ liá»‡u
- Tá»± Ä‘á»™ng resolve DNS cá»§a EFS
- TÃ­ch há»£p tá»‘t vá»›i /etc/fstab


5. SAU KHI CÃ€I Äáº¶T CÃ“ GÃŒ?
-----------------------
Sau khi cÃ i xong sáº½ cÃ³:

- Binary:
  /sbin/mount.efs

- File cáº¥u hÃ¬nh:
  /etc/amazon/efs/efs-utils.conf

- Há»— trá»£ filesystem type:
  efs


6. VÃ Dá»¤ Sá»¬ Dá»¤NG SAU KHI CÃ€I
---------------------------

Mount EFS thá»§ cÃ´ng:
sudo mount -t efs fs-12345678:/ /mnt/efs

Mount EFS vá»›i TLS:
sudo mount -t efs -o tls fs-12345678:/ /mnt/efs


7. DÃ™NG Vá»šI /etc/fstab
----------------------

VÃ­ dá»¥ cáº¥u hÃ¬nh fstab:
fs-12345678:/   /mnt/efs   efs   _netdev,tls  0  0

Giáº£i thÃ­ch:
- fs-12345678:/ : File system ID cá»§a EFS
- /mnt/efs      : ThÆ° má»¥c mount
- efs           : Filesystem type
- _netdev       : Chá»‰ mount khi network sáºµn sÃ ng
- tls           : MÃ£ hÃ³a dá»¯ liá»‡u


8. KIá»‚M TRA SAU KHI CÃ€I
----------------------

Kiá»ƒm tra gÃ³i Ä‘Ã£ cÃ i:
yum list installed | grep amazon-efs-utils

Kiá»ƒm tra binary:
which mount.efs

Xem version:
mount.efs --version


9. CÃC Lá»–I THÆ¯á»œNG Gáº¶P
--------------------

Lá»–I 1: KhÃ´ng tÃ¬m tháº¥y package
- NguyÃªn nhÃ¢n:
  Repo EPEL hoáº·c AWS repo chÆ°a báº­t

- CÃ¡ch xá»­ lÃ½:
  Amazon Linux:
  sudo yum install -y amazon-linux-extras

Lá»–I 2: Mount bá»‹ timeout
- NguyÃªn nhÃ¢n:
  - Security Group chÆ°a má»Ÿ port 2049
  - DNS khÃ´ng resolve Ä‘Æ°á»£c EFS

Lá»–I 3: Mount khÃ´ng mÃ£ hÃ³a
- NguyÃªn nhÃ¢n:
  QuÃªn option `tls`


10. LÆ¯U Ã QUAN TRá»ŒNG
-------------------

- Amazon EFS dÃ¹ng NFSv4.1 (port 2049)
- Instance vÃ  EFS pháº£i cÃ¹ng region
- Security Group pháº£i cho phÃ©p NFS
- LuÃ´n dÃ¹ng _netdev trong fstab Ä‘á»ƒ trÃ¡nh lá»—i boot


11. TÃ“M Táº®T
-----------

- Lá»‡nh dÃ¹ng Ä‘á»ƒ cÃ i cÃ´ng cá»¥ mount Amazon EFS
- Báº¯t buá»™c khi mount EFS trÃªn EC2
- Há»— trá»£ TLS vÃ  tÃ­ch há»£p systemd/fstab
- LÃ  bÆ°á»›c chuáº©n bá»‹ quan trá»ng trÆ°á»›c khi mount EFS
		
		
		- cmd: mount -fav
		
Lá»†NH: mount -fav
==================================================

1. mount lÃ  gÃ¬?
--------------------------------------------------
- mount lÃ  lá»‡nh dÃ¹ng Ä‘á»ƒ:
  + Gáº¯n (mount) filesystem vÃ o cÃ¢y thÆ° má»¥c Linux
  + LÃ m cho á»• Ä‘Ä©a / partition / network filesystem cÃ³ thá»ƒ truy cáº­p Ä‘Æ°á»£c

VÃ­ dá»¥:
- Mount á»• cá»©ng
- Mount NFS
- Mount EBS / EFS
- Mount USB

--------------------------------------------------

2. Ã nghÄ©a tá»•ng quÃ¡t cá»§a mount -fav
--------------------------------------------------
mount -fav =
- Äá»c file /etc/fstab
- Kiá»ƒm tra vÃ  mount Táº¤T Cáº¢ filesystem Ä‘Æ°á»£c cáº¥u hÃ¬nh
- Bá» QUA cÃ¡c filesystem KHÃ”NG cáº§n mount
- Cháº¡y á»Ÿ cháº¿ Ä‘á»™ an toÃ n, khÃ´ng gÃ¢y lá»—i há»‡ thá»‘ng

--------------------------------------------------

3. Giáº£i thÃ­ch tá»«ng option
--------------------------------------------------

3.1 -f (fake / dry-run)
--------------------------------------------------
- KHÃ”NG mount tháº­t
- CHá»ˆ giáº£ láº­p viá»‡c mount
- DÃ¹ng Ä‘á»ƒ kiá»ƒm tra cáº¥u hÃ¬nh

NÃ³i dá»… hiá»ƒu:
â†’ Test xem mount cÃ³ lá»—i khÃ´ng, khÃ´ng Ä‘á»™ng cháº¡m há»‡ thá»‘ng

--------------------------------------------------

3.2 -a (all)
--------------------------------------------------
- Mount Táº¤T Cáº¢ filesystem trong /etc/fstab
- Bá» QUA cÃ¡c entry cÃ³ option:
  + noauto
  + swap

--------------------------------------------------

3.3 -v (verbose)
--------------------------------------------------
- Hiá»ƒn thá»‹ chi tiáº¿t tá»«ng filesystem
- Cho biáº¿t mount gÃ¬, mount á»Ÿ Ä‘Ã¢u

--------------------------------------------------

4. mount -fav thá»±c sá»± lÃ m gÃ¬?
--------------------------------------------------
- Äá»c file: /etc/fstab
- Láº¥y táº¥t cáº£ dÃ²ng há»£p lá»‡
- Vá»›i má»—i dÃ²ng:
  + Giáº£ láº­p mount
  + In ra thÃ´ng tin chi tiáº¿t
  + KhÃ´ng mount tháº­t

--------------------------------------------------

5. mount -fav dÃ¹ng khi nÃ o?
--------------------------------------------------

5.1 TrÆ°á»›c khi reboot server
--------------------------------------------------
- Kiá»ƒm tra /etc/fstab cÃ³ lá»—i khÃ´ng
- TrÃ¡nh lá»—i boot treo mÃ¡y

--------------------------------------------------

5.2 Sau khi chá»‰nh sá»­a /etc/fstab
--------------------------------------------------
- Báº®T BUá»˜C nÃªn cháº¡y
- PhÃ¡t hiá»‡n lá»—i sá»›m:
  + Sai device
  + Sai filesystem
  + Sai option

--------------------------------------------------

5.3 Khi debug lá»—i mount
--------------------------------------------------
- KhÃ´ng áº£nh hÆ°á»Ÿng production
- KhÃ´ng lÃ m máº¥t káº¿t ná»‘i disk

--------------------------------------------------

6. So sÃ¡nh mount -a vÃ  mount -fav
--------------------------------------------------
mount -a:
- Mount THáº¬T
- Náº¿u lá»—i cÃ³ thá»ƒ gÃ¢y sá»± cá»‘

mount -fav:
- KhÃ´ng mount tháº­t
- An toÃ n tuyá»‡t Ä‘á»‘i
- Chá»‰ kiá»ƒm tra

--------------------------------------------------

7. VÃ­ dá»¥ minh há»a
--------------------------------------------------
Giáº£ sá»­ /etc/fstab cÃ³:

UUID=abc123  /data  ext4  defaults  0  2

Cháº¡y:
mount -fav

Káº¿t quáº£:
- Hiá»ƒn thá»‹ mount /data
- KhÃ´ng táº¡o mount point tháº­t

--------------------------------------------------

8. Náº¿u mount -fav bÃ¡o lá»—i thÃ¬ sao?
--------------------------------------------------
VÃ­ dá»¥ lá»—i:
- wrong fs type
- bad option
- device not found

Cáº§n:
1) Sá»­a láº¡i /etc/fstab
2) Cháº¡y láº¡i mount -fav
3) Khi khÃ´ng cÃ²n lá»—i â†’ má»›i cháº¡y mount -a

--------------------------------------------------

9. Kiá»ƒm tra filesystem nÃ o sáº½ Ä‘Æ°á»£c mount
--------------------------------------------------
DÃ¹ng:
mount -fav

Hoáº·c:
findmnt --verify

--------------------------------------------------

10. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------
1) QuÃªn táº¡o mount point
   â†’ mkdir /data

2) Sai filesystem type
   â†’ ext4 / xfs / nfs

3) Sai UUID
   â†’ blkid Ä‘á»ƒ kiá»ƒm tra

--------------------------------------------------

11. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------
mount -fav =
KIá»‚M TRA TOÃ€N Bá»˜ /etc/fstab, GIáº¢ Láº¬P mount, HIá»‚N THá»Š CHI TIáº¾T, KHÃ”NG GÃ‚Y áº¢NH HÆ¯á»NG Há»† THá»NG
		
		
		- cmd: apt install mysql-client -y

GIáº¢I THÃCH CHI TIáº¾T Lá»†NH: apt install mysql-client -y
====================================================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    apt install mysql-client -y

ÄÆ°á»£c sá»­ dá»¥ng trÃªn cÃ¡c há»‡ Ä‘iá»u hÃ nh Linux thuá»™c há» Debian, vÃ­ dá»¥:
- Ubuntu
- Debian
- Linux Mint

Má»¥c Ä‘Ã­ch:
- CÃ i Ä‘áº·t bá»™ cÃ´ng cá»¥ MySQL Client
- Cho phÃ©p káº¿t ná»‘i vÃ  lÃ m viá»‡c vá»›i MySQL Server tá»« xa hoáº·c cá»¥c bá»™
- Tá»± Ä‘á»™ng xÃ¡c nháº­n cÃ i Ä‘áº·t, khÃ´ng cáº§n tÆ°Æ¡ng tÃ¡c thá»§ cÃ´ng


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

2.1. apt
--------
- apt (Advanced Package Tool) lÃ  trÃ¬nh quáº£n lÃ½ gÃ³i cá»§a Debian-based Linux
- DÃ¹ng Ä‘á»ƒ:
  + CÃ i Ä‘áº·t pháº§n má»m
  + Cáº­p nháº­t pháº§n má»m
  + Gá»¡ bá» pháº§n má»m
  + Quáº£n lÃ½ repository vÃ  dependency

- apt sáº½:
  + Káº¿t ná»‘i tá»›i cÃ¡c kho pháº§n má»m (repository)
  + Táº£i gÃ³i cáº§n thiáº¿t
  + Tá»± Ä‘á»™ng cÃ i cÃ¡c gÃ³i phá»¥ thuá»™c


2.2. install
------------
- install lÃ  hÃ nh Ä‘á»™ng yÃªu cáº§u apt:
  + CÃ i Ä‘áº·t má»™t hoáº·c nhiá»u gÃ³i pháº§n má»m
  + Náº¿u gÃ³i Ä‘Ã£ tá»“n táº¡i, apt sáº½ bá» qua hoáº·c nÃ¢ng cáº¥p náº¿u cáº§n

CÃº phÃ¡p chung:
    apt install <package_name>


2.3. mysql-client
-----------------
- mysql-client lÃ  gÃ³i chá»©a cÃ¡c cÃ´ng cá»¥ phÃ­a client cá»§a MySQL
- KHÃ”NG bao gá»“m MySQL Server

CÃ¡c thÃ nh pháº§n chÃ­nh thÆ°á»ng cÃ³:
- mysql       : chÆ°Æ¡ng trÃ¬nh dÃ²ng lá»‡nh Ä‘á»ƒ káº¿t ná»‘i MySQL
- mysqldump  : sao lÆ°u (backup) dá»¯ liá»‡u
- mysqladmin : quáº£n trá»‹ MySQL tá»« xa
- mysqlshow  : xem thÃ´ng tin database
- CÃ¡c thÆ° viá»‡n client liÃªn quan

CÃ´ng dá»¥ng:
- Káº¿t ná»‘i tá»›i MySQL Server Ä‘ang cháº¡y á»Ÿ mÃ¡y khÃ¡c
- Thá»±c hiá»‡n truy váº¥n SQL
- Quáº£n trá»‹ database tá»« dÃ²ng lá»‡nh
- Backup / restore database

VÃ­ dá»¥ sá»­ dá»¥ng sau khi cÃ i:
    mysql -h 192.168.1.10 -u root -p
    mysqldump -u user -p dbname > backup.sql


2.4. -y
-------
- -y lÃ  viáº¿t táº¯t cá»§a "yes"
- Tá»± Ä‘á»™ng tráº£ lá»i "Yes" cho má»i cÃ¢u há»i xÃ¡c nháº­n

Náº¿u khÃ´ng cÃ³ -y:
- apt sáº½ há»i xÃ¡c nháº­n trÆ°á»›c khi cÃ i

Khi dÃ¹ng -y:
- Lá»‡nh cháº¡y khÃ´ng cáº§n tÆ°Æ¡ng tÃ¡c
- Ráº¥t phÃ¹ há»£p cho:
  + Script tá»± Ä‘á»™ng
  + CI/CD
  + CÃ i Ä‘áº·t hÃ ng loáº¡t server


3. QUY TRÃŒNH HOáº T Äá»˜NG Cá»¦A Lá»†NH
------------------------------
Khi cháº¡y:
    apt install mysql-client -y

Há»‡ thá»‘ng sáº½ thá»±c hiá»‡n:
1. Kiá»ƒm tra quyá»n ngÆ°á»i dÃ¹ng (thÆ°á»ng cáº§n sudo)
2. Káº¿t ná»‘i repository
3. Giáº£i quyáº¿t dependency
4. Táº£i cÃ¡c gÃ³i mysql-client
5. CÃ i Ä‘áº·t vÃ o há»‡ thá»‘ng
6. HoÃ n táº¥t mÃ  khÃ´ng há»i xÃ¡c nháº­n


4. YÃŠU Cáº¦U QUYá»€N Háº N
--------------------
- Cáº§n quyá»n root hoáº·c sudo

CÃ¡ch cháº¡y Ä‘Ãºng:
    sudo apt install mysql-client -y


5. KIá»‚M TRA SAU KHI CÃ€I Äáº¶T
--------------------------
Kiá»ƒm tra phiÃªn báº£n:
    mysql --version

Kiá»ƒm tra vá»‹ trÃ­ file:
    which mysql

Kiá»ƒm tra gÃ³i Ä‘Ã£ cÃ i:
    dpkg -l | grep mysql-client


6. LÆ¯U Ã QUAN TRá»ŒNG
------------------
- mysql-client KHÃ”NG khá»Ÿi táº¡o service
- KhÃ´ng má»Ÿ cá»•ng máº¡ng
- KhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n MySQL Server Ä‘ang cháº¡y
- An toÃ n Ä‘á»ƒ cÃ i trÃªn mÃ¡y chá»‰ lÃ m client

TrÃªn Ubuntu má»›i:
- mysql-client cÃ³ thá»ƒ trá» tá»›i:
  + mysql-client-8.0
  + Hoáº·c phiÃªn báº£n tÆ°Æ¡ng thÃ­ch trong repo


7. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------

7.1. Unable to locate package mysql-client
-------------------------------------------
NguyÃªn nhÃ¢n:
- ChÆ°a cháº¡y apt update
- Repository chÆ°a Ä‘áº§y Ä‘á»§

CÃ¡ch xá»­ lÃ½:
    sudo apt update
    sudo apt install mysql-client -y


7.2. Version khÃ¡c mong muá»‘n
---------------------------
NguyÃªn nhÃ¢n:
- Repo máº·c Ä‘á»‹nh khÃ´ng cÃ³ phiÃªn báº£n mong muá»‘n

CÃ¡ch xá»­ lÃ½:
- CÃ i phiÃªn báº£n cá»¥ thá»ƒ:
    apt install mysql-client-8.0 -y


8. SO SÃNH NHANH
----------------
- mysql-client:
  + Chá»‰ dÃ¹ng Ä‘á»ƒ káº¿t ná»‘i vÃ  thao tÃ¡c
  + KhÃ´ng cháº¡y server

- mysql-server:
  + CÃ i Ä‘áº·t dá»‹ch vá»¥ MySQL Server
  + Láº¯ng nghe cá»•ng 3306


9. TÃ“M Táº®T
----------
- apt install mysql-client -y dÃ¹ng Ä‘á»ƒ cÃ i MySQL Client
- -y giÃºp tá»± Ä‘á»™ng xÃ¡c nháº­n
- PhÃ¹ há»£p cho mÃ´i trÆ°á»ng client, app server, container

Káº¾T LUáº¬N:
---------
ÄÃ¢y lÃ  lá»‡nh cÃ i Ä‘áº·t MySQL Client nhanh, gá»n, an toÃ n cho má»i há»‡ thá»‘ng Debian-based.

		
	AWS Part-1 - Amazon EFS (Elastic File System):	

		Amazon EFS (Elastic File System) lÃ  dá»‹ch vá»¥ lÆ°u trá»¯ file Ä‘Æ°á»£c AWS cung cáº¥p, dÃ¹ng Ä‘á»ƒ chia sáº» dá»¯ liá»‡u giá»¯a
		nhiá»u EC2 instance hoáº·c container má»™t cÃ¡ch dá»… dÃ ng.
		
		Äáº·c Ä‘iá»ƒm chÃ­nh cá»§a EFS:

			LÆ°u trá»¯ dáº¡ng file (NFS â€“ Network File System), khÃ´ng pháº£i block nhÆ° EBS vÃ  khÃ´ng pháº£i object nhÆ° S3.

			Tá»± Ä‘á»™ng má»Ÿ rá»™ng: dung lÆ°á»£ng tÄƒng/giáº£m theo nhu cáº§u, báº¡n chá»‰ tráº£ tiá»n cho dung lÆ°á»£ng dÃ¹ng thá»±c táº¿.

			Chia sáº» giá»¯a nhiá»u EC2: nhiá»u mÃ¡y áº£o (EC2) cÃ³ thá»ƒ mount vÃ o cÃ¹ng má»™t EFS vÃ  Ä‘á»c/ghi dá»¯ liá»‡u chung.

			High availability: dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u trá»¯ tá»± Ä‘á»™ng trong nhiá»u AZ (Availability Zone) trong cÃ¹ng 1 region.

			Hiá»‡u nÄƒng cao, cÃ³ thá»ƒ dÃ¹ng cho web server, big data, container, CI/CD.
		
	AWS Part-1 - Security group:	
		
		0.0.0.0/0 â†’ toÃ n bá»™ IPv4 address space (má»i Ä‘á»‹a chá»‰ IPv4 Ä‘á»u truy cáº­p Ä‘Æ°á»£c).

		::/0 â†’ toÃ n bá»™ IPv6 address space (má»i Ä‘á»‹a chá»‰ IPv6 Ä‘á»u truy cáº­p Ä‘Æ°á»£c).
		
		ChÃº Ã½ khi táº¡o load balancer thÃ¬ trong nÃ³ sáº½ cÃ³ 1 security group vÃ­ dá»¥ nhÆ° sg-b, trong instance sáº½ cÃ³ 1 security group vÃ­
		dá»¥ nhÆ° a-sg, thÃ¬ trong a-sg pháº£i add thÃªm b-sg Ä‘á»ƒ nÃ³ cháº¥p nháº­n truy cáº­p tá»« load balancer
		
		ChÃº Ã½ khi gÃ¡n public IP cá»§a mÃ¡y vÃ o security group, chÃºng ta táº¯t mÃ¡y rá»“i má»Ÿ láº¡i thÃ¬ sáº½ cÃ³ public API má»›i,
		lÃºc nÃ y cáº§n cáº­p nháº­t nÃ³ trong security group Ä‘á»ƒ cÃ³ public IP má»›i nháº¥t
		
	AWS Part-1 - Security group NFS:
	
		Trong Security Group cá»§a AWS, khi báº¡n tháº¥y NFS thÃ¬ nÃ³ lÃ  viáº¿t táº¯t cá»§a:

		NFS (Network File System): giao thá»©c chia sáº» file qua máº¡ng, thÆ°á»ng dÃ¹ng bá»Ÿi Amazon EFS (Elastic File System).
		
		ThÃ´ng tin cÆ¡ báº£n vá» NFS trong Security Group:

			Protocol: TCP

			Port: 2049 (cá»•ng máº·c Ä‘á»‹nh cá»§a NFS)

			Ã nghÄ©a: Cho phÃ©p EC2 (hoáº·c cÃ¡c mÃ¡y khÃ¡c trong VPC) káº¿t ná»‘i Ä‘áº¿n EFS Ä‘á»ƒ Ä‘á»c/ghi file.
			
		VÃ­ dá»¥ Security Group cho EFS:

			Äá»ƒ EC2 cÃ³ thá»ƒ mount EFS:

				Security Group cá»§a EFS pháº£i má»Ÿ inbound rule:

				Type: NFS

				Protocol: TCP

				Port Range: 2049

				Source: Security Group cá»§a EC2 (hoáº·c CIDR cá»§a VPC, vÃ­ dá»¥ 10.0.0.0/16)
		
	AWS Part-1 - EBS:
	
		EBS trong AWS lÃ  viáº¿t táº¯t cá»§a Amazon Elastic Block Store. ÄÃ¢y lÃ  dá»‹ch vá»¥ cung cáº¥p lÆ°u
		trá»¯ dáº¡ng block (block storage) cho cÃ¡c EC2 instance.		
		
		Äáº·c Ä‘iá»ƒm chÃ­nh cá»§a Amazon EBS:

			Block storage:

				Dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u thÃ nh cÃ¡c khá»‘i (block), tÆ°Æ¡ng tá»± nhÆ° á»• cá»©ng gáº¯n vÃ o mÃ¡y tÃ­nh.

				CÃ³ thá»ƒ format thÃ nh há»‡ thá»‘ng file (ext4, xfs, NTFS, â€¦) hoáº·c dÃ¹ng trá»±c tiáº¿p cho
				database, á»©ng dá»¥ng cáº§n truy cáº­p I/O nhanh.

			Gáº¯n vá»›i EC2 Instance:

				Má»™t volume EBS giá»‘ng nhÆ° á»• cá»©ng áº£o gáº¯n vÃ o EC2.

				CÃ³ thá»ƒ gáº¯n má»™t volume cho nhiá»u instance (cháº¿ Ä‘á»™ read-only) hoáº·c cho 1 instance (read/write).

			TÃ­nh Ä‘Ã n há»“i (Elastic):

				CÃ³ thá»ƒ tÄƒng/giáº£m dung lÆ°á»£ng mÃ  khÃ´ng cáº§n dá»«ng instance.

				Há»— trá»£ thay Ä‘á»•i loáº¡i volume (vÃ­ dá»¥ tá»« HDD sang SSD).

			TÃ­nh bá»n vá»¯ng (Durability):

				EBS Ä‘Æ°á»£c lÆ°u trá»¯ trong Availability Zone (AZ), cÃ³ kháº£ nÄƒng replicate trong AZ Ä‘á»ƒ trÃ¡nh
				máº¥t dá»¯ liá»‡u khi cÃ³ lá»—i pháº§n cá»©ng.

			Snapshot:

				CÃ³ thá»ƒ táº¡o báº£n sao (snapshot) cá»§a volume vÃ  lÆ°u trÃªn Amazon S3.

				Snapshot dÃ¹ng Ä‘á»ƒ backup hoáº·c táº¡o volume má»›i tá»« báº£n copy.

	AWS Part-1 - EBS Snapshot:
	
		Trong Amazon EBS, snapshot chÃ­nh lÃ  cÆ¡ cháº¿ lÆ°u láº¡i dá»¯ liá»‡u cá»§a má»™t volume táº¡i má»™t
		thá»i Ä‘iá»ƒm cá»¥ thá»ƒ (point-in-time).
					
		Cá»¥ thá»ƒ hÆ¡n:

			Má»™t EBS volume giá»‘ng nhÆ° á»• cá»©ng gáº¯n vÃ o EC2 instance.

			Khi báº¡n táº¡o snapshot:

				AWS sáº½ "chá»¥p láº¡i" toÃ n bá»™ dá»¯ liá»‡u cá»§a volume táº¡i thá»i Ä‘iá»ƒm Ä‘Ã³.

				Snapshot nÃ y Ä‘Æ°á»£c lÆ°u trong S3 ná»™i bá»™ cá»§a AWS (báº¡n khÃ´ng trá»±c tiáº¿p tháº¥y trong
				bucket S3, mÃ  quáº£n lÃ½ qua EC2 console/CLI).
				
		Má»¥c Ä‘Ã­ch chÃ­nh cá»§a snapshot:

			Sao lÆ°u dá»¯ liá»‡u (backup)

				Äá»ƒ phÃ²ng sá»± cá»‘ máº¥t dá»¯ liá»‡u, há»ng volume, hoáº·c EC2 bá»‹ terminate.

			Phá»¥c há»“i (restore)

				Báº¡n cÃ³ thá»ƒ táº¡o láº¡i má»™t volume má»›i tá»« snapshot â†’ cÃ³ dá»¯ liá»‡u giá»‘ng há»‡t volume ban Ä‘áº§u táº¡i thá»i Ä‘iá»ƒm chá»¥p.

			Táº¡o báº£n copy (clone)

				DÃ¹ng snapshot Ä‘á»ƒ táº¡o volume má»›i cho mÃ´i trÆ°á»ng test/dev mÃ  khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n volume gá»‘c.

			Di chuyá»ƒn dá»¯ liá»‡u giá»¯a region

				Snapshot cÃ³ thá»ƒ copy sang region khÃ¡c, sau Ä‘Ã³ táº¡o volume á»Ÿ Ä‘Ã³.
			
		LÆ°u Ã½ quan trá»ng:

			Snapshot EBS lÃ  incremental:

				Snapshot Ä‘áº§u tiÃªn = toÃ n bá»™ dá»¯ liá»‡u.

				Snapshot tiáº¿p theo = chá»‰ lÆ°u pháº§n dá»¯ liá»‡u thay Ä‘á»•i tá»« láº§n trÆ°á»›c â†’ tiáº¿t kiá»‡m chi phÃ­.

			Náº¿u xÃ³a 1 snapshot, dá»¯ liá»‡u cá»§a snapshot Ä‘Ã³ Ä‘Æ°á»£c giá»¯ láº¡i trong cÃ¡c snapshot
			sau (AWS Ä‘áº£m báº£o khÃ´ng máº¥t dá»¯ liá»‡u miá»…n lÃ  cÃ²n Ã­t nháº¥t 1 snapshot trong chuá»—i).
			
	WS Part-1 - EC2 Launch Template:
	
		Launch Template lÃ  má»™t â€œmáº«u cáº¥u hÃ¬nhâ€ (template) chá»©a sáºµn thÃ´ng tin cáº§n thiáº¿t Ä‘á»ƒ táº¡o EC2 instance.

		NÃ³ giÃºp báº¡n chuáº©n hÃ³a vÃ  tÃ¡i sá»­ dá»¥ng cáº¥u hÃ¬nh khi khá»Ÿi táº¡o nhiá»u EC2.

		CÃ³ thá»ƒ coi nhÆ° lÃ  má»™t "blueprint" cho instance.

		ThÃ´ng tin lÆ°u trong Launch Template:

			Khi táº¡o Launch Template, báº¡n cÃ³ thá»ƒ Ä‘á»‹nh nghÄ©a sáºµn:

				AMI (Amazon Machine Image) â†’ há»‡ Ä‘iá»u hÃ nh, pháº§n má»m cÃ i sáºµn.

				Instance type (t2.micro, t3.small, v.v.).

				Key pair (dÃ¹ng Ä‘á»ƒ SSH).

				Security group.

				VPC + Subnet.

				EBS volume mapping (á»• cá»©ng gáº¯n vÃ o instance).

				IAM role cho EC2.

				User data (script cháº¡y khi instance khá»Ÿi Ä‘á»™ng).

				Network settings (private/public IP).
				
		TÃ­nh nÄƒng chÃ­nh:

			TÃ¡i sá»­ dá»¥ng cáº¥u hÃ¬nh:

				KhÃ´ng pháº£i nháº­p tay láº¡i tá»«ng thÃ´ng tin khi launch EC2 má»›i.

			Versioning (phiÃªn báº£n hÃ³a):

				Má»—i khi báº¡n thay Ä‘á»•i Launch Template â†’ sáº½ táº¡o ra má»™t version má»›i.

				CÃ³ thá»ƒ quay láº¡i version cÅ© hoáº·c chá»n version máº·c Ä‘á»‹nh.

			TÃ­ch há»£p vá»›i Auto Scaling vÃ  Spot Fleet:

				Khi báº¡n táº¡o Auto Scaling Group hoáº·c EC2 Spot Fleet, thay vÃ¬ cáº¥u hÃ¬nh phá»©c táº¡p â†’ chá»‰ cáº§n trá» Ä‘áº¿n Launch Template.

			So vá»›i Launch Configuration (LC):

				Launch Template lÃ  phiÃªn báº£n cáº£i tiáº¿n cá»§a Launch Configuration.

				Há»— trá»£ nhiá»u tÃ­nh nÄƒng hÆ¡n (versioning, multiple instance types, T2/T3 Unlimited, placement groups...).

				AWS khuyÃªn dÃ¹ng Launch Template thay vÃ¬ Launch Configuration.
				
		VÃ­ dá»¥ thá»±c táº¿

			Báº¡n muá»‘n triá»ƒn khai Auto Scaling Group cho web server:

			Táº¡o Launch Template vá»›i cáº¥u hÃ¬nh:

				AMI Ubuntu 22.04

				Instance type: t3.micro

				Security Group má»Ÿ cá»•ng 80/443

				User Data: cÃ i Nginx

			Khi Auto Scaling cáº§n táº¡o thÃªm EC2 â†’ nÃ³ sáº½ dá»±a vÃ o Launch Template nÃ y, Ä‘áº£m báº£o táº¥t cáº£ instance Ä‘á»u giá»‘ng nhau.
			
	AWS Part-1 - Load Balancing:
	
		Load Balancing = ká»¹ thuáº­t phÃ¢n phá»‘i lÆ°u lÆ°á»£ng (traffic) Ä‘áº¿n nhiá»u server (targets) thay vÃ¬ dá»“n háº¿t vÃ o má»™t server.

		Má»¥c tiÃªu:

			TÄƒng tÃ­nh sáºµn sÃ ng (High Availability) â†’ náº¿u 1 server há»ng, traffic tá»± Ä‘á»™ng chuyá»ƒn sang server khÃ¡c.

			TÄƒng kháº£ nÄƒng má»Ÿ rá»™ng (Scalability) â†’ thÃªm server má»›i Ä‘á»ƒ gÃ¡nh thÃªm táº£i.

			CÃ¢n báº±ng hiá»‡u nÄƒng (Performance) â†’ trÃ¡nh 1 server bá»‹ quÃ¡ táº£i trong khi server khÃ¡c ráº£nh.

			Trong AWS, Elastic Load Balancer (ELB) chÃ­nh lÃ  dá»‹ch vá»¥ thá»±c hiá»‡n load balancing cho EC2 vÃ 
			cÃ¡c dá»‹ch vá»¥ backend khÃ¡c.
			
		ThÃ nh pháº§n chÃ­nh trong Load Balancing (EC2 + ELB):

			Load Balancer (ALB, NLB, GWLB, CLB):

				ThÃ nh pháº§n Ä‘á»©ng trÆ°á»›c client.

				Nháº­n request tá»« user â†’ phÃ¢n phá»‘i Ä‘áº¿n backend.

			Listener:

				Quy Ä‘á»‹nh protocol & port (VD: HTTP:80, HTTPS:443, TCP:3306).

				CÃ³ thá»ƒ cÃ³ nhiá»u listener trong má»™t Load Balancer.

			Target Group:

				Táº­p há»£p backend (EC2 instances, IPs, Lambda, ECS tasks).

				Load Balancer sáº½ gá»­i request Ä‘áº¿n Target Group theo rule.

			Health Check:

				Load Balancer kiá»ƒm tra tráº¡ng thÃ¡i (healthy/unhealthy) cá»§a tá»«ng target.

				Chá»‰ gá»­i request Ä‘áº¿n target cÃ²n "healthy".
				
		CÃ¡c loáº¡i Load Balancer trong AWS

			Application Load Balancer (ALB)

				DÃ¹ng cho HTTP/HTTPS.

				CÃ³ tÃ­nh nÄƒng routing theo path, host, header (Layer 7).

				VÃ­ dá»¥: /api/* vÃ o backend API, /img/* vÃ o backend static server.

			Network Load Balancer (NLB)

				DÃ¹ng cho TCP/UDP (Layer 4).

				Hiá»‡u nÄƒng cá»±c cao, Ä‘á»™ trá»… tháº¥p, xá»­ lÃ½ hÃ ng triá»‡u request/s.

			Gateway Load Balancer (GWLB)

				DÃ¹ng Ä‘á»ƒ phÃ¢n phá»‘i traffic qua firewall/appliance (Layer 3).

				Classic Load Balancer (CLB)

				Dá»‹ch vá»¥ Ä‘á»i cÅ©, Ã­t dÃ¹ng cho há»‡ thá»‘ng má»›i.
				
		VÃ­ dá»¥ thá»±c táº¿:

			Báº¡n cÃ³ 3 EC2 cháº¡y web server:

			Cáº¥u hÃ¬nh 1 Application Load Balancer (ALB) vá»›i listener HTTP:80.

			Gáº¯n 3 EC2 nÃ y vÃ o Target Group.

			Khi ngÆ°á»i dÃ¹ng truy cáº­p website:

				Request Ä‘áº¿n ALB.

				ALB chá»n 1 EC2 trong target group (theo Round Robin hoáº·c rule khÃ¡c).

				Náº¿u 1 EC2 bá»‹ down â†’ ALB ngá»«ng gá»­i traffic Ä‘áº¿n nÃ³.
			
	AWS Part-1 - Target Group cá»§a Load Balancing:
	
		Target Group lÃ  táº­p há»£p cÃ¡c backend (targets) â€“ tá»©c lÃ  nÆ¡i nháº­n request tá»« Load Balancer.

		CÃ¡c target cÃ³ thá»ƒ lÃ :

			EC2 instances

			IP addresses (private IP)

			Lambda functions

			ECS tasks (trong case dÃ¹ng vá»›i container)

		NÃ³i Ä‘Æ¡n giáº£n: Target Group = danh sÃ¡ch cÃ¡c server/á»©ng dá»¥ng mÃ  Load Balancer sáº½ phÃ¢n phá»‘i traffic Ä‘áº¿n.
		
		CÃ¡ch hoáº¡t Ä‘á»™ng

			NgÆ°á»i dÃ¹ng gá»­i request â†’ Load Balancer nháº­n request.

			Load Balancer sáº½ chuyá»ƒn request Ä‘áº¿n má»™t Target Group Ä‘Ã£ gáº¯n vá»›i nÃ³.

			Trong Target Group, LB phÃ¢n phá»‘i request Ä‘áº¿n cÃ¡c target cá»¥ thá»ƒ (EC2, IP, ECS task...) dá»±a
			theo policy (Round Robin, Least Outstanding Request, â€¦).

			Target Group cÃ³ health check Ä‘á»ƒ xÃ¡c Ä‘á»‹nh target nÃ o cÃ²n â€œsá»‘ngâ€ (healthy). LB chá»‰ gá»­i traffic Ä‘áº¿n cÃ¡c target healthy.
			
		CÃ¡c loáº¡i Target Group (tÃ¹y loáº¡i Load Balancer):

			Application Load Balancer (ALB): target group cÃ³ thá»ƒ chá»©a EC2, IP, ECS tasks, Lambda.

			Network Load Balancer (NLB): target group thÆ°á»ng chá»©a EC2 hoáº·c IP.

			Gateway Load Balancer (GWLB): target group chá»©a appliances (vÃ­ dá»¥ firewall áº£o).
			
		Health Check:

			Má»—i Target Group cÃ³ thá»ƒ cáº¥u hÃ¬nh health check riÃªng (HTTP, HTTPS, TCP).

			Náº¿u target fail health check â†’ LB táº¡m dá»«ng gá»­i request Ä‘áº¿n Ä‘Ã³.
			
		VÃ­ dá»¥ thá»±c táº¿:

			Báº¡n cÃ³ 2 EC2 web server cháº¡y Nginx:

				Táº¡o Target Group web-servers.

				Add 2 EC2 instance (10.0.1.10, 10.0.1.11) vÃ o Target Group.

				Cáº¥u hÃ¬nh ALB rule: náº¿u request Ä‘áº¿n / â†’ forward Ä‘áº¿n Target Group web-servers.

				Khi ALB nháº­n request, nÃ³ sáº½ forward sang 1 trong 2 EC2 Ä‘Ã³ (theo Round Robin).
				
	AWS Part-1 - EC2 Auto Scaling:
	
		Trong AWS, Auto Scaling (thÆ°á»ng gá»i lÃ  EC2 Auto Scaling) lÃ  dá»‹ch vá»¥ giÃºp báº¡n tá»± Ä‘á»™ng Ä‘iá»u chá»‰nh
		sá»‘ lÆ°á»£ng tÃ i nguyÃªn (EC2 instances) Ä‘á»ƒ Ä‘Ã¡p á»©ng nhu cáº§u táº£i, mÃ  khÃ´ng cáº§n can thiá»‡p thá»§ cÃ´ng.
		
		CÃ¡c thÃ nh pháº§n chÃ­nh trong AWS Auto Scaling

		Launch Template / Launch Configuration:

			Äá»‹nh nghÄ©a cÃ¡ch EC2 sáº½ Ä‘Æ°á»£c táº¡o: AMI, instance type, key pair, security group, user data,â€¦

		Auto Scaling Group (ASG):

			LÃ  nhÃ³m EC2 Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi Auto Scaling.

			Báº¡n cáº¥u hÃ¬nh:

				Min size: sá»‘ lÆ°á»£ng EC2 tá»‘i thiá»ƒu.

				Max size: sá»‘ lÆ°á»£ng EC2 tá»‘i Ä‘a.

				Desired capacity: sá»‘ lÆ°á»£ng EC2 mong muá»‘n (ASG sáº½ duy trÃ¬ con sá»‘ nÃ y).

		Scaling Policies:

			Quy táº¯c Ä‘á»ƒ scale in (giáº£m) hoáº·c scale out (tÄƒng).

			VÃ­ dá»¥:

				Náº¿u CPU > 70% trong 5 phÃºt â†’ scale out +1 instance.

				Náº¿u CPU < 30% trong 10 phÃºt â†’ scale in -1 instance.

		Health Checks:

			ASG sáº½ kiá»ƒm tra tÃ¬nh tráº¡ng EC2. Náº¿u má»™t instance unhealthy, nÃ³ sáº½ terminate vÃ  khá»Ÿi táº¡o láº¡i instance má»›i.

		Integration vá»›i Load Balancer

			ASG thÆ°á»ng gáº¯n vá»›i Target Group cá»§a má»™t Elastic Load Balancer (ALB/NLB).

			Khi EC2 scale in/out, chÃºng sáº½ tá»± Ä‘á»™ng Ä‘Æ°á»£c Ä‘Äƒng kÃ½/dá»¡ khá»i target group.
			
	AWS Part-1 - Route 53:
	
		Amazon Route 53 lÃ  má»™t dá»‹ch vá»¥ DNS (Domain Name System) vÃ  quáº£n lÃ½ tÃªn miá»n cá»§a AWS.

		CÃ¡c chá»©c nÄƒng chÃ­nh cá»§a Route 53:

			Domain Registration (ÄÄƒng kÃ½ tÃªn miá»n)

				Báº¡n cÃ³ thá»ƒ mua vÃ  quáº£n lÃ½ domain trá»±c tiáº¿p trÃªn AWS (vÃ­ dá»¥: mywebsite.com).

			DNS Service (Há»‡ thá»‘ng phÃ¢n giáº£i tÃªn miá»n)

				Biáº¿n tÃªn miá»n dá»… nhá»› (mywebsite.com) thÃ nh Ä‘á»‹a chá»‰ IP tháº­t (192.0.2.1).

				Quáº£n lÃ½ cÃ¡c báº£n ghi DNS nhÆ°:

					A (IPv4 address)

					AAAA (IPv6 address)

					CNAME (alias)

					MX (mail server)

					TXT (text records, thÆ°á»ng dÃ¹ng cho xÃ¡c thá»±c email, SSL, â€¦).

			Traffic Routing (Äiá»u hÆ°á»›ng lÆ°u lÆ°á»£ng thÃ´ng minh)

				Route 53 há»— trá»£ nhiá»u kiá»ƒu Ä‘iá»u hÆ°á»›ng:

					Simple routing â†’ trá» domain Ä‘áº¿n 1 server duy nháº¥t.

					Weighted routing â†’ chia táº£i theo tá»‰ lá»‡ % giá»¯a nhiá»u server.

					Latency-based routing â†’ gá»­i user Ä‘áº¿n server cÃ³ Ä‘á»™ trá»… tháº¥p nháº¥t.

					Failover routing â†’ tá»± Ä‘á»™ng chuyá»ƒn sang server khÃ¡c khi server chÃ­nh bá»‹ down.

			Health Checks & Monitoring (GiÃ¡m sÃ¡t dá»‹ch vá»¥)

				Route 53 cÃ³ thá»ƒ kiá»ƒm tra tÃ¬nh tráº¡ng endpoint (web server, API, â€¦).

				Náº¿u server khÃ´ng pháº£n há»“i, Route 53 sáº½ tá»± Ä‘á»™ng chuyá»ƒn traffic sang server backup.

			á»¨ng dá»¥ng thá»±c táº¿

				Khi báº¡n cÃ³ website cháº¡y trÃªn EC2 / S3 / Load Balancer, báº¡n dÃ¹ng Route 53 Ä‘á»ƒ:

					Trá» domain (myapp.com) â†’ Elastic Load Balancer.

					Tá»± Ä‘á»™ng Ä‘iá»u hÆ°á»›ng ngÆ°á»i dÃ¹ng Ä‘áº¿n server gáº§n nháº¥t (multi-region).

					Äáº£m báº£o há»‡ thá»‘ng váº«n online khi má»™t server bá»‹ lá»—i (failover).
		
	AWS Part-1 - Kiáº¿n thá»©c:	
		
		- EC2 Key pair name: RSA, ED25519
		- EC2 prite key format: .pem, .ppk
		- EC2 network settings: VPC
		- EC2 network setting: Inbound Security Group Rules
		- EC2 instances -> connect -> ssh client
		- EC2 instance -> security -> security group -> edit inbound rules
		- EC2 -> key pair
		- EC2 network interface
		- EC2 security group: My IP
		- EC2 -> Launch an instance -> Resource types -> Intances, Volumes
		- EC2 -> Instance -> Actions -> Instance settings -> Change instance type
		- EC2 -> Instance -> Actions -> Image and templates -> Create image
		- EC2 -> Images -> AMIs
		- EC2 -> Images -> Action -> Copy AMI
		- EC2 -> Images -> Action -> Edit AMI permissions
		- EC2 -> Images -> Action -> Launch instance from AMI
		- EC2 -> Instance -> Actions -> Security -> Change security groups
		- EC2 -> Instance -> Actions -> Monitor and troubleshoot -> Get system log
		- EC2 -> Instance -> Network & Security -> Elastic IPs -> Actions -> Dissociate Elastic IP address
		- EC2 -> Instance -> Network & Security -> Elastic IPs -> Actions -> Release Elastic IP addresses
		- EC2 -> Instances -> Storage -> Block devices
		- EC2 -> Instances -> Launch Templates -> Actions -> Launch instance from template
		- EC2 -> Instances -> Create image
		- EC2 -> Elastic Block Store -> Volumes
		- EC2 -> Elastic Block Store -> Volumes -> Action -> Attach Volume
		- EC2 -> Elastic Block Store ->  Actions -> Detach volume
		- EC2 -> Elastic Block Store ->  Actions -> Force detach volume
		- EC2 -> Elastic Block Store ->  Actions -> Create snapshot
		- EC2 -> Load Balancing -> Target groups -> Create target group
		- EC2 -> Load Balancing -> Load Balancers -> Create load balancer
		- EC2 -> AMIs -> Launch instance from AMI
		- EC2 -> Auto Scaling groups
		- EC2 -> Instances -> Vao instance -> Actions -> Security -> Modify IAM role
		- EC2 -> Elastic IPs -> Allocate Elastis IP address
		- EC2 -> Elastic IPs -> instance -> Associate Elastic IP address
		- EC2 -> Elastic IPs -> instance -> Dissociate Elastic IP address
		- EC2 -> Elastic IPs -> instance -> Release Elastic IP address
		- CloudWatch -> All alarms -> Create alarm
		- Amazon EFS -> Access points
		- Amazon S3 -> Buckets
		- Amazon S3 -> Buckets -> Objects
		- Amazon S3 -> Buckets -> Properties
		- Amazon S3 -> Buckets -> Permission
		- Amazon S3 -> Buckets -> Manegement -> Lifecycle rules -> Create lifecycle rule
		- Amazon S3 -> Buckets -> Manegement -> Replication rules -> Create replication rules
		- Aurora and RDS
		- Aurora and RDS -> Snapshots		
		- Aurora and RDS -> Databases -> Actions -> Migrate snapshot
		- Aurora and RDS -> Parameter group
		- Aurora and RDS -> Subnet groups
		- Route 53 -> Dashboard -> Create hosted zone
		- IAM -> Access management -> Users -> Add users
		- IAM -> Access management -> Users -> Security credentials -> Access keys -> Create access key
		- IAM -> Access management -> Roles -> Create role
		- IAM -> Users -> Create user
		- IAM -> User -> VÃ o user -> Security credentials -> Create access key
		- Certificate Manager
		- Amazon AlasticCache -> Parameter groups -> Create parameter group
		- Amazon AlasticCache -> Subnet groups -> Create subnet group
		- Amazon AlasticCache -> Dashboard -> Create cache -> Create Memcache
		- Amazon MQ -> Broker -> Create brokers
		- Amazon Elastic Beanstalk -> Environment -> Upload and deploy
		- Cloudfront
		
		
		
		

	
	Trong bÆ°á»›c Set permissions khi táº¡o IAM User trÃªn AWS, báº¡n tháº¥y cÃ³ 3 tÃ¹y chá»n cáº¥p quyá»n:

		1. Add user to group

			ThÃªm user vÃ o má»™t nhÃ³m (IAM Group).

			NhÃ³m nÃ y Ä‘Ã£ cÃ³ sáºµn cÃ¡c policy (quyá»n háº¡n).

			Táº¥t cáº£ cÃ¡c user trong nhÃ³m sáº½ káº¿ thá»«a quyá»n tá»« nhÃ³m Ä‘Ã³.

			ÄÃ¢y lÃ  cÃ¡ch quáº£n lÃ½ táº­p trung, dá»… duy trÃ¬ khi cÃ³ nhiá»u user. VÃ­ dá»¥: táº¡o group Developers
			vá»›i quyá»n AmazonEC2FullAccess, má»i user trong group sáº½ cÃ³ quyá»n Ä‘Ã³.

		2. Copy permissions

			Sao chÃ©p toÃ n bá»™ quyá»n cá»§a má»™t user khÃ¡c sang user má»›i.

			Bao gá»“m group memberships, attached managed policies, vÃ  inline policies.

			Tiá»‡n khi báº¡n cÃ³ má»™t user cÅ© lÃ m chuáº©n, vÃ  muá»‘n user má»›i cÃ³ quyá»n giá»‘ng há»‡t.

		3. Attach policies directly

			Gáº¯n trá»±c tiáº¿p policy (quyá»n háº¡n) vÃ o user.

			Báº¡n chá»n cÃ¡c AWS managed policy (AWS táº¡o sáºµn, vÃ­ dá»¥: AmazonS3ReadOnlyAccess) hoáº·c customer
			managed policy (do báº¡n tá»± táº¡o).

			Linh hoáº¡t cho tá»«ng user, nhÆ°ng khÃ´ng khuyáº¿n khÃ­ch náº¿u cÃ³ nhiá»u user vÃ¬ sáº½ khÃ³ quáº£n lÃ½ vá» lÃ¢u dÃ i.	
		
		
			
			

		Quy trÃ¬nh táº¡o má»™t Amazon EC2 Instance (mÃ¡y áº£o cháº¡y trÃªn AWS). Flow gá»“m cÃ¡c bÆ°á»›c tuáº§n tá»± nhÆ° sau:

			Choose an AMI (Amazon Machine Image)

				AMI lÃ  "báº£n máº«u" há»‡ Ä‘iá»u hÃ nh + pháº§n má»m (Ubuntu, Amazon Linux, Windows Server, â€¦).

				Báº¡n chá»n AMI Ä‘á»ƒ quyáº¿t Ä‘á»‹nh mÃ¡y áº£o cá»§a báº¡n sáº½ cháº¡y há»‡ Ä‘iá»u hÃ nh nÃ o, cÃ³ cÃ i sáºµn pháº§n má»m gÃ¬.

			Choose an Instance Type

				á» bÆ°á»›c nÃ y báº¡n chá»n loáº¡i EC2 instance (tÃ­nh nÄƒng giá»‘ng nhÆ° chá»n cáº¥u hÃ¬nh pháº§n cá»©ng).

				VÃ­ dá»¥: t2.micro (1 vCPU, 1GB RAM â€“ miá»…n phÃ­ trong Free Tier), m5.large, c5.xlarge, â€¦

				Má»—i loáº¡i khÃ¡c nhau vá» CPU, RAM, kháº£ nÄƒng máº¡ng, dÃ¹ng cho má»¥c Ä‘Ã­ch khÃ¡c nhau (test, production, tÃ­nh toÃ¡n náº·ngâ€¦).

		Configuring the Instance

			Cáº¥u hÃ¬nh chi tiáº¿t cho instance:

				Cháº¡y bao nhiÃªu instance

				VPC/Subnet (máº¡ng nÃ o)

				Tá»± Ä‘á»™ng cáº¥p public IP hay khÃ´ng

				IAM Role (gáº¯n quyá»n Ä‘á»ƒ EC2 truy cáº­p dá»‹ch vá»¥ AWS khÃ¡c)

				User data (script tá»± cháº¡y khi khá»Ÿi Ä‘á»™ng instance)

		Adding Storage

			Chá»n dung lÆ°á»£ng á»• Ä‘Ä©a (EBS volume).

			CÃ³ thá»ƒ thÃªm nhiá»u volume, chá»n loáº¡i (SSD, HDD, provisioned IOPSâ€¦).

			VÃ­ dá»¥: 8GB gp2 SSD máº·c Ä‘á»‹nh.

		Adding Tags

			GÃ¡n nhÃ£n (key-value) Ä‘á»ƒ quáº£n lÃ½ dá»… hÆ¡n.

			VÃ­ dá»¥: Name=WebServer01, Environment=Dev.

			Tags giÃºp tÃ¬m kiáº¿m, phÃ¢n nhÃ³m, hoáº·c dÃ¹ng cho billing (chi phÃ­).

		Configure Security Group

			Security Group lÃ  tÆ°á»ng lá»­a áº£o cho EC2.

			á» Ä‘Ã¢y báº¡n Ä‘á»‹nh nghÄ©a inbound/outbound rules (cá»•ng nÃ o má»Ÿ cho IP nÃ o).

			VÃ­ dá»¥: má»Ÿ port 22 (SSH) cho IP cá»§a báº¡n, má»Ÿ port 80 (HTTP) cho má»i ngÆ°á»i.

		Review

			Xem láº¡i toÃ n bá»™ cáº¥u hÃ¬nh Ä‘Ã£ chá»n.

			Náº¿u á»•n, báº¡n nháº¥n "Launch" Ä‘á»ƒ khá»Ÿi táº¡o EC2.

			LÃºc nÃ y AWS sáº½ há»i báº¡n chá»n key pair (dÃ¹ng Ä‘á»ƒ SSH vÃ o mÃ¡y).

			Káº¿t quáº£: Báº¡n cÃ³ má»™t mÃ¡y áº£o EC2 cháº¡y trÃªn AWS, káº¿t ná»‘i qua SSH/HTTP/HTTPS tÃ¹y cáº¥u hÃ¬nh.

	Code trong Advanced details cá»§a EC2:

		Case 1:
		
			#!/bin/bash
			sudo yum install httpd -y
			sudo systemctl start httpd
			sudo systemctl enable httpd
			mkdir /tmp/test1
			
		Case 2:
		
			#!/bin/bash
			yum install httpd wget unzip -y
			systemctl start httpd
			systemctl enable httpd
			cd /tmp
			wget https://www.tooplate.com/zip-templates/2119_gymso_fitness.zip
			unzip -o 2119_gymso_fitness.zip
			cp -r 2119_gymso_fitness/* /var/www/html/
			systemctl restart httpd
			
		Case 3:
		
			#!/bin/bash

			# Variable Declaration
			#PACKAGE="httpd wget unzip"
			#SVC="httpd"
			URL='https://www.tooplate.com/zip-templates/2098_health.zip'
			ART_NAME='2098_health'
			TEMPDIR="/tmp/webfiles"

			yum --help &> /dev/null

			if [ $? -eq 0 ]
			then
			   # Set Variables for CentOS
			   PACKAGE="httpd wget unzip"
			   SVC="httpd"

			   echo "Running Setup on CentOS"
			   # Installing Dependencies
			   echo "########################################"
			   echo "Installing packages."
			   echo "########################################"
			   sudo yum install $PACKAGE -y > /dev/null
			   echo

			   # Start & Enable Service
			   echo "########################################"
			   echo "Start & Enable HTTPD Service"
			   echo "########################################"
			   sudo systemctl start $SVC
			   sudo systemctl enable $SVC
			   echo

			   # Creating Temp Directory
			   echo "########################################"
			   echo "Starting Artifact Deployment"
			   echo "########################################"
			   mkdir -p $TEMPDIR
			   cd $TEMPDIR
			   echo

			   wget $URL > /dev/null
			   unzip $ART_NAME.zip > /dev/null
			   sudo cp -r $ART_NAME/* /var/www/html/
			   echo

			   # Bounce Service
			   echo "########################################"
			   echo "Restarting HTTPD service"
			   echo "########################################"
			   systemctl restart $SVC
			   echo

			   # Clean Up
			   echo "########################################"
			   echo "Removing Temporary Files"
			   echo "########################################"
			   rm -rf $TEMPDIR
			   echo

			   sudo systemctl status $SVC
			   ls /var/www/html/

			else
				# Set Variables for Ubuntu
			   PACKAGE="apache2 wget unzip"
			   SVC="apache2"

			   echo "Running Setup on CentOS"
			   # Installing Dependencies
			   echo "########################################"
			   echo "Installing packages."
			   echo "########################################"
			   sudo apt update
			   sudo apt install $PACKAGE -y > /dev/null
			   echo

			   # Start & Enable Service
			   echo "########################################"
			   echo "Start & Enable HTTPD Service"
			   echo "########################################"
			   sudo systemctl start $SVC
			   sudo systemctl enable $SVC
			   echo

			   # Creating Temp Directory
			   echo "########################################"
			   echo "Starting Artifact Deployment"
			   echo "########################################"
			   mkdir -p $TEMPDIR
			   cd $TEMPDIR
			   echo

			   wget $URL > /dev/null
			   unzip $ART_NAME.zip > /dev/null
			   sudo cp -r $ART_NAME/* /var/www/html/
			   echo

			   # Bounce Service
			   echo "########################################"
			   echo "Restarting HTTPD service"
			   echo "########################################"
			   systemctl restart $SVC
			   echo

			   # Clean Up
			   echo "########################################"
			   echo "Removing Temporary Files"
			   echo "########################################"
			   rm -rf $TEMPDIR
			   echo

			   sudo systemctl status $SVC
			   ls /var/www/html/
			fi 

			
	Code trong vi /etc/fstab:

		Case 1:
		
			UUID=596343d2-9dab-4c86-9dd0-4a537eb34256 / xfs defaults 0 1
			UUID=5c6d2636-1ce3-4997-bf2f-1d032b4db44e /boot ext4 defaults 0 0
			UUID=DCE7-EF83 /boot/efi vfat defaults,umask=0077,shortname=winnt 0 0
			/dev/nvme1n1p1    /var/www/html/images ext4       defaults        0 0
			
		Case 2:
		
			UUID=596343d2-9dab-4c86-9dd0-4a537eb34256 / xfs defaults 0 1
			UUID=5c6d2636-1ce3-4997-bf2f-1d032b4db44e /boot ext4 defaults 0 0
			UUID=DCE7-EF83 /boot/efi vfat defaults,umask=0077,shortname=winnt 0 0
			/dev/nvme1n1  /var/lib/mysql ext4     defaults        0 0
			
		Case 3:
		
			fs-0001a83c45525fae6 /var/www/html/images efs _netdev,tls,accesspoint=fsap-04b21726d75c2e7eb 0 0

	
			
--- AWS Cloud For Project Set Up or Lift and Shift:

	Flow chÃ­nh:
	
		Luá»“ng hoáº¡t Ä‘á»™ng:

			User â†’ DNS (GoDaddy/Route53):
			
				NgÆ°á»i dÃ¹ng nháº­p domain vÃ o browser â†’ DNS phÃ¢n giáº£i domain â†’ IP cá»§a Load Balancer.

			DNS â†’ Application Load Balancer:
			
				Request tá»›i ALB (qua HTTPS/HTTP).

			ALB â†’ Tomcat Instances (ASG):
			
				ALB phÃ¢n phá»‘i request Ä‘áº¿n má»™t trong cÃ¡c EC2 Tomcat.

			Tomcat Instances â†’ Backend services:

				Náº¿u cáº§n dá»¯ liá»‡u â†’ Tomcat káº¿t ná»‘i tá»›i MySQL.

				Náº¿u cáº§n cache â†’ gá»i tá»›i Memcache.

				Náº¿u cáº§n message queue â†’ gá»i tá»›i RabbitMQ.

				Náº¿u cáº§n static file â†’ truy váº¥n tá»« S3 bucket.

				Domain ná»™i bá»™ (db01, mc01, rmq01) Ä‘Æ°á»£c phÃ¢n giáº£i nhá» Private DNS Zone (Route53).

			Response â†’ quay ngÆ°á»£c láº¡i cho user thÃ´ng qua Load Balancer.
	
		CÃ¡c thÃ nh pháº§n chÃ­nh:

			DNS Zones (GoDaddy / Route53):

				NgÆ°á»i dÃ¹ng (Users) truy cáº­p á»©ng dá»¥ng qua tÃªn miá»n (domain).

				DNS (vÃ­ dá»¥ GoDaddy hoáº·c Route53) phÃ¢n giáº£i tÃªn miá»n thÃ nh Ä‘á»‹a chá»‰ IP cá»§a Application Load Balancer.

			Application Load Balancer (ALB):

				Nháº­n request tá»« ngÆ°á»i dÃ¹ng qua HTTP/HTTPS.

				ALB cÃ³ Security Group riÃªng Ä‘á»ƒ kiá»ƒm soÃ¡t ai Ä‘Æ°á»£c phÃ©p truy cáº­p (vÃ­ dá»¥: má»Ÿ cá»•ng 80, 443).

				ALB phÃ¢n phá»‘i request Ä‘áº¿n cÃ¡c Tomcat Instances phÃ­a sau.

			Auto Scaling Group (ASG) + Tomcat Instances:

				CÃ¡c EC2 instances cháº¡y á»©ng dá»¥ng (Java/Tomcat).

				ASG Ä‘áº£m báº£o sá»‘ lÆ°á»£ng instances phÃ¹ há»£p (scale in/out).

				CÃ³ Security Group riÃªng, chá»‰ cho phÃ©p traffic Ä‘áº¿n tá»« ALB.

			Amazon S3 Bucket:

				LÆ°u trá»¯ static files (hÃ¬nh áº£nh, video, tÃ i liá»‡u).

				á»¨ng dá»¥ng Tomcat cÃ³ thá»ƒ Ä‘á»c/ghi file tá»« Ä‘Ã¢y.

			Amazon Route53 (Private DNS Zones):

				DÃ¹ng Ä‘á»ƒ phÃ¢n giáº£i ná»™i bá»™ trong VPC.

				VÃ­ dá»¥:

					db01 â†’ IP MySQL instance

					mc01 â†’ IP Memcache instance

					rmq01 â†’ IP RabbitMQ instance

				Äiá»u nÃ y giÃºp á»©ng dá»¥ng (Tomcat) gá»i service báº±ng tÃªn domain thay vÃ¬ IP cá»©ng.

			Backend Instances (cÃ³ Security Group riÃªng):

				MySQL Instances: Database server (cÃ³ thá»ƒ lÃ  RDS hoáº·c EC2 cÃ i MySQL).

				Memcache Instances: Cache Ä‘á»ƒ tÄƒng tá»‘c Ä‘á»™ xá»­ lÃ½.

				RabbitMQ Instances: Message broker, dÃ¹ng Ä‘á»ƒ giao tiáº¿p phi Ä‘á»“ng bá»™ giá»¯a cÃ¡c service.
				
	Tá»« EC2 instance -> Táº¡o image -> Táº¡o launch template vÃ  thÃªm image má»›i táº¡o vÃ o -> tao auto scaling group
	vÃ  thÃªm launch template má»›i táº¡o vÃ o
	
	NGINX á»Ÿ Ä‘Ã¢y Ä‘Ã³ng vai trÃ² lÃ  Reverse Proxy / Load Balancer, Tomcat khÃ´ng chá»‰ lÃ  web server mÃ  cÃ²n lÃ \
	application server (Java Servlet Container).
	
	EC2 cá»§a tomcat dÃ¹ng sg app, EC2 cá»§a rabbitmq, db, memcache dÃ¹ng sg backend
	
	Security group cá»§a load balancer sáº½ má»Ÿ all cho port 80 vÃ  443
	Security group cá»§a app sáº½ thÃªm sg cá»§a load balancer vá»›i port 8080
	Security group cá»§a backend sáº½ thÃªm sg cá»§a app vá»›i port 3306 cho MYSQL/Aurora, tiáº¿p tá»¥c sg cá»§a app cho
	port 11211, 5672, 22, vÃ  all port cho sg backend
	
	Táº¡o hosted zone á»Ÿ Route 53, láº¥y Ä‘á»‹a chá»‰ private cá»§a cÃ¡c ec2 Ä‘á»ƒ thÃªm record cho hosted zone vá»«a táº¡o
	
	Táº¡o bucket cho S3
	
	Táº¡o role vá»›i AmazoneS3FullAccess rá»“i thÃªm role vÃ o cho cÃ¡c EC2
	
	Táº¡o target group
	
	Táº¡o load balancer vá»›i security group load balancer. Sau Ä‘Ã³ thÃªm Ä‘á»‹a chá»‰ cá»§a load balancer vá»«a táº¡o vÃ o record trÃªn
	Go Daddy vá»›i type lÃ  cname
	
	Táº¡i image tá»« EC2 instance. Táº¡o launch template tá»« image vá»«a táº¡o vá»›i security group app. IAM instance profile vá»›i role
	táº¡o trÆ°á»›c Ä‘Ã³
	
	Táº¡o auto scaling group tá»« launch template vá»«a táº¡o, target group load balancer
	
	AWS Certificate Manager
	
	-- source: hkhcoder/vprofile-project (awsliftandshift)

	- Command:
	
		- cmd: mysql -u admin -padmin123 accounts
		
			mysql â†’ gá»i MySQL client (dÃ¹ng Ä‘á»ƒ káº¿t ná»‘i vÃ  lÃ m viá»‡c vá»›i MySQL server).

			-u admin â†’ chá»‰ Ä‘á»‹nh username Ä‘á»ƒ Ä‘Äƒng nháº­p vÃ o MySQL lÃ  admin.

			-padmin123

				-p dÃ¹ng Ä‘á»ƒ nháº­p máº­t kháº©u.

				á» Ä‘Ã¢y viáº¿t liá»n luÃ´n admin123 â†’ nghÄ©a lÃ  máº­t kháº©u lÃ  admin123.

				(Náº¿u chá»‰ viáº¿t -p thÃ´i thÃ¬ MySQL sáº½ há»i máº­t kháº©u sau khi enter).

			accounts â†’ Ä‘Ã¢y lÃ  tÃªn database muá»‘n truy cáº­p sau khi login.

				NghÄ©a lÃ  sau khi káº¿t ná»‘i thÃ nh cÃ´ng, báº¡n sáº½ á»Ÿ ngay trong database accounts.
		
			Káº¿t ná»‘i tá»›i MySQL server báº±ng user admin, password admin123, vÃ  chá»n sáºµn database accounts Ä‘á»ƒ lÃ m viá»‡c.
			
		- cmd: ping -c 4 db01.vprofile.in
		
			Cáº¥u trÃºc lá»‡nh:

				ping: cÃ´ng cá»¥ kiá»ƒm tra káº¿t ná»‘i máº¡ng (ICMP echo request/reply).

				-c 4: option -c (count) â†’ gá»­i 4 gÃ³i tin ICMP rá»“i dá»«ng (náº¿u khÃ´ng cÃ³, ping sáº½ cháº¡y vÃ´ háº¡n Ä‘áº¿n khi báº¡n báº¥m Ctrl+C).

				db01.vprofile.in: hostname / domain mÃ  báº¡n muá»‘n kiá»ƒm tra káº¿t ná»‘i.

			QuÃ¡ trÃ¬nh diá»…n ra

				DNS Resolution

					MÃ¡y cá»§a báº¡n sáº½ há»i DNS Ä‘á»ƒ láº¥y Ä‘á»‹a chá»‰ IP cá»§a db01.vprofile.in.

					Náº¿u trong Route 53 (hoáº·c DNS khÃ¡c) báº¡n cÃ³ record cho db01.vprofile.in, nÃ³ sáº½ tráº£ vá»
					IP (cÃ³ thá»ƒ lÃ  private hoáº·c public).

				Gá»­i ICMP Echo Request

					Ping sáº½ gá»­i 4 gÃ³i ICMP Ä‘áº¿n IP vá»«a resolve Ä‘Æ°á»£c.

				Nháº­n ICMP Echo Reply

					Náº¿u host tráº£ lá»i, báº¡n sáº½ tháº¥y thá»i gian pháº£n há»“i (time=xx ms) cho má»—i gÃ³i.

				Káº¿t quáº£ thá»‘ng kÃª

					Sau khi gá»­i 4 gÃ³i, ping sáº½ in thá»‘ng kÃª:

						Sá»‘ gÃ³i gá»­i/nháº­n

						Tá»· lá»‡ packet loss (%)

						Thá»i gian trung bÃ¬nh / min / max / stddev

			Ã nghÄ©a trong trÆ°á»ng há»£p nÃ y

				db01.vprofile.in thÆ°á»ng lÃ  record trong Route 53 hoáº·c DNS báº¡n tá»± quáº£n lÃ½.

				Náº¿u báº¡n Ä‘Ã£ táº¡o A record (vÃ­ dá»¥ db01.vprofile.in -> 10.0.1.5), thÃ¬ ping nÃ y sáº½ kiá»ƒm tra xem tá»« mÃ¡y báº¡n cÃ³ káº¿t
				ná»‘i Ä‘áº¿n server db01 khÃ´ng.

				Náº¿u record khÃ´ng tá»“n táº¡i hoáº·c khÃ´ng resolve Ä‘Æ°á»£c â†’ bÃ¡o lá»—i â€œunknown hostâ€.

				Náº¿u resolve Ä‘Æ°á»£c nhÆ°ng khÃ´ng ping Ä‘Æ°á»£c â†’ cÃ³ thá»ƒ bá»‹ firewall, security group, hoáº·c ICMP bá»‹ cháº·n.
		
		- cmd: $ aws configure
		
				AWS Access Key ID [****************ADE6]: AKIA5KBUVI7M7FM7RC5A
				AWS Secret Access Key [****************dUht]: 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
				Default region name [us-east-1]: us-east-1
				Default output format [json]: json
		
		- cmd: vim ~/.aws/credentials
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
vim ~/.aws/credentials
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ má»Ÿ vÃ  chá»‰nh sá»­a file cáº¥u hÃ¬nh
AWS credentials cá»§a ngÆ°á»i dÃ¹ng hiá»‡n táº¡i báº±ng trÃ¬nh soáº¡n tháº£o vim.

File ~/.aws/credentials chá»©a thÃ´ng tin xÃ¡c thá»±c
Ä‘á»ƒ cÃ¡c cÃ´ng cá»¥ AWS (AWS CLI, SDK, Terraform, boto3, v.v.)
cÃ³ thá»ƒ truy cáº­p tÃ i nguyÃªn AWS.

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. vim
--------------------------------------------------
- vim (Vi IMproved)
- TrÃ¬nh soáº¡n tháº£o vÄƒn báº£n trong terminal
- Hoáº¡t Ä‘á»™ng á»Ÿ cháº¿ Ä‘á»™ dÃ²ng lá»‡nh (CLI)
- Phá»• biáº¿n trÃªn háº§u háº¿t cÃ¡c há»‡ Ä‘iá»u hÃ nh Linux/Unix

Äáº·c Ä‘iá»ƒm:
- Nháº¹
- Nhanh
- LuÃ´n cÃ³ sáºµn trÃªn server

--------------------------------------------------
2.2. ~/.aws/credentials
--------------------------------------------------
- ~  : ThÆ° má»¥c home cá»§a user hiá»‡n táº¡i
      VÃ­ dá»¥: /home/ec2-user hoáº·c /home/ubuntu
- .aws: ThÆ° má»¥c cáº¥u hÃ¬nh AWS cá»§a user
- credentials: File chá»©a Access Key vÃ  Secret Key

ÄÆ°á»ng dáº«n Ä‘áº§y Ä‘á»§ vÃ­ dá»¥:
/home/ec2-user/.aws/credentials

--------------------------------------------------
3. Má»¤C ÄÃCH Sá»¬ Dá»¤NG FILE credentials
--------------------------------------------------
File nÃ y Ä‘Æ°á»£c AWS CLI vÃ  cÃ¡c SDK Ä‘á»c tá»± Ä‘á»™ng Ä‘á»ƒ:
- XÃ¡c thá»±c ngÆ°á»i dÃ¹ng
- KÃ½ request gá»­i lÃªn AWS API
- Cho phÃ©p truy cáº­p tÃ i nguyÃªn AWS

--------------------------------------------------
4. Cáº¤U TRÃšC FILE ~/.aws/credentials
--------------------------------------------------
File sá»­ dá»¥ng Ä‘á»‹nh dáº¡ng INI.

VÃ­ dá»¥ ná»™i dung:
--------------------------------------------------
[default]
aws_access_key_id = AKIAxxxxxxxxxxxx
aws_secret_access_key = xxxxxxxxxxxxxxxxxxxxxxxxxx

[dev]
aws_access_key_id = AKIAyyyyyyyyyyyy
aws_secret_access_key = yyyyyyyyyyyyyyyyyyyyyyyyyy
--------------------------------------------------

Giáº£i thÃ­ch:
- [default] : profile máº·c Ä‘á»‹nh
- [dev]     : profile khÃ¡c (tuá»³ chá»n)
- Má»—i profile chá»©a:
  + aws_access_key_id
  + aws_secret_access_key

--------------------------------------------------
5. CÃCH vim HOáº T Äá»˜NG Vá»šI FILE
--------------------------------------------------
Khi cháº¡y:
vim ~/.aws/credentials

- Náº¿u file chÆ°a tá»“n táº¡i:
  + vim sáº½ táº¡o file má»›i khi báº¡n lÆ°u
- Náº¿u file Ä‘Ã£ tá»“n táº¡i:
  + vim má»Ÿ file Ä‘á»ƒ chá»‰nh sá»­a

CÃ¡c thao tÃ¡c cÆ¡ báº£n trong vim:
--------------------------------------------------
- Nháº¥n i        : vÃ o cháº¿ Ä‘á»™ INSERT (gÃµ chá»¯)
- Nháº¥n ESC      : thoÃ¡t cháº¿ Ä‘á»™ INSERT
- GÃµ :w         : lÆ°u file
- GÃµ :q         : thoÃ¡t vim
- GÃµ :wq        : lÆ°u vÃ  thoÃ¡t
- GÃµ :q!        : thoÃ¡t khÃ´ng lÆ°u

--------------------------------------------------
6. QUYá»€N TRUY Cáº¬P & Báº¢O Máº¬T
--------------------------------------------------
- File credentials chá»©a thÃ´ng tin cá»±c ká»³ nháº¡y cáº£m
- Chá»‰ user sá»Ÿ há»¯u file nÃªn cÃ³ quyá»n Ä‘á»c/ghi

Quyá»n khuyáº¿n nghá»‹:
chmod 600 ~/.aws/credentials

Ã nghÄ©a:
- Owner: Ä‘á»c + ghi
- Group: khÃ´ng quyá»n
- Others: khÃ´ng quyá»n

--------------------------------------------------
7. LÆ¯U Ã Báº¢O Máº¬T QUAN TRá»ŒNG
--------------------------------------------------
- KHÃ”NG commit file nÃ y lÃªn Git
- KHÃ”NG chia sáº» Access Key / Secret Key
- KHÃ”NG gá»­i qua email / chat
- NÃªn dÃ¹ng:
  + IAM Role (EC2, ECS, EKS)
  + Hoáº·c AWS SSO thay cho key tÄ©nh

--------------------------------------------------
8. KIá»‚M TRA SAU KHI Cáº¤U HÃŒNH
--------------------------------------------------
Kiá»ƒm tra profile:
aws configure list

Test truy cáº­p AWS:
aws sts get-caller-identity

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
vim ~/.aws/credentials
= Má»Ÿ file cáº¥u hÃ¬nh AWS credentials
= DÃ¹ng Ä‘á»ƒ lÆ°u Access Key vÃ  Secret Key
= Phá»¥c vá»¥ AWS CLI vÃ  SDK
= Cáº§n báº£o máº­t tuyá»‡t Ä‘á»‘i
==================================================
		
		
		- cmd: vim ~/.aws/config
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
vim ~/.aws/config

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Má»Ÿ (hoáº·c táº¡o má»›i náº¿u chÆ°a tá»“n táº¡i) file cáº¥u hÃ¬nh AWS CLI
- Chá»‰nh sá»­a file ~/.aws/config báº±ng trÃ¬nh soáº¡n tháº£o vim
- Cáº¥u hÃ¬nh thÃ´ng tin cho AWS CLI theo tá»«ng profile

File ~/.aws/config thÆ°á»ng chá»©a:
- Region máº·c Ä‘á»‹nh
- Output format
- Cáº¥u hÃ¬nh theo profile (profile default, profile custom...)

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. vim
--------------------------------------------------
vim lÃ :
- TrÃ¬nh soáº¡n tháº£o vÄƒn báº£n trong terminal
- Cháº¡y á»Ÿ cháº¿ Ä‘á»™ dÃ²ng lá»‡nh (CLI)
- Phá»• biáº¿n trÃªn Linux/Unix

Äáº·c Ä‘iá»ƒm:
- Nháº¹, nhanh
- CÃ³ sáºµn trÃªn háº§u háº¿t server
- PhÃ¹ há»£p chá»‰nh sá»­a file cáº¥u hÃ¬nh

--------------------------------------------------
2.2. ~/.aws/config
--------------------------------------------------
Ã nghÄ©a tá»«ng pháº§n:

~  (dáº¥u ngÃ£):
- Äáº¡i diá»‡n cho thÆ° má»¥c home cá»§a user hiá»‡n táº¡i
- VÃ­ dá»¥:
  user ec2-user â†’ /home/ec2-user
  user ubuntu   â†’ /home/ubuntu
  user root     â†’ /root

.aws:
- ThÆ° má»¥c áº©n (hidden directory)
- Chá»©a cáº¥u hÃ¬nh AWS CLI

config:
- File cáº¥u hÃ¬nh chÃ­nh cá»§a AWS CLI
- KhÃ¡c vá»›i file credentials

ÄÆ°á»ng dáº«n Ä‘áº§y Ä‘á»§ vÃ­ dá»¥:
- /home/ec2-user/.aws/config

--------------------------------------------------
3. CHá»¨C NÄ‚NG FILE ~/.aws/config
--------------------------------------------------
File nÃ y dÃ¹ng Ä‘á»ƒ:
- Khai bÃ¡o region máº·c Ä‘á»‹nh
- Khai bÃ¡o output format
- Quáº£n lÃ½ nhiá»u profile AWS

KHÃ”NG chá»©a:
- Access Key
- Secret Key

CÃ¡c key nháº¡y cáº£m náº±m trong:
~/.aws/credentials

--------------------------------------------------
4. Cáº¤U TRÃšC FILE ~/.aws/config
--------------------------------------------------

VÃ­ dá»¥ ná»™i dung:

[default]
region = ap-southeast-1
output = json

[profile dev]
region = us-east-1
output = table

Giáº£i thÃ­ch:
- [default]        : profile máº·c Ä‘á»‹nh
- [profile dev]    : profile tÃªn "dev"
- region           : AWS region
- output           : Ä‘á»‹nh dáº¡ng output

--------------------------------------------------
5. KHÃC NHAU GIá»®A config VÃ€ credentials
--------------------------------------------------

~/.aws/config:
- Region
- Output
- ThÃ´ng tin cáº¥u hÃ¬nh

~/.aws/credentials:
- aws_access_key_id
- aws_secret_access_key
- aws_session_token

TÃ¡ch riÃªng Ä‘á»ƒ:
- TÄƒng báº£o máº­t
- Dá»… quáº£n lÃ½

--------------------------------------------------
6. CÃCH Sá»¬ Dá»¤NG PROFILE
--------------------------------------------------

DÃ¹ng profile máº·c Ä‘á»‹nh:
aws s3 ls

DÃ¹ng profile khÃ¡c:
aws s3 ls --profile dev

--------------------------------------------------
7. Táº O FILE Náº¾U CHÆ¯A Tá»’N Táº I
--------------------------------------------------
Náº¿u ~/.aws/config chÆ°a tá»“n táº¡i:
- vim sáº½ má»Ÿ file trá»‘ng
- Khi lÆ°u sáº½ tá»± táº¡o file má»›i

Äáº£m báº£o thÆ° má»¥c tá»“n táº¡i:
mkdir -p ~/.aws

--------------------------------------------------
8. THAO TÃC CÆ  Báº¢N TRONG VIM
--------------------------------------------------

VÃ o cháº¿ Ä‘á»™ chá»‰nh sá»­a:
i

ThoÃ¡t cháº¿ Ä‘á»™ chá»‰nh sá»­a:
ESC

LÆ°u vÃ  thoÃ¡t:
:wq

ThoÃ¡t khÃ´ng lÆ°u:
:q!

--------------------------------------------------
9. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

9.1. Permission denied
--------------------------------------------------
NguyÃªn nhÃ¢n:
- KhÃ´ng Ä‘á»§ quyá»n ghi file

Giáº£i phÃ¡p:
sudo vim ~/.aws/config

--------------------------------------------------
9.2. AWS CLI khÃ´ng nháº­n config
--------------------------------------------------
NguyÃªn nhÃ¢n:
- Sai format
- Sai tÃªn profile

Kiá»ƒm tra:
aws configure list

--------------------------------------------------
10. Cáº¢NH BÃO QUAN TRá»ŒNG
--------------------------------------------------
- KHÃ”NG ghi access key vÃ o ~/.aws/config
- KhÃ´ng commit thÆ° má»¥c .aws lÃªn Git
- Báº£o vá»‡ quyá»n file:
chmod 600 ~/.aws/config

--------------------------------------------------
11. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
vim ~/.aws/config

= Má»Ÿ file cáº¥u hÃ¬nh AWS CLI
= Chá»‰nh region, output, profile
= DÃ¹ng vim Ä‘á»ƒ chá»‰nh sá»­a
= Ãp dá»¥ng cho user hiá»‡n táº¡i
		
		
		- cmd: aws s3 cp target/vprofile-v2.war s3://vprofile-las-artifactss12311
		
Lá»†NH: aws s3 cp target/vprofile-v2.war s3://vprofile-las-artifactss12311
============================================================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh `aws s3 cp target/vprofile-v2.war s3://vprofile-las-artifactss12311`
dÃ¹ng Ä‘á»ƒ upload (copy) má»™t file tá»« mÃ¡y local (hoáº·c EC2)
lÃªn Amazon S3 báº±ng AWS CLI.

Trong trÆ°á»ng há»£p nÃ y:
- Upload file WAR (Java web application)
- DÃ¹ng Ä‘á»ƒ lÆ°u trá»¯ artifact build (deploy cho EC2, ECS, Elastic Beanstalk, v.v.)


2. Cáº¤U TRÃšC Lá»†NH
---------------
aws s3 cp <source> <destination>

Ãp dá»¥ng cá»¥ thá»ƒ:
aws s3 cp target/vprofile-v2.war s3://vprofile-las-artifactss12311


3. GIáº¢I THÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

aws
---
- AWS Command Line Interface (AWS CLI)
- CÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ lÃ m viá»‡c vá»›i dá»‹ch vá»¥ AWS

s3
--
- Chá»‰ Ä‘á»‹nh thao tÃ¡c vá»›i dá»‹ch vá»¥ Amazon S3

cp
--
- Viáº¿t táº¯t cá»§a "copy"
- DÃ¹ng Ä‘á»ƒ sao chÃ©p file hoáº·c thÆ° má»¥c
- CÃ³ thá»ƒ copy:
  - local -> S3
  - S3 -> local
  - S3 -> S3

target/vprofile-v2.war
----------------------
- ÄÆ°á»ng dáº«n file nguá»“n (source)
- Náº±m trÃªn mÃ¡y local hoáº·c EC2
- ThÆ°á»ng lÃ  file Ä‘Æ°á»£c táº¡o ra sau khi build Maven/Gradle
- VÃ­ dá»¥:
  target/ lÃ  thÆ° má»¥c build
  vprofile-v2.war lÃ  file á»©ng dá»¥ng Java

s3://vprofile-las-artifactss12311
--------------------------------
- ÄÃ­ch Ä‘áº¿n (destination) trÃªn Amazon S3
- vprofile-las-artifactss12311 lÃ  tÃªn bucket S3
- Náº¿u khÃ´ng chá»‰ rÃµ tÃªn file:
  => S3 sáº½ giá»¯ nguyÃªn tÃªn file (vprofile-v2.war)


4. Káº¾T QUáº¢ SAU KHI CHáº Y Lá»†NH
---------------------------

Náº¿u thÃ nh cÃ´ng, sáº½ tháº¥y output dáº¡ng:
upload: target/vprofile-v2.war to s3://vprofile-las-artifactss12311/vprofile-v2.war

Ã nghÄ©a:
- File Ä‘Ã£ Ä‘Æ°á»£c upload thÃ nh cÃ´ng
- File náº±m trong bucket S3
- CÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ download hoáº·c deploy sau nÃ y


5. ÄIá»€U KIá»†N TRÆ¯á»šC KHI CHáº Y
--------------------------

1. AWS CLI Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t:
   aws --version

2. AWS CLI Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh:
   aws configure
   hoáº·c dÃ¹ng IAM Role (trÃªn EC2)

3. Quyá»n IAM cáº§n cÃ³:
   - s3:PutObject
   - s3:GetObject (náº¿u cáº§n download)
   - s3:ListBucket (tÃ¹y trÆ°á»ng há»£p)

4. Bucket S3 pháº£i tá»“n táº¡i:
   vprofile-las-artifactss12311


6. CÃCH S3 Xá»¬ LÃ FILE
--------------------

- Náº¿u file cÃ¹ng tÃªn Ä‘Ã£ tá»“n táº¡i:
  => File cÅ© sáº½ bá»‹ ghi Ä‘Ã¨ (overwrite)
- S3 khÃ´ng cÃ³ khÃ¡i niá»‡m thÆ° má»¥c thá»±c
- Object sáº½ cÃ³ key:
  vprofile-v2.war


7. CÃC BIáº¾N THá»‚ THÆ¯á»œNG DÃ™NG
--------------------------

Upload vÃ  Ä‘á»•i tÃªn file:
aws s3 cp target/vprofile-v2.war s3://vprofile-las-artifactss12311/app.war

Upload vÃ o "folder" logic:
aws s3 cp target/vprofile-v2.war s3://vprofile-las-artifactss12311/artifacts/vprofile-v2.war

Upload kÃ¨m progress:
aws s3 cp target/vprofile-v2.war s3://vprofile-las-artifactss12311 --progress

Upload vá»›i ACL (KHÃ”NG khuyáº¿n nghá»‹ trá»« khi cáº§n):
aws s3 cp target/vprofile-v2.war s3://vprofile-las-artifactss12311 --acl private


8. Lá»–I THÆ¯á»œNG Gáº¶P
----------------

Lá»–I 1: Unable to locate credentials
- AWS CLI chÆ°a Ä‘Æ°á»£c cáº¥u hÃ¬nh
- ChÆ°a cÃ³ IAM Role

Lá»–I 2: AccessDenied
- IAM user/role thiáº¿u quyá»n s3:PutObject

Lá»–I 3: NoSuchBucket
- Bucket khÃ´ng tá»“n táº¡i
- Sai region hoáº·c sai tÃªn bucket

Lá»–I 4: File does not exist
- Sai Ä‘Æ°á»ng dáº«n target/vprofile-v2.war


9. LÆ¯U Ã QUAN TRá»ŒNG
------------------

- TÃªn bucket S3 lÃ  global unique
- Upload file lá»›n cÃ³ thá»ƒ máº¥t thá»i gian
- S3 lÆ°u trá»¯ bá»n vá»¯ng, khÃ´ng tá»± xÃ³a
- File WAR thÆ°á»ng dÃ¹ng cho CI/CD pipeline


10. TÃ“M Táº®T
-----------

- Lá»‡nh dÃ¹ng Ä‘á»ƒ upload file WAR lÃªn Amazon S3
- Phá»¥c vá»¥ lÆ°u trá»¯ artifact hoáº·c deploy
- YÃªu cáº§u AWS CLI + quyá»n IAM phÃ¹ há»£p
- LÃ  lá»‡nh ráº¥t phá»• biáº¿n trong DevOps / CI-CD
		
		
		- cmd: aws s3 ls s3://vprofile-las-artifactss12311/
		
Lá»†NH: aws s3 ls s3://vprofile-las-artifactss12311/
================================================================

1. aws lÃ  gÃ¬?
----------------------------------------------------------------
- aws lÃ  AWS Command Line Interface (AWS CLI)
- DÃ¹ng Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i cÃ¡c dá»‹ch vá»¥ AWS báº±ng dÃ²ng lá»‡nh
- Thay tháº¿ thao tÃ¡c trÃªn AWS Console (web)

----------------------------------------------------------------

2. aws s3 lÃ  gÃ¬?
----------------------------------------------------------------
- aws s3 lÃ  nhÃ³m lá»‡nh lÃ m viá»‡c vá»›i Amazon S3
- Amazon S3 (Simple Storage Service):
  + Dá»‹ch vá»¥ lÆ°u trá»¯ object (file)
  + LÆ°u trá»¯ khÃ´ng giá»›i háº¡n dung lÆ°á»£ng
  + DÃ¹ng cho backup, artifact, log, static file

----------------------------------------------------------------

3. ls trong aws s3 nghÄ©a lÃ  gÃ¬?
----------------------------------------------------------------
ls = list

- Liá»‡t kÃª danh sÃ¡ch:
  + Bucket
  + Folder (prefix)
  + File (object)

TÆ°Æ¡ng tá»± lá»‡nh ls trong Linux

----------------------------------------------------------------

4. Giáº£i thÃ­ch s3://vprofile-las-artifactss12311/
----------------------------------------------------------------
- s3://        : schema cá»§a Amazon S3
- vprofile-las-artifactss12311 : tÃªn bucket
- /            : root cá»§a bucket

Bucket name lÃ  DUY NHáº¤T trÃªn toÃ n cáº§u AWS

----------------------------------------------------------------

5. Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ lÃ m gÃ¬?
----------------------------------------------------------------
aws s3 ls s3://vprofile-las-artifactss12311/

â†’ Liá»‡t kÃª TOÃ€N Bá»˜ object vÃ  folder
â†’ Náº±m á»Ÿ root cá»§a bucket vprofile-las-artifactss12311

KHÃ”NG:
- Táº£i file
- XÃ³a file
- Sá»­a file

CHá»ˆ Äá»ŒC (read-only)

----------------------------------------------------------------

6. Káº¿t quáº£ output trÃ´ng nhÆ° tháº¿ nÃ o?
----------------------------------------------------------------
VÃ­ dá»¥ output:

2024-12-01 10:20:15        0 builds/
2024-12-02 09:11:40    15324 app.war
2024-12-03 08:00:01    98213 db_backup.sql

Ã nghÄ©a:
- Cá»™t 1: NgÃ y táº¡o object
- Cá»™t 2: Giá» táº¡o object
- Cá»™t 3: KÃ­ch thÆ°á»›c (bytes)
- Cá»™t 4: TÃªn file hoáº·c folder

Folder trong S3 thá»±c cháº¥t lÃ  prefix (káº¿t thÃºc báº±ng /)

----------------------------------------------------------------

7. Äiá»u kiá»‡n Ä‘á»ƒ lá»‡nh cháº¡y thÃ nh cÃ´ng
----------------------------------------------------------------
Báº®T BUá»˜C:

1) AWS CLI Ä‘Ã£ cÃ i
   aws --version

2) ÄÃ£ cáº¥u hÃ¬nh credential
   ~/.aws/credentials
   ~/.aws/config

3) IAM User / Role cÃ³ quyá»n:
   - s3:ListBucket
   - s3:GetObject (náº¿u ls sÃ¢u vÃ o file)

----------------------------------------------------------------

8. Lá»‡nh nÃ y cÃ³ táº¡o chi phÃ­ khÃ´ng?
----------------------------------------------------------------
- CÃ³ thá»ƒ cÃ³ chi phÃ­ nhá»:
  + S3 LIST request
- ThÆ°á»ng ráº¥t tháº¥p
- KhÃ´ng Ä‘Ã¡ng ká»ƒ trong thá»±c táº¿

----------------------------------------------------------------

9. CÃ¡c lá»—i thÆ°á»ng gáº·p
----------------------------------------------------------------

9.1 AccessDenied
----------------------------------------------------------------
An error occurred (AccessDenied) when calling the ListObjectsV2 operation

NguyÃªn nhÃ¢n:
- IAM user khÃ´ng cÃ³ quyá»n s3:ListBucket

----------------------------------------------------------------

9.2 NoSuchBucket
----------------------------------------------------------------
- Bucket khÃ´ng tá»“n táº¡i
- GÃµ sai tÃªn bucket
- Sai region (má»™t sá»‘ trÆ°á»ng há»£p)

----------------------------------------------------------------

9.3 Unable to locate credentials
----------------------------------------------------------------
- ChÆ°a cáº¥u hÃ¬nh AWS CLI
- File credentials khÃ´ng tá»“n táº¡i

----------------------------------------------------------------

10. So sÃ¡nh vá»›i cÃ¡c lá»‡nh liÃªn quan
----------------------------------------------------------------
aws s3 ls
- Liá»‡t kÃª Táº¤T Cáº¢ bucket trong account

aws s3 ls s3://bucket-name/
- Liá»‡t kÃª object trong bucket

aws s3 ls s3://bucket-name/path/
- Liá»‡t kÃª object trong folder cá»¥ thá»ƒ

----------------------------------------------------------------

11. Kiá»ƒm tra Ä‘ang dÃ¹ng IAM nÃ o
----------------------------------------------------------------
aws sts get-caller-identity

----------------------------------------------------------------

12. TÃ³m táº¯t 1 dÃ²ng
----------------------------------------------------------------
aws s3 ls s3://vprofile-las-artifactss12311/ =
LIá»†T KÃŠ TOÃ€N Bá»˜ FILE/FOLDER TRONG ROOT BUCKET S3, KHÃ”NG TÃC Äá»˜NG Dá»® LIá»†U
		
		
		- cmd: aws-cli --classic
		
GIáº¢I THÃCH CHI TIáº¾T: aws-cli --classic
====================================

LÆ¯U Ã QUAN TRá»ŒNG
---------------
Cá»¥m "--classic" KHÃ”NG pháº£i lÃ  tÃ¹y chá»n cá»§a lá»‡nh aws-cli khi sá»­ dá»¥ng.
NÃ³ lÃ  má»™t TÃ™Y CHá»ŒN Cá»¦A SNAP khi CÃ€I Äáº¶T aws-cli.

Lá»‡nh Ä‘áº§y Ä‘á»§, Ä‘Ãºng ngá»¯ cáº£nh thÆ°á»ng lÃ :
    snap install aws-cli --classic

Trong thá»±c táº¿, khi ngÆ°á»i ta nháº¯c tá»›i:
    aws-cli --classic
thÃ¬ Ã½ nghÄ©a Ä‘Ãºng cáº§n hiá»ƒu lÃ :
    cÃ i aws-cli báº±ng snap vá»›i cháº¿ Ä‘á»™ classic


1. Tá»”NG QUAN
-----------
aws-cli:
- LÃ  AWS Command Line Interface
- CÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ lÃ m viá»‡c vá»›i dá»‹ch vá»¥ AWS:
  + EC2
  + S3
  + IAM
  + RDS
  + EKS
  + CloudWatch
  + v.v.

--classic:
- LÃ  tÃ¹y chá»n cá»§a SNAP
- Cho phÃ©p á»©ng dá»¥ng cháº¡y vá»›i quyá»n truy cáº­p há»‡ thá»‘ng rá»™ng hÆ¡n


2. SNAP LÃ€ GÃŒ?
-------------
- snap lÃ  há»‡ thá»‘ng quáº£n lÃ½ gÃ³i do Canonical phÃ¡t triá»ƒn
- Phá»• biáº¿n trÃªn Ubuntu
- Cháº¡y á»©ng dá»¥ng trong mÃ´i trÆ°á»ng sandbox (cÃ´ láº­p)

Sandbox nghÄ©a lÃ :
- á»¨ng dá»¥ng bá»‹ giá»›i háº¡n quyá»n truy cáº­p:
  + File system
  + Network
  + Thiáº¿t bá»‹ há»‡ thá»‘ng


3. Ã NGHÄ¨A Cá»¦A --classic
-----------------------
--classic = classic confinement

Khi dÃ¹ng --classic:
- Bá» QUA sandbox máº·c Ä‘á»‹nh cá»§a snap
- á»¨ng dá»¥ng cÃ³ quyá»n truy cáº­p gáº§n nhÆ°:
  + á»¨ng dá»¥ng cÃ i trá»±c tiáº¿p báº±ng apt
  + Hoáº·c binary truyá»n thá»‘ng

NÃ³i ngáº¯n gá»n:
- --classic cho phÃ©p aws-cli:
  + Truy cáº­p toÃ n bá»™ filesystem
  + Äá»c file ~/.aws/config, ~/.aws/credentials
  + Gá»i cÃ¡c binary khÃ¡c trong há»‡ thá»‘ng
  + Hoáº¡t Ä‘á»™ng Ä‘Ãºng vá»›i script, CI/CD, automation


4. Táº I SAO aws-cli Cáº¦N --classic?
---------------------------------
aws-cli cáº§n:
- Äá»c / ghi file cáº¥u hÃ¬nh
- Cháº¡y trong shell script
- TÆ°Æ¡ng tÃ¡c vá»›i:
  + Docker
  + Kubernetes
  + Terraform
  + SSH
  + CÃ¡c tool há»‡ thá»‘ng khÃ¡c

Náº¿u KHÃ”NG dÃ¹ng --classic:
- aws-cli cÃ³ thá»ƒ:
  + KhÃ´ng Ä‘á»c Ä‘Æ°á»£c ~/.aws
  + Bá»‹ lá»—i permission
  + KhÃ´ng cháº¡y Ä‘Æ°á»£c trong automation

VÃ¬ váº­y:
- AWS chÃ­nh thá»©c yÃªu cáº§u snap aws-cli pháº£i cÃ i vá»›i --classic


5. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
---------------------------

5.1. aws-cli
------------
- TÃªn gÃ³i snap
- Chá»©a AWS CLI (thÆ°á»ng lÃ  version 2)

Cung cáº¥p cÃ¡c lá»‡nh:
    aws s3 ls
    aws ec2 describe-instances
    aws configure
    aws sts get-caller-identity


5.2. --classic
--------------
- Chá»‰ dÃ¹ng khi cÃ i báº±ng snap
- KHÃ”NG pháº£i option runtime
- KhÃ´ng dÃ¹ng khi cháº¡y lá»‡nh aws

SAI:
    aws --classic s3 ls

ÄÃšNG:
    snap install aws-cli --classic


6. CÃCH CÃ€I Äáº¶T ÄÃšNG
-------------------

6.1. CÃ i báº±ng snap (phá»• biáº¿n trÃªn Ubuntu)
-----------------------------------------
    sudo snap install aws-cli --classic

Kiá»ƒm tra:
    aws --version


6.2. CÃ i báº±ng apt (khÃ´ng cáº§n --classic)
---------------------------------------
    sudo apt install awscli -y

LÆ°u Ã½:
- apt thÆ°á»ng cÃ i AWS CLI v1
- snap thÆ°á»ng cÃ i AWS CLI v2


6.3. CÃ i báº±ng file chÃ­nh thá»©c (AWS khuyáº¿n nghá»‹)
------------------------------------------------
    curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o awscliv2.zip
    unzip awscliv2.zip
    sudo ./aws/install


7. KIá»‚M TRA SAU KHI CÃ€I
----------------------
    aws --version
    which aws
    aws help


8. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------

8.1. snap install aws-cli (khÃ´ng cÃ³ --classic)
----------------------------------------------
Triá»‡u chá»©ng:
- aws configure lá»—i
- KhÃ´ng Ä‘á»c Ä‘Æ°á»£c ~/.aws
- Permission denied

CÃ¡ch xá»­ lÃ½:
    sudo snap remove aws-cli
    sudo snap install aws-cli --classic


8.2. Hiá»ƒu nháº§m --classic lÃ  option cá»§a aws
------------------------------------------
NguyÃªn nhÃ¢n:
- Nháº§m láº«n giá»¯a snap option vÃ  aws-cli option

Ghi nhá»›:
- --classic CHá»ˆ dÃ¹ng khi cÃ i Ä‘áº·t
- KHÃ”NG dÃ¹ng khi cháº¡y aws command


9. TÃ“M Táº®T
----------
- aws-cli lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh cá»§a AWS
- --classic lÃ  tÃ¹y chá»n cá»§a snap, KHÃ”NG pháº£i cá»§a aws-cli
- --classic cho phÃ©p aws-cli truy cáº­p há»‡ thá»‘ng Ä‘áº§y Ä‘á»§
- Lá»‡nh Ä‘Ãºng thÆ°á»ng dÃ¹ng:
    snap install aws-cli --classic

Káº¾T LUáº¬N
--------
Náº¿u báº¡n tháº¥y hoáº·c dÃ¹ng "aws-cli --classic"
		
		
		- cmd: aws s3 cp s3://vprofile-las-artifactss12311/vprofile-v2.war /tmp/
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
aws s3 cp s3://vprofile-las-artifactss12311/vprofile-v2.war /tmp/
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng AWS CLI Ä‘á»ƒ sao chÃ©p (copy) má»™t file tá»« Amazon S3
vá» mÃ¡y Linux local.

Cá»¥ thá»ƒ:
- Táº£i file vprofile-v2.war tá»« bucket S3
- LÆ°u file Ä‘Ã³ vÃ o thÆ° má»¥c /tmp/ trÃªn mÃ¡y Ä‘ang cháº¡y lá»‡nh

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. aws
--------------------------------------------------
- aws lÃ  lá»‡nh chÃ­nh cá»§a AWS CLI (Command Line Interface)
- DÃ¹ng Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i cÃ¡c dá»‹ch vá»¥ AWS thÃ´ng qua terminal
- VÃ­ dá»¥:
  + EC2
  + S3
  + IAM
  + RDS
  + CloudWatch

--------------------------------------------------
2.2. s3
--------------------------------------------------
- Chá»‰ Ä‘á»‹nh dá»‹ch vá»¥ Amazon S3 (Simple Storage Service)
- S3 lÃ  dá»‹ch vá»¥ lÆ°u trá»¯ object:
  + File
  + Artifact
  + Backup
  + Log
  + Media

--------------------------------------------------
2.3. cp
--------------------------------------------------
- cp lÃ  viáº¿t táº¯t cá»§a "copy"
- DÃ¹ng Ä‘á»ƒ sao chÃ©p dá»¯ liá»‡u:
  + Tá»« local â†’ S3
  + Tá»« S3 â†’ local
  + Tá»« S3 â†’ S3

CÃº phÃ¡p chung:
aws s3 cp <source> <destination>

--------------------------------------------------
2.4. s3://vprofile-las-artifactss12311/vprofile-v2.war
--------------------------------------------------
- ÄÃ¢y lÃ  Ä‘Æ°á»ng dáº«n (URI) cá»§a file trÃªn S3

PhÃ¢n tÃ­ch chi tiáº¿t:
--------------------------------------------------
s3://                         â†’ prefix xÃ¡c Ä‘á»‹nh tÃ i nguyÃªn S3
vprofile-las-artifactss12311  â†’ tÃªn bucket S3
vprofile-v2.war               â†’ object (file) trong bucket

Ã nghÄ©a:
- Bucket: vprofile-las-artifactss12311
- File cáº§n táº£i: vprofile-v2.war

--------------------------------------------------
2.5. /tmp/
--------------------------------------------------
- ThÆ° má»¥c Ä‘Ã­ch trÃªn mÃ¡y local
- /tmp lÃ  thÆ° má»¥c táº¡m (temporary directory) trÃªn Linux
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ:
  + LÆ°u file táº¡m
  + Download artifact
  + Xá»­ lÃ½ ngáº¯n háº¡n

Sau khi cháº¡y lá»‡nh:
- File sáº½ Ä‘Æ°á»£c lÆ°u táº¡i:
  /tmp/vprofile-v2.war

--------------------------------------------------
3. ÄIá»€U KIá»†N Äá»‚ Lá»†NH CHáº Y THÃ€NH CÃ”NG
--------------------------------------------------
Äá»ƒ lá»‡nh hoáº¡t Ä‘á»™ng, cáº§n Ä‘áº£m báº£o:

--------------------------------------------------
3.1. AWS CLI Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t
--------------------------------------------------
Kiá»ƒm tra:
aws --version

--------------------------------------------------
3.2. AWS Credentials Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh
--------------------------------------------------
Má»™t trong cÃ¡c cÃ¡ch sau:
- ~/.aws/credentials
- IAM Role gáº¯n vÃ o EC2
- AWS SSO

Kiá»ƒm tra:
aws sts get-caller-identity

--------------------------------------------------
3.3. Quyá»n truy cáº­p S3
--------------------------------------------------
User / Role cáº§n cÃ³ quyá»n:
- s3:GetObject
- s3:ListBucket (trong má»™t sá»‘ trÆ°á»ng há»£p)

--------------------------------------------------
4. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
Khi cháº¡y:
aws s3 cp s3://vprofile-las-artifactss12311/vprofile-v2.war /tmp/

Há»‡ thá»‘ng sáº½:
1. AWS CLI Ä‘á»c thÃ´ng tin credentials
2. Gá»­i request Ä‘áº¿n AWS S3
3. Kiá»ƒm tra quyá»n truy cáº­p bucket
4. Táº£i object vprofile-v2.war
5. Ghi file xuá»‘ng /tmp/
6. Hiá»ƒn thá»‹ tiáº¿n trÃ¬nh download

--------------------------------------------------
5. Káº¾T QUáº¢ SAU KHI HOÃ€N THÃ€NH
--------------------------------------------------
- File tá»“n táº¡i trÃªn mÃ¡y local:
  /tmp/vprofile-v2.war

Kiá»ƒm tra:
ls -lh /tmp/vprofile-v2.war

--------------------------------------------------
6. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

6.1. AccessDenied
--------------------------------------------------
NguyÃªn nhÃ¢n:
- Thiáº¿u quyá»n s3:GetObject

--------------------------------------------------
6.2. NoSuchBucket
--------------------------------------------------
NguyÃªn nhÃ¢n:
- Sai tÃªn bucket
- Bucket khÃ´ng tá»“n táº¡i

--------------------------------------------------
6.3. NoSuchKey
--------------------------------------------------
NguyÃªn nhÃ¢n:
- Sai tÃªn file (object)
- File khÃ´ng tá»“n táº¡i trong bucket

--------------------------------------------------
7. VÃ Dá»¤ Má» Rá»˜NG (THAM KHáº¢O)
--------------------------------------------------

Copy tá»« local lÃªn S3:
aws s3 cp file.war s3://my-bucket/

Copy cáº£ thÆ° má»¥c:
aws s3 cp s3://my-bucket/app/ /tmp/app/ --recursive

--------------------------------------------------
8. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- File .war thÆ°á»ng lÃ  artifact triá»ƒn khai Java (Tomcat, JBoss, v.v.)
- Äáº£m báº£o Ä‘á»§ dung lÆ°á»£ng disk trong /tmp
- KhÃ´ng Ä‘á»ƒ lá»™ credentials AWS

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
aws s3 cp s3://vprofile-las-artifactss12311/vprofile-v2.war /tmp/
= Táº£i file tá»« Amazon S3 vá» mÃ¡y local
= Sá»­ dá»¥ng AWS CLI
= YÃªu cáº§u quyá»n truy cáº­p S3
= File Ä‘Æ°á»£c lÆ°u táº¡i /tmp/
==================================================
		
		
		- cmd: systemctl stop tomcat10
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
systemctl stop tomcat10

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Dá»ªNG (stop) dá»‹ch vá»¥ Apache Tomcat phiÃªn báº£n 10
- Táº¯t Tomcat Ä‘ang cháº¡y dÆ°á»›i sá»± quáº£n lÃ½ cá»§a systemd
- Ngá»«ng phá»¥c vá»¥ cÃ¡c á»©ng dá»¥ng web (WAR) Ä‘ang deploy

Ãp dá»¥ng cho:
- Linux sá»­ dá»¥ng systemd (Ubuntu, Debian, CentOS, RHEL, Rocky, Alma...)

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. systemctl
--------------------------------------------------
systemctl lÃ  cÃ´ng cá»¥:
- Quáº£n lÃ½ service / unit cá»§a systemd
- Äiá»u khiá»ƒn vÃ²ng Ä‘á»i dá»‹ch vá»¥

CÃ¡c lá»‡nh phá»• biáº¿n:
- start   : khá»Ÿi Ä‘á»™ng
- stop    : dá»«ng
- restart : khá»Ÿi Ä‘á»™ng láº¡i
- status  : xem tráº¡ng thÃ¡i
- enable  : tá»± cháº¡y khi boot
- disable : táº¯t tá»± cháº¡y khi boot

--------------------------------------------------
2.2. stop
--------------------------------------------------
stop lÃ  hÃ nh Ä‘á»™ng:
- YÃªu cáº§u systemd dá»«ng service
- Gá»­i tÃ­n hiá»‡u káº¿t thÃºc tiáº¿n trÃ¬nh

Äáº·c Ä‘iá»ƒm:
- Dá»‹ch vá»¥ dá»«ng NGAY Láº¬P Tá»¨C
- NgÆ°á»i dÃ¹ng khÃ´ng truy cáº­p Ä‘Æ°á»£c á»©ng dá»¥ng
- KhÃ´ng tá»± Ä‘á»™ng cháº¡y láº¡i khi reboot (náº¿u chÆ°a enable)

--------------------------------------------------
2.3. tomcat10
--------------------------------------------------
tomcat10 lÃ :
- TÃªn service (unit name)

TÆ°Æ¡ng á»©ng vá»›i file:
- /lib/systemd/system/tomcat10.service
  hoáº·c
- /usr/lib/systemd/system/tomcat10.service

Service nÃ y quáº£n lÃ½:
- Tiáº¿n trÃ¬nh Java (org.apache.catalina.startup.Bootstrap)
- Cá»•ng máº·c Ä‘á»‹nh: 8080 (cÃ³ thá»ƒ thay Ä‘á»•i)

--------------------------------------------------
3. CÃCH HOáº T Äá»˜NG KHI CHáº Y Lá»†NH
--------------------------------------------------
TrÃ¬nh tá»± khi cháº¡y:

1. systemctl gá»­i lá»‡nh stop tá»›i systemd
2. systemd Ä‘á»c tomcat10.service
3. systemd gá»­i tÃ­n hiá»‡u SIGTERM tá»›i tiáº¿n trÃ¬nh Tomcat
4. Tomcat:
   - Shutdown gracefully
   - Stop cÃ¡c web application
   - Giáº£i phÃ³ng port
5. Tiáº¿n trÃ¬nh Java káº¿t thÃºc
6. Service chuyá»ƒn tráº¡ng thÃ¡i "inactive (dead)"

--------------------------------------------------
4. áº¢NH HÆ¯á»NG KHI Dá»ªNG TOMCAT
--------------------------------------------------
- Táº¥t cáº£ web app trÃªn Tomcat sáº½:
  + Ngá»«ng hoáº¡t Ä‘á»™ng
  + Tráº£ lá»—i 502 / 503 / Connection refused
- NgÆ°á»i dÃ¹ng khÃ´ng truy cáº­p Ä‘Æ°á»£c
- CÃ¡c session Ä‘ang má»Ÿ sáº½ bá»‹ máº¥t

--------------------------------------------------
5. KIá»‚M TRA TRáº NG THÃI SAU KHI STOP
--------------------------------------------------
Kiá»ƒm tra:
systemctl status tomcat10

Káº¿t quáº£ mong muá»‘n:
- Active: inactive (dead)

Kiá»ƒm tra port:
ss -lntp | grep 8080

--------------------------------------------------
6. TRÆ¯á»œNG Há»¢P TOMCAT KHÃ”NG Dá»ªNG ÄÆ¯á»¢C
--------------------------------------------------

6.1. Tomcat bá»‹ treo (hang)
--------------------------------------------------
- stop cháº¡y ráº¥t lÃ¢u
- KhÃ´ng dá»«ng hoÃ n toÃ n

Giáº£i phÃ¡p:
systemctl kill tomcat10

Hoáº·c:
kill -9 <PID>

--------------------------------------------------
6.2. Thiáº¿u quyá»n
--------------------------------------------------
Lá»—i:
Access denied

Giáº£i phÃ¡p:
sudo systemctl stop tomcat10

--------------------------------------------------
7. CÃC Lá»†NH LIÃŠN QUAN THÆ¯á»œNG DÃ™NG
--------------------------------------------------

Khá»Ÿi Ä‘á»™ng Tomcat:
systemctl start tomcat10

Khá»Ÿi Ä‘á»™ng láº¡i:
systemctl restart tomcat10

Xem tráº¡ng thÃ¡i:
systemctl status tomcat10

Táº¯t tá»± cháº¡y khi boot:
systemctl disable tomcat10

--------------------------------------------------
8. Cáº¢NH BÃO QUAN TRá»ŒNG
--------------------------------------------------
- Dá»«ng Tomcat sáº½ gÃ¢y downtime
- KHÃ”NG stop trá»±c tiáº¿p trÃªn production giá» cao Ä‘iá»ƒm
- NÃªn thÃ´ng bÃ¡o ngÆ°á»i dÃ¹ng trÆ°á»›c khi stop

--------------------------------------------------
9. SO SÃNH STOP VÃ€ DISABLE
--------------------------------------------------
stop:
- Dá»«ng ngay láº­p tá»©c
- KhÃ´ng áº£nh hÆ°á»Ÿng cáº¥u hÃ¬nh boot

disable:
- NgÄƒn Tomcat tá»± cháº¡y khi reboot
- KHÃ”NG dá»«ng service Ä‘ang cháº¡y

--------------------------------------------------
10. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
systemctl stop tomcat10

= Dá»«ng Tomcat 10
= Táº¯t tiáº¿n trÃ¬nh Java
= Giáº£i phÃ³ng port
= GÃ¢y downtime á»©ng dá»¥ng
= Ãp dá»¥ng trÃªn há»‡ dÃ¹ng systemd
		
		
		- cmd: systemctl start tomcat10
		
Lá»†NH: systemctl start tomcat10
=============================

1. Má»¤C ÄÃCH
----------
Lá»‡nh `systemctl start tomcat10` dÃ¹ng Ä‘á»ƒ khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥
Apache Tomcat phiÃªn báº£n 10 trÃªn há»‡ thá»‘ng Linux sá»­ dá»¥ng systemd.

Tomcat 10 lÃ  application server dÃ¹ng Ä‘á»ƒ:
- Cháº¡y á»©ng dá»¥ng Java Web (Servlet, JSP)
- Deploy file WAR
- Láº¯ng nghe request HTTP/HTTPS tá»« client


2. Cáº¤U TRÃšC Lá»†NH
---------------
systemctl start tomcat10

Giáº£i thÃ­ch:
- systemctl : CÃ´ng cá»¥ quáº£n lÃ½ service cá»§a systemd
- start     : Khá»Ÿi Ä‘á»™ng service
- tomcat10  : TÃªn service cá»§a Apache Tomcat 10


3. QUYá»€N THá»°C THI
----------------
- Cáº§n quyá»n root hoáº·c sudo
- ThÆ°á»ng dÃ¹ng:
  sudo systemctl start tomcat10


4. TÃC Dá»¤NG Cá»¦A Lá»†NH
-------------------
- Khá»Ÿi Ä‘á»™ng Tomcat náº¿u Ä‘ang dá»«ng
- KHÃ”NG restart náº¿u Tomcat Ä‘ang cháº¡y
- KHÃ”NG báº­t tá»± khá»Ÿi Ä‘á»™ng cÃ¹ng há»‡ thá»‘ng


5. ÄIá»€U GÃŒ Xáº¢Y RA KHI CHáº Y Lá»†NH
------------------------------

Khi cháº¡y `systemctl start tomcat10`:
1. systemd Ä‘á»c file:
   /usr/lib/systemd/system/tomcat10.service
   hoáº·c
   /etc/systemd/system/tomcat10.service

2. systemd táº¡o process Tomcat:
   - Cháº¡y báº±ng user: tomcat
   - Khá»Ÿi Ä‘á»™ng JVM

3. Tomcat:
   - Load cáº¥u hÃ¬nh server.xml, web.xml
   - Bind port (8080, 8443â€¦)
   - Deploy cÃ¡c á»©ng dá»¥ng WAR


6. Káº¾T QUáº¢ SAU KHI CHáº Y
----------------------

Náº¿u thÃ nh cÃ´ng:
- KhÃ´ng cÃ³ output trÃªn terminal
- Service chuyá»ƒn sang tráº¡ng thÃ¡i active (running)

Kiá»ƒm tra:
systemctl status tomcat10


7. TRáº NG THÃI LIÃŠN QUAN
----------------------

Tráº¡ng thÃ¡i trÆ°á»›c:
- inactive (dead)

Tráº¡ng thÃ¡i sau:
- active (running)

Náº¿u lá»—i:
- failed


8. CÃC Lá»†NH LIÃŠN QUAN
--------------------

Kiá»ƒm tra tráº¡ng thÃ¡i:
systemctl status tomcat10

Xem log:
journalctl -u tomcat10

Xem log realtime:
journalctl -u tomcat10 -f

Dá»«ng Tomcat:
systemctl stop tomcat10

Restart Tomcat:
systemctl restart tomcat10

Báº­t tá»± khá»Ÿi Ä‘á»™ng khi boot:
systemctl enable tomcat10


9. CÃC Lá»–I THÆ¯á»œNG Gáº¶P
--------------------

Lá»–I 1: Unit tomcat10.service not found
- Tomcat 10 chÆ°a Ä‘Æ°á»£c cÃ i
- Service name khÃ¡c (tomcat, tomcat9)

Lá»–I 2: Failed to start tomcat10
- Port 8080 bá»‹ chiáº¿m
- JAVA_HOME sai
- Quyá»n thÆ° má»¥c /var/lib/tomcat10 sai

Lá»–I 3: Start xong nhÆ°ng web khÃ´ng lÃªn
- Firewall cháº·n port
- Security Group chÆ°a má»Ÿ port
- App deploy lá»—i


10. Vá»Š TRÃ QUAN TRá»ŒNG Cá»¦A TOMCAT 10
----------------------------------

ThÆ° má»¥c chÃ­nh:
- /usr/share/tomcat10
- /var/lib/tomcat10
- /var/log/tomcat10

File log:
- catalina.out
- localhost.*.log


11. LÆ¯U Ã QUAN TRá»ŒNG
-------------------

- start KHÃ”NG reload cáº¥u hÃ¬nh náº¿u Ä‘ang cháº¡y
- Thay Ä‘á»•i cáº¥u hÃ¬nh => cáº§n restart
- LuÃ´n kiá»ƒm tra status sau khi start
- Vá»›i production, kiá»ƒm tra log trÆ°á»›c khi deploy


12. TÃ“M Táº®T
-----------

- `systemctl start tomcat10` dÃ¹ng Ä‘á»ƒ khá»Ÿi Ä‘á»™ng Apache Tomcat 10
- Chá»‰ cÃ³ tÃ¡c dá»¥ng khi service Ä‘ang dá»«ng
- LÃ  bÆ°á»›c báº¯t buá»™c trÆ°á»›c khi truy cáº­p á»©ng dá»¥ng Java Web
- NÃªn káº¿t há»£p vá»›i status vÃ  log Ä‘á»ƒ kiá»ƒm tra
		
		
		- cmd: ls /var/lib/tomcat10/webapps/
		
Lá»†NH: ls /var/lib/tomcat10/webapps/
================================================================

1. ls lÃ  gÃ¬?
----------------------------------------------------------------
- ls (list) lÃ  lá»‡nh Linux dÃ¹ng Ä‘á»ƒ:
  + Liá»‡t kÃª ná»™i dung thÆ° má»¥c
  + Hiá»ƒn thá»‹ file vÃ  thÆ° má»¥c con

----------------------------------------------------------------

2. /var/lib/tomcat10/webapps/ lÃ  gÃ¬?
----------------------------------------------------------------
ÄÃ¢y lÃ  thÆ° má»¥c QUAN TRá»ŒNG cá»§a Apache Tomcat 10

- /var/lib/        : nÆ¡i chá»©a dá»¯ liá»‡u runtime cá»§a service
- tomcat10         : phiÃªn báº£n Tomcat Ä‘ang cÃ i (Tomcat 10)
- webapps/         : thÆ° má»¥c chá»©a cÃ¡c á»©ng dá»¥ng web (Java Web App)

â†’ ÄÃ¢y lÃ  nÆ¡i Tomcat AUTO DEPLOY á»©ng dá»¥ng

----------------------------------------------------------------

3. Ã nghÄ©a cá»§a lá»‡nh ls /var/lib/tomcat10/webapps/
----------------------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Xem DANH SÃCH á»©ng dá»¥ng web Ä‘ang Ä‘Æ°á»£c deploy trÃªn Tomcat 10
- Kiá»ƒm tra app nÃ o Ä‘ang cháº¡y
- Debug lá»—i deploy

KHÃ”NG:
- Cháº¡y app
- Restart Tomcat
- Thay Ä‘á»•i dá»¯ liá»‡u

----------------------------------------------------------------

4. Ná»™i dung thÆ°á»ng tháº¥y trong thÆ° má»¥c webapps
----------------------------------------------------------------
VÃ­ dá»¥ output:

ROOT
ROOT.war
manager
manager.war
host-manager
host-manager.war
docs
docs.war
vprofile
vprofile.war

----------------------------------------------------------------

5. Giáº£i thÃ­ch tá»«ng loáº¡i file/thÆ° má»¥c
----------------------------------------------------------------

5.1 File .war
----------------------------------------------------------------
- WAR = Web Application Archive
- LÃ  file deploy á»©ng dá»¥ng Java web
- Khi copy file .war vÃ o webapps:
  â†’ Tomcat sáº½ tá»± giáº£i nÃ©n

VÃ­ dá»¥:
vprofile.war

----------------------------------------------------------------

5.2 ThÆ° má»¥c cÃ¹ng tÃªn vá»›i .war
----------------------------------------------------------------
VÃ­ dá»¥:
vprofile/
vprofile.war

- ThÆ° má»¥c lÃ  app Ä‘Ã£ Ä‘Æ°á»£c giáº£i nÃ©n
- Tomcat cháº¡y app tá»« thÆ° má»¥c nÃ y
- Náº¿u thÆ° má»¥c tá»“n táº¡i:
  â†’ Tomcat Æ¯U TIÃŠN thÆ° má»¥c hÆ¡n file .war

----------------------------------------------------------------

5.3 ROOT vÃ  ROOT.war
----------------------------------------------------------------
- ROOT lÃ  á»©ng dá»¥ng máº·c Ä‘á»‹nh
- Truy cáº­p báº±ng:
  http://server-ip:8080/

- Náº¿u deploy app vÃ o ROOT:
  â†’ App cháº¡y á»Ÿ context path /

----------------------------------------------------------------

5.4 manager / host-manager
----------------------------------------------------------------
- App quáº£n trá»‹ Tomcat
- DÃ¹ng Ä‘á»ƒ:
  + Deploy app
  + Undeploy app
  + Xem tráº¡ng thÃ¡i server

----------------------------------------------------------------

6. Tomcat xá»­ lÃ½ thÆ° má»¥c webapps nhÆ° tháº¿ nÃ o?
----------------------------------------------------------------
- Khi Tomcat START:
  + QuÃ©t thÆ° má»¥c webapps
  + Deploy tá»«ng app

- Khi Tomcat Ä‘ang RUN:
  + Copy file .war má»›i
    â†’ Tomcat auto deploy
  + XÃ³a file/thÆ° má»¥c
    â†’ Tomcat undeploy

----------------------------------------------------------------

7. Khi nÃ o cáº§n cháº¡y lá»‡nh nÃ y?
----------------------------------------------------------------
- Kiá»ƒm tra app Ä‘Ã£ deploy chÆ°a
- Kiá»ƒm tra cÃ³ bá»‹ thiáº¿u file .war khÃ´ng
- So sÃ¡nh giá»¯a cÃ¡c server (prod / staging)
- Debug lá»—i 404 trÃªn Tomcat

----------------------------------------------------------------

8. Lá»—i thÆ°á»ng gáº·p liÃªn quan
----------------------------------------------------------------

8.1 KhÃ´ng tháº¥y app trong webapps
----------------------------------------------------------------
- WAR chÆ°a copy
- Copy sai thÆ° má»¥c
- Tomcat chÆ°a start

----------------------------------------------------------------

8.2 CÃ³ .war nhÆ°ng khÃ´ng cÃ³ thÆ° má»¥c
----------------------------------------------------------------
- Tomcat chÆ°a giáº£i nÃ©n
- Lá»—i trong quÃ¡ trÃ¬nh deploy
â†’ Check log:
  /var/log/tomcat10/catalina.out

----------------------------------------------------------------

8.3 Permission denied
----------------------------------------------------------------
- User cháº¡y Tomcat khÃ´ng cÃ³ quyá»n
- Kiá»ƒm tra owner:
  ls -l /var/lib/tomcat10/webapps/

----------------------------------------------------------------

9. So sÃ¡nh vá»›i thÆ° má»¥c khÃ¡c
----------------------------------------------------------------
- webapps/   : deploy app
- conf/      : cáº¥u hÃ¬nh Tomcat
- logs/      : log Tomcat
- bin/       : script start/stop

----------------------------------------------------------------

10. TÃ³m táº¯t 1 dÃ²ng
----------------------------------------------------------------
ls /var/lib/tomcat10/webapps/ =
XEM DANH SÃCH á»¨NG Dá»¤NG WEB ÄANG DEPLOY TRÃŠN APACHE TOMCAT 10
		
		
		- cmd: cp /tmp/vprofile-v2.war /var/lib/tomcat10/webapps/ROOT.war
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
cp /tmp/vprofile-v2.war /var/lib/tomcat10/webapps/ROOT.war
================================================================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    cp /tmp/vprofile-v2.war /var/lib/tomcat10/webapps/ROOT.war

ÄÆ°á»£c sá»­ dá»¥ng trÃªn há»‡ Ä‘iá»u hÃ nh Linux Ä‘á»ƒ:
- Sao chÃ©p file á»©ng dá»¥ng Java (.war)
- Triá»ƒn khai (deploy) á»©ng dá»¥ng web vÃ o Apache Tomcat
- Ghi Ä‘Ã¨ á»©ng dá»¥ng máº·c Ä‘á»‹nh ROOT cá»§a Tomcat


2. GIá»šI THIá»†U CÃC THÃ€NH PHáº¦N LIÃŠN QUAN
------------------------------------

2.1. File .war lÃ  gÃ¬?
---------------------
- .war (Web Application Archive) lÃ  gÃ³i á»©ng dá»¥ng web Java
- Chá»©a:
  + File .class Ä‘Ã£ biÃªn dá»‹ch
  + JSP
  + HTML / CSS / JS
  + File cáº¥u hÃ¬nh web.xml
  + ThÆ° viá»‡n trong thÆ° má»¥c WEB-INF/lib

- Tomcat tá»± Ä‘á»™ng:
  + Giáº£i nÃ©n
  + Deploy
  + Cháº¡y á»©ng dá»¥ng khi .war Ä‘Æ°á»£c Ä‘áº·t Ä‘Ãºng thÆ° má»¥c


2.2. Apache Tomcat
------------------
- Tomcat lÃ  web server + servlet container
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ cháº¡y:
  + Java Servlet
  + JSP
  + Spring MVC / Spring Boot (WAR)

- ThÆ° má»¥c webapps:
  + LÃ  nÆ¡i Tomcat theo dÃµi Ä‘á»ƒ deploy á»©ng dá»¥ng
  + Má»—i file .war = 1 á»©ng dá»¥ng web


3. PHÃ‚N TÃCH Tá»ªNG PHáº¦N Cá»¦A Lá»†NH
------------------------------

3.1. cp
-------
- cp (copy) lÃ  lá»‡nh dÃ¹ng Ä‘á»ƒ sao chÃ©p file hoáº·c thÆ° má»¥c

CÃº phÃ¡p chung:
    cp <source> <destination>


3.2. /tmp/vprofile-v2.war
-------------------------
- ÄÆ°á»ng dáº«n file nguá»“n (source)
- Náº±m trong thÆ° má»¥c /tmp
- vprofile-v2.war:
  + TÃªn file á»©ng dá»¥ng
  + PhiÃªn báº£n v2 cá»§a project "vprofile"

LÆ°u Ã½:
- /tmp thÆ°á»ng dÃ¹ng Ä‘á»ƒ chá»©a file táº¡m
- File trong /tmp cÃ³ thá»ƒ bá»‹ xÃ³a khi reboot


3.3. /var/lib/tomcat10/webapps/ROOT.war
--------------------------------------
- ÄÆ°á»ng dáº«n file Ä‘Ã­ch (destination)
- ROOT.war lÃ  á»©ng dá»¥ng Ä‘áº·c biá»‡t trong Tomcat

Ã nghÄ©a ROOT:
- á»¨ng dá»¥ng ROOT cháº¡y táº¡i context path "/"
- Truy cáº­p báº±ng:
    http://<server-ip>:8080/

KhÃ´ng cáº§n:
    http://<server-ip>:8080/app-name


4. TÃC Dá»¤NG Cá»¦A Lá»†NH
-------------------
Khi thá»±c hiá»‡n lá»‡nh:
    cp /tmp/vprofile-v2.war /var/lib/tomcat10/webapps/ROOT.war

Äiá»u xáº£y ra:
1. File vprofile-v2.war Ä‘Æ°á»£c sao chÃ©p
2. Äá»•i tÃªn thÃ nh ROOT.war
3. Ghi Ä‘Ã¨ ROOT.war hiá»‡n cÃ³ (náº¿u tá»“n táº¡i)
4. Tomcat phÃ¡t hiá»‡n file má»›i
5. Tomcat:
   - Undeploy ROOT cÅ©
   - Deploy ROOT.war má»›i
   - Giáº£i nÃ©n thÃ nh thÆ° má»¥c ROOT/


5. YÃŠU Cáº¦U QUYá»€N Háº N
--------------------
- ThÆ° má»¥c /var/lib/tomcat10/webapps thÆ°á»ng thuá»™c quyá»n:
  + user: tomcat
  + hoáº·c root

Do Ä‘Ã³ cáº§n:
    sudo cp /tmp/vprofile-v2.war /var/lib/tomcat10/webapps/ROOT.war


6. KIá»‚M TRA SAU KHI COPY
-----------------------
Kiá»ƒm tra file:
    ls -l /var/lib/tomcat10/webapps/ROOT.war

Kiá»ƒm tra thÆ° má»¥c giáº£i nÃ©n:
    ls -l /var/lib/tomcat10/webapps/ROOT/

Kiá»ƒm tra log Tomcat:
    tail -f /var/log/tomcat10/catalina.out


7. LÆ¯U Ã QUAN TRá»ŒNG
------------------
- Lá»‡nh cp KHÃ”NG xÃ³a file gá»‘c trong /tmp
- Náº¿u ROOT.war cÅ© Ä‘ang cháº¡y:
  + á»¨ng dá»¥ng sáº½ bá»‹ restart
- Náº¿u file lá»—i:
  + Tomcat deploy tháº¥t báº¡i
  + á»¨ng dá»¥ng khÃ´ng cháº¡y

Khuyáº¿n nghá»‹:
- XÃ³a thÆ° má»¥c ROOT cÅ© trÆ°á»›c khi copy:
    rm -rf /var/lib/tomcat10/webapps/ROOT
- Sau Ä‘Ã³ copy láº¡i file war


8. Lá»–I THÆ¯á»œNG Gáº¶P
----------------

8.1. Permission denied
----------------------
NguyÃªn nhÃ¢n:
- KhÃ´ng Ä‘á»§ quyá»n ghi vÃ o webapps

CÃ¡ch xá»­ lÃ½:
    sudo cp ...


8.2. á»¨ng dá»¥ng khÃ´ng cáº­p nháº­t
----------------------------
NguyÃªn nhÃ¢n:
- Tomcat cache thÆ° má»¥c ROOT

CÃ¡ch xá»­ lÃ½:
    systemctl restart tomcat10


9. TÃ“M Táº®T
----------
- cp dÃ¹ng Ä‘á»ƒ sao chÃ©p file
- vprofile-v2.war lÃ  file á»©ng dá»¥ng Java
- ROOT.war lÃ  á»©ng dá»¥ng máº·c Ä‘á»‹nh cá»§a Tomcat
- Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ deploy á»©ng dá»¥ng vÃ o Tomcat táº¡i "/"

Káº¾T LUáº¬N
--------
ÄÃ¢y lÃ  lá»‡nh triá»ƒn khai á»©ng dá»¥ng Java WAR trá»±c tiáº¿p vÃ o Tomcat,
phá»• biáº¿n trong mÃ´i trÆ°á»ng lab,
		
		
		- cmd: ls /var/lib/tomcat10/webapps
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ls /var/lib/tomcat10/webapps
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ liá»‡t kÃª (list) cÃ¡c file vÃ  thÆ° má»¥c
bÃªn trong thÆ° má»¥c webapps cá»§a Tomcat 10.

ThÆ° má»¥c webapps lÃ  nÆ¡i Tomcat:
- Triá»ƒn khai (deploy) cÃ¡c á»©ng dá»¥ng web Java
- Chá»©a cÃ¡c file .war vÃ  thÆ° má»¥c á»©ng dá»¥ng Ä‘Ã£ Ä‘Æ°á»£c giáº£i nÃ©n

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. ls
--------------------------------------------------
- ls (list)
- Lá»‡nh cÆ¡ báº£n cá»§a Linux dÃ¹ng Ä‘á»ƒ:
  + Liá»‡t kÃª file
  + Liá»‡t kÃª thÆ° má»¥c

KhÃ´ng cÃ³ option:
- Hiá»ƒn thá»‹ tÃªn file/thÆ° má»¥c theo dáº¡ng ngáº¯n gá»n

--------------------------------------------------
2.2. /var/lib/tomcat10/webapps
--------------------------------------------------
- /var/lib : ThÆ° má»¥c chá»©a dá»¯ liá»‡u runtime cá»§a service
- tomcat10 : ThÆ° má»¥c dá»¯ liá»‡u cá»§a Tomcat phiÃªn báº£n 10
- webapps  : ThÆ° má»¥c deploy á»©ng dá»¥ng web

ÄÆ°á»ng dáº«n Ä‘áº§y Ä‘á»§:
--------------------------------------------------
/var/lib/tomcat10/webapps

--------------------------------------------------
3. VAI TRÃ’ Cá»¦A THÆ¯ Má»¤C webapps
--------------------------------------------------
Tomcat sá»­ dá»¥ng thÆ° má»¥c nÃ y Ä‘á»ƒ:

- Tá»± Ä‘á»™ng deploy á»©ng dá»¥ng
- Giáº£i nÃ©n file .war thÃ nh thÆ° má»¥c
- Cháº¡y á»©ng dá»¥ng web Java

VÃ­ dá»¥:
--------------------------------------------------
app.war        â†’ Tomcat tá»± giáº£i nÃ©n â†’ app/
ROOT.war       â†’ á»¨ng dá»¥ng cháº¡y táº¡i /
manager.war    â†’ Trang quáº£n trá»‹ Tomcat

--------------------------------------------------
4. Káº¾T QUáº¢ Cá»¦A Lá»†NH ls
--------------------------------------------------
Sau khi cháº¡y:
ls /var/lib/tomcat10/webapps

CÃ³ thá»ƒ tháº¥y:
- CÃ¡c file .war
- CÃ¡c thÆ° má»¥c á»©ng dá»¥ng
- á»¨ng dá»¥ng máº·c Ä‘á»‹nh cá»§a Tomcat

VÃ­ dá»¥ káº¿t quáº£:
--------------------------------------------------
ROOT
manager
host-manager
vprofile
vprofile.war
--------------------------------------------------

--------------------------------------------------
5. Ã NGHÄ¨A Káº¾T QUáº¢ HIá»‚N THá»Š
--------------------------------------------------
- ThÆ° má»¥c (vÃ­ dá»¥: vprofile):
  â†’ á»¨ng dá»¥ng Ä‘Ã£ Ä‘Æ°á»£c deploy vÃ  giáº£i nÃ©n
- File .war (vÃ­ dá»¥: vprofile.war):
  â†’ File source Ä‘á»ƒ deploy
- ROOT:
  â†’ á»¨ng dá»¥ng cháº¡y táº¡i context "/"

--------------------------------------------------
6. Má»¤C ÄÃCH THÆ¯á»œNG DÃ™NG
--------------------------------------------------
Lá»‡nh nÃ y thÆ°á»ng dÃ¹ng Ä‘á»ƒ:
- Kiá»ƒm tra á»©ng dá»¥ng Ä‘Ã£ Ä‘Æ°á»£c deploy chÆ°a
- Debug lá»—i deploy
- XÃ¡c nháº­n Tomcat cÃ³ nháº­n file .war hay khÃ´ng
- Kiá»ƒm tra tÃªn context path cá»§a á»©ng dá»¥ng

--------------------------------------------------
7. QUYá»€N TRUY Cáº¬P
--------------------------------------------------
- ThÆ° má»¥c nÃ y thÆ°á»ng thuá»™c user:
  tomcat hoáº·c tomcat10
- CÃ³ thá»ƒ cáº§n sudo náº¿u user hiá»‡n táº¡i khÃ´ng cÃ³ quyá»n

VÃ­ dá»¥:
--------------------------------------------------
sudo ls /var/lib/tomcat10/webapps

--------------------------------------------------
8. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- KhÃ´ng xÃ³a file trong webapps khi Tomcat Ä‘ang cháº¡y
- Khi deploy production:
  + NÃªn dá»«ng Tomcat trÆ°á»›c khi thay Ä‘á»•i
- File .war Ä‘áº·t vÃ o webapps sáº½ Ä‘Æ°á»£c auto-deploy

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
ls /var/lib/tomcat10/webapps
= Liá»‡t kÃª á»©ng dá»¥ng web Ä‘ang deploy trÃªn Tomcat 10
= Kiá»ƒm tra file .war vÃ  thÆ° má»¥c á»©ng dá»¥ng
= Há»¯u Ã­ch khi deploy vÃ  debug
==================================================
		
		
		- cmd: sudo yum install -y telnet
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
sudo yum install -y telnet

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- CÃ i Ä‘áº·t cÃ´ng cá»¥ telnet trÃªn há»‡ Linux
- ThÃ´ng qua trÃ¬nh quáº£n lÃ½ gÃ³i yum
- Tá»± Ä‘á»™ng Ä‘á»“ng Ã½ má»i cÃ¢u há»i trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ kiá»ƒm tra káº¿t ná»‘i TCP tá»›i host/port

Ãp dá»¥ng cho:
- CentOS
- RHEL
- Rocky Linux
- AlmaLinux
(Amazon Linux dÃ¹ng yum/dnf tÆ°Æ¡ng tá»±)

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. sudo
--------------------------------------------------
sudo (Super User DO) dÃ¹ng Ä‘á»ƒ:
- Cháº¡y lá»‡nh vá»›i quyá»n root
- Cáº§n thiáº¿t khi cÃ i Ä‘áº·t pháº§n má»m há»‡ thá»‘ng

Náº¿u khÃ´ng dÃ¹ng sudo:
- Sáº½ gáº·p lá»—i: Permission denied

--------------------------------------------------
2.2. yum
--------------------------------------------------
yum (Yellowdog Updater, Modified) lÃ :
- TrÃ¬nh quáº£n lÃ½ gÃ³i (package manager)
- Táº£i vÃ  cÃ i pháº§n má»m tá»« repository

Chá»©c nÄƒng:
- Resolve dependency tá»± Ä‘á»™ng
- Quáº£n lÃ½ cÃ i Ä‘áº·t, cáº­p nháº­t, gá»¡ bá»

--------------------------------------------------
2.3. install
--------------------------------------------------
install lÃ :
- HÃ nh Ä‘á»™ng cÃ i Ä‘áº·t gÃ³i má»›i
- Táº£i package vÃ  cÃ¡c dependency liÃªn quan

--------------------------------------------------
2.4. -y
--------------------------------------------------
-y = assume yes

Ã nghÄ©a:
- Tá»± Ä‘á»™ng tráº£ lá»i "yes" cho má»i cÃ¢u há»i
- KhÃ´ng cáº§n ngÆ°á»i dÃ¹ng xÃ¡c nháº­n thá»§ cÃ´ng

Rá»§i ro:
- CÃ i Ä‘áº·t ngay láº­p tá»©c
- KhÃ´ng cÃ³ bÆ°á»›c xÃ¡c nháº­n

--------------------------------------------------
2.5. telnet
--------------------------------------------------
telnet lÃ :
- CÃ´ng cá»¥ dÃ²ng lá»‡nh
- DÃ¹ng Ä‘á»ƒ káº¿t ná»‘i TCP tá»›i server/port

VÃ­ dá»¥ sá»­ dá»¥ng:
telnet google.com 80
telnet 127.0.0.1 3306

LÆ°u Ã½:
- Telnet KHÃ”NG mÃ£ hÃ³a dá»¯ liá»‡u
- KhÃ´ng an toÃ n cho Ä‘Äƒng nháº­p

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. sudo nÃ¢ng quyá»n lÃªn root
2. yum Ä‘á»c cáº¥u hÃ¬nh repository
3. yum tÃ¬m package telnet
4. yum táº£i telnet tá»« repo
5. yum cÃ i Ä‘áº·t telnet
6. GÃ³i telnet sáºµn sÃ ng sá»­ dá»¥ng

--------------------------------------------------
4. KIá»‚M TRA SAU KHI CÃ€I
--------------------------------------------------
Kiá»ƒm tra version:
telnet

Hoáº·c:
which telnet

Kiá»ƒm tra package:
rpm -qa | grep telnet

--------------------------------------------------
5. Má»¤C ÄÃCH THÆ¯á»œNG DÃ™NG Cá»¦A TELNET
--------------------------------------------------
- Test port cÃ³ má»Ÿ hay khÃ´ng
- Test firewall / security group
- Kiá»ƒm tra service láº¯ng nghe port

VÃ­ dá»¥:
telnet localhost 8080
telnet db-server 3306

--------------------------------------------------
6. CÃC Váº¤N Äá»€ THÆ¯á»œNG Gáº¶P
--------------------------------------------------

6.1. KhÃ´ng tÃ¬m tháº¥y package
--------------------------------------------------
Lá»—i:
No package telnet available

Giáº£i phÃ¡p:
- Báº­t repo base / appstream
- Hoáº·c cÃ i:
  telnet-client

--------------------------------------------------
6.2. Bá»‹ cháº·n bá»Ÿi firewall
--------------------------------------------------
Káº¿t quáº£:
- Connecting... rá»“i timeout

Kiá»ƒm tra:
firewall-cmd --list-all
iptables -L

--------------------------------------------------
7. Cáº¢NH BÃO Báº¢O Máº¬T
--------------------------------------------------
- Telnet truyá»n dá»¯ liá»‡u dáº¡ng plain text
- KHÃ”NG dÃ¹ng cho:
  + Login server
  + Truyá»n thÃ´ng tin nháº¡y cáº£m

NÃªn dÃ¹ng:
- ssh
- nc
- curl

--------------------------------------------------
8. SO SÃNH TELNET VÃ€ SSH
--------------------------------------------------
telnet:
- KhÃ´ng mÃ£ hÃ³a
- DÃ¹ng test port

ssh:
- CÃ³ mÃ£ hÃ³a
- DÃ¹ng quáº£n trá»‹ server

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
sudo yum install -y telnet

= CÃ i telnet
= DÃ¹ng yum
= Tá»± Ä‘á»™ng Ä‘á»“ng Ã½
= Cáº§n quyá»n root
= DÃ¹ng test káº¿t ná»‘i TCP
		
		
		- cmd: telnet db01.vprofile.in 3306
		
Lá»†NH: telnet db01.vprofile.in 3306
================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh `telnet db01.vprofile.in 3306` dÃ¹ng Ä‘á»ƒ kiá»ƒm tra
káº¿t ná»‘i máº¡ng (network connectivity) tá»« mÃ¡y hiá»‡n táº¡i
tá»›i mÃ¡y chá»§ database db01.vprofile.in qua cá»•ng 3306.

Cá»•ng 3306 lÃ  cá»•ng máº·c Ä‘á»‹nh cá»§a MySQL / MariaDB.

Lá»‡nh nÃ y KHÃ”NG dÃ¹ng Ä‘á»ƒ Ä‘Äƒng nháº­p database,
chá»‰ dÃ¹ng Ä‘á»ƒ xÃ¡c nháº­n:
- DNS resolve Ä‘Æ°á»£c hay khÃ´ng
- Network cÃ³ thÃ´ng hay khÃ´ng
- Port database cÃ³ Ä‘ang má»Ÿ hay khÃ´ng


2. Cáº¤U TRÃšC Lá»†NH
---------------
telnet <hostname_or_ip> <port>

Ãp dá»¥ng:
telnet db01.vprofile.in 3306


3. GIáº¢I THÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

telnet
------
- CÃ´ng cá»¥ dÃ²ng lá»‡nh dÃ¹ng giao tiáº¿p TCP
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ test port

db01.vprofile.in
----------------
- Hostname cá»§a server database
- CÃ³ thá»ƒ lÃ :
  - Private DNS
  - Public DNS
  - TÃªn ná»™i bá»™ trong VPC

3306
----
- Port MySQL / MariaDB máº·c Ä‘á»‹nh
- Server database pháº£i láº¯ng nghe port nÃ y


4. ÄIá»€U GÃŒ Xáº¢Y RA KHI CHáº Y Lá»†NH
------------------------------

Khi cháº¡y lá»‡nh:
1. MÃ¡y client resolve DNS db01.vprofile.in
2. Gá»­i TCP SYN tá»›i port 3306
3. Náº¿u port má»Ÿ vÃ  network thÃ´ng:
   - Server pháº£n há»“i
   - Telnet káº¿t ná»‘i thÃ nh cÃ´ng

4. Náº¿u port Ä‘Ã³ng hoáº·c bá»‹ cháº·n:
   - Káº¿t ná»‘i tháº¥t báº¡i


5. Káº¾T QUáº¢ THÃ€NH CÃ”NG (VÃ Dá»¤)
----------------------------

Trying 10.0.1.15...
Connected to db01.vprofile.in.
Escape character is '^]'.
J
5.5.5-10.6.14-MariaDB

Ã nghÄ©a:
- "Connected" : Káº¿t ná»‘i TCP thÃ nh cÃ´ng
- Chuá»—i kÃ½ tá»± láº¡: banner MySQL/MariaDB
- XÃ¡c nháº­n DB Ä‘ang cháº¡y vÃ  má»Ÿ port


6. Káº¾T QUáº¢ THáº¤T Báº I (VÃ Dá»¤)
---------------------------

Trying 10.0.1.15...
telnet: Unable to connect to remote host: Connection timed out

Hoáº·c:
telnet: Unable to connect to remote host: Connection refused


7. GIáº¢I THÃCH CÃC Lá»–I
--------------------

Connection timed out:
- Network khÃ´ng thÃ´ng
- Security Group / Firewall cháº·n
- Route sai

Connection refused:
- Server cÃ³ nhÆ°ng:
  - DB chÆ°a cháº¡y
  - Port 3306 khÃ´ng láº¯ng nghe
  - Firewall local cháº·n


8. CÃCH THOÃT TELNET
-------------------

Sau khi káº¿t ná»‘i thÃ nh cÃ´ng:
- Nháº¥n:
  CTRL + ]
- GÃµ:
  quit
- Nháº¥n Enter


9. CÃC Lá»†NH KIá»‚M TRA THAY THáº¾
----------------------------

DÃ¹ng nc (netcat):
nc -vz db01.vprofile.in 3306

DÃ¹ng ss (trÃªn server):
ss -tunlp | grep 3306

DÃ¹ng mysql client (Ä‘á»ƒ test sÃ¢u hÆ¡n):
mysql -h db01.vprofile.in -u user -p


10. KHI NÃ€O NÃŠN DÃ™NG TELNET
--------------------------

- Test nhanh káº¿t ná»‘i DB
- Debug lá»—i app khÃ´ng connect DB
- Kiá»ƒm tra firewall / security group
- Test trong CI/CD hoáº·c server ná»™i bá»™


11. LÆ¯U Ã QUAN TRá»ŒNG
-------------------

- Telnet KHÃ”NG mÃ£ hÃ³a dá»¯ liá»‡u
- KhÃ´ng dÃ¹ng Ä‘á»ƒ login DB
- TrÃªn server má»›i, telnet cÃ³ thá»ƒ chÆ°a Ä‘Æ°á»£c cÃ i
- Chá»‰ dÃ¹ng cho má»¥c Ä‘Ã­ch kiá»ƒm tra


12. TÃ“M Táº®T
-----------

- `telnet db01.vprofile.in 3306` kiá»ƒm tra káº¿t ná»‘i TCP tá»›i MySQL/MariaDB
- XÃ¡c nháº­n DNS, network, port
- LÃ  bÆ°á»›c debug cÆ¡ báº£n vÃ  ráº¥t quan trá»ng
- KhÃ´ng áº£nh hÆ°á»Ÿng tá»›i database
		
		
	- Flow khi báº¡n mua domain á»Ÿ GoDaddy vÃ  muá»‘n dÃ¹ng vá»›i AWS Certificate Manager (ACM):
	
		1. Mua domain á»Ÿ GoDaddy

			Báº¡n Ä‘Äƒng kÃ½ domain táº¡i GoDaddy

			VÃ­ dá»¥ báº¡n mua: myawsdemo.com.

			Sau khi thanh toÃ¡n xong, domain nÃ y sáº½ Ä‘Æ°á»£c quáº£n lÃ½ trong GoDaddy DNS.

		2. Táº¡o Hosted Zone trong Route 53

			VÃ o AWS â†’ Route 53 â†’ Hosted Zones â†’ Create hosted zone.

			Nháº­p tÃªn domain cá»§a báº¡n (myawsdemo.com).

			Route 53 sáº½ sinh ra 4 record NS (Name Servers) vÃ  1 record SOA.

		3. Cáº­p nháº­t DNS á»Ÿ GoDaddy

			VÃ o GoDaddy â†’ My Domains â†’ DNS Management.

			Thay 4 NS máº·c Ä‘á»‹nh cá»§a GoDaddy báº±ng 4 NS tá»« AWS Route 53.

			Äiá»u nÃ y nghÄ©a lÃ : tá»« giá» má»i request tá»›i domain sáº½ Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi AWS.

			Thá»i gian cáº­p nháº­t cÃ³ thá»ƒ máº¥t 5 phÃºt â€“ 24h (thÆ°á»ng lÃ  vÃ i phÃºt).

		4. YÃªu cáº§u chá»©ng chá»‰ trong ACM

			VÃ o AWS Certificate Manager â†’ Request a certificate.

			Nháº­p domain cáº§n SSL:

			myawsdemo.com

			*.myawsdemo.com (náº¿u báº¡n muá»‘n wildcard cho subdomain).

			Chá»n DNS validation.

			ACM sáº½ Ä‘Æ°a ra 1 record CNAME.

		5. ThÃªm CNAME vÃ o Route 53

			VÃ o Route 53 â†’ Hosted Zone â†’ Create record.

			ThÃªm CNAME do ACM cung cáº¥p.

			Chá» AWS xÃ¡c thá»±c (vÃ i phÃºt â€“ 30 phÃºt).

			Khi tráº¡ng thÃ¡i certificate = Issued â†’ báº¡n Ä‘Ã£ cÃ³ chá»©ng chá»‰ há»£p lá»‡.

		6. Sá»­ dá»¥ng certificate

			CloudFront â†’ chá»n certificate trong pháº§n SSL.

			ALB (Application Load Balancer) â†’ add certificate vÃ o Listener 443.

			API Gateway â†’ add certificate cho Custom Domain.
				
	- TrÆ°á»ng há»£p táº¡o load blancer nhÆ°ng khÃ´ng mua domain:

		HTTPS á»Ÿ Load Balancer (ALB/NLB/CLB)

			Khi báº¡n táº¡o Load Balancer vÃ  muá»‘n láº¯ng nghe HTTPS (port 443), AWS sáº½ yÃªu cáº§u báº¡n chá»n:

				SSL certificate (tá»« AWS Certificate Manager â€“ ACM, hoáº·c import tá»« ngoÃ i).

			Táº¡i sao certificate láº¡i cáº§n domain?

				Certificate SSL/TLS luÃ´n gáº¯n vá»›i má»™t tÃªn miá»n (VD: myapp.com, *.myapp.com).

				TrÃ¬nh duyá»‡t khi ngÆ°á»i dÃ¹ng truy cáº­p https://myapp.com sáº½ kiá»ƒm tra:

				Domain trong URL cÃ³ khá»›p vá»›i domain trong certificate khÃ´ng?

				Náº¿u khá»›p â†’ trÃ¬nh duyá»‡t hiá»ƒn thá»‹ á»• khÃ³a xanh ğŸ”’.

				Náº¿u khÃ´ng khá»›p â†’ hiá»‡n warning â€œConnection not secureâ€.

				VÃ¬ váº­y, certificate khÃ´ng thá»ƒ cáº¥p cho DNS máº·c Ä‘á»‹nh cá»§a AWS ELB (xxxxx.elb.amazonaws.com), trá»«
				khi báº¡n cÃ³ chá»©ng chá»‰ wildcard chÃ­nh thá»©c bao trÃ¹m domain Ä‘Ã³ (cÃ¡i nÃ y báº¡n khÃ´ng sá»Ÿ há»¯u Ä‘Æ°á»£c).

			Khi khÃ´ng cÃ³ domain

				Báº¡n váº«n cÃ³ thá»ƒ táº¡o Load Balancer vá»›i listener HTTP (port 80) â†’ truy cáº­p bÃ¬nh thÆ°á»ng qua DNS máº·c Ä‘á»‹nh.

				NhÆ°ng náº¿u chá»n HTTPS (443), AWS sáº½ báº¯t buá»™c báº¡n chá»n certificate.

				Báº¡n sáº½ khÃ´ng cÃ³ certificate há»£p lá»‡ náº¿u khÃ´ng sá»Ÿ há»¯u domain â†’ khÃ´ng thá»ƒ hoÃ n táº¥t HTTPS chuáº©n.

				CÃ³ thá»ƒ import self-signed certificate Ä‘á»ƒ test, nhÆ°ng trÃ¬nh duyá»‡t sáº½ luÃ´n bÃ¡o lá»—i báº£o máº­t.

	- Táº¡i sao báº¡n táº¡o record trong Route 53 Hosted Zone trá» tá»›i private IP cá»§a EC2 vÃ  khi nÃ o nÃªn
	lÃ m váº­y, kÃ¨m vÃ­ dá»¥ vÃ  best-practice:
	
		Ã nghÄ©a / má»¥c Ä‘Ã­ch

			DNS ná»™i bá»™ (Private DNS): Khi báº¡n táº¡o Private Hosted Zone (liÃªn káº¿t vá»›i VPC) vÃ  thÃªm A record trá»
			tá»›i private IP cá»§a EC2, cÃ¡c instance trong VPC sáº½ cÃ³ thá»ƒ resolve tÃªn (vÃ­ dá»¥ db01.internal.example.com)
			thÃ nh IP ná»™i bá»™ (10.x.x.x). DÃ¹ng cho giao tiáº¿p ná»™i bá»™ giá»¯a service mÃ  khÃ´ng lá»™ ra Internet.

			Dá»… quáº£n lÃ½ hÆ¡n: Thay vÃ¬ hardcode IP vÃ o config á»©ng dá»¥ng báº¡n dÃ¹ng tÃªn dá»… Ä‘á»c/transfer: mysql -h db01.internal.example.com.
			Khi pháº£i thay Ä‘á»•i instance, báº¡n chá»‰ cáº§n update DNS record, khÃ´ng pháº£i edit má»i config.

			Service discovery Ä‘Æ¡n giáº£n: DÃ¹ng tÃªn cá»‘ Ä‘á»‹nh cho DB, cache, mq, v.v. Ä‘á»ƒ cÃ¡c app tÃ¬m tá»›i service Ä‘Ã³.

			Split-horizon / Private vs Public: Báº¡n cÃ³ thá»ƒ cÃ³ má»™t zone public (cho internet) vÃ  má»™t private (cho VPC); private chá»‰
			giáº£i quyáº¿t trong VPC â€” an toÃ n hÆ¡n.

			Há»— trá»£ failover / swap: Náº¿u báº¡n thay instance báº±ng instance má»›i, Ä‘á»•i record sang IP má»›i â†’ á»©ng dá»¥ng chuyá»ƒn sang server má»›i
			nhanh hÆ¡n.

			TÃ­ch há»£p vá»›i ALB/ENI/Elastic IP: Thay vÃ¬ trá» trá»±c tiáº¿p IP cá»§a instance, thÆ°á»ng tá»‘t hÆ¡n lÃ  trá» tá»›i internal ALB (dÃ¹ng Alias record)
			hoáº·c dÃ¹ng ENI cá»‘ Ä‘á»‹nh Ä‘á»ƒ trÃ¡nh pháº£i update DNS khi instance thay Ä‘á»•i.

		VÃ­ dá»¥ thá»±c táº¿

			Táº¡o Private Hosted Zone internal.example.com liÃªn káº¿t vá»›i VPC vpc-abc123.

			Táº¡o A record:

				db01.internal.example.com â†’ 10.0.1.5

				cache.internal.example.com â†’ 10.0.1.6

			TrÃªn EC2 trong cÃ¹ng VPC: ping db01.internal.example.com â†’ sáº½ resolve thÃ nh 10.0.1.5.

		CÃ¡ch táº¡o (tÃ³m táº¯t)

			AWS Console â†’ Route 53 â†’ Hosted zones â†’ Create hosted zone.

				Type: Private hosted zone for Amazon VPC

				Enter domain: internal.example.com

				Associate with one or more VPCs.

			VÃ o zone â†’ Create record â†’ Type: A â†’ Name: db01 â†’ Value: 10.0.1.5 â†’ Save.

		LÆ°u Ã½ & best practices

			Private IP cÃ³ thá»ƒ Ä‘á»•i náº¿u báº¡n terminate instance; stop/start thÆ°á»ng giá»¯ private IPv4 chÃ­nh nhÆ°ng khÃ´ng tuyá»‡t
			Ä‘á»‘i (náº¿u báº¡n detach ENI hay thay instance thÃ¬ thay Ä‘á»•i). Äá»ƒ á»•n Ä‘á»‹nh:

				GÃ¡n Elastic Network Interface (ENI) vá»›i private IP tÄ©nh, hoáº·c

				DÃ¹ng internal load balancer (ALB/NLB) vÃ  táº¡o Alias record trá» tá»›i ALB (khÃ´ng pháº£i IP) â€” ALB xá»­ lÃ½ backend thay Ä‘á»•i.

			TTL: Ä‘áº·t TTL tháº¥p (vÃ­ dá»¥ 60s) náº¿u báº¡n hay thay Ä‘á»•i record, nhÆ°ng TTL tháº¥p tÄƒng sá»‘ query DNS.

			Tá»± Ä‘á»™ng hÃ³a: Náº¿u báº¡n autoscale, update DNS thá»§ cÃ´ng sáº½ báº¥t tiá»‡n â€” dÃ¹ng AWS Cloud Map / Service Discovery hoáº·c tá»±
			Ä‘á»™ng Ä‘Äƒng kÃ½ qua userdata / script / automation (Lambda) Ä‘á»ƒ cáº­p nháº­t record khi instance khá»Ÿi táº¡o/terminate.

			Sá»­ dá»¥ng SRV / CNAME khi phÃ¹ há»£p (vÃ­ dá»¥ SRV cho service discovery cÃ³ port).

			Báº£o máº­t: Private hosted zone chá»‰ tráº£ lá»i tá»« VPC Ä‘Ã£ liÃªn káº¿t â€” an toÃ n ná»™i bá»™.

			KhÃ´ng trá» public records tá»›i private IP (sáº½ khÃ´ng truy cáº­p Ä‘Æ°á»£c tá»« Internet).

		Khi nÃ o KHÃ”NG nÃªn dÃ¹ng trá»±c tiáº¿p private IP record

			Náº¿u báº¡n cÃ³ autoscaling hoáº·c thÆ°á»ng xuyÃªn thay instance â†’ nÃªn dÃ¹ng internal ALB hoáº·c Cloud Map.

			Náº¿u service cáº§n load-balancing hoáº·c health checks â†’ dÃ¹ng ALB/NLB thay vÃ¬ trá» tháº³ng vÃ o má»™t instance.
		
		
--- Re-Architecting Web App on AWS Cloud [PAAS & SAAS]:

	Flow chÃ­nh:
	
		Users (NgÆ°á»i dÃ¹ng)

			NgÆ°á»i dÃ¹ng gá»­i request (HTTP/HTTPS) tá»« trÃ¬nh duyá»‡t â†’ vÃ­ dá»¥: https://myapp.com.

		Amazon Route 53

			ÄÃ¢y lÃ  DNS service.

			NÃ³ sáº½ phÃ¢n giáº£i tÃªn miá»n (myapp.com) â†’ IP/public endpoint cá»§a há»‡ thá»‘ng.

		Amazon CloudFront (CDN)

			GiÃºp cache ná»™i dung tÄ©nh (áº£nh, CSS, JS, video) gáº§n vá»›i ngÆ°á»i dÃ¹ng nháº¥t.

			LÃ m á»©ng dá»¥ng nhanh hÆ¡n, giáº£m táº£i cho backend.

		Application Load Balancer (ALB)

			Äiá»u phá»‘i request Ä‘áº¿n cÃ¡c EC2 instances trong Elastic Beanstalk.

			Äáº£m báº£o high availability (HA), scale theo táº£i.

		Elastic Beanstalk

			Dá»‹ch vá»¥ tá»± Ä‘á»™ng deploy vÃ  quáº£n lÃ½ á»©ng dá»¥ng.

			Trong hÃ¬nh, Beanstalk quáº£n lÃ½ má»™t Auto Scaling Group chá»©a nhiá»u EC2 cháº¡y Apache Tomcat (á»©ng dá»¥ng Java).

			Khi táº£i cao â†’ tá»± Ä‘á»™ng thÃªm EC2, khi táº£i tháº¥p â†’ giáº£m EC2.

		Amazon CloudWatch

			Theo dÃµi metric (CPU, memory, request count...).

			DÃ¹ng Ä‘á»ƒ trigger auto scaling trong Elastic Beanstalk.

		Artifacts in S3 Bucket

			Code (WAR file, artifact) Ä‘Æ°á»£c upload vÃ o S3 bucket.

			Elastic Beanstalk láº¥y artifact nÃ y Ä‘á»ƒ deploy vÃ o Tomcat.

		Apache Tomcat

			NÆ¡i á»©ng dá»¥ng Java thá»±c sá»± cháº¡y (xá»­ lÃ½ business logic).

			VÃ­ dá»¥: Spring Boot app hoáº·c Java EE app.

		Amazon MQ

			Message broker (giá»‘ng ActiveMQ).

			DÃ¹ng khi há»‡ thá»‘ng cÃ³ asynchronous communication giá»¯a cÃ¡c service.

			VÃ­ dá»¥: app gá»­i message vÃ o queue, service khÃ¡c xá»­ lÃ½ sau.

		MySQL (Amazon RDS)

			Database chÃ­nh, lÆ°u dá»¯ liá»‡u á»©ng dá»¥ng.

		Memcached

			Cache server Ä‘á»ƒ tÄƒng tá»‘c truy váº¥n (giáº£m táº£i cho MySQL).

			LÆ°u trá»¯ táº¡m thá»i dá»¯ liá»‡u hay dÃ¹ng (session, query result).
			
	Táº¡o sg rearch backend vá»›i cho phÃ©p táº¥t cáº£ truy cáº­p tá»« reacrch backend
	
	Táº¡o parameter group trong RDS
	
	Táº¡o DB subnet group trong RDS
	
	Táº¡o RDS cÃ³ sg rearch backend, parameter group, DB subnet group táº¡o á»Ÿ trÃªn
	
	Táº¡o parameter group trong ElasticCache
	
	Táº¡o subnet groups trong ElasticCache
	
	Táº¡o Memcached tá»« Elasticcache vá»›i subnet group, parameter group Ä‘Ã£ táº¡o á»Ÿ trÃªn, sg backend
	
	Táº¡o broker RabbitMQ trong Amazone MQ vá»›i sg backend
	
	Táº¡o EC2 cÃ³ tÃªn mysql-client cÃ³ sg ssh port 22 cho My IP, cÃ i Ä‘áº·t mysql-client vÃ  git trÃªn nÃ y
	
	Chá»‰nh sá»­a sg backend Ä‘á»ƒ thÃªm MYSQL/Aurora port 3306 cho sg mysql-client
	
	Tá»« EC2 mysql-client, truy cáº­p vÃ o RDS. Sau Ä‘Ã³ clone source git vá» EC2
	
	Táº¡o role trong IAM vá» beanstalk
	
	Táº¡o Elastic Beanstalk, thÃªm role cá»§a IAM vá»«a táº¡o á»Ÿ trÃªn
	
	Sá»­a sg backend vá»›i all traffice cho sg cá»§a elastic beanstalk vá»«a táº¡o
	
	Tá»« source code build thÃ nh file war, sau Ä‘Ã³ upload file war nÃ y lÃªn elastic beanstalk instance
	
	Kiá»ƒm tra cÃ¡c target group cÃ³ healthy khÃ´ng
	
	Add listener port 443 cho elastic beanstalk, sau Ä‘Ã³ thÃªm link cá»§a beantalk domain vÃ o record vá»›i type cname trong Go Daddy
	
	Táº¡o cloudfront vá»›i doamin Ä‘Ã£ thÃªm vÃ o Go Daddy trÆ°á»›c Ä‘Ã³
	
	
	
	
	
	-- Source: github hkhcoder (awsrefactor)
		
	- Command:
	
		- cmd: apt update && apt install mysql-client git -y
		
Lá»†NH: apt update && apt install mysql-client git -y
====================================================================

1. apt lÃ  gÃ¬?
--------------------------------------------------------------------
- apt (Advanced Package Tool) lÃ  trÃ¬nh quáº£n lÃ½ gÃ³i cá»§a Debian-based Linux:
  + Ubuntu
  + Debian
  + Linux Mint
- DÃ¹ng Ä‘á»ƒ:
  + CÃ i pháº§n má»m
  + Cáº­p nháº­t
  + Gá»¡ pháº§n má»m

--------------------------------------------------------------------

2. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
apt update && apt install mysql-client git -y

â†’ Cáº¬P NHáº¬T danh sÃ¡ch package
â†’ SAU ÄÃ“ cÃ i mysql-client vÃ  git
â†’ Chá»‰ cÃ i khi update THÃ€NH CÃ”NG

--------------------------------------------------------------------

3. Giáº£i thÃ­ch toÃ¡n tá»­ &&
--------------------------------------------------------------------
&& = AND logic trong shell

- Lá»‡nh bÃªn pháº£i CHá»ˆ cháº¡y khi:
  + Lá»‡nh bÃªn trÃ¡i cháº¡y THÃ€NH CÃ”NG (exit code = 0)

Náº¿u:
- apt update lá»—i
â†’ apt install KHÃ”NG cháº¡y

--------------------------------------------------------------------

4. Giáº£i thÃ­ch apt update
--------------------------------------------------------------------
apt update dÃ¹ng Ä‘á»ƒ:

- Táº£i danh sÃ¡ch package má»›i nháº¥t tá»«:
  + Ubuntu repository
  + Security repository
  + Third-party repository

- KHÃ”NG:
  + CÃ i pháº§n má»m
  + NÃ¢ng cáº¥p package

File Ä‘Æ°á»£c cáº­p nháº­t:
- /var/lib/apt/lists/

Má»¥c Ä‘Ã­ch:
â†’ Biáº¿t phiÃªn báº£n má»›i nháº¥t cÃ³ thá»ƒ cÃ i

--------------------------------------------------------------------

5. Giáº£i thÃ­ch apt install mysql-client git -y
--------------------------------------------------------------------

5.1 apt install
--------------------------------------------------------------------
- DÃ¹ng Ä‘á»ƒ cÃ i package

--------------------------------------------------------------------

5.2 mysql-client lÃ  gÃ¬?
--------------------------------------------------------------------
- mysql-client lÃ  client CLI cá»§a MySQL / MariaDB
- DÃ¹ng Ä‘á»ƒ:
  + Káº¿t ná»‘i database tá»« xa
  + Cháº¡y lá»‡nh SQL
  + Import / export database

KHÃ”NG:
- Cháº¡y MySQL Server
- Táº¡o database server

Lá»‡nh sá»­ dá»¥ng:
mysql -h host -u user -p

--------------------------------------------------------------------

5.3 git lÃ  gÃ¬?
--------------------------------------------------------------------
- git lÃ  há»‡ thá»‘ng quáº£n lÃ½ mÃ£ nguá»“n phÃ¢n tÃ¡n
- DÃ¹ng Ä‘á»ƒ:
  + Clone repository
  + Quáº£n lÃ½ source code
  + LÃ m viá»‡c vá»›i GitHub / GitLab / Bitbucket

--------------------------------------------------------------------

5.4 -y nghÄ©a lÃ  gÃ¬?
--------------------------------------------------------------------
- -y = assume Yes
- Tá»± Ä‘á»™ng tráº£ lá»i YES cho má»i cÃ¢u há»i

VÃ­ dá»¥:
"Do you want to continue? [Y/n]"
â†’ Tá»± Ä‘á»™ng chá»n Y

ThÆ°á»ng dÃ¹ng trong:
- Script
- CI/CD
- Dockerfile

--------------------------------------------------------------------

6. Äiá»u gÃ¬ xáº£y ra bÃªn trong há»‡ thá»‘ng?
--------------------------------------------------------------------
Khi cháº¡y lá»‡nh:

1) apt update
   - Káº¿t ná»‘i repository
   - Táº£i metadata package

2) apt install mysql-client git -y
   - Resolve dependency
   - Táº£i package
   - CÃ i Ä‘áº·t vÃ o há»‡ thá»‘ng

--------------------------------------------------------------------

7. CÃ¡c file Ä‘Æ°á»£c cÃ i Ä‘áº·t á»Ÿ Ä‘Ã¢u?
--------------------------------------------------------------------

mysql-client:
- /usr/bin/mysql
- /usr/bin/mysqldump

git:
- /usr/bin/git

--------------------------------------------------------------------

8. Kiá»ƒm tra sau khi cÃ i
--------------------------------------------------------------------
mysql --version
git --version

--------------------------------------------------------------------

9. CÃ¡c lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------

9.1 Permission denied
--------------------------------------------------------------------
- Cáº§n cháº¡y vá»›i sudo

9.2 Unable to locate package
--------------------------------------------------------------------
- ChÆ°a cháº¡y apt update
- Repo chÆ°a cáº¥u hÃ¬nh

9.3 Could not get lock /var/lib/dpkg/lock
--------------------------------------------------------------------
- CÃ³ apt khÃ¡c Ä‘ang cháº¡y

--------------------------------------------------------------------

10. Khi nÃ o nÃªn dÃ¹ng lá»‡nh nÃ y?
--------------------------------------------------------------------
- Setup server má»›i
- Setup EC2 / VM
- Dockerfile
- CI/CD pipeline

--------------------------------------------------------------------

11. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
apt update && apt install mysql-client git -y =
Cáº¬P NHáº¬T DANH SÃCH PACKAGE VÃ€ CÃ€I MYSQL CLIENT + GIT Tá»° Äá»˜NG KHÃ”NG Há»I
		
		
		- cmd: mysql -h vprofile-rds-reach.cvrzecdaz2zy.us-east-1.rds.amazonaws.com -u admin -pxUScYu55cFzH5NxM8Zc5 accounts < src/main/resources/db_backup.sql
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
mysql -h vprofile-rds-reach.cvrzecdaz2zy.us-east-1.rds.amazonaws.com -u admin -pxUScYu55cFzH5NxM8Zc5 accounts < src/main/resources/db_backup.sql
====================================================================================================================

1. Tá»”NG QUAN
-----------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Káº¿t ná»‘i tá»›i má»™t MySQL Server (Amazon RDS)
- ÄÄƒng nháº­p báº±ng user/password
- Chá»n database cá»¥ thá»ƒ
- Import (restore) dá»¯ liá»‡u tá»« file SQL vÃ o database

NÃ³i ngáº¯n gá»n:
â†’ Restore database MySQL tá»« file backup .sql vÃ o Amazon RDS


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

2.1. mysql
----------
- mysql lÃ  chÆ°Æ¡ng trÃ¬nh dÃ²ng lá»‡nh cá»§a MySQL Client
- DÃ¹ng Ä‘á»ƒ:
  + Káº¿t ná»‘i MySQL Server
  + Thá»±c thi cÃ¢u lá»‡nh SQL
  + Import / export database

YÃªu cáº§u:
- MÃ¡y cháº¡y lá»‡nh pháº£i Ä‘Ã£ cÃ i mysql-client


2.2. -h vprofile-rds-reach.cvrzecdaz2zy.us-east-1.rds.amazonaws.com
------------------------------------------------------------------
- -h (host) chá»‰ Ä‘á»‹nh Ä‘á»‹a chá»‰ MySQL Server
- ÄÃ¢y lÃ  endpoint cá»§a Amazon RDS

Ã nghÄ©a:
- Database KHÃ”NG cháº¡y trÃªn mÃ¡y local
- mysql client sáº½ káº¿t ná»‘i qua máº¡ng tá»›i AWS RDS
- Cá»•ng máº·c Ä‘á»‹nh: 3306

LÆ°u Ã½:
- Security Group cá»§a RDS pháº£i cho phÃ©p káº¿t ná»‘i tá»« mÃ¡y Ä‘ang cháº¡y lá»‡nh


2.3. -u admin
-------------
- -u (user) chá»‰ Ä‘á»‹nh user MySQL
- admin lÃ  user dÃ¹ng Ä‘á»ƒ Ä‘Äƒng nháº­p

YÃªu cáº§u:
- User nÃ y pháº£i cÃ³ quyá»n:
  + CONNECT
  + CREATE / INSERT / UPDATE / DELETE
  + (thÆ°á»ng lÃ  quyá»n full Ä‘á»ƒ restore database)


2.4. -pxUScYu55cFzH5NxM8Zc5
--------------------------
- -p lÃ  tÃ¹y chá»n cung cáº¥p password
- Password Ä‘Æ°á»£c viáº¿t LIá»€N ngay sau -p
- KHÃ”NG cÃ³ dáº¥u cÃ¡ch

VÃ­ dá»¥:
    -p123456     (Ä‘Ãºng)
    -p 123456   (sai â€“ sáº½ bá»‹ há»i password)

LÆ°u Ã½ quan trá»ng:
- Password xuáº¥t hiá»‡n trá»±c tiáº¿p trÃªn command line
- CÃ³ thá»ƒ bá»‹ lá»™ qua:
  + history
  + ps aux
  + audit log

Thá»±c táº¿ an toÃ n hÆ¡n:
    mysql -h <host> -u admin -p accounts
â†’ há»‡ thá»‘ng sáº½ há»i password


2.5. accounts
-------------
- TÃªn database (schema) sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng
- Táº¥t cáº£ cÃ¢u lá»‡nh SQL trong file backup
  sáº½ Ä‘Æ°á»£c thá»±c thi trÃªn database nÃ y

YÃªu cáº§u:
- Database "accounts" PHáº¢I tá»“n táº¡i trÆ°á»›c
- Náº¿u khÃ´ng tá»“n táº¡i â†’ lá»—i:
    Unknown database 'accounts'


2.6. < src/main/resources/db_backup.sql
---------------------------------------
- Dáº¥u "<" lÃ  input redirection cá»§a shell
- KhÃ´ng pháº£i tham sá»‘ cá»§a mysql

Ã nghÄ©a:
- Láº¥y ná»™i dung file db_backup.sql
- ÄÆ°a toÃ n bá»™ ná»™i dung vÃ o mysql client
- mysql sáº½:
  + Äá»c tá»«ng cÃ¢u lá»‡nh SQL
  + Thá»±c thi láº§n lÆ°á»£t trÃªn database accounts

File db_backup.sql thÆ°á»ng chá»©a:
- CREATE TABLE
- INSERT INTO
- ALTER TABLE
- INDEX
- DATA máº«u hoáº·c dá»¯ liá»‡u tháº­t


3. CÃCH Lá»†NH HOáº T Äá»˜NG
---------------------
Khi cháº¡y lá»‡nh nÃ y, há»‡ thá»‘ng sáº½:

1. mysql client khá»Ÿi Ä‘á»™ng
2. Káº¿t ná»‘i tá»›i MySQL RDS qua Internet/VPC
3. XÃ¡c thá»±c user admin + password
4. Chá»n database accounts
5. Äá»c file db_backup.sql
6. Thá»±c thi toÃ n bá»™ SQL trong file
7. Import dá»¯ liá»‡u hoÃ n táº¥t


4. YÃŠU Cáº¦U ÄIá»€U KIá»†N Äá»‚ Lá»†NH CHáº Y THÃ€NH CÃ”NG
-------------------------------------------
- mysql-client Ä‘Ã£ Ä‘Æ°á»£c cÃ i
- MÃ¡y cÃ³ network tá»›i RDS
- Security Group RDS cho phÃ©p káº¿t ná»‘i
- Database accounts Ä‘Ã£ tá»“n táº¡i
- User admin cÃ³ Ä‘á»§ quyá»n
- File db_backup.sql tá»“n táº¡i Ä‘Ãºng Ä‘Æ°á»ng dáº«n


5. KIá»‚M TRA SAU KHI IMPORT
-------------------------
ÄÄƒng nháº­p database:
    mysql -h vprofile-rds-reach.cvrzecdaz2zy.us-east-1.rds.amazonaws.com -u admin -p accounts

Kiá»ƒm tra báº£ng:
    SHOW TABLES;

Kiá»ƒm tra dá»¯ liá»‡u:
    SELECT * FROM <table_name> LIMIT 10;


6. Lá»–I THÆ¯á»œNG Gáº¶P
----------------

6.1. Access denied for user
---------------------------
NguyÃªn nhÃ¢n:
- Sai user hoáº·c password
- User khÃ´ng cÃ³ quyá»n

6.2. Unknown database 'accounts'
--------------------------------
NguyÃªn nhÃ¢n:
- Database chÆ°a Ä‘Æ°á»£c táº¡o

CÃ¡ch xá»­ lÃ½:
    CREATE DATABASE accounts;

6.3. Can't connect to MySQL server
----------------------------------
NguyÃªn nhÃ¢n:
- Security Group RDS cháº·n
- Sai endpoint
- Sai network / VPC / subnet


7. LÆ¯U Ã Báº¢O Máº¬T (Ráº¤T QUAN TRá»ŒNG)
--------------------------------
- KhÃ´ng nÃªn hard-code password trong lá»‡nh
- KhÃ´ng commit lá»‡nh nÃ y vÃ o git
- KhÃ´ng dÃ¹ng trÃªn production logs

Khuyáº¿n nghá»‹:
- DÃ¹ng -p Ä‘á»ƒ nháº­p password thá»§ cÃ´ng
- Hoáº·c dÃ¹ng file ~/.my.cnf
- Hoáº·c dÃ¹ng AWS Secrets Manager


8. TÃ“M Táº®T
----------
- Lá»‡nh dÃ¹ng Ä‘á»ƒ restore database MySQL
- Káº¿t ná»‘i tá»›i Amazon RDS
- Import dá»¯ liá»‡u tá»« file .sql
- Ãp dá»¥ng cho database "accounts"

Káº¾T LUáº¬N
--------
ÄÃ¢y lÃ  lá»‡nh IMPORT DATABASE MySQL tá»« file backup
vÃ o Amazon RDS, ráº¥t phá»• biáº¿n trong deploy á»©ng dá»¥ng Java/Spring.
		
		
--- Continuous Integration with Jenkins:

	Continuous Integration with Jenkins - Flow of Continuous Integration Pipeline:
	
		Developer (Git)

			Developer viáº¿t code vÃ  push lÃªn GitHub repository.

			ÄÃ¢y lÃ  nÆ¡i lÆ°u trá»¯ source code chÃ­nh.

		GitHub â†’ Jenkins

			Khi cÃ³ commit má»›i, Jenkins sáº½ Ä‘Æ°á»£c trigger (cÃ³ thá»ƒ qua Webhook).

			Jenkins báº¯t Ä‘áº§u pipeline.

		Fetch Code (Git)

			Jenkins sá»­ dá»¥ng Git plugin Ä‘á»ƒ láº¥y code tá»« GitHub vá» mÃ´i trÆ°á»ng build.

		Build (Maven)

			Jenkins dÃ¹ng Maven Ä‘á»ƒ compile source code vÃ  build project.

			Maven sáº½ quáº£n lÃ½ dependencies (thÆ° viá»‡n bÃªn ngoÃ i) vÃ  Ä‘Ã³ng gÃ³i project (VD: file .jar hoáº·c .war).

		Unit Test (Maven)

			Sau khi build xong, Maven cháº¡y Unit Test Ä‘á»ƒ Ä‘áº£m báº£o code hoáº¡t Ä‘á»™ng Ä‘Ãºng.

			Náº¿u test fail â†’ pipeline sáº½ dá»«ng.

		Code Analysis (SonarQube)

			Code Ä‘Æ°á»£c gá»­i sang SonarQube Ä‘á»ƒ phÃ¢n tÃ­ch cháº¥t lÆ°á»£ng:

				Bugs, vulnerabilities, code smells, duplicated code.

			SonarQube cÃ³ Quality Gate: náº¿u code khÃ´ng Ä‘áº¡t yÃªu cáº§u, pipeline dá»«ng láº¡i.

		Upload Artifact (Nexus OSS)

			Náº¿u code pass SonarQube, Jenkins upload artifact (jar/war) lÃªn Nexus Repository Manager (Sonatype).

			Nexus OSS lÃ  nÆ¡i lÆ°u trá»¯ artifacts, Ä‘á»ƒ dÃ¹ng cho cÃ¡c mÃ´i trÆ°á»ng khÃ¡c (staging, production).
			
	ChÃº Ã½ lÃ  Ä‘á»ƒ cháº¡y Ä‘Æ°á»£c Sonar Qube cáº§n thÃªm authentication token cá»§a nÃ³ vÃ o Jenkins má»›i cháº¡y Ä‘Æ°á»£c
	
	Google search:
	
		jenkins environment variables
	
		sonar scanner pipiline script
		
		nexusartifactuploader
		
		slack login
		
		add apps to slack
		
		wget for git bash how to add more utilities
		
	Git Weebhook, Poll SCM
	
	LDAP
	
	Táº¡o 1 EC2 Jenkins-Server, sg cÃ³ port 22 vá»›i My IP, port 8080 vá»›i My IP. CÃ i openjdk-21-jdk, jenkin trÃªn EC2. ÄÄƒng nháº­p vÃ o
	url cá»§a EC2 sáº½ má»Ÿ ra trang Jenkins, port 8080 vá»›i sg sonar
	
	Thiáº¿t láº­p tool:
	
		Jenkins url
	
		Add maven, add JDK (cÃ³ thá»ƒ add nhiá»u jdk, trong má»—i job cÃ³ trong sáº½ chá»n jdk phÃ¹ há»£p)
		
		Add SonarQube Scanner
		
	Thiáº¿t láº­p system:
	
		Add SonarQube vá»›i server url lÃ  private IPv4 address cá»§a EC2 Sonar-server, add server
		authentication token tá»« token láº¥y á»Ÿ trang web khi má»Ÿ EC2 Sonar vá»›i domain lÃ  global
		credentials (unrestricted), kind lÃ  secret test
		
		ThÃªm slack
		
	CÃ i Ä‘áº·t plugins:
	
		S3 publisher
		
		Build timestamp
		
		Nexus Artifact Uploader
		
		SonarQube Scanner
		
		Pipiline Maven Intergration
		
		Pipeline Utility Steps
		
		Slack Notification
		
		Amazon Web Service SDK::All
		
		Amazon ECR
		
		Docker Pipeline
		
		CloudBees Docker Build and Publish
		
		Pipeline: AWS Steps
		
		Role-based Authorization Strategy
		
	Táº¡o job vá»›i build steps thá»±c thi theo shell
	
	Táº¡o job vá»›i liÃªn quan Ä‘áº¿n git, build steps vá»›i invoke top-level maven targets
	
	Táº¡o job vá»›i post build actions:
	
		Archive the artifacts
		
		Publish artifacts to S3 Bucket
	
	Workspace trong jenkins
	
	Táº¡o EC2 Nexus-server (Amazon Linux) cÃ³ port 22 cho My IP, port 8081 cho My IP vÃ  sg Jenkins
	
	Táº¡o EC2  Sonar-server (Ubuntu) cÃ³ port 22 My IP, port 80 My IP vÃ  sg jenkins
	
	CÃ i Ä‘áº·t JenkinsFile JenkinsFile Support extension trong vs code
	
	Táº¡o má»›i item vá»›i type lÃ  pipeline
	
	ThÃªm quality gate vÃ  webhook trong sonarqube, vá»›i webhook cÃ³ url lÃ  private
	ipv4 cá»§a ec2 jenkins (http://172.31.94.65:8080/sonarqube-webhook)
	
	ThÃªm global credentials trÃªn jenkins cho nexus
	
	CÃ i Ä‘áº·t aws-cli, docker trong ec2 jenkins
	
	Táº¡o user trong IAM vá»›i role lÃ  AmazonECS_FullAccess
	
	Táº¡o repository cho Amazon ECR
	
	ThÃªm credentials trong jenkins cho aws credential vá»›i IAM Ä‘Ã£ táº¡o trÆ°á»›c Ä‘Ã³
	
	Táº¡o cluster, task definitions trong Amazon Elastic Container Service
	
	Trong task definitions instance cá»§a Amazon Elastic Container Service, thÃªm role CloudWatchLogsFullAccess
	cho task execution role
	
	Táº¡o service cho cluster instance cá»§a Amazon Elastic Container Service
	
	ThÃªm Git Host Key Verification Strategy
	
	ThÃªm url cá»§a jenkins vÃ o webhook payload url trong github
	
	ThÃªm Build triggers lÃ  Github hook trigger for GITScm polling trong configure
	
	ThÃªm Build triggers lÃ  Poll SCM trong configure
	
	ThÃªm Build triggers lÃ  Build periodically trong configure
	
	ThÃªm Build triggers lÃ  Build trigger build remote (e.g from scripts) trong configure
	
	ThÃªm Build triggers lÃ  Build after other projects are built trong configure
	
	Táº¡o ec2 slave-jenkins, sau Ä‘Ã³ thÃªm Ä‘á»‹a chá»‰ ip cá»§a nÃ³ vÃ o node trong jenkins
	
	Trong configure táº¡i jenkins add new api token
	
	jenkins security vá»›i configure global security, manage and assign roles vÃ  manage user
	
	-- Source: github hkhcoder (atom)
	
	
		
	Continuous Integration with Jenkins - Má»¥c Ä‘Ã­ch cá»§a Jenkins URL:

		NÃ³ Ä‘Æ°á»£c Jenkins (vÃ  plugin) dÃ¹ng lÃ m Ä‘á»‹a chá»‰ chÃ­nh Ä‘á»ƒ:

			Sinh link Ä‘áº§y Ä‘á»§ trong thÃ´ng bÃ¡o
			
				VÃ­ dá»¥ báº¡n gá»­i Slack, Email, hay Webhook thÃ¬ Jenkins sáº½ táº¡o Ä‘Æ°á»ng dáº«n Ä‘áº¿n job/build cá»¥ thá»ƒ.

					Náº¿u khÃ´ng cÃ³ Jenkins URL, thÃ´ng bÃ¡o cÃ³ thá»ƒ chá»‰ chá»©a Ä‘Æ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i (vÃ­ dá»¥ /job/vprofile-pipeline/23/) â†’ ngÆ°á»i
					ngoÃ i sáº½ khÃ´ng click Ä‘Æ°á»£c.

					Khi báº¡n cáº¥u hÃ¬nh Jenkins URL (vÃ­ dá»¥ http://jenkins.mycompany.com:8080/), Jenkins sáº½ táº¡o link Ä‘áº§y Ä‘á»§:

						http://jenkins.mycompany.com:8080/job/vprofile-pipeline/23/


			Jenkins agents (slave nodes) káº¿t ná»‘i vá» master
			
				Má»™t sá»‘ trÆ°á»ng há»£p Jenkins agent cáº§n biáº¿t chÃ­nh xÃ¡c URL cá»§a master Ä‘á»ƒ trao Ä‘á»•i thÃ´ng tin, táº£i config, hoáº·c trigger build.

			CÃ¡c plugin phá»¥ thuá»™c

				Slack, Email-ext plugin, GitHub plugin, Bitbucket plugin... cáº§n Jenkins URL Ä‘á»ƒ táº¡o link "Build result" trong notification.

				VÃ­ dá»¥ Slack message cÃ³:

					Build #23 failed. More info at: http://jenkins.mycompany.com:8080/job/vprofile-pipeline/23/

	- Commands:
	
		- cmd: sudo apt install fontconfig openjdk-21-jre
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
sudo apt install fontconfig openjdk-21-jre
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t:
- fontconfig        : thÆ° viá»‡n quáº£n lÃ½ font trÃªn Linux
- openjdk-21-jre    : Java Runtime Environment (JRE) phiÃªn báº£n 21

ThÆ°á»ng Ä‘Æ°á»£c dÃ¹ng khi:
- Cháº¡y á»©ng dá»¥ng Java
- Cháº¡y Tomcat / Spring Boot
- Cháº¡y á»©ng dá»¥ng Java sinh PDF, report, chart (cáº§n font)

Ãp dá»¥ng cho cÃ¡c há»‡ Ä‘iá»u hÃ nh dÃ¹ng APT:
- Ubuntu
- Debian
- Linux Mint

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. sudo
--------------------------------------------------
- sudo (Super User DO)
- Cho phÃ©p thá»±c thi lá»‡nh vá»›i quyá»n root
- Cáº§n thiáº¿t Ä‘á»ƒ:
  + CÃ i Ä‘áº·t pháº§n má»m há»‡ thá»‘ng
  + Ghi vÃ o /usr, /lib, /etc

Náº¿u khÃ´ng dÃ¹ng sudo:
- Lá»‡nh sáº½ bÃ¡o lá»—i permission denied

--------------------------------------------------
2.2. apt
--------------------------------------------------
- apt (Advanced Package Tool)
- TrÃ¬nh quáº£n lÃ½ gÃ³i cá»§a Debian/Ubuntu
- Thay tháº¿ apt-get cÅ© (thÃ¢n thiá»‡n hÆ¡n)

Chá»©c nÄƒng:
- CÃ i Ä‘áº·t pháº§n má»m
- Gá»¡ bá» pháº§n má»m
- Cáº­p nháº­t há»‡ thá»‘ng
- Tá»± Ä‘á»™ng xá»­ lÃ½ dependency

--------------------------------------------------
2.3. install
--------------------------------------------------
- HÃ nh Ä‘á»™ng cá»§a apt
- DÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t má»™t hoáº·c nhiá»u gÃ³i

CÃº phÃ¡p chung:
apt install <tÃªn_gÃ³i_1> <tÃªn_gÃ³i_2>

--------------------------------------------------
2.4. fontconfig
--------------------------------------------------
- ThÆ° viá»‡n cáº¥u hÃ¬nh vÃ  quáº£n lÃ½ font chá»¯
- Cung cáº¥p:
  + Danh sÃ¡ch font
  + Ãnh xáº¡ font
  + TÃ¬m font phÃ¹ há»£p cho á»©ng dá»¥ng

Vai trÃ² quan trá»ng vá»›i Java:
- Java dÃ¹ng fontconfig Ä‘á»ƒ:
  + Render chá»¯
  + Sinh PDF
  + Váº½ biá»ƒu Ä‘á»“
  + TrÃ¡nh lá»—i font vuÃ´ng, font rá»—ng

--------------------------------------------------
2.5. openjdk-21-jre
--------------------------------------------------
- Java Runtime Environment (JRE) phiÃªn báº£n 21
- Chá»‰ chá»©a:
  + Java Virtual Machine (JVM)
  + ThÆ° viá»‡n runtime

KHÃ”NG bao gá»“m:
- TrÃ¬nh biÃªn dá»‹ch javac (thuá»™c JDK)

PhÃ¹ há»£p cho:
- Cháº¡y á»©ng dá»¥ng Java
- Cháº¡y server Java (Tomcat, Spring Boot)
- Production environment

--------------------------------------------------
3. VÃŒ SAO Cáº¦N CÃ€I fontconfig CÃ™NG JAVA
--------------------------------------------------
Náº¿u khÃ´ng cÃ³ fontconfig:
- á»¨ng dá»¥ng Java cÃ³ thá»ƒ:
  + Lá»—i hiá»ƒn thá»‹ chá»¯
  + PDF bá»‹ trá»‘ng chá»¯
  + Report lá»—i font

Äáº·c biá»‡t vá»›i:
- JasperReports
- iText
- Apache POI

--------------------------------------------------
4. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
Khi cháº¡y:
sudo apt install fontconfig openjdk-21-jre

Há»‡ thá»‘ng sáº½:
1. Kiá»ƒm tra quyá»n sudo
2. Äá»c danh sÃ¡ch package
3. TÃ¬m gÃ³i fontconfig vÃ  openjdk-21-jre
4. Tá»± Ä‘á»™ng cÃ i dependency liÃªn quan
5. Táº£i package tá»« repository
6. CÃ i Ä‘áº·t vÃ o há»‡ thá»‘ng

--------------------------------------------------
5. KIá»‚M TRA SAU KHI CÃ€I Äáº¶T
--------------------------------------------------
Kiá»ƒm tra Java:
--------------------------------------------------
java -version

Káº¿t quáº£ vÃ­ dá»¥:
--------------------------------------------------
openjdk version "21"
--------------------------------------------------

Kiá»ƒm tra fontconfig:
--------------------------------------------------
fc-list | head

--------------------------------------------------
6. Vá»Š TRÃ FILE QUAN TRá»ŒNG
--------------------------------------------------
- Java binary:
  /usr/bin/java

- Java home (vÃ­ dá»¥):
  /usr/lib/jvm/java-21-openjdk-amd64/

- Font config:
  /etc/fonts/

--------------------------------------------------
7. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- openjdk-21-jre lÃ  LTS (Long Term Support)
- PhÃ¹ há»£p cháº¡y production
- Náº¿u cáº§n compile Java:
  + CÃ i openjdk-21-jdk thay vÃ¬ jre

--------------------------------------------------
8. SO SÃNH JRE vs JDK
--------------------------------------------------
JRE:
- Chá»‰ cháº¡y á»©ng dá»¥ng Java
- Nháº¹ hÆ¡n
- DÃ¹ng cho production

JDK:
- CÃ³ javac
- DÃ¹ng Ä‘á»ƒ phÃ¡t triá»ƒn Java

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
sudo apt install fontconfig openjdk-21-jre
= CÃ i mÃ´i trÆ°á»ng cháº¡y Java 21
= Há»— trá»£ font cho á»©ng dá»¥ng Java
= DÃ¹ng cho server Java / Tomcat
= PhÃ¹ há»£p production
==================================================
		
		
		- cmd: sudo wget -O /etc/apt/keyrings/jenkins-keyring.asc \
				https://pkg.jenkins.io/debian-stable/jenkins.io-2023.key
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
sudo wget -O /etc/apt/keyrings/jenkins-keyring.asc \
          https://pkg.jenkins.io/debian-stable/jenkins.io-2023.key

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Táº£i khÃ³a GPG chÃ­nh thá»©c cá»§a Jenkins
- LÆ°u khÃ³a vÃ o thÆ° má»¥c keyrings cá»§a APT
- Chuáº©n bá»‹ cho viá»‡c cÃ i Ä‘áº·t Jenkins trÃªn há»‡ Debian/Ubuntu
- Äáº£m báº£o cÃ¡c gÃ³i Jenkins táº£i vá» lÃ  há»£p lá»‡ vÃ  khÃ´ng bá»‹ giáº£ máº¡o

ThÆ°á»ng dÃ¹ng trÆ°á»›c bÆ°á»›c:
- ThÃªm repository Jenkins
- apt update
- apt install jenkins

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. sudo
--------------------------------------------------
sudo (Super User DO) dÃ¹ng Ä‘á»ƒ:
- Cháº¡y lá»‡nh vá»›i quyá»n root
- Cáº§n thiáº¿t vÃ¬ ghi file vÃ o thÆ° má»¥c há»‡ thá»‘ng: /etc/apt/

Náº¿u khÃ´ng dÃ¹ng sudo:
- Sáº½ gáº·p lá»—i: Permission denied

--------------------------------------------------
2.2. wget
--------------------------------------------------
wget lÃ :
- CÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ táº£i file tá»« Internet
- Há»— trá»£ HTTP, HTTPS, FTP

Chá»©c nÄƒng trong lá»‡nh nÃ y:
- Táº£i file khÃ³a GPG tá»« website Jenkins

--------------------------------------------------
2.3. -O /etc/apt/keyrings/jenkins-keyring.asc
--------------------------------------------------
-O (chá»¯ O hoa) = Output file

Ã nghÄ©a:
- Chá»‰ Ä‘á»‹nh tÃªn file vÃ  Ä‘Æ°á»ng dáº«n lÆ°u káº¿t quáº£ táº£i vá»
- Ghi Ä‘Ã¨ file náº¿u Ä‘Ã£ tá»“n táº¡i

Trong lá»‡nh nÃ y:
- File Ä‘Ã­ch: /etc/apt/keyrings/jenkins-keyring.asc
- ÄÃ¢y lÃ  nÆ¡i APT lÆ°u khÃ³a xÃ¡c thá»±c repository

ThÆ° má»¥c /etc/apt/keyrings:
- Chuáº©n khuyáº¿n nghá»‹ má»›i cá»§a APT
- Thay tháº¿ cho cÃ¡ch cÅ© dÃ¹ng apt-key (Ä‘Ã£ deprecated)

--------------------------------------------------
2.4. Dáº¤U "\" (BACKSLASH)
--------------------------------------------------
Dáº¥u "\" á»Ÿ cuá»‘i dÃ²ng cÃ³ nghÄ©a lÃ :
- Ngáº¯t dÃ²ng cho dá»… Ä‘á»c
- Shell hiá»ƒu Ä‘Ã¢y váº«n lÃ  Má»˜T lá»‡nh duy nháº¥t

Lá»‡nh thá»±c táº¿ (má»™t dÃ²ng):
sudo wget -O /etc/apt/keyrings/jenkins-keyring.asc https://pkg.jenkins.io/debian-stable/jenkins.io-2023.key

--------------------------------------------------
2.5. https://pkg.jenkins.io/debian-stable/jenkins.io-2023.key
--------------------------------------------------
ÄÃ¢y lÃ :
- URL chÃ­nh thá»©c cá»§a Jenkins
- Chá»©a khÃ³a GPG dÃ¹ng Ä‘á»ƒ kÃ½ cÃ¡c gÃ³i Jenkins

KhÃ³a nÃ y dÃ¹ng Ä‘á»ƒ:
- XÃ¡c minh chá»¯ kÃ½ sá»‘ cá»§a package Jenkins
- NgÄƒn cháº·n cÃ i Ä‘áº·t package bá»‹ chá»‰nh sá»­a hoáº·c giáº£ máº¡o

--------------------------------------------------
3. VAI TRÃ’ Cá»¦A KHÃ“A GPG TRONG APT
--------------------------------------------------
APT sá»­ dá»¥ng GPG key Ä‘á»ƒ:
- Kiá»ƒm tra tÃ­nh toÃ n váº¹n (integrity)
- Kiá»ƒm tra tÃ­nh xÃ¡c thá»±c (authenticity)

Náº¿u KHÃ”NG cÃ³ key:
- apt update sáº½ bÃ¡o lá»—i:
  NO_PUBKEY
- KhÃ´ng cÃ i Ä‘Æ°á»£c Jenkins

--------------------------------------------------
4. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. sudo nÃ¢ng quyá»n lÃªn root
2. wget káº¿t ná»‘i tá»›i pkg.jenkins.io
3. Táº£i file jenkins.io-2023.key
4. LÆ°u file thÃ nh jenkins-keyring.asc
5. File sáºµn sÃ ng Ä‘á»ƒ APT sá»­ dá»¥ng

--------------------------------------------------
5. KIá»‚M TRA SAU KHI Táº¢I
--------------------------------------------------
Kiá»ƒm tra file tá»“n táº¡i:
ls -l /etc/apt/keyrings/jenkins-keyring.asc

Xem ná»™i dung (khÃ´ng chá»‰nh sá»­a):
cat /etc/apt/keyrings/jenkins-keyring.asc

--------------------------------------------------
6. BÆ¯á»šC TIáº¾P THEO THÆ¯á»œNG DÃ™NG
--------------------------------------------------
Sau khi cÃ³ key, thÆ°á»ng thÃªm repo Jenkins:

deb [signed-by=/etc/apt/keyrings/jenkins-keyring.asc] \
https://pkg.jenkins.io/debian-stable binary/

Rá»“i cháº¡y:
apt update
apt install jenkins

--------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

7.1. wget: command not found
--------------------------------------------------
CÃ i wget:
sudo apt install wget -y

--------------------------------------------------
7.2. ThÆ° má»¥c keyrings chÆ°a tá»“n táº¡i
--------------------------------------------------
Táº¡o thÆ° má»¥c:
sudo mkdir -p /etc/apt/keyrings

--------------------------------------------------
7.3. Lá»—i SSL / káº¿t ná»‘i
--------------------------------------------------
NguyÃªn nhÃ¢n:
- Proxy
- Firewall
- DNS

Kiá»ƒm tra:
ping pkg.jenkins.io

--------------------------------------------------
8. Cáº¢NH BÃO Báº¢O Máº¬T
--------------------------------------------------
- Chá»‰ táº£i key tá»« nguá»“n chÃ­nh thá»©c
- KhÃ´ng dÃ¹ng key khÃ´ng rÃµ nguá»“n gá»‘c
- KhÃ´ng chá»‰nh sá»­a file key thá»§ cÃ´ng

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
sudo wget -O /etc/apt/keyrings/jenkins-keyring.asc https://pkg.jenkins.io/debian-stable/jenkins.io-2023.key

= Táº£i khÃ³a GPG Jenkins
= LÆ°u vÃ o keyrings cá»§a APT
= Chuáº©n bá»‹ cÃ i Jenkins
= Ãp dá»¥ng cho Debian/Ubuntu
= PhÆ°Æ¡ng phÃ¡p hiá»‡n Ä‘áº¡i, an toÃ n
		
		
		- cmd: echo "deb [signed-by=/etc/apt/keyrings/jenkins-keyring.asc]" \
				  https://pkg.jenkins.io/debian-stable binary/ | sudo tee \
				  /etc/apt/sources.list.d/jenkins.list > /dev/null
		
Lá»†NH:
echo "deb [signed-by=/etc/apt/keyrings/jenkins-keyring.asc]" \
https://pkg.jenkins.io/debian-stable binary/ | sudo tee \
/etc/apt/sources.list.d/jenkins.list > /dev/null
===============================================================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ thÃªm Jenkins APT Repository (kho pháº§n má»m Jenkins)
vÃ o há»‡ thá»‘ng Linux sá»­ dá»¥ng apt (Ubuntu, Debian).

Sau khi cháº¡y lá»‡nh nÃ y, há»‡ thá»‘ng cÃ³ thá»ƒ:
- CÃ i Ä‘áº·t Jenkins báº±ng apt
- Nháº­n báº£n cáº­p nháº­t Jenkins chÃ­nh thá»©c tá»« Jenkins.io


2. Bá»I Cáº¢NH Sá»¬ Dá»¤NG
-------------------
Lá»‡nh nÃ y thÆ°á»ng lÃ  BÆ¯á»šC Báº®T BUá»˜C trÆ°á»›c khi cháº¡y:
- apt update
- apt install jenkins

Ãp dá»¥ng cho:
- Ubuntu
- Debian
- CÃ¡c distro dÃ¹ng apt


3. PHÃ‚N TÃCH TOÃ€N Bá»˜ Lá»†NH
-------------------------

echo "deb [signed-by=/etc/apt/keyrings/jenkins-keyring.asc]" https://pkg.jenkins.io/debian-stable binary/
| sudo tee /etc/apt/sources.list.d/jenkins.list > /dev/null


4. GIáº¢I THÃCH Tá»ªNG PHáº¦N CHI TIáº¾T
--------------------------------

PHáº¦N 1: echo
------------
echo "deb [signed-by=/etc/apt/keyrings/jenkins-keyring.asc]" https://pkg.jenkins.io/debian-stable binary/

- `echo` dÃ¹ng Ä‘á»ƒ in ra má»™t chuá»—i text ra stdout
- Chuá»—i nÃ y chÃ­nh lÃ  ná»™i dung cá»§a file repo Jenkins

Chuá»—i Ä‘áº§y Ä‘á»§ cÃ³ dáº¡ng:
deb [signed-by=/etc/apt/keyrings/jenkins-keyring.asc] https://pkg.jenkins.io/debian-stable binary/

Ã nghÄ©a:
- deb        : loáº¡i repository (binary package)
- signed-by  : chá»‰ Ä‘á»‹nh file public key dÃ¹ng Ä‘á»ƒ verify package
- URL        : kho Jenkins chÃ­nh thá»©c
- binary/    : thÆ° má»¥c chá»©a file .deb


PHáº¦N 2: Dáº¤U \ (BACKSLASH)
-------------------------
Dáº¥u `\` á»Ÿ cuá»‘i dÃ²ng cÃ³ tÃ¡c dá»¥ng:
- Ná»‘i nhiá»u dÃ²ng thÃ nh 1 lá»‡nh duy nháº¥t
- GiÃºp lá»‡nh dá»… Ä‘á»c, dá»… copy
- KHÃ”NG áº£nh hÆ°á»Ÿng logic thá»±c thi


PHáº¦N 3: PIPE |
--------------
Dáº¥u `|` chuyá»ƒn output cá»§a `echo`
thÃ nh input cho lá»‡nh `tee`

NghÄ©a lÃ :
- Text tá»« echo sáº½ Ä‘Æ°á»£c ghi vÃ o file báº±ng tee


PHáº¦N 4: sudo tee
----------------
sudo tee /etc/apt/sources.list.d/jenkins.list

- `tee` ghi dá»¯ liá»‡u tá»« stdin vÃ o file
- `sudo` cáº§n thiáº¿t vÃ¬:
  /etc/apt/sources.list.d/ lÃ  thÆ° má»¥c há»‡ thá»‘ng
  user thÆ°á»ng khÃ´ng cÃ³ quyá»n ghi

TÃ¡c dá»¥ng:
- Táº¡o file má»›i `jenkins.list`
- Ghi ná»™i dung repo Jenkins vÃ o file Ä‘Ã³


PHáº¦N 5: /etc/apt/sources.list.d/jenkins.list
---------------------------------------------
ÄÃ¢y lÃ  nÆ¡i lÆ°u cÃ¡c file repository bá»• sung cho apt.

Sau khi cháº¡y lá»‡nh:
- File nÃ y sáº½ tá»“n táº¡i
- apt sáº½ Ä‘á»c repo Jenkins tá»« file nÃ y


PHáº¦N 6: > /dev/null
-------------------
- Chuyá»ƒn output cá»§a `tee` sang /dev/null
- /dev/null lÃ  nÆ¡i "vá»©t bá»" dá»¯ liá»‡u

Má»¥c Ä‘Ã­ch:
- KhÃ´ng hiá»ƒn thá»‹ láº¡i ná»™i dung repo ra mÃ n hÃ¬nh
- Giá»¯ terminal gá»n gÃ ng


5. Káº¾T QUáº¢ SAU KHI CHáº Y
----------------------

File Ä‘Æ°á»£c táº¡o:
- /etc/apt/sources.list.d/jenkins.list

Ná»™i dung file:
deb [signed-by=/etc/apt/keyrings/jenkins-keyring.asc] https://pkg.jenkins.io/debian-stable binary/

Há»‡ thá»‘ng Ä‘Ã£ biáº¿t repo Jenkins nhÆ°ng CHÆ¯A táº£i danh sÃ¡ch package.


6. BÆ¯á»šC TIáº¾P THEO Báº®T BUá»˜C
-------------------------

Cáº­p nháº­t danh sÃ¡ch package:
sudo apt update

CÃ i Jenkins:
sudo apt install jenkins


7. ÄIá»€U KIá»†N TRÆ¯á»šC KHI CHáº Y
---------------------------

- File key pháº£i tá»“n táº¡i:
  /etc/apt/keyrings/jenkins-keyring.asc

- File key thÆ°á»ng Ä‘Æ°á»£c táº¡o báº±ng:
  curl -fsSL https://pkg.jenkins.io/debian-stable/jenkins.io.key \
  | sudo tee /etc/apt/keyrings/jenkins-keyring.asc > /dev/null

- Há»‡ thá»‘ng cÃ³ internet
- User cÃ³ quyá»n sudo


8. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------

Lá»–I 1: NO_PUBKEY
- ChÆ°a import Jenkins GPG key
- Sai Ä‘Æ°á»ng dáº«n signed-by

Lá»–I 2: Permission denied
- QuÃªn sudo trÆ°á»›c tee

Lá»–I 3: Repository not found
- Sai URL
- Sai distro


9. LÆ¯U Ã QUAN TRá»ŒNG
-------------------

- KHÃ”NG dÃ¹ng apt-key (Ä‘Ã£ deprecated)
- signed-by giÃºp tÄƒng báº£o máº­t
- Repo nÃ y lÃ  repo STABLE cá»§a Jenkins
- File repo nÃªn Ä‘á»ƒ trong sources.list.d/


10. TÃ“M Táº®T
-----------

- Lá»‡nh dÃ¹ng Ä‘á»ƒ thÃªm Jenkins APT repository
- Ghi repo vÃ o file há»‡ thá»‘ng má»™t cÃ¡ch an toÃ n
- LÃ  bÆ°á»›c chuáº©n bá»‹ trÆ°á»›c khi cÃ i Jenkins
- Phá»• biáº¿n trong CI/CD vÃ  DevOps setup
		
		
		- cmd: sudo apt install jenkins
		
Lá»†NH: sudo apt install jenkins
====================================================================

1. sudo lÃ  gÃ¬?
--------------------------------------------------------------------
- sudo (superuser do) cho phÃ©p cháº¡y lá»‡nh vá»›i quyá»n root
- Jenkins lÃ  service há»‡ thá»‘ng â†’ Báº®T BUá»˜C cáº§n quyá»n root Ä‘á»ƒ cÃ i

--------------------------------------------------------------------

2. apt lÃ  gÃ¬?
--------------------------------------------------------------------
- apt (Advanced Package Tool) lÃ  trÃ¬nh quáº£n lÃ½ gÃ³i trÃªn Debian-based Linux:
  + Ubuntu
  + Debian
  + Linux Mint

--------------------------------------------------------------------

3. install nghÄ©a lÃ  gÃ¬?
--------------------------------------------------------------------
- install = cÃ i Ä‘áº·t package vÃ o há»‡ thá»‘ng
- Tá»± Ä‘á»™ng:
  + Táº£i package
  + Giáº£i quyáº¿t dependency
  + Cáº¥u hÃ¬nh service

--------------------------------------------------------------------

4. jenkins lÃ  gÃ¬?
--------------------------------------------------------------------
- Jenkins lÃ  CI/CD automation server
- DÃ¹ng Ä‘á»ƒ:
  + Build code
  + Test
  + Deploy á»©ng dá»¥ng
- Phá»• biáº¿n trong DevOps

--------------------------------------------------------------------

5. sudo apt install jenkins thá»±c sá»± lÃ m gÃ¬?
--------------------------------------------------------------------
Khi cháº¡y lá»‡nh nÃ y, há»‡ thá»‘ng sáº½:

1) Kiá»ƒm tra danh sÃ¡ch package (apt cache)
2) Táº£i package jenkins
3) CÃ i cÃ¡c dependency (Java, user, service)
4) Táº¡o user há»‡ thá»‘ng: jenkins
5) Táº¡o service: jenkins.service
6) Enable Jenkins cháº¡y cÃ¹ng há»‡ thá»‘ng

--------------------------------------------------------------------

6. Jenkins Ä‘Æ°á»£c cÃ i á»Ÿ Ä‘Ã¢u?
--------------------------------------------------------------------
- Binary:
  /usr/bin/jenkins

- Data (ráº¥t quan trá»ng):
  /var/lib/jenkins/

- Config:
  /etc/default/jenkins
  /etc/jenkins/

- Log:
  /var/log/jenkins/

--------------------------------------------------------------------

7. Jenkins cháº¡y nhÆ° tháº¿ nÃ o?
--------------------------------------------------------------------
- Jenkins cháº¡y nhÆ° systemd service
- TÃªn service:
  jenkins.service

Kiá»ƒm tra:
systemctl status jenkins

--------------------------------------------------------------------

8. Port Jenkins sá»­ dá»¥ng
--------------------------------------------------------------------
- Máº·c Ä‘á»‹nh: 8080
- Truy cáº­p:
  http://<server-ip>:8080

--------------------------------------------------------------------

9. Äiá»u kiá»‡n Ä‘á»ƒ cÃ i thÃ nh cÃ´ng
--------------------------------------------------------------------
Báº®T BUá»˜C:

1) Java Ä‘Ã£ cÃ³ hoáº·c sáº½ Ä‘Æ°á»£c cÃ i
   (OpenJDK 11 hoáº·c 17)

2) Repository Jenkins Ä‘Ã£ Ä‘Æ°á»£c add
   Náº¿u KHÃ”NG:
   â†’ apt sáº½ bÃ¡o khÃ´ng tÃ¬m tháº¥y package

--------------------------------------------------------------------

10. CÃ¡c lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------

10.1 Unable to locate package jenkins
--------------------------------------------------------------------
- ChÆ°a add Jenkins repository
- ChÆ°a apt update

10.2 Jenkins khÃ´ng start
--------------------------------------------------------------------
- Java version khÃ´ng phÃ¹ há»£p
- Xem log:
  journalctl -u jenkins

10.3 KhÃ´ng truy cáº­p Ä‘Æ°á»£c port 8080
--------------------------------------------------------------------
- Firewall chÆ°a má»Ÿ port
- Security Group (EC2) chÆ°a allow

--------------------------------------------------------------------

11. Sau khi cÃ i xong cáº§n lÃ m gÃ¬?
--------------------------------------------------------------------
1) Láº¥y initial admin password:
   cat /var/lib/jenkins/secrets/initialAdminPassword

2) Truy cáº­p Jenkins UI
3) CÃ i plugin cáº§n thiáº¿t
4) Táº¡o user admin

--------------------------------------------------------------------

12. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
sudo apt install jenkins =
CÃ€I JENKINS CI/CD SERVER, Táº O SERVICE, USER, PORT 8080, CHáº Y Ná»€N
		
		
		- cmd: systemctl status jenkins
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH: systemctl status jenkins
=================================================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    systemctl status jenkins

ÄÆ°á»£c sá»­ dá»¥ng trÃªn há»‡ Ä‘iá»u hÃ nh Linux dÃ¹ng systemd Ä‘á»ƒ:
- Kiá»ƒm tra tráº¡ng thÃ¡i hoáº¡t Ä‘á»™ng cá»§a dá»‹ch vá»¥ Jenkins
- Xem Jenkins cÃ³ Ä‘ang cháº¡y hay khÃ´ng
- Xem thÃ´ng tin tiáº¿n trÃ¬nh, log gáº§n nháº¥t vÃ  lá»—i (náº¿u cÃ³)

Má»¥c Ä‘Ã­ch chÃ­nh:
â†’ Cháº©n Ä‘oÃ¡n tÃ¬nh tráº¡ng Jenkins service


2. GIá»šI THIá»†U systemctl VÃ€ systemd
----------------------------------

2.1. systemd lÃ  gÃ¬?
-------------------
- systemd lÃ  há»‡ thá»‘ng quáº£n lÃ½ dá»‹ch vá»¥ (init system) trÃªn Linux hiá»‡n Ä‘áº¡i
- Quáº£n lÃ½:
  + Service
  + Socket
  + Mount
  + Timer
  + Target

- Thay tháº¿ cho SysVinit cÅ©


2.2. systemctl lÃ  gÃ¬?
---------------------
- systemctl lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ lÃ m viá»‡c vá»›i systemd
- DÃ¹ng Ä‘á»ƒ:
  + Start / Stop service
  + Restart service
  + Enable / Disable service
  + Xem tráº¡ng thÃ¡i service


3. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N Lá»†NH
--------------------------------

3.1. systemctl
--------------
- CÃ´ng cá»¥ quáº£n lÃ½ service cá»§a systemd
- Gá»­i yÃªu cáº§u tá»›i systemd Ä‘á»ƒ truy váº¥n hoáº·c Ä‘iá»u khiá»ƒn service


3.2. status
-----------
- status lÃ  hÃ nh Ä‘á»™ng yÃªu cáº§u systemd:
  + Hiá»ƒn thá»‹ tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a service
  + Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t, khÃ´ng chá»‰ lÃ  running hay stopped

CÃº phÃ¡p chung:
    systemctl status <service-name>


3.3. jenkins
------------
- TÃªn service (service unit)
- TÆ°Æ¡ng á»©ng vá»›i file:
    /lib/systemd/system/jenkins.service
hoáº·c:
    /etc/systemd/system/jenkins.service

Service nÃ y quáº£n lÃ½:
- Jenkins CI/CD server
- Cháº¡y ná»n nhÆ° má»™t daemon


4. Káº¾T QUáº¢ HIá»‚N THá»Š Cá»¦A Lá»†NH
---------------------------
Khi cháº¡y:
    systemctl status jenkins

MÃ n hÃ¬nh thÆ°á»ng hiá»ƒn thá»‹:

4.1. Tráº¡ng thÃ¡i tá»•ng quÃ¡t
------------------------
VÃ­ dá»¥:
    Active: active (running)
    Active: inactive (dead)
    Active: failed

Ã nghÄ©a:
- active (running) : Jenkins Ä‘ang cháº¡y bÃ¬nh thÆ°á»ng
- inactive (dead)  : Jenkins Ä‘Ã£ dá»«ng
- failed           : Jenkins gáº·p lá»—i khi khá»Ÿi Ä‘á»™ng


4.2. ThÃ´ng tin service
---------------------
- Loaded:
  + Service cÃ³ Ä‘Æ°á»£c load hay khÃ´ng
  + CÃ³ enable khá»Ÿi Ä‘á»™ng cÃ¹ng há»‡ thá»‘ng hay khÃ´ng

- Main PID:
  + PID cá»§a tiáº¿n trÃ¬nh Jenkins chÃ­nh

- Tasks:
  + Sá»‘ thread/process Jenkins Ä‘ang sá»­ dá»¥ng

- Memory:
  + Dung lÆ°á»£ng RAM Jenkins Ä‘ang tiÃªu thá»¥

- CPU:
  + Tá»•ng thá»i gian CPU Jenkins Ä‘Ã£ dÃ¹ng


4.3. Log gáº§n nháº¥t
----------------
- Hiá»ƒn thá»‹ vÃ i dÃ²ng log má»›i nháº¥t
- GiÃºp phÃ¡t hiá»‡n lá»—i nhanh:
  + Lá»—i port
  + Lá»—i Java
  + Lá»—i permission
  + Lá»—i cáº¥u hÃ¬nh


5. TRÆ¯á»œNG Há»¢P Sá»¬ Dá»¤NG THá»°C Táº¾
-----------------------------
- Jenkins khÃ´ng truy cáº­p Ä‘Æ°á»£c
- Jenkins khá»Ÿi Ä‘á»™ng cháº­m
- Jenkins bá»‹ stop Ä‘á»™t ngá»™t
- Kiá»ƒm tra sau khi reboot server
- Kiá»ƒm tra sau khi cáº¥u hÃ¬nh Jenkins


6. CÃC Lá»†NH LIÃŠN QUAN THÆ¯á»œNG DÃ™NG
--------------------------------

Start Jenkins:
    systemctl start jenkins

Stop Jenkins:
    systemctl stop jenkins

Restart Jenkins:
    systemctl restart jenkins

Enable Jenkins khá»Ÿi Ä‘á»™ng cÃ¹ng há»‡ thá»‘ng:
    systemctl enable jenkins

Disable Jenkins:
    systemctl disable jenkins


7. YÃŠU Cáº¦U QUYá»€N Háº N
--------------------
- ThÆ°á»ng cáº§n quyá»n root hoáº·c sudo

CÃ¡ch cháº¡y:
    sudo systemctl status jenkins

LÆ°u Ã½:
- Má»™t sá»‘ há»‡ thá»‘ng cho phÃ©p user thÆ°á»ng xem status
- NhÆ°ng khÃ´ng Ä‘Æ°á»£c start/stop náº¿u khÃ´ng cÃ³ quyá»n


8. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------

8.1. Unit jenkins.service could not be found
---------------------------------------------
NguyÃªn nhÃ¢n:
- Jenkins chÆ°a Ä‘Æ°á»£c cÃ i Ä‘áº·t
- Service tÃªn khÃ¡c

CÃ¡ch xá»­ lÃ½:
    systemctl list-units | grep jenkins
    systemctl list-unit-files | grep jenkins


8.2. Jenkins failed
-------------------
NguyÃªn nhÃ¢n phá»• biáº¿n:
- Java chÆ°a cÃ i
- Port 8080 bá»‹ chiáº¿m
- KhÃ´ng Ä‘á»§ RAM
- File permission sai

CÃ¡ch kiá»ƒm tra sÃ¢u hÆ¡n:
    journalctl -u jenkins


9. TÃ“M Táº®T
----------
- systemctl status jenkins dÃ¹ng Ä‘á»ƒ kiá»ƒm tra tráº¡ng thÃ¡i Jenkins
- KhÃ´ng lÃ m thay Ä‘á»•i tráº¡ng thÃ¡i service
- Hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ thÃ´ng tin vÃ  log gáº§n nháº¥t
- LÃ  lá»‡nh cÆ¡ báº£n vÃ  ráº¥t quan trá»ng khi váº­n hÃ nh Jenkins

Káº¾T LUáº¬N
--------
ÄÃ¢y lÃ  lá»‡nh kiá»ƒm tra tÃ¬nh tráº¡ng Jenkins service nhanh chÃ³ng,
cá»±c ká»³ há»¯u Ã­ch trong quáº£n trá»‹ há»‡ thá»‘ng vÃ  CI/CD.
		
		
		- cmd: ls /var/lib/jenkins/
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ls /var/lib/jenkins/
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ liá»‡t kÃª (list) toÃ n bá»™ file vÃ  thÆ° má»¥c
bÃªn trong thÆ° má»¥c dá»¯ liá»‡u chÃ­nh cá»§a Jenkins.

ThÆ° má»¥c /var/lib/jenkins/ lÃ  JENKINS_HOME máº·c Ä‘á»‹nh,
nÆ¡i Jenkins lÆ°u toÃ n bá»™ cáº¥u hÃ¬nh, job, plugin vÃ  dá»¯ liá»‡u runtime.

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. ls
--------------------------------------------------
- ls (list)
- Lá»‡nh Linux dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ danh sÃ¡ch file vÃ  thÆ° má»¥c
- KhÃ´ng cÃ³ option:
  + Hiá»ƒn thá»‹ tÃªn file/thÆ° má»¥c Ä‘Æ¡n giáº£n

--------------------------------------------------
2.2. /var/lib/jenkins/
--------------------------------------------------
- /var/lib : ThÆ° má»¥c chá»©a dá»¯ liá»‡u runtime cá»§a service
- jenkins  : ThÆ° má»¥c dá»¯ liá»‡u cá»§a Jenkins

ÄÆ°á»ng dáº«n Ä‘áº§y Ä‘á»§:
--------------------------------------------------
/var/lib/jenkins/

--------------------------------------------------
3. VAI TRÃ’ Cá»¦A /var/lib/jenkins/
--------------------------------------------------
ThÆ° má»¥c nÃ y chá»©a TOÃ€N Bá»˜ dá»¯ liá»‡u quan trá»ng cá»§a Jenkins:

- Cáº¥u hÃ¬nh há»‡ thá»‘ng Jenkins
- ToÃ n bá»™ Job / Pipeline
- Plugin Ä‘Ã£ cÃ i
- Credential (Ä‘Ã£ mÃ£ hÃ³a)
- Workspace build
- Log build

--------------------------------------------------
4. CÃC THÆ¯ Má»¤C & FILE THÆ¯á»œNG Gáº¶P
--------------------------------------------------
Khi cháº¡y:
ls /var/lib/jenkins/

CÃ³ thá»ƒ tháº¥y cÃ¡c má»¥c sau (vÃ­ dá»¥):
--------------------------------------------------
config.xml
jobs/
workspace/
plugins/
users/
secrets/
nodes/
logs/
fingerprints/
--------------------------------------------------

--------------------------------------------------
5. GIáº¢I THÃCH CÃC THÆ¯ Má»¤C QUAN TRá»ŒNG
--------------------------------------------------

config.xml
--------------------------------------------------
- File cáº¥u hÃ¬nh tá»•ng cá»§a Jenkins
- Chá»©a:
  + URL Jenkins
  + Security
  + Executor
  + Global config

--------------------------------------------------
jobs/
--------------------------------------------------
- Chá»©a toÃ n bá»™ job / pipeline
- Má»—i job lÃ  má»™t thÆ° má»¥c riÃªng
- BÃªn trong chá»©a:
  + config.xml cá»§a job
  + build history

--------------------------------------------------
workspace/
--------------------------------------------------
- ThÆ° má»¥c lÃ m viá»‡c khi Jenkins build
- Chá»©a source code Ä‘Æ°á»£c checkout
- Má»—i job cÃ³ workspace riÃªng

--------------------------------------------------
plugins/
--------------------------------------------------
- Chá»©a plugin Ä‘Ã£ cÃ i
- File .jpi / .hpi
- áº¢nh hÆ°á»Ÿng trá»±c tiáº¿p Ä‘áº¿n Jenkins

--------------------------------------------------
users/
--------------------------------------------------
- ThÃ´ng tin user Jenkins
- KhÃ´ng chá»©a máº­t kháº©u plain text

--------------------------------------------------
secrets/
--------------------------------------------------
- Chá»©a key vÃ  dá»¯ liá»‡u mÃ£ hÃ³a
- Ráº¤T QUAN TRá»ŒNG
- Máº¥t thÆ° má»¥c nÃ y â†’ máº¥t credential

--------------------------------------------------
nodes/
--------------------------------------------------
- ThÃ´ng tin agent (node) Jenkins
- Master / Slave configuration

--------------------------------------------------
logs/
--------------------------------------------------
- Log há»‡ thá»‘ng Jenkins

--------------------------------------------------
fingerprints/
--------------------------------------------------
- Theo dÃµi artifact giá»¯a cÃ¡c job

--------------------------------------------------
6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG Lá»†NH
--------------------------------------------------
Lá»‡nh nÃ y thÆ°á»ng dÃ¹ng Ä‘á»ƒ:
- Kiá»ƒm tra Jenkins Ä‘Ã£ cÃ i Ä‘Ãºng chÆ°a
- Debug lá»—i Jenkins
- Backup dá»¯ liá»‡u Jenkins
- XÃ¡c Ä‘á»‹nh vá»‹ trÃ­ job, workspace, plugin

--------------------------------------------------
7. QUYá»€N TRUY Cáº¬P
--------------------------------------------------
- ThÆ° má»¥c thuá»™c user:
  jenkins
- User thÆ°á»ng khÃ´ng cÃ³ quyá»n Ä‘á»c

Náº¿u cáº§n xem:
--------------------------------------------------
sudo ls /var/lib/jenkins/

--------------------------------------------------
8. LÆ¯U Ã Cá»°C Ká»² QUAN TRá»ŒNG
--------------------------------------------------
- KHÃ”NG xÃ³a / sá»­a file trá»±c tiáº¿p khi Jenkins Ä‘ang cháº¡y
- Backup toÃ n bá»™ /var/lib/jenkins trÆ°á»›c khi:
  + Upgrade
  + Migrate
  + Reinstall

- Máº¥t thÆ° má»¥c nÃ y = máº¥t toÃ n bá»™ Jenkins

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
ls /var/lib/jenkins/
= Liá»‡t kÃª dá»¯ liá»‡u Jenkins
= Kiá»ƒm tra job, plugin, workspace
= ThÆ° má»¥c sá»‘ng cÃ²n cá»§a Jenkins
==================================================
		
		
		- cmd: cat /var/lib/jenkins/secrets/initialAdminPassword
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
cat /var/lib/jenkins/secrets/initialAdminPassword

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Hiá»ƒn thá»‹ máº­t kháº©u quáº£n trá»‹ (Admin) ban Ä‘áº§u cá»§a Jenkins
- Phá»¥c vá»¥ bÆ°á»›c Ä‘Äƒng nháº­p láº§n Ä‘áº§u vÃ o giao diá»‡n web Jenkins
- HoÃ n táº¥t quÃ¡ trÃ¬nh setup Jenkins sau khi cÃ i Ä‘áº·t

Lá»‡nh nÃ y thÆ°á»ng Ä‘Æ°á»£c dÃ¹ng khi:
- Jenkins vá»«a má»›i cÃ i xong
- Truy cáº­p Jenkins láº§n Ä‘áº§u qua trÃ¬nh duyá»‡t
- Jenkins yÃªu cáº§u nháº­p â€œAdministrator passwordâ€

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. cat
--------------------------------------------------
cat (concatenate) lÃ  lá»‡nh dÃ¹ng Ä‘á»ƒ:
- Hiá»ƒn thá»‹ ná»™i dung file ra mÃ n hÃ¬nh terminal
- Äá»c file dáº¡ng text

Trong lá»‡nh nÃ y:
- cat chá»‰ dÃ¹ng Ä‘á»ƒ xem ná»™i dung
- KHÃ”NG chá»‰nh sá»­a file

--------------------------------------------------
2.2. /var/lib/jenkins/secrets/initialAdminPassword
--------------------------------------------------
Ã nghÄ©a Ä‘Æ°á»ng dáº«n:

/var/lib:
- ThÆ° má»¥c chá»©a dá»¯ liá»‡u á»©ng dá»¥ng (variable data)

/jenkins:
- ThÆ° má»¥c dá»¯ liá»‡u chÃ­nh cá»§a Jenkins
- Chá»©a job, plugin, config, secrets...

/secrets:
- ThÆ° má»¥c chá»©a thÃ´ng tin báº£o máº­t
- Chá»‰ Jenkins vÃ  user cÃ³ quyá»n má»›i Ä‘á»c Ä‘Æ°á»£c

/initialAdminPassword:
- File chá»©a máº­t kháº©u admin ban Ä‘áº§u
- ÄÆ°á»£c Jenkins tá»± Ä‘á»™ng táº¡o khi cÃ i Ä‘áº·t láº§n Ä‘áº§u

--------------------------------------------------
3. VAI TRÃ’ Cá»¦A initialAdminPassword
--------------------------------------------------
Máº­t kháº©u nÃ y dÃ¹ng Ä‘á»ƒ:
- ÄÄƒng nháº­p Jenkins láº§n Ä‘áº§u
- Má»Ÿ khÃ³a (Unlock Jenkins)
- Táº¡o user admin chÃ­nh thá»©c

Sau khi:
- HoÃ n táº¥t setup
- Táº¡o user admin má»›i

â†’ File nÃ y KHÃ”NG cÃ²n Ä‘Æ°á»£c dÃ¹ng ná»¯a

--------------------------------------------------
4. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. cat Ä‘á»c file initialAdminPassword
2. Ná»™i dung file Ä‘Æ°á»£c in ra terminal
3. Chuá»—i kÃ½ tá»± hiá»ƒn thá»‹ chÃ­nh lÃ  máº­t kháº©u admin
4. Copy chuá»—i nÃ y
5. DÃ¡n vÃ o Ã´ â€œAdministrator passwordâ€ trÃªn web Jenkins

--------------------------------------------------
5. VÃ Dá»¤ Káº¾T QUáº¢
--------------------------------------------------
VÃ­ dá»¥ output:

a1b2c3d4e5f67890123456789abcdef

Chuá»—i nÃ y:
- DÃ i
- Ngáº«u nhiÃªn
- Chá»‰ dÃ¹ng má»™t láº§n cho setup ban Ä‘áº§u

--------------------------------------------------
6. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

6.1. Permission denied
--------------------------------------------------
NguyÃªn nhÃ¢n:
- KhÃ´ng Ä‘á»§ quyá»n Ä‘á»c file secrets

Giáº£i phÃ¡p:
sudo cat /var/lib/jenkins/secrets/initialAdminPassword

--------------------------------------------------
6.2. File khÃ´ng tá»“n táº¡i
--------------------------------------------------
NguyÃªn nhÃ¢n:
- Jenkins chÆ°a Ä‘Æ°á»£c cÃ i
- Jenkins chÆ°a start
- Jenkins Ä‘Ã£ setup xong vÃ  file bá»‹ xÃ³a

Kiá»ƒm tra:
systemctl status jenkins

--------------------------------------------------
7. SAU KHI ÄÄ‚NG NHáº¬P THÃ€NH CÃ”NG
--------------------------------------------------
Sau khi dÃ¹ng máº­t kháº©u nÃ y:

- Jenkins sáº½ yÃªu cáº§u:
  + CÃ i plugin
  + Táº¡o user admin má»›i
- NÃªn:
  + LÆ°u user/password má»›i
  + KHÃ”NG dÃ¹ng láº¡i initialAdminPassword

--------------------------------------------------
8. Cáº¢NH BÃO Báº¢O Máº¬T
--------------------------------------------------
- KHÃ”NG chia sáº» máº­t kháº©u nÃ y
- KHÃ”NG commit lÃªn Git
- KHÃ”NG lÆ°u á»Ÿ nÆ¡i cÃ´ng khai
- XÃ³a lá»‹ch sá»­ shell náº¿u cáº§n

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
cat /var/lib/jenkins/secrets/initialAdminPassword

= Xem máº­t kháº©u admin ban Ä‘áº§u cá»§a Jenkins
= DÃ¹ng cho láº§n Ä‘Äƒng nháº­p Ä‘áº§u tiÃªn
= Chá»‰ Ä‘á»c, khÃ´ng chá»‰nh sá»­a
= Cáº§n quyá»n root hoáº·c jenkins
= Cá»±c ká»³ nháº¡y cáº£m vá» báº£o máº­t
		
		
		- cmd: apt install openjdk-17-jdk -y
		
Lá»†NH: apt install openjdk-17-jdk -y
=================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh `apt install openjdk-17-jdk -y` dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t
OpenJDK phiÃªn báº£n 17 (Java Development Kit) trÃªn cÃ¡c há»‡ Ä‘iá»u hÃ nh
Linux sá»­ dá»¥ng APT (Ubuntu, Debian).

OpenJDK 17 lÃ  phiÃªn báº£n:
- LTS (Long Term Support)
- ThÆ°á»ng dÃ¹ng cho Java application, Jenkins, Tomcat, Spring Boot, v.v.


2. Cáº¤U TRÃšC Lá»†NH
---------------
apt install openjdk-17-jdk -y

Giáº£i thÃ­ch tá»«ng thÃ nh pháº§n:
- apt              : TrÃ¬nh quáº£n lÃ½ gÃ³i (package manager) cá»§a Debian/Ubuntu
- install          : Lá»‡nh cÃ i Ä‘áº·t gÃ³i
- openjdk-17-jdk   : TÃªn gÃ³i Java cáº§n cÃ i
- -y               : Tá»± Ä‘á»™ng tráº£ lá»i "yes" cho má»i cÃ¢u há»i khi cÃ i Ä‘áº·t


3. openjdk-17-jdk LÃ€ GÃŒ?
-----------------------
- openjdk          : Open Java Development Kit (mÃ£ nguá»“n má»Ÿ)
- 17               : PhiÃªn báº£n Java (Java 17)
- jdk              : Java Development Kit

JDK bao gá»“m:
- JRE (Java Runtime Environment)
- Compiler (javac)
- CÃ´ng cá»¥ build, debug, monitoring


4. SAU KHI CÃ€I Äáº¶T CÃ“ GÃŒ?
-----------------------
CÃ¡c thÃ nh pháº§n chÃ­nh:

- Java runtime:
  java

- Java compiler:
  javac

- ThÆ° má»¥c cÃ i Ä‘áº·t:
  /usr/lib/jvm/java-17-openjdk-amd64/   (Ubuntu/Debian 64-bit)

- CÃ¡c tool khÃ¡c:
  javadoc
  jar
  jstack
  jmap
  jcmd


5. VÃŒ SAO Cáº¦N CÃ€I JDK (KHÃ”NG PHáº¢I JRE)?
-------------------------------------
- JRE: chá»‰ cháº¡y Ä‘Æ°á»£c á»©ng dá»¥ng Java
- JDK: vá»«a cháº¡y vá»«a build/compile Ä‘Æ°á»£c

CÃ¡c trÆ°á»ng há»£p cáº§n JDK:
- Build project Maven / Gradle
- Cháº¡y Jenkins
- Cháº¡y Tomcat
- Cháº¡y Spring Boot
- CI/CD pipeline


6. ÄIá»€U KIá»†N TRÆ¯á»šC KHI CÃ€I
-------------------------
- Há»‡ Ä‘iá»u hÃ nh:
  Ubuntu / Debian

- CÃ³ quyá»n sudo hoáº·c root
- Repo há»‡ thá»‘ng Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t

Khuyáº¿n nghá»‹:
apt update


7. Káº¾T QUáº¢ KHI CHáº Y Lá»†NH
-----------------------
Khi cháº¡y lá»‡nh:
- APT sáº½:
  - Resolve dependency
  - Download package tá»« repository
  - CÃ i Ä‘áº·t tá»± Ä‘á»™ng

- KhÃ´ng há»i xÃ¡c nháº­n do cÃ³ `-y`


8. KIá»‚M TRA SAU KHI CÃ€I
----------------------
Kiá»ƒm tra version Java:
java -version

Káº¿t quáº£ mong Ä‘á»£i:
openjdk version "17.x.x"

Kiá»ƒm tra compiler:
javac -version


9. BIáº¾N THá»‚ THÆ¯á»œNG DÃ™NG
----------------------

CÃ i khÃ´ng cÃ³ -y (cáº§n xÃ¡c nháº­n):
apt install openjdk-17-jdk

Chá»‰ cÃ i JRE (khÃ´ng khuyáº¿n nghá»‹ cho server):
apt install openjdk-17-jre -y

Xem cÃ¡c phiÃªn báº£n Java cÃ³ sáºµn:
apt search openjdk


10. Cáº¤U HÃŒNH JAVA_HOME
---------------------
Sau khi cÃ i, cÃ³ thá»ƒ cáº§n set JAVA_HOME:

Xem danh sÃ¡ch Java:
update-alternatives --config java

JAVA_HOME thÆ°á»ng lÃ :
export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64


11. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------

Lá»–I 1: Unable to locate package
- ChÆ°a cháº¡y apt update
- Repo chÆ°a Ä‘áº§y Ä‘á»§

Lá»–I 2: Permission denied
- ChÆ°a dÃ¹ng sudo

Lá»–I 3: Java version khÃ´ng Ä‘Ãºng
- Há»‡ thá»‘ng cÃ³ nhiá»u phiÃªn báº£n Java
- Cáº§n dÃ¹ng update-alternatives


12. LÆ¯U Ã QUAN TRá»ŒNG
-------------------
- Java 17 lÃ  LTS, á»•n Ä‘á»‹nh cho production
- Jenkins, Tomcat má»›i yÃªu cáº§u Java 11+
- NÃªn dÃ¹ng JDK thay vÃ¬ JRE cho server


13. TÃ“M Táº®T
-----------
- Lá»‡nh dÃ¹ng Ä‘á»ƒ cÃ i OpenJDK 17 JDK
- Bao gá»“m Ä‘áº§y Ä‘á»§ cÃ´ng cá»¥ phÃ¡t triá»ƒn Java
- Ráº¥t phá»• biáº¿n trong DevOps / CI-CD
- An toÃ n, dá»… cÃ i, dÃ¹ng lÃ¢u dÃ i
		
		
		- cmd: ls /usr/lib/jvm/
		
Lá»†NH: ls /usr/lib/jvm/
====================================================================

1. ls lÃ  gÃ¬?
--------------------------------------------------------------------
- ls (list) lÃ  lá»‡nh Linux dÃ¹ng Ä‘á»ƒ:
  + Liá»‡t kÃª ná»™i dung thÆ° má»¥c
  + Hiá»ƒn thá»‹ file vÃ  thÆ° má»¥c con

--------------------------------------------------------------------

2. /usr/lib/jvm/ lÃ  thÆ° má»¥c gÃ¬?
--------------------------------------------------------------------
- ÄÃ¢y lÃ  thÆ° má»¥c CHUáº¨N Ä‘á»ƒ chá»©a Java Virtual Machine (JVM)
- Bao gá»“m:
  + JDK (Java Development Kit)
  + JRE (Java Runtime Environment)
- ÄÆ°á»£c sá»­ dá»¥ng bá»Ÿi:
  + Java applications
  + Jenkins
  + Tomcat
  + Maven
  + Gradle

--------------------------------------------------------------------

3. Ã nghÄ©a cá»§a lá»‡nh ls /usr/lib/jvm/
--------------------------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Xem DANH SÃCH cÃ¡c phiÃªn báº£n Java Ä‘ang cÃ i trÃªn há»‡ thá»‘ng
- Kiá»ƒm tra:
  + CÃ³ bao nhiÃªu JDK/JRE
  + Äang cÃ i Java version nÃ o

KHÃ”NG:
- Cháº¡y Java
- CÃ i Java
- Sá»­a cáº¥u hÃ¬nh Java

--------------------------------------------------------------------

4. Káº¿t quáº£ output thÆ°á»ng gáº·p
--------------------------------------------------------------------
VÃ­ dá»¥ output:

java-1.11.0-openjdk-amd64
java-17-openjdk-amd64
java-11-openjdk-amd64
default-java
openjdk-11
openjdk-17

--------------------------------------------------------------------

5. Giáº£i thÃ­ch tÃªn thÆ° má»¥c
--------------------------------------------------------------------

5.1 java-11-openjdk-amd64
--------------------------------------------------------------------
- Java version: 11
- Distribution: OpenJDK
- Kiáº¿n trÃºc: amd64 (64-bit)

--------------------------------------------------------------------

5.2 java-17-openjdk-amd64
--------------------------------------------------------------------
- Java version: 17 (LTS)
- PhiÃªn báº£n phá»• biáº¿n cho Jenkins, Spring Boot

--------------------------------------------------------------------

5.3 default-java
--------------------------------------------------------------------
- Symlink trá» Ä‘áº¿n Java máº·c Ä‘á»‹nh
- ThÆ°á»ng dÃ¹ng cho:
  + JAVA_HOME
  + Service cháº¡y Java

--------------------------------------------------------------------

6. Má»—i thÆ° má»¥c chá»©a gÃ¬?
--------------------------------------------------------------------
BÃªn trong má»™t thÆ° má»¥c JVM thÆ°á»ng cÃ³:

- bin/      : java, javac, javadoc
- lib/      : thÆ° viá»‡n Java
- conf/     : cáº¥u hÃ¬nh JVM
- include/  : header file (C/C++)
- release   : metadata version

--------------------------------------------------------------------

7. LiÃªn quan Ä‘áº¿n JAVA_HOME
--------------------------------------------------------------------
- JAVA_HOME thÆ°á»ng trá» tá»›i:
  /usr/lib/jvm/java-17-openjdk-amd64

Kiá»ƒm tra:
echo $JAVA_HOME

--------------------------------------------------------------------

8. Chá»n Java máº·c Ä‘á»‹nh
--------------------------------------------------------------------
DÃ¹ng lá»‡nh:
sudo update-alternatives --config java

â†’ Thay Ä‘á»•i Java máº·c Ä‘á»‹nh há»‡ thá»‘ng

--------------------------------------------------------------------

9. Khi nÃ o cáº§n cháº¡y lá»‡nh nÃ y?
--------------------------------------------------------------------
- Jenkins khÃ´ng start
- Tomcat lá»—i Java
- Kiá»ƒm tra Java version trÆ°á»›c khi deploy
- Debug lá»—i JAVA_HOME

--------------------------------------------------------------------

10. CÃ¡c lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------

10.1 ThÆ° má»¥c trá»‘ng
--------------------------------------------------------------------
- Java chÆ°a Ä‘Æ°á»£c cÃ i

10.2 KhÃ´ng cÃ³ quyá»n truy cáº­p
--------------------------------------------------------------------
- ThÆ° má»¥c chá»‰ Ä‘á»c
- Cáº§n sudo náº¿u muá»‘n thay Ä‘á»•i

--------------------------------------------------------------------

11. So sÃ¡nh vá»›i cÃ¡c lá»‡nh liÃªn quan
--------------------------------------------------------------------
java -version
â†’ Xem Java Ä‘ang dÃ¹ng

which java
â†’ Xem binary java náº±m á»Ÿ Ä‘Ã¢u

readlink -f $(which java)
â†’ Xem java trá» vá» JVM nÃ o

--------------------------------------------------------------------

12. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
ls /usr/lib/jvm/ =
XEM DANH SÃCH CÃC PHIÃŠN Báº¢N JAVA (JDK/JRE) ÄANG CÃ€I TRÃŠN Há»† THá»NG
		
		
		- cmd: sudo apt update && sudo apt install maven -y
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
sudo apt update && sudo apt install maven -y
================================================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    sudo apt update && sudo apt install maven -y

ÄÆ°á»£c sá»­ dá»¥ng trÃªn cÃ¡c há»‡ Ä‘iá»u hÃ nh Linux thuá»™c há» Debian, vÃ­ dá»¥:
- Ubuntu
- Debian
- Linux Mint

Má»¥c Ä‘Ã­ch:
- Cáº­p nháº­t danh sÃ¡ch gÃ³i pháº§n má»m má»›i nháº¥t tá»« repository
- CÃ i Ä‘áº·t Apache Maven
- Thá»±c hiá»‡n toÃ n bá»™ quÃ¡ trÃ¬nh tá»± Ä‘á»™ng, khÃ´ng cáº§n xÃ¡c nháº­n thá»§ cÃ´ng


2. PHÃ‚N TÃCH Tá»ªNG PHáº¦N Cá»¦A Lá»†NH
------------------------------

2.1. sudo
---------
- sudo (Super User DO) cho phÃ©p cháº¡y lá»‡nh vá»›i quyá»n quáº£n trá»‹ (root)
- Cáº§n thiáº¿t vÃ¬:
  + apt cáº­p nháº­t há»‡ thá»‘ng
  + apt cÃ i pháº§n má»m vÃ o thÆ° má»¥c há»‡ thá»‘ng

Náº¿u khÃ´ng dÃ¹ng sudo:
- Lá»‡nh sáº½ bá»‹ lá»—i permission denied


2.2. apt update
---------------
- apt update dÃ¹ng Ä‘á»ƒ:
  + Táº£i vá» danh sÃ¡ch gÃ³i pháº§n má»m má»›i nháº¥t
  + Cáº­p nháº­t thÃ´ng tin version tá»« cÃ¡c repository

apt update KHÃ”NG:
- CÃ i pháº§n má»m
- NÃ¢ng cáº¥p pháº§n má»m

Ã nghÄ©a:
- Äáº£m báº£o há»‡ thá»‘ng biáº¿t phiÃªn báº£n má»›i nháº¥t cá»§a maven vÃ  cÃ¡c gÃ³i liÃªn quan
- TrÃ¡nh lá»—i "Unable to locate package"


2.3. &&
-------
- && lÃ  toÃ¡n tá»­ logic trong shell

Ã nghÄ©a:
- Chá»‰ cháº¡y lá»‡nh bÃªn pháº£i Náº¾U lá»‡nh bÃªn trÃ¡i cháº¡y thÃ nh cÃ´ng
- Náº¿u apt update bá»‹ lá»—i:
  + apt install maven sáº½ KHÃ”NG Ä‘Æ°á»£c thá»±c thi

TÃ¡c dá»¥ng:
- Äáº£m báº£o cÃ i maven dá»±a trÃªn dá»¯ liá»‡u repository má»›i nháº¥t
- TÄƒng Ä‘á»™ an toÃ n khi cháº¡y script


2.4. sudo apt install maven -y
------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- CÃ i Ä‘áº·t Apache Maven vÃ  cÃ¡c dependency cáº§n thiáº¿t


2.4.1. apt install
------------------
- YÃªu cáº§u apt cÃ i Ä‘áº·t gÃ³i pháº§n má»m


2.4.2. maven
------------
- Apache Maven lÃ  cÃ´ng cá»¥:
  + Build
  + Quáº£n lÃ½ dependency
  + Quáº£n lÃ½ vÃ²ng Ä‘á»i project Java

ThÆ°á»ng dÃ¹ng trong:
- Java
- Spring / Spring Boot
- CI/CD (Jenkins, GitLab CI)

Sau khi cÃ i, lá»‡nh:
    mvn
sáº½ cÃ³ sáºµn trong há»‡ thá»‘ng


2.4.3. -y
---------
- -y = yes
- Tá»± Ä‘á»™ng tráº£ lá»i "Yes" cho má»i cÃ¢u há»i xÃ¡c nháº­n

Náº¿u khÃ´ng cÃ³ -y:
- apt sáº½ há»i:
    Do you want to continue? [Y/n]

Khi cÃ³ -y:
- Lá»‡nh cháº¡y khÃ´ng cáº§n tÆ°Æ¡ng tÃ¡c
- Ráº¥t phÃ¹ há»£p cho:
  + Script
  + Automation
  + CI/CD pipeline


3. QUY TRÃŒNH HOáº T Äá»˜NG Cá»¦A Lá»†NH
------------------------------
Khi cháº¡y:
    sudo apt update && sudo apt install maven -y

Há»‡ thá»‘ng sáº½:
1. Cháº¡y apt update
2. Táº£i danh sÃ¡ch gÃ³i má»›i nháº¥t
3. Náº¿u update thÃ nh cÃ´ng:
   - Báº¯t Ä‘áº§u cÃ i Ä‘áº·t maven
4. Táº£i cÃ¡c gÃ³i cáº§n thiáº¿t
5. CÃ i Ä‘áº·t maven vÃ  dependency
6. HoÃ n táº¥t mÃ  khÃ´ng há»i xÃ¡c nháº­n


4. KIá»‚M TRA SAU KHI CÃ€I Äáº¶T
--------------------------
Kiá»ƒm tra phiÃªn báº£n Maven:
    mvn -version

Káº¿t quáº£ thÆ°á»ng hiá»ƒn thá»‹:
- Apache Maven version
- Java version
- JAVA_HOME
- OS info


5. CÃC THÃ€NH PHáº¦N ÄÆ¯á»¢C CÃ€I KÃˆM
-----------------------------
Khi cÃ i maven, apt sáº½ tá»± Ä‘á»™ng cÃ i:
- ThÆ° viá»‡n Java cáº§n thiáº¿t
- Plugin máº·c Ä‘á»‹nh cá»§a Maven
- File cáº¥u hÃ¬nh:
    /etc/maven/
    /usr/share/maven/


6. LÆ¯U Ã QUAN TRá»ŒNG
------------------
- Maven cáº§n Java Ä‘á»ƒ cháº¡y
- apt sáº½ tá»± Ä‘á»™ng cÃ i OpenJDK náº¿u chÆ°a cÃ³
- PhiÃªn báº£n maven trong apt cÃ³ thá»ƒ:
  + KhÃ´ng pháº£i má»›i nháº¥t
  + NhÆ°ng á»•n Ä‘á»‹nh vÃ  phÃ¹ há»£p production

Náº¿u cáº§n báº£n má»›i nháº¥t:
- CÃ i Maven thá»§ cÃ´ng tá»« website Apache


7. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------

7.1. Unable to locate package maven
-----------------------------------
NguyÃªn nhÃ¢n:
- ChÆ°a cháº¡y apt update
- Repository lá»—i

CÃ¡ch xá»­ lÃ½:
    sudo apt update


7.2. mvn: command not found
---------------------------
NguyÃªn nhÃ¢n:
- CÃ i Ä‘áº·t tháº¥t báº¡i
- PATH lá»—i

CÃ¡ch xá»­ lÃ½:
    which mvn
    dpkg -l | grep maven


8. TÃ“M Táº®T
----------
- apt update: cáº­p nháº­t danh sÃ¡ch gÃ³i
- apt install maven: cÃ i Apache Maven
- && Ä‘áº£m báº£o an toÃ n khi cháº¡y
- -y giÃºp tá»± Ä‘á»™ng hÃ³a

Káº¾T LUáº¬N
--------
ÄÃ¢y lÃ  lá»‡nh tiÃªu chuáº©n Ä‘á»ƒ cÃ i Ä‘áº·t Apache Maven
trÃªn há»‡ thá»‘ng Debian-based, ráº¥t phá»• biáº¿n trong mÃ´i trÆ°á»ng Java vÃ  CI/CD.
		
		
		- cmd: systemctl status nexus
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
systemctl status nexus
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ kiá»ƒm tra tráº¡ng thÃ¡i cá»§a dá»‹ch vá»¥ Nexus
trÃªn cÃ¡c há»‡ thá»‘ng Linux sá»­ dá»¥ng systemd (CentOS, RHEL, Ubuntu, Debian).

Nexus lÃ  má»™t repository manager dÃ¹ng Ä‘á»ƒ:
- LÆ°u trá»¯ artifact (Maven, npm, Docker, NuGetâ€¦)
- Quáº£n lÃ½ version cá»§a cÃ¡c package
- Há»— trá»£ DevOps vÃ  CI/CD

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. systemctl
--------------------------------------------------
- systemctl lÃ  cÃ´ng cá»¥ quáº£n lÃ½ systemd
- DÃ¹ng Ä‘á»ƒ:
  + Khá»Ÿi Ä‘á»™ng/ dá»«ng dá»‹ch vá»¥
  + Kiá»ƒm tra tráº¡ng thÃ¡i
  + Reload cáº¥u hÃ¬nh
  + Enable/disable dá»‹ch vá»¥ khi boot

Má»™t sá»‘ lá»‡nh phá»• biáº¿n:
--------------------------------------------------
systemctl start <service>      â†’ khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥
systemctl stop <service>       â†’ dá»«ng dá»‹ch vá»¥
systemctl restart <service>    â†’ khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥
systemctl status <service>     â†’ kiá»ƒm tra tráº¡ng thÃ¡i dá»‹ch vá»¥
systemctl enable <service>     â†’ cháº¡y dá»‹ch vá»¥ khi boot
systemctl disable <service>    â†’ táº¯t auto-start khi boot

--------------------------------------------------
2.2. status
--------------------------------------------------
- Tham sá»‘ cho systemctl
- Kiá»ƒm tra tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a dá»‹ch vá»¥
- Hiá»ƒn thá»‹:
  + Active / Inactive / Failed
  + Main PID
  + Log gáº§n nháº¥t
  + ThÃ´ng tin unit file

--------------------------------------------------
2.3. nexus
--------------------------------------------------
- TÃªn dá»‹ch vá»¥ cáº§n kiá»ƒm tra
- ThÆ°á»ng lÃ  tÃªn unit file systemd: nexus.service
- Dá»‹ch vá»¥ nÃ y quáº£n lÃ½:
  + Khá»Ÿi Ä‘á»™ng Nexus Repository Manager
  + Quáº£n lÃ½ process JVM
  + Láº¯ng nghe cá»•ng HTTP/HTTPS (thÆ°á»ng 8081)

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
Khi cháº¡y:
systemctl status nexus

Há»‡ thá»‘ng sáº½:
1. TÃ¬m unit file nexus.service trong /etc/systemd/system hoáº·c /lib/systemd/system
2. Kiá»ƒm tra tráº¡ng thÃ¡i dá»‹ch vá»¥ hiá»‡n táº¡i:
   - active (running)
   - inactive (dead)
   - failed
3. Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t:
   + Main PID
   + Memory, CPU
   + Tráº¡ng thÃ¡i active/inactive
   + Log journal gáº§n nháº¥t

--------------------------------------------------
4. Káº¾T QUáº¢ Äáº¦U RA MáºªU
--------------------------------------------------
VÃ­ dá»¥:
--------------------------------------------------
â— nexus.service - Nexus Repository Manager
     Loaded: loaded (/etc/systemd/system/nexus.service; enabled; vendor preset: disabled)
     Active: active (running) since Tue 2025-12-16 18:00:00 +0700; 5min ago
   Main PID: 12345 (java)
      Tasks: 50
     Memory: 300M
     CGroup: /system.slice/nexus.service
             â””â”€12345 java -jar nexus.jar
--------------------------------------------------

Giáº£i thÃ­ch:
- Loaded: file unit service Ä‘Æ°á»£c systemd load
- Active: tráº¡ng thÃ¡i hiá»‡n táº¡i
- Main PID: process chÃ­nh
- Memory: dung lÆ°á»£ng RAM Ä‘ang sá»­ dá»¥ng
- CGroup: quáº£n lÃ½ resource cá»§a dá»‹ch vá»¥
- Tasks: sá»‘ thread/process liÃªn quan

--------------------------------------------------
5. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- Náº¿u tráº¡ng thÃ¡i inactive hoáº·c failed:
  + Kiá»ƒm tra log: journalctl -u nexus
  + Kiá»ƒm tra cá»•ng HTTP/HTTPS
  + Kiá»ƒm tra file cáº¥u hÃ¬nh Nexus (nexus.properties)

- TrÃ¡nh kill process trá»±c tiáº¿p, nÃªn dÃ¹ng:
  systemctl stop nexus

- Kiá»ƒm tra quyá»n sudo náº¿u cáº§n:
  sudo systemctl status nexus

--------------------------------------------------
6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG Lá»†NH
--------------------------------------------------
- XÃ¡c nháº­n Nexus Ä‘ang cháº¡y
- Kiá»ƒm tra resource sá»­ dá»¥ng
- Debug sá»± cá»‘ khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥
- Kiá»ƒm tra logs gáº§n nháº¥t nhanh chÃ³ng

--------------------------------------------------
7. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
systemctl status nexus
= Kiá»ƒm tra tráº¡ng thÃ¡i dá»‹ch vá»¥ Nexus
= Hiá»ƒn thá»‹ active/inactive, PID, memory, log
= Phá»¥c vá»¥ quáº£n trá»‹, debug, kiá»ƒm tra há»‡ thá»‘ng
==================================================
		
		
		- cmd: ls /opt/nexus/
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ls /opt/nexus/

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Liá»‡t kÃª ná»™i dung thÆ° má»¥c /opt/nexus/
- Xem cÃ¡c file vÃ  thÆ° má»¥c con bÃªn trong
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ kiá»ƒm tra cáº¥u trÃºc cÃ i Ä‘áº·t Nexus Repository Manager

Ãp dá»¥ng:
- Há»‡ Ä‘iá»u hÃ nh Linux/Unix
- Khi Ä‘Ã£ cÃ i Nexus vÃ o thÆ° má»¥c /opt/nexus/

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. ls
--------------------------------------------------
ls (list) lÃ  lá»‡nh:
- Liá»‡t kÃª file vÃ  thÆ° má»¥c
- CÃ³ thá»ƒ thÃªm tÃ¹y chá»n:
  + ls -l : hiá»ƒn thá»‹ chi tiáº¿t (permissions, owner, size, date)
  + ls -a : hiá»ƒn thá»‹ cáº£ file áº©n
  + ls -lh: hiá»ƒn thá»‹ chi tiáº¿t vÃ  dung lÆ°á»£ng dá»… Ä‘á»c

Trong lá»‡nh nÃ y:
- Chá»‰ liá»‡t kÃª tÃªn file vÃ  thÆ° má»¥c cÃ³ trong /opt/nexus/

--------------------------------------------------
2.2. /opt/nexus/
--------------------------------------------------
Ã nghÄ©a tá»«ng pháº§n:

/opt:
- ThÆ° má»¥c tiÃªu chuáº©n trong Linux Ä‘á»ƒ cÃ i Ä‘áº·t pháº§n má»m bá»• sung (optional software)
- KhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n há»‡ thá»‘ng cÆ¡ báº£n

/nexus:
- ThÆ° má»¥c cÃ i Ä‘áº·t Nexus Repository Manager
- Chá»©a:
  + ThÆ° má»¥c bin (script khá»Ÿi Ä‘á»™ng Nexus)
  + ThÆ° má»¥c sonatype-work (dá»¯ liá»‡u repository)
  + ThÆ° má»¥c conf (cáº¥u hÃ¬nh)
  + ThÆ° má»¥c lib (thÆ° viá»‡n Java)
  + File script start/stop nexus

--------------------------------------------------
3. Má»¤C ÄÃCH THÆ¯á»œNG DÃ™NG
--------------------------------------------------
- Kiá»ƒm tra cáº¥u trÃºc thÆ° má»¥c Nexus
- XÃ¡c Ä‘á»‹nh vá»‹ trÃ­ script khá»Ÿi Ä‘á»™ng (bin/nexus, bin/nexus.rc)
- Xem thÆ° má»¥c dá»¯ liá»‡u (sonatype-work)
- Debug khi cÃ i Ä‘áº·t hoáº·c upgrade

--------------------------------------------------
4. Káº¾T QUáº¢ MáºªU
--------------------------------------------------
VÃ­ dá»¥ output khi cháº¡y lá»‡nh:

bin
conf
lib
sonatype-work
LICENSE
README.txt

Giáº£i thÃ­ch:
- bin          : chá»©a script khá»Ÿi Ä‘á»™ng vÃ  dá»«ng Nexus
- conf         : cáº¥u hÃ¬nh Nexus
- lib          : thÆ° viá»‡n Java vÃ  cÃ¡c plugin
- sonatype-work: dá»¯ liá»‡u repository, blobstore
- LICENSE      : giáº¥y phÃ©p sá»­ dá»¥ng
- README.txt   : hÆ°á»›ng dáº«n cÆ¡ báº£n

--------------------------------------------------
5. CÃC Lá»†NH LIÃŠN QUAN
--------------------------------------------------
Hiá»ƒn thá»‹ chi tiáº¿t:
ls -l /opt/nexus/

Hiá»ƒn thá»‹ chi tiáº¿t + áº©n:
ls -la /opt/nexus/

Sáº¯p xáº¿p theo thá»i gian:
ls -ltr /opt/nexus/

--------------------------------------------------
6. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

6.1. Permission denied
--------------------------------------------------
NguyÃªn nhÃ¢n:
- KhÃ´ng cÃ³ quyá»n Ä‘á»c thÆ° má»¥c /opt/nexus/

Giáº£i phÃ¡p:
sudo ls /opt/nexus/

6.2. ThÆ° má»¥c khÃ´ng tá»“n táº¡i
--------------------------------------------------
NguyÃªn nhÃ¢n:
- Nexus chÆ°a Ä‘Æ°á»£c cÃ i
- ÄÆ°á»ng dáº«n sai

Kiá»ƒm tra:
ls /opt
ls /opt | grep nexus

--------------------------------------------------
7. Cáº¢NH BÃO
--------------------------------------------------
- TrÃ¡nh thay Ä‘á»•i file trong /opt/nexus/ khi Nexus Ä‘ang cháº¡y
- Backup thÆ° má»¥c sonatype-work trÆ°á»›c khi nÃ¢ng cáº¥p

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
ls /opt/nexus/

= Liá»‡t kÃª ná»™i dung thÆ° má»¥c cÃ i Nexus
= Xem file, thÆ° má»¥c con
= Kiá»ƒm tra cáº¥u trÃºc cÃ i Ä‘áº·t
= Cáº§n quyá»n Ä‘á»c thÆ° má»¥c /opt/nexus/
		
		
		- cmd: cat /opt/nexus/sonatype-work/nexus3/admin.password
		
Lá»†NH: cat /opt/nexus/sonatype-work/nexus3/admin.password
=========================================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh `cat /opt/nexus/sonatype-work/nexus3/admin.password` dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹
ná»™i dung file `admin.password` trong terminal. 

Trong bá»‘i cáº£nh Sonatype Nexus Repository:
- ÄÃ¢y lÃ  file chá»©a **máº­t kháº©u máº·c Ä‘á»‹nh cá»§a tÃ i khoáº£n admin**.
- ThÆ°á»ng Ä‘Æ°á»£c táº¡o ra khi láº§n Ä‘áº§u cÃ i Nexus.
- Cáº§n thiáº¿t Ä‘á»ƒ Ä‘Äƒng nháº­p vÃ o giao diá»‡n web Nexus láº§n Ä‘áº§u.


2. Cáº¤U TRÃšC Lá»†NH
---------------
cat /opt/nexus/sonatype-work/nexus3/admin.password

Giáº£i thÃ­ch:
- `cat`     : Command line tool dÃ¹ng Ä‘á»ƒ Ä‘á»c vÃ  hiá»ƒn thá»‹ ná»™i dung file.
- `/opt/nexus/sonatype-work/nexus3/admin.password` : ÄÆ°á»ng dáº«n file máº­t kháº©u admin.


3. QUYá»€N TRUY Cáº¬P
----------------
- File `admin.password` thÆ°á»ng chá»‰ root hoáº·c user cÃ i Nexus má»›i Ä‘á»c Ä‘Æ°á»£c.
- Náº¿u khÃ´ng cÃ³ quyá»n:
  - Cháº¡y lá»‡nh vá»›i sudo:
    sudo cat /opt/nexus/sonatype-work/nexus3/admin.password


4. Ã NGHÄ¨A Cá»¦A FILE
------------------
- File chá»‰ chá»©a **má»™t dÃ²ng** lÃ  máº­t kháº©u admin.
- DÃ¹ng má»™t láº§n Ä‘á»ƒ Ä‘Äƒng nháº­p web Nexus.
- Sau khi Ä‘Äƒng nháº­p, thÆ°á»ng thay Ä‘á»•i máº­t kháº©u nÃ y Ä‘á»ƒ báº£o máº­t.


5. CÃC TRÆ¯á»œNG Há»¢P Sá»¬ Dá»¤NG
------------------------
1. Láº¥y máº­t kháº©u admin láº§n Ä‘áº§u:
   - sudo cat /opt/nexus/sonatype-work/nexus3/admin.password
   - Copy máº­t kháº©u ra Ä‘á»ƒ login web: http://<host>:8081

2. Äá»•i máº­t kháº©u:
   - Sau khi login web, Ä‘á»•i máº­t kháº©u admin theo yÃªu cáº§u báº£o máº­t


6. LÆ¯U Ã Báº¢O Máº¬T
----------------
- File chá»©a máº­t kháº©u nháº¡y cáº£m, KHÃ”NG chia sáº» cÃ´ng khai.
- Náº¿u há»‡ thá»‘ng bá»‹ xÃ¢m nháº­p, máº­t kháº©u nÃ y cÃ³ thá»ƒ bá»‹ Ä‘Ã¡nh cáº¯p.
- NÃªn xÃ³a hoáº·c Ä‘á»•i máº­t kháº©u sau khi login láº§n Ä‘áº§u.


7. TÃ“M Táº®T
-----------
- `cat` Ä‘á»c file admin.password Ä‘á»ƒ láº¥y máº­t kháº©u máº·c Ä‘á»‹nh admin Nexus.
- File náº±m trong `/opt/nexus/sonatype-work/nexus3/`.
- ThÆ°á»ng chá»‰ dÃ¹ng **má»™t láº§n** khi login web Nexus láº§n Ä‘áº§u.
- Cáº§n quyá»n root hoáº·c user cÃ i Nexus Ä‘á»ƒ Ä‘á»c.
		
		
		- cmd: cd /var/lib/jenkins/
		
Lá»†NH: cd /var/lib/jenkins/
====================================================================

1. cd lÃ  gÃ¬?
--------------------------------------------------------------------
- cd = change directory
- DÃ¹ng Ä‘á»ƒ:
  + Thay Ä‘á»•i thÆ° má»¥c lÃ m viá»‡c hiá»‡n táº¡i trong shell
  + Di chuyá»ƒn giá»¯a cÃ¡c thÆ° má»¥c trÃªn Linux

VÃ­ dá»¥:
- cd /home/user â†’ vÃ o thÆ° má»¥c home cá»§a user
- cd .. â†’ quay lÃªn thÆ° má»¥c cha

--------------------------------------------------------------------

2. /var/lib/jenkins/ lÃ  gÃ¬?
--------------------------------------------------------------------
- ÄÃ¢y lÃ  thÆ° má»¥c CHÃNH cá»§a Jenkins trÃªn Linux
- Chá»©a dá»¯ liá»‡u quan trá»ng nhÆ°:
  + jobs/        : thÃ´ng tin cÃ¡c job Jenkins
  + secrets/     : máº­t kháº©u, token
  + plugins/     : plugin Jenkins Ä‘Ã£ cÃ i
  + workspace/   : workspace cá»§a cÃ¡c job Ä‘ang cháº¡y
  + config.xml   : cáº¥u hÃ¬nh Jenkins toÃ n cá»¥c

- ThÆ° má»¥c nÃ y Ä‘Æ°á»£c táº¡o khi cÃ i Jenkins báº±ng package hoáº·c apt install

--------------------------------------------------------------------

3. Ã nghÄ©a cá»§a lá»‡nh cd /var/lib/jenkins/
--------------------------------------------------------------------
- Di chuyá»ƒn vÃ o thÆ° má»¥c Jenkins
- Chuáº©n bá»‹ thá»±c hiá»‡n thao tÃ¡c:
  + Xem cáº¥u hÃ¬nh
  + Kiá»ƒm tra jobs
  + Sao lÆ°u dá»¯ liá»‡u
  + Debug Jenkins

KHÃ”NG:
- Cháº¡y Jenkins
- CÃ i Ä‘áº·t Jenkins
- Thay Ä‘á»•i dá»¯ liá»‡u tá»± Ä‘á»™ng

--------------------------------------------------------------------

4. Kiá»ƒm tra ná»™i dung thÆ° má»¥c
--------------------------------------------------------------------
Sau khi cd, dÃ¹ng lá»‡nh:

ls -l

â†’ Liá»‡t kÃª táº¥t cáº£ thÆ° má»¥c vÃ  file con, vÃ­ dá»¥:

jobs/
plugins/
secrets/
workspace/
config.xml
nodes/

--------------------------------------------------------------------

5. Quyá»n truy cáº­p
--------------------------------------------------------------------
- /var/lib/jenkins thuá»™c sá»Ÿ há»¯u user: jenkins
- Náº¿u báº¡n lÃ  root hoáº·c dÃ¹ng sudo â†’ full quyá»n
- Náº¿u lÃ  user khÃ¡c â†’ cÃ³ thá»ƒ gáº·p lá»—i permission denied

VÃ­ dá»¥:
sudo -u jenkins ls -l /var/lib/jenkins/

--------------------------------------------------------------------

6. Khi nÃ o cáº§n cd vÃ o Ä‘Ã¢y?
--------------------------------------------------------------------
- Backup Jenkins: tar /var/lib/jenkins/
- Kiá»ƒm tra workspace cá»§a job
- Kiá»ƒm tra plugin
- Debug lá»—i Jenkins

--------------------------------------------------------------------

7. CÃ¡c lá»‡nh liÃªn quan
--------------------------------------------------------------------
pwd
â†’ Hiá»ƒn thá»‹ Ä‘Æ°á»ng dáº«n hiá»‡n táº¡i

ls
â†’ Liá»‡t kÃª file trong thÆ° má»¥c

tree
â†’ Hiá»ƒn thá»‹ cÃ¢y thÆ° má»¥c Jenkins

--------------------------------------------------------------------

8. LÆ°u Ã½ quan trá»ng
--------------------------------------------------------------------
- Thao tÃ¡c trá»±c tiáº¿p trong /var/lib/jenkins/ cÃ³ thá»ƒ áº£nh hÆ°á»Ÿng Jenkins
- TrÃ¡nh xÃ³a file hoáº·c folder náº¿u khÃ´ng biáº¿t chá»©c nÄƒng
- Backup trÆ°á»›c khi thay Ä‘á»•i

--------------------------------------------------------------------

9. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
cd /var/lib/jenkins/ =
DI CHUYá»‚N VÃ€O THÆ¯ Má»¤C CHÃNH Cá»¦A JENKINS Äá»‚ KIá»‚M TRA, BACKUP, HOáº¶C DEBUG
		
		
		- cmd: cd /var/lib/jenkins/workspace
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
cd /var/lib/jenkins/workspace
=================================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    cd /var/lib/jenkins/workspace

ÄÆ°á»£c sá»­ dá»¥ng trÃªn há»‡ Ä‘iá»u hÃ nh Linux Ä‘á»ƒ:
- Thay Ä‘á»•i thÆ° má»¥c lÃ m viá»‡c hiá»‡n táº¡i sang thÆ° má»¥c workspace cá»§a Jenkins
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ thao tÃ¡c, kiá»ƒm tra hoáº·c quáº£n lÃ½ cÃ¡c file project Jenkins
- Thá»±c hiá»‡n cÃ¡c hÃ nh Ä‘á»™ng trong mÃ´i trÆ°á»ng CI/CD


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N Lá»†NH
--------------------------------

2.1. cd
-------
- cd = "change directory"
- DÃ¹ng Ä‘á»ƒ thay Ä‘á»•i thÆ° má»¥c hiá»‡n táº¡i trong terminal
- CÃº phÃ¡p:
    cd <Ä‘Æ°á»ng_dáº«n_thÆ°_má»¥c>

Má»™t sá»‘ vÃ­ dá»¥:
- cd ~           â†’ chuyá»ƒn vá» home user
- cd ..          â†’ chuyá»ƒn lÃªn thÆ° má»¥c cha
- cd /           â†’ chuyá»ƒn Ä‘áº¿n root filesystem


2.2. /var/lib/jenkins/workspace
-------------------------------
- LÃ  Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i (báº¯t Ä‘áº§u báº±ng "/")
- ThÆ° má»¥c workspace cá»§a Jenkins

Ã nghÄ©a tá»«ng pháº§n:
1. /var/lib
   - ThÆ°á»ng chá»©a dá»¯ liá»‡u biáº¿n Ä‘á»™ng cá»§a cÃ¡c dá»‹ch vá»¥
   - VÃ­ dá»¥: database, cache, job data

2. /var/lib/jenkins
   - ThÆ° má»¥c root cá»§a Jenkins trÃªn há»‡ thá»‘ng
   - Chá»©a:
     + jobs/
     + plugins/
     + config.xml
     + secrets/
     + workspace/

3. /var/lib/jenkins/workspace
   - Má»—i job Jenkins khi cháº¡y sáº½ táº¡o thÆ° má»¥c riÃªng trong workspace
   - Workspace chá»©a:
     + Source code pull tá»« SCM (Git, SVN, etc.)
     + Build artifacts táº¡m thá»i
     + CÃ¡c file script, log, output cá»§a job


3. TÃC Dá»¤NG Cá»¦A Lá»†NH
--------------------
Khi cháº¡y lá»‡nh:
    cd /var/lib/jenkins/workspace

- Thay Ä‘á»•i thÆ° má»¥c hiá»‡n táº¡i sang workspace
- Tá»« Ä‘Ã¢y, báº¡n cÃ³ thá»ƒ:
  + Liá»‡t kÃª cÃ¡c thÆ° má»¥c job: ls
  + Truy cáº­p file build: cat, vim
  + Thá»±c hiá»‡n script, kiá»ƒm tra log
  + Debug hoáº·c cháº¡y thá»§ cÃ´ng cÃ¡c command liÃªn quan Jenkins job


4. YÃŠU Cáº¦U QUYá»€N Háº N
--------------------
- ThÆ° má»¥c /var/lib/jenkins thÆ°á»ng thuá»™c user: jenkins
- Náº¿u báº¡n lÃ  user khÃ¡c (vÃ­ dá»¥ root hoáº·c user thÃ´ng thÆ°á»ng):
  + CÃ³ thá»ƒ cáº§n quyá»n sudo Ä‘á»ƒ truy cáº­p
  + Hoáº·c truy cáº­p vá»›i user jenkins

VÃ­ dá»¥:
    sudo su - jenkins
    cd /var/lib/jenkins/workspace


5. KIá»‚M TRA SAU KHI CHUYá»‚N THÆ¯ Má»¤C
----------------------------------
- Xem thÆ° má»¥c hiá»‡n táº¡i:
    pwd
- Liá»‡t kÃª ná»™i dung:
    ls -l
- Kiá»ƒm tra thÆ° má»¥c job cá»¥ thá»ƒ:
    ls -l <job-name>


6. LÆ¯U Ã QUAN TRá»ŒNG
------------------
- KhÃ´ng xÃ³a hoáº·c thay Ä‘á»•i file trong workspace trá»±c tiáº¿p náº¿u Ä‘ang cháº¡y job
- Workspace cÃ³ thá»ƒ bá»‹ Jenkins xÃ³a khi job clean up
- ThÆ° má»¥c nÃ y chá»‰ Ä‘á»ƒ thao tÃ¡c vá»›i source code vÃ  build artifacts táº¡m thá»i


7. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------

7.1. Permission denied
----------------------
NguyÃªn nhÃ¢n:
- User hiá»‡n táº¡i khÃ´ng cÃ³ quyá»n Ä‘á»c/ghi

CÃ¡ch xá»­ lÃ½:
    sudo su - jenkins
    cd /var/lib/jenkins/workspace

7.2. No such file or directory
-------------------------------
NguyÃªn nhÃ¢n:
- Jenkins chÆ°a cÃ i Ä‘áº·t hoáº·c thÆ° má»¥c workspace chÆ°a Ä‘Æ°á»£c táº¡o
- Jenkins home khÃ¡c (xem file /etc/default/jenkins hoáº·c systemd service)


8. TÃ“M Táº®T
----------
- cd: thay Ä‘á»•i thÆ° má»¥c lÃ m viá»‡c hiá»‡n táº¡i
- /var/lib/jenkins/workspace: thÆ° má»¥c workspace cá»§a Jenkins
- NÆ¡i lÆ°u source code vÃ  artifact táº¡m thá»i cá»§a cÃ¡c job Jenkins
- Lá»‡nh dÃ¹ng Ä‘á»ƒ truy cáº­p vÃ  thao tÃ¡c vá»›i cÃ¡c job má»™t cÃ¡ch trá»±c tiáº¿p

Káº¾T LUáº¬N
--------
ÄÃ¢y lÃ  lá»‡nh cÆ¡ báº£n nhÆ°ng quan trá»ng Ä‘á»ƒ quáº£n lÃ½ workspace Jenkins,
dÃ¹ng trong debug, kiá»ƒm tra source code vÃ  build artifacts cá»§a job.
		
		
		- cmd: systemctl restart jenkins
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
systemctl restart jenkins
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥ Jenkins
trÃªn cÃ¡c há»‡ thá»‘ng Linux sá»­ dá»¥ng systemd
(CentOS, RHEL, Ubuntu, Debian, v.v.).

Jenkins lÃ  má»™t automation server phá»• biáº¿n dÃ¹ng cho:
- CI/CD pipeline
- Build vÃ  deploy tá»± Ä‘á»™ng
- Quáº£n lÃ½ job, pipeline, plugin

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. systemctl
--------------------------------------------------
- systemctl lÃ  cÃ´ng cá»¥ quáº£n lÃ½ systemd
- Chá»©c nÄƒng:
  + Khá»Ÿi Ä‘á»™ng/dá»«ng dá»‹ch vá»¥
  + Kiá»ƒm tra tráº¡ng thÃ¡i
  + Reload service
  + Enable/disable dá»‹ch vá»¥ khi boot

Má»™t sá»‘ lá»‡nh phá»• biáº¿n:
--------------------------------------------------
systemctl start <service>      â†’ khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥
systemctl stop <service>       â†’ dá»«ng dá»‹ch vá»¥
systemctl restart <service>    â†’ khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥
systemctl status <service>     â†’ kiá»ƒm tra tráº¡ng thÃ¡i
systemctl enable <service>     â†’ cháº¡y dá»‹ch vá»¥ khi boot
systemctl disable <service>    â†’ táº¯t auto-start

--------------------------------------------------
2.2. restart
--------------------------------------------------
- Tham sá»‘ cá»§a systemctl
- Chá»©c nÄƒng: dá»«ng dá»‹ch vá»¥ náº¿u Ä‘ang cháº¡y, sau Ä‘Ã³ khá»Ÿi Ä‘á»™ng láº¡i ngay
- ThÆ°á»ng dÃ¹ng khi:
  + Cáº¥u hÃ¬nh thay Ä‘á»•i
  + Plugin Jenkins má»›i Ä‘Æ°á»£c cÃ i
  + Dá»‹ch vá»¥ bá»‹ lá»—i

--------------------------------------------------
2.3. jenkins
--------------------------------------------------
- TÃªn dá»‹ch vá»¥ cáº§n restart
- TÆ°Æ¡ng á»©ng vá»›i file unit systemd: jenkins.service
- Quáº£n lÃ½:
  + Jenkins master process
  + JVM
  + CÃ¡c plugin
  + Cá»•ng HTTP/HTTPS (thÆ°á»ng 8080)

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
Khi cháº¡y:
systemctl restart jenkins

Há»‡ thá»‘ng sáº½ thá»±c hiá»‡n:
1. TÃ¬m unit file jenkins.service
2. Náº¿u Jenkins Ä‘ang cháº¡y:
   + systemctl stop jenkins
   + Dá»«ng toÃ n bá»™ process Jenkins
3. Khá»Ÿi Ä‘á»™ng Jenkins láº¡i:
   + systemctl start jenkins
   + Jenkins process má»›i khá»Ÿi Ä‘á»™ng
4. Kiá»ƒm tra tráº¡ng thÃ¡i service
   + Náº¿u khá»Ÿi Ä‘á»™ng thÃ nh cÃ´ng: active (running)
   + Náº¿u lá»—i: inactive/failed

--------------------------------------------------
4. Káº¾T QUáº¢ Äáº¦U RA MáºªU
--------------------------------------------------
Sau khi cháº¡y:
systemctl status jenkins

VÃ­ dá»¥:
--------------------------------------------------
â— jenkins.service - Jenkins Continuous Integration Server
     Loaded: loaded (/etc/systemd/system/jenkins.service; enabled; vendor preset: enabled)
     Active: active (running) since Tue 2025-12-16 18:05:00 +0700; 30s ago
   Main PID: 23456 (java)
      Tasks: 50
     Memory: 400M
     CGroup: /system.slice/jenkins.service
             â””â”€23456 java -jar jenkins.war
--------------------------------------------------

--------------------------------------------------
5. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- KHÃ”NG kill process Jenkins trá»±c tiáº¿p, nÃªn dÃ¹ng systemctl
- Restart cÃ³ thá»ƒ lÃ m:
  + Job Ä‘ang cháº¡y bá»‹ há»§y
  + Pipeline táº¡m dá»«ng
- NÃªn thÃ´ng bÃ¡o trÆ°á»›c khi restart mÃ´i trÆ°á»ng production
- Náº¿u gáº·p lá»—i, kiá»ƒm tra log:
  journalctl -u jenkins -f

--------------------------------------------------
6. QUYá»€N THá»°C THI
--------------------------------------------------
- Cáº§n quyá»n sudo Ä‘á»ƒ restart dá»‹ch vá»¥:
  sudo systemctl restart jenkins

--------------------------------------------------
7. Má»¤C ÄÃCH Sá»¬ Dá»¤NG Lá»†NH
--------------------------------------------------
- Ãp dá»¥ng thay Ä‘á»•i cáº¥u hÃ¬nh Jenkins
- Khá»Ÿi Ä‘á»™ng láº¡i Jenkins sau cÃ i Ä‘áº·t plugin
- Kháº¯c phá»¥c lá»—i hoáº·c treo dá»‹ch vá»¥
- Kiá»ƒm tra tráº¡ng thÃ¡i dá»‹ch vá»¥ sau restart

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
systemctl restart jenkins
= Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥ Jenkins
= DÃ¹ng khi cáº¥u hÃ¬nh/plugin thay Ä‘á»•i hoáº·c dá»‹ch vá»¥ gáº·p sá»± cá»‘
= Process Jenkins cÅ© dá»«ng, process má»›i khá»Ÿi Ä‘á»™ng
= Phá»¥c vá»¥ quáº£n trá»‹ vÃ  báº£o trÃ¬ há»‡ thá»‘ng
==================================================
		
		
		- cmd: sudo snap install aws-cli --classic
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
sudo snap install aws-cli --classic

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- CÃ i Ä‘áº·t AWS CLI (Command Line Interface) trÃªn Linux
- ThÃ´ng qua trÃ¬nh quáº£n lÃ½ gÃ³i Snap
- Sá»­ dá»¥ng cháº¿ Ä‘á»™ â€œclassicâ€ Ä‘á»ƒ cho phÃ©p truy cáº­p Ä‘áº§y Ä‘á»§ vÃ o há»‡ thá»‘ng
- Cho phÃ©p ngÆ°á»i dÃ¹ng thá»±c hiá»‡n cÃ¡c lá»‡nh AWS nhÆ°: s3, ec2, iam, lambda...

Snap:
- Há»‡ thá»‘ng Ä‘Ã³ng gÃ³i á»©ng dá»¥ng cá»§a Canonical (Ubuntu)
- TÆ°Æ¡ng thÃ­ch vá»›i nhiá»u báº£n phÃ¢n phá»‘i Linux
- GÃ³i snap chá»©a táº¥t cáº£ dependency cáº§n thiáº¿t

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. sudo
--------------------------------------------------
sudo = Super User DO
- Cháº¡y lá»‡nh vá»›i quyá»n root
- Cáº§n thiáº¿t vÃ¬ cÃ i Ä‘áº·t pháº§n má»m há»‡ thá»‘ng
- Náº¿u khÃ´ng dÃ¹ng sudo, lá»‡nh sáº½ bÃ¡o lá»—i: permission denied

--------------------------------------------------
2.2. snap
--------------------------------------------------
snap lÃ :
- TrÃ¬nh quáº£n lÃ½ gÃ³i á»©ng dá»¥ng (package manager) trÃªn Linux
- DÃ¹ng Ä‘á»ƒ cÃ i snap package (á»©ng dá»¥ng vÃ  táº¥t cáº£ dependency)
- Snap cÃ i gÃ³i trong /snap hoáº·c /var/snap, khÃ´ng xung Ä‘á»™t vá»›i gÃ³i apt/dnf

--------------------------------------------------
2.3. install
--------------------------------------------------
install = hÃ nh Ä‘á»™ng cÃ i Ä‘áº·t
- Snap sáº½ táº£i gÃ³i aws-cli má»›i nháº¥t tá»« Snap Store
- CÃ i Ä‘áº·t vÃ o há»‡ thá»‘ng, thÃªm binary vÃ o PATH

--------------------------------------------------
2.4. aws-cli
--------------------------------------------------
aws-cli lÃ :
- CÃ´ng cá»¥ dÃ²ng lá»‡nh quáº£n lÃ½ AWS
- Há»— trá»£ AWS v1 hoáº·c v2 (thÆ°á»ng lÃ  v2 vá»›i snap)
- Cho phÃ©p quáº£n lÃ½ dá»‹ch vá»¥ AWS mÃ  khÃ´ng cáº§n truy cáº­p web console

--------------------------------------------------
2.5. --classic
--------------------------------------------------
--classic = cháº¿ Ä‘á»™ cÃ i Ä‘áº·t classic confinement
- Cho phÃ©p snap truy cáº­p Ä‘áº§y Ä‘á»§ há»‡ thá»‘ng
- KhÃ´ng bá»‹ giá»›i háº¡n sandbox (giá»›i háº¡n theo strict confinement)
- Cáº§n thiáº¿t vÃ¬ aws-cli pháº£i:
  + Ghi file cáº¥u hÃ¬nh ~/.aws/
  + Truy cáº­p tá»›i cÃ¡c credential
  + TÆ°Æ¡ng tÃ¡c vá»›i nhiá»u binary khÃ¡c

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. sudo nÃ¢ng quyá»n lÃªn root
2. snap káº¿t ná»‘i Snap Store
3. Táº£i gÃ³i aws-cli
4. CÃ i Ä‘áº·t gÃ³i vÃ o /snap/aws-cli/
5. Táº¡o symlink binary vÃ o /usr/bin/aws hoáº·c PATH
6. AWS CLI sáºµn sÃ ng sá»­ dá»¥ng

--------------------------------------------------
4. KIá»‚M TRA SAU KHI CÃ€I
--------------------------------------------------
Kiá»ƒm tra version:
aws --version

Kiá»ƒm tra cÃ i Ä‘áº·t snap:
snap list | grep aws-cli

--------------------------------------------------
5. CÃC Lá»†NH SNAP LIÃŠN QUAN
--------------------------------------------------
Cáº­p nháº­t:
sudo snap refresh aws-cli

Gá»¡ cÃ i Ä‘áº·t:
sudo snap remove aws-cli

Hiá»ƒn thá»‹ thÃ´ng tin:
snap info aws-cli

--------------------------------------------------
6. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

6.1. Snap chÆ°a cÃ i
--------------------------------------------------
Lá»—i:
snap: command not found

CÃ i snap:
sudo apt install snapd -y

6.2. KhÃ´ng Ä‘á»§ quyá»n
--------------------------------------------------
Lá»—i:
permission denied

Giáº£i phÃ¡p:
- Cháº¡y vá»›i sudo

6.3. PATH khÃ´ng nháº­n binary
--------------------------------------------------
- Má»Ÿ terminal má»›i hoáº·c source ~/.bashrc
- Kiá»ƒm tra: which aws

--------------------------------------------------
7. Cáº¢NH BÃO
--------------------------------------------------
- Snap install --classic = full access
- TrÃ¡nh cÃ i gÃ³i khÃ´ng tin cáº­y vá»›i classic confinement
- AWS CLI lÆ°u credential trong ~/.aws/credentials â†’ báº£o máº­t

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
sudo snap install aws-cli --classic

= CÃ i Ä‘áº·t AWS CLI báº±ng snap
= Cháº¡y vá»›i quyá»n root
= DÃ¹ng cháº¿ Ä‘á»™ classic Ä‘á»ƒ full access
= Cho phÃ©p quáº£n lÃ½ AWS tá»« terminal
= Snap tá»± Ä‘á»™ng quáº£n lÃ½ dependency
		
		
		- cmd:  # Add Docker's official GPG key:
				sudo apt-get update
				sudo apt-get install ca-certificates curl
				sudo install -m 0755 -d /etc/apt/keyrings
				sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc
				sudo chmod a+r /etc/apt/keyrings/docker.asc

				# Add the repository to Apt sources:
				echo \
				  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \
				  $(. /etc/os-release && echo "${UBUNTU_CODENAME:-$VERSION_CODENAME}") stable" | \
				  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
				sudo apt-get update
		
Lá»†NH: ThÃªm Docker Repository vÃ  GPG key trÃªn Ubuntu
====================================================

1. Má»¤C ÄÃCH
----------
CÃ¡c lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ thÃªm repository chÃ­nh thá»©c cá»§a Docker vÃ o há»‡ thá»‘ng Ubuntu
vÃ  cáº¥u hÃ¬nh GPG key Ä‘á»ƒ Ä‘áº£m báº£o cÃ¡c gÃ³i Docker Ä‘Æ°á»£c cÃ i Ä‘áº·t tá»« nguá»“n Ä‘Ã¡ng tin cáº­y.
Sau Ä‘Ã³, há»‡ thá»‘ng cÃ³ thá»ƒ cÃ i Docker CE/EE qua apt.

CÃ¡c bÆ°á»›c chÃ­nh:
- ThÃªm GPG key cá»§a Docker
- Táº¡o thÆ° má»¥c keyrings náº¿u chÆ°a cÃ³
- ThÃªm Docker repository vÃ o apt sources
- Cáº­p nháº­t danh sÃ¡ch gÃ³i apt


2. CÃC Lá»†NH CHI TIáº¾T
-------------------

# 1. Cáº­p nháº­t danh sÃ¡ch gÃ³i apt
sudo apt-get update

# 2. CÃ i cÃ¡c gÃ³i há»— trá»£
sudo apt-get install ca-certificates curl -y
- ca-certificates : Há»— trá»£ HTTPS/SSL
- curl            : DÃ¹ng Ä‘á»ƒ download file tá»« URL

# 3. Táº¡o thÆ° má»¥c chá»©a keyrings
sudo install -m 0755 -d /etc/apt/keyrings
- -m 0755         : Quyá»n thÆ° má»¥c (rwxr-xr-x)
- -d              : Táº¡o thÆ° má»¥c náº¿u chÆ°a tá»“n táº¡i
- /etc/apt/keyrings: ThÆ° má»¥c lÆ°u GPG key apt

# 4. Táº£i Docker GPG key
sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc
- -f : Fail silently náº¿u lá»—i
- -s : Silent mode
- -S : Show error náº¿u cÃ³
- -L : Follow redirect
- -o : Ghi file ra /etc/apt/keyrings/docker.asc

# 5. Cáº¥p quyá»n Ä‘á»c cho táº¥t cáº£ user
sudo chmod a+r /etc/apt/keyrings/docker.asc


# 6. ThÃªm Docker repository vÃ o apt sources
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \
  $(. /etc/os-release && echo "${UBUNTU_CODENAME:-$VERSION_CODENAME}") stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

Giáº£i thÃ­ch chi tiáº¿t:
- deb                   : Loáº¡i repository
- [arch=$(dpkg --print-architecture) ...] : Chá»‰ Ä‘á»‹nh kiáº¿n trÃºc CPU hiá»‡n táº¡i (amd64, arm64â€¦)
- signed-by=/etc/apt/keyrings/docker.asc : DÃ¹ng GPG key Ä‘á»ƒ xÃ¡c thá»±c gÃ³i
- URL repository        : https://download.docker.com/linux/ubuntu
- $(. /etc/os-release && echo "${UBUNTU_CODENAME:-$VERSION_CODENAME}") : Láº¥y codename Ubuntu (focal, jammyâ€¦)
- stable                : KÃªnh stable cá»§a Docker
- tee /etc/apt/sources.list.d/docker.list : Ghi vÃ o file sources.list.d
- > /dev/null           : KhÃ´ng hiá»ƒn thá»‹ output ra terminal


# 7. Cáº­p nháº­t láº¡i danh sÃ¡ch gÃ³i apt
sudo apt-get update
- Cáº­p nháº­t apt index Ä‘á»ƒ nháº­n diá»‡n gÃ³i Docker má»›i tá»« repository vá»«a thÃªm


3. LÆ¯U Ã QUAN TRá»ŒNG
-------------------
- Cáº§n quyá»n root (sudo) Ä‘á»ƒ thÃªm repository vÃ  GPG key
- ThÆ° má»¥c /etc/apt/keyrings pháº£i cÃ³ quyá»n Ä‘á»c cho apt
- Kiá»ƒm tra Ä‘Ãºng codename Ubuntu Ä‘á»ƒ trÃ¡nh lá»—i repository khÃ´ng tÃ¬m tháº¥y
- Sau bÆ°á»›c nÃ y, cÃ³ thá»ƒ cÃ i Docker CE/EE báº±ng:
  sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin -y


4. TÃ“M Táº®T
-----------
- CÃ¡c lá»‡nh trÃªn thiáº¿t láº­p repository chÃ­nh thá»©c cá»§a Docker trÃªn Ubuntu
- Báº£o Ä‘áº£m GPG key an toÃ n cho apt
- Cho phÃ©p cÃ i Docker qua apt má»™t cÃ¡ch chÃ­nh thá»‘ng vÃ  á»•n Ä‘á»‹nh
- ThÆ°á»ng dÃ¹ng trong cÃ i Ä‘áº·t Docker má»›i trÃªn Ubuntu hoáº·c trong automation/CI-CD
		
		
		- cmd: sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
		
Lá»†NH: sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
====================================================================

1. sudo lÃ  gÃ¬?
--------------------------------------------------------------------
- sudo (superuser do) cho phÃ©p cháº¡y lá»‡nh vá»›i quyá»n root
- Cáº§n quyá»n root Ä‘á»ƒ cÃ i Docker vÃ¬ liÃªn quan Ä‘áº¿n kernel vÃ  service há»‡ thá»‘ng

--------------------------------------------------------------------

2. apt-get lÃ  gÃ¬?
--------------------------------------------------------------------
- apt-get lÃ  trÃ¬nh quáº£n lÃ½ gÃ³i trÃªn Debian/Ubuntu
- DÃ¹ng Ä‘á»ƒ:
  + CÃ i Ä‘áº·t package
  + Gá»¡ package
  + Cáº­p nháº­t há»‡ thá»‘ng

--------------------------------------------------------------------

3. install nghÄ©a lÃ  gÃ¬?
--------------------------------------------------------------------
- install = cÃ i Ä‘áº·t package vÃ o há»‡ thá»‘ng
- Tá»± Ä‘á»™ng:
  + Táº£i package
  + Giáº£i quyáº¿t dependency
  + Cáº¥u hÃ¬nh package

--------------------------------------------------------------------

4. Giáº£i thÃ­ch cÃ¡c package cÃ i
--------------------------------------------------------------------

4.1 docker-ce
--------------------------------------------------------------------
- Docker CE = Docker Community Edition
- ÄÃ¢y lÃ  engine chÃ­nh cá»§a Docker
- DÃ¹ng Ä‘á»ƒ:
  + Cháº¡y container
  + Build image
  + Quáº£n lÃ½ container runtime

--------------------------------------------------------------------

4.2 docker-ce-cli
--------------------------------------------------------------------
- CLI = Command Line Interface
- DÃ¹ng Ä‘á»ƒ:
  + Cháº¡y lá»‡nh docker (docker run, docker ps, docker buildâ€¦)
- TÃ¡ch riÃªng CLI Ä‘á»ƒ cÃ³ thá»ƒ upgrade Ä‘á»™c láº­p

--------------------------------------------------------------------

4.3 containerd.io
--------------------------------------------------------------------
- containerd = container runtime
- DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ vÃ²ng Ä‘á»i container:
  + Pull image
  + Create container
  + Start / Stop container
- Docker CE dá»±a vÃ o containerd Ä‘á»ƒ cháº¡y container

--------------------------------------------------------------------

4.4 docker-buildx-plugin
--------------------------------------------------------------------
- Buildx lÃ  plugin nÃ¢ng cao cá»§a docker build
- Há»— trá»£:
  + Multi-platform build (Linux/Windows/ARM)
  + BuildKit
  + Export image trá»±c tiáº¿p
- ThÆ°á»ng dÃ¹ng trong CI/CD pipeline

--------------------------------------------------------------------

4.5 docker-compose-plugin
--------------------------------------------------------------------
- Thay tháº¿ docker-compose cÅ©
- DÃ¹ng Ä‘á»ƒ cháº¡y multi-container stack
- Lá»‡nh tÆ°Æ¡ng á»©ng:
  docker compose up/down
- KhÃ´ng cáº§n cÃ i thÃªm docker-compose pip package

--------------------------------------------------------------------

5. Quy trÃ¬nh lá»‡nh thá»±c hiá»‡n
--------------------------------------------------------------------
1) sudo apt-get install â€¦ 
   â†’ apt-get kiá»ƒm tra danh sÃ¡ch package vÃ  dependency
2) Táº£i package tá»« repository Docker
3) CÃ i Ä‘áº·t cÃ¡c package
4) Táº¡o service docker:
   - docker.service
   - docker.socket
5) Enable docker cháº¡y cÃ¹ng há»‡ thá»‘ng

--------------------------------------------------------------------

6. Kiá»ƒm tra sau khi cÃ i
--------------------------------------------------------------------
- Kiá»ƒm tra Docker version:
  docker --version
  docker compose version
- Kiá»ƒm tra service Docker:
  systemctl status docker
- Cháº¡y container thá»­:
  docker run hello-world

--------------------------------------------------------------------

7. Äiá»u kiá»‡n Ä‘á»ƒ cÃ i thÃ nh cÃ´ng
--------------------------------------------------------------------
- Há»‡ Ä‘iá»u hÃ nh:
  Ubuntu 20.04, 22.04, Debian 10/11
- ThÃªm Docker repository chÃ­nh thá»©c
- Cáº­p nháº­t apt cache trÆ°á»›c:
  sudo apt-get update
- Quyá»n root

--------------------------------------------------------------------

8. CÃ¡c lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------

8.1 Unable to locate package
--------------------------------------------------------------------
- ChÆ°a add Docker repository
- ChÆ°a apt-get update

8.2 Permission denied khi cháº¡y docker
--------------------------------------------------------------------
- ThÃªm user vÃ o group docker:
  sudo usermod -aG docker $USER

8.3 Old versions conflict
--------------------------------------------------------------------
- Náº¿u cÃ i docker cÅ©:
  sudo apt-get remove docker docker-engine docker.io containerd runc

--------------------------------------------------------------------

9. So sÃ¡nh docker-ce vs docker-ee
--------------------------------------------------------------------
- CE = Community Edition (miá»…n phÃ­)
- EE = Enterprise Edition (cÃ³ license, há»— trá»£ lÃ¢u dÃ i)

--------------------------------------------------------------------

10. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin =
CÃ€I Äáº¶T Äáº¦Y Äá»¦ DOCKER COMMUNITY EDITION, CLI, RUNTIME, BUILD PLUGIN VÃ€ COMPOSE PLUGIN TRÃŠN Há»† THá»NG
		
		
		- cmd: systemctl status docker
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
systemctl status docker
========================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    systemctl status docker

ÄÆ°á»£c sá»­ dá»¥ng trÃªn há»‡ Ä‘iá»u hÃ nh Linux sá»­ dá»¥ng systemd Ä‘á»ƒ:
- Kiá»ƒm tra tráº¡ng thÃ¡i hoáº¡t Ä‘á»™ng cá»§a dá»‹ch vá»¥ Docker
- Xem Docker daemon cÃ³ Ä‘ang cháº¡y hay khÃ´ng
- Xem thÃ´ng tin tiáº¿n trÃ¬nh, log gáº§n nháº¥t vÃ  cÃ¡c lá»—i liÃªn quan Ä‘áº¿n Docker

Má»¥c Ä‘Ã­ch chÃ­nh:
â†’ Cháº©n Ä‘oÃ¡n vÃ  kiá»ƒm tra tÃ¬nh tráº¡ng Docker service trÃªn há»‡ thá»‘ng


2. GIá»šI THIá»†U systemctl VÃ€ systemd
----------------------------------

2.1. systemd lÃ  gÃ¬?
-------------------
- systemd lÃ  há»‡ thá»‘ng quáº£n lÃ½ dá»‹ch vá»¥ (init system) trÃªn Linux hiá»‡n Ä‘áº¡i
- Quáº£n lÃ½:
  + Service
  + Socket
  + Mount
  + Timer
  + Target
- Thay tháº¿ cho SysVinit cÅ©


2.2. systemctl lÃ  gÃ¬?
---------------------
- systemctl lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ lÃ m viá»‡c vá»›i systemd
- DÃ¹ng Ä‘á»ƒ:
  + Start / Stop service
  + Restart service
  + Enable / Disable service
  + Xem tráº¡ng thÃ¡i service


3. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N Lá»†NH
--------------------------------

3.1. systemctl
--------------
- CÃ´ng cá»¥ quáº£n lÃ½ service cá»§a systemd
- Gá»­i yÃªu cáº§u tá»›i systemd Ä‘á»ƒ truy váº¥n hoáº·c Ä‘iá»u khiá»ƒn service


3.2. status
-----------
- status lÃ  hÃ nh Ä‘á»™ng yÃªu cáº§u systemd:
  + Hiá»ƒn thá»‹ tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a service
  + Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t, khÃ´ng chá»‰ lÃ  running hay stopped

CÃº phÃ¡p chung:
    systemctl status <service-name>


3.3. docker
------------
- TÃªn service Docker daemon
- TÆ°Æ¡ng á»©ng vá»›i file:
    /lib/systemd/system/docker.service
hoáº·c:
    /etc/systemd/system/docker.service

Service nÃ y quáº£n lÃ½:
- Docker daemon (dockerd)
- Quáº£n lÃ½ container, image, network, volume


4. Káº¾T QUáº¢ HIá»‚N THá»Š Cá»¦A Lá»†NH
---------------------------

4.1. Tráº¡ng thÃ¡i tá»•ng quÃ¡t
------------------------
VÃ­ dá»¥:
    Active: active (running)
    Active: inactive (dead)
    Active: failed

Ã nghÄ©a:
- active (running) : Docker daemon Ä‘ang cháº¡y bÃ¬nh thÆ°á»ng
- inactive (dead)  : Docker daemon Ä‘Ã£ dá»«ng
- failed           : Docker daemon gáº·p lá»—i khi khá»Ÿi Ä‘á»™ng


4.2. ThÃ´ng tin service
---------------------
- Loaded:
  + Service cÃ³ Ä‘Æ°á»£c load hay khÃ´ng
  + CÃ³ enable khá»Ÿi Ä‘á»™ng cÃ¹ng há»‡ thá»‘ng hay khÃ´ng
- Main PID:
  + PID cá»§a tiáº¿n trÃ¬nh dockerd chÃ­nh
- Tasks:
  + Sá»‘ thread/process Docker daemon Ä‘ang sá»­ dá»¥ng
- Memory & CPU:
  + Dung lÆ°á»£ng RAM vÃ  CPU Docker daemon tiÃªu thá»¥


4.3. Log gáº§n nháº¥t
----------------
- Hiá»ƒn thá»‹ vÃ i dÃ²ng log Docker má»›i nháº¥t
- GiÃºp phÃ¡t hiá»‡n lá»—i nhanh:
  + Docker daemon khÃ´ng khá»Ÿi Ä‘á»™ng
  + Lá»—i network
  + Lá»—i permission
  + Lá»—i storage driver


5. TRÆ¯á»œNG Há»¢P Sá»¬ Dá»¤NG THá»°C Táº¾
-----------------------------
- Docker khÃ´ng khá»Ÿi Ä‘á»™ng Ä‘Æ°á»£c
- Container khÃ´ng cháº¡y
- Kiá»ƒm tra sau khi reboot server
- Kiá»ƒm tra sau khi cÃ i Ä‘áº·t Docker má»›i


6. CÃC Lá»†NH LIÃŠN QUAN THÆ¯á»œNG DÃ™NG
--------------------------------
Start Docker:
    systemctl start docker

Stop Docker:
    systemctl stop docker

Restart Docker:
    systemctl restart docker

Enable Docker khá»Ÿi Ä‘á»™ng cÃ¹ng há»‡ thá»‘ng:
    systemctl enable docker

Disable Docker:
    systemctl disable docker


7. YÃŠU Cáº¦U QUYá»€N Háº N
--------------------
- ThÆ°á»ng cáº§n quyá»n root hoáº·c sudo

CÃ¡ch cháº¡y:
    sudo systemctl status docker

LÆ°u Ã½:
- Má»™t sá»‘ há»‡ thá»‘ng cho phÃ©p user thÆ°á»ng xem status
- NhÆ°ng khÃ´ng Ä‘Æ°á»£c start/stop náº¿u khÃ´ng cÃ³ quyá»n


8. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------

8.1. Unit docker.service could not be found
-------------------------------------------
NguyÃªn nhÃ¢n:
- Docker chÆ°a Ä‘Æ°á»£c cÃ i Ä‘áº·t
- Service tÃªn khÃ¡c

CÃ¡ch xá»­ lÃ½:
    systemctl list-units | grep docker
    systemctl list-unit-files | grep docker


8.2. Docker failed
------------------
NguyÃªn nhÃ¢n phá»• biáº¿n:
- Storage driver lá»—i
- Port 2375/2376 bá»‹ chiáº¿m
- KhÃ´ng Ä‘á»§ RAM
- File permission sai

CÃ¡ch kiá»ƒm tra sÃ¢u hÆ¡n:
    journalctl -u docker


9. TÃ“M Táº®T
----------
- systemctl status docker dÃ¹ng Ä‘á»ƒ kiá»ƒm tra tráº¡ng thÃ¡i Docker daemon
- KhÃ´ng lÃ m thay Ä‘á»•i tráº¡ng thÃ¡i service
- Hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ thÃ´ng tin vÃ  log gáº§n nháº¥t
- LÃ  lá»‡nh cÆ¡ báº£n vÃ  quan trá»ng trong váº­n hÃ nh Docker


Káº¾T LUáº¬N
--------
ÄÃ¢y lÃ  lá»‡nh kiá»ƒm tra tÃ¬nh tráº¡ng Docker service nhanh chÃ³ng,
cá»±c ká»³ há»¯u Ã­ch trong quáº£n trá»‹ há»‡ thá»‘ng, debug container vÃ  CI/CD.
		
		
		- cmd: docker images
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
docker images
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ liá»‡t kÃª táº¥t cáº£ cÃ¡c Docker image
Ä‘ang cÃ³ trÃªn mÃ¡y local.

Docker image lÃ  template dÃ¹ng Ä‘á»ƒ táº¡o container:
- Chá»©a há»‡ Ä‘iá»u hÃ nh, thÆ° viá»‡n, á»©ng dá»¥ng
- Immutable (khÃ´ng thay Ä‘á»•i)
- DÃ¹ng Ä‘á»ƒ deploy container nhanh chÃ³ng

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. docker
--------------------------------------------------
- docker lÃ  cÃ´ng cá»¥ CLI Ä‘á»ƒ quáº£n lÃ½ Docker
- DÃ¹ng Ä‘á»ƒ:
  + Quáº£n lÃ½ image
  + Quáº£n lÃ½ container
  + Quáº£n lÃ½ network, volume
  + Xem logs, inspect container

--------------------------------------------------
2.2. images
--------------------------------------------------
- Lá»‡nh con cá»§a docker
- Chá»©c nÄƒng: liá»‡t kÃª táº¥t cáº£ image cÃ³ trÃªn local

CÃ¡c thÃ´ng tin hiá»ƒn thá»‹:
- REPOSITORY : tÃªn image
- TAG        : tag/version cá»§a image
- IMAGE ID   : ID duy nháº¥t cá»§a image
- CREATED    : ngÃ y táº¡o image
- SIZE       : dung lÆ°á»£ng image

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
Khi cháº¡y:
docker images

Docker sáº½:
1. Liá»‡t kÃª táº¥t cáº£ image Ä‘Ã£ táº£i vá» hoáº·c build trÃªn local
2. Hiá»ƒn thá»‹ thÃ´ng tin dáº¡ng báº£ng:
   + REPOSITORY
   + TAG
   + IMAGE ID
   + CREATED
   + SIZE

--------------------------------------------------
4. Káº¾T QUáº¢ Äáº¦U RA MáºªU
--------------------------------------------------
VÃ­ dá»¥:
--------------------------------------------------
REPOSITORY          TAG       IMAGE ID       CREATED        SIZE
ubuntu              22.04     2a4cca5ac898   2 weeks ago    77MB
nginx               latest    f35646e83998   3 weeks ago    142MB
myapp               v1        a1b2c3d4e5f6   5 days ago     350MB
--------------------------------------------------

Giáº£i thÃ­ch:
- REPOSITORY: tÃªn image (vd: ubuntu, nginx, myapp)
- TAG: phiÃªn báº£n hoáº·c tag cá»¥ thá»ƒ (vd: latest, 22.04, v1)
- IMAGE ID: ID duy nháº¥t cá»§a image
- CREATED: ngÃ y táº¡o hoáº·c táº£i image
- SIZE: dung lÆ°á»£ng chiáº¿m trÃªn disk

--------------------------------------------------
5. CÃC OPTION PHá»” BIáº¾N
--------------------------------------------------
- docker images -a        â†’ hiá»ƒn thá»‹ táº¥t cáº£ image, bao gá»“m intermediate layers
- docker images --digests â†’ hiá»ƒn thá»‹ digest cá»§a image
- docker images --filter "dangling=true" â†’ hiá»ƒn thá»‹ image khÃ´ng Ä‘Æ°á»£c tag

--------------------------------------------------
6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Kiá»ƒm tra image Ä‘Ã£ táº£i vá» hay chÆ°a
- Kiá»ƒm tra size image
- Quáº£n lÃ½ image: xÃ³a image khÃ´ng cáº§n thiáº¿t
- Kiá»ƒm tra version/tag trÆ°á»›c khi run container

--------------------------------------------------
7. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- Image chiáº¿m dung lÆ°á»£ng trÃªn disk â†’ cáº§n quáº£n lÃ½
- XÃ³a image:
  docker rmi <IMAGE ID> hoáº·c docker rmi <REPOSITORY>:<TAG>
- Image khÃ´ng tá»“n táº¡i â†’ khÃ´ng thá»ƒ run container

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
docker images
= Liá»‡t kÃª táº¥t cáº£ Docker image trÃªn local
= Hiá»ƒn thá»‹ REPOSITORY, TAG, IMAGE ID, CREATED, SIZE
= Há»¯u Ã­ch Ä‘á»ƒ kiá»ƒm tra vÃ  quáº£n lÃ½ image
==================================================
		
		
		- cmd: su - jenkins
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
su - jenkins

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Chuyá»ƒn Ä‘á»•i ngÆ°á»i dÃ¹ng hiá»‡n táº¡i sang user "jenkins"
- Táº£i mÃ´i trÆ°á»ng cá»§a user "jenkins" nhÆ° khi Ä‘Äƒng nháº­p trá»±c tiáº¿p
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c lá»‡nh Jenkins cáº§n quyá»n cá»§a user jenkins
- Äáº£m báº£o cÃ¡c file dá»¯ liá»‡u Jenkins Ä‘Æ°á»£c truy cáº­p Ä‘Ãºng quyá»n sá»Ÿ há»¯u

Ãp dá»¥ng:
- Linux/Unix
- Khi cáº§n quáº£n lÃ½ Jenkins tá»« terminal
- User jenkins thÆ°á»ng lÃ  user há»‡ thá»‘ng do Jenkins táº¡o ra khi cÃ i Ä‘áº·t

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. su
--------------------------------------------------
su = switch user
- Chuyá»ƒn Ä‘á»•i tá»« user hiá»‡n táº¡i sang user khÃ¡c
- Náº¿u khÃ´ng chá»‰ Ä‘á»‹nh user, máº·c Ä‘á»‹nh chuyá»ƒn sang root

Cháº¿ Ä‘á»™ hoáº¡t Ä‘á»™ng:
- Náº¿u cÃ³ "-", su táº£i mÃ´i trÆ°á»ng login shell cá»§a user
- Náº¿u khÃ´ng cÃ³ "-", mÃ´i trÆ°á»ng hiá»‡n táº¡i váº«n giá»¯ nguyÃªn

--------------------------------------------------
2.2. -
--------------------------------------------------
- Dáº¥u "-" sau su nghÄ©a lÃ  "login shell"
- Táº£i toÃ n bá»™ biáº¿n mÃ´i trÆ°á»ng, PATH, HOME, shell cá»§a user "jenkins"
- TÆ°Æ¡ng tá»± nhÆ° Ä‘Äƒng nháº­p trá»±c tiáº¿p báº±ng user jenkins

Náº¿u bá» "-", chá»‰ chuyá»ƒn user mÃ  khÃ´ng thay Ä‘á»•i mÃ´i trÆ°á»ng

--------------------------------------------------
2.3. jenkins
--------------------------------------------------
- User há»‡ thá»‘ng do Jenkins cÃ i Ä‘áº·t
- Quyá»n háº¡n chá»§ yáº¿u:
  + Quáº£n lÃ½ file Jenkins
  + Cháº¡y service Jenkins
  + ThÆ°á»ng khÃ´ng pháº£i root
- Home directory: /var/lib/jenkins (thÆ°á»ng)
- Shell máº·c Ä‘á»‹nh: /bin/bash hoáº·c /bin/sh

--------------------------------------------------
3. Má»¤C ÄÃCH THÆ¯á»œNG DÃ™NG
--------------------------------------------------
- Thá»±c hiá»‡n lá»‡nh quáº£n lÃ½ Jenkins:
  + start/stop service
  + kiá»ƒm tra log
  + cÃ i plugin
- TrÃ¡nh cháº¡y lá»‡nh vá»›i root Ä‘á»ƒ báº£o máº­t
- Äáº£m báº£o quyá»n file Ä‘Ãºng khi thao tÃ¡c Jenkins

--------------------------------------------------
4. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. su yÃªu cáº§u nháº­p máº­t kháº©u cá»§a user jenkins (náº¿u khÃ´ng pháº£i root)
2. Náº¿u Ä‘Ãºng:
   - Shell chuyá»ƒn sang user jenkins
   - PATH, HOME, shell Ä‘Æ°á»£c load
3. Prompt thay Ä‘á»•i Ä‘á»ƒ pháº£n Ã¡nh user hiá»‡n táº¡i
4. CÃ¡c lá»‡nh tiáº¿p theo cháº¡y dÆ°á»›i quyá»n user jenkins

--------------------------------------------------
5. KIá»‚M TRA USER HIá»†N Táº I
--------------------------------------------------
Sau khi su - jenkins:

whoami
- Káº¿t quáº£: jenkins

id
- Hiá»ƒn thá»‹ UID, GID, groups cá»§a user jenkins

--------------------------------------------------
6. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

6.1. Authentication failure
--------------------------------------------------
NguyÃªn nhÃ¢n:
- KhÃ´ng nháº­p Ä‘Ãºng máº­t kháº©u user jenkins
- User jenkins khÃ´ng cÃ³ password (thÆ°á»ng trÃªn há»‡ thá»‘ng Jenkins service)

Giáº£i phÃ¡p:
- Náº¿u root, su - jenkins khÃ´ng cáº§n máº­t kháº©u
- sudo su - jenkins

6.2. User jenkins khÃ´ng tá»“n táº¡i
--------------------------------------------------
Lá»—i:
su: user jenkins does not exist

Giáº£i phÃ¡p:
- Kiá»ƒm tra user: cat /etc/passwd | grep jenkins

--------------------------------------------------
7. Cáº¢NH BÃO
--------------------------------------------------
- KhÃ´ng dÃ¹ng su root náº¿u khÃ´ng cáº§n
- TrÃ¡nh thay Ä‘á»•i file Jenkins ngoÃ i quyá»n cá»§a user jenkins
- DÃ¹ng su - jenkins Ä‘á»ƒ Ä‘áº£m báº£o hoáº¡t Ä‘á»™ng Jenkins á»•n Ä‘á»‹nh

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
su - jenkins

= Chuyá»ƒn sang user jenkins
= Táº£i Ä‘áº§y Ä‘á»§ mÃ´i trÆ°á»ng login
= Thá»±c hiá»‡n lá»‡nh Jenkins vá»›i quyá»n Ä‘Ãºng
= Báº£o vá»‡ file vÃ  dá»¯ liá»‡u Jenkins
= TrÃ¡nh dÃ¹ng root trá»±c tiáº¿p náº¿u khÃ´ng cáº§n
		
		
		- cmd: usermod -a -G docker jenkins
		
Lá»†NH: usermod -a -G docker jenkins
==================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh `usermod -a -G docker jenkins` dÃ¹ng Ä‘á»ƒ thÃªm user `jenkins` vÃ o
group `docker` trÃªn há»‡ thá»‘ng Linux.

Má»¥c Ä‘Ã­ch:
- Cho phÃ©p user `jenkins` cháº¡y cÃ¡c lá»‡nh Docker mÃ  khÃ´ng cáº§n sudo
- ThÆ°á»ng dÃ¹ng trong mÃ´i trÆ°á»ng CI/CD, vÃ­ dá»¥ Jenkins pipeline cáº§n build/run container


2. Cáº¤U TRÃšC Lá»†NH
----------------
usermod -a -G <group> <user>

Ãp dá»¥ng thá»±c táº¿:
usermod -a -G docker jenkins

Giáº£i thÃ­ch tá»«ng thÃ nh pháº§n:
- usermod       : Command dÃ¹ng Ä‘á»ƒ thay Ä‘á»•i thÃ´ng tin user
- -a            : Append, thÃªm user vÃ o nhÃ³m, khÃ´ng xÃ³a cÃ¡c nhÃ³m hiá»‡n táº¡i
- -G docker     : Chá»‰ Ä‘á»‹nh nhÃ³m bá»• sung (secondary group)
- jenkins       : TÃªn user cáº§n chá»‰nh sá»­a


3. CHI TIáº¾T HOáº T Äá»˜NG
--------------------

1. Kiá»ƒm tra user `jenkins` hiá»‡n táº¡i thuá»™c nhÃ³m nÃ o:
   groups jenkins

2. Cháº¡y lá»‡nh usermod:
   - Lá»‡nh nÃ y chá»‰ thay Ä‘á»•i cáº¥u hÃ¬nh nhÃ³m trong /etc/group
   - User váº«n cáº§n Ä‘Äƒng xuáº¥t vÃ  Ä‘Äƒng nháº­p láº¡i Ä‘á»ƒ thay Ä‘á»•i cÃ³ hiá»‡u lá»±c

3. Kiá»ƒm tra láº¡i sau khi thÃªm:
   groups jenkins
   - Káº¿t quáº£ pháº£i cÃ³ `docker` trong danh sÃ¡ch nhÃ³m


4. LÆ¯U Ã QUAN TRá»ŒNG
-------------------
- Náº¿u khÃ´ng dÃ¹ng `-a`:
  - User sáº½ bá»‹ xÃ³a khá»i táº¥t cáº£ nhÃ³m cÅ©, chá»‰ cÃ²n nhÃ³m má»›i
  - CÃ³ thá»ƒ gÃ¢y máº¥t quyá»n truy cáº­p vÃ o cÃ¡c tÃ i nguyÃªn khÃ¡c

- ThÆ°á»ng cáº§n quyá»n root hoáº·c sudo:
  sudo usermod -a -G docker jenkins

- Sau khi thÃªm vÃ o nhÃ³m docker:
  - User cáº§n logout/login láº¡i Ä‘á»ƒ thay Ä‘á»•i cÃ³ hiá»‡u lá»±c
  - TrÃªn Jenkins agent: cáº§n restart agent service náº¿u dÃ¹ng daemon


5. VÃ Dá»¤ Sá»¬ Dá»¤NG THá»°C Táº¾
------------------------
- Cho phÃ©p Jenkins build/run Docker container:
  sudo usermod -a -G docker jenkins
  # Logout/login láº¡i hoáº·c restart Jenkins agent
  docker ps
  # KhÃ´ng cáº§n sudo, tháº¥y danh sÃ¡ch container Ä‘ang cháº¡y


6. TÃ“M Táº®T
-----------
- Lá»‡nh dÃ¹ng Ä‘á»ƒ thÃªm user `jenkins` vÃ o nhÃ³m `docker`
- Cho phÃ©p user cháº¡y lá»‡nh Docker khÃ´ng cáº§n sudo
- DÃ¹ng `-a` Ä‘á»ƒ trÃ¡nh máº¥t quyá»n nhÃ³m khÃ¡c
- ThÆ°á»ng Ã¡p dá»¥ng trong CI/CD pipeline hoáº·c mÃ´i trÆ°á»ng developer
		
		
		- cmd: id jenkins
		
Lá»†NH: id jenkins
====================================================================

1. id lÃ  gÃ¬?
--------------------------------------------------------------------
- id lÃ  lá»‡nh Linux dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin vá» user hoáº·c group
- ThÃ´ng tin hiá»ƒn thá»‹:
  + UID (User ID)
  + GID (Group ID)
  + CÃ¡c nhÃ³m mÃ  user thuá»™c vá»

--------------------------------------------------------------------

2. jenkins lÃ  gÃ¬?
--------------------------------------------------------------------
- jenkins lÃ  user há»‡ thá»‘ng Ä‘Æ°á»£c táº¡o khi cÃ i Jenkins trÃªn Linux
- User nÃ y thÆ°á»ng dÃ¹ng Ä‘á»ƒ cháº¡y service Jenkins
- Má»¥c Ä‘Ã­ch:
  + Isolate Jenkins khá»i cÃ¡c user khÃ¡c
  + Quáº£n lÃ½ quyá»n file, thÆ° má»¥c /var/lib/jenkins

--------------------------------------------------------------------

3. Ã nghÄ©a cá»§a lá»‡nh id jenkins
--------------------------------------------------------------------
- Hiá»ƒn thá»‹ thÃ´ng tin UID, GID vÃ  group cá»§a user jenkins
- DÃ¹ng Ä‘á»ƒ:
  + Kiá»ƒm tra quyá»n
  + Debug lá»—i permission khi Jenkins cháº¡y job
  + XÃ¡c Ä‘á»‹nh nhÃ³m vÃ  owner cá»§a file

KHÃ”NG:
- KhÃ´ng thay Ä‘á»•i quyá»n
- KhÃ´ng táº¡o user
- KhÃ´ng restart Jenkins

--------------------------------------------------------------------

4. Káº¿t quáº£ output vÃ­ dá»¥
--------------------------------------------------------------------
VÃ­ dá»¥ cháº¡y lá»‡nh:

id jenkins

Output:

uid=1001(jenkins) gid=1001(jenkins) groups=1001(jenkins),27(sudo)

Ã nghÄ©a:
- uid=1001 â†’ User ID cá»§a jenkins lÃ  1001
- gid=1001 â†’ Primary Group ID lÃ  1001
- groups=1001(jenkins),27(sudo) â†’ User thuá»™c group jenkins vÃ  sudo

--------------------------------------------------------------------

5. Kiá»ƒm tra quyá»n thÆ° má»¥c
--------------------------------------------------------------------
- DÃ¹ng thÃ´ng tin UID/GID Ä‘á»ƒ kiá»ƒm tra:
ls -l /var/lib/jenkins

- Äáº£m báº£o owner vÃ  group phÃ¹ há»£p:
  + Owner: jenkins
  + Group: jenkins

--------------------------------------------------------------------

6. Thao tÃ¡c liÃªn quan
--------------------------------------------------------------------
- Kiá»ƒm tra táº¥t cáº£ group cá»§a jenkins:
groups jenkins

- Thay Ä‘á»•i owner:
sudo chown -R jenkins:jenkins /var/lib/jenkins

- Thay Ä‘á»•i shell:
sudo usermod -s /bin/bash jenkins

--------------------------------------------------------------------

7. LÆ°u Ã½ quan trá»ng
--------------------------------------------------------------------
- User jenkins cháº¡y service nÃªn KHÃ”NG nÃªn xÃ³a hoáº·c thay Ä‘á»•i UID/GID tÃ¹y tiá»‡n
- Permission sai sáº½ gÃ¢y lá»—i khi Jenkins cháº¡y job hoáº·c truy cáº­p plugin

--------------------------------------------------------------------

8. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
id jenkins =
HIá»‚N THá»Š UID, GID VÃ€ NHÃ“M Cá»¦A USER JENKINS Äá»‚ KIá»‚M TRA QUYá»€N VÃ€ DEBUG
		
		
		- cmd: reboot
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
reboot
===============================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    reboot

ÄÆ°á»£c sá»­ dá»¥ng trÃªn há»‡ Ä‘iá»u hÃ nh Linux/Unix Ä‘á»ƒ:
- Khá»Ÿi Ä‘á»™ng láº¡i há»‡ thá»‘ng ngay láº­p tá»©c
- Dá»«ng táº¥t cáº£ tiáº¿n trÃ¬nh Ä‘ang cháº¡y
- Táº¯t vÃ  sau Ä‘Ã³ báº­t láº¡i mÃ¡y
- Ãp dá»¥ng khi:
  + CÃ i Ä‘áº·t kernel má»›i
  + Cáº¥u hÃ¬nh há»‡ thá»‘ng cáº§n khá»Ÿi Ä‘á»™ng láº¡i
  + Há»‡ thá»‘ng bá»‹ treo hoáº·c cáº§n reset

Má»¥c Ä‘Ã­ch:
â†’ Äáº£m báº£o há»‡ thá»‘ng báº¯t Ä‘áº§u láº¡i vá»›i tráº¡ng thÃ¡i sáº¡ch


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N Lá»†NH
--------------------------------

2.1. reboot
-----------
- LÃ  lá»‡nh Ä‘Æ¡n giáº£n, khÃ´ng cáº§n tham sá»‘
- ThÆ°á»ng Ä‘Æ°á»£c gá»i tá»«:
  + Terminal
  + Script quáº£n trá»‹ há»‡ thá»‘ng

- Thá»±c cháº¥t:
  + reboot = systemctl reboot (trÃªn Linux dÃ¹ng systemd)
  + reboot gá»­i tÃ­n hiá»‡u Ä‘á»ƒ systemd:
    * Dá»«ng táº¥t cáº£ service
    * Ngáº¯t táº¥t cáº£ user session
    * Thá»±c hiá»‡n reboot


3. CÃCH HOáº T Äá»˜NG Cá»¦A Lá»†NH
--------------------------
Khi cháº¡y lá»‡nh reboot:

1. Há»‡ thá»‘ng gá»­i tÃ­n hiá»‡u SIGTERM tá»›i cÃ¡c tiáº¿n trÃ¬nh
   - YÃªu cáº§u tiáº¿n trÃ¬nh dá»«ng má»™t cÃ¡ch â€œlá»‹ch sá»±â€
2. Sau timeout, gá»­i SIGKILL Ä‘á»ƒ báº¯t buá»™c dá»«ng tiáº¿n trÃ¬nh
3. Dá»«ng táº¥t cáº£ service systemd
4. Sync dá»¯ liá»‡u tá»« RAM xuá»‘ng disk (Ä‘áº£m báº£o khÃ´ng máº¥t dá»¯ liá»‡u)
5. Kernel tiáº¿n hÃ nh táº¯t pháº§n cá»©ng
6. Khá»Ÿi Ä‘á»™ng láº¡i toÃ n bá»™ há»‡ thá»‘ng
7. Gá»i init/systemd Ä‘á»ƒ load láº¡i service vÃ  user session


4. YÃŠU Cáº¦U QUYá»€N Háº N
--------------------
- ThÆ°á»ng cáº§n quyá»n root hoáº·c sudo
- User thÃ´ng thÆ°á»ng khÃ´ng thá»ƒ reboot há»‡ thá»‘ng

VÃ­ dá»¥:
    sudo reboot

- Náº¿u khÃ´ng dÃ¹ng sudo â†’ lá»—i:
    "reboot: need to be root"


5. Lá»°A CHá»ŒN VÃ€ THAM Sá» PHá»” BIáº¾N
--------------------------------
- reboot -f
  + Force reboot, bá» qua quÃ¡ trÃ¬nh shutdown bÃ¬nh thÆ°á»ng
  + Nguy cÆ¡ máº¥t dá»¯ liá»‡u chÆ°a lÆ°u
- reboot -p
  + Táº¯t mÃ¡y (power off) thay vÃ¬ khá»Ÿi Ä‘á»™ng láº¡i
- reboot + thá»i gian (trÃªn má»™t sá»‘ Unix)
  + LÃªn lá»‹ch reboot, vÃ­ dá»¥: shutdown -r +10 (reboot sau 10 phÃºt)


6. KIá»‚M TRA SAU KHI REBOOT
--------------------------
- Kiá»ƒm tra uptime:
    uptime
- Kiá»ƒm tra há»‡ thá»‘ng Ä‘Ã£ hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng:
    systemctl status
- Kiá»ƒm tra log há»‡ thá»‘ng:
    journalctl -b
- Kiá»ƒm tra user vÃ  service tá»± khá»Ÿi Ä‘á»™ng:
    systemctl list-units --type=service


7. LÆ¯U Ã QUAN TRá»ŒNG
------------------
- Táº¥t cáº£ tiáº¿n trÃ¬nh hiá»‡n táº¡i sáº½ bá»‹ Ä‘Ã³ng
- Dá»¯ liá»‡u chÆ°a lÆ°u sáº½ máº¥t náº¿u chÆ°a save
- KhÃ´ng reboot khi há»‡ thá»‘ng Ä‘ang update quan trá»ng (vÃ­ dá»¥ apt upgrade)
- ThÆ°á»ng bÃ¡o trÆ°á»›c ngÆ°á»i dÃ¹ng khÃ¡c trÃªn há»‡ thá»‘ng nhiá»u user:
    wall "System will reboot in 1 minute"


8. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------
8.1. Permission denied
- NguyÃªn nhÃ¢n: khÃ´ng cÃ³ quyá»n root
- CÃ¡ch xá»­ lÃ½: thÃªm sudo

8.2. System khÃ´ng khá»Ÿi Ä‘á»™ng Ä‘Æ°á»£c sau reboot
- NguyÃªn nhÃ¢n: kernel lá»—i, cÃ i Ä‘áº·t service sai
- CÃ¡ch xá»­ lÃ½: boot vÃ o recovery mode, kiá»ƒm tra log


9. TÃ“M Táº®T
----------
- reboot lÃ  lá»‡nh Ä‘á»ƒ khá»Ÿi Ä‘á»™ng láº¡i há»‡ thá»‘ng
- YÃªu cáº§u root hoáº·c sudo
- Dá»«ng táº¥t cáº£ tiáº¿n trÃ¬nh vÃ  service má»™t cÃ¡ch cÃ³ kiá»ƒm soÃ¡t
- Quan trá»ng trong quáº£n trá»‹, cÃ i Ä‘áº·t kernel hoáº·c kháº¯c phá»¥c lá»—i há»‡ thá»‘ng


Káº¾T LUáº¬N
--------
Lá»‡nh reboot lÃ  lá»‡nh cÆ¡ báº£n nhÆ°ng cá»±c ká»³ quan trá»ng cho quáº£n trá»‹ Linux/Unix,
giÃºp há»‡ thá»‘ng khá»Ÿi Ä‘á»™ng láº¡i má»™t cÃ¡ch sáº¡ch sáº½ vÃ  Ä‘á»“ng bá»™.
		
		
		- cmd: ssh-keygen.exe
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ssh-keygen.exe
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ táº¡o cáº·p khÃ³a SSH (SSH key pair) trÃªn Windows
vá»›i cÃ´ng cá»¥ ssh-keygen.exe, thÆ°á»ng Ä‘i kÃ¨m vá»›i OpenSSH.

SSH key pair gá»“m:
- Private key (khÃ³a riÃªng tÆ°): giá»¯ bÃ­ máº­t, khÃ´ng chia sáº»
- Public key (khÃ³a cÃ´ng khai): chia sáº» vá»›i server Ä‘á»ƒ xÃ¡c thá»±c

Má»¥c Ä‘Ã­ch:
- XÃ¡c thá»±c khÃ´ng cáº§n máº­t kháº©u (passwordless login)
- Káº¿t ná»‘i an toÃ n giá»¯a client vÃ  server
- Sá»­ dá»¥ng trong Git, SCP, SFTP, remote login, CI/CD

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. ssh-keygen.exe
--------------------------------------------------
- ssh-keygen: chÆ°Æ¡ng trÃ¬nh táº¡o, quáº£n lÃ½ vÃ  chuyá»ƒn Ä‘á»•i key SSH
- .exe: phiÃªn báº£n Windows
- Cháº¡y tá»«:
  + Command Prompt
  + PowerShell
  + Git Bash

Chá»©c nÄƒng:
- Táº¡o key pair má»›i
- Xuáº¥t public key
- Thay Ä‘á»•i passphrase key
- Chuyá»ƒn Ä‘á»•i Ä‘á»‹nh dáº¡ng key (PEM, OpenSSHâ€¦)

--------------------------------------------------
3. CÃC TÃ™Y CHá»ŒN PHá»” BIáº¾N
--------------------------------------------------
1. Táº¡o key RSA máº·c Ä‘á»‹nh:
--------------------------------------------------
ssh-keygen.exe
- Há»‡ thá»‘ng yÃªu cáº§u:
  + Nháº­p vá»‹ trÃ­ lÆ°u key (máº·c Ä‘á»‹nh: C:\Users\<user>\.ssh\id_rsa)
  + Nháº­p passphrase (tÃ¹y chá»n)

2. Táº¡o key vá»›i loáº¡i vÃ  Ä‘á»™ dÃ i cá»¥ thá»ƒ:
--------------------------------------------------
ssh-keygen.exe -t rsa -b 4096 -C "email@example.com"
- -t rsa : kiá»ƒu thuáº­t toÃ¡n RSA
- -b 4096 : Ä‘á»™ dÃ i key 4096 bit (an toÃ n hÆ¡n)
- -C "..." : comment, thÆ°á»ng lÃ  email

3. Xuáº¥t public key tá»« private key:
--------------------------------------------------
ssh-keygen.exe -y -f id_rsa > id_rsa.pub

--------------------------------------------------
4. Vá»Š TRÃ FILE KHÃ“A
--------------------------------------------------
- Private key: id_rsa
- Public key: id_rsa.pub
- ThÆ° má»¥c máº·c Ä‘á»‹nh: C:\Users\<user>\.ssh\

--------------------------------------------------
5. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y ssh-keygen.exe:
1. Chá»n thuáº­t toÃ¡n (RSA, ECDSA, ED25519)
2. Chá»n vá»‹ trÃ­ lÆ°u private key
3. TÃ¹y chá»n nháº­p passphrase
4. Táº¡o cáº·p khÃ³a:
   + id_rsa (private)
   + id_rsa.pub (public)
5. ThÃ´ng bÃ¡o thÃ nh cÃ´ng

--------------------------------------------------
6. Sá»¬ Dá»¤NG KEY SSH
--------------------------------------------------
1. Copy public key lÃªn server:
- SSH server: ~/.ssh/authorized_keys
- Git server: GitHub, GitLab, Bitbucket

2. Káº¿t ná»‘i khÃ´ng cáº§n máº­t kháº©u:
--------------------------------------------------
ssh user@server

3. Sá»­ dá»¥ng vá»›i Git:
- git clone git@github.com:user/repo.git

--------------------------------------------------
7. LÆ¯U Ã Báº¢O Máº¬T
--------------------------------------------------
- KHÃ”NG chia sáº» private key
- Sá»­ dá»¥ng passphrase Ä‘á»ƒ tÄƒng báº£o máº­t
- Sao lÆ°u key an toÃ n
- Náº¿u private key bá»‹ lá»™, pháº£i táº¡o láº¡i key má»›i

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
ssh-keygen.exe
= Táº¡o cáº·p khÃ³a SSH trÃªn Windows
= Private key lÆ°u bÃ­ máº­t, public key chia sáº» server
= DÃ¹ng cho login SSH, Git, SCP, SFTP, CI/CD
==================================================
		
		
		- cmd: ls ~/.ssh/
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ls ~/.ssh/

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Liá»‡t kÃª táº¥t cáº£ file vÃ  thÆ° má»¥c con trong thÆ° má»¥c ~/.ssh/
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ kiá»ƒm tra cÃ¡c key SSH, cáº¥u hÃ¬nh SSH, vÃ  file authorized_keys
- Ãp dá»¥ng cho user hiá»‡n táº¡i trÃªn Linux/Unix

ThÆ° má»¥c ~/.ssh/ lÃ :
- ThÆ° má»¥c áº©n trong home directory cá»§a user
- Chá»©a dá»¯ liá»‡u liÃªn quan Ä‘áº¿n SSH, bao gá»“m key, config, known_hosts

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. ls
--------------------------------------------------
ls = list
- Liá»‡t kÃª file vÃ  thÆ° má»¥c trong Ä‘Æ°á»ng dáº«n Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh
- CÃ³ thá»ƒ thÃªm tÃ¹y chá»n:
  + ls -l : hiá»ƒn thá»‹ chi tiáº¿t (quyá»n, owner, size, date)
  + ls -a : hiá»ƒn thá»‹ cáº£ file áº©n
  + ls -lh: hiá»ƒn thá»‹ dung lÆ°á»£ng dá»… Ä‘á»c

2.2. ~
--------------------------------------------------
~ = home directory cá»§a user hiá»‡n táº¡i
- VÃ­ dá»¥:
  + user "tuan" â†’ /home/tuan
  + user "root" â†’ /root

2.3. .ssh
--------------------------------------------------
~/.ssh/ lÃ :
- ThÆ° má»¥c áº©n chá»©a dá»¯ liá»‡u SSH
- CÃ¡c file phá»• biáº¿n:
  + id_rsa             : private key máº·c Ä‘á»‹nh RSA
  + id_rsa.pub         : public key tÆ°Æ¡ng á»©ng
  + authorized_keys    : danh sÃ¡ch public key Ä‘Æ°á»£c phÃ©p login
  + known_hosts        : lÆ°u fingerprint server Ä‘Ã£ káº¿t ná»‘i
  + config             : cáº¥u hÃ¬nh SSH client

--------------------------------------------------
3. Má»¤C ÄÃCH THÆ¯á»œNG DÃ™NG
--------------------------------------------------
- Kiá»ƒm tra key SSH Ä‘Ã£ táº¡o chÆ°a
- Kiá»ƒm tra server Ä‘Ã£ lÆ°u fingerprint chÆ°a
- XÃ¡c minh quyá»n truy cáº­p báº±ng public key
- Debug káº¿t ná»‘i SSH

--------------------------------------------------
4. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. Shell má»Ÿ thÆ° má»¥c ~/.ssh/
2. Liá»‡t kÃª cÃ¡c file vÃ  thÆ° má»¥c con
3. Hiá»ƒn thá»‹ ra terminal theo thá»© tá»± tÃªn file
4. NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ nhÃ¬n tháº¥y key, config, known_hosts

--------------------------------------------------
5. Káº¾T QUáº¢ MáºªU
--------------------------------------------------
VÃ­ dá»¥ output:

id_rsa
id_rsa.pub
authorized_keys
known_hosts
config

--------------------------------------------------
6. CÃC Lá»†NH LIÃŠN QUAN
--------------------------------------------------
Hiá»ƒn thá»‹ chi tiáº¿t + áº©n:
ls -la ~/.ssh/

Hiá»ƒn thá»‹ dung lÆ°á»£ng dá»… Ä‘á»c:
ls -lh ~/.ssh/

--------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

7.1. Permission denied
--------------------------------------------------
NguyÃªn nhÃ¢n:
- ThÆ° má»¥c ~/.ssh/ khÃ´ng cÃ³ quyá»n Ä‘á»c cho user

Giáº£i phÃ¡p:
- Kiá»ƒm tra quyá»n: ls -ld ~/.ssh
- Äáº£m báº£o owner lÃ  user hiá»‡n táº¡i

7.2. ThÆ° má»¥c khÃ´ng tá»“n táº¡i
--------------------------------------------------
NguyÃªn nhÃ¢n:
- User chÆ°a táº¡o key SSH
- ChÆ°a thá»±c hiá»‡n ssh-keygen

Táº¡o thÆ° má»¥c vÃ  key:
ssh-keygen -t rsa -b 4096

--------------------------------------------------
8. Cáº¢NH BÃO Báº¢O Máº¬T
--------------------------------------------------
- ThÆ° má»¥c ~/.ssh/ chá»©a private key â†’ tuyá»‡t Ä‘á»‘i báº£o máº­t
- KHÃ”NG chia sáº» id_rsa
- KHÃ”NG commit lÃªn Git hoáº·c Ä‘Æ°a lÃªn server cÃ´ng khai

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
ls ~/.ssh/

= Liá»‡t kÃª file vÃ  thÆ° má»¥c SSH
= Kiá»ƒm tra key, config, authorized_keys, known_hosts
= Ãp dá»¥ng cho user hiá»‡n táº¡i
= Báº£o vá»‡ quyá»n vÃ  dá»¯ liá»‡u nháº¡y cáº£m
		
		
		- cmd: git@github.com:ngoctuanqng/jenkinstriggers.git
		
Äá»ŠA CHá»ˆ REPOSITORY GIT: git@github.com:ngoctuanqng/jenkinstriggers.git
=======================================================================

1. Má»¤C ÄÃCH
----------
Äá»‹a chá»‰ `git@github.com:ngoctuanqng/jenkinstriggers.git` dÃ¹ng Ä‘á»ƒ:
- Truy cáº­p repository Git trÃªn GitHub
- Clone, pull, push code tá»« xa
- ThÆ°á»ng sá»­ dá»¥ng trong cÃ¡c pipeline CI/CD, vÃ­ dá»¥ Jenkins triggers

ÄÃ¢y lÃ  **SSH URL**, nghÄ©a lÃ  báº¡n cáº§n cÃ³ **SSH key** Ä‘á»ƒ xÃ¡c thá»±c.


2. Cáº¤U TRÃšC URL
----------------
git@github.com:ngoctuanqng/jenkinstriggers.git

Giáº£i thÃ­ch tá»«ng pháº§n:

- git@github.com
  - `git`        : User dÃ¹ng Ä‘á»ƒ káº¿t ná»‘i SSH Ä‘áº¿n GitHub
  - `github.com` : Domain cá»§a GitHub, nÆ¡i lÆ°u trá»¯ repository

- ngoctuanqng
  - TÃªn tÃ i khoáº£n (user) hoáº·c tá»• chá»©c sá»Ÿ há»¯u repository

- jenkinstriggers.git
  - TÃªn repository
  - `.git`     : Thá»ƒ hiá»‡n Ä‘Ã¢y lÃ  repository Git


3. Sá»¬ Dá»¤NG TRONG GIT
--------------------
1. Clone repository vá» local:
   git clone git@github.com:ngoctuanqng/jenkinstriggers.git

2. Pull cÃ¡c thay Ä‘á»•i má»›i nháº¥t:
   git pull origin main
   (hoáº·c branch báº¡n Ä‘ang lÃ m viá»‡c)

3. Push code lÃªn repository:
   git add .
   git commit -m "message"
   git push origin main
   (Cáº§n SSH key Ä‘Ã£ Ä‘Æ°á»£c add vÃ o GitHub)


4. YÃŠU Cáº¦U KHI DÃ™NG SSH URL
---------------------------
- CÃ i Ä‘áº·t SSH key trÃªn mÃ¡y local:
  ssh-keygen -t ed25519 -C "your_email@example.com"
  
- ThÃªm SSH public key vÃ o GitHub:
  Settings -> SSH and GPG keys -> New SSH key

- Kiá»ƒm tra káº¿t ná»‘i:
  ssh -T git@github.com
  - Náº¿u thÃ nh cÃ´ng, GitHub sáº½ tráº£ vá» thÃ´ng bÃ¡o xÃ¡c thá»±c


5. Æ¯U ÄIá»‚M SSH URL
-----------------
- KhÃ´ng cáº§n nháº­p username/password má»—i láº§n push
- An toÃ n, mÃ£ hÃ³a báº±ng SSH
- ThÆ°á»ng dÃ¹ng trong automation, CI/CD (Jenkins, GitLab Runner)


6. CÃC Lá»–I THÆ¯á»œNG Gáº¶P
--------------------
1. Permission denied (publickey)
   - SSH key chÆ°a Ä‘Æ°á»£c add vÃ o GitHub
   - SSH agent chÆ°a load key

2. Repository not found
   - Sai tÃªn user/repo
   - Repo private mÃ  khÃ´ng cÃ³ quyá»n truy cáº­p

3. Host key verification failed
   - ChÆ°a accept fingerprint cá»§a github.com láº§n Ä‘áº§u


7. TÃ“M Táº®T
-----------
- `git@github.com:ngoctuanqng/jenkinstriggers.git` lÃ  SSH URL cá»§a Git repository
- DÃ¹ng Ä‘á»ƒ clone, pull, push code
- Cáº§n SSH key Ä‘á»ƒ xÃ¡c thá»±c
- PhÃ¹ há»£p cho CI/CD pipeline vÃ  mÃ´i trÆ°á»ng developer
		
		
		- cmd: choco install wget
		
Lá»†NH: choco install wget
====================================================================

1. choco lÃ  gÃ¬?
--------------------------------------------------------------------
- choco = Chocolatey
- Chocolatey lÃ  trÃ¬nh quáº£n lÃ½ package cho Windows
- TÆ°Æ¡ng tá»± apt trÃªn Linux hoáº·c brew trÃªn macOS
- DÃ¹ng Ä‘á»ƒ:
  + CÃ i Ä‘áº·t pháº§n má»m tá»± Ä‘á»™ng
  + Quáº£n lÃ½ phiÃªn báº£n
  + Update hoáº·c gá»¡ pháº§n má»m

--------------------------------------------------------------------

2. install nghÄ©a lÃ  gÃ¬?
--------------------------------------------------------------------
- install = cÃ i Ä‘áº·t package vÃ o há»‡ thá»‘ng
- Tá»± Ä‘á»™ng táº£i package tá»« repository cá»§a Chocolatey
- CÃ i Ä‘áº·t vá»›i quyá»n admin náº¿u cáº§n

--------------------------------------------------------------------

3. wget lÃ  gÃ¬?
--------------------------------------------------------------------
- wget lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh dÃ¹ng Ä‘á»ƒ:
  + Táº£i file tá»« Internet
  + Há»— trá»£ HTTP, HTTPS, FTP
  + Resume download
- DÃ¹ng nhiá»u trong script hoáº·c tá»± Ä‘á»™ng táº£i file

--------------------------------------------------------------------

4. Ã nghÄ©a cá»§a lá»‡nh choco install wget
--------------------------------------------------------------------
- CÃ i wget trÃªn Windows báº±ng Chocolatey
- Lá»‡nh thá»±c hiá»‡n:
  1) Káº¿t ná»‘i repository Chocolatey
  2) TÃ¬m package wget
  3) Táº£i vá»
  4) CÃ i vÃ o há»‡ thá»‘ng (thÆ°á»ng vÃ o PATH)
- Sau khi cÃ i xong cÃ³ thá»ƒ cháº¡y:
  wget <url> tá»« CMD hoáº·c PowerShell

KHÃ”NG:
- KhÃ´ng xÃ³a file
- KhÃ´ng cáº­p nháº­t Windows
- KhÃ´ng tá»± cháº¡y wget

--------------------------------------------------------------------

5. Quy trÃ¬nh lá»‡nh thá»±c hiá»‡n
--------------------------------------------------------------------
1) Chocolatey kiá»ƒm tra quyá»n admin
2) Kiá»ƒm tra package wget Ä‘Ã£ cÃ i chÆ°a
3) Náº¿u chÆ°a cÃ i â†’ download package
4) Giáº£i nÃ©n vÃ  cÃ i Ä‘áº·t
5) ThÃªm wget vÃ o PATH
6) Hiá»ƒn thá»‹ káº¿t quáº£ cÃ i Ä‘áº·t thÃ nh cÃ´ng

--------------------------------------------------------------------

6. Kiá»ƒm tra sau khi cÃ i
--------------------------------------------------------------------
- Má»Ÿ CMD hoáº·c PowerShell:
wget --version

- Náº¿u hiá»ƒn thá»‹ version â†’ cÃ i thÃ nh cÃ´ng

--------------------------------------------------------------------

7. LÆ°u Ã½ quan trá»ng
--------------------------------------------------------------------
- Cháº¡y CMD / PowerShell vá»›i quyá»n Administrator
- Náº¿u khÃ´ng cÃ³ Chocolatey â†’ cáº§n cÃ i trÆ°á»›c:
  Set-ExecutionPolicy Bypass -Scope Process -Force; `
  [System.Net.ServicePointManager]::SecurityProtocol = `
  [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; `
  iex ((New-Object System.Net.WebClient).DownloadString('https://community.chocolatey.org/install.ps1'))

--------------------------------------------------------------------

8. CÃ¡c lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) Quyá»n admin thiáº¿u â†’ Access Denied
2) Package wget khÃ´ng tá»“n táº¡i (ráº¥t hiáº¿m)
3) Proxy/Firewall cháº·n download

--------------------------------------------------------------------

9. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
choco install wget =
CÃ€I Äáº¶T WGET TRÃŠN WINDOWS Báº°NG CHOCOLATEY, THÃŠM VÃ€O PATH Äá»‚ DÃ™NG CMD/POWERSHELL
		
		
		- cmd: wget -q --auth-no-challenge --user username --password password --output-document - 'http://JENNKINS_IP:8080/crumbIssuer/api/xml?xpath=concat(//crumbRequestField,":",//crumb)'
		
			Example:
		
				wget -q --auth-no-challenge --user admin --password ngoctuan99@ --output-document - 'http://54.234.134.51:8080/crumbIssuer/api/xml?xpath=concat(//crumbRequestField,":",//crumb)'
		
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
wget -q --auth-no-challenge --user username --password password --output-document - 'http://JENNKINS_IP:8080/crumbIssuer/api/xml?xpath=concat(//crumbRequestField,":",//crumb)'
=====================================================================================================================================

1. Tá»”NG QUAN
-----------
Lá»‡nh nÃ y sá»­ dá»¥ng `wget` Ä‘á»ƒ láº¥y CSRF crumb tá»« Jenkins, phá»¥c vá»¥ cho viá»‡c gá»i API Jenkins an toÃ n mÃ  khÃ´ng bá»‹ CSRF protection cháº·n. 

Má»¥c Ä‘Ã­ch:
- Láº¥y giÃ¡ trá»‹ CSRF crumb tá»« Jenkins
- DÃ¹ng trong cÃ¡c script hoáº·c pipeline Ä‘á»ƒ gá»i API Jenkins
- TrÃ¡nh lá»—i â€œNo valid crumb was included in the requestâ€ khi thá»±c hiá»‡n POST API


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

2.1. wget
---------
- wget lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ táº£i file hoáº·c dá»¯ liá»‡u tá»« Internet
- Há»— trá»£ HTTP, HTTPS, FTP
- CÃ³ thá»ƒ dÃ¹ng non-interactive trong script


2.2. -q
-------
- -q = quiet
- Giáº£m output cá»§a wget, chá»‰ láº¥y dá»¯ liá»‡u cáº§n thiáº¿t, khÃ´ng hiá»ƒn thá»‹ log download


2.3. --auth-no-challenge
------------------------
- Táº¯t cháº¿ Ä‘á»™ chá» authentication challenge tá»« server
- ThÆ°á»ng dÃ¹ng khi server yÃªu cáº§u Basic Auth
- wget sáº½ gá»­i user/password ngay láº­p tá»©c, khÃ´ng Ä‘á»£i 401 Unauthorized


2.4. --user username --password password
----------------------------------------
- Cung cáº¥p thÃ´ng tin Ä‘Äƒng nháº­p cho Basic Authentication
- username = tÃªn user Jenkins
- password = API token hoáº·c password user Jenkins
- LÆ°u Ã½:
  + KhÃ´ng nÃªn hardcode password trong script
  + DÃ¹ng biáº¿n mÃ´i trÆ°á»ng an toÃ n hÆ¡n


2.5. --output-document -
------------------------
- --output-document hoáº·c -O
- Dáº¥u `-` nghÄ©a lÃ  xuáº¥t dá»¯ liá»‡u ra stdout thay vÃ¬ file
- GiÃºp dá»… dÃ ng dÃ¹ng káº¿t quáº£ trong pipeline hoáº·c biáº¿n shell


2.6. URL:
'http://JENNKINS_IP:8080/crumbIssuer/api/xml?xpath=concat(//crumbRequestField,":",//crumb)'
------------------------------------------------------------------------------------------------
- JENNKINS_IP: Ä‘á»‹a chá»‰ mÃ¡y chá»§ Jenkins
- 8080: port máº·c Ä‘á»‹nh Jenkins
- /crumbIssuer/api/xml: endpoint Jenkins cung cáº¥p CSRF crumb
- ?xpath=concat(//crumbRequestField,":",//crumb): dÃ¹ng XPath Ä‘á»ƒ láº¥y crumb field name vÃ  giÃ¡ trá»‹ crumb, ná»‘i báº±ng dáº¥u `:`


3. TÃC Dá»¤NG Cá»¦A Lá»†NH
--------------------
Khi cháº¡y lá»‡nh:
1. wget gá»­i request GET tá»›i Jenkins crumbIssuer API
2. XÃ¡c thá»±c báº±ng user/password
3. Nháº­n file XML chá»©a CSRF crumb
4. XPath lá»c ra:
   - crumbRequestField (tÃªn header cáº§n gá»­i trong request)
   - crumb (giÃ¡ trá»‹ CSRF token)
5. Output ra stdout theo Ä‘á»‹nh dáº¡ng:
   Header-Name:Crumb-Value
VÃ­ dá»¥:
   Jenkins-Crumb:abcd1234efgh5678


4. YÃŠU Cáº¦U
------------
- Jenkins cháº¡y vá»›i CSRF protection báº­t
- User Jenkins pháº£i cÃ³ quyá»n API
- MÃ¡y cháº¡y wget cÃ³ káº¿t ná»‘i tá»›i Jenkins
- Port 8080 pháº£i má»Ÿ vÃ  firewall cho phÃ©p


5. Sá»¬ Dá»¤NG TRONG SCRIPT / PIPELINE
----------------------------------
VÃ­ dá»¥ láº¥y crumb vÃ o biáº¿n shell:
    CRUMB=$(wget -q --auth-no-challenge --user $USER --password $TOKEN --output-document - 'http://JENNKINS_IP:8080/crumbIssuer/api/xml?xpath=concat(//crumbRequestField,":",//crumb)')

Sá»­ dá»¥ng trong curl Ä‘á»ƒ POST API:
    curl -X POST -u $USER:$TOKEN -H "$CRUMB" 'http://JENNKINS_IP:8080/job/job_name/build'


6. LÆ¯U Ã Báº¢O Máº¬T
-----------------
- KhÃ´ng commit username/password trá»±c tiáº¿p trong script
- NÃªn dÃ¹ng Jenkins API token thay cho password
- CÃ³ thá»ƒ dÃ¹ng biáº¿n mÃ´i trÆ°á»ng Ä‘á»ƒ lÆ°u username/token
- TrÃ¡nh Ä‘á»ƒ crumb leak ra logs


7. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------
7.1. 401 Unauthorized
- NguyÃªn nhÃ¢n: sai user/password hoáº·c API token
- Kiá»ƒm tra quyá»n user hoáº·c API token há»£p lá»‡

7.2. KhÃ´ng láº¥y Ä‘Æ°á»£c crumb
- NguyÃªn nhÃ¢n:
  + CSRF protection khÃ´ng báº­t (Jenkins < 2.0)
  + URL crumbIssuer sai
  + XPath lá»—i
- Kiá»ƒm tra: http://JENNKINS_IP:8080/crumbIssuer/api/xml


8. TÃ“M Táº®T
----------
- wget láº¥y CSRF crumb tá»« Jenkins
- -q: giáº£m output
- --auth-no-challenge + --user/--password: xÃ¡c thá»±c
- -O -: xuáº¥t ra stdout
- XPath concat: láº¥y header name vÃ  giÃ¡ trá»‹ crumb
- DÃ¹ng trong script Ä‘á»ƒ gá»i Jenkins API an toÃ n

Káº¾T LUáº¬N
--------
ÄÃ¢y lÃ  lá»‡nh chuáº©n Ä‘á»ƒ tá»± Ä‘á»™ng láº¥y CSRF crumb Jenkins cho API calls,
ráº¥t há»¯u Ã­ch trong automation vÃ  pipeline CI/CD.
		
		
		- cmd: curl -I -X POST http://username:APItoken@Jenkins_IP:8080/job/JOB_NAME/build?token=TOKENNAME
				-H "Jenkins-Crumb:CRUMB"
				
			Example:
		
				curl -I -X POST http://admin:11cde1b5cb464093f62e8f88edfd14388d@54.234.134.51:8080/job/Build/build?token=mybuildtoken
				-H "Jenkins-Crumb:b05d9f0d30cc94463982e15ef5dea44b39cddc6ed3a5a9254fef0bc151afe76b"
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
curl -I -X POST http://username:APItoken@Jenkins_IP:8080/job/JOB_NAME/build?token=TOKENNAME \
     -H "Jenkins-Crumb:CRUMB"
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ kÃ­ch hoáº¡t (trigger) má»™t job trÃªn Jenkins
tá»« dÃ²ng lá»‡nh (CLI) thÃ´ng qua HTTP request.

- curl: cÃ´ng cá»¥ gá»­i HTTP request tá»« terminal
- -X POST: gá»­i yÃªu cáº§u POST tá»›i Jenkins
- Sá»­ dá»¥ng authentication báº±ng:
  + username + API token
  + Jenkins Crumb (anti-CSRF protection)
- DÃ¹ng Ä‘á»ƒ cháº¡y job Jenkins tá»± Ä‘á»™ng, phá»¥c vá»¥ CI/CD

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. curl
--------------------------------------------------
- curl lÃ  cÃ´ng cá»¥ CLI Ä‘á»ƒ gá»­i HTTP/HTTPS request
- Há»— trá»£ GET, POST, PUT, DELETE
- CÃ³ thá»ƒ gá»­i header, body, query parameters
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ:
  + KÃ­ch hoáº¡t API
  + Kiá»ƒm tra endpoint
  + Download/upload dá»¯ liá»‡u

--------------------------------------------------
2.2. -I
--------------------------------------------------
- Tham sá»‘ cá»§a curl
- Chá»‰ request header, khÃ´ng láº¥y body
- Useful Ä‘á»ƒ kiá»ƒm tra status code HTTP (200, 403, 404, 201â€¦)

--------------------------------------------------
2.3. -X POST
--------------------------------------------------
- Chá»‰ Ä‘á»‹nh method HTTP lÃ  POST
- POST dÃ¹ng Ä‘á»ƒ táº¡o resource hoáº·c trigger action
- Trong Jenkins:
  + POST tá»›i /build?token=TOKENNAME sáº½ trigger job

--------------------------------------------------
2.4. URL
--------------------------------------------------
http://username:APItoken@Jenkins_IP:8080/job/JOB_NAME/build?token=TOKENNAME

PhÃ¢n tÃ­ch:
- username: tÃªn user Jenkins cÃ³ quyá»n trigger job
- APItoken: token thay máº­t kháº©u (an toÃ n hÆ¡n)
- Jenkins_IP: Ä‘á»‹a chá»‰ IP hoáº·c hostname Jenkins server
- 8080: cá»•ng HTTP máº·c Ä‘á»‹nh cá»§a Jenkins
- /job/JOB_NAME/build: endpoint Ä‘á»ƒ build job cá»¥ thá»ƒ
- ?token=TOKENNAME: token báº£o máº­t cá»§a job (job token)  

ChÃº Ã½:
- username:APItoken@ â†’ Basic Auth trong URL
- TOKENNAME pháº£i Ä‘Æ°á»£c cáº¥u hÃ¬nh trong job Jenkins

--------------------------------------------------
2.5. -H "Jenkins-Crumb:CRUMB"
--------------------------------------------------
- Header HTTP gá»­i kÃ¨m
- Jenkins-Crumb: token chá»‘ng CSRF
- CRUMB: giÃ¡ trá»‹ token láº¥y tá»« Jenkins API
  + CÃ³ thá»ƒ láº¥y báº±ng: curl -u username:APItoken http://Jenkins_IP:8080/crumbIssuer/api/xml
- Báº¯t buá»™c náº¿u Jenkins CSRF Protection báº­t

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. curl gá»­i POST request Ä‘áº¿n Jenkins job endpoint
2. Jenkins xÃ¡c thá»±c:
   - Basic Auth báº±ng username + API token
   - Kiá»ƒm tra crumb token CSRF
   - Kiá»ƒm tra job token (TOKENNAME)
3. Náº¿u há»£p lá»‡:
   - Jenkins queue job JOB_NAME
   - Tráº£ HTTP status code (201 Created hoáº·c 200 OK)
4. curl -I hiá»ƒn thá»‹ header HTTP, vÃ­ dá»¥:
   - HTTP/1.1 201 Created
   - Location: /queue/item/123/
   - X-Jenkins: 2.375.3
   - Content-Length: 0

--------------------------------------------------
4. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Trigger job Jenkins tá»« script, cron, CI/CD pipeline
- TÃ­ch há»£p Jenkins vá»›i há»‡ thá»‘ng khÃ¡c
- Test endpoint build Jenkins
- KhÃ´ng cáº§n má»Ÿ UI Jenkins

--------------------------------------------------
5. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- API token an toÃ n hÆ¡n máº­t kháº©u
- KhÃ´ng gá»­i username:password plain text
- Chá»‰ dÃ¹ng CRUMB khi CSRF Protection báº­t
- JOB token cáº§n cáº¥u hÃ¬nh trong job Jenkins
- curl -I chá»‰ hiá»ƒn thá»‹ header, náº¿u muá»‘n xem body bá» -I

--------------------------------------------------
6. CÃC BIáº¾N Cáº¦N THAY THáº¾
--------------------------------------------------
- username â†’ tÃ i khoáº£n Jenkins
- APItoken â†’ token cá»§a user
- Jenkins_IP â†’ Ä‘á»‹a chá»‰ IP hoáº·c hostname server Jenkins
- JOB_NAME â†’ tÃªn job cáº§n trigger
- TOKENNAME â†’ token báº£o máº­t cá»§a job
- CRUMB â†’ token chá»‘ng CSRF

--------------------------------------------------
7. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
curl -I -X POST http://username:APItoken@Jenkins_IP:8080/job/JOB_NAME/build?token=TOKENNAME \
     -H "Jenkins-Crumb:CRUMB"
= Gá»­i HTTP POST Ä‘á»ƒ trigger job Jenkins
= XÃ¡c thá»±c báº±ng user + API token
= KÃ¨m job token vÃ  crumb chá»‘ng CSRF
= Hiá»ƒn thá»‹ header HTTP tráº£ vá»
= DÃ¹ng cho automation CI/CD, script, cron
==================================================
		
		
		
		- cmd: adduser devops
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
adduser devops

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Táº¡o má»™t user má»›i trÃªn há»‡ thá»‘ng Linux/Unix
- User má»›i cÃ³ tÃªn lÃ  "devops"
- Tá»± Ä‘á»™ng táº¡o home directory vÃ  thiáº¿t láº­p quyá»n cÆ¡ báº£n
- Phá»¥c vá»¥ viá»‡c quáº£n lÃ½ quyá»n truy cáº­p, phÃ¢n quyá»n vÃ  cháº¡y cÃ¡c dá»‹ch vá»¥

adduser:
- ThÆ°á»ng lÃ  script tiá»‡n dá»¥ng trÃªn Debian/Ubuntu
- Thá»±c hiá»‡n nhiá»u bÆ°á»›c tá»± Ä‘á»™ng hÆ¡n useradd (trÃªn CentOS/RHEL)

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. adduser
--------------------------------------------------
adduser lÃ :
- Command line tool Ä‘á»ƒ thÃªm user má»›i
- Thá»±c hiá»‡n cÃ¡c bÆ°á»›c:
  + Táº¡o account
  + Táº¡o home directory
  + Copy skeleton files tá»« /etc/skel
  + Thiáº¿t láº­p UID, GID, shell máº·c Ä‘á»‹nh

KhÃ¡c vá»›i useradd:
- adduser thÃ¢n thiá»‡n hÆ¡n, interactive
- useradd Ã­t interactive, cáº§n nhiá»u option hÆ¡n

2.2. devops
--------------------------------------------------
- TÃªn user má»›i táº¡o
- Home directory máº·c Ä‘á»‹nh: /home/devops
- Shell máº·c Ä‘á»‹nh: /bin/bash (cÃ³ thá»ƒ thay Ä‘á»•i)
- UID vÃ  GID Ä‘Æ°á»£c cáº¥p tá»± Ä‘á»™ng theo há»‡ thá»‘ng

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. Script kiá»ƒm tra quyá»n root
   - Náº¿u khÃ´ng cÃ³ quyá»n, lá»‡nh sáº½ bÃ¡o lá»—i
2. Táº¡o user "devops" trong /etc/passwd
3. Táº¡o group "devops" trong /etc/group
4. Táº¡o home directory /home/devops
5. Copy cÃ¡c file máº«u tá»« /etc/skel vÃ o /home/devops
6. Thiáº¿t láº­p owner vÃ  group cho home directory
7. ThÃ´ng bÃ¡o hoÃ n táº¥t táº¡o user
8. (Optional) ThÃªm máº­t kháº©u cho user

--------------------------------------------------
4. CÃC Lá»†NH LIÃŠN QUAN
--------------------------------------------------
- Thiáº¿t láº­p máº­t kháº©u:
sudo passwd devops

- Xem thÃ´ng tin user:
id devops
getent passwd devops

- XÃ³a user:
sudo deluser devops

- Táº¡o user mÃ  khÃ´ng táº¡o home directory:
useradd -M devops

--------------------------------------------------
5. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

5.1. Permission denied
--------------------------------------------------
NguyÃªn nhÃ¢n:
- KhÃ´ng cháº¡y vá»›i quyá»n root

Giáº£i phÃ¡p:
sudo adduser devops

5.2. User Ä‘Ã£ tá»“n táº¡i
--------------------------------------------------
Lá»—i:
adduser: The user `devops' already exists.

Giáº£i phÃ¡p:
- Chá»n tÃªn khÃ¡c
- XÃ³a user cÅ© náº¿u cáº§n:
  sudo deluser devops

--------------------------------------------------
6. Cáº¢NH BÃO
--------------------------------------------------
- Home directory chá»©a dá»¯ liá»‡u nháº¡y cáº£m
- User má»›i khÃ´ng cÃ³ quyá»n sudo máº·c Ä‘á»‹nh (trá»« khi thÃªm vÃ o sudo group)
- KhÃ´ng dÃ¹ng tÃªn user trÃ¹ng vá»›i system user quan trá»ng

--------------------------------------------------
7. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
adduser devops

= Táº¡o user má»›i tÃªn devops
= Táº¡o home directory /home/devops
= Copy skeleton files tá»« /etc/skel
= Thiáº¿t láº­p UID, GID, shell máº·c Ä‘á»‹nh
= DÃ¹ng trÃªn Debian/Ubuntu
= Cáº§n quyá»n root Ä‘á»ƒ thá»±c hiá»‡n
		
		
		- cmd: chown devops.devops /opt/jenkins-slave -R
		
Lá»†NH: chown devops.devops /opt/jenkins-slave -R
===============================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh `chown devops.devops /opt/jenkins-slave -R` dÃ¹ng Ä‘á»ƒ thay Ä‘á»•i **chá»§ sá»Ÿ há»¯u (owner)**
vÃ  **nhÃ³m (group)** cá»§a thÆ° má»¥c `/opt/jenkins-slave` vÃ  táº¥t cáº£ cÃ¡c file, thÆ° má»¥c con bÃªn trong.

Má»¥c Ä‘Ã­ch:
- Äáº£m báº£o user `devops` vÃ  group `devops` cÃ³ quyá»n quáº£n lÃ½ toÃ n bá»™ thÆ° má»¥c Jenkins slave.
- ThÆ°á»ng dÃ¹ng khi thiáº¿t láº­p mÃ´i trÆ°á»ng Jenkins agent.


2. Cáº¤U TRÃšC Lá»†NH
----------------
chown [owner].[group] <file_or_directory> -R

Giáº£i thÃ­ch Ã¡p dá»¥ng thá»±c táº¿:
- chown          : Command dÃ¹ng Ä‘á»ƒ thay Ä‘á»•i owner/group
- devops.devops  : 
  - `devops` trÆ°á»›c dáº¥u cháº¥m: owner má»›i
  - `devops` sau dáº¥u cháº¥m: group má»›i
- /opt/jenkins-slave : ÄÆ°á»ng dáº«n thÆ° má»¥c cáº§n thay Ä‘á»•i quyá»n
- -R             : Recursive, Ã¡p dá»¥ng cho táº¥t cáº£ file vÃ  thÆ° má»¥c con


3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
----------------------
1. Thay Ä‘á»•i **owner**:
   - Táº¥t cáº£ file trong `/opt/jenkins-slave` sáº½ thuá»™c user `devops`.

2. Thay Ä‘á»•i **group**:
   - Táº¥t cáº£ file sáº½ thuá»™c group `devops`.

3. Vá»›i option `-R`:
   - Lá»‡nh láº·p láº¡i trÃªn táº¥t cáº£ thÆ° má»¥c vÃ  file con.
   - Náº¿u bá» `-R`, chá»‰ thay Ä‘á»•i thÆ° má»¥c `/opt/jenkins-slave` mÃ  thÃ´i.


4. QUYá»€N Cáº¦N THIáº¾T
------------------
- ThÆ°á»ng cáº§n quyá»n root hoáº·c sudo:
  sudo chown devops.devops /opt/jenkins-slave -R

- Náº¿u user hiá»‡n táº¡i khÃ´ng pháº£i owner hoáº·c khÃ´ng cÃ³ sudo:
  - Lá»‡nh sáº½ bá»‹ lá»—i "Operation not permitted"


5. KIá»‚M TRA Káº¾T QUáº¢
-------------------
- Kiá»ƒm tra owner/group hiá»‡n táº¡i:
  ls -l /opt | grep jenkins-slave

- Káº¿t quáº£ sáº½ hiá»ƒn thá»‹:
  drwxr-xr-x  5 devops devops 4096 Dec 16 18:00 jenkins-slave


6. LÆ¯U Ã QUAN TRá»ŒNG
-------------------
- DÃ¹ng `-R` cáº©n tháº­n, Ä‘áº·c biá»‡t vá»›i thÆ° má»¥c chá»©a nhiá»u file quan trá»ng
- Thay Ä‘á»•i owner/group sai cÃ³ thá»ƒ gÃ¢y lá»—i truy cáº­p hoáº·c cháº¡y service
- LuÃ´n kiá»ƒm tra sau khi chown Ä‘á»ƒ Ä‘áº£m báº£o Jenkins agent hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng


7. TÃ“M Táº®T
-----------
- Lá»‡nh `chown devops.devops /opt/jenkins-slave -R`:
  - Thay Ä‘á»•i owner vÃ  group cá»§a thÆ° má»¥c `/opt/jenkins-slave`
  - Ãp dá»¥ng cho táº¥t cáº£ file vÃ  thÆ° má»¥c con
- Má»¥c Ä‘Ã­ch: Jenkins agent (slave) cÃ³ quyá»n devops
- Cáº§n sudo Ä‘á»ƒ thá»±c hiá»‡n
- Kiá»ƒm tra láº¡i báº±ng `ls -l` sau khi cháº¡y lá»‡nh
		
		
		- cmd: vim /etc/ssh/sshd_config
		
Lá»†NH: vim /etc/ssh/sshd_config
====================================================================

1. vim lÃ  gÃ¬?
--------------------------------------------------------------------
- vim (Vi IMproved) lÃ  trÃ¬nh soáº¡n tháº£o vÄƒn báº£n trÃªn Linux
- DÃ¹ng Ä‘á»ƒ:
  + Táº¡o vÃ  chá»‰nh sá»­a file
  + Soáº¡n tháº£o script, config, code
- CÃ³ 2 cháº¿ Ä‘á»™ chÃ­nh:
  + Normal mode: Ä‘iá»u hÆ°á»›ng, xÃ³a, copy
  + Insert mode: gÃµ vÄƒn báº£n

--------------------------------------------------------------------

2. /etc/ssh/sshd_config lÃ  gÃ¬?
--------------------------------------------------------------------
- ÄÃ¢y lÃ  file cáº¥u hÃ¬nh chÃ­nh cá»§a SSH daemon (sshd)
- SSH daemon lÃ  service cho phÃ©p káº¿t ná»‘i SSH vÃ o server
- File chá»©a cÃ¡c thiáº¿t láº­p quan trá»ng:
  + Port (máº·c Ä‘á»‹nh 22)
  + PermitRootLogin (cho phÃ©p root login)
  + PasswordAuthentication (cho phÃ©p xÃ¡c thá»±c báº±ng máº­t kháº©u)
  + PubkeyAuthentication (xÃ¡c thá»±c báº±ng key)
  + AllowUsers / DenyUsers
  + MaxSessions, MaxAuthTriesâ€¦

- File nÃ y thuá»™c quyá»n root â†’ cáº§n sudo Ä‘á»ƒ chá»‰nh sá»­a

--------------------------------------------------------------------

3. Ã nghÄ©a cá»§a lá»‡nh vim /etc/ssh/sshd_config
--------------------------------------------------------------------
- Má»Ÿ file sshd_config báº±ng vim
- Cho phÃ©p:
  + Xem ná»™i dung file
  + Chá»‰nh sá»­a cáº¥u hÃ¬nh SSH
- KhÃ´ng tá»± Ä‘á»™ng restart SSH â†’ chá»‰ chá»‰nh sá»­a file
- Sau khi sá»­a cáº§n reload hoáº·c restart SSH Ä‘á»ƒ Ã¡p dá»¥ng

VÃ­ dá»¥:
sudo systemctl restart sshd

--------------------------------------------------------------------

4. Quy trÃ¬nh thao tÃ¡c trong vim
--------------------------------------------------------------------
1) Má»Ÿ file:
sudo vim /etc/ssh/sshd_config

2) Chuyá»ƒn sang Insert mode Ä‘á»ƒ chá»‰nh sá»­a:
- Nháº¥n i â†’ gÃµ ná»™i dung

3) LÆ°u vÃ  thoÃ¡t:
- Nháº¥n Esc â†’ :wq â†’ Enter

4) Chá»‰ thoÃ¡t khÃ´ng lÆ°u:
- Nháº¥n Esc â†’ :q! â†’ Enter

--------------------------------------------------------------------

5. CÃ¡c chá»‰nh sá»­a phá»• biáº¿n
--------------------------------------------------------------------
- Thay Ä‘á»•i port:
Port 2222

- VÃ´ hiá»‡u hÃ³a root login:
PermitRootLogin no

- Cho phÃ©p xÃ¡c thá»±c báº±ng key:
PubkeyAuthentication yes
PasswordAuthentication no

- Giá»›i háº¡n user:
AllowUsers tuan admin

--------------------------------------------------------------------

6. Kiá»ƒm tra syntax trÆ°á»›c khi restart
--------------------------------------------------------------------
- Sá»­ dá»¥ng:
sshd -t

Náº¿u khÃ´ng cÃ³ lá»—i â†’ restart SSH

--------------------------------------------------------------------

7. LÆ°u Ã½ quan trá»ng
--------------------------------------------------------------------
- Chá»‰nh sá»­a sshd_config sai â†’ SSH cÃ³ thá»ƒ khÃ´ng khá»Ÿi Ä‘á»™ng
- LuÃ´n backup file trÆ°á»›c khi chá»‰nh sá»­a:
sudo cp /etc/ssh/sshd_config /etc/ssh/sshd_config.bak

- Khi thay Ä‘á»•i port â†’ nhá»› má»Ÿ firewall vÃ  Security Group

--------------------------------------------------------------------

8. Kiá»ƒm tra sau khi restart
--------------------------------------------------------------------
- Kiá»ƒm tra SSH status:
sudo systemctl status sshd

- Kiá»ƒm tra cá»•ng SSH:
ss -tulnp | grep sshd

--------------------------------------------------------------------

9. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
vim /etc/ssh/sshd_config =
Má» FILE Cáº¤U HÃŒNH SSH DAEMON Báº°NG VIM Äá»‚ XEM HOáº¶C CHá»ˆNH Sá»¬A, SAU ÄÃ“ RESTART SSH Äá»‚ ÃP Dá»¤NG
		
		
		- cmd: systemctl restart ssh
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
systemctl restart ssh
===========================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    systemctl restart ssh

ÄÆ°á»£c sá»­ dá»¥ng trÃªn há»‡ Ä‘iá»u hÃ nh Linux dÃ¹ng systemd Ä‘á»ƒ:
- Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥ SSH (Secure Shell)
- Ãp dá»¥ng cÃ¡c thay Ä‘á»•i cáº¥u hÃ¬nh mÃ  khÃ´ng cáº§n reboot toÃ n bá»™ há»‡ thá»‘ng
- Dá»«ng vÃ  sau Ä‘Ã³ khá»Ÿi Ä‘á»™ng láº¡i tiáº¿n trÃ¬nh sshd
- ThÆ°á»ng dÃ¹ng trong quáº£n trá»‹ há»‡ thá»‘ng, quáº£n lÃ½ server tá»« xa

Má»¥c Ä‘Ã­ch:
â†’ Äáº£m báº£o dá»‹ch vá»¥ SSH cháº¡y vá»›i cáº¥u hÃ¬nh má»›i hoáº·c kháº¯c phá»¥c lá»—i táº¡m thá»i


2. GIá»šI THIá»†U systemctl VÃ€ systemd
----------------------------------

2.1. systemd lÃ  gÃ¬?
-------------------
- systemd lÃ  há»‡ thá»‘ng quáº£n lÃ½ dá»‹ch vá»¥ (init system) trÃªn Linux hiá»‡n Ä‘áº¡i
- Quáº£n lÃ½:
  + Service
  + Socket
  + Mount
  + Timer
  + Target
- Thay tháº¿ SysVinit cÅ©

2.2. systemctl lÃ  gÃ¬?
---------------------
- systemctl lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i systemd
- DÃ¹ng Ä‘á»ƒ:
  + Start / Stop service
  + Restart service
  + Enable / Disable service
  + Xem tráº¡ng thÃ¡i service


3. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N Lá»†NH
--------------------------------

3.1. systemctl
--------------
- CÃ´ng cá»¥ quáº£n lÃ½ service cá»§a systemd
- Gá»­i yÃªu cáº§u tá»›i systemd Ä‘á»ƒ Ä‘iá»u khiá»ƒn hoáº·c truy váº¥n dá»‹ch vá»¥

3.2. restart
------------
- restart = stop + start
- Dá»«ng tiáº¿n trÃ¬nh service Ä‘ang cháº¡y vÃ  khá»Ÿi Ä‘á»™ng láº¡i ngay
- Ãp dá»¥ng thay Ä‘á»•i cáº¥u hÃ¬nh mÃ  khÃ´ng cáº§n reboot toÃ n há»‡ thá»‘ng

3.3. ssh
--------
- TÃªn service SSH daemon
- TÆ°Æ¡ng á»©ng vá»›i tiáº¿n trÃ¬nh sshd
- File service thÆ°á»ng:
    /lib/systemd/system/ssh.service
    hoáº·c /etc/systemd/system/ssh.service

Chá»©c nÄƒng:
- Cho phÃ©p káº¿t ná»‘i tá»« xa qua SSH
- XÃ¡c thá»±c user
- Cung cáº¥p shell vÃ  tunnel cho remote connection


4. TÃC Dá»¤NG Cá»¦A Lá»†NH
--------------------
Khi cháº¡y:
    systemctl restart ssh

Há»‡ thá»‘ng thá»±c hiá»‡n:
1. Dá»«ng dá»‹ch vá»¥ sshd hiá»‡n táº¡i
2. Khá»Ÿi Ä‘á»™ng láº¡i sshd
3. SSH sáº½ cháº¡y vá»›i cáº¥u hÃ¬nh hiá»‡n táº¡i cá»§a /etc/ssh/sshd_config
4. Náº¿u cáº¥u hÃ¬nh sai, SSH cÃ³ thá»ƒ khÃ´ng khá»Ÿi Ä‘á»™ng Ä‘Æ°á»£c â†’ máº¥t káº¿t ná»‘i tá»« xa


5. YÃŠU Cáº¦U QUYá»€N Háº N
--------------------
- Cáº§n quyá»n root hoáº·c sudo Ä‘á»ƒ restart dá»‹ch vá»¥ SSH

VÃ­ dá»¥:
    sudo systemctl restart ssh

- User bÃ¬nh thÆ°á»ng sáº½ bá»‹ lá»—i "Failed to restart ssh.service: Access denied"


6. KIá»‚M TRA SAU KHI RESTART
---------------------------
- Kiá»ƒm tra tráº¡ng thÃ¡i SSH:
    systemctl status ssh
- Kiá»ƒm tra tiáº¿n trÃ¬nh sshd:
    ps aux | grep sshd
- Kiá»ƒm tra log SSH:
    journalctl -u ssh


7. LÆ¯U Ã QUAN TRá»ŒNG
------------------
- Restart SSH tá»« káº¿t ná»‘i tá»« xa cÃ³ thá»ƒ lÃ m máº¥t káº¿t ná»‘i náº¿u cáº¥u hÃ¬nh sshd sai
- NÃªn má»Ÿ thÃªm má»™t terminal SSH khÃ¡c Ä‘á»ƒ backup trÆ°á»›c khi restart
- Kiá»ƒm tra file /etc/ssh/sshd_config trÆ°á»›c khi restart:
    sshd -t
- Náº¿u lá»—i cáº¥u hÃ¬nh, sshd sáº½ khÃ´ng restart Ä‘Æ°á»£c


8. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------
8.1. Could not restart ssh.service
- NguyÃªn nhÃ¢n: lá»—i cáº¥u hÃ¬nh
- CÃ¡ch xá»­ lÃ½:
    sudo sshd -t   â†’ kiá»ƒm tra config
    sudo systemctl restart ssh

8.2. Access denied
- NguyÃªn nhÃ¢n: khÃ´ng cÃ³ quyá»n root
- CÃ¡ch xá»­ lÃ½:
    sudo systemctl restart ssh


9. CÃC Lá»†NH LIÃŠN QUAN THÆ¯á»œNG DÃ™NG
--------------------------------
- Start SSH:
    systemctl start ssh
- Stop SSH:
    systemctl stop ssh
- Enable SSH khá»Ÿi Ä‘á»™ng cÃ¹ng há»‡ thá»‘ng:
    systemctl enable ssh
- Disable SSH:
    systemctl disable ssh


10. TÃ“M Táº®T
------------
- systemctl restart ssh: restart dá»‹ch vá»¥ SSH
- Ãp dá»¥ng thay Ä‘á»•i cáº¥u hÃ¬nh
- Cáº§n quyá»n sudo/root
- NÃªn kiá»ƒm tra cáº¥u hÃ¬nh trÆ°á»›c khi restart Ä‘á»ƒ trÃ¡nh máº¥t káº¿t ná»‘i tá»« xa


Káº¾T LUáº¬N
--------
ÄÃ¢y lÃ  lá»‡nh cÆ¡ báº£n nhÆ°ng quan trá»ng trong quáº£n trá»‹ server,
Ä‘áº£m báº£o SSH daemon hoáº¡t Ä‘á»™ng á»•n Ä‘á»‹nh, Ã¡p dá»¥ng cáº¥u hÃ¬nh má»›i vÃ  duy trÃ¬ kháº£ nÄƒng remote quáº£n lÃ½.
		
		
		- cmd: id devops
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
id devops
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh `id` trong Linux dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin vá» user
vÃ  group cá»§a má»™t tÃ i khoáº£n cá»¥ thá»ƒ trÃªn há»‡ thá»‘ng.

Khi cháº¡y:
id devops

- `devops` lÃ  tÃªn tÃ i khoáº£n (user) trÃªn há»‡ thá»‘ng
- Lá»‡nh sáº½ tráº£ vá» UID, GID vÃ  cÃ¡c group mÃ  user nÃ y thuá»™c vá»
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ kiá»ƒm tra quyá»n vÃ  phÃ¢n quyá»n trÃªn Linux

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. id
--------------------------------------------------
- Lá»‡nh Linux cÆ¡ báº£n
- Chá»©c nÄƒng:
  + Hiá»ƒn thá»‹ UID (User ID)
  + Hiá»ƒn thá»‹ GID (Group ID)
  + Hiá»ƒn thá»‹ nhÃ³m (group) mÃ  user thuá»™c vá»

CÃº phÃ¡p:
--------------------------------------------------
id [tÃ¹y chá»n] [username]

- Náº¿u khÃ´ng cÃ³ username: hiá»ƒn thá»‹ thÃ´ng tin cá»§a user hiá»‡n táº¡i
- Náº¿u cÃ³ username: hiá»ƒn thá»‹ thÃ´ng tin user Ä‘Ã³

--------------------------------------------------
2.2. devops
--------------------------------------------------
- TÃªn user cáº§n tra cá»©u
- CÃ³ thá»ƒ lÃ :
  + User quáº£n lÃ½ DevOps
  + User dÃ¹ng Ä‘á»ƒ cháº¡y cÃ¡c job CI/CD
  + User cáº§n kiá»ƒm tra quyá»n truy cáº­p file hoáº·c process

--------------------------------------------------
3. Káº¾T QUáº¢ Äáº¦U RA MáºªU
--------------------------------------------------
VÃ­ dá»¥ khi cháº¡y:
id devops

CÃ³ thá»ƒ nháº­n Ä‘Æ°á»£c:
--------------------------------------------------
uid=1002(devops) gid=1002(devops) groups=1002(devops),27(sudo),1003(docker)
--------------------------------------------------

Giáº£i thÃ­ch:
- uid=1002(devops)      â†’ ID sá»‘ cá»§a user devops lÃ  1002
- gid=1002(devops)      â†’ ID sá»‘ group chÃ­nh cá»§a user lÃ  1002
- groups=1002(devops),27(sudo),1003(docker)
  â†’ User thuá»™c cÃ¡c group:
    + devops (group chÃ­nh)
    + sudo (cÃ³ quyá»n admin)
    + docker (cÃ³ quyá»n thao tÃ¡c Docker)

--------------------------------------------------
4. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Kiá»ƒm tra UID/GID cá»§a user
- XÃ¡c Ä‘á»‹nh quyá»n háº¡n trÃªn file vÃ  thÆ° má»¥c
- Kiá»ƒm tra user cÃ³ thuá»™c group Ä‘áº·c quyá»n (sudo, docker) khÃ´ng
- Há»— trá»£ phÃ¢n quyá»n DevOps, CI/CD, script automation

--------------------------------------------------
5. TÃ™Y CHá»ŒN PHá»” BIáº¾N
--------------------------------------------------
- `id -u devops` â†’ Chá»‰ hiá»ƒn thá»‹ UID
- `id -g devops` â†’ Chá»‰ hiá»ƒn thá»‹ GID
- `id -G devops` â†’ Hiá»ƒn thá»‹ táº¥t cáº£ GID cá»§a group mÃ  user thuá»™c vá»
- `id -nG devops` â†’ Hiá»ƒn thá»‹ tÃªn táº¥t cáº£ group user thuá»™c vá»

--------------------------------------------------
6. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- Náº¿u user khÃ´ng tá»“n táº¡i: lá»‡nh tráº£ lá»—i â€œno such userâ€
- Chá»‰ root má»›i cÃ³ thá»ƒ tra cá»©u thÃ´ng tin chi tiáº¿t cá»§a táº¥t cáº£ user
- ThÆ°á»ng dÃ¹ng trong kiá»ƒm tra quyá»n, script automation vÃ  quáº£n trá»‹ há»‡ thá»‘ng

--------------------------------------------------
7. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
id devops
= Hiá»ƒn thá»‹ UID, GID vÃ  cÃ¡c group cá»§a user devops
= DÃ¹ng Ä‘á»ƒ kiá»ƒm tra quyá»n vÃ  phÃ¢n quyá»n
= Phá»¥c vá»¥ quáº£n trá»‹ Linux vÃ  DevOps
==================================================


		
		
		
		
		
		
		
		

	- Jenkins: Manage Jenkins -> Tools -> JDK installations -> Add JDK
	- Jenkins: Manage Jenkins -> Tools -> Maven installations
	- Jenkins: Manage Jenkins -> Tools -> SonarQube Scanner installations
	- Jenkins: Manage Jenkins -> Plugins -> Available plugins -> S3 publisher
	- Jenkins: Manage Jenkins -> Plugins -> Available plugins -> Build Timestamp
	- Jenkins: Manage Jenkins -> Plugins -> Available plugins -> Pipeline Maven Integration
	- Jenkins: Manage Jenkins -> Plugins -> Available plugins -> Pipeline Utility Steps
	- Jenkins: Manage Jenkins -> Plugins -> Available plugins -> Nexus Artifact Uploader
	- Jenkins: Manage Jenkins -> Plugins -> Available plugins -> SonarQube Scanner
	- Jenkins: Manage Jenkins -> System -> Build Timestamp
	- Jenkins: Manage Jenkins -> System -> SonarQube servers -> Add SonarQube
	- Jenkins: Manage Jenkins -> System -> SonarQube servers -> Environment variables
	- Jenkins: Manage Jenkins -> System -> Slack
	- Jenkins: Manage Jenkins -> Credentials -> Stores scoped to Jenkins -> System -> Global credentials (unrestricted) -> Add Credentials
	- Jenkins: Manage Jenkins -> Nodes -> New node
	- Jenkins: Manage Jenkins -> Security -> Git Host Key Verification Configuration -> Accept first connection
	- Jenkins: New Item -> Freestyle project -> Source Code Management -> Git
	- Jenkins: New Item -> Freestyle project -> Build Steps -> Invoke top-level Maven targets
	- Jenkins: New Item -> Freestyle project -> Post-build Actions -> Archive the artifacts
	- Jenkins: New Item -> Freestyle project -> Post-build Actions -> Publish artifacts to S3 Bucket
	- Jenkins: New Item -> Freestyle project -> Copy from
	- Jenkins: New Item -> Pipeline -> Pipeline script
	- Jenkins: New Item -> Pipeline -> Pipeline script from SCM
	- Jenkins: New Item -> General -> This project is parameterized -> String parameter
	- Jenkins: Jenkins instance -> Build Now	
	- Jenkins: Jenkins instance -> Configure
	- Jenkins: Jenkins instance -> Workspace
	- Jenkins: Jenkins instance -> Stages
	- Jenkins: Jenkins result -> Workspaces	
	- AWS: EC2 -> Instances -> Instance state -> Reboot instance
	- AWS: Amazon Elastic Container Registry
	- AWS: Amazon Elastic Container Service -> Clusters -> Create cluster
	- AWS: Amazon Elastic Container Service -> Clusters -> instance -> Services -> Create
	- AWS: Amazon Elastic Container Service -> Clusters -> instance -> Services -> Update service
	- AWS: Amazon Elastic Container Service -> Task definitions -> Create new task definition
	- Nexus: Browse
	- SonarQube -> Project -> Project instance
	- SonarQube -> Project -> Project instance -> Project setting -> Quality gate
	- SonarQube -> Project -> Project instance -> Project setting -> Webhooks
	- SonarQube -> Quality Gates -> create
	- SonarQube -> Quality Gates -> Quality Gates instance -> Unlock editing -> Add condition
	- Nexus -> Configuration -> Repositories -> Create Repository -> maven2(hosted)
	- Nexus -> Browse -> instance
	- Github -> Settings -> SSH and GPG keys -> New SSH key
	- Github -> Project instance -> Settings -> Webhooks -> Add webhook
		
	- Code trong Execute Shell:
	
		Case 1:
		
			mkdir -p versions
			cp target/vprofile-v2.war versions/vpro$BUILD_ID.war
			
		Case 2:
		
			mkdir -p versions
			cp target/vprofile-v2.war version/vpro$VERSION.war

		Case 3:
					
			mkdir -p versions
			cp target/vprofile-v2.war versions/vpro$BUILD_TIMESTAMP.war
	
	- Code Jenkinsfile:

		Case 1:
		
			pipeline {
				agent any
				tools {
					maven "MAVEN3.9"
					jdk "JDK17"
				}
				stages {
					stage('Fetch code') {
						steps{
							git branch: 'atom', url: 'https://github.com/hkhcoder/vprofile-project.git'
						}
					}

					stage('Unit Test') {
						steps{
							sh 'mvn test'
						}
					}

					stage('Build') {
						steps{
							sh 'mvn install -DskipTests'
						}
						post {
							success {
								echo "Archiving artifact"
								archiveArtifacts artifacts: '**/*.war'
							}
						}
					}
				}
			}

		Case 2:
		
			def COLOR_MAP = [
				'SUCCESS': 'good',
				'FAILURE': 'danger',
			]

			pipeline {
				agent any
				tools {
					maven "MAVEN3.9"
					jdk "JDK17"
				}
				stages {
					stage('Fetch code') {
						steps{
							git branch: 'atom', url: 'https://github.com/hkhcoder/vprofile-project.git'
						}
					}

					stage('Unit Test') {
						steps{
							sh 'mvn test'
						}
					}

					stage('Build') {
						steps{
							sh 'mvn install -DskipTests'
						}
						post {
							success {
								echo "Now archiving it..."
								archiveArtifacts artifacts: '**/target/*.war'
							}
						}
					}

					stage('UNIT TEST') {
						steps{
							sh 'mvn test'
						}
					}

					stage('Checkstyle Analysis') {
						steps{
							sh 'mvn checkstyle:checkstyle'
						}
					}

					stage('Sonar Code Analysis') {
						environment {
							scannerHome = tool 'sonar7.3'
						}
						steps {
							withSonarQubeEnv('sonarserver') {
								sh '''${scannerHome}/bin/sonar-scanner -Dsonar.projectKey=vprofile \
								-Dsonar.projectName=vprofile \
								-Dsonar.projectVersion=1.0 \
								-Dsonar.sources=src/ \
								-Dsonar.java.binaries=target/test-classes/com/visualpathit/account/controllerTest/ \
								-Dsonar.junit.reportsPath=target/surefire-reports/ \
								-Dsonar.jacoco.reportsPath=target/jacoco.exec \
								-Dsonar.java.checkstyle.reportPaths=target/checkstyle-result.xml'''
							}
						}
					}

					stage("Quality Gate") {
					  steps {
						timeout(time: 1, unit: 'HOURS') {
						  waitForQualityGate abortPipeline: true
						}
					  }
					}
					stage("UploadArtifact"){
						steps{
							nexusArtifactUploader(
								nexusVersion: 'nexus3',
								protocol: 'http',
								nexusUrl: '172.31.30.253:8081',
								groupId: 'QA',
								version: "${env.BUILD_ID}-${env.BUILD_TIMESTAMP}",
								repository: 'vprofile-repo',
								credentialsId: 'nexuslogin',
								artifacts: [
									[artifactId: 'vproapp',
									classifier: '',
									file: 'target/vprofile-v2.war',
									type: 'war']
								]
							)
						}
					}
				}

				post {
					always {
						echo 'Slack Notifications.'
						slackSend channel: '#devopscicd',
							color: COLOR_MAP[currentBuild.currentResult],
							message: "*${currentBuild.currentResult}:* Job ${env.JOB_NAME} build ${env.BUILD_NUMBER} \n More info at: ${env.BUILD_URL}"
					}
				}
			}

		Case 3:
		
			def COLOR_MAP = [
				'SUCCESS': 'good', 
				'FAILURE': 'danger',
			]
			pipeline {
				agent any
				tools {
					maven "MAVEN3.9"
					jdk "JDK17"
				}

				stages {

					stage('test slack'){
						steps{
							sh 'NotARealCommand'

						}
					}
					stage('Fetch code') {
						steps {
						   git branch: 'atom', url: 'https://github.com/hkhcoder/vprofile-project.git'
						}

					}


					stage('Build'){
						steps{
						   sh 'mvn install -DskipTests'
						}

						post {
						   success {
							  echo 'Now Archiving it...'
							  archiveArtifacts artifacts: '**/target/*.war'
						   }
						}
					}

					stage('UNIT TEST') {
						steps{
							sh 'mvn test'
						}
					}

					stage('Checkstyle Analysis') {
						steps{
							sh 'mvn checkstyle:checkstyle'
						}
					}

					stage("Sonar Code Analysis") {
						environment {
							scannerHome = tool 'sonar6.2'
						}
						steps {
						  withSonarQubeEnv('sonarserver') {
							sh '''${scannerHome}/bin/sonar-scanner -Dsonar.projectKey=vprofile \
							   -Dsonar.projectName=vprofile \
							   -Dsonar.projectVersion=1.0 \
							   -Dsonar.sources=src/ \
							   -Dsonar.java.binaries=target/test-classes/com/visualpathit/account/controllerTest/ \
							   -Dsonar.junit.reportsPath=target/surefire-reports/ \
							   -Dsonar.jacoco.reportsPath=target/jacoco.exec \
							   -Dsonar.java.checkstyle.reportPaths=target/checkstyle-result.xml'''
						  }
						}
					}

					stage("Quality Gate") {
						steps {
						  timeout(time: 1, unit: 'HOURS') {
							waitForQualityGate abortPipeline: true
						  }
						}
					  }

					 stage("UploadArtifact"){
						steps{
							nexusArtifactUploader(
							  nexusVersion: 'nexus3',
							  protocol: 'http',
							  nexusUrl: '172.31.25.14:8081',
							  groupId: 'QA',
							  version: "${env.BUILD_ID}-${env.BUILD_TIMESTAMP}",
							  repository: 'vprofile-repo',
							  credentialsId: 'nexuslogin',
							  artifacts: [
								[artifactId: 'vproapp',
								 classifier: '',
								 file: 'target/vprofile-v2.war',
								 type: 'war']
							  ]
							)
						}
					}


				}

			  post {
					always {
						echo 'Slack Notifications.'
						slackSend channel: '#devopscicd',
							color: COLOR_MAP[currentBuild.currentResult],
							message: "*${currentBuild.currentResult}:* Job ${env.JOB_NAME} build ${env.BUILD_NUMBER} \n More info at: ${env.BUILD_URL}"
					}
				}

			}
			
		Case 4:
		
			pipeline {
				agent any
				tools {
					maven "MAVEN3.9"
					jdk "JDK17"
				}


				environment {
					registryCredential = 'ecr:us-east-1:awscreds'
					appRegistry = "195524911861.dkr.ecr.us-east-1.amazonaws.com/vprofileappimg"
					vprofileRegistry = "https://195524911861.dkr.ecr.us-east-1.amazonaws.com"
				}
			  stages {
			   
					stage('Fetch code') {
						steps {
						   git branch: 'docker', url: 'https://github.com/hkhcoder/vprofile-project.git'
						}

					}


					stage('Build'){
						steps{
						   sh 'mvn install -DskipTests'
						}

						post {
						   success {
							  echo 'Now Archiving it...'
							  archiveArtifacts artifacts: '**/target/*.war'
						   }
						}
					}

					stage('UNIT TEST') {
						steps{
							sh 'mvn test'
						}
					}

					stage('Checkstyle Analysis') {
						steps{
							sh 'mvn checkstyle:checkstyle'
						}
					}

					stage("Sonar Code Analysis") {
						environment {
							scannerHome = tool 'sonar7.3'
						}
						steps {
						  withSonarQubeEnv('sonarserver') {
							sh '''${scannerHome}/bin/sonar-scanner -Dsonar.projectKey=vprofile \
							   -Dsonar.projectName=vprofile \
							   -Dsonar.projectVersion=1.0 \
							   -Dsonar.sources=src/ \
							   -Dsonar.java.binaries=target/test-classes/com/visualpathit/account/controllerTest/ \
							   -Dsonar.junit.reportsPath=target/surefire-reports/ \
							   -Dsonar.jacoco.reportsPath=target/jacoco.exec \
							   -Dsonar.java.checkstyle.reportPaths=target/checkstyle-result.xml'''
						  }
						}
					}

					stage("Quality Gate") {
						steps {
						  timeout(time: 1, unit: 'HOURS') {
							waitForQualityGate abortPipeline: true
						  }
						}
					  }

					stage('Build App Image') {
					  steps {
				   
						script {
							dockerImage = docker.build( appRegistry + ":$BUILD_NUMBER", "./Docker-files/app/multistage/")
							}
					  }
				
					}

					stage('Upload App Image') {
					  steps{
						script {
						  docker.withRegistry( vprofileRegistry, registryCredential ) {
							dockerImage.push("$BUILD_NUMBER")
							dockerImage.push('latest')
						  }
						}
					  }
					}

					// stage('Remove Container Images'){
					//     steps{
					//         sh 'docker rmi -f $(docker images -a -q)'
					//     }
					// }

			  }
			}
			
		Case 5:
		
			pipeline {
				agent any
				tools {
					maven "MAVEN3.9"
					jdk "JDK17"
				}


				environment {
					registryCredential = 'ecr:us-east-1:awscreds'
					appRegistry = "195524911861.dkr.ecr.us-east-1.amazonaws.com/vprofileappimg"
					vprofileRegistry = "https://195524911861.dkr.ecr.us-east-1.amazonaws.com"
					cluster = "vprofile"
					service = "vprofileappsvc"
				}
			  stages {
			   
					stage('Fetch code') {
						steps {
						   git branch: 'docker', url: 'https://github.com/hkhcoder/vprofile-project.git'
						}

					}


					stage('Build'){
						steps{
						   sh 'mvn install -DskipTests'
						}

						post {
						   success {
							  echo 'Now Archiving it...'
							  archiveArtifacts artifacts: '**/target/*.war'
						   }
						}
					}

					stage('UNIT TEST') {
						steps{
							sh 'mvn test'
						}
					}

					stage('Checkstyle Analysis') {
						steps{
							sh 'mvn checkstyle:checkstyle'
						}
					}

					stage("Sonar Code Analysis") {
						environment {
							scannerHome = tool 'sonar7.3'
						}
						steps {
						  withSonarQubeEnv('sonarserver') {
							sh '''${scannerHome}/bin/sonar-scanner -Dsonar.projectKey=vprofile \
							   -Dsonar.projectName=vprofile \
							   -Dsonar.projectVersion=1.0 \
							   -Dsonar.sources=src/ \
							   -Dsonar.java.binaries=target/test-classes/com/visualpathit/account/controllerTest/ \
							   -Dsonar.junit.reportsPath=target/surefire-reports/ \
							   -Dsonar.jacoco.reportsPath=target/jacoco.exec \
							   -Dsonar.java.checkstyle.reportPaths=target/checkstyle-result.xml'''
						  }
						}
					}

					stage("Quality Gate") {
						steps {
						  timeout(time: 1, unit: 'HOURS') {
							waitForQualityGate abortPipeline: true
						  }
						}
					  }

					stage('Build App Image') {
					  steps {
				   
						script {
							dockerImage = docker.build( appRegistry + ":$BUILD_NUMBER", "./Docker-files/app/multistage/")
							}
					  }
				
					}

					stage('Upload App Image') {
					  steps{
						script {
						  docker.withRegistry( vprofileRegistry, registryCredential ) {
							dockerImage.push("$BUILD_NUMBER")
							dockerImage.push('latest')
						  }
						}
					  }
					}

					stage('Remove Container Images'){
						steps{
							sh 'docker rmi -f $(docker images -a -q)'
						}
					}


					stage('Deploy to ecs') {
					  steps {
						withAWS(credentials: 'awscreds', region: 'us-east-1') {
						sh 'aws ecs update-service --cluster ${cluster} --service ${service} --force-new-deployment'
						   }
					  }
					}

			  }
			}
			
	Dockerfile code:
	
		Case 1:
		
			FROM tomcat:10-jdk21
			LABEL "Project"="Vprofile"
			LABEL "Author"="Imran"

			RUN rm -rf /usr/local/tomcat/webapps/*
			COPY target/vprofile-v2.war /usr/local/tomcat/webapps/ROOT.war

			EXPOSE 8080
			CMD ["catalina.sh", "run"]
			WORKDIR /usr/local/tomcat/
			VOLUME /usr/local/tomcat/webapps
			
			
--- Python:

	Google search:
	
		python jenkins library
		
		boto3 python

	- Commands:
	
		- cmd: python
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
python
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh `python` trong Linux/Windows/MacOS Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ:

- Cháº¡y trÃ¬nh thÃ´ng dá»‹ch Python (Python interpreter)
- Thá»±c thi file script Python (.py)
- Khá»Ÿi Ä‘á»™ng REPL (Read-Eval-Print Loop) Ä‘á»ƒ nháº­p vÃ  cháº¡y lá»‡nh Python trá»±c tiáº¿p
- Kiá»ƒm tra phiÃªn báº£n Python Ä‘Ã£ cÃ i Ä‘áº·t

Python lÃ  ngÃ´n ngá»¯ láº­p trÃ¬nh phá»• biáº¿n, máº¡nh máº½, vÃ  dá»… há»c,
dÃ¹ng cho:
- Web development (Django, Flask)
- Data science, AI, Machine Learning
- Automation, scripting
- DevOps, CI/CD

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. python
--------------------------------------------------
- ThÆ°á»ng lÃ  tÃªn lá»‡nh cho Python 2.x hoáº·c Python 3.x, tÃ¹y há»‡ thá»‘ng
- Má»™t sá»‘ há»‡ thá»‘ng dÃ¹ng `python3` Ä‘á»ƒ gá»i Python 3.x
- Khi cháº¡y mÃ  khÃ´ng cÃ³ tham sá»‘:
  + Cháº¡y REPL interactive Python

CÃº phÃ¡p:
--------------------------------------------------
python [options] [script.py] [args]

- Náº¿u khÃ´ng cÃ³ script: vÃ o interactive mode
- Náº¿u cÃ³ script: cháº¡y script Python vá»›i cÃ¡c Ä‘á»‘i sá»‘ args

--------------------------------------------------
3. CÃC TÃ™Y CHá»ŒN PHá»” BIáº¾N
--------------------------------------------------
1. Kiá»ƒm tra phiÃªn báº£n Python:
--------------------------------------------------
python --version
python -V
â†’ vÃ­ dá»¥: Python 3.11.5

2. Cháº¡y script Python:
--------------------------------------------------
python script.py
â†’ Thá»±c thi file script.py

3. Cháº¡y script vá»›i tham sá»‘:
--------------------------------------------------
python script.py arg1 arg2
â†’ Truyá»n arg1, arg2 vÃ o sys.argv trong Python

4. Má»Ÿ interactive REPL:
--------------------------------------------------
python
>>> print("Hello World")
Hello World

--------------------------------------------------
4. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. Há»‡ thá»‘ng tÃ¬m file nhá»‹ phÃ¢n Python trong PATH
2. Khá»Ÿi Ä‘á»™ng Python interpreter
3. Náº¿u cÃ³ script:
   - Thá»±c thi tá»«ng lá»‡nh trong script
4. Náº¿u khÃ´ng cÃ³ script:
   - Báº­t REPL, chá» lá»‡nh ngÆ°á»i dÃ¹ng nháº­p
5. Tráº£ káº¿t quáº£ ra terminal

--------------------------------------------------
5. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- TrÃªn há»‡ thá»‘ng hiá»‡n Ä‘áº¡i, nÃªn dÃ¹ng `python3` thay vÃ¬ `python` vÃ¬ Python 2 Ä‘Ã£ háº¿t support
- CÃ i Ä‘áº·t Python:
  + Linux: sudo apt install python3
  + Windows: download tá»« python.org
- Äáº£m báº£o PATH Ä‘Ã£ chá»©a Python Ä‘á»ƒ lá»‡nh `python` nháº­n diá»‡n Ä‘Æ°á»£c

--------------------------------------------------
6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Cháº¡y script Python
- Thá»­ nghiá»‡m code nhanh trong interactive mode
- Kiá»ƒm tra cÃ i Ä‘áº·t Python
- DÃ¹ng trong automation, DevOps, data analysis

--------------------------------------------------
7. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
python
= Cháº¡y Python interpreter hoáº·c script
= Há»— trá»£ interactive mode, script execution
= Kiá»ƒm tra phiÃªn báº£n Python
= DÃ¹ng trong láº­p trÃ¬nh, scripting, automation, DevOps
==================================================
		
		
		- cmd: ls -l first-python-code.py
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ls -l first-python-code.py

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Liá»‡t kÃª chi tiáº¿t thÃ´ng tin file "first-python-code.py"
- Hiá»ƒn thá»‹ cÃ¡c thuá»™c tÃ­nh nhÆ° quyá»n truy cáº­p, owner, group, dung lÆ°á»£ng, ngÃ y chá»‰nh sá»­a
- Phá»¥c vá»¥ viá»‡c kiá»ƒm tra file trÆ°á»›c khi cháº¡y hoáº·c chá»‰nh sá»­a

Ãp dá»¥ng:
- Linux/Unix
- Terminal hoáº·c shell

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. ls
--------------------------------------------------
ls = list
- Liá»‡t kÃª tÃªn file vÃ  thÆ° má»¥c
- Náº¿u khÃ´ng cÃ³ option, chá»‰ hiá»ƒn thá»‹ tÃªn file

2.2. -l
--------------------------------------------------
-l = long listing
- Hiá»ƒn thá»‹ chi tiáº¿t cÃ¡c thÃ´ng tin:
  + File type
  + Quyá»n truy cáº­p (permissions)
  + Sá»‘ liÃªn káº¿t (hard links)
  + Owner (chá»§ sá»Ÿ há»¯u)
  + Group
  + KÃ­ch thÆ°á»›c file (bytes)
  + NgÃ y giá» chá»‰nh sá»­a cuá»‘i cÃ¹ng
  + TÃªn file

2.3. first-python-code.py
--------------------------------------------------
- TÃªn file cáº§n xem chi tiáº¿t
- CÃ³ thá»ƒ lÃ  file Python (.py)
- CÃ³ thá»ƒ dÃ¹ng Ä‘Æ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i hoáº·c tuyá»‡t Ä‘á»‘i

--------------------------------------------------
3. Cáº¤U TRÃšC OUTPUT MáºªU
--------------------------------------------------
VÃ­ dá»¥ khi cháº¡y lá»‡nh:

-rw-r--r-- 1 tuan tuan 1024 Dec 16 18:30 first-python-code.py

Giáº£i thÃ­ch tá»«ng cá»™t:
1. -rw-r--r-- : quyá»n truy cáº­p file
   - "-" : file thÆ°á»ng
   - "r" : read
   - "w" : write
   - "x" : execute
   - Cá»™t thá»© 1-3: quyá»n owner
   - Cá»™t thá»© 4-6: quyá»n group
   - Cá»™t thá»© 7-9: quyá»n others

2. 1 : sá»‘ hard link tá»›i file

3. tuan : owner (chá»§ sá»Ÿ há»¯u file)

4. tuan : group sá»Ÿ há»¯u file

5. 1024 : dung lÆ°á»£ng file (bytes)

6. Dec 16 18:30 : ngÃ y giá» chá»‰nh sá»­a cuá»‘i cÃ¹ng

7. first-python-code.py : tÃªn file

--------------------------------------------------
4. Má»¤C ÄÃCH THÆ¯á»œNG DÃ™NG
--------------------------------------------------
- Kiá»ƒm tra quyá»n truy cáº­p trÆ°á»›c khi thá»±c thi: python first-python-code.py
- Kiá»ƒm tra owner/group file
- Kiá»ƒm tra dung lÆ°á»£ng file
- Debug váº¥n Ä‘á» permission khi cháº¡y script

--------------------------------------------------
5. Lá»†NH LIÃŠN QUAN
--------------------------------------------------
- ls -lh first-python-code.py : hiá»ƒn thá»‹ dung lÆ°á»£ng dá»… Ä‘á»c (KB/MB)
- ls -la first-python-code.py : hiá»ƒn thá»‹ file áº©n (náº¿u cÃ³)
- stat first-python-code.py   : xem thÃ´ng tin chi tiáº¿t hÆ¡n vá» file

--------------------------------------------------
6. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

6.1. File khÃ´ng tá»“n táº¡i
--------------------------------------------------
Lá»—i:
ls: cannot access 'first-python-code.py': No such file or directory

Giáº£i phÃ¡p:
- Kiá»ƒm tra tÃªn file vÃ  Ä‘Æ°á»ng dáº«n
- DÃ¹ng ls trong thÆ° má»¥c Ä‘Ãºng:
  ls -l /path/to/first-python-code.py

6.2. Permission denied
--------------------------------------------------
- NgÆ°á»i dÃ¹ng khÃ´ng cÃ³ quyá»n Ä‘á»c thÆ° má»¥c chá»©a file
- Cháº¡y vá»›i sudo náº¿u cáº§n:
  sudo ls -l first-python-code.py

--------------------------------------------------
7. Cáº¢NH BÃO
--------------------------------------------------
- Lá»‡nh nÃ y chá»‰ hiá»ƒn thá»‹ thÃ´ng tin, KHÃ”NG thay Ä‘á»•i file
- Quyá»n file áº£nh hÆ°á»Ÿng kháº£ nÄƒng thá»±c thi script

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
ls -l first-python-code.py

= Hiá»ƒn thá»‹ chi tiáº¿t file
= Xem quyá»n, owner, group, dung lÆ°á»£ng, thá»i gian chá»‰nh sá»­a
= Chá»‰ Ä‘á»c thÃ´ng tin, khÃ´ng sá»­a file
= PhÃ¹ há»£p kiá»ƒm tra trÆ°á»›c khi cháº¡y script Python
		
		
		- cmd: ./first-python-code.py
		
Lá»†NH: ./first-python-code.py
===========================

1. Má»¤C ÄÃCH
----------
Lá»‡nh `./first-python-code.py` dÃ¹ng Ä‘á»ƒ **cháº¡y trá»±c tiáº¿p má»™t file Python** tá»« terminal trÃªn Linux hoáº·c macOS.  

Trong trÆ°á»ng há»£p nÃ y:
- File tÃªn `first-python-code.py` lÃ  má»™t chÆ°Æ¡ng trÃ¬nh Python.
- Lá»‡nh cháº¡y file báº±ng shell script thÃ´ng qua interpreter Ä‘Ã£ Ä‘Æ°á»£c khai bÃ¡o trong file.


2. Cáº¤U TRÃšC Lá»†NH
----------------
./first-python-code.py

Giáº£i thÃ­ch:
- `./`          : Cháº¡y file náº±m trong thÆ° má»¥c hiá»‡n táº¡i (current directory)
- `first-python-code.py` : TÃªn file Python cáº§n thá»±c thi


3. YÃŠU Cáº¦U TRÆ¯á»šC KHI CHáº Y
-------------------------
1. File pháº£i cÃ³ **quyá»n thá»±c thi (executable)**:
   - Kiá»ƒm tra quyá»n:
     ls -l first-python-code.py
   - Náº¿u chÆ°a cÃ³ quyá»n:
     chmod +x first-python-code.py

2. File cáº§n **shebang line** á»Ÿ Ä‘áº§u file (náº¿u cháº¡y trá»±c tiáº¿p):
   - VÃ­ dá»¥:
     #!/usr/bin/env python3
   - Shebang xÃ¡c Ä‘á»‹nh interpreter nÃ o sáº½ dÃ¹ng Ä‘á»ƒ cháº¡y script

3. Python Ä‘Ã£ Ä‘Æ°á»£c cÃ i trÃªn há»‡ thá»‘ng:
   - Kiá»ƒm tra:
     python3 --version


4. CÃCH HOáº T Äá»˜NG
-----------------
Khi cháº¡y lá»‡nh `./first-python-code.py`:
1. Shell Ä‘á»c shebang line á»Ÿ Ä‘áº§u file
   - VÃ­ dá»¥ `#!/usr/bin/env python3`
   - DÃ¹ng Python 3 Ä‘á»ƒ thá»±c thi file

2. Python interpreter cháº¡y cÃ¡c lá»‡nh trong file
3. Output cá»§a script hiá»ƒn thá»‹ ra terminal


5. VÃ Dá»¤ THá»°C Táº¾
----------------
- Náº¿u ná»™i dung file:
  ```python
  #!/usr/bin/env python3
  print("Hello, World!")
		
		
		- cmd: python first-python-code.py
		
Lá»†NH: python first-python-code.py
====================================================================

1. python lÃ  gÃ¬?
--------------------------------------------------------------------
- Python lÃ  ngÃ´n ngá»¯ láº­p trÃ¬nh thÃ´ng dá»‹ch, cao cáº¥p, phá»• biáº¿n
- DÃ¹ng Ä‘á»ƒ:
  + Viáº¿t script
  + PhÃ¡t triá»ƒn web, backend
  + Data analysis, AI/ML
- Python thá»±c thi code trá»±c tiáº¿p, khÃ´ng cáº§n compile trÆ°á»›c

--------------------------------------------------------------------

2. first-python-code.py lÃ  gÃ¬?
--------------------------------------------------------------------
- ÄÃ¢y lÃ  tÃªn file Python báº¡n muá»‘n cháº¡y
- .py = file Python
- CÃ³ thá»ƒ chá»©a báº¥t ká»³ code Python nÃ o, vÃ­ dá»¥:
print("Hello World")

--------------------------------------------------------------------

3. Ã nghÄ©a cá»§a lá»‡nh python first-python-code.py
--------------------------------------------------------------------
- Cháº¡y file Python first-python-code.py báº±ng Python interpreter
- Python sáº½:
  1) Má»Ÿ file
  2) Äá»c tá»«ng dÃ²ng
  3) Thá»±c thi lá»‡nh tuáº§n tá»±
- Káº¿t quáº£ hiá»ƒn thá»‹ ra terminal (stdout) hoáº·c thá»±c hiá»‡n thao tÃ¡c trong code

KHÃ”NG:
- KhÃ´ng compile thÃ nh binary
- KhÃ´ng thay Ä‘á»•i file source trá»« khi code lÃ m viá»‡c vá»›i file

--------------------------------------------------------------------

4. PhiÃªn báº£n Python
--------------------------------------------------------------------
- python cÃ³ thá»ƒ trá» Ä‘áº¿n Python 2 hoáº·c Python 3 tÃ¹y há»‡ thá»‘ng
- Kiá»ƒm tra phiÃªn báº£n:
python --version
python3 --version

- Náº¿u cáº§n cháº¡y Python 3 explicitly:
python3 first-python-code.py

--------------------------------------------------------------------

5. Káº¿t quáº£ Ä‘áº§u ra
--------------------------------------------------------------------
- Output phá»¥ thuá»™c vÃ o ná»™i dung file
VÃ­ dá»¥ file:
print("Hello World")

Cháº¡y lá»‡nh:
python first-python-code.py

Output:
Hello World

--------------------------------------------------------------------

6. Quy trÃ¬nh thá»±c thi bÃªn trong
--------------------------------------------------------------------
1) Python Ä‘á»c file first-python-code.py
2) Tokenize code
3) Parse thÃ nh AST
4) Thá»±c thi tá»«ng statement
5) Hiá»ƒn thá»‹ káº¿t quáº£ (stdout) hoáº·c lá»—i (stderr)

--------------------------------------------------------------------

7. CÃ¡c lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) File khÃ´ng tá»“n táº¡i:
python: can't open file 'first-python-code.py': [Errno 2] No such file or directory

2) Lá»—i cÃº phÃ¡p:
SyntaxError: invalid syntax

3) Thiáº¿u module import:
ModuleNotFoundError: No module named 'requests'

--------------------------------------------------------------------

8. Thao tÃ¡c liÃªn quan
--------------------------------------------------------------------
- Cháº¡y interactive mode:
python
- Cháº¡y script vá»›i arguments:
python first-python-code.py arg1 arg2

- Cháº¡y module:
python -m module_name

--------------------------------------------------------------------

9. LÆ°u Ã½ quan trá»ng
--------------------------------------------------------------------
- Äáº£m báº£o Python Ä‘Ã£ cÃ i trÃªn há»‡ thá»‘ng
- Náº¿u nhiá»u phiÃªn báº£n Python â†’ dÃ¹ng python3 explicit
- File cáº§n cÃ³ quyá»n Ä‘á»c (chmod +r first-python-code.py)

--------------------------------------------------------------------

10. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
python first-python-code.py =
CHáº Y FILE PYTHON first-python-code.py Báº°NG PYTHON INTERPRETER, THá»°C THI CODE VÃ€ HIá»‚N THá»Š Káº¾T QUáº¢
		
		
		- cmd: yum search python3
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
yum search python3
===========================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    yum search python3

ÄÆ°á»£c sá»­ dá»¥ng trÃªn há»‡ Ä‘iá»u hÃ nh Linux thuá»™c há» Red Hat (RHEL, CentOS, Fedora cÅ©) Ä‘á»ƒ:
- TÃ¬m kiáº¿m cÃ¡c gÃ³i pháº§n má»m cÃ³ liÃªn quan Ä‘áº¿n "python3" trong cÃ¡c repository Ä‘Ã£ cáº¥u hÃ¬nh
- GiÃºp ngÆ°á»i quáº£n trá»‹ biáº¿t package nÃ o cÃ³ sáºµn Ä‘á»ƒ cÃ i Ä‘áº·t
- KhÃ´ng cÃ i Ä‘áº·t, chá»‰ liá»‡t kÃª káº¿t quáº£ tÃ¬m kiáº¿m

Má»¥c Ä‘Ã­ch:
â†’ XÃ¡c Ä‘á»‹nh cÃ¡c gÃ³i Python 3 hoáº·c cÃ¡c module liÃªn quan Ä‘á»ƒ cÃ i Ä‘áº·t báº±ng yum


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N Lá»†NH
--------------------------------

2.1. yum
---------
- yum = Yellowdog Updater Modified
- Quáº£n lÃ½ gÃ³i pháº§n má»m trÃªn há»‡ thá»‘ng Linux Red Hat-based
- Chá»©c nÄƒng chÃ­nh:
  + install: cÃ i Ä‘áº·t gÃ³i
  + update: cáº­p nháº­t gÃ³i
  + remove: gá»¡ gÃ³i
  + search: tÃ¬m kiáº¿m gÃ³i
- DÃ¹ng repository Ä‘á»ƒ biáº¿t cÃ¡c gÃ³i pháº§n má»m cÃ³ sáºµn

2.2. search
-----------
- Thao tÃ¡c tÃ¬m kiáº¿m gÃ³i pháº§n má»m
- CÃº phÃ¡p:
    yum search <tá»«_khÃ³a>
- Káº¿t quáº£:
  + Hiá»ƒn thá»‹ tÃªn gÃ³i (Package Name)
  + MÃ´ táº£ ngáº¯n cá»§a gÃ³i (Summary)
- PhÃ¹ há»£p Ä‘á»ƒ tÃ¬m gÃ³i má»›i hoáº·c kiá»ƒm tra tÃªn gÃ³i chÃ­nh xÃ¡c trÆ°á»›c khi cÃ i

2.3. python3
------------
- Tá»« khÃ³a tÃ¬m kiáº¿m
- Bao gá»“m:
  + python3 (package chÃ­nh)
  + python3-libs, python3-devel, python3-pip, python3-virtualenv, v.v.
- GiÃºp nhanh chÃ³ng xÃ¡c Ä‘á»‹nh cÃ¡c gÃ³i liÃªn quan Python 3 cÃ³ sáºµn trong repository

3. CÃCH HOáº T Äá»˜NG
-----------------
Khi cháº¡y lá»‡nh:
    yum search python3

1. Yum truy váº¥n táº¥t cáº£ repository Ä‘Ã£ cáº¥u hÃ¬nh
2. So sÃ¡nh tá»« khÃ³a "python3" vá»›i:
   - Package Name
   - Package Summary
3. Liá»‡t kÃª káº¿t quáº£ khá»›p vá»›i tá»« khÃ³a
4. Output hiá»ƒn thá»‹:
   - NAME: TÃŠN GÃ“I
   - SUMMARY: MÃ´ táº£ ngáº¯n gÃ³i
   - VÃ­ dá»¥:
        python3.x86_64 : Python 3 interpreter
        python3-devel.x86_64 : Libraries and header files for Python 3

4. YÃŠU Cáº¦U
------------
- Há»‡ thá»‘ng pháº£i cÃ i yum
- MÃ¡y pháº£i cÃ³ káº¿t ná»‘i repository (internet hoáº·c internal repo)
- Quyá»n user thÃ´ng thÆ°á»ng Ä‘á»§ Ä‘á»ƒ search, khÃ´ng cáº§n root

5. LÆ¯U Ã QUAN TRá»ŒNG
------------------
- Lá»‡nh nÃ y KHÃ”NG cÃ i gÃ³i
- Káº¿t quáº£ phá»¥ thuá»™c repository Ä‘Ã£ cáº¥u hÃ¬nh
- Náº¿u repository chÆ°a enable hoáº·c offline â†’ káº¿t quáº£ Ã­t hoáº·c trá»‘ng
- CÃ³ thá»ƒ dÃ¹ng:
    yum list available | grep python3
  Ä‘á»ƒ lá»c káº¿t quáº£ khÃ¡c

6. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------
6.1. Repository khÃ´ng kháº£ dá»¥ng
- NguyÃªn nhÃ¢n: network lá»—i hoáº·c repo chÆ°a enable
- CÃ¡ch xá»­ lÃ½: kiá»ƒm tra /etc/yum.repos.d/

6.2. KhÃ´ng tÃ¬m tháº¥y gÃ³i
- NguyÃªn nhÃ¢n: tá»« khÃ³a khÃ´ng chÃ­nh xÃ¡c, repo khÃ´ng cÃ³
- CÃ¡ch xá»­ lÃ½: thá»­ tá»« khÃ³a khÃ¡c hoáº·c enable repo

7. CÃC Lá»†NH LIÃŠN QUAN THÆ¯á»œNG DÃ™NG
--------------------------------
- CÃ i Ä‘áº·t Python3:
    sudo yum install python3 -y
- Cáº­p nháº­t Python3:
    sudo yum update python3 -y
- Liá»‡t kÃª cÃ¡c gÃ³i python3 Ä‘Ã£ cÃ i:
    yum list installed | grep python3
- Kiá»ƒm tra thÃ´ng tin gÃ³i:
    yum info python3

8. TÃ“M Táº®T
----------
- yum search python3: tÃ¬m gÃ³i liÃªn quan Python 3
- KhÃ´ng cÃ i Ä‘áº·t, chá»‰ hiá»ƒn thá»‹ tÃªn vÃ  mÃ´ táº£
- PhÃ¹ há»£p Ä‘á»ƒ chuáº©n bá»‹ cÃ i Ä‘áº·t hoáº·c kiá»ƒm tra gÃ³i

Káº¾T LUáº¬N
--------
ÄÃ¢y lÃ  lá»‡nh cÆ¡ báº£n Ä‘á»ƒ tÃ¬m kiáº¿m package Python 3 trÃªn há»‡ thá»‘ng Red Hat-based,
ráº¥t há»¯u Ã­ch trÆ°á»›c khi cÃ i Ä‘áº·t hoáº·c quáº£n lÃ½ gÃ³i pháº§n má»m.
		
		
		- cmd: yum install python3 -y
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
yum install python3 -y
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t Python 3 trÃªn cÃ¡c há»‡ thá»‘ng Linux
dÃ¹ng trÃ¬nh quáº£n lÃ½ gÃ³i YUM (nhÆ° CentOS, RHEL, Amazon Linux).

Python 3 lÃ  ngÃ´n ngá»¯ láº­p trÃ¬nh phá»• biáº¿n, dÃ¹ng cho:
- Automation vÃ  scripting
- Web development (Django, Flask)
- Data science, AI, Machine Learning
- DevOps, CI/CD, container, cloud scripts

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. yum
--------------------------------------------------
- YUM (Yellowdog Updater, Modified) lÃ  trÃ¬nh quáº£n lÃ½ gÃ³i
dÃ¹ng trÃªn RHEL, CentOS, Amazon Linux
- Chá»©c nÄƒng:
  + CÃ i Ä‘áº·t pháº§n má»m
  + Gá»¡ bá» pháº§n má»m
  + Cáº­p nháº­t há»‡ thá»‘ng
  + Quáº£n lÃ½ dependency tá»± Ä‘á»™ng

CÃº phÃ¡p chung:
--------------------------------------------------
yum install <package_name>

--------------------------------------------------
2.2. install
--------------------------------------------------
- Tham sá»‘ cho yum
- Chá»©c nÄƒng: cÃ i Ä‘áº·t gÃ³i pháº§n má»m Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh
- Yum sáº½:
  + TÃ¬m gÃ³i trong repository
  + Kiá»ƒm tra dependency
  + Táº£i vá» vÃ  cÃ i Ä‘áº·t tá»± Ä‘á»™ng

--------------------------------------------------
2.3. python3
--------------------------------------------------
- TÃªn gÃ³i pháº§n má»m cáº§n cÃ i Ä‘áº·t
- Bao gá»“m:
  + Python interpreter phiÃªn báº£n 3.x
  + CÃ¡c thÆ° viá»‡n cÆ¡ báº£n Ä‘i kÃ¨m
- Sau khi cÃ i, lá»‡nh `python3` sáº½ kháº£ dá»¥ng

--------------------------------------------------
2.4. -y
--------------------------------------------------
- TÃ¹y chá»n tá»± Ä‘á»™ng tráº£ lá»i â€œyesâ€ cho táº¥t cáº£ cÃ¡c prompt
- KhÃ´ng yÃªu cáº§u ngÆ°á»i dÃ¹ng xÃ¡c nháº­n trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. Yum kiá»ƒm tra quyá»n root (cáº§n sudo náº¿u khÃ´ng pháº£i root)
2. Káº¿t ná»‘i tá»›i repository vÃ  tÃ¬m gÃ³i python3
3. Kiá»ƒm tra cÃ¡c dependency liÃªn quan
4. Táº£i gÃ³i vÃ  cÃ¡c dependency tá»« repository
5. CÃ i Ä‘áº·t gÃ³i vÃ o há»‡ thá»‘ng
6. Cáº­p nháº­t database cá»§a yum Ä‘á»ƒ ghi nháº­n gÃ³i má»›i

--------------------------------------------------
4. KIá»‚M TRA SAU KHI CÃ€I Äáº¶T
--------------------------------------------------
- Kiá»ƒm tra phiÃªn báº£n Python 3:
--------------------------------------------------
python3 --version
â†’ vÃ­ dá»¥: Python 3.11.5

- Kiá»ƒm tra lá»‡nh python3 Ä‘Ã£ kháº£ dá»¥ng chÆ°a:
--------------------------------------------------
which python3
â†’ vÃ­ dá»¥: /usr/bin/python3

--------------------------------------------------
5. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- Pháº£i cÃ³ quyá»n root hoáº·c sudo Ä‘á»ƒ cÃ i Ä‘áº·t
- Python 3 cÃ³ thá»ƒ song song vá»›i Python 2
- KhÃ´ng cáº§n dÃ¹ng `-y` náº¿u muá»‘n xÃ¡c nháº­n thá»§ cÃ´ng
- Yum tá»± Ä‘á»™ng cÃ i cÃ¡c dependency cáº§n thiáº¿t

--------------------------------------------------
6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- CÃ i Ä‘áº·t Python 3 trÃªn há»‡ thá»‘ng RHEL/CentOS/Amazon Linux
- Chuáº©n bá»‹ mÃ´i trÆ°á»ng cho scripting, automation, DevOps
- Há»— trá»£ cháº¡y cÃ¡c á»©ng dá»¥ng Python 3 vÃ  CI/CD pipeline

--------------------------------------------------
7. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
yum install python3 -y
= CÃ i Python 3 trÃªn Linux sá»­ dá»¥ng yum
= Tá»± Ä‘á»™ng cÃ i dependency vÃ  tráº£ lá»i â€œyesâ€
= Sau khi cÃ i, lá»‡nh `python3` kháº£ dá»¥ng Ä‘á»ƒ cháº¡y script vÃ  REPL
==================================================
		
		
		- cmd: wget https://bootstrap.pypa.io/get-pip.py
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
wget https://bootstrap.pypa.io/get-pip.py

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Táº£i file "get-pip.py" tá»« trang chÃ­nh thá»©c cá»§a Python Packaging Authority (PyPA)
- File nÃ y Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t pip (trÃ¬nh quáº£n lÃ½ gÃ³i Python)
- ThÆ°á»ng lÃ  bÆ°á»›c Ä‘áº§u tiÃªn Ä‘á»ƒ cÃ i pip trÃªn há»‡ thá»‘ng Linux/Unix chÆ°a cÃ³ pip

wget:
- LÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ táº£i file tá»« Internet (HTTP, HTTPS, FTP)
- Tá»± Ä‘á»™ng lÆ°u file vá» thÆ° má»¥c hiá»‡n táº¡i

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. wget
--------------------------------------------------
wget lÃ :
- Command line utility Ä‘á»ƒ táº£i file
- Há»— trá»£ táº£i nhiá»u file, resume download, táº£i recursive
- PhÃ¹ há»£p cho script vÃ  tá»± Ä‘á»™ng hÃ³a

2.2. https://bootstrap.pypa.io/get-pip.py
--------------------------------------------------
- URL chÃ­nh thá»©c cá»§a PyPA Ä‘á»ƒ bootstrap pip
- HTTPS Ä‘áº£m báº£o káº¿t ná»‘i an toÃ n
- File get-pip.py:
  + Python script
  + CÃ i pip náº¿u chÆ°a cÃ³
  + CÃ³ thá»ƒ cáº­p nháº­t pip lÃªn phiÃªn báº£n má»›i nháº¥t

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. wget káº¿t ná»‘i tá»›i URL
2. Kiá»ƒm tra SSL/TLS (HTTPS)
3. Táº£i ná»™i dung file get-pip.py
4. LÆ°u file vÃ o thÆ° má»¥c hiá»‡n táº¡i vá»›i tÃªn "get-pip.py"
5. NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ cháº¡y tiáº¿p:
   python get-pip.py
   Ä‘á»ƒ cÃ i pip

--------------------------------------------------
4. KIá»‚M TRA SAU KHI Táº¢I
--------------------------------------------------
- Liá»‡t kÃª file:
ls -l get-pip.py

- Xem ná»™i dung (khÃ´ng cháº¡y):
head -n 20 get-pip.py

--------------------------------------------------
5. CÃC Lá»†NH LIÃŠN QUAN
--------------------------------------------------
- Táº£i vÃ  Ä‘á»•i tÃªn file:
wget -O install-pip.py https://bootstrap.pypa.io/get-pip.py

- Táº£i verbose (hiá»ƒn thá»‹ tiáº¿n trÃ¬nh):
wget -v https://bootstrap.pypa.io/get-pip.py

- Táº£i vá»›i resume náº¿u giÃ¡n Ä‘oáº¡n:
wget -c https://bootstrap.pypa.io/get-pip.py

--------------------------------------------------
6. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

6.1. wget: command not found
--------------------------------------------------
- ChÆ°a cÃ i wget
Giáº£i phÃ¡p:
sudo apt install wget -y        # Debian/Ubuntu
sudo yum install wget -y        # CentOS/RHEL

6.2. KhÃ´ng káº¿t ná»‘i Ä‘Æ°á»£c URL
--------------------------------------------------
- Kiá»ƒm tra káº¿t ná»‘i Internet
- Kiá»ƒm tra firewall/proxy

6.3. Permission denied khi lÆ°u file
--------------------------------------------------
- Cháº¡y trong thÆ° má»¥c khÃ´ng cÃ³ quyá»n ghi
Giáº£i phÃ¡p:
- Chuyá»ƒn thÆ° má»¥c, vÃ­ dá»¥: cd ~/Downloads
- Hoáº·c dÃ¹ng sudo (khÃ´ng khuyáº¿n nghá»‹)

--------------------------------------------------
7. Cáº¢NH BÃO
--------------------------------------------------
- Chá»‰ táº£i file get-pip.py tá»« URL chÃ­nh thá»©c
- KhÃ´ng cháº¡y script tá»« nguá»“n khÃ´ng xÃ¡c thá»±c
- Sau khi táº£i xong, cháº¡y pip bootstrap cáº§n quyá»n phÃ¹ há»£p:
  + python get-pip.py --user (cÃ i cho user)
  + sudo python get-pip.py (cÃ i system-wide)

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
wget https://bootstrap.pypa.io/get-pip.py

= Táº£i file get-pip.py tá»« PyPA
= Chuáº©n bá»‹ cÃ i pip cho Python
= LÆ°u file vá» thÆ° má»¥c hiá»‡n táº¡i
= DÃ¹ng wget, HTTPS an toÃ n
= File script Python â†’ cháº¡y python get-pip.py Ä‘á»ƒ cÃ i pip
		
		
		- cmd: python3 get-pip.py
		
Lá»†NH: python3 get-pip.py
========================

1. Má»¤C ÄÃCH
----------
Lá»‡nh `python3 get-pip.py` dÃ¹ng Ä‘á»ƒ **cÃ i Ä‘áº·t cÃ´ng cá»¥ quáº£n lÃ½ gÃ³i Python (pip)** trÃªn há»‡ thá»‘ng.

- `pip` lÃ  trÃ¬nh quáº£n lÃ½ gÃ³i chuáº©n cho Python, dÃ¹ng Ä‘á»ƒ:
  - CÃ i Ä‘áº·t, nÃ¢ng cáº¥p, gá»¡ bá» cÃ¡c thÆ° viá»‡n Python
  - Quáº£n lÃ½ dependencies cho dá»± Ã¡n
- File `get-pip.py` lÃ  script chÃ­nh thá»©c tá»« Python.org Ä‘á»ƒ cÃ i pip trÃªn cÃ¡c há»‡ thá»‘ng chÆ°a cÃ³ pip.


2. Cáº¤U TRÃšC Lá»†NH
----------------
python3 get-pip.py

Giáº£i thÃ­ch:
- `python3`           : Gá»i Python phiÃªn báº£n 3 Ä‘á»ƒ cháº¡y script
- `get-pip.py`        : Script Python dÃ¹ng Ä‘á»ƒ cÃ i pip


3. YÃŠU Cáº¦U TRÆ¯á»šC KHI CHáº Y
-------------------------
1. Python 3 Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t:
   - Kiá»ƒm tra:
     python3 --version

2. File `get-pip.py` Ä‘Ã£ Ä‘Æ°á»£c táº£i vá»:
   - VÃ­ dá»¥ táº£i tá»« trang chÃ­nh thá»©c:
     curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py

3. Quyá»n thá»±c thi:
   - Cháº¡y vá»›i quyá»n user hoáº·c sudo náº¿u cáº§n cÃ i pip system-wide:
     sudo python3 get-pip.py


4. CÃCH HOáº T Äá»˜NG
-----------------
1. Python 3 thá»±c thi file `get-pip.py`
2. Script thá»±c hiá»‡n cÃ¡c bÆ°á»›c:
   - Kiá»ƒm tra phiÃªn báº£n Python
   - Download phiÃªn báº£n pip má»›i nháº¥t
   - CÃ i Ä‘áº·t pip vÃ o há»‡ thá»‘ng hoáº·c virtual environment
   - CÃ i cÃ¡c gÃ³i bá»• trá»£ nhÆ° setuptools, wheel
3. Káº¿t quáº£:
   - Lá»‡nh `pip3` kháº£ dá»¥ng trÃªn terminal
   - CÃ³ thá»ƒ dÃ¹ng pip3 Ä‘á»ƒ cÃ i thÆ° viá»‡n Python


5. VÃ Dá»¤ THá»°C Táº¾
----------------
1. Táº£i get-pip.py:
   curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py

2. Cháº¡y cÃ i pip:
   sudo python3 get-pip.py

3. Kiá»ƒm tra pip:
   pip3 --version
   - Output vÃ­ dá»¥: pip 23.2.1 from /usr/local/lib/python3.11/site-packages/pip (python 3.11)


6. LÆ¯U Ã QUAN TRá»ŒNG
-------------------
- ThÆ°á»ng cháº¡y vá»›i sudo náº¿u muá»‘n cÃ i pip system-wide
- Náº¿u dÃ¹ng virtual environment, khÃ´ng cáº§n sudo
- Script get-pip.py táº£i pip trá»±c tiáº¿p tá»« PyPI, nÃªn cáº§n káº¿t ná»‘i Internet
- Äáº£m báº£o phiÃªn báº£n Python tÆ°Æ¡ng thÃ­ch vá»›i pip má»›i nháº¥t


7. TÃ“M Táº®T
-----------
- `python3 get-pip.py` dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t pip cho Python 3
- LÃ  cÃ¡ch chuáº©n khi há»‡ thá»‘ng chÆ°a cÃ³ pip
- Sau khi cÃ i xong, dÃ¹ng pip3 Ä‘á»ƒ cÃ i thÆ° viá»‡n Python
- CÃ³ thá»ƒ cháº¡y vá»›i quyá»n sudo hoáº·c trong virtualenv
		
		
		- cmd: dnf install python3-pip -y
		
Lá»†NH: dnf install python3-pip -y
====================================================================

1. dnf lÃ  gÃ¬?
--------------------------------------------------------------------
- DNF = Dandified Yum
- TrÃ¬nh quáº£n lÃ½ gÃ³i cho cÃ¡c há»‡ Ä‘iá»u hÃ nh Linux dá»±a trÃªn Red Hat:
  + Fedora
  + CentOS 8+
  + RHEL 8+
- DÃ¹ng Ä‘á»ƒ:
  + CÃ i Ä‘áº·t package
  + Cáº­p nháº­t package
  + Gá»¡ package
- Thay tháº¿ yum trÃªn cÃ¡c phiÃªn báº£n má»›i

--------------------------------------------------------------------

2. install nghÄ©a lÃ  gÃ¬?
--------------------------------------------------------------------
- install = cÃ i Ä‘áº·t package vÃ o há»‡ thá»‘ng
- Tá»± Ä‘á»™ng:
  + Táº£i package tá»« repository
  + Giáº£i quyáº¿t dependency
  + Cáº¥u hÃ¬nh package

--------------------------------------------------------------------

3. python3-pip lÃ  gÃ¬?
--------------------------------------------------------------------
- pip = Python Package Installer
- python3-pip = phiÃªn báº£n pip dÃ nh cho Python 3
- DÃ¹ng Ä‘á»ƒ:
  + CÃ i Ä‘áº·t thÆ° viá»‡n Python tá»« PyPI
  + Quáº£n lÃ½ package Python
- VÃ­ dá»¥: pip install requests

--------------------------------------------------------------------

4. -y nghÄ©a lÃ  gÃ¬?
--------------------------------------------------------------------
- -y = assume Yes
- Tá»± Ä‘á»™ng tráº£ lá»i "Yes" cho táº¥t cáº£ cÃ¢u há»i xÃ¡c nháº­n
- ThÆ°á»ng dÃ¹ng trong script hoáº·c khi khÃ´ng muá»‘n tÆ°Æ¡ng tÃ¡c thá»§ cÃ´ng

--------------------------------------------------------------------

5. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
dnf install python3-pip -y

â†’ CÃ i Ä‘áº·t pip cho Python 3 trÃªn há»‡ thá»‘ng Red Hat-based Linux
â†’ Tá»± Ä‘á»™ng Ä‘á»“ng Ã½ táº¥t cáº£ xÃ¡c nháº­n
â†’ Cho phÃ©p ngÆ°á»i dÃ¹ng cÃ i thÆ° viá»‡n Python dá»… dÃ ng

KHÃ”NG:
- KhÃ´ng cÃ i Python 3 (náº¿u Ä‘Ã£ cÃ³)
- KhÃ´ng thay Ä‘á»•i package ngoÃ i pip

--------------------------------------------------------------------

6. Quy trÃ¬nh thá»±c thi bÃªn trong
--------------------------------------------------------------------
1) DNF kiá»ƒm tra package python3-pip cÃ³ trong repository
2) Kiá»ƒm tra cÃ¡c dependency cáº§n thiáº¿t
3) Táº£i package vá»
4) CÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh
5) ThÃªm pip vÃ o PATH:
   + /usr/bin/pip3

--------------------------------------------------------------------

7. Kiá»ƒm tra sau khi cÃ i
--------------------------------------------------------------------
- Kiá»ƒm tra phiÃªn báº£n pip:
pip3 --version

- Kiá»ƒm tra package Ä‘Ã£ cÃ i:
pip3 list

--------------------------------------------------------------------

8. CÃ¡c lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) Permission denied:
- Cháº¡y thiáº¿u quyá»n root â†’ cáº§n sudo

2) Package khÃ´ng tá»“n táº¡i:
- ChÆ°a enable repository
- PhiÃªn báº£n OS quÃ¡ cÅ©

3) Network/Repo lá»—i:
- KhÃ´ng thá»ƒ download package
- Kiá»ƒm tra káº¿t ná»‘i Internet

--------------------------------------------------------------------

9. Thao tÃ¡c liÃªn quan
--------------------------------------------------------------------
- NÃ¢ng cáº¥p pip sau khi cÃ i:
pip3 install --upgrade pip

- CÃ i thÆ° viá»‡n Python:
pip3 install <package_name>

--------------------------------------------------------------------

10. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
dnf install python3-pip -y =
CÃ€I Äáº¶T PIP CHO PYTHON 3 TRÃŠN Há»† THá»NG RED HAT-BASED, Tá»° Äá»˜NG Äá»’NG Ã XÃC NHáº¬N
		
		
		- cmd: pip install 'fabric<2.0'
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
pip install 'fabric<2.0'
===============================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    pip install 'fabric<2.0'

ÄÆ°á»£c sá»­ dá»¥ng trÃªn Python environment Ä‘á»ƒ:
- CÃ i Ä‘áº·t gÃ³i Python tÃªn lÃ  `fabric`
- Giá»›i háº¡n phiÃªn báº£n cÃ i Ä‘áº·t dÆ°á»›i 2.0 (táº¥t cáº£ cÃ¡c version < 2.0)
- Tá»± Ä‘á»™ng táº£i vÃ  cÃ i Ä‘áº·t táº¥t cáº£ dependency cáº§n thiáº¿t cho Fabric

Má»¥c Ä‘Ã­ch:
â†’ Sá»­ dá»¥ng Fabric Ä‘á»ƒ tá»± Ä‘á»™ng hÃ³a viá»‡c quáº£n lÃ½ server, deploy code hoáº·c thá»±c thi lá»‡nh tá»« xa


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N Lá»†NH
--------------------------------

2.1. pip
--------
- pip lÃ  cÃ´ng cá»¥ quáº£n lÃ½ gÃ³i (package manager) cho Python
- Chá»©c nÄƒng:
  + CÃ i Ä‘áº·t package tá»« PyPI hoáº·c local
  + Quáº£n lÃ½ dependencies
  + Gá»¡ bá» package
- PhiÃªn báº£n Python >= 3.4 Ä‘Ã£ tÃ­ch há»£p pip sáºµn hoáº·c cÃ³ thá»ƒ cÃ i Ä‘áº·t riÃªng

2.2. install
------------
- TÃ¹y chá»n cá»§a pip dÃ¹ng Ä‘á»ƒ cÃ i package má»›i
- CÃº phÃ¡p:
    pip install <package_name>[==version specifier]

2.3. 'fabric<2.0'
-----------------
- TÃªn package: fabric
- Version specifier: `<2.0`
  + NghÄ©a lÃ  cÃ i báº¥t ká»³ version nÃ o nhá» hÆ¡n 2.0
  + VÃ­ dá»¥: 1.14, 1.13, â€¦ nhÆ°ng khÃ´ng cÃ i 2.0 hoáº·c lá»›n hÆ¡n
- DÃ¹ng dáº¥u nhÃ¡y Ä‘Æ¡n Ä‘á»ƒ shell khÃ´ng hiá»ƒu kÃ½ tá»± `<`


3. CÃCH HOáº T Äá»˜NG
-----------------
Khi cháº¡y lá»‡nh:
1. pip kiá»ƒm tra Python environment Ä‘ang active
2. Truy váº¥n PyPI (hoáº·c source mirror) Ä‘á»ƒ tÃ¬m package `fabric` phÃ¹ há»£p vá»›i Ä‘iá»u kiá»‡n `<2.0`
3. Táº£i package `.tar.gz` hoáº·c `.whl`
4. CÃ i Ä‘áº·t package vÃ o site-packages cá»§a Python
5. Táº£i vÃ  cÃ i Ä‘áº·t táº¥t cáº£ dependency liÃªn quan (vÃ­ dá»¥: paramiko, invoke)
6. Fabric sáºµn sÃ ng sá»­ dá»¥ng trong Python script hoáº·c tá»« CLI


4. YÃŠU Cáº¦U
------------
- Python Ä‘Ã£ cÃ i Ä‘áº·t
- pip Ä‘Ã£ cÃ i Ä‘áº·t vÃ  cáº­p nháº­t (pip install --upgrade pip)
- Quyá»n user Ä‘á»§ Ä‘á»ƒ cÃ i package vÃ o environment
- CÃ³ káº¿t ná»‘i Internet Ä‘á»ƒ táº£i package tá»« PyPI (trá»« khi dÃ¹ng local source)


5. LÆ¯U Ã QUAN TRá»ŒNG
------------------
- Version `<2.0` Ä‘Æ°á»£c chá»n vÃ¬ Fabric 2.x thay Ä‘á»•i API Ä‘Ã¡ng ká»ƒ, khÃ´ng tÆ°Æ¡ng thÃ­ch vá»›i script Fabric 1.x
- Náº¿u cáº§n nhiá»u project, nÃªn sá»­ dá»¥ng virtual environment:
    python -m venv venv
    source venv/bin/activate
    pip install 'fabric<2.0'
- TrÃ¡nh cÃ i trá»±c tiáº¿p vÃ o há»‡ thá»‘ng Python Ä‘á»ƒ khÃ´ng gÃ¢y xung Ä‘á»™t package khÃ¡c


6. KIá»‚M TRA SAU KHI CÃ€I Äáº¶T
--------------------------
- Kiá»ƒm tra version Fabric:
    python -c "import fabric; print(fabric.__version__)"
- Kiá»ƒm tra gÃ³i Ä‘Ã£ cÃ i trong pip:
    pip show fabric
- Kiá»ƒm tra dependency:
    pip list | grep paramiko
    pip list | grep invoke


7. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------
7.1. Command "pip" not found
- NguyÃªn nhÃ¢n: pip chÆ°a cÃ i
- CÃ¡ch xá»­ lÃ½:
    python -m ensurepip --upgrade
    hoáº·c cÃ i pip theo OS

7.2. Could not find a version that satisfies the requirement
- NguyÃªn nhÃ¢n:
  + Káº¿t ná»‘i máº¡ng bá»‹ cháº·n
  + Package khÃ´ng tá»“n táº¡i
  + PhiÃªn báº£n Python khÃ´ng tÆ°Æ¡ng thÃ­ch
- CÃ¡ch xá»­ lÃ½:
  + Kiá»ƒm tra Python version
  + Cáº­p nháº­t pip
  + Kiá»ƒm tra PyPI


8. TÃ“M Táº®T
----------
- pip install 'fabric<2.0': cÃ i Fabric phiÃªn báº£n 1.x
- pip: Python package manager
- install: cÃ i Ä‘áº·t package
- '<2.0': giá»›i háº¡n version
- DÃ¹ng cho automation, deploy, quáº£n lÃ½ server qua SSH


Káº¾T LUáº¬N
--------
ÄÃ¢y lÃ  lá»‡nh chuáº©n Ä‘á»ƒ cÃ i Fabric 1.x trong Python environment,
phÃ¹ há»£p cho cÃ¡c project automation hoáº·c deploy script sá»­ dá»¥ng API Fabric cÅ©.
		
		
		- cmd: export PATH=$PATH:/usr/local/bin
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
export PATH=$PATH:/usr/local/bin
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ thÃªm thÆ° má»¥c `/usr/local/bin` vÃ o biáº¿n mÃ´i trÆ°á»ng `PATH`
trÃªn há»‡ thá»‘ng Linux hoáº·c macOS.

- `PATH` lÃ  danh sÃ¡ch cÃ¡c thÆ° má»¥c mÃ  shell sáº½ tÃ¬m kiáº¿m khi báº¡n
  nháº­p lá»‡nh Ä‘á»ƒ cháº¡y chÆ°Æ¡ng trÃ¬nh.
- ThÃªm thÆ° má»¥c vÃ o PATH giÃºp cháº¡y cÃ¡c chÆ°Æ¡ng trÃ¬nh hoáº·c script
  trong thÆ° má»¥c Ä‘Ã³ mÃ  khÃ´ng cáº§n gÃµ Ä‘Æ°á»ng dáº«n Ä‘áº§y Ä‘á»§.

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. export
--------------------------------------------------
- Lá»‡nh shell dÃ¹ng Ä‘á»ƒ xuáº¥t biáº¿n mÃ´i trÆ°á»ng
- Äáº£m báº£o biáº¿n PATH má»›i cÃ³ hiá»‡u lá»±c trong shell hiá»‡n táº¡i
- CÃ¡c process con (subshell) cÅ©ng sáº½ nháº­n giÃ¡ trá»‹ nÃ y

--------------------------------------------------
2.2. PATH
--------------------------------------------------
- Biáº¿n mÃ´i trÆ°á»ng chá»©a danh sÃ¡ch thÆ° má»¥c ngÄƒn cÃ¡ch báº±ng dáº¥u `:`
- VÃ­ dá»¥:
  /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
- Shell sáº½ tÃ¬m cÃ¡c lá»‡nh theo thá»© tá»± cÃ¡c thÆ° má»¥c trong PATH

--------------------------------------------------
2.3. $PATH
--------------------------------------------------
- `$PATH` lÃ  giÃ¡ trá»‹ hiá»‡n táº¡i cá»§a biáº¿n PATH
- Khi viáº¿t `$PATH:/usr/local/bin`:
  + Giá»¯ nguyÃªn táº¥t cáº£ thÆ° má»¥c hiá»‡n cÃ³
  + ThÃªm `/usr/local/bin` vÃ o cuá»‘i danh sÃ¡ch

--------------------------------------------------
2.4. /usr/local/bin
--------------------------------------------------
- ThÆ° má»¥c tiÃªu Ä‘Æ°á»£c thÃªm vÃ o PATH
- Chá»©a cÃ¡c chÆ°Æ¡ng trÃ¬nh do ngÆ°á»i dÃ¹ng cÃ i Ä‘áº·t thá»§ cÃ´ng
- VÃ­ dá»¥:
  + Cháº¡y lá»‡nh cÃ i Ä‘áº·t tá»« source
  + Script tá»± viáº¿t
  + CÃ¡c binary khÃ´ng náº±m trong /usr/bin hoáº·c /bin

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. Shell Ä‘á»c lá»‡nh `export`
2. Thay Ä‘á»•i biáº¿n PATH hiá»‡n táº¡i báº±ng giÃ¡ trá»‹ má»›i:
   PATH = (giÃ¡ trá»‹ cÅ© cá»§a PATH) + :/usr/local/bin
3. Biáº¿n PATH Ä‘Æ°á»£c xuáº¥t ra mÃ´i trÆ°á»ng shell
4. Shell vÃ  cÃ¡c process con sáº½ tÃ¬m kiáº¿m lá»‡nh trong PATH má»›i

--------------------------------------------------
4. KIá»‚M TRA SAU KHI THá»°C HIá»†N
--------------------------------------------------
- Kiá»ƒm tra giÃ¡ trá»‹ PATH:
--------------------------------------------------
echo $PATH
â†’ Káº¿t quáº£ vÃ­ dá»¥: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/bin

- Cháº¡y lá»‡nh trong /usr/local/bin mÃ  khÃ´ng cáº§n Ä‘Æ°á»ng dáº«n Ä‘áº§y Ä‘á»§

--------------------------------------------------
5. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- ThÃªm `/usr/local/bin` vÃ o PATH cuá»‘i:
  + CÃ¡c lá»‡nh trong PATH cÅ© Æ°u tiÃªn hÆ¡n
- ThÃªm vÃ o Ä‘áº§u PATH (`export PATH=/usr/local/bin:$PATH`) sáº½ Æ°u tiÃªn `/usr/local/bin`
- Lá»‡nh nÃ y chá»‰ hiá»‡u lá»±c trong shell hiá»‡n táº¡i
- Muá»‘n thay Ä‘á»•i vÄ©nh viá»…n:
  + ThÃªm vÃ o ~/.bashrc, ~/.bash_profile, ~/.zshrc tÃ¹y shell

--------------------------------------------------
6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Cháº¡y cÃ¡c chÆ°Æ¡ng trÃ¬nh custom hoáº·c script tá»« báº¥t ká»³ thÆ° má»¥c nÃ o
- TrÃ¡nh pháº£i gÃµ Ä‘Æ°á»ng dáº«n Ä‘áº§y Ä‘á»§
- ThÆ°á»ng dÃ¹ng khi cÃ i pháº§n má»m thá»§ cÃ´ng hoáº·c binary local

--------------------------------------------------
7. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
export PATH=$PATH:/usr/local/bin
= ThÃªm /usr/local/bin vÃ o PATH hiá»‡n táº¡i
= Giá»¯ nguyÃªn cÃ¡c thÆ° má»¥c cÅ©
= Shell vÃ  process con sáº½ nháº­n giÃ¡ trá»‹ PATH má»›i
= Há»¯u Ã­ch Ä‘á»ƒ cháº¡y lá»‡nh tá»« thÆ° má»¥c custom mÃ  khÃ´ng cáº§n Ä‘Æ°á»ng dáº«n Ä‘áº§y Ä‘á»§
==================================================
		
		
		- cmd: ssh-copy-id devops@web01
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ssh-copy-id devops@web01

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Sao chÃ©p SSH public key cá»§a user hiá»‡n táº¡i lÃªn server tá»« xa
- User tá»« xa: devops
- Host tá»« xa: web01
- Má»¥c Ä‘Ã­ch: thiáº¿t láº­p káº¿t ná»‘i SSH khÃ´ng cáº§n máº­t kháº©u (passwordless login)
- ThÆ°á»ng dÃ¹ng trong quáº£n trá»‹ server hoáº·c tá»± Ä‘á»™ng hÃ³a (automation, Ansible, CI/CD)

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. ssh-copy-id
--------------------------------------------------
ssh-copy-id lÃ :
- Script tiá»‡n Ã­ch Ä‘i kÃ¨m vá»›i OpenSSH
- Tá»± Ä‘á»™ng thÃªm public key vÃ o file ~/.ssh/authorized_keys trÃªn server tá»« xa
- Tá»± Ä‘á»™ng táº¡o thÆ° má»¥c ~/.ssh vÃ  file authorized_keys náº¿u chÆ°a cÃ³
- Giáº£m rá»§i ro so vá»›i copy thá»§ cÃ´ng

2.2. devops@web01
--------------------------------------------------
- devops: user trÃªn server tá»« xa
- web01: hostname hoáº·c IP cá»§a server tá»« xa
- SSH sáº½ káº¿t ná»‘i tá»›i server vá»›i thÃ´ng tin nÃ y
- NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ nháº­p máº­t kháº©u láº§n Ä‘áº§u Ä‘á»ƒ xÃ¡c thá»±c

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. ssh-copy-id káº¿t ná»‘i tá»›i server web01 báº±ng SSH
2. YÃªu cáº§u nháº­p máº­t kháº©u user devops láº§n Ä‘áº§u
3. Script kiá»ƒm tra thÆ° má»¥c ~/.ssh trÃªn server, táº¡o náº¿u chÆ°a tá»“n táº¡i
4. Kiá»ƒm tra file ~/.ssh/authorized_keys, táº¡o náº¿u chÆ°a cÃ³
5. Sao chÃ©p ná»™i dung file public key (~/.ssh/id_rsa.pub hoáº·c tÆ°Æ¡ng tá»±) tá»« local vÃ o authorized_keys trÃªn server
6. Thiáº¿t láº­p quyá»n phÃ¹ há»£p cho ~/.ssh vÃ  authorized_keys (700 cho thÆ° má»¥c, 600 cho file)
7. Sau khi hoÃ n táº¥t, user cÃ³ thá»ƒ SSH vÃ o server web01 mÃ  khÃ´ng cáº§n nháº­p máº­t kháº©u

--------------------------------------------------
4. KIá»‚M TRA SAU KHI THá»°C HIá»†N
--------------------------------------------------
- SSH thá»­ nghiá»‡m:
ssh devops@web01
- Náº¿u khÃ´ng yÃªu cáº§u máº­t kháº©u â†’ káº¿t ná»‘i passwordless thÃ nh cÃ´ng

- Kiá»ƒm tra file authorized_keys trÃªn server:
cat ~/.ssh/authorized_keys

--------------------------------------------------
5. CÃC Lá»†NH LIÃŠN QUAN
--------------------------------------------------
- Xem key hiá»‡n cÃ³ trÃªn local:
cat ~/.ssh/id_rsa.pub

- Sao chÃ©p key cá»¥ thá»ƒ:
ssh-copy-id -i ~/.ssh/id_rsa.pub devops@web01

- Debug verbose:
ssh-copy-id -v devops@web01

--------------------------------------------------
6. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

6.1. Permission denied
--------------------------------------------------
NguyÃªn nhÃ¢n:
- Máº­t kháº©u khÃ´ng Ä‘Ãºng
- User khÃ´ng cÃ³ quyá»n SSH
- SSH server háº¡n cháº¿

Giáº£i phÃ¡p:
- Kiá»ƒm tra user/password
- Kiá»ƒm tra /etc/ssh/sshd_config trÃªn server

6.2. ThÆ° má»¥c ~/.ssh hoáº·c authorized_keys khÃ´ng tá»“n táº¡i
--------------------------------------------------
ssh-copy-id tá»± Ä‘á»™ng táº¡o náº¿u cáº§n

6.3. SSH key chÆ°a tá»“n táº¡i trÃªn local
--------------------------------------------------
Lá»‡nh bÃ¡o lá»—i:
No identities found
Giáº£i phÃ¡p:
ssh-keygen -t rsa -b 4096 -f ~/.ssh/id_rsa

--------------------------------------------------
7. Cáº¢NH BÃO
--------------------------------------------------
- Chá»‰ sao chÃ©p public key, KHÃ”NG bao giá» sao chÃ©p private key
- Äáº£m báº£o quyá»n thÆ° má»¥c ~/.ssh lÃ  700, file authorized_keys lÃ  600
- KhÃ´ng chia sáº» key cÃ¡ nhÃ¢n

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
ssh-copy-id devops@web01

= Sao chÃ©p public key tá»›i server tá»« xa
= Thiáº¿t láº­p SSH passwordless login
= Tá»± Ä‘á»™ng táº¡o ~/.ssh vÃ  authorized_keys náº¿u cáº§n
= Chá»‰ dÃ¹ng public key, báº£o máº­t cao hÆ¡n password
= ThÆ°á»ng dÃ¹ng cho user devops trÃªn host web01
		
		
		- cmd: ssh -i ~/.ssh/id_rsa devops@web01
		
Lá»†NH: ssh -i ~/.ssh/id_rsa devops@web01
======================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh `ssh -i ~/.ssh/id_rsa devops@web01` dÃ¹ng Ä‘á»ƒ **káº¿t ná»‘i tá»›i mÃ¡y chá»§ tá»« xa (remote server) báº±ng giao thá»©c SSH**.

- SSH (Secure Shell) lÃ  giao thá»©c báº£o máº­t Ä‘á»ƒ Ä‘Äƒng nháº­p vÃ  quáº£n lÃ½ server tá»« xa.
- Trong trÆ°á»ng há»£p nÃ y:
  - User: `devops`
  - Host: `web01` (cÃ³ thá»ƒ lÃ  hostname hoáº·c IP)
  - Key: `~/.ssh/id_rsa` dÃ¹ng Ä‘á»ƒ xÃ¡c thá»±c thay vÃ¬ máº­t kháº©u.


2. Cáº¤U TRÃšC Lá»†NH
----------------
ssh [options] user@host

Ãp dá»¥ng thá»±c táº¿:
ssh -i ~/.ssh/id_rsa devops@web01

Giáº£i thÃ­ch tá»«ng thÃ nh pháº§n:
- `ssh`                  : Command Ä‘á»ƒ táº¡o káº¿t ná»‘i SSH
- `-i ~/.ssh/id_rsa`     : Chá»‰ Ä‘á»‹nh file private key Ä‘á»ƒ xÃ¡c thá»±c
- `devops@web01`         : ÄÄƒng nháº­p vá»›i user `devops` lÃªn host `web01`


3. YÃŠU Cáº¦U TRÆ¯á»šC KHI CHáº Y
-------------------------
1. SSH server Ä‘ang cháº¡y trÃªn mÃ¡y web01:
   - Port máº·c Ä‘á»‹nh: 22 (cÃ³ thá»ƒ thay Ä‘á»•i)
   - Dá»‹ch vá»¥ sshd pháº£i active

2. Private key `~/.ssh/id_rsa` tá»“n táº¡i vÃ  cÃ³ quyá»n Ä‘á»c:
   - Quyá»n file:
     chmod 600 ~/.ssh/id_rsa

3. Public key Ä‘Ã£ Ä‘Æ°á»£c thÃªm vÃ o `~/.ssh/authorized_keys` trÃªn server:
   - User `devops` trÃªn `web01` pháº£i cÃ³ public key tÆ°Æ¡ng á»©ng


4. CÃCH HOáº T Äá»˜NG
-----------------
1. SSH client (mÃ¡y local) sá»­ dá»¥ng private key `id_rsa`.
2. Gá»­i yÃªu cáº§u káº¿t ná»‘i tá»›i server `web01`.
3. Server xÃ¡c thá»±c dá»±a trÃªn public key:
   - Náº¿u Ä‘Ãºng, cáº¥p phÃ©p Ä‘Äƒng nháº­p
   - Náº¿u sai, káº¿t ná»‘i bá»‹ tá»« chá»‘i
4. Sau khi xÃ¡c thá»±c thÃ nh cÃ´ng:
   - Terminal trÃªn mÃ¡y local trá»Ÿ thÃ nh shell cá»§a user `devops` trÃªn web01


5. VÃ Dá»¤ THá»°C Táº¾
----------------
- Káº¿t ná»‘i SSH:
  ssh -i ~/.ssh/id_rsa devops@web01
- Náº¿u káº¿t ná»‘i thÃ nh cÃ´ng, prompt sáº½ trá»Ÿ thÃ nh:
  devops@web01:~$

- Cháº¡y lá»‡nh trÃªn server tá»« xa:
  ls -l /var/www
  uptime
  tail -f /var/log/syslog


6. LÆ¯U Ã QUAN TRá»ŒNG
-------------------
- KhÃ´ng chia sáº» private key (~/.ssh/id_rsa) cho ngÆ°á»i khÃ¡c
- Äáº£m báº£o file private key cÃ³ quyá»n 600
- Náº¿u hostname khÃ´ng resolve Ä‘Æ°á»£c, thay báº±ng IP:
  ssh -i ~/.ssh/id_rsa devops@192.168.1.100
- Náº¿u server SSH dÃ¹ng port khÃ¡c, dÃ¹ng option -p:
  ssh -i ~/.ssh/id_rsa -p 2222 devops@web01
- Káº¿t há»£p vá»›i SSH config (~/.ssh/config) Ä‘á»ƒ rÃºt ngáº¯n lá»‡nh


7. TÃ“M Táº®T
-----------
- Lá»‡nh dÃ¹ng Ä‘á»ƒ Ä‘Äƒng nháº­p SSH vÃ o server `web01` vá»›i user `devops`
- DÃ¹ng private key `~/.ssh/id_rsa` Ä‘á»ƒ xÃ¡c thá»±c
- KhÃ´ng cáº§n nháº­p máº­t kháº©u náº¿u key Ä‘Ã£ setup Ä‘Ãºng
- ThÆ°á»ng dÃ¹ng cho quáº£n trá»‹ server, automation, CI/CD pipelines
		
		
		- cmd: ssh devops@web01
		
Lá»†NH: ssh devops@web01
====================================================================

1. ssh lÃ  gÃ¬?
--------------------------------------------------------------------
- SSH = Secure Shell
- Giao thá»©c káº¿t ná»‘i an toÃ n Ä‘áº¿n server tá»« xa
- DÃ¹ng Ä‘á»ƒ:
  + Remote login (Ä‘Äƒng nháº­p tá»« xa)
  + Thá»±c thi lá»‡nh trÃªn server
  + Chuyá»ƒn file (scp, sftp)
- Táº¥t cáº£ dá»¯ liá»‡u Ä‘Æ°á»£c mÃ£ hÃ³a, Ä‘áº£m báº£o báº£o máº­t

--------------------------------------------------------------------

2. devops@web01 lÃ  gÃ¬?
--------------------------------------------------------------------
- devops: username trÃªn server
  + User nÃ y sáº½ Ä‘Æ°á»£c SSH login
- web01: hostname hoáº·c IP cá»§a server
  + CÃ³ thá»ƒ lÃ  FQDN (Fully Qualified Domain Name) hoáº·c Ä‘á»‹a chá»‰ IP
- NghÄ©a tá»•ng thá»ƒ: Ä‘Äƒng nháº­p báº±ng user devops vÃ o server web01

--------------------------------------------------------------------

3. Ã nghÄ©a cá»§a lá»‡nh ssh devops@web01
--------------------------------------------------------------------
- Káº¿t ná»‘i tá»« mÃ¡y local Ä‘áº¿n server tá»« xa
- XÃ¡c thá»±c báº±ng:
  + Password cá»§a user devops
  + Hoáº·c SSH key (private key trÃªn local, public key trÃªn server)
- Sau khi káº¿t ná»‘i thÃ nh cÃ´ng:
  + Báº¡n sáº½ vÃ o shell cá»§a server
  + Thá»±c hiá»‡n cÃ¡c lá»‡nh nhÆ° Ä‘ang dÃ¹ng trá»±c tiáº¿p trÃªn server

KHÃ”NG:
- KhÃ´ng copy file (pháº£i dÃ¹ng scp hoáº·c sftp)
- KhÃ´ng cÃ i Ä‘áº·t pháº§n má»m
- Chá»‰ táº¡o káº¿t ná»‘i SSH

--------------------------------------------------------------------

4. Quy trÃ¬nh thá»±c thi
--------------------------------------------------------------------
1) SSH client (mÃ¡y local) gá»­i yÃªu cáº§u Ä‘áº¿n server web01 port 22 (máº·c Ä‘á»‹nh)
2) Server nháº­n káº¿t ná»‘i â†’ yÃªu cáº§u xÃ¡c thá»±c
3) User xÃ¡c thá»±c báº±ng:
   - Password hoáº·c
   - Key pair
4) Náº¿u Ä‘Ãºng â†’ má»Ÿ phiÃªn lÃ m viá»‡c shell
5) Náº¿u sai â†’ káº¿t ná»‘i bá»‹ tá»« chá»‘i

--------------------------------------------------------------------

5. VÃ­ dá»¥ sá»­ dá»¥ng
--------------------------------------------------------------------
- ÄÄƒng nháº­p báº±ng password:
ssh devops@192.168.1.10

- ÄÄƒng nháº­p báº±ng key:
ssh -i ~/.ssh/id_rsa devops@web01

--------------------------------------------------------------------

6. CÃ¡c tÃ¹y chá»n thÆ°á»ng dÃ¹ng
--------------------------------------------------------------------
- -p PORT â†’ chá»‰ Ä‘á»‹nh port khÃ¡c ngoÃ i 22
- -i KEYFILE â†’ chá»‰ Ä‘á»‹nh private key Ä‘á»ƒ xÃ¡c thá»±c
- -v â†’ hiá»ƒn thá»‹ verbose log khi káº¿t ná»‘i
- -C â†’ báº­t compression

--------------------------------------------------------------------

7. Kiá»ƒm tra káº¿t ná»‘i trÆ°á»›c khi SSH
--------------------------------------------------------------------
- Ping hostname:
ping web01

- Kiá»ƒm tra port 22 má»Ÿ khÃ´ng:
ss -tulnp | grep 22
hoáº·c
telnet web01 22

--------------------------------------------------------------------

8. LÆ°u Ã½ quan trá»ng
--------------------------------------------------------------------
- SSH key pair nÃªn dÃ¹ng Ä‘á»ƒ tÄƒng báº£o máº­t, trÃ¡nh dÃ¹ng password
- Kiá»ƒm tra firewall / security group cho phÃ©p SSH
- KhÃ´ng káº¿t ná»‘i báº±ng root trá»±c tiáº¿p â†’ tá»‘t nháº¥t dÃ¹ng user devops rá»“i sudo

--------------------------------------------------------------------

9. CÃ¡c lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) Permission denied
- Sai password hoáº·c key khÃ´ng Ä‘Ãºng
- Kiá»ƒm tra authorized_keys trÃªn server

2) Connection timed out
- Server khÃ´ng reachable
- Firewall cháº·n port 22

3) Host key verification failed
- Server fingerprint thay Ä‘á»•i
- XÃ³a entry trong ~/.ssh/known_hosts

--------------------------------------------------------------------

10. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
ssh devops@web01 =
Káº¾T Ná»I AN TOÃ€N QUA SSH Tá»šI SERVER web01 Vá»šI USER devops Äá»‚ THá»°C THI Lá»†NH Tá»ª XA
		
		
		- cmd: fab -H web01 -u devops remote_exec
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
fab -H web01 -u devops remote_exec
===========================================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    fab -H web01 -u devops remote_exec

ÄÆ°á»£c sá»­ dá»¥ng trong Python vá»›i **Fabric (phiÃªn báº£n 1.x)** Ä‘á»ƒ:
- Thá»±c thi lá»‡nh hoáº·c task tá»« xa trÃªn server thÃ´ng qua SSH
- Quáº£n lÃ½ server, deploy á»©ng dá»¥ng hoáº·c tá»± Ä‘á»™ng hÃ³a cÃ¡c tÃ¡c vá»¥
- Lá»‡nh nÃ y gá»i task `remote_exec` Ä‘á»‹nh nghÄ©a trong file fabfile.py

Má»¥c Ä‘Ã­ch:
â†’ Thá»±c thi task Fabric trÃªn server `web01` vá»›i user `devops`


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

2.1. fab
--------
- `fab` lÃ  CLI tool cá»§a **Fabric 1.x**
- Chá»©c nÄƒng:
  + Cháº¡y task Python tá»« file fabfile.py
  + Quáº£n lÃ½ SSH connection tá»›i server
  + Cho phÃ©p truyá»n tham sá»‘, hostname, user, password
- Lá»‡nh Fab luÃ´n tÃ¬m file `fabfile.py` trong thÆ° má»¥c hiá»‡n táº¡i

2.2. -H web01
-------------
- `-H` = host
- Chá»‰ Ä‘á»‹nh server tá»« xa Ä‘á»ƒ cháº¡y task
- CÃ³ thá»ƒ liá»‡t kÃª nhiá»u host, vÃ­ dá»¥:
    fab -H web01,web02,web03 task_name
- Trong vÃ­ dá»¥ nÃ y, chá»‰ cÃ³ 1 host `web01`

2.3. -u devops
---------------
- `-u` = user
- Chá»‰ Ä‘á»‹nh username Ä‘á»ƒ SSH vÃ o server tá»« xa
- Fabric sáº½ dÃ¹ng `devops` user Ä‘á»ƒ káº¿t ná»‘i
- Náº¿u server yÃªu cáº§u password, Fabric sáº½ há»i hoáº·c dÃ¹ng key authentication

2.4. remote_exec
----------------
- TÃªn **task** Fabric Ä‘á»‹nh nghÄ©a trong fabfile.py
- Task lÃ  má»™t hÃ m Python, vÃ­ dá»¥:

```python
def remote_exec():
    run('uptime')  # thá»±c thi lá»‡nh tá»« xa
		
		
		- cmd: fab -H web01 -u devops web_setup:https://www.tooplate.com/zip-templates/2136_kool_form_pack.zip,2136_kool_form_pack
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
fab -H web01 -u devops web_setup:https://www.tooplate.com/zip-templates/2136_kool_form_pack.zip,2136_kool_form_pack
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y sá»­ dá»¥ng Fabric, má»™t cÃ´ng cá»¥ Python dÃ¹ng Ä‘á»ƒ tá»± Ä‘á»™ng hÃ³a
cÃ¡c tÃ¡c vá»¥ trÃªn server tá»« xa thÃ´ng qua SSH.

Má»¥c Ä‘Ã­ch cá»§a lá»‡nh:
- Káº¿t ná»‘i tá»›i server `web01` báº±ng user `devops`
- Thá»±c thi task Fabric cÃ³ tÃªn `web_setup`
- Truyá»n vÃ o task cÃ¡c tham sá»‘:
  + URL cá»§a file zip: https://www.tooplate.com/zip-templates/2136_kool_form_pack.zip
  + TÃªn thÆ° má»¥c/giáº£i nÃ©n: 2136_kool_form_pack

Fabric thÆ°á»ng dÃ¹ng trong DevOps Ä‘á»ƒ:
- CÃ i Ä‘áº·t pháº§n má»m
- Triá»ƒn khai á»©ng dá»¥ng
- Cháº¡y script tá»± Ä‘á»™ng trÃªn nhiá»u server

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. fab
--------------------------------------------------
- Command-line tool cá»§a Fabric
- DÃ¹ng Ä‘á»ƒ gá»i cÃ¡c task Python Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong file fabfile.py
- Task cÃ³ thá»ƒ:
  + Local task: cháº¡y trÃªn mÃ¡y local
  + Remote task: cháº¡y trÃªn server tá»« xa qua SSH

--------------------------------------------------
2.2. -H web01
--------------------------------------------------
- `-H` hoáº·c `--hosts`: chá»‰ Ä‘á»‹nh server Ä‘Ã­ch
- web01: tÃªn host hoáº·c IP cá»§a server
- Fabric sáº½ káº¿t ná»‘i SSH tá»›i server nÃ y Ä‘á»ƒ thá»±c thi task

--------------------------------------------------
2.3. -u devops
--------------------------------------------------
- `-u` hoáº·c `--user`: chá»‰ Ä‘á»‹nh user SSH Ä‘á»ƒ Ä‘Äƒng nháº­p
- devops: tÃªn tÃ i khoáº£n trÃªn server `web01`

--------------------------------------------------
2.4. web_setup:https://www.tooplate.com/zip-templates/2136_kool_form_pack.zip,2136_kool_form_pack
--------------------------------------------------
- `web_setup`: tÃªn task Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong fabfile.py
- `:` phÃ¢n tÃ¡ch giá»¯a task vÃ  tham sá»‘
- Tham sá»‘ gá»­i vÃ o task:
  1. URL file zip cáº§n táº£i
  2. TÃªn thÆ° má»¥c hoáº·c package cáº§n giáº£i nÃ©n/cÃ i Ä‘áº·t

VÃ­ dá»¥ logic task web_setup cÃ³ thá»ƒ:
1. Táº£i file zip tá»« URL
2. Giáº£i nÃ©n vÃ o thÆ° má»¥c Ä‘Ã­ch
3. Thiáº¿t láº­p quyá»n hoáº·c cáº¥u hÃ¬nh web server

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. Fabric Ä‘á»c fabfile.py Ä‘á»ƒ tÃ¬m task `web_setup`
2. Káº¿t ná»‘i SSH tá»›i web01 vá»›i user devops
3. Truyá»n tham sá»‘ vÃ o task:
   + URL zip
   + ThÆ° má»¥c giáº£i nÃ©n
4. Task thá»±c thi cÃ¡c lá»‡nh:
   - wget/curl táº£i file zip
   - unzip file
   - Di chuyá»ƒn hoáº·c setup thÆ° má»¥c
5. Hiá»ƒn thá»‹ output trÃªn terminal
6. Káº¿t thÃºc káº¿t ná»‘i SSH

--------------------------------------------------
4. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Triá»ƒn khai template web tá»« URL vÃ o server tá»« xa
- Tá»± Ä‘á»™ng hÃ³a cÃ´ng viá»‡c cÃ i Ä‘áº·t web
- DÃ¹ng trong DevOps pipeline hoáº·c script deploy
- CÃ³ thá»ƒ má»Ÿ rá»™ng cho nhiá»u server cÃ¹ng lÃºc báº±ng Fabric

--------------------------------------------------
5. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- Fabric cáº§n Python cÃ i trÃªn mÃ¡y local vÃ  SSH access tá»›i server
- Server pháº£i cÃ³ devops user vÃ  quyá»n Ä‘á»§ Ä‘á»ƒ cháº¡y task
- URL pháº£i há»£p lá»‡, server cÃ³ káº¿t ná»‘i Internet
- Tham sá»‘ pháº£i Ä‘Ãºng Ä‘á»‹nh dáº¡ng theo task
- fabfile.py pháº£i cÃ³ Ä‘á»‹nh nghÄ©a task `web_setup`

--------------------------------------------------
6. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
fab -H web01 -u devops web_setup:<zip_url>,<folder_name>
= Fabric gá»i task web_setup trÃªn server web01
= SSH login báº±ng user devops
= Task web_setup táº£i file zip vÃ  giáº£i nÃ©n vÃ o thÆ° má»¥c Ä‘Ã­ch
= DÃ¹ng Ä‘á»ƒ tá»± Ä‘á»™ng hÃ³a triá»ƒn khai web hoáº·c template
==================================================


		
		
		
		
		
		
	
	
	- Python code:
	
		Case 1:
		
			print("""
			xin chao
			cac ban
			""")
			
		Case 2:
		
			print('''
			xin chao
			cac ban
			''')
			
		Case 3:

			a = b = c = 65

			print(a)
			print(b)
			print(c)		
			
		Case 4:

			a = 65

			print("a: ",a)		
			
		Case 5:

			w, x, y, z = "alpha", "beta", 12, 5.4

			print("Variable w value is ", w)
			print("Variable w value is ", x)
			print("Variable w value is ", y)
			print("Variable w value is ", z)

			print(type(w))		
			
		Case 6:

			str1 = "alpha"
			str2 = 'beta'
			str3 = '''gamma string'''
			str4 = """delta string"""
			num1 = 123
			first_list = [str1, "DevOps", 47, num1, 1.5]
			print(first_list)		
			
			str1 = "alpha"
			str2 = 'beta'
			str3 = '''gamma string'''
			str4 = """delta string"""
			num1 = 123
			first_tuple = (str1, "DevOps", 47, num1, 1.5)
			print(first_tuple)			
			
		Case 7:
		
			user_skill = input("Enter your desired skill: ")
			print(user_skill)
			
		Case 8:
		
			import time
			time.sleep(2)
			print("test")
			
		Case 9:

			def time_activity(*args, **kwargs):
				print(args)
				print(kwargs)
			time_activity(10, 20, 10, hobby="Dance", sport="Boxing", fun="Driving", work="DevOps")
				
		Case 10:
		
			from fabric.api import *

			def greetings(msg):
				print("Good {}".format(msg))

			def system_info():
				print("Disk space.")
				local("df -h")

				print("Memory info.")
				local("free -m")

				print("System Uptime.")
				local("uptime")

			def remote_exec():
				run("hostname")
				run("uptime")
				run("df -h")
				run("free -m")
				
				sudo("yum install unzip zip wget -y")
				
			def web_setup(WEBURL, DIRNAME):
				print("###############################################")
				print("Installing dependencies")
				print("###############################################")
				sudo("yum install httpd wget unzip -y")

				print("###############################################")
				print("Start & enable service.")
				sudo("systemctl start httpd")
				sudo("systemctl enable httpd")

				print("###############################################")
				local("apt install zip unzip -y")

				print("###############################################")
				print("Downloading and pushing website to webservers.")
				print("###############################################")
				local("wget -O website.zip %s" % WEBURL)
				local("unzip -o website.zip")

				print("###############################################")
				with lcd(DIRNAME):
					local("zip -r tooplate.zip * ")
					put("tooplate.zip", "/var/www/html/", use_sudo=True)

				with cd("/var/www/html/"):
					sudo("unzip -o tooplate.zip")

				sudo("systemctl restart httpd")
				print("Website setup is done.")



	Code cá»§a file /etc/ssh/sshd_config:
	
		Case 1:
		
			PasswordAuthentication yes
			
	Code cá»§a visudo:
	
		Case 1:
		
			devops  ALL=(ALL)       NOPASSWD: ALL

			
--- Learn Terraform:

	- Commands:
	
		- cmd: choco install terraform
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
choco install terraform
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y sá»­ dá»¥ng Chocolatey, má»™t package manager cho Windows,
Ä‘á»ƒ cÃ i Ä‘áº·t Terraform trÃªn mÃ¡y tÃ­nh.

Terraform lÃ  má»™t cÃ´ng cá»¥ IaC (Infrastructure as Code) cá»§a HashiCorp, dÃ¹ng Ä‘á»ƒ:
- Quáº£n lÃ½ háº¡ táº§ng cloud (AWS, Azure, GCP, v.v.)
- Tá»± Ä‘á»™ng hÃ³a deploy server, network, database
- Viáº¿t cáº¥u hÃ¬nh háº¡ táº§ng báº±ng code vÃ  version control

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. choco
--------------------------------------------------
- Command-line tool cá»§a Chocolatey
- Quáº£n lÃ½ package trÃªn Windows:
  + CÃ i Ä‘áº·t (install)
  + Gá»¡ bá» (uninstall)
  + Cáº­p nháº­t (upgrade)
  + TÃ¬m kiáº¿m (search)

--------------------------------------------------
2.2. install
--------------------------------------------------
- Tham sá»‘ cá»§a choco
- Chá»©c nÄƒng: cÃ i Ä‘áº·t package Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh tá»« repository cá»§a Chocolatey
- Tá»± Ä‘á»™ng táº£i vÃ  cáº¥u hÃ¬nh pháº§n má»m

--------------------------------------------------
2.3. terraform
--------------------------------------------------
- TÃªn package cáº§n cÃ i Ä‘áº·t
- TÆ°Æ¡ng á»©ng vá»›i Terraform CLI cá»§a HashiCorp
- Sau khi cÃ i Ä‘áº·t:
  + Lá»‡nh `terraform` kháº£ dá»¥ng trong command prompt hoáº·c PowerShell
  + CÃ³ thá»ƒ cháº¡y cÃ¡c command Terraform nhÆ° `terraform init`, `terraform plan`, `terraform apply`

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. Chocolatey kiá»ƒm tra quyá»n admin trÃªn Windows
2. Káº¿t ná»‘i tá»›i Chocolatey repository (https://community.chocolatey.org/)
3. Táº£i package Terraform vá» mÃ¡y
4. CÃ i Ä‘áº·t Terraform vÃ o thÆ° má»¥c máº·c Ä‘á»‹nh (thÆ°á»ng lÃ  C:\ProgramData\chocolatey\bin)
5. Cáº­p nháº­t PATH Ä‘á»ƒ lá»‡nh `terraform` kháº£ dá»¥ng
6. Hiá»ƒn thá»‹ káº¿t quáº£ cÃ i Ä‘áº·t vÃ  phiÃªn báº£n Terraform Ä‘Ã£ cÃ i

--------------------------------------------------
4. KIá»‚M TRA SAU KHI CÃ€I Äáº¶T
--------------------------------------------------
- Kiá»ƒm tra version Terraform:
--------------------------------------------------
terraform -version
â†’ vÃ­ dá»¥: Terraform v1.6.1

- Kiá»ƒm tra lá»‡nh terraform cÃ³ kháº£ dá»¥ng trong command prompt:
--------------------------------------------------
where terraform
â†’ vÃ­ dá»¥: C:\ProgramData\chocolatey\bin\terraform.exe

--------------------------------------------------
5. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- Cáº§n má»Ÿ command prompt hoáº·c PowerShell vá»›i quyá»n Admin
- Chocolatey pháº£i Ä‘Æ°á»£c cÃ i Ä‘áº·t trÆ°á»›c
- Máº¡ng Internet pháº£i káº¿t ná»‘i Ä‘á»ƒ táº£i package
- Lá»‡nh cÃ i Ä‘áº·t tá»± Ä‘á»™ng thÃªm Terraform vÃ o PATH
- CÃ³ thá»ƒ dÃ¹ng `choco upgrade terraform` Ä‘á»ƒ cáº­p nháº­t phiÃªn báº£n má»›i

--------------------------------------------------
6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- CÃ i Terraform nhanh chÃ³ng trÃªn Windows
- Chuáº©n bá»‹ mÃ´i trÆ°á»ng IaC Ä‘á»ƒ deploy háº¡ táº§ng
- Sá»­ dá»¥ng Terraform CLI Ä‘á»ƒ quáº£n lÃ½ cloud infrastructure

--------------------------------------------------
7. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
choco install terraform
= DÃ¹ng Chocolatey Ä‘á»ƒ cÃ i Terraform trÃªn Windows
= Tá»± Ä‘á»™ng táº£i, cÃ i vÃ  thÃªm PATH
= Sau khi cÃ i, lá»‡nh `terraform` kháº£ dá»¥ng Ä‘á»ƒ quáº£n lÃ½ háº¡ táº§ng cloud
==================================================
		
		
		- cmd: terraform --version
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
terraform --version

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Kiá»ƒm tra phiÃªn báº£n hiá»‡n táº¡i cá»§a Terraform Ä‘Ã£ cÃ i Ä‘áº·t trÃªn há»‡ thá»‘ng
- XÃ¡c Ä‘á»‹nh xem Terraform cÃ³ Ä‘Æ°á»£c cÃ i Ä‘áº·t Ä‘Ãºng hay khÃ´ng
- Phá»¥c vá»¥ cho viá»‡c quáº£n lÃ½, cáº­p nháº­t hoáº·c tÆ°Æ¡ng thÃ­ch vá»›i cÃ¡c script, module Terraform

Terraform:
- CÃ´ng cá»¥ Infrastructure as Code (IaC)
- Quáº£n lÃ½ háº¡ táº§ng cloud (AWS, Azure, GCP, v.v.) thÃ´ng qua code
- Cho phÃ©p táº¡o, thay Ä‘á»•i, xÃ³a háº¡ táº§ng tá»± Ä‘á»™ng

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. terraform
--------------------------------------------------
terraform lÃ :
- Binary command line cá»§a Terraform
- Cháº¡y trá»±c tiáº¿p trÃªn terminal
- CÃ¡c lá»‡nh phá»• biáº¿n:
  + terraform init   â†’ khá»Ÿi táº¡o project Terraform
  + terraform plan   â†’ kiá»ƒm tra thay Ä‘á»•i háº¡ táº§ng
  + terraform apply  â†’ triá»ƒn khai háº¡ táº§ng
  + terraform destroyâ†’ xÃ³a háº¡ táº§ng

2.2. --version
--------------------------------------------------
--version lÃ :
- Option dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ phiÃªn báº£n Terraform
- Lá»‡nh sáº½ in ra stdout:
  + PhiÃªn báº£n Terraform
  + Plugin provider máº·c Ä‘á»‹nh (náº¿u cáº§n)

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. Há»‡ thá»‘ng tÃ¬m binary terraform trong PATH
2. Cháº¡y Terraform vá»›i option --version
3. Terraform Ä‘á»c metadata vá» version
4. In ra thÃ´ng tin phiÃªn báº£n trÃªn terminal, vÃ­ dá»¥:
   Terraform v1.5.7
   on linux_amd64

--------------------------------------------------
4. Má»¤C ÄÃCH THÆ¯á»œNG DÃ™NG
--------------------------------------------------
- Kiá»ƒm tra Terraform Ä‘Ã£ cÃ i Ä‘áº·t chÆ°a
- XÃ¡c Ä‘á»‹nh version Ä‘á»ƒ tÆ°Æ¡ng thÃ­ch vá»›i module hoáº·c script Terraform
- Debug khi cháº¡y lá»‡nh Terraform gáº·p lá»—i version

--------------------------------------------------
5. Lá»†NH LIÃŠN QUAN
--------------------------------------------------
- terraform version : tÆ°Æ¡ng Ä‘Æ°Æ¡ng terraform --version
- terraform -v       : viáº¿t táº¯t, cÅ©ng hiá»ƒn thá»‹ version

--------------------------------------------------
6. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

6.1. Command not found
--------------------------------------------------
NguyÃªn nhÃ¢n:
- Terraform chÆ°a Ä‘Æ°á»£c cÃ i Ä‘áº·t
- Binary khÃ´ng náº±m trong PATH

Giáº£i phÃ¡p:
- CÃ i Terraform theo hÆ°á»›ng dáº«n chÃ­nh thá»©c:
  https://developer.hashicorp.com/terraform/downloads

6.2. PhiÃªn báº£n khÃ´ng tÆ°Æ¡ng thÃ­ch
--------------------------------------------------
- Module Terraform yÃªu cáº§u version khÃ¡c
- Giáº£i phÃ¡p:
  + Cáº­p nháº­t Terraform
  + Sá»­ dá»¥ng phiÃªn báº£n cá»¥ thá»ƒ vá»›i tfenv

--------------------------------------------------
7. Cáº¢NH BÃO
--------------------------------------------------
- PhiÃªn báº£n Terraform quan trá»ng Ä‘á»ƒ trÃ¡nh lá»—i module
- NÃªn ghi láº¡i version khi triá»ƒn khai háº¡ táº§ng production

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
terraform --version

= Hiá»ƒn thá»‹ phiÃªn báº£n Terraform Ä‘Ã£ cÃ i
= Kiá»ƒm tra Terraform cÃ³ sáºµn trÃªn há»‡ thá»‘ng
= Phá»¥c vá»¥ quáº£n lÃ½ háº¡ táº§ng vÃ  debug version
= Option --version = terraform version
		
		
		- cmd: terraform fmt
		
Lá»†NH: terraform fmt
==================

1. Má»¤C ÄÃCH
----------
Lá»‡nh `terraform fmt` dÃ¹ng Ä‘á»ƒ **Ä‘á»‹nh dáº¡ng láº¡i cÃ¡c file Terraform (.tf)** theo chuáº©n style do Terraform quy Ä‘á»‹nh.

Má»¥c Ä‘Ã­ch:
- Chuáº©n hÃ³a code Terraform Ä‘á»ƒ dá»… Ä‘á»c
- Giáº£m lá»—i do format khÃ¡c nhau giá»¯a cÃ¡c nhÃ  phÃ¡t triá»ƒn
- Chuáº©n bá»‹ code cho version control (Git)


2. Cáº¤U TRÃšC Lá»†NH
----------------
terraform fmt [options] [DIR]

Giáº£i thÃ­ch:
- `terraform`   : Command line tool cá»§a Terraform
- `fmt`         : Lá»‡nh format (Ä‘á»‹nh dáº¡ng)
- `[DIR]`       : ThÆ° má»¥c chá»©a file Terraform (máº·c Ä‘á»‹nh lÃ  thÆ° má»¥c hiá»‡n táº¡i)


3. TÃC Dá»¤NG Cá»¦A Lá»†NH
--------------------
- Äá»‹nh dáº¡ng cÃ¡c file .tf theo chuáº©n:
  - Thá»¥t lá» 2 space
  - CÄƒn chá»‰nh block, attribute
  - Chuáº©n hÃ³a quotes vÃ  spacing
- KhÃ´ng thay Ä‘á»•i logic Terraform, chá»‰ chá»‰nh style


4. VÃ Dá»¤ THá»°C Táº¾
-----------------
1. Format toÃ n bá»™ thÆ° má»¥c hiá»‡n táº¡i:
   terraform fmt

2. Format má»™t thÆ° má»¥c cá»¥ thá»ƒ:
   terraform fmt ./terraform/prod

3. Kiá»ƒm tra file cÃ³ cáº§n format mÃ  khÃ´ng thay Ä‘á»•i:
   terraform fmt -check

4. Format file trong cháº¿ Ä‘á»™ recursive (táº¥t cáº£ subdir):
   terraform fmt -recursive


5. TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG
------------------------
- `-check`       : Kiá»ƒm tra xem file cÃ³ cáº§n format khÃ´ng, khÃ´ng chá»‰nh sá»­a
- `-diff`        : Hiá»ƒn thá»‹ khÃ¡c biá»‡t trÆ°á»›c vÃ  sau khi format
- `-recursive`   : Format táº¥t cáº£ file trong subdirectory


6. LÆ¯U Ã QUAN TRá»ŒNG
-------------------
- Lá»‡nh khÃ´ng lÃ m há»ng Terraform state hoáº·c resource
- ThÆ°á»ng cháº¡y trÆ°á»›c khi commit code Ä‘á»ƒ giá»¯ style nháº¥t quÃ¡n
- Káº¿t há»£p vá»›i IDE/Editor cÃ³ plugin Terraform Ä‘á»ƒ tá»± Ä‘á»™ng format khi lÆ°u file


7. TÃ“M Táº®T
-----------
- `terraform fmt` Ä‘á»‹nh dáº¡ng file .tf theo chuáº©n Terraform
- GiÃºp code rÃµ rÃ ng, nháº¥t quÃ¡n vÃ  dá»… maintain
- Chá»‰ thay Ä‘á»•i style, khÃ´ng áº£nh hÆ°á»Ÿng logic hay state
- ThÆ°á»ng cháº¡y recursive vÃ  check trÆ°á»›c khi commit
		
		
		- cmd: terraform init
		
Lá»†NH: terraform init
====================================================================

1. Terraform lÃ  gÃ¬?
--------------------------------------------------------------------
- Terraform lÃ  cÃ´ng cá»¥ Infrastructure as Code (IaC) cá»§a HashiCorp
- DÃ¹ng Ä‘á»ƒ:
  + Táº¡o, thay Ä‘á»•i vÃ  quáº£n lÃ½ háº¡ táº§ng trÃªn cloud (AWS, Azure, GCPâ€¦)
  + Quáº£n lÃ½ cáº¥u hÃ¬nh háº¡ táº§ng báº±ng code
- File cáº¥u hÃ¬nh Terraform thÆ°á»ng cÃ³ Ä‘uÃ´i `.tf`

--------------------------------------------------------------------

2. init lÃ  gÃ¬ trong Terraform?
--------------------------------------------------------------------
- init = initialize
- Khá»Ÿi táº¡o má»™t thÆ° má»¥c lÃ m viá»‡c Terraform
- Chuáº©n bá»‹ mÃ´i trÆ°á»ng Ä‘á»ƒ cháº¡y cÃ¡c lá»‡nh Terraform khÃ¡c

--------------------------------------------------------------------

3. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh terraform init
--------------------------------------------------------------------
- Táº¡o thÆ° má»¥c `.terraform/` chá»©a:
  + Plugin provider (AWS, Azure, Google, v.v.)
  + Module Ä‘Ã£ táº£i vá»
- Kiá»ƒm tra cáº¥u hÃ¬nh Terraform cÃ³ há»£p lá»‡ khÃ´ng
- Thiáº¿t láº­p backend náº¿u cÃ³ (remote state)

KHÃ”NG:
- KhÃ´ng táº¡o háº¡ táº§ng
- KhÃ´ng apply thay Ä‘á»•i
- Chá»‰ khá»Ÿi táº¡o mÃ´i trÆ°á»ng lÃ m viá»‡c

--------------------------------------------------------------------

4. Quy trÃ¬nh thá»±c thi cá»§a terraform init
--------------------------------------------------------------------
1) Äá»c cÃ¡c file `.tf` trong thÆ° má»¥c hiá»‡n táº¡i
2) Kiá»ƒm tra provider Ä‘Æ°á»£c khai bÃ¡o
3) Táº£i plugin provider tÆ°Æ¡ng á»©ng vá» `.terraform/plugins/`
4) Táº¡o hoáº·c cáº¥u hÃ¬nh backend (náº¿u dÃ¹ng remote state)
5) Chuáº©n bá»‹ module (náº¿u sá»­ dá»¥ng module tá»« Terraform Registry hoáº·c local)
6) ThÃ´ng bÃ¡o tráº¡ng thÃ¡i thÃ nh cÃ´ng

--------------------------------------------------------------------

5. Output thÃ´ng thÆ°á»ng
--------------------------------------------------------------------
- ThÃ´ng bÃ¡o:
  + Terraform has been successfully initialized!
  + Directory initialized
  + Provider plugins installed
  + Module downloads complete (náº¿u cÃ³)

--------------------------------------------------------------------

6. TÃ¹y chá»n hay dÃ¹ng vá»›i terraform init
--------------------------------------------------------------------
- -backend-config="key=value" â†’ cáº¥u hÃ¬nh backend
- -reconfigure â†’ báº¯t Ä‘áº§u láº¡i init, bá» cache
- -upgrade â†’ nÃ¢ng cáº¥p provider plugin lÃªn phiÃªn báº£n má»›i nháº¥t
- -input=false â†’ khÃ´ng há»i input khi init

--------------------------------------------------------------------

7. Khi nÃ o cáº§n cháº¡y terraform init?
--------------------------------------------------------------------
- Láº§n Ä‘áº§u táº¡o thÆ° má»¥c Terraform
- ThÃªm hoáº·c thay Ä‘á»•i provider/module
- Chuyá»ƒn backend remote má»›i
- NÃ¢ng cáº¥p provider

--------------------------------------------------------------------

8. CÃ¡c lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) Provider not found
- ChÆ°a khai bÃ¡o provider hoáº·c version khÃ´ng há»£p lá»‡

2) Network error
- KhÃ´ng táº£i Ä‘Æ°á»£c plugin tá»« Terraform Registry

3) Backend config missing
- DÃ¹ng remote state nhÆ°ng chÆ°a cáº¥u hÃ¬nh backend

--------------------------------------------------------------------

9. LÆ°u Ã½ quan trá»ng
--------------------------------------------------------------------
- Chá»‰ cáº§n cháº¡y má»™t láº§n Ä‘áº§u tiÃªn trong thÆ° má»¥c dá»± Ã¡n
- Cháº¡y láº¡i náº¿u thay Ä‘á»•i provider hoáº·c module
- Äáº£m báº£o káº¿t ná»‘i Internet khi táº£i provider tá»« Registry

--------------------------------------------------------------------

10. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
terraform init =
KHá»I Táº O THÆ¯ Má»¤C Dá»° ÃN TERRAFORM, Táº¢I PROVIDER VÃ€ MODULE, VÃ€ THIáº¾T Láº¬P BACKEND CHO Dá»° ÃN
		
		
		- cmd: terraform validate
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
terraform validate
===============================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    terraform validate

ÄÆ°á»£c sá»­ dá»¥ng trong Terraform (IaC - Infrastructure as Code) Ä‘á»ƒ:
- Kiá»ƒm tra cÃº phÃ¡p vÃ  cáº¥u trÃºc cá»§a cÃ¡c file Terraform (.tf) trong thÆ° má»¥c hiá»‡n táº¡i
- PhÃ¡t hiá»‡n lá»—i cáº¥u hÃ¬nh, thiáº¿u thÃ´ng tin, hoáº·c lá»—i logic cÆ¡ báº£n trÆ°á»›c khi thá»±c thi `terraform plan` hoáº·c `terraform apply`
- KhÃ´ng káº¿t ná»‘i tá»›i provider hoáº·c thá»±c hiá»‡n thay Ä‘á»•i thá»±c táº¿ trÃªn háº¡ táº§ng

Má»¥c Ä‘Ã­ch:
â†’ Äáº£m báº£o ráº±ng cáº¥u hÃ¬nh Terraform há»£p lá»‡, giáº£m nguy cÆ¡ lá»—i khi deploy háº¡ táº§ng


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

2.1. terraform
--------------
- Terraform lÃ  cÃ´ng cá»¥ IaC dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ háº¡ táº§ng cloud vÃ  on-prem
- Há»— trá»£ nhiá»u provider: AWS, Azure, GCP, VMware, v.v.
- Quáº£n lÃ½:
  + Resource
  + Module
  + State file (.tfstate)
  + Variables vÃ  outputs

2.2. validate
-------------
- Subcommand cá»§a Terraform
- Chá»‰ kiá»ƒm tra cáº¥u hÃ¬nh Terraform
- KhÃ´ng:
  + Káº¿t ná»‘i tá»›i cloud provider
  + Táº¡o hoáº·c thay Ä‘á»•i resource
- XÃ¡c minh:
  + CÃº phÃ¡p HCL (HashiCorp Configuration Language)
  + Biáº¿n báº¯t buá»™c Ä‘Ã£ Ä‘Æ°á»£c khai bÃ¡o
  + Module vÃ  provider cÃ³ cáº¥u hÃ¬nh há»£p lá»‡
- Tráº£ vá»:
  + success â†’ cáº¥u hÃ¬nh há»£p lá»‡
  + error â†’ thÃ´ng bÃ¡o chi tiáº¿t lá»—i


3. CÃCH HOáº T Äá»˜NG
-----------------
1. Terraform Ä‘á»c táº¥t cáº£ file `.tf` trong thÆ° má»¥c hiá»‡n táº¡i
2. Kiá»ƒm tra:
   - Syntax HCL
   - Khai bÃ¡o biáº¿n, output
   - Module vÃ  provider block há»£p lá»‡
   - Resource block há»£p lá»‡
3. BÃ¡o lá»—i náº¿u cÃ³:
   - Thiáº¿u field báº¯t buá»™c
   - CÃº phÃ¡p sai
   - Reference tá»›i biáº¿n/module khÃ´ng tá»“n táº¡i
4. Tráº£ vá»:
   - Exit code 0 náº¿u há»£p lá»‡
   - Exit code 1 náº¿u cÃ³ lá»—i


4. YÃŠU Cáº¦U
------------
- Terraform Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn mÃ¡y
- ThÆ° má»¥c hiá»‡n táº¡i chá»©a file `.tf` hoáº·c module Terraform
- KhÃ´ng yÃªu cáº§u quyá»n cloud, vÃ¬ validate chá»‰ kiá»ƒm tra local configuration


5. LÆ¯U Ã QUAN TRá»ŒNG
------------------
- validate khÃ´ng Ä‘áº£m báº£o ráº±ng apply sáº½ thÃ nh cÃ´ng
  + VÃ­ dá»¥ resource cÃ³ thá»ƒ invalid khi deploy thá»±c táº¿
- LuÃ´n cháº¡y `terraform init` trÆ°á»›c khi validate náº¿u dÃ¹ng module hoáº·c provider má»›i:
    terraform init
- validate kiá»ƒm tra toÃ n bá»™ file trong thÆ° má»¥c hiá»‡n táº¡i, bao gá»“m module con


6. KIá»‚M TRA SAU KHI VALIDATE
-----------------------------
- Náº¿u lá»‡nh thÃ nh cÃ´ng:
    Success! The configuration is valid.
- Náº¿u lá»—i:
    Error: <thÃ´ng bÃ¡o lá»—i chi tiáº¿t>
- CÃ³ thá»ƒ debug báº±ng verbose:
    terraform validate -json  # xuáº¥t káº¿t quáº£ JSON


7. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------
7.1. Error: Missing required argument
- NguyÃªn nhÃ¢n: biáº¿n báº¯t buá»™c chÆ°a khai bÃ¡o
- CÃ¡ch xá»­ lÃ½: khai bÃ¡o biáº¿n trong variables.tf hoáº·c provide default value

7.2. Error: Invalid provider configuration
- NguyÃªn nhÃ¢n: provider block thiáº¿u thÃ´ng tin
- CÃ¡ch xá»­ lÃ½: thÃªm region, access key, etc. hoáº·c cháº¡y terraform init


8. CÃC Lá»†NH LIÃŠN QUAN THÆ¯á»œNG DÃ™NG
--------------------------------
- terraform init      â†’ khá»Ÿi táº¡o module vÃ  provider
- terraform plan      â†’ kiá»ƒm tra háº¡ táº§ng sáº½ thay Ä‘á»•i gÃ¬
- terraform apply     â†’ Ã¡p dá»¥ng háº¡ táº§ng
- terraform fmt       â†’ format láº¡i code Terraform
- terraform validate  â†’ validate cÃº phÃ¡p vÃ  cáº¥u hÃ¬nh


9. TÃ“M Táº®T
----------
- terraform validate: kiá»ƒm tra cáº¥u hÃ¬nh Terraform há»£p lá»‡
- KhÃ´ng thay Ä‘á»•i háº¡ táº§ng thá»±c táº¿
- YÃªu cáº§u terraform init náº¿u dÃ¹ng module/provider má»›i
- BÃ¡o lá»—i chi tiáº¿t giÃºp sá»­a trÆ°á»›c khi apply


Káº¾T LUáº¬N
--------
ÄÃ¢y lÃ  lá»‡nh cÆ¡ báº£n nhÆ°ng quan trá»ng trong Terraform workflow,
giÃºp phÃ¡t hiá»‡n lá»—i cáº¥u hÃ¬nh sá»›m vÃ  Ä‘áº£m báº£o quÃ¡ trÃ¬nh deploy háº¡ táº§ng diá»…n ra suÃ´n sáº».
		
		
		- cmd: terraform plan
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
terraform plan
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh `terraform plan` Ä‘Æ°á»£c sá»­ dá»¥ng trong Terraform, má»™t cÃ´ng cá»¥
Infrastructure as Code (IaC) cá»§a HashiCorp, Ä‘á»ƒ:

- Xem trÆ°á»›c cÃ¡c thay Ä‘á»•i mÃ  Terraform sáº½ thá»±c hiá»‡n trÃªn háº¡ táº§ng
- So sÃ¡nh tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a háº¡ táº§ng vá»›i cáº¥u hÃ¬nh Terraform
- GiÃºp ngÆ°á»i dÃ¹ng kiá»ƒm tra, xÃ¡c nháº­n trÆ°á»›c khi Ã¡p dá»¥ng thay Ä‘á»•i

NÃ³ khÃ´ng thá»±c hiá»‡n thay Ä‘á»•i tháº­t sá»± trÃªn háº¡ táº§ng, chá»‰ hiá»ƒn thá»‹ káº¿ hoáº¡ch.

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. terraform
--------------------------------------------------
- Command-line tool cá»§a Terraform
- DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ háº¡ táº§ng cloud báº±ng code
- CÃ¡c lá»‡nh cÆ¡ báº£n:
  + terraform init      â†’ khá»Ÿi táº¡o mÃ´i trÆ°á»ng Terraform
  + terraform plan      â†’ táº¡o káº¿ hoáº¡ch thay Ä‘á»•i
  + terraform apply     â†’ Ã¡p dá»¥ng thay Ä‘á»•i lÃªn háº¡ táº§ng
  + terraform destroy   â†’ xÃ³a háº¡ táº§ng

--------------------------------------------------
2.2. plan
--------------------------------------------------
- Tham sá»‘ cá»§a Terraform
- Chá»©c nÄƒng:
  + Äá»c file cáº¥u hÃ¬nh (*.tf)
  + So sÃ¡nh vá»›i tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a háº¡ táº§ng (state)
  + Hiá»ƒn thá»‹ káº¿ hoáº¡ch thay Ä‘á»•i (create, update, delete)
- KhÃ´ng thay Ä‘á»•i háº¡ táº§ng thá»±c táº¿

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. Terraform Ä‘á»c cÃ¡c file cáº¥u hÃ¬nh (*.tf) trong thÆ° má»¥c hiá»‡n táº¡i
2. Kiá»ƒm tra tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a háº¡ táº§ng tá»« state file (terraform.tfstate)
3. So sÃ¡nh giá»¯a cáº¥u hÃ¬nh vÃ  tráº¡ng thÃ¡i thá»±c táº¿
4. Táº¡o káº¿ hoáº¡ch (plan) vá»›i chi tiáº¿t tá»«ng resource:
   - `+` create
   - `~` modify
   - `-` destroy
5. Hiá»ƒn thá»‹ káº¿ hoáº¡ch trÃªn terminal Ä‘á»ƒ ngÆ°á»i dÃ¹ng xem xÃ©t

--------------------------------------------------
4. Káº¾T QUáº¢ Äáº¦U RA MáºªU
--------------------------------------------------
VÃ­ dá»¥ output:
--------------------------------------------------
Terraform will perform the following actions:

  # aws_instance.example will be created
  + resource "aws_instance" "example" {
      + ami           = "ami-12345678"
      + instance_type = "t2.micro"
    }

Plan: 1 to add, 0 to change, 0 to destroy.
--------------------------------------------------

Giáº£i thÃ­ch:
- `+` â†’ resource sáº½ Ä‘Æ°á»£c táº¡o
- `~` â†’ resource sáº½ thay Ä‘á»•i
- `-` â†’ resource sáº½ bá»‹ xÃ³a
- Plan summary cho biáº¿t sá»‘ lÆ°á»£ng resource thay Ä‘á»•i

--------------------------------------------------
5. TÃ™Y CHá»ŒN PHá»” BIáº¾N
--------------------------------------------------
- `terraform plan -out=tfplan` â†’ lÆ°u káº¿ hoáº¡ch vÃ o file Ä‘á»ƒ apply sau
- `terraform plan -var="key=value"` â†’ truyá»n biáº¿n
- `terraform plan -var-file="file.tfvars"` â†’ dÃ¹ng file biáº¿n
- `terraform plan -refresh=false` â†’ khÃ´ng refresh tráº¡ng thÃ¡i hiá»‡n táº¡i

--------------------------------------------------
6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Xem trÆ°á»›c vÃ  kiá»ƒm tra thay Ä‘á»•i trÆ°á»›c khi Ã¡p dá»¥ng
- TrÃ¡nh lá»—i gÃ¢y giÃ¡n Ä‘oáº¡n háº¡ táº§ng
- Chuáº©n bá»‹ cho review hoáº·c approval trong CI/CD pipeline
- DÃ¹ng Ä‘á»ƒ automation, audit, hoáº·c káº¿ hoáº¡ch triá»ƒn khai

--------------------------------------------------
7. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- Terraform pháº£i Ä‘Æ°á»£c init trÆ°á»›c (terraform init)
- Pháº£i cÃ³ quyá»n truy cáº­p vÃ o cloud provider
- Plan khÃ´ng thay Ä‘á»•i háº¡ táº§ng tháº­t, apply má»›i thá»±c thi
- NÃªn lÆ°u plan vÃ o file khi lÃ m automation hoáº·c multi-step deploy

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
terraform plan
= Táº¡o káº¿ hoáº¡ch thay Ä‘á»•i háº¡ táº§ng tá»« file Terraform
= Hiá»ƒn thá»‹ resource sáº½ Ä‘Æ°á»£c táº¡o, thay Ä‘á»•i hoáº·c xÃ³a
= KhÃ´ng thá»±c hiá»‡n thay Ä‘á»•i tháº­t, chá»‰ xem trÆ°á»›c
= Há»¯u Ã­ch Ä‘á»ƒ kiá»ƒm tra, audit vÃ  chuáº©n bá»‹ apply
==================================================
		
		
		- cmd: terraform apply
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
terraform apply

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Triá»ƒn khai (apply) cÃ¡c thay Ä‘á»•i háº¡ táº§ng Ä‘Æ°á»£c mÃ´ táº£ trong cÃ¡c file Terraform (.tf)
- Táº¡o, thay Ä‘á»•i hoáº·c xÃ³a resource trÃªn cloud hoáº·c mÃ´i trÆ°á»ng má»¥c tiÃªu
- Thá»±c hiá»‡n cÃ¡c káº¿ hoáº¡ch Ä‘Ã£ Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh sau khi cháº¡y `terraform plan`

Terraform:
- CÃ´ng cá»¥ Infrastructure as Code (IaC)
- Quáº£n lÃ½ háº¡ táº§ng cloud (AWS, Azure, GCP, v.v.) thÃ´ng qua code
- Tá»± Ä‘á»™ng hÃ³a viá»‡c triá»ƒn khai vÃ  quáº£n lÃ½ háº¡ táº§ng

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. terraform
--------------------------------------------------
terraform lÃ :
- Command line interface (CLI) cá»§a Terraform
- DÃ¹ng Ä‘á»ƒ cháº¡y cÃ¡c lá»‡nh quáº£n lÃ½ háº¡ táº§ng
- Má»™t sá»‘ lá»‡nh phá»• biáº¿n:
  + terraform init   â†’ khá»Ÿi táº¡o project Terraform
  + terraform plan   â†’ táº¡o káº¿ hoáº¡ch thay Ä‘á»•i háº¡ táº§ng
  + terraform apply  â†’ thá»±c thi káº¿ hoáº¡ch háº¡ táº§ng
  + terraform destroyâ†’ xÃ³a háº¡ táº§ng

2.2. apply
--------------------------------------------------
apply lÃ :
- Subcommand cá»§a Terraform
- Thá»±c hiá»‡n táº¥t cáº£ cÃ¡c thay Ä‘á»•i Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh trong plan
- CÃ³ thá»ƒ triá»ƒn khai trá»±c tiáº¿p náº¿u khÃ´ng cÃ³ plan trung gian
- Táº¡o/modify/delete resource dá»±a trÃªn file .tf

TÃ¹y chá»n thÆ°á»ng dÃ¹ng:
- terraform apply -auto-approve
  + KhÃ´ng há»i xÃ¡c nháº­n ngÆ°á»i dÃ¹ng, tá»± Ä‘á»™ng Ã¡p dá»¥ng thay Ä‘á»•i

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. Terraform Ä‘á»c file cáº¥u hÃ¬nh (*.tf) vÃ  tráº¡ng thÃ¡i hiá»‡n táº¡i (terraform.tfstate)
2. XÃ¡c Ä‘á»‹nh sá»± khÃ¡c biá»‡t giá»¯a tráº¡ng thÃ¡i hiá»‡n táº¡i vÃ  cáº¥u hÃ¬nh mong muá»‘n
3. Táº¡o káº¿ hoáº¡ch thay Ä‘á»•i (plan) náº¿u chÆ°a cÃ³
4. Hiá»ƒn thá»‹ cÃ¡c thay Ä‘á»•i sáº½ thá»±c hiá»‡n (add, modify, destroy)
5. NgÆ°á»i dÃ¹ng xÃ¡c nháº­n báº±ng â€œyesâ€ (trá»« khi dÃ¹ng -auto-approve)
6. Terraform thá»±c hiá»‡n cÃ¡c thay Ä‘á»•i trÃªn provider/cloud
7. Cáº­p nháº­t file tráº¡ng thÃ¡i terraform.tfstate vá»›i thÃ´ng tin má»›i
8. Tráº£ vá» thÃ´ng bÃ¡o thÃ nh cÃ´ng hoáº·c lá»—i náº¿u cÃ³

--------------------------------------------------
4. Má»¤C ÄÃCH THÆ¯á»œNG DÃ™NG
--------------------------------------------------
- Triá»ƒn khai háº¡ táº§ng má»›i
- Thay Ä‘á»•i cáº¥u hÃ¬nh háº¡ táº§ng hiá»‡n cÃ³
- XÃ³a resource khÃ´ng cáº§n thiáº¿t
- Tá»± Ä‘á»™ng hÃ³a háº¡ táº§ng trong CI/CD pipeline

--------------------------------------------------
5. Lá»†NH LIÃŠN QUAN
--------------------------------------------------
- terraform plan
  + Táº¡o plan nhÆ°ng chÆ°a thá»±c thi
- terraform apply <planfile>
  + Triá»ƒn khai tá»« file plan Ä‘Ã£ táº¡o trÆ°á»›c Ä‘Ã³
- terraform destroy
  + XÃ³a toÃ n bá»™ resource Ä‘Ã£ táº¡o

--------------------------------------------------
6. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

6.1. Authentication/permission error
--------------------------------------------------
- NguyÃªn nhÃ¢n: AWS/GCP/Azure credentials chÆ°a Ä‘Ãºng
- Giáº£i phÃ¡p: kiá»ƒm tra environment variables hoáº·c file credential

6.2. Conflict / resource already exists
--------------------------------------------------
- NguyÃªn nhÃ¢n: resource trÃ¹ng vá»›i resource ngoÃ i Terraform
- Giáº£i phÃ¡p: import resource hoáº·c chá»‰nh sá»­a configuration

6.3. Syntax error trong file .tf
--------------------------------------------------
- Terraform sáº½ bÃ¡o lá»—i khi parse file .tf
- Giáº£i phÃ¡p: kiá»ƒm tra láº¡i syntax hoáº·c dÃ¹ng terraform fmt

--------------------------------------------------
7. Cáº¢NH BÃO
--------------------------------------------------
- terraform apply thá»±c sá»± thay Ä‘á»•i háº¡ táº§ng â†’ cáº§n cáº©n tháº­n
- NÃªn cháº¡y terraform plan trÆ°á»›c khi apply
- DÃ¹ng version control Ä‘á»ƒ quáº£n lÃ½ file .tf
- KhÃ´ng cháº¡y trá»±c tiáº¿p trÃªn production náº¿u chÆ°a kiá»ƒm tra ká»¹

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
terraform apply

= Triá»ƒn khai hoáº·c thay Ä‘á»•i háº¡ táº§ng dá»±a trÃªn file .tf
= XÃ¡c Ä‘á»‹nh khÃ¡c biá»‡t giá»¯a tráº¡ng thÃ¡i hiá»‡n táº¡i vÃ  mong muá»‘n
= Thá»±c thi create/modify/delete resource
= YÃªu cáº§u xÃ¡c nháº­n ngÆ°á»i dÃ¹ng hoáº·c -auto-approve
= Cáº­p nháº­t file tráº¡ng thÃ¡i terraform.tfstate
		
		
		- cmd: terraform destroy
		
Lá»†NH: terraform destroy
=======================

1. Má»¤C ÄÃCH
----------
Lá»‡nh `terraform destroy` dÃ¹ng Ä‘á»ƒ **xÃ³a táº¥t cáº£ cÃ¡c resource Ä‘Ã£ Ä‘Æ°á»£c táº¡o bá»Ÿi Terraform** trong mÃ´i trÆ°á»ng hiá»‡n táº¡i.

Má»¥c Ä‘Ã­ch:
- Dá»n dáº¹p cÆ¡ sá»Ÿ háº¡ táº§ng (infrastructure) khi khÃ´ng cÃ²n cáº§n dÃ¹ng
- Há»§y cÃ¡c resource trÃªn cloud (AWS, Azure, GCPâ€¦) theo configuration Terraform
- Phá»¥c vá»¥ testing, mÃ´i trÆ°á»ng táº¡m thá»i, hoáº·c tÃ¡i triá»ƒn khai láº¡i


2. Cáº¤U TRÃšC Lá»†NH
----------------
terraform destroy [options]

Giáº£i thÃ­ch:
- `terraform`   : Command line tool cá»§a Terraform
- `destroy`     : Lá»‡nh xÃ³a resource dá»±a trÃªn Terraform state
- `[options]`   : Tham sá»‘ tÃ¹y chá»n (vÃ­ dá»¥ -auto-approve)


3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
---------------------
1. Terraform Ä‘á»c file `.tf` vÃ  state hiá»‡n táº¡i (`terraform.tfstate`)
2. So sÃ¡nh state vá»›i configuration
3. Táº¡o plan Ä‘á»ƒ **destroy táº¥t cáº£ resource** mÃ  Terraform quáº£n lÃ½
4. Hiá»ƒn thá»‹ plan ra terminal vÃ  yÃªu cáº§u xÃ¡c nháº­n trÆ°á»›c khi thá»±c hiá»‡n (trá»« khi dÃ¹ng -auto-approve)
5. Thá»±c thi plan, xÃ³a resource trÃªn cloud provider
6. Cáº­p nháº­t state file (`terraform.tfstate`) sau khi xÃ³a


4. VÃ Dá»¤ THá»°C Táº¾
-----------------
1. XÃ³a táº¥t cáº£ resource vá»›i xÃ¡c nháº­n:
   terraform destroy
   - Terraform hiá»ƒn thá»‹ danh sÃ¡ch resource cáº§n xÃ³a vÃ  yÃªu cáº§u gÃµ "yes"

2. XÃ³a táº¥t cáº£ resource tá»± Ä‘á»™ng khÃ´ng cáº§n xÃ¡c nháº­n:
   terraform destroy -auto-approve

3. XÃ³a resource trong má»™t module cá»¥ thá»ƒ (chá»‰ xÃ³a resources thuá»™c module):
   terraform destroy -target=module.db


5. TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG
------------------------
- `-auto-approve` : KhÃ´ng há»i xÃ¡c nháº­n, tá»± Ä‘á»™ng thá»±c hiá»‡n destroy
- `-target=<resource>` : Chá»‰ xÃ³a resource hoáº·c module cá»¥ thá»ƒ
- `-lock=true|false` : KhÃ³a state file trong quÃ¡ trÃ¬nh destroy
- `-var 'key=value'` : Chá»‰ Ä‘á»‹nh biáº¿n khi destroy


6. LÆ¯U Ã QUAN TRá»ŒNG
-------------------
- **KhÃ´ng thá»ƒ khÃ´i phá»¥c resource Ä‘Ã£ xÃ³a**, cáº§n cháº¯c cháº¯n trÆ°á»›c khi cháº¡y destroy
- LuÃ´n backup Terraform state trÆ°á»›c khi destroy mÃ´i trÆ°á»ng production
- Destroy sáº½ xÃ³a táº¥t cáº£ resource Ä‘Æ°á»£c quáº£n lÃ½ trong state file
- CÃ³ thá»ƒ máº¥t thá»i gian náº¿u nhiá»u resource trÃªn cloud


7. TÃ“M Táº®T
-----------
- `terraform destroy` dÃ¹ng Ä‘á»ƒ há»§y táº¥t cáº£ resource Terraform quáº£n lÃ½
- Plan Ä‘Æ°á»£c hiá»ƒn thá»‹ trÆ°á»›c khi xÃ³a, Ä‘áº£m báº£o an toÃ n
- ThÆ°á»ng dÃ¹ng vá»›i `-auto-approve` trong automation/script
- Ráº¥t quan trá»ng khi quáº£n lÃ½ mÃ´i trÆ°á»ng táº¡m, testing hoáº·c CI/CD
		
		
	Amazon S3 -> Buckets -> instance -> Create folder
		
		
		
		
	- Google search:
	
		find ubuntu ami id aws
		
		terraform aws
		
		variable terraform
		
		terraform provisioners
		
	- CÃ i Ä‘áº·t VS Code extension:
	
		HashiCorp Terraform
		
	terraform.tfstate:
	
	File terraform.tfstate lÃ  trÃ¡i tim cá»§a Terraform â€” nÃ³ chá»©a toÃ n bá»™ tráº¡ng thÃ¡i thá»±c táº¿ cá»§a háº¡
	táº§ng mÃ  Terraform Ä‘ang quáº£n lÃ½.
	
	Äá»‹nh nghÄ©a cá»‘t lÃµi

		terraform.tfstate lÃ  file tráº¡ng thÃ¡i (state file) mÃ  Terraform dÃ¹ng Ä‘á»ƒ ghi nháº­n vÃ  theo dÃµi háº¡ táº§ng
		thá»±c táº¿ sau khi báº¡n cháº¡y terraform apply.

			NÃ³ mÃ´ táº£ má»i resource (mÃ¡y áº£o, VPC, subnet, load balancer, v.v.) mÃ  Terraform Ä‘Ã£ táº¡o,

			VÃ  liÃªn káº¿t chÃºng vá»›i code Terraform (.tf files).

		Terraform dÃ¹ng file nÃ y Ä‘á»ƒ:

			Biáº¿t hiá»‡n tráº¡ng háº¡ táº§ng Ä‘ang ra sao,

			So sÃ¡nh vá»›i mong muá»‘n (trong code),

			Tá»« Ä‘Ã³ quyáº¿t Ä‘á»‹nh táº¡o / sá»­a / xÃ³a gÃ¬ khi báº¡n cháº¡y terraform plan hoáº·c terraform apply.
			
	Báº£n cháº¥t & cÆ¡ cháº¿ hoáº¡t Ä‘á»™ng
	
		Khi báº¡n cháº¡y terraform apply

			Terraform Ä‘á»c code .tf (infrastructure as code).

			NÃ³ kiá»ƒm tra file terraform.tfstate Ä‘á»ƒ biáº¿t Ä‘ang cÃ³ gÃ¬ ngoÃ i Ä‘á»i tháº­t.

			NÃ³ gá»i API lÃªn cloud (AWS, GCP, Azure, v.v.) Ä‘á»ƒ xÃ¡c minh.

			Sau khi thá»±c hiá»‡n xong thay Ä‘á»•i, Terraform ghi láº¡i káº¿t quáº£ má»›i vÃ o terraform.tfstate.
			
	ThÃ nh pháº§n chÃ­nh trong terraform.tfstate

		Má»™t file tfstate lÃ  JSON, gá»“m cÃ¡c pháº§n chÃ­nh:
		
			version	Version format cá»§a Terraform state
			
			terraform_version	PhiÃªn báº£n Terraform Ä‘Ã£ táº¡o file
			
			resources	Danh sÃ¡ch toÃ n bá»™ resource Ä‘ang quáº£n lÃ½
			
			outputs	CÃ¡c giÃ¡ trá»‹ output (náº¿u báº¡n cÃ³ output trong code)
			
			serial	Sá»‘ version ná»™i bá»™ Ä‘á»ƒ Terraform biáº¿t state Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t bao nhiÃªu láº§n
			
	Local state vs Remote state:
	
		Local state:

			Máº·c Ä‘á»‹nh terraform.tfstate náº±m ngay trong thÆ° má»¥c dá»± Ã¡n.

			Dá»… dÃ¹ng nhÆ°ng nguy hiá»ƒm trong team (vÃ¬ cÃ³ thá»ƒ bá»‹ ghi Ä‘Ã¨, máº¥t file, xung Ä‘á»™t...).

		Remote state (an toÃ n hÆ¡n):

			Terraform cho phÃ©p lÆ°u state tá»« xa (remote backend), vÃ­ dá»¥:

				AWS S3

				Azure Blob Storage

				Google Cloud Storage

				Terraform Cloud / Enterprise
				
	LÆ°u Ã½ báº£o máº­t cá»±c ká»³ quan trá»ng

		File terraform.tfstate cÃ³ thá»ƒ chá»©a thÃ´ng tin nháº¡y cáº£m, nhÆ°:

			Máº­t kháº©u, secret key, private IP, token, v.v.

		KhÃ´ng bao giá» commit terraform.tfstate lÃªn Git.
		
			HÃ£y thÃªm vÃ o .gitignore
		
	- Code file .tf:
	
		Case 1:
		
			data "aws_ami" "amiID" {
			  most_recent = true

			  filter {
				name   = "name"
				values = ["ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-*"]
			  }

			  filter {
				name   = "virtualization-type"
				values = ["hvm"]
			  }

			  owners = ["099720109477"]
			}
		
		Case 2:
		
			Instance.tf:

				resource "aws_instance" "web" {
				  ami                    = data.aws_ami.amiID.id
				  instance_type          = "t3.micro"
				  key_name               = aws_key_pair.dove-key.key_name
				  vpc_security_group_ids = [aws_security_group.dove-sg.id]
				  availability_zone      = "us-east-1a"

				  tags = {
					Name    = "Dove-web"
					Project = "Dove"
				  }
				}
				
			InstlD.tf:
			
				data "aws_ami" "amiID" {
				  most_recent = true

				  filter {
					name   = "name"
					values = ["ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-*"]
				  }

				  filter {
					name   = "virtualization-type"
					values = ["hvm"]
				  }

				  owners = ["099720109477"]
				}

				output "instance_id" {
				  description = "AMI ID of Ubuntu instance"
				  value       = data.aws_ami.amiID.id
				}
				
			Keypair.tf:

				resource "aws_key_pair" "dove-key" {
				  key_name   = "dove-key"
				  public_key = "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIJ/Zj2tR4kZImO7zhNmUtfIJxNZvGgx8bwPdcCfyLbn0 PC@DESKTOP-GNVB183"
				}
				
			provider.tf:
			
				provider "aws" {
				  region = "us-east-1"
				}
				
			SecGrp.tf:
			
				resource "aws_security_group" "dove-sg" {
				  name        = "dove-sg"
				  description = "dove-sg"
				  tags = {
					Name = "dove-sg"
				  }
				}

				resource "aws_vpc_security_group_ingress_rule" "sshfromyIP" {
				  security_group_id = aws_security_group.dove-sg.id
				  cidr_ipv4         = "42.112.134.249/32"
				  from_port         = 22
				  ip_protocol       = "tcp"
				  to_port           = 22
				}

				resource "aws_vpc_security_group_ingress_rule" "allow_http" {
				  security_group_id = aws_security_group.dove-sg.id
				  cidr_ipv4         = "0.0.0.0/0"
				  from_port         = 80
				  ip_protocol       = "tcp"
				  to_port           = 80
				}

				resource "aws_vpc_security_group_egress_rule" "allowAllOutbound_ipv4" {
				  security_group_id = aws_security_group.dove-sg.id
				  cidr_ipv4         = "0.0.0.0/0"
				  ip_protocol       = "-1" # semantically equivalent to all ports
				}

				resource "aws_vpc_security_group_egress_rule" "allowAllOutbound_ipv6" {
				  security_group_id = aws_security_group.dove-sg.id
				  cidr_ipv6         = "::/0"
				  ip_protocol       = "-1" # semantically equivalent to all ports
				}
				
		Case 3:
		
			Instance.tf:
			
				resource "aws_instance" "web" {
				  ami                    = data.aws_ami.amiID.id
				  instance_type          = "t3.micro"
				  key_name               = "dove-key"
				  vpc_security_group_ids = [aws_security_group.dove-sg.id]
				  availability_zone      = "us-east-1a"

				  tags = {
					Name    = "Dove-web"
					Project = "Dove"
				  }
				}

				resource "aws_ec2_instance_state" "web_state" {
					instance_id = aws_instance.web.id
					state       = "running"
				}
				
		Case 4:
		
			Instance.tf:
			
				resource "aws_instance" "web" {
				  ami                    = var.amiID[var.region]
				  instance_type          = "t3.micro"
				  key_name               = aws_key_pair.dove-key.key_name
				  vpc_security_group_ids = [aws_security_group.dove-sg.id]
				  availability_zone      = var.zone1

				  tags = {
					Name    = "Dove-web"
					Project = "Dove"
				  }
				}
				
			InstlD.tf:
			
				data "aws_ami" "amiID" {
				  most_recent = true

				  filter {
					name   = "name"
					values = ["ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-*"]
				  }

				  filter {
					name   = "virtualization-type"
					values = ["hvm"]
				  }

				  owners = ["099720109477"]
				}

				output "instance_id" {
				  description = "AMI ID of Ubuntu instance"
				  value       = data.aws_ami.amiID.id
				}
				
			Keypair.tf:
			
				resource "aws_key_pair" "dove-key" {
				  key_name   = "dove-key"
				  public_key = "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIJ/Zj2tR4kZImO7zhNmUtfIJxNZvGgx8bwPdcCfyLbn0 PC@DESKTOP-GNVB183"
				}
				resource "aws_key_pair" "test-key" {
				  key_name   = "test-key"
				  public_key = "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIIRshwBBa6viR7dT1P4aSc1fYbDhuqBJtbbWLBVhWzj2 PC@DESKTOP-GNVB183"
				}
				
			provider.tf:
			
				provider "aws" {
				  region = var.region
				}
				
			SecGrp.tf:
			
				resource "aws_security_group" "dove-sg" {
				  name        = "dove-sg"
				  description = "dove-sg"
				  tags = {
					Name = "dove-sg"
				  }
				}

				resource "aws_vpc_security_group_ingress_rule" "sshfromyIP" {
				  security_group_id = aws_security_group.dove-sg.id
				  cidr_ipv4         = "0.0.0.0/0"
				  from_port         = 22
				  ip_protocol       = "tcp"
				  to_port           = 22
				}

				resource "aws_vpc_security_group_ingress_rule" "allow_http" {
				  security_group_id = aws_security_group.dove-sg.id
				  cidr_ipv4         = "0.0.0.0/0"
				  from_port         = 80
				  ip_protocol       = "tcp"
				  to_port           = 80
				}

				resource "aws_vpc_security_group_egress_rule" "allowAllOutbound_ipv4" {
				  security_group_id = aws_security_group.dove-sg.id
				  cidr_ipv4         = "0.0.0.0/0"
				  ip_protocol       = "-1" # semantically equivalent to all ports
				}

				resource "aws_vpc_security_group_egress_rule" "allowAllOutbound_ipv6" {
				  security_group_id = aws_security_group.dove-sg.id
				  cidr_ipv6         = "::/0"
				  ip_protocol       = "-1" # semantically equivalent to all ports
				}
				
			vars.tf:
			
				variable "region" {
				  default = "us-east-1"
				}

				variable "zone1" {
				  default = "us-east-1a"
				}

				variable "amiID" {
				  type = map(any)
				  default = {
					us-east-2 = "ami-036841078a4b68e14"
					es-east-1 = "ami-0e2c8caa4b6378d8c"
				  }
				}
				
		Case 5:
		
			Instance.tf:

				resource "aws_instance" "web" {
				  ami                    = var.amiID[var.region]
				  instance_type          = "t3.micro"
				  key_name               = aws_key_pair.dove-key.key_name
				  vpc_security_group_ids = [aws_security_group.dove-sg.id]
				  availability_zone      = var.zone1

				  tags = {
					Name    = "Dove-web"
					Project = "Dove"
				  }

				  provisioner "file" {
					source      = "web.sh"
					destination = "/tmp/web.sh"
				  }

				  connection {
					type        = "ssh"
					user        = var.webuser
					private_key = file("dovekey")
					host        = self.public_ip
				  }

				  provisioner "remote-exec" {

					inline = [
					  "chmod +x /tmp/web.sh",
					  "sudo /tmp/web.sh"
					]
				  }

				  provisioner "local-exec" {
					command = "echo ${self.private_ip} >> private_ips.txt"
				  }
				}

				resource "aws_ec2_instance_state" "web-state" {
				  instance_id = aws_instance.web.id
				  state       = "running"
				}

				output "WebPublicIP" {
				  description = "AMI ID of Ubuntu instance"
				  value       = aws_instance.web.public_ip
				}

				output "WebPrivateIP" {
				  description = "AMI ID of Ubuntu instance"
				  value       = aws_instance.web.private_ip
				}
				
			InstlD.tf:
			
				data "aws_ami" "amiID" {
				  most_recent = true

				  filter {
					name   = "name"
					values = ["ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-*"]
				  }

				  filter {
					name   = "virtualization-type"
					values = ["hvm"]
				  }

				  owners = ["099720109477"]
				}

				output "instance_id" {
				  description = "AMI ID of Ubuntu instance"
				  value       = data.aws_ami.amiID.id
				}

			Keypair.tf:

				resource "aws_key_pair" "dove-key" {
				  key_name   = "dove-key"
				  public_key = "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIJ/Zj2tR4kZImO7zhNmUtfIJxNZvGgx8bwPdcCfyLbn0 PC@DESKTOP-GNVB183"
				}
				resource "aws_key_pair" "test-key" {
				  key_name   = "test-key"
				  public_key = "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIIRshwBBa6viR7dT1P4aSc1fYbDhuqBJtbbWLBVhWzj2 PC@DESKTOP-GNVB183"
				}
				
			provider.tf:
			
				provider "aws" {
				  region = var.region
				}
				
			SecGrp.tf:
			
				resource "aws_security_group" "dove-sg" {
				  name        = "dove-sg"
				  description = "dove-sg"
				  tags = {
					Name = "dove-sg"
				  }
				}

				resource "aws_vpc_security_group_ingress_rule" "sshfromyIP" {
				  security_group_id = aws_security_group.dove-sg.id
				  cidr_ipv4         = "0.0.0.0/0"
				  from_port         = 22
				  ip_protocol       = "tcp"
				  to_port           = 22
				}

				resource "aws_vpc_security_group_ingress_rule" "allow_http" {
				  security_group_id = aws_security_group.dove-sg.id
				  cidr_ipv4         = "0.0.0.0/0"
				  from_port         = 80
				  ip_protocol       = "tcp"
				  to_port           = 80
				}

				resource "aws_vpc_security_group_egress_rule" "allowAllOutbound_ipv4" {
				  security_group_id = aws_security_group.dove-sg.id
				  cidr_ipv4         = "0.0.0.0/0"
				  ip_protocol       = "-1" # semantically equivalent to all ports
				}

				resource "aws_vpc_security_group_egress_rule" "allowAllOutbound_ipv6" {
				  security_group_id = aws_security_group.dove-sg.id
				  cidr_ipv6         = "::/0"
				  ip_protocol       = "-1" # semantically equivalent to all ports
				}
				
			vars.tf:
			
				variable "region" {
				  default = "us-east-1"
				}

				variable "zone1" {
				  default = "us-east-1a"
				}

				variable "webuser" {
				  default = "ubuntu"
				}

				variable "amiID" {
				  type = map(any)
				  default = {
					us-east-2 = "ami-036841078a4b68e14"
					us-east-1 = "ami-0360c520857e3138f"
				  }
				}
				
			web.sh:
			
				#!/bin/bash
				apt update
				apt install wget unzip apache2 -y
				systemctl start apache2
				systemctl enable apache2
				wget https://www.tooplate.com/zip-templates/2117_infinite_loop.zip
				unzip -o 2117_infinite_loop.zip
				cp -r 2117_infinite_loop/* /var/www/html/
				systemctl restart apache2
				
		Case 6:
		
			Giá»‘ng case 5 nhÆ°ng thÃªm file backend.tf
			
			backend.tf:
			
				terraform {
					backend "s3" {
						bucket = "terraformstate3245612112"
						key    = "terraform/backend"
						region = "us-east-1"
					}
				}
				
				
--- Ansible:

	- Commands:
	
		- cmd: ls ~/.ssh/known_hosts
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ls ~/.ssh/known_hosts
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y liá»‡t kÃª ná»™i dung thÆ° má»¥c hoáº·c file `known_hosts`
trong thÆ° má»¥c `.ssh` cá»§a user hiá»‡n táº¡i.

- `~/.ssh/known_hosts` lÃ  file lÆ°u trá»¯ thÃ´ng tin cÃ¡c host SSH
  mÃ  báº¡n Ä‘Ã£ káº¿t ná»‘i trÆ°á»›c Ä‘Ã³, bao gá»“m:
  + Hostname hoáº·c IP
  + Public key cá»§a server
- File nÃ y giÃºp xÃ¡c thá»±c server khi káº¿t ná»‘i SSH tiáº¿p theo,
  ngÄƒn cháº·n táº¥n cÃ´ng "Man-in-the-Middle".

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. ls
--------------------------------------------------
- Lá»‡nh Linux cÆ¡ báº£n dÃ¹ng Ä‘á»ƒ liá»‡t kÃª file vÃ  thÆ° má»¥c
- Má»™t sá»‘ tÃ¹y chá»n phá»• biáº¿n:
  + `ls -l` â†’ hiá»ƒn thá»‹ chi tiáº¿t (quyá»n, owner, size, ngÃ y)
  + `ls -a` â†’ hiá»ƒn thá»‹ cáº£ file áº©n (báº¯t Ä‘áº§u báº±ng .)
  + `ls -lh` â†’ hiá»ƒn thá»‹ kÃ­ch thÆ°á»›c dá»… Ä‘á»c

2.2. ~/.ssh/known_hosts
--------------------------------------------------
- `~` â†’ thÆ° má»¥c home cá»§a user hiá»‡n táº¡i
- `.ssh` â†’ thÆ° má»¥c áº©n chá»©a cÃ¡c file cáº¥u hÃ¬nh vÃ  key SSH
- `known_hosts` â†’ file chá»©a public key cá»§a cÃ¡c server Ä‘Ã£ káº¿t ná»‘i:
  + Khi SSH láº§n Ä‘áº§u: server public key Ä‘Æ°á»£c thÃªm vÃ o file nÃ y
  + Láº§n sau: SSH so sÃ¡nh key Ä‘á»ƒ xÃ¡c thá»±c server

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. Shell nháº­n lá»‡nh `ls ~/.ssh/known_hosts`
2. TÃ¬m file `known_hosts` trong thÆ° má»¥c ~/.ssh
3. Hiá»ƒn thá»‹ file (hoáº·c thÃ´ng tin chi tiáº¿t náº¿u dÃ¹ng option)
4. Náº¿u file tá»“n táº¡i: hiá»ƒn thá»‹ tÃªn file
5. Náº¿u file khÃ´ng tá»“n táº¡i: hiá»ƒn thá»‹ lá»—i â€œNo such file or directoryâ€

--------------------------------------------------
4. Káº¾T QUáº¢ Äáº¦U RA MáºªU
--------------------------------------------------
VÃ­ dá»¥:
--------------------------------------------------
known_hosts
--------------------------------------------------

Náº¿u dÃ¹ng ls -l:
-rw-r--r-- 1 devops devops 824 Dec 16 18:00 known_hosts

Giáº£i thÃ­ch:
- -rw-r--r-- â†’ quyá»n truy cáº­p file
- 1 â†’ sá»‘ liÃªn káº¿t
- devops â†’ owner
- devops â†’ group
- 824 â†’ dung lÆ°á»£ng file (byte)
- Dec 16 18:00 â†’ ngÃ y chá»‰nh sá»­a cuá»‘i
- known_hosts â†’ tÃªn file

--------------------------------------------------
5. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Kiá»ƒm tra xem server SSH nÃ o Ä‘Ã£ káº¿t ná»‘i
- Quáº£n lÃ½ file known_hosts (xÃ³a, chá»‰nh sá»­a)
- Kháº¯c phá»¥c lá»—i SSH "REMOTE HOST IDENTIFICATION HAS CHANGED"
- Há»— trá»£ báº£o máº­t khi dÃ¹ng SSH

--------------------------------------------------
6. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- KhÃ´ng xÃ³a toÃ n bá»™ known_hosts náº¿u khÃ´ng cáº§n thiáº¿t, sáº½ máº¥t trust cÃ¡c host Ä‘Ã£ káº¿t ná»‘i
- Äá»ƒ xÃ³a 1 host cá»¥ thá»ƒ:
  ssh-keygen -R hostname
- ThÆ°á»ng dÃ¹ng vá»›i cÃ¡c admin, DevOps, hoáº·c script tá»± Ä‘á»™ng SSH

--------------------------------------------------
7. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
ls ~/.ssh/known_hosts
= Liá»‡t kÃª file known_hosts chá»©a public key cá»§a cÃ¡c server SSH Ä‘Ã£ káº¿t ná»‘i
= DÃ¹ng Ä‘á»ƒ kiá»ƒm tra, quáº£n lÃ½ vÃ  báº£o máº­t káº¿t ná»‘i SSH
==================================================
		
		
		- cmd: cat ~/.ssh/known_hosts
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
cat ~/.ssh/known_hosts

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Hiá»ƒn thá»‹ ná»™i dung file `known_hosts` cá»§a user hiá»‡n táº¡i
- File `known_hosts` lÆ°u fingerprint cá»§a cÃ¡c server SSH mÃ  user Ä‘Ã£ káº¿t ná»‘i
- GiÃºp xÃ¡c thá»±c server khi káº¿t ná»‘i SSH láº§n tiáº¿p theo, ngÄƒn cháº·n MITM (man-in-the-middle)
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ kiá»ƒm tra hoáº·c debug káº¿t ná»‘i SSH

File `~/.ssh/known_hosts`:
- áº¨n trong home directory (`~/.ssh`)
- Chá»©a danh sÃ¡ch server Ä‘Ã£ tin cáº­y
- Má»—i dÃ²ng chá»©a:
  + Hostname/IP
  + Key type (rsa, ecdsa, ed25519, â€¦)
  + Public key fingerprint

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. cat
--------------------------------------------------
cat = concatenate
- Hiá»ƒn thá»‹ ná»™i dung file ra terminal
- Chá»‰ Ä‘á»c, khÃ´ng chá»‰nh sá»­a

2.2. ~/.ssh/known_hosts
--------------------------------------------------
- ~/.ssh/ : thÆ° má»¥c áº©n chá»©a dá»¯ liá»‡u SSH
- known_hosts : file lÆ°u public key cá»§a server Ä‘Ã£ káº¿t ná»‘i
- Má»¥c Ä‘Ã­ch: khi SSH tá»›i server, client so sÃ¡nh key server vá»›i key lÆ°u trong file nÃ y Ä‘á»ƒ xÃ¡c thá»±c

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. cat má»Ÿ file `~/.ssh/known_hosts`
2. Hiá»ƒn thá»‹ toÃ n bá»™ ná»™i dung trÃªn terminal
3. NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ:
   - Kiá»ƒm tra host Ä‘Ã£ lÆ°u
   - XÃ³a hoáº·c sá»­a náº¿u cáº§n (vÃ­ dá»¥ khi server Ä‘á»•i key)
   - DÃ¹ng Ä‘á»ƒ debug lá»—i SSH

--------------------------------------------------
4. Káº¾T QUáº¢ MáºªU
--------------------------------------------------
VÃ­ dá»¥ output:

github.com,140.82.114.4 ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIB...
web01.example.com,192.168.1.10 ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAA...

Giáº£i thÃ­ch:
- github.com,140.82.114.4 : hostname vÃ  IP
- ssh-ed25519 / ssh-rsa : loáº¡i key
- AAAAâ€¦ : public key fingerprint

--------------------------------------------------
5. Lá»†NH LIÃŠN QUAN
--------------------------------------------------
- Kiá»ƒm tra host cá»¥ thá»ƒ:
ssh-keygen -F github.com

- XÃ³a host:
ssh-keygen -R github.com

- Liá»‡t kÃª vá»›i dÃ²ng sá»‘:
nl ~/.ssh/known_hosts

--------------------------------------------------
6. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

6.1. Permission denied
--------------------------------------------------
- NguyÃªn nhÃ¢n: khÃ´ng cÃ³ quyá»n Ä‘á»c file
- Giáº£i phÃ¡p:
ls -l ~/.ssh/known_hosts
chmod 600 ~/.ssh/known_hosts
sudo cat ~/.ssh/known_hosts (náº¿u cáº§n)

6.2. File khÃ´ng tá»“n táº¡i
--------------------------------------------------
- ChÆ°a tá»«ng SSH tá»›i host nÃ o
- Sáº½ Ä‘Æ°á»£c táº¡o tá»± Ä‘á»™ng khi káº¿t ná»‘i láº§n Ä‘áº§u

--------------------------------------------------
7. Cáº¢NH BÃO
--------------------------------------------------
- File chá»©a thÃ´ng tin nháº¡y cáº£m â†’ KHÃ”NG chia sáº» public
- Thay Ä‘á»•i key trong known_hosts pháº£i cáº©n tháº­n Ä‘á»ƒ trÃ¡nh lá»—i SSH
- KhÃ´ng chá»‰nh sá»­a trá»±c tiáº¿p náº¿u khÃ´ng hiá»ƒu format

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
cat ~/.ssh/known_hosts

= Hiá»ƒn thá»‹ danh sÃ¡ch server SSH Ä‘Ã£ káº¿t ná»‘i
= Kiá»ƒm tra fingerprint Ä‘á»ƒ xÃ¡c thá»±c server
= Chá»‰ Ä‘á»c, khÃ´ng chá»‰nh sá»­a
= File náº±m trong ~/.ssh/known_hosts
= Quan trá»ng cho báº£o máº­t SSH
		
		
		- cmd: cat /dev/null > ~/.ssh/known_hosts
		
Lá»†NH: cat /dev/null > ~/.ssh/known_hosts
=======================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh `cat /dev/null > ~/.ssh/known_hosts` dÃ¹ng Ä‘á»ƒ **xÃ³a toÃ n bá»™ ná»™i dung file `known_hosts`** trong thÆ° má»¥c `.ssh` cá»§a user hiá»‡n táº¡i.

Má»¥c Ä‘Ã­ch:
- Loáº¡i bá» táº¥t cáº£ cÃ¡c key cá»§a cÃ¡c host SSH Ä‘Ã£ tá»«ng káº¿t ná»‘i
- ThÆ°á»ng dÃ¹ng khi gáº·p lá»—i xÃ¡c thá»±c host key (host key changed, man-in-the-middle warning)
- GiÃºp SSH táº¡o láº¡i danh sÃ¡ch host má»›i khi káº¿t ná»‘i láº§n tiáº¿p theo


2. Cáº¤U TRÃšC Lá»†NH
----------------
cat /dev/null > ~/.ssh/known_hosts

Giáº£i thÃ­ch:
- `cat /dev/null` : Hiá»ƒn thá»‹ ná»™i dung cá»§a file `/dev/null` (luÃ´n trá»‘ng)
- `>`             : Redirect output sang file, ghi Ä‘Ã¨ toÃ n bá»™ ná»™i dung
- `~/.ssh/known_hosts` : File chá»©a danh sÃ¡ch SSH host key Ä‘Ã£ biáº¿t


3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
---------------------
1. `cat /dev/null` táº¡o ra má»™t luá»“ng dá»¯ liá»‡u rá»—ng
2. `>` ghi Ä‘Ã¨ luá»“ng trá»‘ng nÃ y vÃ o file `known_hosts`
3. Káº¿t quáº£:
   - File `known_hosts` trá»‘ng
   - Láº§n káº¿t ná»‘i SSH tiáº¿p theo, há»‡ thá»‘ng sáº½ há»i xÃ¡c thá»±c host má»›i vÃ  thÃªm láº¡i key má»›i vÃ o file


4. VÃ Dá»¤ THá»°C Táº¾
-----------------
- Gáº·p lá»—i khi SSH vÃ o server:
		
		
		- cmd: sudo apt install software-properties-common
		
Lá»†NH: sudo apt install software-properties-common
====================================================================

1. sudo lÃ  gÃ¬?
--------------------------------------------------------------------
- sudo (superuser do) cho phÃ©p cháº¡y lá»‡nh vá»›i quyá»n root
- Cáº§n quyá»n root Ä‘á»ƒ cÃ i Ä‘áº·t package há»‡ thá»‘ng

--------------------------------------------------------------------

2. apt lÃ  gÃ¬?
--------------------------------------------------------------------
- apt = Advanced Package Tool
- TrÃ¬nh quáº£n lÃ½ gÃ³i trÃªn há»‡ Ä‘iá»u hÃ nh Debian-based (Ubuntu, Debian, Linux Mint)
- DÃ¹ng Ä‘á»ƒ:
  + CÃ i Ä‘áº·t pháº§n má»m
  + Cáº­p nháº­t há»‡ thá»‘ng
  + Gá»¡ pháº§n má»m

--------------------------------------------------------------------

3. install nghÄ©a lÃ  gÃ¬?
--------------------------------------------------------------------
- install = cÃ i Ä‘áº·t package vÃ o há»‡ thá»‘ng
- Tá»± Ä‘á»™ng:
  + Táº£i package
  + Giáº£i quyáº¿t dependency
  + Cáº¥u hÃ¬nh package

--------------------------------------------------------------------

4. software-properties-common lÃ  gÃ¬?
--------------------------------------------------------------------
- Package chá»©a cÃ¡c tiá»‡n Ã­ch giÃºp quáº£n lÃ½ repository trÃªn Ubuntu/Debian
- Bao gá»“m:
  + add-apt-repository â†’ thÃªm PPA hoáº·c repository bÃªn ngoÃ i
  + remove-apt-repository â†’ xÃ³a repository
  + CÃ¡c lá»‡nh há»— trá»£ quáº£n lÃ½ software sources

- Cáº§n thiáº¿t khi muá»‘n thÃªm PPA hoáº·c repository má»›i trÆ°á»›c khi cÃ i pháº§n má»m

--------------------------------------------------------------------

5. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
sudo apt install software-properties-common

â†’ CÃ i Ä‘áº·t package há»— trá»£ quáº£n lÃ½ repository trÃªn há»‡ thá»‘ng
â†’ Cho phÃ©p sá»­ dá»¥ng lá»‡nh add-apt-repository
â†’ ThÆ°á»ng thá»±c hiá»‡n trÆ°á»›c khi thÃªm PPA hoáº·c cÃ i pháº§n má»m má»›i tá»« repository ngoÃ i

KHÃ”NG:
- KhÃ´ng tá»± thÃªm repository
- KhÃ´ng cÃ i pháº§n má»m ngoÃ i chá»©c nÄƒng nÃ y

--------------------------------------------------------------------

6. Quy trÃ¬nh thá»±c thi bÃªn trong
--------------------------------------------------------------------
1) apt kiá»ƒm tra package software-properties-common cÃ³ trong repository khÃ´ng
2) Kiá»ƒm tra cÃ¡c dependency cáº§n thiáº¿t
3) Táº£i package vá»
4) CÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh
5) ThÃªm lá»‡nh add-apt-repository vÃ o PATH (/usr/bin/add-apt-repository)

--------------------------------------------------------------------

7. Kiá»ƒm tra sau khi cÃ i
--------------------------------------------------------------------
- Kiá»ƒm tra phiÃªn báº£n package:
apt show software-properties-common

- Kiá»ƒm tra lá»‡nh add-apt-repository:
add-apt-repository --help

--------------------------------------------------------------------

8. CÃ¡c lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) Permission denied:
- Cháº¡y thiáº¿u quyá»n root â†’ cáº§n sudo

2) Unable to locate package:
- ChÆ°a apt update
- Repository chÆ°a cÃ³ package

3) Network error:
- KhÃ´ng táº£i Ä‘Æ°á»£c package tá»« repository

--------------------------------------------------------------------

9. Khi nÃ o nÃªn dÃ¹ng lá»‡nh nÃ y?
--------------------------------------------------------------------
- TrÆ°á»›c khi thÃªm PPA trÃªn Ubuntu:
sudo add-apt-repository ppa:some/ppa

- TrÆ°á»›c khi cÃ i pháº§n má»m tá»« repository ngoÃ i

--------------------------------------------------------------------

10. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
sudo apt install software-properties-common =
CÃ€I Äáº¶T CÃC TIá»†N ÃCH QUáº¢N LÃ REPOSITORY TRÃŠN UBUNTU/DEBIAN, CHO PHÃ‰P DÃ™NG add-apt-repository
		
		
		- cmd: sudo add-apt-repository --yes --update ppa:ansible/ansible
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
sudo add-apt-repository --yes --update ppa:ansible/ansible
=============================================================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    sudo add-apt-repository --yes --update ppa:ansible/ansible

ÄÆ°á»£c sá»­ dá»¥ng trÃªn cÃ¡c há»‡ Ä‘iá»u hÃ nh dá»±a trÃªn Debian/Ubuntu Ä‘á»ƒ:
- ThÃªm má»™t **Personal Package Archive (PPA)** vÃ o danh sÃ¡ch repository cá»§a há»‡ thá»‘ng
- Cáº­p nháº­t thÃ´ng tin gÃ³i sau khi thÃªm PPA
- Chuáº©n bá»‹ Ä‘á»ƒ cÃ i Ä‘áº·t pháº§n má»m tá»« PPA, á»Ÿ Ä‘Ã¢y lÃ  **Ansible**
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ cÃ i phiÃªn báº£n má»›i hÆ¡n cá»§a pháº§n má»m mÃ  khÃ´ng cÃ³ trong repository máº·c Ä‘á»‹nh

Má»¥c Ä‘Ã­ch:
â†’ ThÃªm repository Ansible chÃ­nh thá»©c trÃªn Launchpad Ä‘á»ƒ cÃ i Ä‘áº·t hoáº·c nÃ¢ng cáº¥p Ansible


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

2.1. sudo
---------
- Cháº¡y lá»‡nh vá»›i quyá»n root (superuser)
- YÃªu cáº§u nháº­p password cá»§a user hiá»‡n táº¡i náº¿u chÆ°a cÃ³ quyá»n sudo
- Cáº§n thiáº¿t vÃ¬ thao tÃ¡c thay Ä‘á»•i repository yÃªu cáº§u quyá»n root


2.2. add-apt-repository
-----------------------
- CÃ´ng cá»¥ cá»§a Ubuntu/Debian dÃ¹ng Ä‘á»ƒ thÃªm repository má»›i vÃ o há»‡ thá»‘ng
- CÃ³ thá»ƒ thÃªm:
  + PPA (Personal Package Archive)
  + Repository thÃ´ng thÆ°á»ng
- Tá»± Ä‘á»™ng cáº­p nháº­t danh sÃ¡ch gÃ³i náº¿u dÃ¹ng tÃ¹y chá»n `--update`
- CÃº phÃ¡p:
    add-apt-repository [options] <repository>


2.3. --yes
----------
- Tá»± Ä‘á»™ng cháº¥p nháº­n má»i cÃ¢u há»i xÃ¡c nháº­n
- TrÃ¡nh viá»‡c pháº£i nháº­p `Enter` thá»§ cÃ´ng
- DÃ¹ng khi cháº¡y script hoáº·c automation


2.4. --update
-------------
- Tá»± Ä‘á»™ng cháº¡y `apt update` sau khi thÃªm repository
- Cáº­p nháº­t danh sÃ¡ch gÃ³i má»›i tá»« PPA
- GiÃºp sáºµn sÃ ng Ä‘á»ƒ cÃ i Ä‘áº·t gÃ³i mÃ  khÃ´ng cáº§n cháº¡y lá»‡nh `sudo apt update` riÃªng


2.5. ppa:ansible/ansible
------------------------
- Äá»‹a chá»‰ PPA trÃªn Launchpad:
  + `ppa` = Personal Package Archive
  + `ansible/ansible` = tÃªn owner/repository trÃªn Launchpad
- Chá»©a cÃ¡c gÃ³i Ansible má»›i nháº¥t cho Ubuntu/Debian
- ThÆ°á»ng cung cáº¥p version má»›i hÆ¡n repository máº·c Ä‘á»‹nh


3. CÃCH HOáº T Äá»˜NG
-----------------
Khi cháº¡y lá»‡nh:
1. `add-apt-repository` thÃªm PPA vÃ o file `/etc/apt/sources.list.d/ansible-ansible-*.list`
2. GPG key cá»§a PPA Ä‘Æ°á»£c import Ä‘á»ƒ Ä‘áº£m báº£o tÃ­nh xÃ¡c thá»±c cá»§a gÃ³i
3. Vá»›i tÃ¹y chá»n `--update`, lá»‡nh tá»± Ä‘á»™ng cháº¡y:
    sudo apt update
4. Sau khi hoÃ n táº¥t, há»‡ thá»‘ng sáºµn sÃ ng cÃ i Ä‘áº·t Ansible tá»« PPA:
    sudo apt install ansible -y


4. YÃŠU Cáº¦U
------------
- Ubuntu hoáº·c Debian
- Quyá»n root hoáº·c sudo
- Káº¿t ná»‘i Internet Ä‘á»ƒ truy cáº­p Launchpad
- ThÆ° viá»‡n `software-properties-common` cÃ i Ä‘áº·t sáºµn (cÃ³ chá»©a add-apt-repository)


5. LÆ¯U Ã QUAN TRá»ŒNG
------------------
- PPA lÃ  nguá»“n bÃªn ngoÃ i, nÃªn chá»‰ thÃªm PPA tá»« nguá»“n tin cáº­y
- PPA cÃ³ thá»ƒ chá»©a phiÃªn báº£n má»›i nhÆ°ng chÆ°a Ä‘Æ°á»£c kiá»ƒm thá»­ ká»¹
- ThÆ°á»ng dÃ¹ng trong mÃ´i trÆ°á»ng development hoáº·c testing trÆ°á»›c khi Ã¡p dá»¥ng vÃ o production


6. KIá»‚M TRA SAU KHI THÃŠM PPA
-----------------------------
- Xem danh sÃ¡ch repository:
    ls /etc/apt/sources.list.d/
- Kiá»ƒm tra gÃ³i Ansible cÃ³ sáºµn tá»« PPA:
    apt-cache policy ansible
- CÃ i Ä‘áº·t Ansible:
    sudo apt install ansible -y


7. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------
7.1. add-apt-repository: command not found
- NguyÃªn nhÃ¢n: thiáº¿u package `software-properties-common`
- CÃ¡ch xá»­ lÃ½:
    sudo apt install software-properties-common -y

7.2. Failed to fetch PPA
- NguyÃªn nhÃ¢n: Internet lá»—i hoáº·c PPA khÃ´ng tá»“n táº¡i
- CÃ¡ch xá»­ lÃ½: kiá»ƒm tra Ä‘á»‹a chá»‰ PPA vÃ  káº¿t ná»‘i máº¡ng

7.3. GPG key lá»—i
- NguyÃªn nhÃ¢n: PPA key khÃ´ng há»£p lá»‡
- CÃ¡ch xá»­ lÃ½: thÃªm key báº±ng tay hoáº·c thá»­ láº¡i sau


8. TÃ“M Táº®T
----------
- sudo add-apt-repository --yes --update ppa:ansible/ansible
  + ThÃªm PPA Ansible vÃ o há»‡ thá»‘ng
  + Cháº¥p nháº­n tá»± Ä‘á»™ng (yes)
  + Tá»± Ä‘á»™ng cáº­p nháº­t danh sÃ¡ch gÃ³i (update)
- Chuáº©n bá»‹ Ä‘á»ƒ cÃ i Ä‘áº·t hoáº·c nÃ¢ng cáº¥p Ansible má»›i nháº¥t trÃªn Ubuntu/Debian


Káº¾T LUáº¬N
--------
Lá»‡nh nÃ y lÃ  chuáº©n Ä‘á»ƒ thÃªm repository Ansible trÃªn Ubuntu/Debian,
giÃºp ngÆ°á»i dÃ¹ng nhanh chÃ³ng cÃ i Ä‘áº·t hoáº·c cáº­p nháº­t Ansible mÃ  khÃ´ng cáº§n chá» repository máº·c Ä‘á»‹nh.
		
		
		- cmd: sudo apt install ansible
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
sudo apt install ansible
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t Ansible trÃªn cÃ¡c há»‡ thá»‘ng Linux
dÃ¹ng trÃ¬nh quáº£n lÃ½ gÃ³i `apt` (Ubuntu, Debian).

- `Ansible` lÃ  cÃ´ng cá»¥ tá»± Ä‘á»™ng hÃ³a IT (Automation):
  + Cáº¥u hÃ¬nh server
  + Triá»ƒn khai á»©ng dá»¥ng
  + Quáº£n lÃ½ háº¡ táº§ng (DevOps, CI/CD)
- Hoáº¡t Ä‘á»™ng agentless, tá»©c khÃ´ng cáº§n cÃ i agent trÃªn server Ä‘Ã­ch,
  chá»‰ cáº§n SSH access.

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. sudo
--------------------------------------------------
- Cháº¡y lá»‡nh vá»›i quyá»n root (quáº£n trá»‹)
- Cáº§n thiáº¿t Ä‘á»ƒ cÃ i pháº§n má»m trÃªn há»‡ thá»‘ng

2.2. apt
--------------------------------------------------
- TrÃ¬nh quáº£n lÃ½ gÃ³i trÃªn Debian/Ubuntu
- Chá»©c nÄƒng:
  + install â†’ cÃ i Ä‘áº·t package
  + remove â†’ gá»¡ bá» package
  + update â†’ cáº­p nháº­t danh sÃ¡ch package
  + upgrade â†’ nÃ¢ng cáº¥p package

2.3. install
--------------------------------------------------
- Tham sá»‘ cá»§a apt
- Chá»©c nÄƒng: cÃ i Ä‘áº·t package Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh

2.4. ansible
--------------------------------------------------
- TÃªn package cáº§n cÃ i Ä‘áº·t
- Sau khi cÃ i Ä‘áº·t:
  + Lá»‡nh `ansible` kháº£ dá»¥ng trÃªn shell
  + CÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ cháº¡y playbook, module, vÃ  quáº£n lÃ½ server

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. apt kiá»ƒm tra quyá»n root
2. Táº£i danh sÃ¡ch package tá»« repository
3. TÃ¬m package `ansible` vÃ  cÃ¡c dependency
4. Táº£i vá» vÃ  cÃ i Ä‘áº·t tá»± Ä‘á»™ng
5. Cáº­p nháº­t cÃ¡c symlink vÃ  PATH
6. Hiá»ƒn thá»‹ káº¿t quáº£ cÃ i Ä‘áº·t vÃ  phiÃªn báº£n Ansible

--------------------------------------------------
4. KIá»‚M TRA SAU KHI CÃ€I Äáº¶T
--------------------------------------------------
- Kiá»ƒm tra version Ansible:
--------------------------------------------------
ansible --version
â†’ vÃ­ dá»¥: ansible 2.14.4

- Kiá»ƒm tra lá»‡nh ansible kháº£ dá»¥ng:
--------------------------------------------------
which ansible
â†’ vÃ­ dá»¥: /usr/bin/ansible

--------------------------------------------------
5. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- Pháº£i cÃ³ quyá»n root hoáº·c sudo
- Cáº§n káº¿t ná»‘i Internet Ä‘á»ƒ táº£i package
- Ansible cháº¡y agentless, chá»‰ cáº§n SSH access tá»›i server
- CÃ³ thá»ƒ cÃ i thÃªm `ansible-playbook` Ä‘á»ƒ cháº¡y playbook

--------------------------------------------------
6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- CÃ i Ä‘áº·t Ansible trÃªn há»‡ thá»‘ng Linux
- Tá»± Ä‘á»™ng hÃ³a quáº£n lÃ½ server vÃ  deploy á»©ng dá»¥ng
- Há»— trá»£ DevOps, CI/CD pipeline, configuration management

--------------------------------------------------
7. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
sudo apt install ansible
= CÃ i Ansible báº±ng apt trÃªn Ubuntu/Debian
= Cáº§n quyá»n root
= Sau khi cÃ i, lá»‡nh `ansible` kháº£ dá»¥ng Ä‘á»ƒ quáº£n lÃ½ server vÃ  tá»± Ä‘á»™ng hÃ³a
==================================================
		
		
		- cmd: ansible --version
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ansible --version

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Kiá»ƒm tra phiÃªn báº£n hiá»‡n táº¡i cá»§a Ansible Ä‘Ã£ cÃ i Ä‘áº·t trÃªn há»‡ thá»‘ng
- XÃ¡c nháº­n Ansible cÃ³ sáºµn vÃ  cÃ³ thá»ƒ sá»­ dá»¥ng trong automation
- Hiá»ƒn thá»‹ thÃªm thÃ´ng tin Python interpreter vÃ  cÃ¡c path module Ansible

Ansible:
- CÃ´ng cá»¥ automation vÃ  Configuration Management
- DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ nhiá»u server tá»« xa
- Thá»±c hiá»‡n cÃ¡c nhiá»‡m vá»¥ nhÆ° cÃ i Ä‘áº·t pháº§n má»m, triá»ƒn khai á»©ng dá»¥ng, quáº£n lÃ½ cáº¥u hÃ¬nh

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. ansible
--------------------------------------------------
- Binary command line cá»§a Ansible
- CÃ¡c lá»‡nh phá»• biáº¿n:
  + ansible <host-pattern> -m <module> -a <args>
  + ansible-playbook <playbook.yml>
  + ansible-galaxy <command>
- Thá»±c hiá»‡n automation trÃªn cÃ¡c host thÃ´ng qua SSH

2.2. --version
--------------------------------------------------
- Option dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ phiÃªn báº£n Ansible
- In ra thÃ´ng tin:
  + PhiÃªn báº£n Ansible
  + PhiÃªn báº£n Python Ä‘ang sá»­ dá»¥ng
  + CÃ¡c Ä‘Æ°á»ng dáº«n module vÃ  plugin
- GiÃºp xÃ¡c Ä‘á»‹nh tÆ°Æ¡ng thÃ­ch vá»›i playbook vÃ  module hiá»‡n táº¡i

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. Shell gá»i binary ansible
2. Ansible Ä‘á»c option --version
3. In ra terminal thÃ´ng tin phiÃªn báº£n Ansible, vÃ­ dá»¥:

ansible [core 2.15.6]
  python version = 3.11.4 (main, May  9 2025, 16:35:22) [GCC 12.2.1 20230118]
  executable location = /usr/bin/ansible
  config file = /etc/ansible/ansible.cfg
  module search path = ['/home/user/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python3.11/site-packages/ansible
  jinja version = 3.2.1

--------------------------------------------------
4. Má»¤C ÄÃCH THÆ¯á»œNG DÃ™NG
--------------------------------------------------
- Kiá»ƒm tra Ansible Ä‘Ã£ cÃ i Ä‘áº·t chÆ°a
- XÃ¡c nháº­n version trÆ°á»›c khi cháº¡y playbook hoáº·c module
- Debug váº¥n Ä‘á» tÆ°Æ¡ng thÃ­ch vá»›i Python hoáº·c module
- Äáº£m báº£o mÃ´i trÆ°á»ng automation sáºµn sÃ ng

--------------------------------------------------
5. Lá»†NH LIÃŠN QUAN
--------------------------------------------------
- ansible --help
  + Hiá»ƒn thá»‹ cÃ¡c option vÃ  lá»‡nh cá»§a Ansible
- ansible-playbook --version
  + Kiá»ƒm tra version Ansible khi cháº¡y playbook
- ansible-galaxy --version
  + Kiá»ƒm tra version Galaxy CLI

--------------------------------------------------
6. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

6.1. Command not found
--------------------------------------------------
- NguyÃªn nhÃ¢n: Ansible chÆ°a Ä‘Æ°á»£c cÃ i Ä‘áº·t
- Giáº£i phÃ¡p:
  + Debian/Ubuntu: sudo apt install ansible -y
  + CentOS/RHEL: sudo yum install ansible -y
  + Pip: pip install ansible

6.2. PhiÃªn báº£n Python khÃ´ng tÆ°Æ¡ng thÃ­ch
--------------------------------------------------
- Ansible yÃªu cáº§u Python >= 3.8 (tÃ¹y version)
- Kiá»ƒm tra python version: python3 --version

--------------------------------------------------
7. Cáº¢NH BÃO
--------------------------------------------------
- PhiÃªn báº£n Ansible quan trá»ng Ä‘á»ƒ Ä‘áº£m báº£o playbook cháº¡y Ä‘Ãºng
- NÃªn ghi láº¡i version khi triá»ƒn khai production
- Kiá»ƒm tra cÃ¡c module plugin cÃ³ tÆ°Æ¡ng thÃ­ch vá»›i phiÃªn báº£n Ansible

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
ansible --version

= Hiá»ƒn thá»‹ version Ansible Ä‘Ã£ cÃ i
= Kiá»ƒm tra Python interpreter vÃ  paths
= Äáº£m báº£o mÃ´i trÆ°á»ng automation sáºµn sÃ ng
= DÃ¹ng Ä‘á»ƒ debug vÃ  xÃ¡c nháº­n tÃ­nh tÆ°Æ¡ng thÃ­ch
		
		
		- cmd: ansible-config init --disable -t all > ansible.cfg
		
Lá»†NH: ansible-config init --disable -t all > ansible.cfg
=========================================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **táº¡o má»™t file cáº¥u hÃ¬nh Ansible (`ansible.cfg`) Ä‘áº§y Ä‘á»§**, nhÆ°ng **vá»›i táº¥t cáº£ cÃ¡c tÃ¹y chá»n bá»‹ vÃ´ hiá»‡u hÃ³a (disabled)**.  

Má»¥c Ä‘Ã­ch:
- Táº¡o file cáº¥u hÃ¬nh template Ä‘á»ƒ ngÆ°á»i dÃ¹ng chá»‰nh sá»­a theo nhu cáº§u
- GiÃºp quáº£n lÃ½ cáº¥u hÃ¬nh Ansible má»™t cÃ¡ch rÃµ rÃ ng vÃ  nháº¥t quÃ¡n
- Dá»… dÃ ng xem táº¥t cáº£ cÃ¡c tÃ¹y chá»n cÃ³ thá»ƒ cáº¥u hÃ¬nh trong Ansible


2. Cáº¤U TRÃšC Lá»†NH
----------------
ansible-config init [options] > ansible.cfg

Chi tiáº¿t Ã¡p dá»¥ng:
- `ansible-config` : Command quáº£n lÃ½ vÃ  kiá»ƒm tra cáº¥u hÃ¬nh Ansible
- `init`           : Táº¡o file cáº¥u hÃ¬nh má»›i tá»« template
- `--disable`      : VÃ´ hiá»‡u hÃ³a táº¥t cáº£ cÃ¡c tÃ¹y chá»n (tá»©c lÃ  khÃ´ng báº­t báº¥t ká»³ giÃ¡ trá»‹ máº·c Ä‘á»‹nh nÃ o)
- `-t all`         : Bao gá»“m táº¥t cáº£ cÃ¡c tÃ¹y chá»n cáº¥u hÃ¬nh cÃ³ thá»ƒ
- `> ansible.cfg`  : Redirect output ra file `ansible.cfg` thay vÃ¬ hiá»ƒn thá»‹ trÃªn terminal


3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
---------------------
1. Ansible Ä‘á»c táº¥t cáº£ tÃ¹y chá»n cÃ³ thá»ƒ trong Ansible (tá»« `defaults` vÃ  `config docs`)
2. Táº¡o template file cáº¥u hÃ¬nh:
   - Táº¥t cáº£ tÃ¹y chá»n Ä‘Æ°á»£c comment hoáº·c disabled
   - KhÃ´ng báº­t báº¥t ká»³ giÃ¡ trá»‹ máº·c Ä‘á»‹nh nÃ o
3. Ghi ná»™i dung template vÃ o file `ansible.cfg`
4. NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ má»Ÿ file nÃ y vÃ  chá»‰nh sá»­a cÃ¡c tÃ¹y chá»n cáº§n thiáº¿t


4. VÃ Dá»¤ THá»°C Táº¾
-----------------
1. Táº¡o file cáº¥u hÃ¬nh template:
   ansible-config init --disable -t all > ansible.cfg

2. Má»Ÿ vÃ  chá»‰nh sá»­a file:
   nano ansible.cfg
   - Báº­t cÃ¡c tÃ¹y chá»n nhÆ° inventory, remote_user, roles_path, v.v.
   - LÆ°u file Ä‘á»ƒ Ansible sá»­ dá»¥ng


5. LÆ¯U Ã QUAN TRá»ŒNG
-------------------
- File `ansible.cfg` Ä‘Æ°á»£c táº¡o trong thÆ° má»¥c hiá»‡n táº¡i
- File cáº¥u hÃ¬nh nÃ y **chá»‰ lÃ  template**, chÆ°a báº­t báº¥t ká»³ tÃ­nh nÄƒng nÃ o
- Náº¿u muá»‘n dÃ¹ng máº·c Ä‘á»‹nh cá»§a Ansible, khÃ´ng cáº§n táº¡o file nÃ y
- Khi file `ansible.cfg` tá»“n táº¡i, Ansible Æ°u tiÃªn Ä‘á»c file nÃ y trÆ°á»›c `~/.ansible.cfg` hoáº·c `/etc/ansible/ansible.cfg`
- NÃªn kiá»ƒm tra quyá»n truy cáº­p file:
  chmod 644 ansible.cfg


6. TÃ“M Táº®T
-----------
- Lá»‡nh táº¡o template file cáº¥u hÃ¬nh Ansible Ä‘áº§y Ä‘á»§ nhÆ°ng vÃ´ hiá»‡u hÃ³a táº¥t cáº£ tÃ¹y chá»n
- Dá»… dÃ ng chá»‰nh sá»­a theo nhu cáº§u dá»± Ã¡n
- Redirect output sang `ansible.cfg` Ä‘á»ƒ dÃ¹ng trá»±c tiáº¿p
- ThÃ­ch há»£p khi thiáº¿t láº­p mÃ´i trÆ°á»ng Ansible má»›i hoáº·c chuáº©n hÃ³a cáº¥u hÃ¬nh trong team
		
		
		- cmd: chmod 400 clientkey.pem
		
Lá»†NH: chmod 400 clientkey.pem
====================================================================

1. chmod lÃ  gÃ¬?
--------------------------------------------------------------------
- chmod = change mode
- Lá»‡nh Linux dÃ¹ng Ä‘á»ƒ thay Ä‘á»•i quyá»n truy cáº­p (permissions) cá»§a file hoáº·c thÆ° má»¥c
- Quyá»n truy cáº­p gá»“m:
  + Read (r) = Ä‘á»c
  + Write (w) = ghi
  + Execute (x) = thá»±c thi

--------------------------------------------------------------------

2. clientkey.pem lÃ  gÃ¬?
--------------------------------------------------------------------
- ÄÃ¢y lÃ  file private key (PEM format) dÃ¹ng Ä‘á»ƒ xÃ¡c thá»±c khi káº¿t ná»‘i SSH hoáº·c cÃ¡c dá»‹ch vá»¥ báº£o máº­t
- ThÆ°á»ng dÃ¹ng vá»›i:
  + SSH login
  + AWS EC2 key
- File nÃ y pháº£i Ä‘Æ°á»£c báº£o máº­t tuyá»‡t Ä‘á»‘i

--------------------------------------------------------------------

3. Ã nghÄ©a sá»‘ 400 trong chmod
--------------------------------------------------------------------
- Quyá»n file Ä‘Æ°á»£c biá»ƒu diá»…n báº±ng 3 chá»¯ sá»‘: User | Group | Others
- 400 = 
  + User (owner) = 4 â†’ Read only
  + Group = 0 â†’ KhÃ´ng quyá»n gÃ¬
  + Others = 0 â†’ KhÃ´ng quyá»n gÃ¬

Tá»©c lÃ :
- Chá»‰ chá»§ sá»Ÿ há»¯u file cÃ³ quyá»n Ä‘á»c
- KhÃ´ng ai cÃ³ quyá»n ghi hay thá»±c thi

--------------------------------------------------------------------

4. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
chmod 400 clientkey.pem

â†’ Thiáº¿t láº­p file clientkey.pem chá»‰ Ä‘Æ°á»£c Ä‘á»c bá»Ÿi owner
â†’ TÄƒng báº£o máº­t cho private key
â†’ PhÃ¹ há»£p khi sá»­ dá»¥ng vá»›i SSH:
ssh -i clientkey.pem user@host

KHÃ”NG:
- KhÃ´ng cho phÃ©p ghi hoáº·c thá»±c thi
- KhÃ´ng thay Ä‘á»•i owner cá»§a file

--------------------------------------------------------------------

5. Kiá»ƒm tra quyá»n sau khi chmod
--------------------------------------------------------------------
ls -l clientkey.pem

Output sáº½ hiá»ƒn thá»‹:
-r-------- 1 user group size date clientkey.pem

Giáº£i thÃ­ch:
- -r-------- â†’ chá»‰ owner cÃ³ read
- Ghi (w) vÃ  thá»±c thi (x) bá»‹ táº¯t

--------------------------------------------------------------------

6. LÆ°u Ã½ quan trá»ng
--------------------------------------------------------------------
- Náº¿u private key cÃ³ quyá»n quÃ¡ má»Ÿ (vÃ­ dá»¥ 644), SSH sáº½ bÃ¡o lá»—i "UNPROTECTED PRIVATE KEY FILE"
- LuÃ´n Ä‘áº£m báº£o chá»‰ owner cÃ³ quyá»n Ä‘á»c file private key
- KhÃ´ng share file cho ngÆ°á»i khÃ¡c

--------------------------------------------------------------------

7. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
chmod 400 clientkey.pem =
THIáº¾T Láº¬P QUYá»€N CHO FILE PRIVATE KEY CHá»ˆ Äá»ŒC Bá»I OWNER, KHÃ”NG CHO GROUP HOáº¶C OTHERS TRUY Cáº¬P
		
		
		- cmd: ansible web01 -m ping -i inventory
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ansible web01 -m ping -i inventory
===========================================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    ansible web01 -m ping -i inventory

ÄÆ°á»£c sá»­ dá»¥ng trong **Ansible** Ä‘á»ƒ:
- Kiá»ƒm tra káº¿t ná»‘i SSH tá»›i host `web01`
- XÃ¡c minh ráº±ng Ansible cÃ³ thá»ƒ quáº£n lÃ½ host nÃ y
- Sá»­ dá»¥ng module `ping` cá»§a Ansible, khÃ´ng pháº£i ICMP ping
- DÃ¹ng inventory file xÃ¡c Ä‘á»‹nh host vÃ  thÃ´ng tin káº¿t ná»‘i

Má»¥c Ä‘Ã­ch:
â†’ Kiá»ƒm tra ráº±ng host `web01` sáºµn sÃ ng nháº­n lá»‡nh tá»« Ansible trÆ°á»›c khi triá»ƒn khai task thá»±c táº¿


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

2.1. ansible
-------------
- CLI tool cá»§a Ansible Ä‘á»ƒ thá»±c thi lá»‡nh ad-hoc trÃªn host tá»« xa
- KhÃ¡c vá»›i `ansible-playbook` dÃ¹ng Ä‘á»ƒ cháº¡y playbook nhiá»u bÆ°á»›c

2.2. web01
-----------
- TÃªn host hoáº·c group trong **inventory**
- Inventory file cÃ³ thá»ƒ lÃ  file ini hoáº·c YAML, vÃ­ dá»¥:
    [webservers]
    web01 ansible_host=192.168.1.10 ansible_user=devops

- ÄÃ¢y lÃ  host mÃ  lá»‡nh sáº½ thá»±c thi module

2.3. -m ping
-------------
- `-m` = module
- `ping` lÃ  module kiá»ƒm tra káº¿t ná»‘i Ansible, khÃ¡c vá»›i lá»‡nh ping ICMP
- Chá»©c nÄƒng:
  + Káº¿t ná»‘i SSH tá»›i host
  + Thá»±c thi module ping Python tá»« xa
  + Tráº£ vá»:
        SUCCESS => host sáºµn sÃ ng
        FAILED  => khÃ´ng káº¿t ná»‘i Ä‘Æ°á»£c

- ÄÃ¢y lÃ  cÃ¡ch nhanh vÃ  an toÃ n Ä‘á»ƒ test káº¿t ná»‘i Ansible

2.4. -i inventory
-----------------
- `-i` = inventory file
- Chá»‰ Ä‘á»‹nh file chá»©a danh sÃ¡ch host vÃ  thÃ´ng tin káº¿t ná»‘i
- VÃ­ dá»¥ ná»™i dung `inventory`:
    [webservers]
    web01 ansible_host=192.168.1.10 ansible_user=devops


3. CÃCH HOáº T Äá»˜NG
-----------------
1. Ansible Ä‘á»c inventory file Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh
2. XÃ¡c Ä‘á»‹nh thÃ´ng tin káº¿t ná»‘i tá»›i `web01`:
   - ansible_host
   - ansible_user
   - ssh key hoáº·c password
3. SSH tá»›i host `web01`
4. Thá»±c thi module ping (Python module nhá»)
5. Tráº£ káº¿t quáº£ JSON vá» mÃ¡y local:
   - `"ping": "pong"` náº¿u thÃ nh cÃ´ng
   - BÃ¡o lá»—i náº¿u SSH hoáº·c module khÃ´ng thá»±c thi Ä‘Æ°á»£c


4. YÃŠU Cáº¦U
------------
- Ansible Ä‘Ã£ cÃ i Ä‘áº·t trÃªn mÃ¡y control node
- Host `web01` cÃ³ SSH server Ä‘ang cháº¡y
- SSH key hoáº·c password há»£p lá»‡ Ä‘á»ƒ káº¿t ná»‘i
- Python 2/3 cÃ³ trÃªn host tá»« xa (Ä‘á»ƒ module ping cháº¡y)


5. LÆ¯U Ã QUAN TRá»ŒNG
------------------
- Module `ping` khÃ¡c ICMP ping, kiá»ƒm tra káº¿t ná»‘i Ansible
- Náº¿u káº¿t ná»‘i tháº¥t báº¡i:
  + SSH khÃ´ng cháº¡y
  + User khÃ´ng Ä‘Ãºng
  + Key SSH khÃ´ng há»£p lá»‡
  + Python khÃ´ng cÃ i trÃªn host tá»« xa
- CÃ³ thá»ƒ debug báº±ng:
    ansible web01 -m ping -i inventory -vvvv

- CÃ³ thá»ƒ kiá»ƒm tra nhiá»u host cÃ¹ng lÃºc:
    ansible webservers -m ping -i inventory


6. KIá»‚M TRA SAU KHI CHáº Y
-------------------------
- Káº¿t quáº£ SUCCESS:
    web01 | SUCCESS => {"ping": "pong"}
- Káº¿t quáº£ FAILED:
    web01 | FAILED => ... lá»—i chi tiáº¿t
- Náº¿u cÃ³ lá»—i, kiá»ƒm tra inventory, SSH, vÃ  Python trÃªn host


7. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------
7.1. UNREACHABLE
- NguyÃªn nhÃ¢n: SSH khÃ´ng káº¿t ná»‘i Ä‘Æ°á»£c
- Kiá»ƒm tra: ansible_user, ansible_host, firewall, SSH key

7.2. Python not found
- NguyÃªn nhÃ¢n: host khÃ´ng cÃ³ Python
- CÃ¡ch xá»­ lÃ½: cÃ i Python 2 hoáº·c 3 trÃªn host

7.3. Permission denied
- NguyÃªn nhÃ¢n: SSH key hoáº·c password sai
- CÃ¡ch xá»­ lÃ½: kiá»ƒm tra quyá»n káº¿t ná»‘i


8. TÃ“M Táº®T
----------
- ansible web01 -m ping -i inventory
  + Kiá»ƒm tra káº¿t ná»‘i Ansible tá»›i host `web01`
  + DÃ¹ng module ping (tráº£ `"pong"` náº¿u thÃ nh cÃ´ng)
  + Inventory chá»‰ Ä‘á»‹nh host vÃ  user
- Lá»‡nh ad-hoc nhanh, khÃ´ng thá»±c hiá»‡n thay Ä‘á»•i trÃªn host


Káº¾T LUáº¬N
--------
ÄÃ¢y lÃ  lá»‡nh cÆ¡ báº£n nhÆ°ng quan trá»ng Ä‘á»ƒ kiá»ƒm tra host trÆ°á»›c khi triá»ƒn khai playbook,
giÃºp Ä‘áº£m báº£o automation Ansible sáº½ cháº¡y suÃ´n sáº» vÃ  host sáºµn sÃ ng nháº­n lá»‡nh.
		
		
		- cmd: ansible all -m ping -i inventory
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ansible all -m ping -i inventory
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ kiá»ƒm tra káº¿t ná»‘i SSH tá»›i táº¥t cáº£ cÃ¡c host
Ä‘Æ°á»£c liá»‡t kÃª trong file inventory báº±ng Ansible.

- `ansible`: command-line tool cá»§a Ansible
- `all`: target group, nghÄ©a lÃ  Ã¡p dá»¥ng cho táº¥t cáº£ host trong inventory
- `-m ping`: sá»­ dá»¥ng module `ping` cá»§a Ansible Ä‘á»ƒ kiá»ƒm tra káº¿t ná»‘i
- `-i inventory`: chá»‰ Ä‘á»‹nh file inventory chá»©a danh sÃ¡ch host vÃ  thÃ´ng tin káº¿t ná»‘i

Module `ping` trong Ansible khÃ´ng gá»­i ICMP network ping, mÃ  thá»±c hiá»‡n
má»™t káº¿t ná»‘i SSH tá»›i host vÃ  tráº£ vá» â€œpongâ€ náº¿u thÃ nh cÃ´ng.

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. ansible
--------------------------------------------------
- CLI tool cá»§a Ansible
- Thá»±c hiá»‡n cÃ¡c tÃ¡c vá»¥ quáº£n lÃ½ server
- Gá»i module, playbook, hoáº·c ad-hoc commands

2.2. all
--------------------------------------------------
- Target host/group
- `all` nghÄ©a lÃ  táº¥t cáº£ host trong file inventory
- CÃ³ thá»ƒ thay báº±ng tÃªn group cá»¥ thá»ƒ náº¿u inventory phÃ¢n nhÃ³m

2.3. -m ping
--------------------------------------------------
- `-m` chá»‰ Ä‘á»‹nh module Ansible muá»‘n cháº¡y
- Module `ping`:
  + Kiá»ƒm tra SSH vÃ  Python interpreter trÃªn host
  + Tráº£ vá» â€œpongâ€ náº¿u káº¿t ná»‘i thÃ nh cÃ´ng
- KhÃ´ng thay Ä‘á»•i tráº¡ng thÃ¡i host

2.4. -i inventory
--------------------------------------------------
- `-i` hoáº·c `--inventory` chá»‰ Ä‘á»‹nh file inventory
- File inventory cÃ³ thá»ƒ lÃ :
  + Äá»‹nh dáº¡ng INI:
    ```
    web01 ansible_host=192.168.1.10 ansible_user=devops
    web02 ansible_host=192.168.1.11 ansible_user=devops
    ```
  + Äá»‹nh dáº¡ng YAML, JSON, hoáº·c dynamic inventory script

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. Ansible Ä‘á»c file inventory Ä‘á»ƒ xÃ¡c Ä‘á»‹nh host vÃ  thÃ´ng tin login
2. Thá»±c hiá»‡n káº¿t ná»‘i SSH tá»›i tá»«ng host báº±ng user máº·c Ä‘á»‹nh hoáº·c khai bÃ¡o trong inventory
3. Gá»i module `ping` trÃªn host:
   - Kiá»ƒm tra Python interpreter
   - Tráº£ vá» káº¿t quáº£ JSON chá»©a `"pong"` náº¿u thÃ nh cÃ´ng
4. Hiá»ƒn thá»‹ káº¿t quáº£ trÃªn terminal:
   - `web01 | SUCCESS => { "ping": "pong" }`
   - `web02 | SUCCESS => { "ping": "pong" }`
5. Náº¿u cÃ³ lá»—i káº¿t ná»‘i:
   - Hiá»ƒn thá»‹ `UNREACHABLE!` hoáº·c lá»—i authentication

--------------------------------------------------
4. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Kiá»ƒm tra káº¿t ná»‘i SSH tá»›i táº¥t cáº£ host
- Kiá»ƒm tra mÃ´i trÆ°á»ng Python trÃªn host
- XÃ¡c nháº­n ráº±ng Ansible cÃ³ thá»ƒ quáº£n lÃ½ host
- ThÆ°á»ng dÃ¹ng trÆ°á»›c khi cháº¡y playbook Ä‘á»ƒ trÃ¡nh lá»—i

--------------------------------------------------
5. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- SSH pháº£i Ä‘Æ°á»£c thiáº¿t láº­p vÃ  key-based authentication Ä‘Æ°á»£c cáº¥u hÃ¬nh
- Host pháº£i cÃ³ Python interpreter
- File inventory pháº£i Ä‘Ãºng Ä‘á»‹nh dáº¡ng vÃ  chá»©a thÃ´ng tin user/host chÃ­nh xÃ¡c
- Module ping khÃ´ng pháº£i network ICMP ping

--------------------------------------------------
6. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
ansible all -m ping -i inventory
= Kiá»ƒm tra káº¿t ná»‘i SSH tá»›i táº¥t cáº£ host trong inventory
= Sá»­ dá»¥ng module `ping` Ä‘á»ƒ xÃ¡c nháº­n Ansible cÃ³ thá»ƒ quáº£n lÃ½ host
= Hiá»ƒn thá»‹ káº¿t quáº£ â€œpongâ€ náº¿u thÃ nh cÃ´ng, lá»—i náº¿u khÃ´ng káº¿t ná»‘i Ä‘Æ°á»£c
==================================================
		
		
		- cmd: ansible '*' -m ping -i inventory
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ansible '*' -m ping -i inventory

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Kiá»ƒm tra káº¿t ná»‘i SSH vÃ  kháº£ nÄƒng giao tiáº¿p cá»§a Ansible vá»›i cÃ¡c host Ä‘Æ°á»£c liá»‡t kÃª trong file inventory
- Thá»±c hiá»‡n â€œpingâ€ trÃªn táº¥t cáº£ host (`'*'`) Ä‘á»ƒ xÃ¡c nháº­n ráº±ng Ansible cÃ³ thá»ƒ káº¿t ná»‘i vÃ  thá»±c thi module
- DÃ¹ng Ä‘á»ƒ debug, kiá»ƒm tra mÃ´i trÆ°á»ng Ansible trÆ°á»›c khi cháº¡y playbook

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. ansible
--------------------------------------------------
- Command line interface (CLI) cá»§a Ansible
- DÃ¹ng Ä‘á»ƒ cháº¡y cÃ¡c module trá»±c tiáº¿p trÃªn remote host mÃ  khÃ´ng cáº§n playbook
- CÃ¡c lá»‡nh phá»• biáº¿n:
  + ansible <host-pattern> -m <module> -a <args>
  + ansible-playbook <playbook.yml>

2.2. '*'
--------------------------------------------------
- Host pattern
- '*' = táº¥t cáº£ host trong inventory
- CÃ³ thá»ƒ thay báº±ng nhÃ³m hoáº·c host cá»¥ thá»ƒ:
  + webservers
  + db01.example.com

2.3. -m ping
--------------------------------------------------
- -m = module
- ping = module kiá»ƒm tra káº¿t ná»‘i Ä‘Æ¡n giáº£n cá»§a Ansible
- Module ping:
  + KhÃ´ng liÃªn quan Ä‘áº¿n ICMP network ping
  + Thá»±c cháº¥t lÃ  kiá»ƒm tra káº¿t ná»‘i SSH vÃ  kháº£ nÄƒng thá»±c thi Python trÃªn remote host
- Náº¿u thÃ nh cÃ´ng, host tráº£ vá» â€œpongâ€

2.4. -i inventory
--------------------------------------------------
- -i = chá»‰ Ä‘á»‹nh file inventory
- inventory lÃ  file liá»‡t kÃª host vÃ  nhÃ³m host mÃ  Ansible quáº£n lÃ½
- CÃ³ thá»ƒ lÃ  file INI, YAML hoáº·c dynamic inventory script
- VÃ­ dá»¥ file inventory:
  [webservers]
  web01 ansible_host=192.168.1.10
  web02 ansible_host=192.168.1.11

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. Ansible Ä‘á»c file inventory Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh (-i inventory)
2. Lá»c host theo pattern ('*' = táº¥t cáº£ host)
3. Káº¿t ná»‘i SSH tá»›i tá»«ng host
4. Thá»±c thi module ping trÃªn host
   + Module ping kiá»ƒm tra Python interpreter trÃªn host
5. Thu tháº­p káº¿t quáº£ tráº£ vá»
6. Hiá»ƒn thá»‹ káº¿t quáº£:
   host01 | SUCCESS => { "ping": "pong" }
   host02 | SUCCESS => { "ping": "pong" }

--------------------------------------------------
4. Má»¤C ÄÃCH THÆ¯á»œNG DÃ™NG
--------------------------------------------------
- Kiá»ƒm tra káº¿t ná»‘i Ansible vá»›i cÃ¡c host
- Debug khi host khÃ´ng tráº£ vá» káº¿t quáº£
- XÃ¡c nháº­n Python vÃ  quyá»n SSH trÃªn remote host
- TrÆ°á»›c khi cháº¡y playbook phá»©c táº¡p

--------------------------------------------------
5. Lá»†NH LIÃŠN QUAN
--------------------------------------------------
- ansible webservers -m ping -i inventory
  + Ping nhÃ³m host â€œwebserversâ€
- ansible all -m setup -i inventory
  + Thu tháº­p facts cá»§a táº¥t cáº£ host
- ansible-playbook playbook.yml -i inventory
  + Cháº¡y playbook vá»›i inventory Ä‘Ã£ Ä‘á»‹nh nghÄ©a

--------------------------------------------------
6. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

6.1. UNREACHABLE
--------------------------------------------------
host01 | UNREACHABLE! => { "msg": "Failed to connect to the host via ssh" }
NguyÃªn nhÃ¢n:
- SSH chÆ°a thiáº¿t láº­p
- Host offline
- User hoáº·c key sai

6.2. SUCCESS nhÆ°ng khÃ´ng pong
--------------------------------------------------
NguyÃªn nhÃ¢n:
- Python khÃ´ng cÃ i trÃªn remote host
Giáº£i phÃ¡p:
- CÃ i Python (Python 3.6+)
- ThÃªm biáº¿n ansible_python_interpreter náº¿u Python khÃ´ng máº·c Ä‘á»‹nh

6.3. Inventory file khÃ´ng tá»“n táº¡i
--------------------------------------------------
Lá»—i:
ERROR! the inventory file 'inventory' could not be found
Giáº£i phÃ¡p:
- Kiá»ƒm tra Ä‘Æ°á»ng dáº«n file inventory

--------------------------------------------------
7. Cáº¢NH BÃO
--------------------------------------------------
- Module ping chá»‰ kiá»ƒm tra káº¿t ná»‘i, khÃ´ng test ICMP
- Pháº£i Ä‘áº£m báº£o quyá»n SSH cho user cháº¡y ansible
- File inventory pháº£i chÃ­nh xÃ¡c Ä‘á»ƒ trÃ¡nh lá»—i káº¿t ná»‘i

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
ansible '*' -m ping -i inventory

= Kiá»ƒm tra káº¿t ná»‘i Ansible tá»›i táº¥t cáº£ host trong inventory
= Module ping xÃ¡c nháº­n SSH + Python trÃªn remote host
= DÃ¹ng Ä‘á»ƒ debug vÃ  xÃ¡c nháº­n host sáºµn sÃ ng
= '-i inventory' chá»‰ Ä‘á»‹nh file host list
= Hiá»ƒn thá»‹ "pong" náº¿u thÃ nh cÃ´ng
		
		
		- cmd: ansible 'web*' -m ping -i inventory
		
Lá»†NH: ansible 'web*' -m ping -i inventory
=========================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **kiá»ƒm tra káº¿t ná»‘i SSH tá»« Ansible tá»›i cÃ¡c host** trong inventory.  

- `ping` module cá»§a Ansible khÃ´ng giá»‘ng ICMP ping; nÃ³ kiá»ƒm tra:
  - SSH cÃ³ thá»ƒ káº¿t ná»‘i tá»›i host
  - Python cÃ³ sáºµn trÃªn host Ä‘á»ƒ Ansible thá»±c thi module
- ÄÃ¢y lÃ  bÆ°á»›c Ä‘áº§u tiÃªn Ä‘á»ƒ xÃ¡c nháº­n host sáºµn sÃ ng cho automation


2. Cáº¤U TRÃšC Lá»†NH
----------------
ansible [pattern] -m [module] -i [inventory]

Trong vÃ­ dá»¥:
- `web*`       : Pattern chá»n cÃ¡c host trong inventory cÃ³ tÃªn báº¯t Ä‘áº§u báº±ng `web`
- `-m ping`    : Sá»­ dá»¥ng module `ping` cá»§a Ansible
- `-i inventory` : Chá»‰ Ä‘á»‹nh file inventory chá»©a danh sÃ¡ch host


3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
---------------------
1. Ansible Ä‘á»c file `inventory` Ä‘á»ƒ xÃ¡c Ä‘á»‹nh host matching pattern `web*`
2. Má»—i host Ä‘Æ°á»£c káº¿t ná»‘i qua SSH:
   - Kiá»ƒm tra xÃ¡c thá»±c báº±ng user/SSH key Ä‘Æ°á»£c cáº¥u hÃ¬nh
   - Kiá»ƒm tra Python cÃ³ cÃ i trÃªn host
3. Thá»±c thi module `ping` trÃªn host:
   - Module `ping` tráº£ vá» JSON: `"ping": "pong"` náº¿u thÃ nh cÃ´ng
4. Hiá»ƒn thá»‹ káº¿t quáº£ trÃªn terminal:
   - ThÃ nh cÃ´ng: `"ping": "pong"`
   - Lá»—i káº¿t ná»‘i: bÃ¡o lá»—i SSH hoáº·c Python khÃ´ng cÃ³


4. VÃ Dá»¤ THá»°C Táº¾
-----------------
1. File inventory:
		
		
		- cmd: ansible web01 -m ansible.builtin.yum -a "name=httpd state=present" -i inventory --become
		
Lá»†NH: ansible web01 -m ansible.builtin.yum -a "name=httpd state=present" -i inventory --become
====================================================================

1. ansible lÃ  gÃ¬?
--------------------------------------------------------------------
- Ansible lÃ  cÃ´ng cá»¥ tá»± Ä‘á»™ng hÃ³a (Automation) cho há»‡ thá»‘ng
- DÃ¹ng Ä‘á»ƒ:
  + Cáº¥u hÃ¬nh server
  + Triá»ƒn khai á»©ng dá»¥ng
  + Quáº£n lÃ½ háº¡ táº§ng (Provisioning)
- Hoáº¡t Ä‘á»™ng agentless: khÃ´ng cáº§n cÃ i agent trÃªn server, chá»‰ cáº§n SSH

--------------------------------------------------------------------

2. web01 lÃ  gÃ¬?
--------------------------------------------------------------------
- Target host (hoáº·c group) mÃ  lá»‡nh Ansible sáº½ thá»±c hiá»‡n
- Trong inventory, web01 cÃ³ thá»ƒ lÃ :
  + TÃªn host
  + IP address
- ÄÃ¢y lÃ  server mÃ  báº¡n muá»‘n cÃ i Ä‘áº·t hoáº·c quáº£n lÃ½ package

--------------------------------------------------------------------

3. -m ansible.builtin.yum lÃ  gÃ¬?
--------------------------------------------------------------------
- -m = module
- ansible.builtin.yum = module quáº£n lÃ½ package trÃªn há»‡ thá»‘ng Red Hat-based (CentOS, Fedora, RHEL)
- Module nÃ y dÃ¹ng Ä‘á»ƒ:
  + CÃ i Ä‘áº·t package
  + Gá»¡ package
  + Cáº­p nháº­t package
- TÆ°Æ¡ng tá»± `dnf install` hoáº·c `yum install` trá»±c tiáº¿p trÃªn server

--------------------------------------------------------------------

4. -a "name=httpd state=present" lÃ  gÃ¬?
--------------------------------------------------------------------
- -a = arguments (tham sá»‘ cho module)
- name=httpd â†’ package cáº§n cÃ i lÃ  httpd (Apache)
- state=present â†’ Ä‘áº£m báº£o package Ä‘Æ°á»£c cÃ i, náº¿u chÆ°a cÃ³ sáº½ cÃ i, náº¿u Ä‘Ã£ cÃ³ giá»¯ nguyÃªn
- CÃ¡c state khÃ¡c:
  + absent â†’ gá»¡ package
  + latest â†’ nÃ¢ng cáº¥p package lÃªn phiÃªn báº£n má»›i nháº¥t

--------------------------------------------------------------------

5. -i inventory lÃ  gÃ¬?
--------------------------------------------------------------------
- -i = inventory file
- Inventory chá»©a danh sÃ¡ch host/group mÃ  Ansible quáº£n lÃ½
VÃ­ dá»¥ inventory:
		
		
		- cmd: ansible webservers -m ansible.builtin.yum -a "name=httpd state=present" -i inventory --become
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ansible webservers -m ansible.builtin.yum -a "name=httpd state=present" -i inventory --become
=================================================================================================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    ansible webservers -m ansible.builtin.yum -a "name=httpd state=present" -i inventory --become

ÄÆ°á»£c sá»­ dá»¥ng trong **Ansible** Ä‘á»ƒ:
- CÃ i Ä‘áº·t hoáº·c Ä‘áº£m báº£o gÃ³i `httpd` (Apache HTTP Server) tá»“n táº¡i trÃªn nhÃ³m host `webservers`
- Sá»­ dá»¥ng module `ansible.builtin.yum` Ä‘á»ƒ quáº£n lÃ½ gÃ³i trÃªn há»‡ thá»‘ng Red Hat-based (RHEL, CentOS, Fedora)
- Cháº¡y lá»‡nh vá»›i quyá»n **sudo** (`--become`) vÃ¬ viá»‡c cÃ i gÃ³i yÃªu cáº§u quyá»n root
- DÃ¹ng inventory file xÃ¡c Ä‘á»‹nh danh sÃ¡ch host vÃ  thÃ´ng tin káº¿t ná»‘i

Má»¥c Ä‘Ã­ch:
â†’ Tá»± Ä‘á»™ng cÃ i Ä‘áº·t Apache HTTP Server trÃªn má»™t hoáº·c nhiá»u host theo inventory


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

2.1. ansible
-------------
- CLI tool cá»§a Ansible Ä‘á»ƒ cháº¡y lá»‡nh ad-hoc trÃªn host tá»« xa
- KhÃ¡c vá»›i `ansible-playbook` dÃ¹ng Ä‘á»ƒ cháº¡y playbook nhiá»u bÆ°á»›c

2.2. webservers
---------------
- TÃªn **group** host trong inventory
- CÃ³ thá»ƒ liá»‡t kÃª nhiá»u host cÃ¹ng lÃºc, vÃ­ dá»¥ trong inventory:
    [webservers]
    web01 ansible_host=192.168.1.10
    web02 ansible_host=192.168.1.11

2.3. -m ansible.builtin.yum
----------------------------
- `-m` = module
- `ansible.builtin.yum` lÃ  module Ansible Ä‘á»ƒ quáº£n lÃ½ gÃ³i trÃªn RHEL/CentOS/Fedora
- Chá»©c nÄƒng:
  + cÃ i Ä‘áº·t (`state=present`)
  + gá»¡ bá» (`state=absent`)
  + cáº­p nháº­t (`state=latest`)

2.4. -a "name=httpd state=present"
-----------------------------------
- `-a` = arguments (tham sá»‘ truyá»n cho module)
- `name=httpd` â†’ tÃªn gÃ³i cáº§n cÃ i Ä‘áº·t
- `state=present` â†’ Ä‘áº£m báº£o gÃ³i tá»“n táº¡i, náº¿u chÆ°a cÃ i thÃ¬ cÃ i má»›i
- TÆ°Æ¡ng tá»±, cÃ³ thá»ƒ dÃ¹ng:
  + `state=absent` â†’ gá»¡ gÃ³i
  + `state=latest` â†’ nÃ¢ng cáº¥p lÃªn phiÃªn báº£n má»›i nháº¥t

2.5. -i inventory
-----------------
- `-i` = inventory file
- Chá»‰ Ä‘á»‹nh file chá»©a danh sÃ¡ch host vÃ  thÃ´ng tin káº¿t ná»‘i
- VÃ­ dá»¥ file `inventory`:
    [webservers]
    web01 ansible_host=192.168.1.10 ansible_user=devops
    web02 ansible_host=192.168.1.11 ansible_user=devops

2.6. --become
-------------
- Sá»­ dá»¥ng sudo Ä‘á»ƒ thá»±c thi lá»‡nh trÃªn host tá»« xa
- Báº¯t buá»™c khi cÃ i Ä‘áº·t hoáº·c gá»¡ gÃ³i trÃªn Linux
- Ansible sáº½ sá»­ dá»¥ng user tá»« inventory vÃ  nÃ¢ng quyá»n root


3. CÃCH HOáº T Äá»˜NG
-----------------
1. Ansible Ä‘á»c inventory Ä‘á»ƒ xÃ¡c Ä‘á»‹nh host nhÃ³m `webservers`
2. SSH tá»›i tá»«ng host báº±ng user chá»‰ Ä‘á»‹nh
3. Sá»­ dá»¥ng module `ansible.builtin.yum`:
   - Kiá»ƒm tra xem gÃ³i `httpd` Ä‘Ã£ cÃ i chÆ°a
   - Náº¿u chÆ°a, thá»±c hiá»‡n cÃ i Ä‘áº·t
4. Cháº¡y vá»›i quyá»n root nhá» `--become`
5. Tráº£ káº¿t quáº£ thÃ nh cÃ´ng hoáº·c lá»—i vá» stdout:
   - `"changed": true` â†’ gÃ³i má»›i Ä‘Æ°á»£c cÃ i
   - `"changed": false` â†’ gÃ³i Ä‘Ã£ tá»“n táº¡i
   - `"failed": true` â†’ lá»—i cÃ i Ä‘áº·t


4. YÃŠU Cáº¦U
------------
- Ansible Ä‘Ã£ cÃ i Ä‘áº·t trÃªn mÃ¡y control node
- Host thuá»™c RHEL/CentOS/Fedora vÃ  cÃ³ `yum` hoáº·c `dnf`
- SSH key hoáº·c password há»£p lá»‡ Ä‘á»ƒ káº¿t ná»‘i
- User trong inventory cÃ³ quyá»n sudo náº¿u dÃ¹ng `--become`


5. LÆ¯U Ã QUAN TRá»ŒNG
------------------
- Module `ansible.builtin.yum` chá»‰ dÃ¹ng trÃªn Red Hat-based Linux
- Náº¿u host lÃ  Ubuntu/Debian, dÃ¹ng module `ansible.builtin.apt`
- Äáº£m báº£o repository trÃªn host Ä‘Ã£ enable Ä‘á»ƒ cÃ i gÃ³i `httpd`
- Kiá»ƒm tra káº¿t ná»‘i Ansible trÆ°á»›c khi cháº¡y lá»‡nh:
    ansible webservers -m ping -i inventory
- CÃ³ thá»ƒ cháº¡y nhiá»u host cÃ¹ng lÃºc, káº¿t quáº£ sáº½ hiá»ƒn thá»‹ cho tá»«ng host


6. KIá»‚M TRA SAU KHI THá»°C THI
-----------------------------
- Xem tráº¡ng thÃ¡i gÃ³i trÃªn host:
    rpm -q httpd
- Kiá»ƒm tra dá»‹ch vá»¥ Apache:
    systemctl status httpd
- Kiá»ƒm tra log Ansible cho tá»«ng host náº¿u lá»‡nh bÃ¡o lá»—i:
    -vvv Ä‘á»ƒ verbose:
    ansible webservers -m ansible.builtin.yum -a "name=httpd state=present" -i inventory --become -vvv


7. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------
7.1. Failed to install package
- NguyÃªn nhÃ¢n: repository chÆ°a enable, network lá»—i
- CÃ¡ch xá»­ lÃ½: kiá»ƒm tra `/etc/yum.repos.d/` vÃ  káº¿t ná»‘i máº¡ng

7.2. Authentication failed
- NguyÃªn nhÃ¢n: user khÃ´ng cÃ³ quyá»n sudo
- CÃ¡ch xá»­ lÃ½: Ä‘áº£m báº£o user cÃ³ quyá»n sudo hoáº·c dÃ¹ng key SSH há»£p lá»‡

7.3. Module khÃ´ng tá»“n táº¡i
- NguyÃªn nhÃ¢n: phiÃªn báº£n Ansible quÃ¡ cÅ©
- CÃ¡ch xá»­ lÃ½: nÃ¢ng cáº¥p Ansible


8. TÃ“M Táº®T
----------
- ansible webservers -m ansible.builtin.yum -a "name=httpd state=present" -i inventory --become
  + Kiá»ƒm tra vÃ  cÃ i Ä‘áº·t Apache HTTP Server trÃªn host nhÃ³m `webservers`
  + Sá»­ dá»¥ng module `yum` vá»›i quyá»n root
  + DÃ¹ng inventory Ä‘á»ƒ xÃ¡c Ä‘á»‹nh host vÃ  user
- ThÃ­ch há»£p cho automation, deploy vÃ  quáº£n lÃ½ server Red Hat-based


Káº¾T LUáº¬N
--------
ÄÃ¢y lÃ  lá»‡nh ad-hoc chuáº©n trong Ansible Ä‘á»ƒ quáº£n lÃ½ gÃ³i trÃªn RHEL/CentOS,
giÃºp tá»± Ä‘á»™ng hÃ³a viá»‡c cÃ i Ä‘áº·t pháº§n má»m trÃªn nhiá»u host Ä‘á»“ng thá»i vÃ  an toÃ n.
		
		
		- cmd: ansible webservers -m ansible.builtin.yum -a "name=httpd state=absent" -i inventory --become
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ansible webservers -m ansible.builtin.yum -a "name=httpd state=absent" -i inventory --become
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ansible Ä‘á»ƒ gá»¡ bá» (uninstall) gÃ³i `httpd` 
(trÃ¬nh web server Apache) trÃªn táº¥t cáº£ cÃ¡c host thuá»™c group 
`webservers` Ä‘Æ°á»£c khai bÃ¡o trong file inventory.

CÃ¡c thÃ nh pháº§n chÃ­nh:
- `ansible`: cÃ´ng cá»¥ CLI cá»§a Ansible
- `webservers`: group target trong inventory
- `-m ansible.builtin.yum`: gá»i module `yum` cá»§a Ansible
- `-a "name=httpd state=absent"`: tham sá»‘ cho module
- `-i inventory`: chá»‰ Ä‘á»‹nh file inventory chá»©a host
- `--become`: cháº¡y lá»‡nh vá»›i quyá»n sudo/root trÃªn host Ä‘Ã­ch

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. ansible
--------------------------------------------------
- CLI tool cá»§a Ansible
- Thá»±c hiá»‡n cÃ¡c tÃ¡c vá»¥ quáº£n lÃ½ server tá»« xa
- CÃ³ thá»ƒ cháº¡y ad-hoc command hoáº·c playbook

2.2. webservers
--------------------------------------------------
- Target group, nghÄ©a lÃ  táº¥t cáº£ host trong group `webservers`
- Group nÃ y Ä‘Æ°á»£c khai bÃ¡o trong file inventory:
		
		
		- cmd: ansible webservers -m ansible.builtin.service -a "name=httpd state=started enabled=yes" -i inventory --become
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ansible webservers -m ansible.builtin.service -a "name=httpd state=started enabled=yes" -i inventory --become

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Quáº£n lÃ½ dá»‹ch vá»¥ `httpd` (Apache) trÃªn táº¥t cáº£ host thuá»™c nhÃ³m `webservers` trong inventory
- Äáº£m báº£o dá»‹ch vá»¥ Ä‘ang cháº¡y (`state=started`) vÃ  tá»± khá»Ÿi Ä‘á»™ng cÃ¹ng há»‡ thá»‘ng (`enabled=yes`)
- Thá»±c hiá»‡n vá»›i quyá»n root trÃªn remote host nhá» `--become`
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ triá»ƒn khai, cáº¥u hÃ¬nh hoáº·c quáº£n lÃ½ service trÃªn nhiá»u server

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. ansible
--------------------------------------------------
- Command line interface cá»§a Ansible
- Thá»±c hiá»‡n module trá»±c tiáº¿p trÃªn host mÃ  khÃ´ng cáº§n playbook
- CÃ¡c lá»‡nh phá»• biáº¿n:
  + ansible <host-pattern> -m <module> -a <args>

2.2. webservers
--------------------------------------------------
- Host pattern: nhÃ³m host trong file inventory
- Táº¥t cáº£ host trong nhÃ³m `webservers` sáº½ thá»±c thi lá»‡nh

2.3. -m ansible.builtin.service
--------------------------------------------------
- Module Ansible Ä‘á»ƒ quáº£n lÃ½ service trÃªn Linux
- ansible.builtin.service: module cÃ³ sáºµn trong Ansible core
- Há»— trá»£ start, stop, restart, enable, disable service

2.4. -a "name=httpd state=started enabled=yes"
--------------------------------------------------
- Argument truyá»n cho module
- name=httpd â†’ tÃªn service muá»‘n quáº£n lÃ½
- state=started â†’ Ä‘áº£m báº£o service Ä‘ang cháº¡y
- enabled=yes â†’ báº­t cháº¿ Ä‘á»™ tá»± khá»Ÿi Ä‘á»™ng cÃ¹ng há»‡ thá»‘ng

2.5. -i inventory
--------------------------------------------------
- Chá»‰ Ä‘á»‹nh file inventory chá»©a danh sÃ¡ch host vÃ  nhÃ³m host
- File cÃ³ thá»ƒ á»Ÿ dáº¡ng INI, YAML hoáº·c dynamic inventory script

2.6. --become
--------------------------------------------------
- Cháº¡y lá»‡nh vá»›i quyá»n nÃ¢ng cao (root) trÃªn host tá»« xa
- TÆ°Æ¡ng Ä‘Æ°Æ¡ng `sudo` trong shell
- Cáº§n user cÃ³ quyá»n sudo trÃªn remote host

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. Ansible Ä‘á»c file inventory vÃ  xÃ¡c Ä‘á»‹nh host thuá»™c nhÃ³m `webservers`
2. Káº¿t ná»‘i SSH tá»›i tá»«ng host
3. DÃ¹ng `--become` Ä‘á»ƒ nÃ¢ng quyá»n thá»±c thi lá»‡nh
4. Module `ansible.builtin.service`:
   - Kiá»ƒm tra tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a service `httpd`
   - Náº¿u service chÆ°a cháº¡y, start service
   - Náº¿u service chÆ°a Ä‘Æ°á»£c enable, báº­t cháº¿ Ä‘á»™ auto-start
5. Thu tháº­p káº¿t quáº£ tráº£ vá» tá»« tá»«ng host
6. Hiá»ƒn thá»‹ káº¿t quáº£:
   host01 | SUCCESS => { "name": "httpd", "state": "started", "enabled": true }
   host02 | SUCCESS => { "name": "httpd", "state": "started", "enabled": true }

--------------------------------------------------
4. Má»¤C ÄÃCH THÆ¯á»œNG DÃ™NG
--------------------------------------------------
- Khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥ Apache trÃªn nhÃ³m web servers
- Báº­t tá»± Ä‘á»™ng start dá»‹ch vá»¥ sau reboot
- Quáº£n lÃ½ service Ä‘á»“ng bá»™ trÃªn nhiá»u host
- DÃ¹ng trong deployment hoáº·c cáº¥u hÃ¬nh server

--------------------------------------------------
5. Lá»†NH LIÃŠN QUAN
--------------------------------------------------
- ansible webservers -m ansible.builtin.service -a "name=httpd state=stopped" -i inventory --become
  + Dá»«ng dá»‹ch vá»¥ Apache
- ansible webservers -m ansible.builtin.service -a "name=httpd state=restarted" -i inventory --become
  + Restart dá»‹ch vá»¥
- ansible webservers -m ansible.builtin.service -a "name=httpd enabled=no" -i inventory --become
  + VÃ´ hiá»‡u hÃ³a auto-start dá»‹ch vá»¥

--------------------------------------------------
6. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

6.1. Permission denied
--------------------------------------------------
- NguyÃªn nhÃ¢n: user khÃ´ng cÃ³ quyá»n sudo
- Giáº£i phÃ¡p: kiá»ƒm tra quyá»n sudo hoáº·c cáº¥u hÃ¬nh `become_user`

6.2. Service khÃ´ng tá»“n táº¡i
--------------------------------------------------
- Module bÃ¡o lá»—i: `Could not find the requested service`
- Giáº£i phÃ¡p: kiá»ƒm tra tÃªn service chÃ­nh xÃ¡c trÃªn remote host (systemctl list-units --type=service)

6.3. Host unreachable
--------------------------------------------------
- NguyÃªn nhÃ¢n: SSH khÃ´ng káº¿t ná»‘i Ä‘Æ°á»£c
- Giáº£i phÃ¡p: kiá»ƒm tra inventory, káº¿t ná»‘i máº¡ng vÃ  ssh-copy-id náº¿u dÃ¹ng key

--------------------------------------------------
7. Cáº¢NH BÃO
--------------------------------------------------
- Module service thá»±c sá»± thay Ä‘á»•i tráº¡ng thÃ¡i dá»‹ch vá»¥ â†’ cáº§n cáº©n tháº­n trÃªn production
- NÃªn kiá»ƒm tra trÆ°á»›c vá»›i module ping: ansible webservers -m ping -i inventory
- DÃ¹ng version control cho inventory vÃ  playbook liÃªn quan

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
ansible webservers -m ansible.builtin.service -a "name=httpd state=started enabled=yes" -i inventory --become

= Quáº£n lÃ½ service Apache trÃªn nhÃ³m webservers
= Äáº£m báº£o service Ä‘ang cháº¡y vÃ  auto-start
= Sá»­ dá»¥ng quyá»n root trÃªn remote host vá»›i --become
= ThÃ­ch há»£p deploy, cáº¥u hÃ¬nh Ä‘á»“ng bá»™ nhiá»u host
		
		
		- cmd: ansible webservers -m ansible.builtin.copy -a "src=index.html dest=/var/www/html/index.html" -i inventory --become
		
Lá»†NH: ansible webservers -m ansible.builtin.copy -a "src=index.html dest=/var/www/html/index.html" -i inventory --become
========================================================================================================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **sao chÃ©p file `index.html` tá»« mÃ¡y local lÃªn cÃ¡c host trong nhÃ³m `webservers`** thÃ´ng qua Ansible.

- Module `ansible.builtin.copy` sáº½ copy file hoáº·c template tá»« mÃ¡y local Ä‘áº¿n host remote.
- `--become` cho phÃ©p thá»±c thi vá»›i quyá»n root trÃªn host remote náº¿u cáº§n quyá»n ghi vÃ o thÆ° má»¥c há»‡ thá»‘ng (`/var/www/html`).


2. Cáº¤U TRÃšC Lá»†NH
----------------
ansible [pattern] -m [module] -a "[module_arguments]" -i [inventory] [options]

Giáº£i thÃ­ch Ã¡p dá»¥ng:
- `webservers`                : NhÃ³m host trong file inventory mÃ  lá»‡nh sáº½ tÃ¡c Ä‘á»™ng
- `-m ansible.builtin.copy`    : Sá»­ dá»¥ng module copy cá»§a Ansible
- `-a "src=index.html dest=/var/www/html/index.html"` : Tham sá»‘ cá»§a module copy
  - `src=index.html`         : File nguá»“n trÃªn mÃ¡y local
  - `dest=/var/www/html/index.html` : ÄÃ­ch trÃªn host remote
- `-i inventory`              : File inventory chá»©a danh sÃ¡ch host
- `--become`                  : Thá»±c thi vá»›i quyá»n nÃ¢ng cao (sudo) trÃªn host remote


3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
---------------------
1. Ansible Ä‘á»c inventory Ä‘á»ƒ xÃ¡c Ä‘á»‹nh host trong nhÃ³m `webservers`.
2. Káº¿t ná»‘i SSH tá»›i tá»«ng host.
3. Module `copy` sáº½:
   - Kiá»ƒm tra náº¿u file `index.html` tá»“n táº¡i trÃªn host
   - So sÃ¡nh checksum, náº¿u khÃ¡c má»›i ghi Ä‘Ã¨
   - Sao chÃ©p file tá»« local lÃªn host
4. Náº¿u dÃ¹ng `--become`, Ansible sáº½ nÃ¢ng quyá»n lÃªn root Ä‘á»ƒ ghi file vÃ o thÆ° má»¥c `/var/www/html`.
5. Hiá»ƒn thá»‹ káº¿t quáº£ trÃªn terminal:
   - SUCCESS: File Ä‘Æ°á»£c sao chÃ©p thÃ nh cÃ´ng
   - FAILED: CÃ³ lá»—i SSH, quyá»n, hoáº·c Ä‘Æ°á»ng dáº«n


4. VÃ Dá»¤ THá»°C Táº¾
-----------------
1. File inventory (`inventory`):
		
		
		- cmd: ansible webservers -m yum -a "name=httpd state-absent" -i inventory --become
		
Lá»†NH: ansible webservers -m yum -a "name=httpd state=absent" -i inventory --become
====================================================================

1. ansible lÃ  gÃ¬?
--------------------------------------------------------------------
- Ansible lÃ  cÃ´ng cá»¥ tá»± Ä‘á»™ng hÃ³a (Automation) trÃªn Linux/Unix
- DÃ¹ng Ä‘á»ƒ:
  + Cáº¥u hÃ¬nh server
  + Triá»ƒn khai á»©ng dá»¥ng
  + Quáº£n lÃ½ háº¡ táº§ng (Provisioning)
- Hoáº¡t Ä‘á»™ng agentless: khÃ´ng cáº§n cÃ i agent trÃªn server, chá»‰ cáº§n SSH

--------------------------------------------------------------------

2. webservers lÃ  gÃ¬?
--------------------------------------------------------------------
- ÄÃ¢y lÃ  **group** trong file inventory
- Group chá»©a má»™t hoáº·c nhiá»u host
VÃ­ dá»¥ inventory:
		
		
		- cmd: ansible-playbook -i inventory web-db.yaml
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ansible-playbook -i inventory web-db.yaml
=============================================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    ansible-playbook -i inventory web-db.yaml

ÄÆ°á»£c sá»­ dá»¥ng trong **Ansible** Ä‘á»ƒ:
- Thá»±c thi má»™t **playbook** (táº­p há»£p cÃ¡c task) trÃªn cÃ¡c host Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh trong inventory
- Tá»± Ä‘á»™ng triá»ƒn khai háº¡ táº§ng, cÃ i Ä‘áº·t pháº§n má»m hoáº·c cáº¥u hÃ¬nh há»‡ thá»‘ng
- `web-db.yaml` lÃ  file playbook Ä‘á»‹nh nghÄ©a cÃ¡c steps cáº§n thá»±c hiá»‡n
- Inventory file xÃ¡c Ä‘á»‹nh host vÃ  user Ä‘á»ƒ káº¿t ná»‘i

Má»¥c Ä‘Ã­ch:
â†’ Thá»±c hiá»‡n deployment hoáº·c automation theo logic Ä‘á»‹nh nghÄ©a trong playbook `web-db.yaml`


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

2.1. ansible-playbook
--------------------
- CLI tool cá»§a Ansible dÃ¹ng Ä‘á»ƒ cháº¡y **playbook** (khÃ¡c vá»›i lá»‡nh `ansible` ad-hoc)
- Playbook viáº¿t báº±ng YAML, Ä‘á»‹nh nghÄ©a cÃ¡c **play**, **task**, **role**, **handlers**
- Cho phÃ©p automation nhiá»u bÆ°á»›c, nhiá»u host cÃ¹ng lÃºc, vÃ  quáº£n lÃ½ state cá»§a há»‡ thá»‘ng

2.2. -i inventory
-----------------
- `-i` = inventory file
- XÃ¡c Ä‘á»‹nh host/group Ä‘á»ƒ Ansible thá»±c hiá»‡n playbook
- VÃ­ dá»¥ ná»™i dung `inventory`:
    [webservers]
    web01 ansible_host=192.168.1.10 ansible_user=devops

    [dbservers]
    db01 ansible_host=192.168.1.20 ansible_user=devops

- Inventory cÃ³ thá»ƒ lÃ  file ini hoáº·c YAML

2.3. web-db.yaml
----------------
- File **playbook YAML** Ä‘á»‹nh nghÄ©a logic thá»±c thi
- Cáº¥u trÃºc cÆ¡ báº£n:
```yaml
- name: Deploy Web and Database Servers
  hosts: webservers
  become: yes
  tasks:
    - name: Install Apache
      ansible.builtin.yum:
        name: httpd
        state: present

- name: Configure Database
  hosts: dbservers
  become: yes
  tasks:
    - name: Install MySQL
      ansible.builtin.yum:
        name: mysql-server
        state: present
		
		
		- cmd: ansible-playbook -i inventory web-db.yaml -v
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ansible-playbook -i inventory web-db.yaml -v
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ cháº¡y má»™t Ansible Playbook cÃ³ tÃªn `web-db.yaml`
trÃªn cÃ¡c host Ä‘Æ°á»£c khai bÃ¡o trong file `inventory`.

Playbook lÃ  file YAML mÃ´ táº£:
- CÃ¡c host/group cáº§n quáº£n lÃ½
- CÃ¡c task cáº§n thá»±c hiá»‡n (cÃ i Ä‘áº·t, cáº¥u hÃ¬nh, deployâ€¦)
- Thá»© tá»± thá»±c thi cÃ¡c task

TÃ¹y chá»n `-v` báº­t cháº¿ Ä‘á»™ verbose Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t
trong quÃ¡ trÃ¬nh cháº¡y playbook.

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. ansible-playbook
--------------------------------------------------
- Command-line tool cá»§a Ansible
- DÃ¹ng Ä‘á»ƒ cháº¡y playbook (khÃ¡c vá»›i `ansible` lÃ  ad-hoc command)
- Playbook cho phÃ©p:
  + Cháº¡y nhiá»u task theo thá»© tá»±
  + Ãp dá»¥ng Ä‘iá»u kiá»‡n, loop, variable
  + Quáº£n lÃ½ háº¡ táº§ng á»Ÿ má»©c phá»©c táº¡p

--------------------------------------------------
2.2. -i inventory
--------------------------------------------------
- Chá»‰ Ä‘á»‹nh file inventory
- File inventory chá»©a:
  + Danh sÃ¡ch host
  + Group (webservers, dbservers, â€¦)
  + ThÃ´ng tin káº¿t ná»‘i SSH (user, key, IP)

VÃ­ dá»¥ inventory:
--------------------------------------------------
[webservers]
web01 ansible_host=192.168.1.10 ansible_user=devops

[dbservers]
db01 ansible_host=192.168.1.20 ansible_user=devops

--------------------------------------------------
2.3. web-db.yaml
--------------------------------------------------
- TÃªn file playbook Ansible
- File YAML Ä‘á»‹nh nghÄ©a:
  + host/group nÃ o sáº½ cháº¡y
  + cÃ¡c task cáº§n thá»±c hiá»‡n
  + module Ansible Ä‘Æ°á»£c sá»­ dá»¥ng

VÃ­ dá»¥ playbook Ä‘Æ¡n giáº£n:
--------------------------------------------------
- hosts: webservers
  become: yes
  tasks:
    - name: Install Apache
      yum:
        name: httpd
        state: present

--------------------------------------------------
2.4. -v
--------------------------------------------------
- Báº­t cháº¿ Ä‘á»™ verbose (hiá»ƒn thá»‹ chi tiáº¿t)
- GiÃºp:
  + Debug lá»—i
  + Theo dÃµi tá»«ng task Ä‘ang cháº¡y trÃªn host nÃ o

Má»©c Ä‘á»™ verbose:
--------------------------------------------------
-v     â†’ verbose
-vv    â†’ more verbose
-vvv   â†’ debug chi tiáº¿t
-vvvv  â†’ debug ráº¥t sÃ¢u (SSH, internal)

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. Ansible Ä‘á»c file inventory
2. Äá»c ná»™i dung playbook `web-db.yaml`
3. XÃ¡c Ä‘á»‹nh host/group cáº§n cháº¡y
4. Káº¿t ná»‘i SSH tá»›i tá»«ng host
5. Thá»±c thi cÃ¡c task theo thá»© tá»± trong playbook
6. Hiá»ƒn thá»‹ output chi tiáº¿t nhá» `-v`
7. Tá»•ng káº¿t káº¿t quáº£ (ok, changed, failed, skipped)

--------------------------------------------------
4. Káº¾T QUáº¢ Äáº¦U RA MáºªU
--------------------------------------------------
PLAY [webservers] ****************************************

TASK [Gathering Facts] **********************************
ok: [web01]

TASK [Install Apache] ***********************************
changed: [web01]

PLAY RECAP **********************************************
web01 : ok=2 changed=1 unreachable=0 failed=0

--------------------------------------------------
5. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Cháº¡y playbook triá»ƒn khai web, database
- Tá»± Ä‘á»™ng hÃ³a cáº¥u hÃ¬nh server
- DÃ¹ng trong DevOps, CI/CD pipeline
- Debug vÃ  theo dÃµi chi tiáº¿t quÃ¡ trÃ¬nh cháº¡y task

--------------------------------------------------
6. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- SSH access tá»›i host pháº£i hoáº¡t Ä‘á»™ng
- Playbook YAML pháº£i Ä‘Ãºng syntax
- Inventory pháº£i khai bÃ¡o Ä‘Ãºng host/group
- NÃªn dÃ¹ng `-v` khi test hoáº·c debug
- CÃ³ thá»ƒ káº¿t há»£p `--become` náº¿u playbook khÃ´ng khai bÃ¡o become

--------------------------------------------------
7. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
ansible-playbook -i inventory web-db.yaml -v
= Cháº¡y playbook web-db.yaml báº±ng Ansible
= DÃ¹ng inventory Ä‘á»ƒ xÃ¡c Ä‘á»‹nh host
= Hiá»ƒn thá»‹ log chi tiáº¿t vá»›i cháº¿ Ä‘á»™ verbose
= PhÃ¹ há»£p cho automation, deploy vÃ  debug DevOps
==================================================
		
		
		- cmd: ansible-playbook -i inventory web-db.yaml -vv
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ansible-playbook -i inventory web-db.yaml -vv

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Cháº¡y má»™t Ansible playbook cÃ³ tÃªn "web-db.yaml"
- Ãp dá»¥ng cáº¥u hÃ¬nh/triá»ƒn khai lÃªn cÃ¡c host Ä‘Æ°á»£c khai bÃ¡o trong file inventory
- Hiá»ƒn thá»‹ log chi tiáº¿t hÆ¡n Ä‘á»ƒ theo dÃµi quÃ¡ trÃ¬nh thá»±c thi
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ triá»ƒn khai Ä‘á»“ng thá»i web server vÃ  database server

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. ansible-playbook
--------------------------------------------------
- CLI chuyÃªn dÃ¹ng Ä‘á»ƒ cháº¡y playbook Ansible (.yml / .yaml)
- Playbook mÃ´ táº£:
  + Host nÃ o sáº½ Ä‘Æ°á»£c cáº¥u hÃ¬nh
  + Thá»±c hiá»‡n task gÃ¬
  + Theo thá»© tá»± nÃ o
- PhÃ¹ há»£p cho automation phá»©c táº¡p, nhiá»u bÆ°á»›c

--------------------------------------------------
2.2. -i inventory
--------------------------------------------------
- Chá»‰ Ä‘á»‹nh file inventory
- Inventory chá»©a:
  + Danh sÃ¡ch host
  + NhÃ³m host (webservers, dbservers, v.v.)
  + Biáº¿n cáº¥u hÃ¬nh cho host/nhÃ³m
- Náº¿u khÃ´ng chá»‰ Ä‘á»‹nh, Ansible dÃ¹ng inventory máº·c Ä‘á»‹nh (/etc/ansible/hosts)

--------------------------------------------------
2.3. web-db.yaml
--------------------------------------------------
- File playbook Ansible
- ThÆ°á»ng chá»©a nhiá»u play:
  + Play cho web servers
  + Play cho database servers
- BÃªn trong playbook cÃ³:
  + hosts
  + tasks
  + roles
  + handlers
  + variables

--------------------------------------------------
2.4. -vv
--------------------------------------------------
- TÃ¹y chá»n verbose level 2
- TÄƒng má»©c Ä‘á»™ chi tiáº¿t log khi cháº¡y playbook
- Hiá»ƒn thá»‹:
  + Lá»‡nh SSH Ä‘Æ°á»£c sá»­ dá»¥ng
  + Task nÃ o Ä‘ang cháº¡y trÃªn host nÃ o
  + Káº¿t quáº£ tá»«ng task
- CÃ¡c má»©c verbose:
  -v    : chi tiáº¿t cÆ¡ báº£n
  -vv   : chi tiáº¿t hÆ¡n (phá»• biáº¿n nháº¥t)
  -vvv  : ráº¥t chi tiáº¿t (debug SSH)
  -vvvv : cá»±c ká»³ chi tiáº¿t

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. Ansible Ä‘á»c file inventory Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh
2. Parse playbook web-db.yaml
3. XÃ¡c Ä‘á»‹nh host cho tá»«ng play
4. Káº¿t ná»‘i SSH tá»›i tá»«ng host
5. Thá»±c thi cÃ¡c task theo thá»© tá»± Ä‘Ã£ Ä‘á»‹nh nghÄ©a
6. Hiá»ƒn thá»‹ log chi tiáº¿t do -vv
7. Tá»•ng há»£p káº¿t quáº£:
   - ok
   - changed
   - failed
   - unreachable

--------------------------------------------------
4. OUTPUT MáºªU (RÃšT Gá»ŒN)
--------------------------------------------------
PLAY [webservers] *******************************

TASK [Install Apache] ***************************
ok: [web01]

TASK [Start Apache] *****************************
changed: [web01]

PLAY [dbservers] *******************************

TASK [Install MariaDB] **************************
ok: [db01]

--------------------------------------------------
5. Má»¤C ÄÃCH THÆ¯á»œNG DÃ™NG
--------------------------------------------------
- Triá»ƒn khai á»©ng dá»¥ng nhiá»u táº§ng (web + db)
- Tá»± Ä‘á»™ng hÃ³a cáº¥u hÃ¬nh server
- Debug playbook khi gáº·p lá»—i
- Quan sÃ¡t chi tiáº¿t quÃ¡ trÃ¬nh cháº¡y task

--------------------------------------------------
6. Lá»†NH LIÃŠN QUAN
--------------------------------------------------
- ansible-playbook web-db.yaml -i inventory
  + Cháº¡y playbook vá»›i log máº·c Ä‘á»‹nh
- ansible-playbook -i inventory web-db.yaml -vvv
  + Debug sÃ¢u hÆ¡n
- ansible-playbook -i inventory web-db.yaml --check
  + Dry-run (khÃ´ng thay Ä‘á»•i há»‡ thá»‘ng)

--------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

7.1. Inventory khÃ´ng tá»“n táº¡i
--------------------------------------------------
ERROR! the inventory file inventory could not be found
â†’ Kiá»ƒm tra Ä‘Æ°á»ng dáº«n file inventory

7.2. Syntax error trong playbook
--------------------------------------------------
- Lá»—i indent YAML
- Thiáº¿u hosts hoáº·c tasks
â†’ Kiá»ƒm tra láº¡i format YAML

7.3. Permission denied
--------------------------------------------------
- Thiáº¿u quyá»n sudo
â†’ ThÃªm --become hoáº·c cáº¥u hÃ¬nh become trong playbook

--------------------------------------------------
8. Cáº¢NH BÃO
--------------------------------------------------
- Playbook cÃ³ thá»ƒ thay Ä‘á»•i há»‡ thá»‘ng thá»±c táº¿
- NÃªn cháº¡y --check trÆ°á»›c trÃªn production
- DÃ¹ng version control (git) cho playbook vÃ  inventory

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
ansible-playbook -i inventory web-db.yaml -vv

= Cháº¡y playbook web-db.yaml
= DÃ¹ng inventory chá»‰ Ä‘á»‹nh host
= Hiá»ƒn thá»‹ log chi tiáº¿t má»©c -vv
= PhÃ¹ há»£p triá»ƒn khai & debug automation
= Ãp dá»¥ng cho nhiá»u host cÃ¹ng lÃºc
		
		
		- cmd: ansible-playbook -i inventory web-db.yaml -vvvv
		
Lá»†NH: ansible-playbook -i inventory web-db.yaml -vvvv
======================================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **cháº¡y má»™t Ansible Playbook (`web-db.yaml`)** vá»›i má»©c Ä‘á»™ log **ráº¥t chi tiáº¿t** nháº±m:
- Triá»ƒn khai cáº¥u hÃ¬nh/á»©ng dá»¥ng cho cÃ¡c host trong inventory
- Debug, phÃ¢n tÃ­ch lá»—i khi playbook khÃ´ng cháº¡y Ä‘Ãºng
- Quan sÃ¡t rÃµ toÃ n bá»™ quÃ¡ trÃ¬nh Ansible thá»±c thi (SSH, task, module, biáº¿nâ€¦)


2. Cáº¤U TRÃšC Lá»†NH
----------------
ansible-playbook [options] <playbook.yml>

Ãp dá»¥ng trong lá»‡nh:
- `ansible-playbook` : CÃ´ng cá»¥ cháº¡y playbook cá»§a Ansible
- `-i inventory`     : Chá»‰ Ä‘á»‹nh file inventory chá»©a danh sÃ¡ch host
- `web-db.yaml`      : File playbook Ä‘á»‹nh nghÄ©a cÃ¡c play, task, role
- `-vvvv`            : Má»©c verbosity cao nháº¥t (ráº¥t chi tiáº¿t)


3. GIáº¢I THÃCH Tá»ªNG THÃ€NH PHáº¦N
-----------------------------
- `inventory`
  - CÃ³ thá»ƒ lÃ  file `.ini` hoáº·c `.yaml`
  - Chá»©a cÃ¡c nhÃ³m host (web, db, webservers, databases, â€¦)

- `web-db.yaml`
  - Playbook YAML
  - CÃ³ thá»ƒ chá»©a nhiá»u play:
    - Play cho web server
    - Play cho database server
  - Má»—i play gá»“m: hosts, tasks, handlers, roles, vars

- `-vvvv`
  - TÄƒng má»©c Ä‘á»™ log/debug
  - Má»—i chá»¯ `v` tÄƒng má»™t cáº¥p Ä‘á»™ chi tiáº¿t


4. CÃC Má»¨C VERBOSITY TRONG ANSIBLE
----------------------------------
- `-v`     : Hiá»ƒn thá»‹ task nÃ o Ä‘ang cháº¡y
- `-vv`    : Hiá»ƒn thá»‹ chi tiáº¿t hÆ¡n (káº¿t quáº£ module)
- `-vvv`   : Hiá»ƒn thá»‹ SSH commands, biáº¿n
- `-vvvv`  : Hiá»ƒn thá»‹ **toÃ n bá»™ chi tiáº¿t**:
             - SSH debug
             - Python interpreter Ä‘Æ°á»£c dÃ¹ng
             - ÄÆ°á»ng dáº«n module
             - Raw output cá»§a module
             - Internal execution details


5. HOáº T Äá»˜NG Cá»¦A Lá»†NH
---------------------
1. Ansible Ä‘á»c file inventory
2. PhÃ¢n giáº£i nhÃ³m host Ä‘Æ°á»£c khai bÃ¡o trong playbook
3. Thiáº¿t láº­p káº¿t ná»‘i SSH tá»›i tá»«ng host
4. Thá»±c thi tá»«ng task trong `web-db.yaml`
5. Ghi log chi tiáº¿t cho tá»«ng bÆ°á»›c do dÃ¹ng `-vvvv`
6. Tá»•ng há»£p káº¿t quáº£:
   - ok      : task cháº¡y thÃ nh cÃ´ng
   - changed : task cÃ³ thay Ä‘á»•i
   - failed  : task lá»—i
   - skipped : task bá»‹ bá» qua


6. VÃ Dá»¤ Káº¾T QUáº¢ OUTPUT (RÃšT Gá»ŒN)
--------------------------------
		
		
		- cmd: ansible-playbook -i inventory web-db.yaml --syntax-check
		
Lá»†NH: ansible-playbook -i inventory web-db.yaml --syntax-check
====================================================================

1. ansible-playbook lÃ  gÃ¬?
--------------------------------------------------------------------
- ansible-playbook lÃ  lá»‡nh dÃ¹ng Ä‘á»ƒ cháº¡y Playbook trong Ansible
- Playbook lÃ  file YAML (Ä‘uÃ´i .yml hoáº·c .yaml)
- Playbook mÃ´ táº£:
  + Host nÃ o sáº½ Ä‘Æ°á»£c quáº£n lÃ½
  + Thá»±c hiá»‡n cÃ¡c task gÃ¬
  + Theo thá»© tá»± nÃ o

--------------------------------------------------------------------

2. -i inventory lÃ  gÃ¬?
--------------------------------------------------------------------
- -i = inventory file
- inventory chá»©a danh sÃ¡ch host vÃ  group mÃ  Ansible quáº£n lÃ½
- Playbook sáº½ dá»±a vÃ o inventory Ä‘á»ƒ biáº¿t:
  + Káº¿t ná»‘i tá»›i server nÃ o
  + User, IP, group tÆ°Æ¡ng á»©ng

VÃ­ dá»¥ inventory:
--------------------------------------------------------------------
[web]
web01 ansible_host=192.168.1.10 ansible_user=devops

[db]
db01 ansible_host=192.168.1.20 ansible_user=devops
--------------------------------------------------------------------

--------------------------------------------------------------------

3. web-db.yaml lÃ  gÃ¬?
--------------------------------------------------------------------
- File playbook Ansible viáº¿t báº±ng YAML
- CÃ³ thá»ƒ chá»©a:
  + Play cho web server
  + Play cho database server
- VÃ­ dá»¥ bÃªn trong cÃ³ thá»ƒ bao gá»“m:
  + hosts
  + tasks
  + roles
  + handlers
  + vars

--------------------------------------------------------------------

4. --syntax-check lÃ  gÃ¬?
--------------------------------------------------------------------
- --syntax-check dÃ¹ng Ä‘á»ƒ:
  + Kiá»ƒm tra cÃº phÃ¡p YAML
  + Kiá»ƒm tra cáº¥u trÃºc Playbook Ansible
- KHÃ”NG:
  + KhÃ´ng káº¿t ná»‘i tá»›i server
  + KhÃ´ng cháº¡y báº¥t ká»³ task nÃ o
  + KhÃ´ng thay Ä‘á»•i há»‡ thá»‘ng

--------------------------------------------------------------------

5. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
ansible-playbook -i inventory web-db.yaml --syntax-check

â†’ Äá»c file inventory
â†’ PhÃ¢n tÃ­ch cÃº phÃ¡p file web-db.yaml
â†’ Kiá»ƒm tra lá»—i YAML (indent, dáº¥u :, -, v.v.)
â†’ Kiá»ƒm tra cáº¥u trÃºc Playbook Ansible (hosts, tasks, moduleâ€¦)

â†’ Chá»‰ xÃ¡c nháº­n playbook há»£p lá»‡ trÆ°á»›c khi cháº¡y tháº­t

--------------------------------------------------------------------

6. Quy trÃ¬nh thá»±c thi
--------------------------------------------------------------------
1) Ansible load inventory
2) Load playbook web-db.yaml
3) PhÃ¢n tÃ­ch cÃº phÃ¡p YAML
4) Kiá»ƒm tra logic playbook
5) Náº¿u khÃ´ng lá»—i â†’ bÃ¡o OK
6) Náº¿u cÃ³ lá»—i â†’ bÃ¡o dÃ²ng lá»—i cá»¥ thá»ƒ

--------------------------------------------------------------------

7. Output thÆ°á»ng gáº·p
--------------------------------------------------------------------
- Náº¿u Ä‘Ãºng cÃº phÃ¡p:
--------------------------------------------------------------------
playbook: web-db.yaml
--------------------------------------------------------------------

- Náº¿u sai cÃº phÃ¡p:
--------------------------------------------------------------------
ERROR! Syntax Error while loading YAML.
  line xx, column yy
--------------------------------------------------------------------

--------------------------------------------------------------------

8. Khi nÃ o nÃªn dÃ¹ng --syntax-check?
--------------------------------------------------------------------
- TrÆ°á»›c khi cháº¡y playbook tháº­t
- Khi má»›i viáº¿t hoáº·c chá»‰nh sá»­a playbook
- Trong CI/CD pipeline Ä‘á»ƒ validate playbook
- TrÃ¡nh lá»—i gÃ¢y áº£nh hÆ°á»Ÿng há»‡ thá»‘ng tháº­t

--------------------------------------------------------------------

9. CÃ¡c lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) Sai indent YAML (space khÃ´ng Ä‘Ãºng)
2) Thiáº¿u dáº¥u :
3) Thiáº¿u hosts hoáº·c tasks
4) Sai tÃªn module
5) Lá»—i cáº¥u trÃºc playbook

--------------------------------------------------------------------

10. LÆ°u Ã½ quan trá»ng
--------------------------------------------------------------------
- --syntax-check KHÃ”NG kiá»ƒm tra:
  + Káº¿t ná»‘i SSH
  + Quyá»n sudo
  + Logic runtime
- Chá»‰ kiá»ƒm tra cÃº phÃ¡p vÃ  cáº¥u trÃºc

--------------------------------------------------------------------

11. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
ansible-playbook -i inventory web-db.yaml --syntax-check =
KIá»‚M TRA CÃš PHÃP VÃ€ Cáº¤U TRÃšC PLAYBOOK ANSIBLE MÃ€ KHÃ”NG THá»°C THI Báº¤T Ká»² TASK NÃ€O
		
		
		- cmd: ansible-playbook -i inventory web-db.yaml -C
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ansible-playbook -i inventory web-db.yaml -C
=================================================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    ansible-playbook -i inventory web-db.yaml -C

ÄÆ°á»£c sá»­ dá»¥ng trong **Ansible** Ä‘á»ƒ:
- Cháº¡y playbook `web-db.yaml` á»Ÿ cháº¿ Ä‘á»™ **Check Mode (Dry Run)**
- MÃ´ phá»ng viá»‡c thá»±c thi playbook mÃ  **KHÃ”NG thá»±c hiá»‡n thay Ä‘á»•i thá»±c táº¿** trÃªn server
- GiÃºp kiá»ƒm tra trÆ°á»›c nhá»¯ng gÃ¬ *sáº½* thay Ä‘á»•i náº¿u cháº¡y tháº­t
- Ráº¥t quan trá»ng trÆ°á»›c khi deploy lÃªn mÃ´i trÆ°á»ng production

Má»¥c Ä‘Ã­ch:
â†’ Kiá»ƒm tra an toÃ n (preview) cÃ¡c thay Ä‘á»•i cá»§a playbook trÆ°á»›c khi apply tháº­t


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

2.1. ansible-playbook
--------------------
- CÃ´ng cá»¥ CLI dÃ¹ng Ä‘á»ƒ cháº¡y playbook Ansible
- Playbook lÃ  file YAML chá»©a cÃ¡c play vÃ  task
- DÃ¹ng cho automation nhiá»u bÆ°á»›c, nhiá»u host

2.2. -i inventory
-----------------
- Chá»‰ Ä‘á»‹nh **inventory file**
- Inventory xÃ¡c Ä‘á»‹nh:
  + Danh sÃ¡ch host
  + Group host
  + User, SSH key, biáº¿n liÃªn quan

VÃ­ dá»¥:
    [webservers]
    web01 ansible_host=192.168.1.10 ansible_user=devops

    [dbservers]
    db01 ansible_host=192.168.1.20 ansible_user=devops

2.3. web-db.yaml
----------------
- File playbook cáº§n cháº¡y
- CÃ³ thá»ƒ chá»©a nhiá»u play cho nhiá»u group khÃ¡c nhau
- VÃ­ dá»¥ cáº¥u trÃºc:
```yaml
- hosts: webservers
  become: yes
  tasks:
    - name: Install Apache
      ansible.builtin.yum:
        name: httpd
        state: present

- hosts: dbservers
  become: yes
  tasks:
    - name: Install MySQL
      ansible.builtin.yum:
        name: mysql-server
        state: present
		
		
		- cmd: ssh -i clientkey.pem ec2-user@172.31.20.155
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ssh -i clientkey.pem ec2-user@172.31.20.155
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ Ä‘Äƒng nháº­p tá»« xa (remote login) vÃ o má»™t server
thÃ´ng qua giao thá»©c SSH (Secure Shell) báº±ng phÆ°Æ¡ng thá»©c
xÃ¡c thá»±c key (SSH key authentication).

Trong trÆ°á»ng há»£p nÃ y:
- Sá»­ dá»¥ng private key: clientkey.pem
- ÄÄƒng nháº­p báº±ng user: ec2-user
- Káº¿t ná»‘i tá»›i server cÃ³ IP: 172.31.20.155
- ThÆ°á»ng gáº·p khi Ä‘Äƒng nháº­p vÃ o EC2 trÃªn AWS

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. ssh
--------------------------------------------------
- Lá»‡nh SSH client trÃªn Linux/macOS/Windows
- DÃ¹ng Ä‘á»ƒ:
  + ÄÄƒng nháº­p server tá»« xa
  + Thá»±c thi lá»‡nh tá»« xa
  + Táº¡o tunnel (port forwarding)
- Giao tiáº¿p Ä‘Æ°á»£c mÃ£ hÃ³a, Ä‘áº£m báº£o báº£o máº­t

--------------------------------------------------
2.2. -i clientkey.pem
--------------------------------------------------
- `-i` (identity_file): chá»‰ Ä‘á»‹nh file private key dÃ¹ng Ä‘á»ƒ xÃ¡c thá»±c
- clientkey.pem:
  + LÃ  SSH private key
  + ThÆ°á»ng Ä‘Æ°á»£c táº£i vá» khi táº¡o EC2 instance
- SSH sáº½ dÃ¹ng key nÃ y thay cho máº­t kháº©u

LÆ°u Ã½ quyá»n file:
--------------------------------------------------
chmod 400 clientkey.pem
â†’ Báº¯t buá»™c Ä‘á»ƒ SSH cháº¥p nháº­n key

--------------------------------------------------
2.3. ec2-user
--------------------------------------------------
- TÃªn user trÃªn server tá»« xa
- `ec2-user` lÃ  user máº·c Ä‘á»‹nh cá»§a:
  + Amazon Linux
  + Amazon Linux 2
- CÃ¡c OS khÃ¡c cÃ³ user máº·c Ä‘á»‹nh khÃ¡c:
  + Ubuntu â†’ ubuntu
  + CentOS â†’ centos
  + RHEL â†’ ec2-user

--------------------------------------------------
2.4. @172.31.20.155
--------------------------------------------------
- Äá»‹a chá»‰ IP private cá»§a server
- SSH sáº½ káº¿t ná»‘i tá»›i IP nÃ y qua port máº·c Ä‘á»‹nh 22
- CÃ³ thá»ƒ thay báº±ng hostname hoáº·c public IP náº¿u truy cáº­p tá»« Internet

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. SSH client Ä‘á»c file private key `clientkey.pem`
2. Má»Ÿ káº¿t ná»‘i TCP tá»›i 172.31.20.155:22
3. Thá»±c hiá»‡n handshake SSH (mÃ£ hÃ³a, xÃ¡c thá»±c)
4. Server kiá»ƒm tra public key tÆ°Æ¡ng á»©ng vá»›i private key
5. Náº¿u há»£p lá»‡:
   - Cho phÃ©p Ä‘Äƒng nháº­p user ec2-user
6. NgÆ°á»i dÃ¹ng Ä‘Æ°á»£c vÃ o shell cá»§a server tá»« xa

--------------------------------------------------
4. Káº¾T QUáº¢ Äáº¦U RA MáºªU
--------------------------------------------------
The authenticity of host '172.31.20.155 (172.31.20.155)' can't be established.
ECDSA key fingerprint is SHA256:xxxx.
Are you sure you want to continue connecting (yes/no)?
yes

Last login: Tue Dec 17 10:15:23 2025 from 172.31.0.10
[ec2-user@ip-172-31-20-155 ~]$

--------------------------------------------------
5. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- ÄÄƒng nháº­p EC2 trÃªn AWS
- Quáº£n trá»‹ server Linux tá»« xa
- Thá»±c hiá»‡n cáº¥u hÃ¬nh, deploy á»©ng dá»¥ng
- DÃ¹ng trong DevOps, automation, CI/CD

--------------------------------------------------
6. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- Private key pháº£i Ä‘Æ°á»£c báº£o máº­t, khÃ´ng chia sáº»
- Quyá»n file key pháº£i lÃ  400 hoáº·c 600
- Port 22 pháº£i Ä‘Æ°á»£c má»Ÿ trÃªn Security Group
- IP 172.31.x.x lÃ  IP private (VPC ná»™i bá»™)
- KhÃ´ng dÃ¹ng máº­t kháº©u khi dÃ¹ng key-based SSH

--------------------------------------------------
7. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
ssh -i clientkey.pem ec2-user@172.31.20.155
= SSH vÃ o server báº±ng private key
= User: ec2-user
= IP: 172.31.20.155
= Phá»• biáº¿n khi quáº£n trá»‹ EC2 AWS
= Báº£o máº­t cao, khÃ´ng dÃ¹ng máº­t kháº©u
==================================================
		
		
		- cmd: yum search python | grep -i mysql
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
yum search python | grep -i mysql

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- TÃ¬m kiáº¿m cÃ¡c package liÃªn quan Ä‘áº¿n "python" trong kho YUM
- Lá»c káº¿t quáº£ chá»‰ cÃ²n nhá»¯ng package cÃ³ chá»©a tá»« "mysql"
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ tÃ¬m cÃ¡c thÆ° viá»‡n Python lÃ m viá»‡c vá»›i MySQL
- Ãp dá»¥ng cho há»‡ Ä‘iá»u hÃ nh dÃ¹ng YUM (CentOS, RHEL, Amazon Linux)

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. yum search python
--------------------------------------------------
yum:
- TrÃ¬nh quáº£n lÃ½ package trÃªn CentOS/RHEL/Amazon Linux

search:
- Subcommand dÃ¹ng Ä‘á»ƒ tÃ¬m kiáº¿m package trong repository

python:
- Tá»« khÃ³a tÃ¬m kiáº¿m
- YUM sáº½ tráº£ vá» danh sÃ¡ch package cÃ³ chá»©a tá»« "python" trong:
  + TÃªn package
  + MÃ´ táº£ package

VÃ­ dá»¥ output:
python3-mysqlclient.x86_64 : Python 3 interface to MySQL

--------------------------------------------------
2.2. | (pipe)
--------------------------------------------------
- Pipe dÃ¹ng Ä‘á»ƒ:
  + Láº¥y output cá»§a lá»‡nh bÃªn trÃ¡i
  + Truyá»n lÃ m input cho lá»‡nh bÃªn pháº£i
- Cho phÃ©p káº¿t há»£p nhiá»u lá»‡nh Unix

--------------------------------------------------
2.3. grep -i mysql
--------------------------------------------------
grep:
- CÃ´ng cá»¥ tÃ¬m kiáº¿m chuá»—i trong vÄƒn báº£n

-i:
- Ignore case (khÃ´ng phÃ¢n biá»‡t chá»¯ hoa/thÆ°á»ng)

mysql:
- Tá»« khÃ³a lá»c
- Chá»‰ giá»¯ láº¡i nhá»¯ng dÃ²ng cÃ³ chá»©a "mysql", "MySQL", "MYSQL", ...

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. yum search python quÃ©t repository
2. Tráº£ vá» danh sÃ¡ch package liÃªn quan Ä‘áº¿n Python
3. Output Ä‘Æ°á»£c truyá»n qua pipe (|)
4. grep -i mysql lá»c káº¿t quáº£
5. Terminal chá»‰ hiá»ƒn thá»‹ cÃ¡c package Python cÃ³ liÃªn quan Ä‘áº¿n MySQL

--------------------------------------------------
4. Káº¾T QUáº¢ MáºªU
--------------------------------------------------
VÃ­ dá»¥ output:

python3-PyMySQL.noarch : Pure Python MySQL client library
python3-mysqlclient.x86_64 : Python 3 interface to MySQL

Giáº£i thÃ­ch:
- ÄÃ¢y lÃ  cÃ¡c thÆ° viá»‡n Python giÃºp Python káº¿t ná»‘i MySQL/MariaDB
- ThÆ°á»ng dÃ¹ng cho á»©ng dá»¥ng web, automation, Ansible module

--------------------------------------------------
5. Má»¤C ÄÃCH THÆ¯á»œNG DÃ™NG
--------------------------------------------------
- TÃ¬m thÆ° viá»‡n Python Ä‘á»ƒ káº¿t ná»‘i MySQL
- XÃ¡c Ä‘á»‹nh tÃªn package chÃ­nh xÃ¡c trÆ°á»›c khi cÃ i Ä‘áº·t
- Chuáº©n bá»‹ mÃ´i trÆ°á»ng cho á»©ng dá»¥ng Python, Ansible, Django, Flask

--------------------------------------------------
6. Lá»†NH LIÃŠN QUAN
--------------------------------------------------
- yum install python3-PyMySQL -y
  + CÃ i thÆ° viá»‡n PyMySQL
- yum list installed | grep mysql
  + Kiá»ƒm tra package MySQL Ä‘Ã£ cÃ i
- dnf search python | grep -i mysql
  + TrÃªn há»‡ má»›i dÃ¹ng dnf

--------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

7.1. yum: command not found
--------------------------------------------------
- Há»‡ Ä‘iá»u hÃ nh dÃ¹ng dnf thay vÃ¬ yum
Giáº£i phÃ¡p:
dnf search python | grep -i mysql

7.2. KhÃ´ng cÃ³ káº¿t quáº£ tráº£ vá»
--------------------------------------------------
- Repo chÆ°a báº­t hoáº·c khÃ´ng cÃ³ package phÃ¹ há»£p
Giáº£i phÃ¡p:
- Kiá»ƒm tra repository
- Thá»­ tá»« khÃ³a khÃ¡c:
  yum search mysql | grep -i python

--------------------------------------------------
8. Cáº¢NH BÃO
--------------------------------------------------
- yum search chá»‰ tÃ¬m theo metadata, khÃ´ng tÃ¬m trong code
- Káº¿t quáº£ phá»¥ thuá»™c repository Ä‘Ã£ cáº¥u hÃ¬nh
- NÃªn kiá»ƒm tra version Python tÆ°Æ¡ng thÃ­ch vá»›i package

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
yum search python | grep -i mysql

= TÃ¬m package Python liÃªn quan MySQL
= DÃ¹ng yum search + grep lá»c káº¿t quáº£
= Phá»¥c vá»¥ cÃ i thÆ° viá»‡n Python-MySQL
= Ãp dá»¥ng cho CentOS/RHEL/Amazon Linux
		
		
		- cmd: ansible-galaxy collection install community.mysql
		
Lá»†NH: ansible-galaxy collection install community.mysql
========================================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **cÃ i Ä‘áº·t Ansible Collection `community.mysql`** tá»« Ansible Galaxy.

Collection `community.mysql` cung cáº¥p:
- CÃ¡c module Ä‘á»ƒ quáº£n lÃ½ MySQL/MariaDB
- Táº¡o database, user, grant quyá»n
- Backup, restore, query MySQL
- Quáº£n lÃ½ replication, configuration MySQL

Collection nÃ y ráº¥t thÆ°á»ng dÃ¹ng trong automation cho:
- Web application
- Database server (MySQL/MariaDB)
- Playbook triá»ƒn khai háº¡ táº§ng vÃ  á»©ng dá»¥ng


2. Cáº¤U TRÃšC Lá»†NH
----------------
ansible-galaxy collection install <collection_name>

Ãp dá»¥ng trong lá»‡nh:
- `ansible-galaxy` : CÃ´ng cá»¥ quáº£n lÃ½ role vÃ  collection cá»§a Ansible
- `collection install` : CÃ i Ä‘áº·t Ansible Collection
- `community.mysql` : TÃªn collection cáº§n cÃ i


3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
---------------------
1. Ansible káº¿t ná»‘i tá»›i Ansible Galaxy (repo chÃ­nh thá»©c)
2. Táº£i collection `community.mysql`
3. Giáº£i nÃ©n vÃ  cÃ i Ä‘áº·t vÃ o thÆ° má»¥c collections máº·c Ä‘á»‹nh:
   - `~/.ansible/collections/` (user hiá»‡n táº¡i)
   - Hoáº·c `/usr/share/ansible/collections/` (náº¿u cháº¡y vá»›i sudo)
4. Sau khi cÃ i Ä‘áº·t, cÃ¡c module trong collection cÃ³ thá»ƒ sá»­ dá»¥ng trá»±c tiáº¿p trong playbook


4. VÃ Dá»¤ THá»°C Táº¾
-----------------
1. CÃ i collection:
		
		
		- cmd: vim /etc/ansible/ansible.cfg
		
Lá»†NH: vim /etc/ansible/ansible.cfg
====================================================================

1. vim lÃ  gÃ¬?
--------------------------------------------------------------------
- vim (Vi IMproved) lÃ  trÃ¬nh soáº¡n tháº£o vÄƒn báº£n trÃªn Linux/Unix
- Hoáº¡t Ä‘á»™ng trong terminal
- DÃ¹ng Ä‘á»ƒ:
  + Táº¡o file má»›i
  + Má»Ÿ vÃ  chá»‰nh sá»­a file cáº¥u hÃ¬nh
- vim KHÃ”NG tá»± thay Ä‘á»•i ná»™i dung file náº¿u báº¡n khÃ´ng lÆ°u

--------------------------------------------------------------------

2. /etc/ansible/ansible.cfg lÃ  gÃ¬?
--------------------------------------------------------------------
- ÄÃ¢y lÃ  file cáº¥u hÃ¬nh **toÃ n cá»¥c (global config)** cá»§a Ansible
- Ãp dá»¥ng cho:
  + Táº¥t cáº£ user
  + Táº¥t cáº£ project Ansible trÃªn há»‡ thá»‘ng
- File nÃ y kiá»ƒm soÃ¡t hÃ nh vi máº·c Ä‘á»‹nh cá»§a Ansible

LÆ¯U Ã:
- Muá»‘n chá»‰nh sá»­a file nÃ y cáº§n quyá»n root (sudo)

--------------------------------------------------------------------

3. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
vim /etc/ansible/ansible.cfg

â†’ Má»Ÿ file cáº¥u hÃ¬nh global cá»§a Ansible báº±ng trÃ¬nh soáº¡n tháº£o vim  
â†’ Cho phÃ©p xem hoáº·c chá»‰nh sá»­a cÃ¡c thiáº¿t láº­p máº·c Ä‘á»‹nh cá»§a Ansible  

KHÃ”NG:
- KhÃ´ng cháº¡y playbook
- KhÃ´ng káº¿t ná»‘i server
- Chá»‰ chá»‰nh sá»­a cáº¥u hÃ¬nh Ansible

--------------------------------------------------------------------

4. Thá»© tá»± Æ°u tiÃªn cáº¥u hÃ¬nh Ansible
--------------------------------------------------------------------
Ansible Ä‘á»c config theo thá»© tá»± Æ°u tiÃªn:
1) ANSIBLE_CONFIG (biáº¿n mÃ´i trÆ°á»ng)
2) ansible.cfg trong thÆ° má»¥c project hiá»‡n táº¡i
3) ~/.ansible.cfg (user config)
4) /etc/ansible/ansible.cfg (global config)

â†’ File /etc/ansible/ansible.cfg cÃ³ Æ°u tiÃªn THáº¤P NHáº¤T

--------------------------------------------------------------------

5. Ná»™i dung quan trá»ng thÆ°á»ng cÃ³ trong ansible.cfg
--------------------------------------------------------------------
[defaults]
inventory      = /etc/ansible/hosts
remote_user   = devops
host_key_checking = False
forks          = 5
timeout        = 10

[privilege_escalation]
become          = True
become_method   = sudo
become_user     = root

[ssh_connection]
pipelining = True

--------------------------------------------------------------------

6. Giáº£i thÃ­ch cÃ¡c cáº¥u hÃ¬nh phá»• biáº¿n
--------------------------------------------------------------------
- inventory:
  + File inventory máº·c Ä‘á»‹nh
- remote_user:
  + User SSH máº·c Ä‘á»‹nh
- host_key_checking:
  + Táº¯t kiá»ƒm tra SSH host key (trÃ¡nh prompt)
- forks:
  + Sá»‘ host cháº¡y song song
- timeout:
  + Thá»i gian chá» SSH
- become:
  + Báº­t sudo máº·c Ä‘á»‹nh
- become_method:
  + CÃ¡ch nÃ¢ng quyá»n (sudo)
- pipelining:
  + TÄƒng tá»‘c Ä‘á»™ SSH

--------------------------------------------------------------------

7. Quy trÃ¬nh chá»‰nh sá»­a báº±ng vim
--------------------------------------------------------------------
1) Má»Ÿ file:
vim /etc/ansible/ansible.cfg

2) Nháº¥n i â†’ vÃ o INSERT mode Ä‘á»ƒ sá»­a

3) Sá»­a ná»™i dung

4) Nháº¥n ESC â†’ thoÃ¡t INSERT mode

5) GÃµ :wq â†’ lÆ°u vÃ  thoÃ¡t
   GÃµ :q! â†’ thoÃ¡t khÃ´ng lÆ°u

--------------------------------------------------------------------

8. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) Permission denied
- Thiáº¿u quyá»n root
- CÃ¡ch sá»­a:
sudo vim /etc/ansible/ansible.cfg

2) Sai cÃº phÃ¡p config
- Ansible cháº¡y lá»—i
- Cáº§n kiá»ƒm tra dáº¥u = vÃ  section []

--------------------------------------------------------------------

9. Khi nÃ o nÃªn chá»‰nh sá»­a file nÃ y?
--------------------------------------------------------------------
- Muá»‘n thiáº¿t láº­p cáº¥u hÃ¬nh máº·c Ä‘á»‹nh cho toÃ n há»‡ thá»‘ng
- KhÃ´ng muá»‘n khai bÃ¡o láº¡i inventory, user, become má»—i láº§n cháº¡y
- Thiáº¿t láº­p cho mÃ´i trÆ°á»ng lab hoáº·c server quáº£n lÃ½ Ansible riÃªng

--------------------------------------------------------------------

10. LÆ°u Ã½ quan trá»ng
--------------------------------------------------------------------
- KhÃ´ng chá»‰nh sá»­a trÃªn production náº¿u khÃ´ng hiá»ƒu rÃµ
- Æ¯u tiÃªn dÃ¹ng ansible.cfg trong project Ä‘á»ƒ trÃ¡nh áº£nh hÆ°á»Ÿng global
- Backup file trÆ°á»›c khi chá»‰nh sá»­a

--------------------------------------------------------------------

11. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
vim /etc/ansible/ansible.cfg =
Má» FILE Cáº¤U HÃŒNH TOÃ€N Cá»¤C Cá»¦A ANSIBLE Báº°NG VIM Äá»‚ XEM HOáº¶C CHá»ˆNH Sá»¬A CÃC THIáº¾T Láº¬P Máº¶C Äá»ŠNH
		
		
		- cmd: ansible-playbook db.yaml
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ansible-playbook db.yaml
=============================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    ansible-playbook db.yaml

ÄÆ°á»£c sá»­ dá»¥ng trong **Ansible** Ä‘á»ƒ:
- Thá»±c thi playbook cÃ³ tÃªn `db.yaml`
- Tá»± Ä‘á»™ng cÃ i Ä‘áº·t, cáº¥u hÃ¬nh hoáº·c quáº£n lÃ½ **Database Server**
- Ãp dá»¥ng cÃ¡c task Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong playbook lÃªn cÃ¡c host Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh bÃªn trong file `db.yaml`
- ThÆ°á»ng dÃ¹ng trong automation, deploy hoáº·c quáº£n trá»‹ há»‡ thá»‘ng

Má»¥c Ä‘Ã­ch:
â†’ Cháº¡y toÃ n bá»™ logic automation Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong playbook `db.yaml`


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

2.1. ansible-playbook
--------------------
- CÃ´ng cá»¥ CLI cá»§a Ansible dÃ¹ng Ä‘á»ƒ cháº¡y **playbook**
- Playbook lÃ  file YAML mÃ´ táº£:
  + Host hoáº·c group cáº§n quáº£n lÃ½
  + CÃ¡c task cáº§n thá»±c hiá»‡n
  + Quyá»n sudo (become)
  + Variables, handlers, roles
- KhÃ¡c vá»›i lá»‡nh `ansible` (ad-hoc), playbook dÃ¹ng cho automation cÃ³ logic nhiá»u bÆ°á»›c

2.2. db.yaml
------------
- File **playbook YAML**
- Chá»©a cÃ¡c play vÃ  task liÃªn quan Ä‘áº¿n database
- BÃªn trong file thÆ°á»ng cÃ³:
  + `hosts`: nhÃ³m host DB (vÃ­ dá»¥: dbservers)
  + `tasks`: cÃ i Ä‘áº·t DB, táº¡o user, import schema, v.v.

VÃ­ dá»¥ cáº¥u trÃºc `db.yaml`:
```yaml
- name: Setup Database Server
  hosts: dbservers
  become: yes
  tasks:
    - name: Install MySQL Server
      ansible.builtin.yum:
        name: mysql-server
        state: present

    - name: Start MySQL Service
      ansible.builtin.systemd:
        name: mysqld
        state: started
        enabled: yes
		
		
		- cmd: sudo touch /var/log/ansible.log
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
sudo touch /var/log/ansible.log
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ táº¡o má»™t file log má»›i cÃ³ tÃªn `ansible.log`
trong thÆ° má»¥c há»‡ thá»‘ng `/var/log`.

- `/var/log` lÃ  thÆ° má»¥c chuáº©n trÃªn Linux dÃ¹ng Ä‘á»ƒ lÆ°u log há»‡ thá»‘ng
- `ansible.log` thÆ°á»ng Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ ghi log cho Ansible
- Lá»‡nh khÃ´ng ghi ná»™i dung, chá»‰ táº¡o file rá»—ng náº¿u file chÆ°a tá»“n táº¡i

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. sudo
--------------------------------------------------
- Cháº¡y lá»‡nh vá»›i quyá»n root (quáº£n trá»‹ há»‡ thá»‘ng)
- Cáº§n thiáº¿t vÃ¬:
  + `/var/log` lÃ  thÆ° má»¥c chá»‰ root cÃ³ quyá»n ghi

--------------------------------------------------
2.2. touch
--------------------------------------------------
- Lá»‡nh Linux dÃ¹ng Ä‘á»ƒ:
  + Táº¡o file rá»—ng náº¿u file chÆ°a tá»“n táº¡i
  + Cáº­p nháº­t timestamp (access, modify time) náº¿u file Ä‘Ã£ tá»“n táº¡i
- KhÃ´ng ghi ná»™i dung vÃ o file

--------------------------------------------------
2.3. /var/log/ansible.log
--------------------------------------------------
- ÄÆ°á»ng dáº«n tuyá»‡t Ä‘á»‘i tá»›i file cáº§n táº¡o
- `ansible.log`:
  + File log dÃ nh cho Ansible
  + CÃ³ thá»ƒ Ä‘Æ°á»£c cáº¥u hÃ¬nh trong `/etc/ansible/ansible.cfg` Ä‘á»ƒ Ansible ghi log

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. sudo cáº¥p quyá»n root cho lá»‡nh `touch`
2. Há»‡ Ä‘iá»u hÃ nh kiá»ƒm tra:
   - File `/var/log/ansible.log` cÃ³ tá»“n táº¡i hay chÆ°a
3. Náº¿u chÆ°a tá»“n táº¡i:
   - Táº¡o file rá»—ng `ansible.log`
4. Náº¿u Ä‘Ã£ tá»“n táº¡i:
   - Cáº­p nháº­t thá»i gian modify/access cá»§a file
5. KhÃ´ng cÃ³ output náº¿u lá»‡nh cháº¡y thÃ nh cÃ´ng

--------------------------------------------------
4. KIá»‚M TRA SAU KHI THá»°C HIá»†N
--------------------------------------------------
- Kiá»ƒm tra file Ä‘Ã£ Ä‘Æ°á»£c táº¡o:
--------------------------------------------------
ls -l /var/log/ansible.log

- Kiá»ƒm tra quyá»n file:
--------------------------------------------------
-rw-r--r-- 1 root root 0 Dec 17 18:20 ansible.log

--------------------------------------------------
5. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Chuáº©n bá»‹ file log cho Ansible
- TrÃ¡nh lá»—i khi cáº¥u hÃ¬nh Ansible logging
- Phá»¥c vá»¥ debug, audit, theo dÃµi hoáº¡t Ä‘á»™ng automation
- ThÆ°á»ng dÃ¹ng trong mÃ´i trÆ°á»ng DevOps

--------------------------------------------------
6. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- File Ä‘Æ°á»£c táº¡o thuá»™c quyá»n sá»Ÿ há»¯u cá»§a root
- Cáº§n chá»‰nh quyá»n náº¿u user khÃ¡c cáº§n ghi log:
--------------------------------------------------
sudo chown devops:devops /var/log/ansible.log
sudo chmod 644 /var/log/ansible.log

- Cáº§n cáº¥u hÃ¬nh Ansible ghi log:
--------------------------------------------------
log_path = /var/log/ansible.log

--------------------------------------------------
7. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
sudo touch /var/log/ansible.log
= Táº¡o file log ansible.log trong /var/log
= Cáº§n quyá»n root
= KhÃ´ng ghi ná»™i dung, chá»‰ táº¡o file hoáº·c cáº­p nháº­t timestamp
= DÃ¹ng Ä‘á»ƒ cáº¥u hÃ¬nh vÃ  lÆ°u log cho Ansible
==================================================
		
		
		- cmd: sudo chown ubuntu.ubuntu /var/log/ansible.log
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
sudo chown ubuntu.ubuntu /var/log/ansible.log

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Thay Ä‘á»•i quyá»n sá»Ÿ há»¯u (owner vÃ  group) cá»§a file /var/log/ansible.log
- GÃ¡n file log Ansible cho user ubuntu vÃ  group ubuntu
- Cho phÃ©p user ubuntu Ä‘á»c/ghi file log
- ThÆ°á»ng dÃ¹ng khi Ansible cháº¡y dÆ°á»›i user ubuntu hoáº·c cáº§n ghi log mÃ  khÃ´ng bá»‹ lá»—i permission

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. sudo
--------------------------------------------------
- Cháº¡y lá»‡nh vá»›i quyá»n root (superuser)
- Báº¯t buá»™c vÃ¬ /var/log lÃ  thÆ° má»¥c há»‡ thá»‘ng
- User thÆ°á»ng khÃ´ng cÃ³ quyá»n thay Ä‘á»•i ownership file trong /var/log

--------------------------------------------------
2.2. chown
--------------------------------------------------
chown = change owner
- DÃ¹ng Ä‘á»ƒ thay Ä‘á»•i:
  + Owner (chá»§ sá»Ÿ há»¯u file)
  + Group (nhÃ³m sá»Ÿ há»¯u file)

--------------------------------------------------
2.3. ubuntu.ubuntu
--------------------------------------------------
- CÃº phÃ¡p: owner.group
- ubuntu (trÆ°á»›c dáº¥u cháº¥m): user sá»Ÿ há»¯u file
- ubuntu (sau dáº¥u cháº¥m): group sá»Ÿ há»¯u file

LÆ°u Ã½:
- CÃ³ thá»ƒ dÃ¹ng dáº¥u : thay cho dáº¥u .
  sudo chown ubuntu:ubuntu /var/log/ansible.log

--------------------------------------------------
2.4. /var/log/ansible.log
--------------------------------------------------
- File log cá»§a Ansible
- Náº±m trong thÆ° má»¥c há»‡ thá»‘ng /var/log
- ThÆ°á»ng Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ ghi láº¡i lá»‹ch sá»­ cháº¡y Ansible

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. sudo cáº¥p quyá»n root
2. chown thay Ä‘á»•i owner cá»§a file sang user ubuntu
3. chown thay Ä‘á»•i group cá»§a file sang group ubuntu
4. File /var/log/ansible.log thuá»™c quyá»n ubuntu:ubuntu

--------------------------------------------------
4. KIá»‚M TRA SAU KHI THá»°C HIá»†N
--------------------------------------------------
- Kiá»ƒm tra quyá»n:
ls -l /var/log/ansible.log

VÃ­ dá»¥ output:
-rw-r----- 1 ubuntu ubuntu 20480 Dec 17 10:15 /var/log/ansible.log

Giáº£i thÃ­ch:
- Owner: ubuntu
- Group: ubuntu

--------------------------------------------------
5. Má»¤C ÄÃCH THÆ¯á»œNG DÃ™NG
--------------------------------------------------
- Fix lá»—i "Permission denied" khi Ansible ghi log
- Cho phÃ©p user ubuntu Ä‘á»c/ghi file log
- Phá»¥c vá»¥ debug vÃ  audit Ansible

--------------------------------------------------
6. Lá»†NH LIÃŠN QUAN
--------------------------------------------------
- Chá»‰ Ä‘á»•i owner:
sudo chown ubuntu /var/log/ansible.log

- Chá»‰ Ä‘á»•i group:
sudo chown :ubuntu /var/log/ansible.log

- Äá»•i quyá»n cho cáº£ thÆ° má»¥c:
sudo chown -R ubuntu:ubuntu /var/log/

--------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

7.1. No such file or directory
--------------------------------------------------
- File ansible.log chÆ°a tá»“n táº¡i
Giáº£i phÃ¡p:
sudo touch /var/log/ansible.log

7.2. Invalid user or group
--------------------------------------------------
- User hoáº·c group ubuntu khÃ´ng tá»“n táº¡i
Giáº£i phÃ¡p:
getent passwd ubuntu
getent group ubuntu

--------------------------------------------------
8. Cáº¢NH BÃO
--------------------------------------------------
- Thay Ä‘á»•i owner file log há»‡ thá»‘ng cáº§n cáº©n tháº­n
- KhÃ´ng nÃªn gÃ¡n quyá»n ghi log cho user khÃ´ng tin cáº­y
- Chá»‰ thay Ä‘á»•i Ä‘Ãºng file cáº§n thiáº¿t, trÃ¡nh /var/log toÃ n bá»™

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
sudo chown ubuntu.ubuntu /var/log/ansible.log

= Äá»•i owner vÃ  group file log Ansible
= Owner: ubuntu, Group: ubuntu
= Cáº§n quyá»n sudo
= Giáº£i quyáº¿t lá»—i permission khi ghi log
= Ãp dá»¥ng cho file /var/log/ansible.log
		
		
		- cmd: cat /var/log/ansible.log
		
Lá»†NH: cat /var/log/ansible.log
==============================

1. Má»¤C ÄÃCH
----------
Lá»‡nh `cat /var/log/ansible.log` dÃ¹ng Ä‘á»ƒ **xem toÃ n bá»™ ná»™i dung file log cá»§a Ansible**.

Má»¥c Ä‘Ã­ch chÃ­nh:
- Kiá»ƒm tra lá»‹ch sá»­ cháº¡y playbook vÃ  ad-hoc command
- Debug lá»—i khi Ansible cháº¡y khÃ´ng Ä‘Ãºng mong muá»‘n
- Theo dÃµi chi tiáº¿t cÃ¡c task, module, host Ä‘Ã£ Ä‘Æ°á»£c Ansible thá»±c thi
- Phá»¥c vá»¥ audit vÃ  troubleshooting trong mÃ´i trÆ°á»ng server/automation


2. Cáº¤U TRÃšC Lá»†NH
----------------
cat /var/log/ansible.log

Giáº£i thÃ­ch:
- `cat`                 : Lá»‡nh dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ ná»™i dung file ra mÃ n hÃ¬nh
- `/var/log/ansible.log`: File log cá»§a Ansible (náº¿u Ä‘Æ°á»£c cáº¥u hÃ¬nh báº­t logging)


3. ÄIá»€U KIá»†N Äá»‚ FILE NÃ€Y Tá»’N Táº I
--------------------------------
- Ansible **khÃ´ng tá»± Ä‘á»™ng táº¡o log** náº¿u chÆ°a cáº¥u hÃ¬nh
- File `/var/log/ansible.log` chá»‰ tá»“n táº¡i khi:
  - Trong `ansible.cfg` cÃ³ cáº¥u hÃ¬nh:
    ```
    [defaults]
    log_path = /var/log/ansible.log
    ```
- ThÆ°á»ng gáº·p trong mÃ´i trÆ°á»ng production hoáº·c server automation


4. HOáº T Äá»˜NG Cá»¦A Lá»†NH
---------------------
1. Há»‡ Ä‘iá»u hÃ nh má»Ÿ file `/var/log/ansible.log`
2. `cat` Ä‘á»c toÃ n bá»™ ná»™i dung file tá»« Ä‘áº§u Ä‘áº¿n cuá»‘i
3. In toÃ n bá»™ log ra terminal
4. KhÃ´ng chá»‰nh sá»­a, chá»‰ Ä‘á»c (read-only)


5. Ná»˜I DUNG THÆ¯á»œNG CÃ“ TRONG FILE LOG
-----------------------------------
Log Ansible thÆ°á»ng bao gá»“m:
- Thá»i gian cháº¡y playbook
- User thá»±c thi Ansible
- Inventory Ä‘Æ°á»£c sá»­ dá»¥ng
- Playbook name
- Task name
- Module Ä‘Æ°á»£c gá»i
- Host target
- Tráº¡ng thÃ¡i task:
  - ok
  - changed
  - failed
  - unreachable

VÃ­ dá»¥ log:
		
		
		- cmd: ansible-playbook db.yaml -vv
		
Lá»†NH: ansible-playbook db.yaml -vv
====================================================================

1. ansible-playbook lÃ  gÃ¬?
--------------------------------------------------------------------
- ansible-playbook lÃ  lá»‡nh dÃ¹ng Ä‘á»ƒ thá»±c thi Playbook cá»§a Ansible
- Playbook lÃ  file YAML mÃ´ táº£:
  + Host/group nÃ o sáº½ Ä‘Æ°á»£c quáº£n lÃ½
  + CÃ¡c task sáº½ cháº¡y
  + Thá»© tá»± thá»±c hiá»‡n
- File playbook thÆ°á»ng cÃ³ Ä‘uÃ´i .yml hoáº·c .yaml

--------------------------------------------------------------------

2. db.yaml lÃ  gÃ¬?
--------------------------------------------------------------------
- db.yaml lÃ  file playbook Ansible
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ:
  + CÃ i Ä‘áº·t
  + Cáº¥u hÃ¬nh
  + Quáº£n lÃ½ database server (MySQL, MariaDB, PostgreSQLâ€¦)
- BÃªn trong file cÃ³ thá»ƒ bao gá»“m:
  + hosts
  + vars
  + tasks
  + handlers
  + roles

--------------------------------------------------------------------

3. -vv lÃ  gÃ¬?
--------------------------------------------------------------------
- -vv lÃ  cháº¿ Ä‘á»™ verbose level 2
- Ansible há»— trá»£ nhiá»u má»©c verbose:
  + -v    â†’ hiá»ƒn thá»‹ thÃªm thÃ´ng tin cÆ¡ báº£n
  + -vv   â†’ hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t hÆ¡n (thÆ°á»ng dÃ¹ng nháº¥t)
  + -vvv  â†’ debug sÃ¢u, bao gá»“m lá»‡nh SSH
  + -vvvv â†’ debug cá»±c chi tiáº¿t

--------------------------------------------------------------------

4. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
ansible-playbook db.yaml -vv

â†’ Cháº¡y playbook db.yaml  
â†’ Hiá»ƒn thá»‹ log chi tiáº¿t hÆ¡n bÃ¬nh thÆ°á»ng  
â†’ GiÃºp theo dÃµi:
  + Task nÃ o Ä‘ang cháº¡y
  + Cháº¡y trÃªn host nÃ o
  + Káº¿t quáº£ tá»«ng task

--------------------------------------------------------------------

5. Quy trÃ¬nh thá»±c thi
--------------------------------------------------------------------
1) Ansible Ä‘á»c file db.yaml
2) XÃ¡c Ä‘á»‹nh host/group trong playbook
3) Káº¿t ná»‘i SSH Ä‘áº¿n cÃ¡c host
4) Thá»±c hiá»‡n tá»«ng task theo thá»© tá»±
5) In log chi tiáº¿t nhá» -vv
6) Hiá»ƒn thá»‹ káº¿t quáº£ tá»«ng task

--------------------------------------------------------------------

6. Output thÆ°á»ng tháº¥y vá»›i -vv
--------------------------------------------------------------------
- Hiá»ƒn thá»‹:
  + TÃªn task
  + Host Ä‘ang cháº¡y
  + Thá»i gian cháº¡y
  + Káº¿t quáº£ (ok, changed, failed)
  + ThÃ´ng tin bá»• sung khi lá»—i

VÃ­ dá»¥:
--------------------------------------------------------------------
TASK [Install MySQL] *************************************************
ok: [db01]
--------------------------------------------------------------------

--------------------------------------------------------------------

7. Khi nÃ o nÃªn dÃ¹ng -vv?
--------------------------------------------------------------------
- Debug playbook
- Khi playbook cháº¡y lá»—i
- Muá»‘n hiá»ƒu rÃµ playbook Ä‘ang lÃ m gÃ¬
- Khi má»›i há»c Ansible

--------------------------------------------------------------------

8. So sÃ¡nh -vv vá»›i cÃ¡c má»©c khÃ¡c
--------------------------------------------------------------------
- KhÃ´ng -v:
  + Log ráº¥t Ã­t, khÃ³ debug
- -v:
  + CÃ³ thÃªm thÃ´ng tin cÆ¡ báº£n
- -vv:
  + Chi tiáº¿t, dá»… Ä‘á»c, phá»• biáº¿n nháº¥t
- -vvv / -vvvv:
  + Ráº¥t nhiá»u log, chá»§ yáº¿u dÃ¹ng khi lá»—i khÃ³

--------------------------------------------------------------------

9. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) Playbook lá»—i logic â†’ xem log chi tiáº¿t báº±ng -vv
2) SSH timeout â†’ -vv hiá»ƒn thá»‹ chi tiáº¿t lá»—i káº¿t ná»‘i
3) Permission denied â†’ tháº¥y rÃµ bÆ°á»›c fail

--------------------------------------------------------------------

10. LÆ°u Ã½ quan trá»ng
--------------------------------------------------------------------
- -vv chá»‰ tÄƒng má»©c log, KHÃ”NG thay Ä‘á»•i hÃ nh vi playbook
- KhÃ´ng áº£nh hÆ°á»Ÿng há»‡ thá»‘ng ngoÃ i cÃ¡c task Ä‘Ã£ Ä‘á»‹nh nghÄ©a
- KhÃ´ng nÃªn dÃ¹ng -vvvv thÆ°á»ng xuyÃªn vÃ¬ log ráº¥t dÃ i

--------------------------------------------------------------------

11. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
ansible-playbook db.yaml -vv =
CHáº Y PLAYBOOK ANSIBLE Vá»šI CHáº¾ Äá»˜ LOG CHI TIáº¾T Äá»‚ THEO DÃ•I VÃ€ DEBUG QUÃ TRÃŒNH THá»°C THI
		
		
		- cmd: ansible-playbook -e USRNM=cliuser -e COMM=cliuser vars_precedence.yaml
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ansible-playbook -e USRNM=cliuser -e COMM=cliuser vars_precedence.yaml
====================================================================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    ansible-playbook -e USRNM=cliuser -e COMM=cliuser vars_precedence.yaml

ÄÆ°á»£c sá»­ dá»¥ng trong **Ansible** Ä‘á»ƒ:
- Cháº¡y playbook `vars_precedence.yaml`
- Truyá»n **biáº¿n (variables) tá»« dÃ²ng lá»‡nh (CLI)** vÃ o playbook
- Ghi Ä‘Ã¨ (override) cÃ¡c biáº¿n cÃ¹ng tÃªn Ä‘Æ°á»£c khai bÃ¡o á»Ÿ nÆ¡i khÃ¡c
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ minh há»a hoáº·c kiá»ƒm tra **thá»© tá»± Æ°u tiÃªn biáº¿n (Variable Precedence)**

Má»¥c Ä‘Ã­ch:
â†’ Cung cáº¥p giÃ¡ trá»‹ biáº¿n linh hoáº¡t tá»« CLI vÃ  kiá»ƒm soÃ¡t hÃ nh vi playbook
   mÃ  khÃ´ng cáº§n sá»­a file YAML


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

2.1. ansible-playbook
--------------------
- CÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ thá»±c thi playbook Ansible
- Playbook lÃ  file YAML mÃ´ táº£:
  + Host/group cáº§n quáº£n lÃ½
  + Tasks cáº§n thá»±c hiá»‡n
  + Variables, handlers, roles
- DÃ¹ng cho automation nhiá»u bÆ°á»›c

2.2. -e USRNM=cliuser
--------------------
- `-e` lÃ  viáº¿t táº¯t cá»§a `--extra-vars`
- Truyá»n biáº¿n **USRNM** vá»›i giÃ¡ trá»‹ **cliuser** tá»« dÃ²ng lá»‡nh
- Biáº¿n nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng trong playbook nhÆ°:
    {{ USRNM }}

VÃ­ dá»¥:
    useradd {{ USRNM }}

Ã nghÄ©a:
- GiÃ¡ trá»‹ nÃ y **Ä‘Æ°á»£c Æ°u tiÃªn ráº¥t cao**
- Ghi Ä‘Ã¨ biáº¿n cÃ¹ng tÃªn trong:
  + vars
  + defaults
  + inventory
  + group_vars
  + host_vars

2.3. -e COMM=cliuser
--------------------
- Truyá»n thÃªm biáº¿n **COMM** vá»›i giÃ¡ trá»‹ **cliuser**
- CÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ:
  + GÃ¡n comment cho user
  + GÃ¡n mÃ´ táº£
  + DÃ¹ng cho test precedence

Sá»­ dá»¥ng trong playbook:
    {{ COMM }}

2.4. vars_precedence.yaml
-------------------------
- File playbook dÃ¹ng Ä‘á»ƒ:
  + Test
  + Minh há»a
  + Kiá»ƒm tra thá»© tá»± Æ°u tiÃªn biáº¿n trong Ansible
- BÃªn trong thÆ°á»ng khai bÃ¡o cÃ¹ng má»™t biáº¿n á»Ÿ nhiá»u cáº¥p khÃ¡c nhau

VÃ­ dá»¥ ná»™i dung playbook:
```yaml
- hosts: all
  vars:
    USRNM: playbook_user
    COMM: playbook_comment
  tasks:
    - name: Show variables
      debug:
        msg: "User={{ USRNM }}, Comment={{ COMM }}"
		
		
		- cmd: ansible -m setup web01
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ansible -m setup web01
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ansible Ä‘á»ƒ thu tháº­p thÃ´ng tin há»‡ thá»‘ng (facts)
tá»« host cÃ³ tÃªn `web01`.

- `setup` lÃ  module máº·c Ä‘á»‹nh cá»§a Ansible
- Module nÃ y thu tháº­p ráº¥t nhiá»u thÃ´ng tin chi tiáº¿t vá» host:
  + Há»‡ Ä‘iá»u hÃ nh
  + CPU, RAM, Disk
  + Network, IP
  + Kernel, Python
- ThÃ´ng tin nÃ y gá»i lÃ  Ansible Facts

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. ansible
--------------------------------------------------
- CLI tool cá»§a Ansible
- DÃ¹ng Ä‘á»ƒ cháº¡y ad-hoc command (khÃ´ng cáº§n playbook)
- ThÃ­ch há»£p cho kiá»ƒm tra nhanh, debug

--------------------------------------------------
2.2. -m setup
--------------------------------------------------
- `-m` chá»‰ Ä‘á»‹nh module Ansible
- `setup`:
  + Thu tháº­p system facts tá»« host
  + KhÃ´ng thay Ä‘á»•i tráº¡ng thÃ¡i há»‡ thá»‘ng
  + Tá»± Ä‘á»™ng cháº¡y khi báº¯t Ä‘áº§u playbook (Gathering Facts)

--------------------------------------------------
2.3. web01
--------------------------------------------------
- Target host
- TÃªn host pháº£i Ä‘Æ°á»£c khai bÃ¡o trong file inventory
- CÃ³ thá»ƒ lÃ  hostname hoáº·c alias cho IP

VÃ­ dá»¥ inventory:
--------------------------------------------------
web01 ansible_host=192.168.1.10 ansible_user=devops

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. Ansible Ä‘á»c file inventory Ä‘á»ƒ tÃ¬m host `web01`
2. Káº¿t ná»‘i SSH tá»›i web01
3. Cháº¡y module `setup` trÃªn host
4. Thu tháº­p thÃ´ng tin há»‡ thá»‘ng
5. Tráº£ vá» dá»¯ liá»‡u dáº¡ng JSON vÃ  hiá»ƒn thá»‹ trÃªn terminal

--------------------------------------------------
4. Káº¾T QUáº¢ Äáº¦U RA MáºªU
--------------------------------------------------
web01 | SUCCESS => {
    "ansible_facts": {
        "ansible_os_family": "RedHat",
        "ansible_distribution": "Amazon",
        "ansible_distribution_version": "2",
        "ansible_architecture": "x86_64",
        "ansible_memtotal_mb": 2048,
        "ansible_processor_vcpus": 2,
        "ansible_default_ipv4": {
            "address": "172.31.20.155"
        }
    },
    "changed": false
}

--------------------------------------------------
5. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Kiá»ƒm tra nhanh thÃ´ng tin server
- Debug playbook (biáº¿t biáº¿n facts Ä‘á»ƒ dÃ¹ng trong task)
- XÃ¡c Ä‘á»‹nh OS Ä‘á»ƒ dÃ¹ng module phÃ¹ há»£p
- Phá»¥c vá»¥ automation vÃ  DevOps

--------------------------------------------------
6. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- Host pháº£i cÃ³ Python interpreter
- SSH access pháº£i hoáº¡t Ä‘á»™ng
- Output ráº¥t dÃ i, cÃ³ thá»ƒ redirect ra file:
--------------------------------------------------
ansible -m setup web01 > facts_web01.txt

- CÃ³ thá»ƒ lá»c facts:
--------------------------------------------------
ansible -m setup web01 -a "filter=ansible_os*"

--------------------------------------------------
7. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
ansible -m setup web01
= Thu tháº­p Ansible Facts tá»« host web01
= Káº¿t ná»‘i SSH vÃ  tráº£ dá»¯ liá»‡u há»‡ thá»‘ng chi tiáº¿t
= KhÃ´ng thay Ä‘á»•i cáº¥u hÃ¬nh
= Há»¯u Ã­ch cho debug, automation vÃ  viáº¿t playbook
==================================================
		
		
		- cmd: ansible-playbook print_facts.yaml
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ansible-playbook print_facts.yaml

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Cháº¡y playbook Ansible cÃ³ tÃªn "print_facts.yaml"
- Thu tháº­p vÃ  in ra cÃ¡c Ansible Facts cá»§a host
- Facts lÃ  thÃ´ng tin há»‡ thá»‘ng cá»§a host tá»« xa (OS, CPU, RAM, IP, disk, v.v.)
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ kiá»ƒm tra mÃ´i trÆ°á»ng hoáº·c debug automation

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. ansible-playbook
--------------------------------------------------
- CLI dÃ¹ng Ä‘á»ƒ cháº¡y playbook Ansible
- Playbook lÃ  file YAML mÃ´ táº£:
  + Host nÃ o sáº½ Ä‘Æ°á»£c Ã¡p dá»¥ng
  + Task gÃ¬ sáº½ cháº¡y
  + Thá»© tá»± thá»±c hiá»‡n
- PhÃ¹ há»£p cho automation nhiá»u bÆ°á»›c

--------------------------------------------------
2.2. print_facts.yaml
--------------------------------------------------
- TÃªn file playbook
- ThÆ°á»ng chá»©a:
  + gather_facts: yes
  + Tasks dÃ¹ng module debug Ä‘á»ƒ in facts
- KhÃ´ng chá»‰ Ä‘á»‹nh inventory â†’ Ansible dÃ¹ng inventory máº·c Ä‘á»‹nh (/etc/ansible/hosts)

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. Ansible parse file print_facts.yaml
2. XÃ¡c Ä‘á»‹nh host target trong playbook
3. Káº¿t ná»‘i SSH tá»›i cÃ¡c host
4. Thu tháº­p facts báº±ng module setup (gather_facts)
5. LÆ°u facts vÃ o biáº¿n ansible_facts
6. In ra facts theo cáº¥u hÃ¬nh trong playbook
7. Hiá»ƒn thá»‹ káº¿t quáº£ trÃªn terminal

--------------------------------------------------
4. Ná»˜I DUNG FACTS THÆ¯á»œNG Gáº¶P
--------------------------------------------------
Má»™t sá»‘ facts phá»• biáº¿n:
- ansible_hostname
- ansible_distribution
- ansible_distribution_version
- ansible_kernel
- ansible_architecture
- ansible_processor
- ansible_memtotal_mb
- ansible_default_ipv4.address

--------------------------------------------------
5. OUTPUT MáºªU (RÃšT Gá»ŒN)
--------------------------------------------------
ok: [web01] => {
  "ansible_hostname": "web01",
  "ansible_distribution": "Ubuntu",
  "ansible_distribution_version": "22.04",
  "ansible_memtotal_mb": 8192
}

--------------------------------------------------
6. Má»¤C ÄÃCH THÆ¯á»œNG DÃ™NG
--------------------------------------------------
- Kiá»ƒm tra cáº¥u hÃ¬nh há»‡ thá»‘ng trÆ°á»›c khi deploy
- Debug inventory vÃ  káº¿t ná»‘i host
- Viáº¿t Ä‘iá»u kiá»‡n (when) trong playbook
- Hiá»ƒu rÃµ mÃ´i trÆ°á»ng cháº¡y automation

--------------------------------------------------
7. Lá»†NH LIÃŠN QUAN
--------------------------------------------------
- ansible all -m setup
  + Thu tháº­p facts khÃ´ng cáº§n playbook
- ansible-playbook print_facts.yaml -vv
  + Cháº¡y vá»›i log chi tiáº¿t hÆ¡n
- ansible-playbook print_facts.yaml --limit webservers
  + Chá»‰ cháº¡y trÃªn nhÃ³m webservers

--------------------------------------------------
8. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

8.1. Host unreachable
--------------------------------------------------
- Lá»—i SSH hoáº·c inventory sai
- Kiá»ƒm tra:
  ansible all -m ping

8.2. gather_facts bá»‹ táº¯t
--------------------------------------------------
- gather_facts: no trong playbook
- Giáº£i phÃ¡p:
  + Báº­t gather_facts: yes
  + Hoáº·c gá»i module setup thá»§ cÃ´ng

--------------------------------------------------
9. Cáº¢NH BÃO
--------------------------------------------------
- Facts chá»©a nhiá»u thÃ´ng tin há»‡ thá»‘ng â†’ khÃ´ng in toÃ n bá»™ trÃªn production log
- Thu tháº­p facts tá»‘n thá»i gian trÃªn nhiá»u host
- Chá»‰ in facts cáº§n thiáº¿t

--------------------------------------------------
10. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
ansible-playbook print_facts.yaml

= Cháº¡y playbook in Ansible Facts
= Thu tháº­p thÃ´ng tin há»‡ thá»‘ng host
= DÃ¹ng Ä‘á»ƒ kiá»ƒm tra, debug, Ä‘iá»u kiá»‡n hÃ³a task
= KhÃ´ng chá»‰ Ä‘á»‹nh inventory â†’ dÃ¹ng inventory máº·c Ä‘á»‹nh
		
		
		- cmd: rm -rf print_facts.yaml vars_precedence.yaml
		
Lá»†NH: rm -rf print_facts.yaml vars_precedence.yaml
==================================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **xÃ³a hoÃ n toÃ n (delete) hai file YAML** cÃ³ tÃªn:
- `print_facts.yaml`
- `vars_precedence.yaml`

ThÆ°á»ng dÃ¹ng khi:
- Dá»n dáº¹p file playbook/vars khÃ´ng cÃ²n sá»­ dá»¥ng
- Reset mÃ´i trÆ°á»ng lab Ansible
- XÃ³a file cáº¥u hÃ¬nh hoáº·c file test trÆ°á»›c khi táº¡o láº¡i


2. Cáº¤U TRÃšC Lá»†NH
----------------
rm -rf <file_or_directory_1> <file_or_directory_2>

Ãp dá»¥ng trong lá»‡nh nÃ y:
- `rm`   : Remove â€“ xÃ³a file hoáº·c thÆ° má»¥c
- `-r`   : Recursive â€“ xÃ³a Ä‘á»‡ quy (Ã¡p dá»¥ng cho thÆ° má»¥c vÃ  ná»™i dung bÃªn trong)
- `-f`   : Force â€“ xÃ³a cÆ°á»¡ng bá»©c, khÃ´ng há»i xÃ¡c nháº­n, khÃ´ng bÃ¡o lá»—i náº¿u file khÃ´ng tá»“n táº¡i
- `print_facts.yaml vars_precedence.yaml` : Danh sÃ¡ch cÃ¡c file cáº§n xÃ³a


3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
---------------------
1. Há»‡ Ä‘iá»u hÃ nh kiá»ƒm tra sá»± tá»“n táº¡i cá»§a:
   - `print_facts.yaml`
   - `vars_precedence.yaml`
2. Náº¿u file tá»“n táº¡i:
   - XÃ³a ngay láº­p tá»©c
   - KhÃ´ng há»i xÃ¡c nháº­n
3. Náº¿u file khÃ´ng tá»“n táº¡i:
   - KhÃ´ng hiá»ƒn thá»‹ lá»—i (do cÃ³ `-f`)
4. KhÃ´ng thá»ƒ khÃ´i phá»¥c file sau khi xÃ³a


4. VÃ Dá»¤ THá»°C Táº¾
-----------------
TrÆ°á»›c khi cháº¡y:
		
		
		- cmd: cat /etc/chrony.conf
		
Lá»†NH: cat /etc/chrony.conf
====================================================================

1. cat lÃ  gÃ¬?
--------------------------------------------------------------------
- cat = concatenate
- Lá»‡nh dÃ¹ng Ä‘á»ƒ:
  + Hiá»ƒn thá»‹ ná»™i dung file ra mÃ n hÃ¬nh
  + GhÃ©p nhiá»u file láº¡i vá»›i nhau
- cat KHÃ”NG chá»‰nh sá»­a file
- cat chá»‰ Ä‘á»c vÃ  in ná»™i dung

--------------------------------------------------------------------

2. /etc/chrony.conf lÃ  gÃ¬?
--------------------------------------------------------------------
- File cáº¥u hÃ¬nh chÃ­nh cá»§a Chrony
- Chrony lÃ  dá»‹ch vá»¥:
  + Äá»“ng bá»™ thá»i gian há»‡ thá»‘ng (NTP client/server)
  + Thay tháº¿ ntpd trÃªn nhiá»u báº£n Linux hiá»‡n Ä‘áº¡i
- File nÃ y quyáº¿t Ä‘á»‹nh:
  + Server NTP nÃ o Ä‘Æ°á»£c dÃ¹ng
  + ChÃ­nh sÃ¡ch Ä‘á»“ng bá»™ thá»i gian
  + Quyá»n truy cáº­p thá»i gian

--------------------------------------------------------------------

3. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
cat /etc/chrony.conf

â†’ Äá»c toÃ n bá»™ ná»™i dung file cáº¥u hÃ¬nh Chrony  
â†’ Hiá»ƒn thá»‹ ra mÃ n hÃ¬nh terminal  
â†’ DÃ¹ng Ä‘á»ƒ kiá»ƒm tra cáº¥u hÃ¬nh Ä‘á»“ng bá»™ thá»i gian hiá»‡n táº¡i  

KHÃ”NG:
- KhÃ´ng thay Ä‘á»•i cáº¥u hÃ¬nh
- KhÃ´ng restart dá»‹ch vá»¥
- KhÃ´ng cáº§n quyá»n sudo (náº¿u file cho phÃ©p Ä‘á»c)

--------------------------------------------------------------------

4. Ná»™i dung thÆ°á»ng tháº¥y trong /etc/chrony.conf
--------------------------------------------------------------------
# Sá»­ dá»¥ng NTP server
server 0.pool.ntp.org iburst
server 1.pool.ntp.org iburst

# Cho phÃ©p máº¡ng ná»™i bá»™ truy cáº­p
allow 192.168.0.0/16

# LÆ°u thÃ´ng tin drift
driftfile /var/lib/chrony/drift

# Ghi log
logdir /var/log/chrony

--------------------------------------------------------------------

5. Giáº£i thÃ­ch cÃ¡c cáº¥u hÃ¬nh phá»• biáº¿n
--------------------------------------------------------------------
- server:
  + Khai bÃ¡o NTP server Ä‘á»ƒ Ä‘á»“ng bá»™ thá»i gian
  + iburst giÃºp Ä‘á»“ng bá»™ nhanh khi má»›i khá»Ÿi Ä‘á»™ng

- allow:
  + Cho phÃ©p client trong máº¡ng chá»‰ Ä‘á»‹nh láº¥y giá» tá»« server nÃ y
  + DÃ¹ng khi mÃ¡y lÃ  NTP server ná»™i bá»™

- driftfile:
  + LÆ°u sai lá»‡ch Ä‘á»“ng há»“ há»‡ thá»‘ng
  + GiÃºp chrony Ä‘iá»u chá»‰nh chÃ­nh xÃ¡c hÆ¡n

- logdir:
  + ThÆ° má»¥c chá»©a log cá»§a chrony

--------------------------------------------------------------------

6. Khi nÃ o cáº§n dÃ¹ng cat /etc/chrony.conf?
--------------------------------------------------------------------
- Kiá»ƒm tra NTP server Ä‘ang sá»­ dá»¥ng
- Debug lá»—i lá»‡ch giá» há»‡ thá»‘ng
- XÃ¡c nháº­n cáº¥u hÃ¬nh trÆ°á»›c khi chá»‰nh sá»­a
- Audit cáº¥u hÃ¬nh há»‡ thá»‘ng

--------------------------------------------------------------------

7. Quy trÃ¬nh kiá»ƒm tra Chrony Ä‘áº§y Ä‘á»§
--------------------------------------------------------------------
1) Xem cáº¥u hÃ¬nh:
cat /etc/chrony.conf

2) Kiá»ƒm tra tráº¡ng thÃ¡i dá»‹ch vá»¥:
systemctl status chronyd

3) Kiá»ƒm tra nguá»“n thá»i gian:
chronyc sources -v

--------------------------------------------------------------------

8. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) File khÃ´ng tá»“n táº¡i
- Chrony chÆ°a Ä‘Æ°á»£c cÃ i
- ÄÆ°á»ng dáº«n khÃ¡c (tÃ¹y distro)

2) Permission denied
- File bá»‹ giá»›i háº¡n quyá»n Ä‘á»c
- Cáº§n sudo:
sudo cat /etc/chrony.conf

--------------------------------------------------------------------

9. LÆ°u Ã½ quan trá»ng
--------------------------------------------------------------------
- cat chá»‰ Ä‘á»ƒ xem, khÃ´ng chá»‰nh sá»­a
- Muá»‘n sá»­a cáº¥u hÃ¬nh:
vim /etc/chrony.conf
- Sau khi sá»­a cáº§n restart:
systemctl restart chronyd

--------------------------------------------------------------------

10. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
cat /etc/chrony.conf =
HIá»‚N THá»Š Ná»˜I DUNG FILE Cáº¤U HÃŒNH CHRONY Äá»‚ KIá»‚M TRA CÃC THIáº¾T Láº¬P Äá»’NG Bá»˜ THá»œI GIAN Há»† THá»NG
		
		
		- cmd: cat /etc/ntpsec/ntp.conf
		
Lá»†NH: cat /etc/chrony.conf
====================================================================

1. cat lÃ  gÃ¬?
--------------------------------------------------------------------
- cat = concatenate
- Lá»‡nh dÃ¹ng Ä‘á»ƒ:
  + Hiá»ƒn thá»‹ ná»™i dung file ra mÃ n hÃ¬nh
  + GhÃ©p nhiá»u file láº¡i vá»›i nhau
- cat KHÃ”NG chá»‰nh sá»­a file
- cat chá»‰ Ä‘á»c vÃ  in ná»™i dung

--------------------------------------------------------------------

2. /etc/chrony.conf lÃ  gÃ¬?
--------------------------------------------------------------------
- File cáº¥u hÃ¬nh chÃ­nh cá»§a Chrony
- Chrony lÃ  dá»‹ch vá»¥:
  + Äá»“ng bá»™ thá»i gian há»‡ thá»‘ng (NTP client/server)
  + Thay tháº¿ ntpd trÃªn nhiá»u báº£n Linux hiá»‡n Ä‘áº¡i
- File nÃ y quyáº¿t Ä‘á»‹nh:
  + Server NTP nÃ o Ä‘Æ°á»£c dÃ¹ng
  + ChÃ­nh sÃ¡ch Ä‘á»“ng bá»™ thá»i gian
  + Quyá»n truy cáº­p thá»i gian

--------------------------------------------------------------------

3. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
cat /etc/chrony.conf

â†’ Äá»c toÃ n bá»™ ná»™i dung file cáº¥u hÃ¬nh Chrony  
â†’ Hiá»ƒn thá»‹ ra mÃ n hÃ¬nh terminal  
â†’ DÃ¹ng Ä‘á»ƒ kiá»ƒm tra cáº¥u hÃ¬nh Ä‘á»“ng bá»™ thá»i gian hiá»‡n táº¡i  

KHÃ”NG:
- KhÃ´ng thay Ä‘á»•i cáº¥u hÃ¬nh
- KhÃ´ng restart dá»‹ch vá»¥
- KhÃ´ng cáº§n quyá»n sudo (náº¿u file cho phÃ©p Ä‘á»c)

--------------------------------------------------------------------

4. Ná»™i dung thÆ°á»ng tháº¥y trong /etc/chrony.conf
--------------------------------------------------------------------
# Sá»­ dá»¥ng NTP server
server 0.pool.ntp.org iburst
server 1.pool.ntp.org iburst

# Cho phÃ©p máº¡ng ná»™i bá»™ truy cáº­p
allow 192.168.0.0/16

# LÆ°u thÃ´ng tin drift
driftfile /var/lib/chrony/drift

# Ghi log
logdir /var/log/chrony

--------------------------------------------------------------------

5. Giáº£i thÃ­ch cÃ¡c cáº¥u hÃ¬nh phá»• biáº¿n
--------------------------------------------------------------------
- server:
  + Khai bÃ¡o NTP server Ä‘á»ƒ Ä‘á»“ng bá»™ thá»i gian
  + iburst giÃºp Ä‘á»“ng bá»™ nhanh khi má»›i khá»Ÿi Ä‘á»™ng

- allow:
  + Cho phÃ©p client trong máº¡ng chá»‰ Ä‘á»‹nh láº¥y giá» tá»« server nÃ y
  + DÃ¹ng khi mÃ¡y lÃ  NTP server ná»™i bá»™

- driftfile:
  + LÆ°u sai lá»‡ch Ä‘á»“ng há»“ há»‡ thá»‘ng
  + GiÃºp chrony Ä‘iá»u chá»‰nh chÃ­nh xÃ¡c hÆ¡n

- logdir:
  + ThÆ° má»¥c chá»©a log cá»§a chrony

--------------------------------------------------------------------

6. Khi nÃ o cáº§n dÃ¹ng cat /etc/chrony.conf?
--------------------------------------------------------------------
- Kiá»ƒm tra NTP server Ä‘ang sá»­ dá»¥ng
- Debug lá»—i lá»‡ch giá» há»‡ thá»‘ng
- XÃ¡c nháº­n cáº¥u hÃ¬nh trÆ°á»›c khi chá»‰nh sá»­a
- Audit cáº¥u hÃ¬nh há»‡ thá»‘ng

--------------------------------------------------------------------

7. Quy trÃ¬nh kiá»ƒm tra Chrony Ä‘áº§y Ä‘á»§
--------------------------------------------------------------------
1) Xem cáº¥u hÃ¬nh:
cat /etc/chrony.conf

2) Kiá»ƒm tra tráº¡ng thÃ¡i dá»‹ch vá»¥:
systemctl status chronyd

3) Kiá»ƒm tra nguá»“n thá»i gian:
chronyc sources -v

--------------------------------------------------------------------

8. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) File khÃ´ng tá»“n táº¡i
- Chrony chÆ°a Ä‘Æ°á»£c cÃ i
- ÄÆ°á»ng dáº«n khÃ¡c (tÃ¹y distro)

2) Permission denied
- File bá»‹ giá»›i háº¡n quyá»n Ä‘á»c
- Cáº§n sudo:
sudo cat /etc/chrony.conf

--------------------------------------------------------------------

9. LÆ°u Ã½ quan trá»ng
--------------------------------------------------------------------
- cat chá»‰ Ä‘á»ƒ xem, khÃ´ng chá»‰nh sá»­a
- Muá»‘n sá»­a cáº¥u hÃ¬nh:
vim /etc/chrony.conf
- Sau khi sá»­a cáº§n restart:
systemctl restart chronyd

--------------------------------------------------------------------

10. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
cat /etc/chrony.conf =
HIá»‚N THá»Š Ná»˜I DUNG FILE Cáº¤U HÃŒNH CHRONY Äá»‚ KIá»‚M TRA CÃC THIáº¾T Láº¬P Äá»’NG Bá»˜ THá»œI GIAN Há»† THá»NG
		
		
		- cmd: apt  install tree  # version 2.1.1-2
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
apt install tree  # version 2.1.1-2
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t chÆ°Æ¡ng trÃ¬nh `tree` báº±ng trÃ¬nh quáº£n lÃ½
gÃ³i `apt` trÃªn cÃ¡c há»‡ Ä‘iá»u hÃ nh Debian/Ubuntu.

- `tree` lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ cáº¥u trÃºc thÆ° má»¥c
  theo dáº¡ng cÃ¢y (tree view)
- Comment `# version 2.1.1-2` chá»‰ Ä‘á»ƒ ghi chÃº phiÃªn báº£n mong muá»‘n
  hoáº·c phiÃªn báº£n hiá»‡n cÃ³ trong repository

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. apt
--------------------------------------------------
- TrÃ¬nh quáº£n lÃ½ gÃ³i cá»§a Debian/Ubuntu
- Chá»©c nÄƒng chÃ­nh:
  + install  : cÃ i Ä‘áº·t gÃ³i
  + remove   : gá»¡ gÃ³i
  + update   : cáº­p nháº­t danh sÃ¡ch gÃ³i
  + upgrade  : nÃ¢ng cáº¥p há»‡ thá»‘ng

--------------------------------------------------
2.2. install
--------------------------------------------------
- Tham sá»‘ cá»§a apt
- DÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t gÃ³i pháº§n má»m

--------------------------------------------------
2.3. tree
--------------------------------------------------
- TÃªn package cáº§n cÃ i Ä‘áº·t
- Sau khi cÃ i Ä‘áº·t, lá»‡nh `tree` sáº½ kháº£ dá»¥ng trong terminal
- Chá»©c nÄƒng chÃ­nh:
  + Hiá»ƒn thá»‹ cáº¥u trÃºc thÆ° má»¥c dáº¡ng phÃ¢n cáº¥p
  + GiÃºp dá»… hÃ¬nh dung file/folder trong project

--------------------------------------------------
2.4. # version 2.1.1-2
--------------------------------------------------
- Dáº¥u `#` trong shell Linux lÃ  kÃ½ hiá»‡u comment
- Pháº§n sau dáº¥u `#` KHÃ”NG Ä‘Æ°á»£c thá»±c thi
- Chá»‰ mang tÃ­nh chÃº thÃ­ch:
  + Ghi láº¡i phiÃªn báº£n tree
  + KhÃ´ng áº£nh hÆ°á»Ÿng tá»›i lá»‡nh `apt install`

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. apt kiá»ƒm tra quyá»n ngÆ°á»i dÃ¹ng
2. Truy váº¥n repository Ä‘á»ƒ tÃ¬m package `tree`
3. XÃ¡c Ä‘á»‹nh phiÃªn báº£n phÃ¹ há»£p (vd: 2.1.1-2)
4. Táº£i package vÃ  cÃ¡c dependency
5. CÃ i Ä‘áº·t vÃ o há»‡ thá»‘ng
6. ÄÄƒng kÃ½ lá»‡nh `tree` vÃ o PATH

--------------------------------------------------
4. KIá»‚M TRA SAU KHI CÃ€I Äáº¶T
--------------------------------------------------
- Kiá»ƒm tra tree Ä‘Ã£ Ä‘Æ°á»£c cÃ i:
--------------------------------------------------
tree --version

- Kiá»ƒm tra vá»‹ trÃ­ file:
--------------------------------------------------
which tree
â†’ vÃ­ dá»¥: /usr/bin/tree

--------------------------------------------------
5. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Xem cáº¥u trÃºc project
- Kiá»ƒm tra thÆ° má»¥c log, source code, playbook
- Há»¯u Ã­ch trong DevOps, SysAdmin, Developer

--------------------------------------------------
6. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- ThÆ°á»ng cáº§n quyá»n sudo:
--------------------------------------------------
sudo apt install tree

- Náº¿u muá»‘n cÃ i Ä‘Ãºng phiÃªn báº£n cá»¥ thá»ƒ:
--------------------------------------------------
apt install tree=2.1.1-2

- Kiá»ƒm tra phiÃªn báº£n trong repo:
--------------------------------------------------
apt policy tree

--------------------------------------------------
7. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
apt install tree  # version 2.1.1-2
= CÃ i cÃ´ng cá»¥ tree báº±ng apt
= Comment khÃ´ng áº£nh hÆ°á»Ÿng tá»›i lá»‡nh
= PhiÃªn báº£n vÃ­ dá»¥: 2.1.1-2
= DÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ cáº¥u trÃºc thÆ° má»¥c dáº¡ng cÃ¢y
==================================================
		
		
		- cmd: tree
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
tree

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh `tree` dÃ¹ng Ä‘á»ƒ:
- Hiá»ƒn thá»‹ cáº¥u trÃºc thÆ° má»¥c vÃ  file theo dáº¡ng cÃ¢y (tree)
- GiÃºp nhÃ¬n tá»•ng thá»ƒ ná»™i dung thÆ° má»¥c má»™t cÃ¡ch trá»±c quan
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ kiá»ƒm tra project source code, thÆ° má»¥c cáº¥u hÃ¬nh, thÆ° má»¥c há»‡ thá»‘ng

--------------------------------------------------
2. CÃCH HOáº T Äá»˜NG
--------------------------------------------------
- Lá»‡nh `tree` sáº½ duyá»‡t thÆ° má»¥c hiá»‡n táº¡i (.)
- In ra toÃ n bá»™ file vÃ  thÆ° má»¥c con theo dáº¡ng phÃ¢n cáº¥p
- Má»—i cáº¥p Ä‘Æ°á»£c thá»¥t lá» báº±ng kÃ½ tá»± |-- , `-- hoáº·c â”œâ”€â”€ â””â”€â”€

--------------------------------------------------
3. PHÃ‚N TÃCH CHI TIáº¾T
--------------------------------------------------

3.1. tree (khÃ´ng tham sá»‘)
--------------------------------------------------
- Hiá»ƒn thá»‹ cÃ¢y thÆ° má»¥c táº¡i vá»‹ trÃ­ Ä‘ang Ä‘á»©ng
- Bao gá»“m:
  + ThÆ° má»¥c
  + File
- KhÃ´ng hiá»ƒn thá»‹ file áº©n (báº¯t Ä‘áº§u báº±ng dáº¥u .)

--------------------------------------------------
4. OUTPUT MáºªU
--------------------------------------------------
VÃ­ dá»¥ Ä‘ang Ä‘á»©ng táº¡i /opt/app:

app
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ README.md
â”œâ”€â”€ config
â”‚   â”œâ”€â”€ app.conf
â”‚   â””â”€â”€ db.conf
â”œâ”€â”€ logs
â”‚   â””â”€â”€ app.log
â””â”€â”€ src
    â”œâ”€â”€ main.py
    â””â”€â”€ utils.py

--------------------------------------------------
5. CÃC TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG
--------------------------------------------------

5.1. Hiá»ƒn thá»‹ file áº©n
--------------------------------------------------
tree -a

- Bao gá»“m file/thÆ° má»¥c báº¯t Ä‘áº§u báº±ng dáº¥u .

--------------------------------------------------
5.2. Giá»›i háº¡n Ä‘á»™ sÃ¢u
--------------------------------------------------
tree -L 2

- Chá»‰ hiá»ƒn thá»‹ tá»‘i Ä‘a 2 cáº¥p thÆ° má»¥c

--------------------------------------------------
5.3. Chá»‰ hiá»ƒn thá»‹ thÆ° má»¥c
--------------------------------------------------
tree -d

- Bá» qua file, chá»‰ hiá»‡n folder

--------------------------------------------------
5.4. Hiá»ƒn thá»‹ kÃ­ch thÆ°á»›c file
--------------------------------------------------
tree -h

- Káº¿t há»£p vá»›i ls -lh
- Hiá»ƒn thá»‹ kÃ­ch thÆ°á»›c dá»… Ä‘á»c (KB, MB, GB)

--------------------------------------------------
5.5. Äáº¿m sá»‘ lÆ°á»£ng file vÃ  thÆ° má»¥c
--------------------------------------------------
tree -f

- Hiá»ƒn thá»‹ full path cá»§a file

Cuá»‘i output sáº½ cÃ³ thá»‘ng kÃª:
X directories, Y files

--------------------------------------------------
6. CÃ€I Äáº¶T Lá»†NH TREE
--------------------------------------------------

6.1. TrÃªn CentOS / RHEL / Amazon Linux
--------------------------------------------------
sudo yum install tree -y

6.2. TrÃªn Ubuntu / Debian
--------------------------------------------------
sudo apt install tree -y

--------------------------------------------------
7. Má»¤C ÄÃCH THá»°C Táº¾
--------------------------------------------------
- TrÃ¬nh bÃ y cáº¥u trÃºc project khi review code
- Debug thÆ° má»¥c deploy
- So sÃ¡nh cáº¥u trÃºc giá»¯a cÃ¡c mÃ´i trÆ°á»ng
- Gá»­i cáº¥u trÃºc thÆ° má»¥c cho ngÆ°á»i khÃ¡c xem

--------------------------------------------------
8. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

8.1. command not found
--------------------------------------------------
- ChÆ°a cÃ i tree
- Giáº£i phÃ¡p: cÃ i báº±ng yum hoáº·c apt

--------------------------------------------------
9. Cáº¢NH BÃO
--------------------------------------------------
- KhÃ´ng cháº¡y tree á»Ÿ thÆ° má»¥c quÃ¡ lá»›n (/)
- CÃ³ thá»ƒ táº¡o output ráº¥t dÃ i
- NÃªn dÃ¹ng -L Ä‘á»ƒ giá»›i háº¡n Ä‘á»™ sÃ¢u

--------------------------------------------------
10. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
tree

= Hiá»ƒn thá»‹ cáº¥u trÃºc thÆ° má»¥c dáº¡ng cÃ¢y
= Dá»… nhÃ¬n, trá»±c quan
= Há»¯u Ã­ch cho DevOps, SysAdmin, Developer
= CÃ³ nhiá»u option má»Ÿ rá»™ng máº¡nh máº½
		
		
		- cmd: ansible-galaxy init post-install
		
Lá»†NH: ansible-galaxy init post-install
======================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh `ansible-galaxy init post-install` dÃ¹ng Ä‘á»ƒ **khá»Ÿi táº¡o (táº¡o khung â€“ skeleton) má»™t Ansible Role má»›i** cÃ³ tÃªn lÃ  `post-install`.

Má»¥c Ä‘Ã­ch:
- Táº¡o sáºµn cáº¥u trÃºc thÆ° má»¥c chuáº©n cho má»™t Ansible Role
- GiÃºp tá»• chá»©c automation theo chuáº©n best practice cá»§a Ansible
- Dá»… tÃ¡i sá»­ dá»¥ng, chia sáº» vÃ  báº£o trÃ¬ playbook/logic cáº¥u hÃ¬nh há»‡ thá»‘ng


2. Cáº¤U TRÃšC Lá»†NH
----------------
ansible-galaxy init <role_name>

Trong Ä‘Ã³:
- `ansible-galaxy` : CÃ´ng cá»¥ quáº£n lÃ½ role vÃ  collection cá»§a Ansible
- `init`           : Lá»‡nh khá»Ÿi táº¡o role má»›i
- `post-install`   : TÃªn role cáº§n táº¡o


3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
---------------------
Khi cháº¡y lá»‡nh:
ansible-galaxy init post-install

Ansible sáº½:
1. Táº¡o má»™t thÆ° má»¥c má»›i tÃªn `post-install`
2. BÃªn trong chá»©a **cáº¥u trÃºc role chuáº©n** theo Ansible Galaxy
3. CÃ¡c file YAML Ä‘Æ°á»£c táº¡o sáºµn nhÆ°ng rá»—ng hoáº·c cÃ³ comment máº«u


4. Cáº¤U TRÃšC THÆ¯ Má»¤C ÄÆ¯á»¢C Táº O
----------------------------
Sau khi cháº¡y lá»‡nh, cáº¥u trÃºc nhÆ° sau:

post-install/
â”œâ”€â”€ README.md
â”œâ”€â”€ defaults/
â”‚   â””â”€â”€ main.yml
â”œâ”€â”€ files/
â”œâ”€â”€ handlers/
â”‚   â””â”€â”€ main.yml
â”œâ”€â”€ meta/
â”‚   â””â”€â”€ main.yml
â”œâ”€â”€ tasks/
â”‚   â””â”€â”€ main.yml
â”œâ”€â”€ templates/
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ inventory
â”‚   â””â”€â”€ test.yml
â””â”€â”€ vars/
    â””â”€â”€ main.yml


5. Ã NGHÄ¨A CÃC THÆ¯ Má»¤C QUAN TRá»ŒNG
--------------------------------
- tasks/        : Chá»©a cÃ¡c task chÃ­nh cá»§a role (quan trá»ng nháº¥t)
- handlers/     : Chá»©a handler (restart service, reload, â€¦)
- defaults/     : Biáº¿n máº·c Ä‘á»‹nh (Æ°u tiÃªn tháº¥p)
- vars/         : Biáº¿n cá»§a role (Æ°u tiÃªn cao hÆ¡n defaults)
- files/        : File tÄ©nh Ä‘á»ƒ copy sang host
- templates/    : File template Jinja2 (.j2)
- meta/         : Metadata cá»§a role (dependencies, author, galaxy info)
- tests/        : DÃ¹ng Ä‘á»ƒ test role
- README.md     : MÃ´ táº£ role, cÃ¡ch dÃ¹ng


6. VÃ Dá»¤ THá»°C Táº¾
----------------
1. Khá»Ÿi táº¡o role:
   ansible-galaxy init post-install

2. Viáº¿t task trong:
   post-install/tasks/main.yml

3. Gá»i role trong playbook:
		
		
		- cmd: vim roles/post-install/vars/main.yml
		
Lá»†NH: vim roles/post-install/vars/main.yml
====================================================================

1. vim lÃ  gÃ¬?
--------------------------------------------------------------------
- vim lÃ  trÃ¬nh soáº¡n tháº£o vÄƒn báº£n cháº¡y trong terminal
- DÃ¹ng Ä‘á»ƒ:
  + Táº¡o file má»›i
  + Má»Ÿ vÃ  chá»‰nh sá»­a file cáº¥u hÃ¬nh, script, YAML
- vim KHÃ”NG thay Ä‘á»•i file cho Ä‘áº¿n khi báº¡n lÆ°u

--------------------------------------------------------------------

2. roles/post-install/vars/main.yml lÃ  gÃ¬?
--------------------------------------------------------------------
ÄÃ¢y lÃ  má»™t file náº±m trong cáº¥u trÃºc **Ansible Role** chuáº©n.

Giáº£i thÃ­ch tá»«ng pháº§n Ä‘Æ°á»ng dáº«n:
--------------------------------------------------------------------
- roles/
  + ThÆ° má»¥c chá»©a táº¥t cáº£ Ansible roles cá»§a project

- post-install/
  + TÃªn role
  + Role nÃ y thÆ°á»ng dÃ¹ng cho cÃ¡c task cháº¡y sau khi cÃ i Ä‘áº·t (post installation)

- vars/
  + ThÆ° má»¥c chá»©a cÃ¡c biáº¿n (variables) cá»§a role
  + Biáº¿n trong vars cÃ³ Ä‘á»™ Æ°u tiÃªn cao

- main.yml
  + File máº·c Ä‘á»‹nh Ä‘á»ƒ khai bÃ¡o biáº¿n cho role
  + Ansible tá»± Ä‘á»™ng load file nÃ y khi role Ä‘Æ°á»£c gá»i

--------------------------------------------------------------------

3. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
vim roles/post-install/vars/main.yml

â†’ Má»Ÿ file khai bÃ¡o biáº¿n cá»§a role post-install  
â†’ Cho phÃ©p xem hoáº·c chá»‰nh sá»­a cÃ¡c biáº¿n dÃ¹ng trong role  
â†’ CÃ¡c biáº¿n nÃ y sáº½ Ä‘Æ°á»£c dÃ¹ng trong task, template, handler cá»§a role  

KHÃ”NG:
- KhÃ´ng cháº¡y playbook
- KhÃ´ng thá»±c thi task
- Chá»‰ chá»‰nh sá»­a cáº¥u hÃ¬nh biáº¿n

--------------------------------------------------------------------

4. Ná»™i dung thÆ°á»ng cÃ³ trong vars/main.yml
--------------------------------------------------------------------
VÃ­ dá»¥:
--------------------------------------------------------------------
http_port: 80
app_user: webapp
install_path: /opt/app
enable_firewall: true
--------------------------------------------------------------------

--------------------------------------------------------------------

5. Giáº£i thÃ­ch vai trÃ² cá»§a vars/main.yml
--------------------------------------------------------------------
- Chá»©a cÃ¡c biáº¿n:
  + GiÃ¡ trá»‹ cá»‘ Ä‘á»‹nh
  + GiÃ¡ trá»‹ báº¯t buá»™c cho role
- DÃ¹ng cho:
  + tasks/main.yml
  + templates/*.j2
  + handlers/main.yml
- Biáº¿n trong vars:
  + KhÃ´ng nÃªn override tá»« bÃªn ngoÃ i
  + CÃ³ Ä‘á»™ Æ°u tiÃªn cao hÆ¡n vars trong playbook

--------------------------------------------------------------------

6. So sÃ¡nh vars/ vÃ  defaults/
--------------------------------------------------------------------
- vars/main.yml:
  + Biáº¿n quan trá»ng
  + KhÃ³ override
  + Æ¯u tiÃªn cao

- defaults/main.yml:
  + Biáº¿n máº·c Ä‘á»‹nh
  + Dá»… override tá»« inventory hoáº·c playbook
  + Æ¯u tiÃªn tháº¥p

--------------------------------------------------------------------

7. Quy trÃ¬nh chá»‰nh sá»­a file báº±ng vim
--------------------------------------------------------------------
1) Má»Ÿ file:
vim roles/post-install/vars/main.yml

2) Nháº¥n i â†’ vÃ o INSERT mode

3) Chá»‰nh sá»­a biáº¿n (theo chuáº©n YAML)

4) Nháº¥n ESC

5) GÃµ :wq â†’ lÆ°u vÃ  thoÃ¡t
   GÃµ :q! â†’ thoÃ¡t khÃ´ng lÆ°u

--------------------------------------------------------------------

8. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) Sai indent YAML
- YAML ráº¥t nháº¡y vá»›i khoáº£ng tráº¯ng
- DÃ¹ng space, khÃ´ng dÃ¹ng tab

2) Sai tÃªn biáº¿n
- Task gá»i biáº¿n khÃ´ng tá»“n táº¡i â†’ playbook fail

3) File khÃ´ng tá»“n táº¡i
- Role chÆ°a Ä‘Æ°á»£c táº¡o Ä‘áº§y Ä‘á»§ cáº¥u trÃºc

--------------------------------------------------------------------

9. LÆ°u Ã½ quan trá»ng
--------------------------------------------------------------------
- YAML phÃ¢n biá»‡t indent, KHÃ”NG phÃ¢n biá»‡t chá»¯ hoa/thÆ°á»ng cá»§a key
- NÃªn comment rÃµ Ã½ nghÄ©a tá»«ng biáº¿n
- Backup file trÆ°á»›c khi sá»­a

--------------------------------------------------------------------

10. Khi nÃ o dÃ¹ng lá»‡nh nÃ y?
--------------------------------------------------------------------
- Khi cáº§n thay Ä‘á»•i cáº¥u hÃ¬nh cá»§a role
- Khi muá»‘n chá»‰nh sá»­a biáº¿n dÃ¹ng chung cho role
- Khi customize role cho mÃ´i trÆ°á»ng khÃ¡c nhau

--------------------------------------------------------------------

11. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
vim roles/post-install/vars/main.yml =
Má» FILE KHAI BÃO BIáº¾N (VARS) Cá»¦A ANSIBLE ROLE post-install Äá»‚ XEM HOáº¶C CHá»ˆNH Sá»¬A CÃC GIÃ TRá»Š Cáº¤U HÃŒNH
		
		
		- cmd: vim roles/post-install/handlers/main.yml
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
vim roles/post-install/handlers/main.yml
=======================================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    vim roles/post-install/handlers/main.yml

ÄÆ°á»£c sá»­ dá»¥ng Ä‘á»ƒ:
- Má»Ÿ vÃ  chá»‰nh sá»­a file `main.yml` báº±ng trÃ¬nh soáº¡n tháº£o **Vim**
- File nÃ y thuá»™c thÆ° má»¥c **handlers** cá»§a má»™t **Ansible Role**
- DÃ¹ng Ä‘á»ƒ Ä‘á»‹nh nghÄ©a cÃ¡c **handler** (cÃ¡c tÃ¡c vá»¥ chá»‰ cháº¡y khi Ä‘Æ°á»£c notify)

Má»¥c Ä‘Ã­ch:
â†’ Táº¡o hoáº·c chá»‰nh sá»­a cÃ¡c handler dÃ¹ng trong role `post-install`


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

2.1. vim
--------
- TrÃ¬nh soáº¡n tháº£o vÄƒn báº£n máº¡nh máº½ trÃªn Linux/Unix
- Cháº¡y trong terminal
- DÃ¹ng Ä‘á»ƒ:
  + Xem
  + Táº¡o
  + Chá»‰nh sá»­a file cáº¥u hÃ¬nh, mÃ£ nguá»“n, YAML, v.v.

Má»™t sá»‘ phÃ­m cÆ¡ báº£n:
- `i`  : vÃ o cháº¿ Ä‘á»™ insert (soáº¡n tháº£o)
- `Esc`: thoÃ¡t insert
- `:w` : lÆ°u file
- `:q` : thoÃ¡t
- `:wq`: lÆ°u vÃ  thoÃ¡t
- `:q!`: thoÃ¡t khÃ´ng lÆ°u

2.2. roles/post-install/handlers/main.yml
-----------------------------------------

Cáº¥u trÃºc Ä‘Æ°á»ng dáº«n:
- `roles/`           : thÆ° má»¥c chá»©a cÃ¡c Ansible role
- `post-install/`    : tÃªn role (role thá»±c hiá»‡n háº­u cÃ i Ä‘áº·t)
- `handlers/`        : thÆ° má»¥c chá»©a cÃ¡c handler cá»§a role
- `main.yml`         : file handler chÃ­nh cá»§a role

Quy Æ°á»›c Ansible:
- Ansible sáº½ tá»± Ä‘á»™ng load:
    roles/<role_name>/handlers/main.yml
- KhÃ´ng cáº§n khai bÃ¡o thÃªm trong playbook


3. HANDLER LÃ€ GÃŒ?
----------------
- Handler lÃ  **task Ä‘áº·c biá»‡t**
- Chá»‰ cháº¡y khi Ä‘Æ°á»£c **notify**
- ThÆ°á»ng dÃ¹ng cho:
  + restart service
  + reload daemon
  + apply cáº¥u hÃ¬nh

VÃ­ dá»¥:
```yaml
- name: Restart Nginx
  ansible.builtin.service:
    name: nginx
    state: restarted
		
		
		- cmd: vim roles/post-install/tasks/main.yml
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
vim roles/post-install/tasks/main.yml
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ má»Ÿ (hoáº·c táº¡o má»›i) file `main.yml`
báº±ng trÃ¬nh soáº¡n tháº£o `vim`.

- File nÃ y náº±m trong cáº¥u trÃºc Role cá»§a Ansible
- `main.yml` lÃ  file CHÃNH chá»©a cÃ¡c task cá»§a role
- Role tÃªn: post-install

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. vim
--------------------------------------------------
- TrÃ¬nh soáº¡n tháº£o vÄƒn báº£n cháº¡y trong terminal
- Phá»• biáº¿n trÃªn Linux/Unix
- DÃ¹ng Ä‘á»ƒ chá»‰nh sá»­a file cáº¥u hÃ¬nh, playbook, script

--------------------------------------------------
2.2. roles/
--------------------------------------------------
- ThÆ° má»¥c chuáº©n cá»§a Ansible Role
- Má»—i role náº±m trong má»™t thÆ° má»¥c riÃªng
- GiÃºp tá»• chá»©c playbook theo module, dá»… quáº£n lÃ½

--------------------------------------------------
2.3. post-install/
--------------------------------------------------
- TÃªn role
- ThÆ°á»ng dÃ¹ng cho cÃ¡c task:
  + Cáº¥u hÃ¬nh sau khi cÃ i OS
  + Post-install software
  + Hardening, tuning

--------------------------------------------------
2.4. tasks/
--------------------------------------------------
- ThÆ° má»¥c chá»©a cÃ¡c task cá»§a role
- Task lÃ  cÃ¡c hÃ nh Ä‘á»™ng Ansible sáº½ thá»±c thi trÃªn host

--------------------------------------------------
2.5. main.yml
--------------------------------------------------
- File máº·c Ä‘á»‹nh cá»§a tasks
- Ansible tá»± Ä‘á»™ng load file nÃ y khi role Ä‘Æ°á»£c gá»i
- Viáº¿t báº±ng YAML

--------------------------------------------------
3. Cáº¤U TRÃšC ROLE ANSIBLE LIÃŠN QUAN
--------------------------------------------------
roles/
â””â”€â”€ post-install/
    â”œâ”€â”€ tasks/
    â”‚   â””â”€â”€ main.yml
    â”œâ”€â”€ handlers/
    â”‚   â””â”€â”€ main.yml
    â”œâ”€â”€ vars/
    â”‚   â””â”€â”€ main.yml
    â”œâ”€â”€ defaults/
    â”‚   â””â”€â”€ main.yml
    â””â”€â”€ meta/
        â””â”€â”€ main.yml

--------------------------------------------------
4. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. Vim má»Ÿ file `main.yml`
2. Náº¿u file chÆ°a tá»“n táº¡i:
   - Vim táº¡o buffer má»›i
3. NgÆ°á»i dÃ¹ng chá»‰nh sá»­a ná»™i dung task
4. LÆ°u file vÃ  thoÃ¡t vim

--------------------------------------------------
5. VÃ Dá»¤ Ná»˜I DUNG FILE main.yml
--------------------------------------------------
- name: Install basic packages
  apt:
    name:
      - curl
      - wget
      - git
    state: present

--------------------------------------------------
6. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- File pháº£i tuÃ¢n thá»§ cÃº phÃ¡p YAML
- Thá»¥t Ä‘áº§u dÃ²ng báº±ng dáº¥u cÃ¡ch (khÃ´ng dÃ¹ng tab)
- Thá»© tá»± task sáº½ Ä‘Æ°á»£c cháº¡y tá»« trÃªn xuá»‘ng
- Má»—i task thÆ°á»ng báº¯t Ä‘áº§u báº±ng `- name:`

--------------------------------------------------
7. PHÃM CÆ  Báº¢N TRONG VIM
--------------------------------------------------
i      : vÃ o cháº¿ Ä‘á»™ insert
ESC    : thoÃ¡t insert mode
:w     : lÆ°u file
:q     : thoÃ¡t vim
:wq    : lÆ°u vÃ  thoÃ¡t
:q!    : thoÃ¡t khÃ´ng lÆ°u

--------------------------------------------------
8. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Viáº¿t task cho role Ansible
- Chuáº©n hÃ³a cáº¥u hÃ¬nh post-install
- TÃ¡i sá»­ dá»¥ng role cho nhiá»u playbook

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
vim roles/post-install/tasks/main.yml
= Má»Ÿ file task chÃ­nh cá»§a role post-install
= DÃ¹ng Ä‘á»ƒ viáº¿t cÃ¡c Ansible task
= File tá»± Ä‘á»™ng Ä‘Æ°á»£c Ansible load khi gá»i role
= ThÃ nh pháº§n quan trá»ng trong kiáº¿n trÃºc Ansible Role
==================================================
		
		
		- cmd: ansible-galaxy role install geerlingguy.java
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ansible-galaxy role install geerlingguy.java

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Táº£i vÃ  cÃ i Ä‘áº·t má»™t Ansible Role tá»« Ansible Galaxy
- Role cÃ³ tÃªn: geerlingguy.java
- Role nÃ y dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh Java (OpenJDK) trÃªn Linux
- ThÆ°á»ng dÃ¹ng trong automation cÃ i Java cho server (Jenkins, Tomcat, Elasticsearch, v.v.)

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. ansible-galaxy
--------------------------------------------------
- CÃ´ng cá»¥ quáº£n lÃ½:
  + Role
  + Collection
- Káº¿t ná»‘i tá»›i Ansible Galaxy (https://galaxy.ansible.com)
- DÃ¹ng Ä‘á»ƒ táº£i cÃ¡c role chuáº©n, Ä‘Ã£ Ä‘Æ°á»£c cá»™ng Ä‘á»“ng kiá»ƒm chá»©ng

--------------------------------------------------
2.2. role
--------------------------------------------------
- Chá»‰ Ä‘á»‹nh thao tÃ¡c vá»›i Role (khÃ´ng pháº£i Collection)
- Role lÃ  táº­p há»£p chuáº©n gá»“m:
  + tasks
  + handlers
  + defaults
  + vars
  + templates
  + files
  + meta

--------------------------------------------------
2.3. install
--------------------------------------------------
- HÃ nh Ä‘á»™ng cÃ i Ä‘áº·t role
- Táº£i role tá»« Galaxy vá» mÃ¡y local

--------------------------------------------------
2.4. geerlingguy.java
--------------------------------------------------
- TÃªn role theo Ä‘á»‹nh dáº¡ng:
  namespace.role_name
- namespace: geerlingguy (tÃ¡c giáº£ ná»•i tiáº¿ng)
- role_name: java
- Chá»©c nÄƒng: cÃ i OpenJDK, cáº¥u hÃ¬nh JAVA_HOME, alternatives

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. Ansible káº¿t ná»‘i tá»›i Ansible Galaxy
2. Táº£i metadata role geerlingguy.java
3. Download source role (GitHub)
4. Giáº£i nÃ©n vÃ o thÆ° má»¥c roles
5. Sáºµn sÃ ng Ä‘á»ƒ dÃ¹ng trong playbook

--------------------------------------------------
4. Vá»Š TRÃ CÃ€I Äáº¶T ROLE
--------------------------------------------------
Máº·c Ä‘á»‹nh role Ä‘Æ°á»£c cÃ i táº¡i:

~/.ansible/roles/geerlingguy.java/

Hoáº·c:
- /etc/ansible/roles/
- ./roles/ (náº¿u cáº¥u hÃ¬nh trong ansible.cfg)

--------------------------------------------------
5. KIá»‚M TRA ROLE ÄÃƒ CÃ€I
--------------------------------------------------
ansible-galaxy role list

VÃ­ dá»¥ output:
- geerlingguy.java, 2.3.1

--------------------------------------------------
6. CÃCH Sá»¬ Dá»¤NG ROLE TRONG PLAYBOOK
--------------------------------------------------
VÃ­ dá»¥ playbook:

- hosts: all
  become: yes
  roles:
    - geerlingguy.java

--------------------------------------------------
7. BIáº¾N Cáº¤U HÃŒNH PHá»” BIáº¾N
--------------------------------------------------
Role há»— trá»£ nhiá»u biáº¿n, vÃ­ dá»¥:

java_packages:
  - openjdk-17-jdk

java_home: /usr/lib/jvm/java-17-openjdk-amd64

java_install_jdk: true

--------------------------------------------------
8. Má»¤C ÄÃCH THá»°C Táº¾
--------------------------------------------------
- CÃ i Java Ä‘á»“ng loáº¡t trÃªn nhiá»u server
- Chuáº©n hÃ³a version Java
- Tá»± Ä‘á»™ng hÃ³a cÃ i Jenkins, Tomcat, SonarQube
- Giáº£m thao tÃ¡c thá»§ cÃ´ng

--------------------------------------------------
9. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

9.1. Network / SSL error
--------------------------------------------------
- KhÃ´ng káº¿t ná»‘i Ä‘Æ°á»£c Galaxy
- Kiá»ƒm tra Internet, proxy

9.2. Role Ä‘Ã£ tá»“n táº¡i
--------------------------------------------------
- Role Ä‘Ã£ cÃ i sáºµn
- DÃ¹ng:
  ansible-galaxy role install geerlingguy.java --force

--------------------------------------------------
10. Cáº¢NH BÃO
--------------------------------------------------
- KhÃ´ng chá»‰nh sá»­a trá»±c tiáº¿p code role trong ~/.ansible/roles
- NÃªn override báº±ng biáº¿n trong playbook
- Kiá»ƒm tra version Java phÃ¹ há»£p á»©ng dá»¥ng

--------------------------------------------------
11. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
ansible-galaxy role install geerlingguy.java

= Táº£i role Java tá»« Ansible Galaxy
= CÃ i Ä‘áº·t OpenJDK tá»± Ä‘á»™ng
= Chuáº©n hÃ³a cáº¥u hÃ¬nh Java
= DÃ¹ng trá»±c tiáº¿p trong playbook
		
		
		- cmd: cd .ansible/
		
Lá»†NH: cd .ansible/
===================

1. Má»¤C ÄÃCH
----------
Lá»‡nh `cd .ansible/` dÃ¹ng Ä‘á»ƒ **di chuyá»ƒn (chuyá»ƒn thÆ° má»¥c lÃ m viá»‡c hiá»‡n táº¡i) vÃ o thÆ° má»¥c `.ansible`**.

ThÆ° má»¥c `.ansible` thÆ°á»ng Ä‘Æ°á»£c Ansible sá»­ dá»¥ng Ä‘á»ƒ:
- LÆ°u cache (facts cache)
- LÆ°u collections, roles (trong má»™t sá»‘ cáº¥u hÃ¬nh)
- LÆ°u dá»¯ liá»‡u táº¡m thá»i cá»§a Ansible
- Chá»©a cÃ¡c file cáº¥u hÃ¬nh hoáº·c metadata liÃªn quan Ä‘áº¿n Ansible cá»§a user


2. Cáº¤U TRÃšC Lá»†NH
----------------
cd <directory>

Ãp dá»¥ng trong lá»‡nh nÃ y:
- `cd`        : Change Directory â€“ lá»‡nh Ä‘á»•i thÆ° má»¥c trong Linux/Unix
- `.ansible/` : ThÆ° má»¥c áº©n (báº¯t Ä‘áº§u báº±ng dáº¥u `.`), thÆ°á»ng náº±m trong thÆ° má»¥c home cá»§a user


3. Ã NGHÄ¨A Dáº¤U CHáº¤M (.)
-----------------------
- Dáº¥u `.` á»Ÿ Ä‘áº§u tÃªn thÆ° má»¥c (`.ansible`) cÃ³ nghÄ©a lÃ  **thÆ° má»¥c áº©n**
- ThÆ° má»¥c áº©n khÃ´ng hiá»ƒn thá»‹ khi dÃ¹ng `ls`
- Muá»‘n xem thÆ° má»¥c áº©n, dÃ¹ng:
  ls -a


4. HOáº T Äá»˜NG Cá»¦A Lá»†NH
---------------------
1. Shell kiá»ƒm tra xem thÆ° má»¥c `.ansible` cÃ³ tá»“n táº¡i trong thÆ° má»¥c hiá»‡n táº¡i hay khÃ´ng
2. Náº¿u tá»“n táº¡i:
   - ThÆ° má»¥c lÃ m viá»‡c (working directory) sáº½ Ä‘Æ°á»£c chuyá»ƒn sang `.ansible`
3. Náº¿u khÃ´ng tá»“n táº¡i:
   - Shell bÃ¡o lá»—i:
     cd: .ansible/: No such file or directory


5. VÃ Dá»¤ THá»°C Táº¾
-----------------
1. Äang á»Ÿ thÆ° má»¥c home:
   pwd
   /home/devops

2. Kiá»ƒm tra thÆ° má»¥c áº©n:
   ls -a
   .
   ..
   .ansible
   .ssh
   .bashrc

3. Chuyá»ƒn vÃ o thÆ° má»¥c `.ansible`:
   cd .ansible/

4. Kiá»ƒm tra vá»‹ trÃ­ hiá»‡n táº¡i:
   pwd
   /home/devops/.ansible


6. LÆ¯U Ã QUAN TRá»ŒNG
-------------------
- `.ansible` thÆ°á»ng náº±m trong thÆ° má»¥c home: `~/.ansible`
- CÃ³ thá»ƒ dÃ¹ng Ä‘Æ°á»ng dáº«n Ä‘áº§y Ä‘á»§ Ä‘á»ƒ trÃ¡nh nháº§m láº«n:
  cd ~/.ansible
- ThÆ° má»¥c nÃ y thÆ°á»ng Ä‘Æ°á»£c Ansible tá»± Ä‘á»™ng táº¡o khi cháº¡y lá»‡nh Ansible láº§n Ä‘áº§u
- KhÃ´ng nÃªn xÃ³a ná»™i dung trong `.ansible` náº¿u chÆ°a hiá»ƒu rÃµ, vÃ¬ cÃ³ thá»ƒ áº£nh hÆ°á»Ÿng Ä‘áº¿n cache hoáº·c collections


7. TÃ“M Táº®T
-----------
- `cd .ansible/` dÃ¹ng Ä‘á»ƒ vÃ o thÆ° má»¥c `.ansible`
- `.ansible` lÃ  thÆ° má»¥c áº©n, liÃªn quan Ä‘áº¿n hoáº¡t Ä‘á»™ng cá»§a Ansible
- Lá»‡nh khÃ´ng táº¡o thÆ° má»¥c, chá»‰ di chuyá»ƒn vÃ o thÆ° má»¥c Ä‘Ã£ tá»“n táº¡i
- ThÆ°á»ng dÃ¹ng khi kiá»ƒm tra cache, roles, hoáº·c collections cá»§a Ansible
		
		
		- cmd: export AWS_ACCESS_KEY_ID='AK123'
		
Lá»†NH: export AWS_ACCESS_KEY_ID='AK123'
====================================================================

1. export lÃ  gÃ¬?
--------------------------------------------------------------------
- export lÃ  lá»‡nh cá»§a shell (bash, sh, zsh)
- DÃ¹ng Ä‘á»ƒ:
  + Táº¡o biáº¿n mÃ´i trÆ°á»ng (environment variable)
  + Cho phÃ©p biáº¿n nÃ y Ä‘Æ°á»£c káº¿ thá»«a bá»Ÿi cÃ¡c process con
- Biáº¿n chá»‰ tá»“n táº¡i trong session terminal hiá»‡n táº¡i

--------------------------------------------------------------------

2. AWS_ACCESS_KEY_ID lÃ  gÃ¬?
--------------------------------------------------------------------
- AWS_ACCESS_KEY_ID lÃ  biáº¿n mÃ´i trÆ°á»ng chuáº©n cá»§a AWS
- Chá»©a Access Key ID dÃ¹ng Ä‘á»ƒ:
  + XÃ¡c thá»±c khi lÃ m viá»‡c vá»›i AWS
  + ÄÆ°á»£c AWS CLI, SDK, Terraform, Ansible, v.v. tá»± Ä‘á»™ng Ä‘á»c
- ÄÃ¢y lÃ  **public part** cá»§a cáº·p key AWS

--------------------------------------------------------------------

3. 'AK123' lÃ  gÃ¬?
--------------------------------------------------------------------
- GiÃ¡ trá»‹ gÃ¡n cho AWS_ACCESS_KEY_ID
- Trong vÃ­ dá»¥ nÃ y lÃ  giÃ¡ trá»‹ minh há»a
- Trong thá»±c táº¿ sáº½ lÃ  chuá»—i dÃ i dáº¡ng:
  AKIAIOSFODNN7EXAMPLE

--------------------------------------------------------------------

4. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
export AWS_ACCESS_KEY_ID='AK123'

â†’ Táº¡o biáº¿n mÃ´i trÆ°á»ng AWS_ACCESS_KEY_ID  
â†’ GÃ¡n giÃ¡ trá»‹ 'AK123' cho biáº¿n  
â†’ Cho phÃ©p cÃ¡c cÃ´ng cá»¥ AWS sá»­ dá»¥ng key nÃ y Ä‘á»ƒ xÃ¡c thá»±c  

KHÃ”NG:
- KhÃ´ng kiá»ƒm tra key cÃ³ Ä‘Ãºng hay khÃ´ng
- KhÃ´ng káº¿t ná»‘i AWS ngay láº­p tá»©c
- Chá»‰ thiáº¿t láº­p biáº¿n mÃ´i trÆ°á»ng

--------------------------------------------------------------------

5. CÃ¡ch AWS sá»­ dá»¥ng biáº¿n nÃ y
--------------------------------------------------------------------
- Khi cháº¡y:
aws s3 ls
terraform apply
ansible-playbook (dÃ¹ng module AWS)

â†’ CÃ¡c tool sáº½ tá»± Ä‘á»c:
  AWS_ACCESS_KEY_ID
  AWS_SECRET_ACCESS_KEY
  AWS_DEFAULT_REGION

--------------------------------------------------------------------

6. Kiá»ƒm tra biáº¿n Ä‘Ã£ Ä‘Æ°á»£c set chÆ°a
--------------------------------------------------------------------
- Kiá»ƒm tra giÃ¡ trá»‹:
echo $AWS_ACCESS_KEY_ID

- Liá»‡t kÃª biáº¿n mÃ´i trÆ°á»ng AWS:
env | grep AWS

--------------------------------------------------------------------

7. Biáº¿n liÃªn quan thÆ°á»ng dÃ¹ng
--------------------------------------------------------------------
- AWS_SECRET_ACCESS_KEY
  + Private key (pháº£i báº£o máº­t)

- AWS_DEFAULT_REGION
  + Region máº·c Ä‘á»‹nh (vd: ap-southeast-1)

VÃ­ dá»¥ Ä‘áº§y Ä‘á»§:
--------------------------------------------------------------------
export AWS_ACCESS_KEY_ID='AK123'
export AWS_SECRET_ACCESS_KEY='SECRET123'
export AWS_DEFAULT_REGION='ap-southeast-1'
--------------------------------------------------------------------

--------------------------------------------------------------------

8. Pháº¡m vi vÃ  thá»i gian tá»“n táº¡i
--------------------------------------------------------------------
- Chá»‰ tá»“n táº¡i trong terminal hiá»‡n táº¡i
- ÄÃ³ng terminal â†’ biáº¿n bá»‹ máº¥t
- Muá»‘n tá»“n táº¡i lÃ¢u dÃ i:
  + ThÃªm vÃ o ~/.bashrc hoáº·c ~/.profile

--------------------------------------------------------------------

9. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) Missing AWS_SECRET_ACCESS_KEY
- AWS CLI bÃ¡o lá»—i xÃ¡c thá»±c

2) Region not specified
- Cáº§n set AWS_DEFAULT_REGION

3) Export xong nhÆ°ng tool khÃ´ng nháº­n
- Cháº¡y tool trong terminal khÃ¡c

--------------------------------------------------------------------

10. LÆ°u Ã½ báº£o máº­t
--------------------------------------------------------------------
- KHÃ”NG commit key vÃ o Git
- KHÃ”NG chia sáº» key
- Æ¯u tiÃªn dÃ¹ng IAM Role trÃªn EC2 thay vÃ¬ export key
- Chá»‰ dÃ¹ng cho test hoáº·c lab

--------------------------------------------------------------------

11. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
export AWS_ACCESS_KEY_ID='AK123' =
THIáº¾T Láº¬P BIáº¾N MÃ”I TRÆ¯á»œNG CHá»¨A ACCESS KEY ID Äá»‚ CÃC CÃ”NG Cá»¤ AWS XÃC THá»°C KHI LÃ€M VIá»†C Vá»šI AWS
		
		
		- cmd: export AWS_SECRET_ACCESS_KEY='abc123'
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
export AWS_SECRET_ACCESS_KEY='abc123'
===================================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    export AWS_SECRET_ACCESS_KEY='abc123'

ÄÆ°á»£c sá»­ dá»¥ng trong **Linux/Unix shell (bash, sh, zsh, â€¦)** Ä‘á»ƒ:
- Thiáº¿t láº­p biáº¿n mÃ´i trÆ°á»ng (environment variable)
- LÆ°u **AWS Secret Access Key** vÃ o mÃ´i trÆ°á»ng shell hiá»‡n táº¡i
- Cho phÃ©p cÃ¡c cÃ´ng cá»¥ AWS (aws cli, terraform, ansible, sdk, â€¦)
  tá»± Ä‘á»™ng xÃ¡c thá»±c vá»›i AWS mÃ  khÃ´ng cáº§n nháº­p láº¡i key má»—i láº§n

Má»¥c Ä‘Ã­ch:
â†’ Cung cáº¥p thÃ´ng tin xÃ¡c thá»±c AWS cho cÃ¡c lá»‡nh vÃ  á»©ng dá»¥ng cháº¡y trong shell


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

2.1. export
-----------
- Lá»‡nh built-in cá»§a shell
- DÃ¹ng Ä‘á»ƒ:
  + Táº¡o biáº¿n mÃ´i trÆ°á»ng
  + Xuáº¥t (export) biáº¿n Ä‘Ã³ cho cÃ¡c process con
- Náº¿u khÃ´ng dÃ¹ng `export`, biáº¿n chá»‰ tá»“n táº¡i trong shell hiá»‡n táº¡i
  vÃ  **khÃ´ng Ä‘Æ°á»£c chÆ°Æ¡ng trÃ¬nh khÃ¡c nhÃ¬n tháº¥y**

VÃ­ dá»¥:
    VAR=123        (chá»‰ tá»“n táº¡i trong shell)
    export VAR=123 (tá»“n táº¡i trong shell + process con)

2.2. AWS_SECRET_ACCESS_KEY
-------------------------
- TÃªn biáº¿n mÃ´i trÆ°á»ng chuáº©n do AWS quy Ä‘á»‹nh
- LÃ  **Secret Key** tÆ°Æ¡ng á»©ng vá»›i:
  + AWS Access Key ID
  + DÃ¹ng Ä‘á»ƒ kÃ½ request tá»›i AWS API

AWS sá»­ dá»¥ng cáº·p:
- AWS_ACCESS_KEY_ID
- AWS_SECRET_ACCESS_KEY

ÄÃ´i khi kÃ¨m thÃªm:
- AWS_SESSION_TOKEN (náº¿u dÃ¹ng temporary credentials)

2.3. 'abc123'
-------------
- GiÃ¡ trá»‹ gÃ¡n cho biáº¿n (vÃ­ dá»¥ minh há»a)
- Thá»±c táº¿ Ä‘Ã¢y lÃ  chuá»—i bÃ­ máº­t, thÆ°á»ng ráº¥t dÃ i
- ÄÆ°á»£c Ä‘áº·t trong dáº¥u nhÃ¡y Ä‘Æ¡n Ä‘á»ƒ:
  + TrÃ¡nh shell hiá»ƒu nháº§m kÃ½ tá»± Ä‘áº·c biá»‡t
  + TrÃ¡nh bá»‹ expand biáº¿n


3. CÃCH HOáº T Äá»˜NG
-----------------
Khi cháº¡y lá»‡nh:
1. Shell táº¡o biáº¿n mÃ´i trÆ°á»ng `AWS_SECRET_ACCESS_KEY`
2. GÃ¡n giÃ¡ trá»‹ `abc123`
3. Export biáº¿n nÃ y cho toÃ n bá»™ process con
4. CÃ¡c chÆ°Æ¡ng trÃ¬nh cháº¡y sau Ä‘Ã³ cÃ³ thá»ƒ Ä‘á»c biáº¿n nÃ y

VÃ­ dá»¥:
    aws s3 ls
    terraform plan
    ansible-playbook playbook.yml

â†’ Táº¥t cáº£ Ä‘á»u cÃ³ thá»ƒ dÃ¹ng key nÃ y Ä‘á»ƒ xÃ¡c thá»±c AWS


4. KIá»‚M TRA BIáº¾N ÄÃƒ ÄÆ¯á»¢C SET
----------------------------
Kiá»ƒm tra trong shell:
    echo $AWS_SECRET_ACCESS_KEY

Hoáº·c:
    env | grep AWS_SECRET

Káº¿t quáº£:
    AWS_SECRET_ACCESS_KEY=abc123


5. PHáº M VI HIá»†U Lá»°C
-------------------
- Biáº¿n chá»‰ tá»“n táº¡i trong:
  + PhiÃªn shell hiá»‡n táº¡i
- Sáº½ máº¥t khi:
  + ÄÃ³ng terminal
  + Logout
  + Reboot

Muá»‘n dÃ¹ng lÃ¢u dÃ i:
- ThÃªm vÃ o:
    ~/.bashrc
    ~/.bash_profile
    ~/.profile

VÃ­ dá»¥:
    export AWS_SECRET_ACCESS_KEY='abc123'


6. LIÃŠN QUAN Äáº¾N AWS AUTHENTICATION
-----------------------------------
Äá»ƒ AWS CLI hoáº¡t Ä‘á»™ng Ä‘áº§y Ä‘á»§, thÆ°á»ng cáº§n:
    export AWS_ACCESS_KEY_ID='AKIAxxxx'
    export AWS_SECRET_ACCESS_KEY='abc123'
    export AWS_DEFAULT_REGION='us-east-1'

AWS SDK vÃ  CLI sáº½ Æ°u tiÃªn:
1. Biáº¿n mÃ´i trÆ°á»ng
2. ~/.aws/credentials
3. IAM Role (EC2/ECS/EKS)


7. LÆ¯U Ã Báº¢O Máº¬T (Ráº¤T QUAN TRá»ŒNG)
--------------------------------
- KHÃ”NG commit key lÃªn Git
- KHÃ”NG hard-code trong script public
- KHÃ”NG chia sáº» Secret Key
- KHÃ”NG ghi log hoáº·c chá»¥p mÃ n hÃ¬nh terminal

NÃªn dÃ¹ng:
- IAM Role (EC2, ECS, EKS)
- AWS Secrets Manager
- ~/.aws/credentials (permission 600)

VÃ­ dá»¥ quyá»n file:
    chmod 600 ~/.aws/credentials


8. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------
8.1. Unable to locate credentials
- NguyÃªn nhÃ¢n: biáº¿n chÆ°a Ä‘Æ°á»£c export
- CÃ¡ch xá»­ lÃ½: kiá»ƒm tra báº±ng `env | grep AWS`

8.2. InvalidClientTokenId / SignatureDoesNotMatch
- NguyÃªn nhÃ¢n:
  + Key sai
  + Copy thiáº¿u kÃ½ tá»±
- CÃ¡ch xá»­ lÃ½: kiá»ƒm tra láº¡i giÃ¡ trá»‹ key


9. SO SÃNH Vá»šI aws configure
----------------------------
- DÃ¹ng export:
    export AWS_SECRET_ACCESS_KEY='abc123'
  + Nhanh
  + Táº¡m thá»i
  + PhÃ¹ há»£p test, CI/CD

- DÃ¹ng aws configure:
    aws configure
  + LÆ°u file
  + Bá»n vá»¯ng
  + PhÃ¹ há»£p dÃ¹ng lÃ¢u dÃ i


10. TÃ“M Táº®T
-----------
- export AWS_SECRET_ACCESS_KEY='abc123'
  + Táº¡o biáº¿n mÃ´i trÆ°á»ng AWS Secret Key
  + Cho phÃ©p tool AWS xÃ¡c thá»±c
  + Chá»‰ tá»“n táº¡i trong session hiá»‡n táº¡i
- LÃ  cÃ¡ch phá»• biáº¿n trong automation vÃ  CI/CD


Káº¾T LUáº¬N
--------
ÄÃ¢y lÃ  lá»‡nh ná»n táº£ng trong lÃ m viá»‡c vá»›i AWS trÃªn Linux,
nhÆ°ng **cá»±c ká»³ nháº¡y cáº£m vá» báº£o máº­t**,
chá»‰ nÃªn dÃ¹ng Ä‘Ãºng má»¥c Ä‘Ã­ch vÃ  Ä‘Ãºng mÃ´i trÆ°á»ng.
		
		
		- cmd: vim .bashrc
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
vim .bashrc
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ má»Ÿ (hoáº·c táº¡o má»›i) file `.bashrc`
báº±ng trÃ¬nh soáº¡n tháº£o `vim`.

- `.bashrc` lÃ  file cáº¥u hÃ¬nh cá»§a Bash shell
- ÄÆ°á»£c thá»±c thi má»—i khi má»Ÿ terminal má»›i (non-login shell)
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ:
  + Khai bÃ¡o biáº¿n mÃ´i trÆ°á»ng
  + Thiáº¿t láº­p alias
  + Cáº¥u hÃ¬nh PATH
  + Cáº¥u hÃ¬nh mÃ´i trÆ°á»ng lÃ m viá»‡c

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. vim
--------------------------------------------------
- TrÃ¬nh soáº¡n tháº£o vÄƒn báº£n cháº¡y trong terminal
- Phá»• biáº¿n trÃªn Linux/Unix
- DÃ¹ng Ä‘á»ƒ chá»‰nh sá»­a file cáº¥u hÃ¬nh há»‡ thá»‘ng vÃ  user

--------------------------------------------------
2.2. .bashrc
--------------------------------------------------
- File cáº¥u hÃ¬nh cá»§a Bash cho tá»«ng user
- Náº±m trong thÆ° má»¥c home cá»§a user:
--------------------------------------------------
~/.bashrc

- Dáº¥u cháº¥m `.` á»Ÿ Ä‘áº§u tÃªn file:
  + LÃ  file áº©n (hidden file)

--------------------------------------------------
3. KHI NÃ€O .bashrc ÄÆ¯á»¢C THá»°C THI
--------------------------------------------------
- Má»—i khi má»Ÿ terminal má»›i
- Khi cháº¡y:
--------------------------------------------------
source ~/.bashrc
hoáº·c
. ~/.bashrc

- KhÃ´ng tá»± cháº¡y khi login shell (dÃ¹ng .bash_profile)

--------------------------------------------------
4. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. Vim má»Ÿ file `.bashrc`
2. Náº¿u file chÆ°a tá»“n táº¡i:
   - Vim táº¡o buffer má»›i
3. NgÆ°á»i dÃ¹ng chá»‰nh sá»­a ná»™i dung
4. LÆ°u file
5. Ãp dá»¥ng cáº¥u hÃ¬nh khi má»Ÿ terminal má»›i
   hoáº·c cháº¡y `source ~/.bashrc`

--------------------------------------------------
5. VÃ Dá»¤ Ná»˜I DUNG PHá»” BIáº¾N TRONG .bashrc
--------------------------------------------------
- Thiáº¿t láº­p alias:
--------------------------------------------------
alias ll='ls -alF'
alias gs='git status'

- Thiáº¿t láº­p PATH:
--------------------------------------------------
export PATH=$PATH:/usr/local/bin

- Biáº¿n mÃ´i trÆ°á»ng:
--------------------------------------------------
export JAVA_HOME=/usr/lib/jvm/java-21-openjdk

--------------------------------------------------
6. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- KhÃ´ng dÃ¹ng tab, chá»‰ dÃ¹ng dáº¥u cÃ¡ch
- TrÃ¡nh lá»‡nh gÃ¢y treo shell (while vÃ´ háº¡n)
- Sau khi chá»‰nh sá»­a, cáº§n load láº¡i:
--------------------------------------------------
source ~/.bashrc

- Lá»—i trong .bashrc cÃ³ thá»ƒ lÃ m terminal má»Ÿ bá»‹ lá»—i

--------------------------------------------------
7. PHÃM CÆ  Báº¢N TRONG VIM
--------------------------------------------------
i      : vÃ o cháº¿ Ä‘á»™ insert
ESC    : thoÃ¡t insert mode
:w     : lÆ°u file
:q     : thoÃ¡t vim
:wq    : lÆ°u vÃ  thoÃ¡t
:q!    : thoÃ¡t khÃ´ng lÆ°u

--------------------------------------------------
8. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- CÃ¡ nhÃ¢n hÃ³a mÃ´i trÆ°á»ng lÃ m viá»‡c
- Cáº¥u hÃ¬nh shell cho DevOps, Developer
- Thiáº¿t láº­p alias, PATH, biáº¿n mÃ´i trÆ°á»ng

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
vim .bashrc
= Má»Ÿ file cáº¥u hÃ¬nh Bash cá»§a user hiá»‡n táº¡i
= DÃ¹ng Ä‘á»ƒ cáº¥u hÃ¬nh alias, PATH, biáº¿n mÃ´i trÆ°á»ng
= File Ä‘Æ°á»£c Ä‘á»c má»—i khi má»Ÿ terminal má»›i
==================================================
		
		
		- cmd: source .bashrc
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
source .bashrc

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh `source .bashrc` dÃ¹ng Ä‘á»ƒ:
- Náº¡p (reload) láº¡i file cáº¥u hÃ¬nh shell .bashrc
- Ãp dá»¥ng ngay cÃ¡c thay Ä‘á»•i trong .bashrc
- KhÃ´ng cáº§n Ä‘Äƒng xuáº¥t (logout) hay má»Ÿ terminal má»›i
- ThÆ°á»ng dÃ¹ng sau khi thÃªm biáº¿n mÃ´i trÆ°á»ng, alias, function

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. source
--------------------------------------------------
- Built-in command cá»§a shell Bash
- DÃ¹ng Ä‘á»ƒ thá»±c thi ná»™i dung file trong shell hiá»‡n táº¡i
- KhÃ´ng táº¡o shell má»›i

LÆ°u Ã½:
- CÃ³ thá»ƒ dÃ¹ng dáº¥u cháº¥m thay cho source:
  . .bashrc

--------------------------------------------------
2.2. .bashrc
--------------------------------------------------
- File cáº¥u hÃ¬nh cá»§a Bash shell
- Náº±m trong thÆ° má»¥c home cá»§a user (~/.bashrc)
- ÄÆ°á»£c cháº¡y má»—i khi má»Ÿ terminal má»›i (non-login shell)

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. Bash Ä‘á»c file .bashrc
2. Thá»±c thi tá»«ng dÃ²ng lá»‡nh trong file
3. Cáº­p nháº­t biáº¿n mÃ´i trÆ°á»ng, alias, PATH
4. Ãp dá»¥ng thay Ä‘á»•i ngay trong terminal hiá»‡n táº¡i

--------------------------------------------------
4. Ná»˜I DUNG THÆ¯á»œNG CÃ“ TRONG .bashrc
--------------------------------------------------
- export PATH=...
- export JAVA_HOME=...
- alias ll='ls -la'
- Function bash
- Cáº¥u hÃ¬nh prompt (PS1)

--------------------------------------------------
5. VÃ Dá»¤ THá»°C Táº¾
--------------------------------------------------

5.1. Sau khi thÃªm PATH
--------------------------------------------------
echo 'export PATH=$PATH:/opt/maven/bin' >> ~/.bashrc
source ~/.bashrc

--------------------------------------------------
5.2. Kiá»ƒm tra biáº¿n mÃ´i trÆ°á»ng
--------------------------------------------------
echo $PATH
echo $JAVA_HOME

--------------------------------------------------
6. Lá»†NH LIÃŠN QUAN
--------------------------------------------------
- source ~/.bash_profile
- source ~/.profile
- exec bash (má»Ÿ shell má»›i)
- logout / login láº¡i

--------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

7.1. No such file or directory
--------------------------------------------------
- File .bashrc khÃ´ng tá»“n táº¡i
Giáº£i phÃ¡p:
ls -a ~

--------------------------------------------------
7.2. Lá»—i syntax trong .bashrc
--------------------------------------------------
- GÃ¢y lá»—i khi source
- Kiá»ƒm tra báº±ng:
bash -n ~/.bashrc

--------------------------------------------------
8. Cáº¢NH BÃO
--------------------------------------------------
- KhÃ´ng cháº¡y source file khÃ´ng rÃµ nguá»“n gá»‘c
- Lá»—i trong .bashrc cÃ³ thá»ƒ lÃ m shell hoáº¡t Ä‘á»™ng sai
- NÃªn backup trÆ°á»›c khi chá»‰nh sá»­a

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
source .bashrc

= Náº¡p láº¡i cáº¥u hÃ¬nh Bash
= Ãp dá»¥ng thay Ä‘á»•i ngay
= KhÃ´ng cáº§n má»Ÿ terminal má»›i
= Ráº¥t thÆ°á»ng dÃ¹ng khi cáº¥u hÃ¬nh mÃ´i trÆ°á»ng
		
		
		- cmd: sudo apt install python3-pip -y
		
Lá»†NH: sudo apt install python3-pip -y
===================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **cÃ i Ä‘áº·t pip cho Python 3** trÃªn cÃ¡c há»‡ Ä‘iá»u hÃ nh Linux sá»­ dá»¥ng trÃ¬nh quáº£n lÃ½ gÃ³i `apt`
(vÃ­ dá»¥: Ubuntu, Debian).

- `pip` lÃ  trÃ¬nh quáº£n lÃ½ package cá»§a Python
- Cho phÃ©p cÃ i Ä‘áº·t, nÃ¢ng cáº¥p, gá»¡ bá» cÃ¡c thÆ° viá»‡n Python (vÃ­ dá»¥: requests, boto3, ansible, flaskâ€¦)
- Ráº¥t cáº§n thiáº¿t cho DevOps, Automation, Ansible, AWS SDK, CI/CD


2. Cáº¤U TRÃšC Lá»†NH
----------------
sudo apt install python3-pip -y

Giáº£i thÃ­ch tá»«ng thÃ nh pháº§n:
- `sudo`            : Cháº¡y lá»‡nh vá»›i quyá»n quáº£n trá»‹ (root)
- `apt`             : TrÃ¬nh quáº£n lÃ½ package cá»§a Debian/Ubuntu
- `install`         : HÃ nh Ä‘á»™ng cÃ i Ä‘áº·t package
- `python3-pip`     : GÃ³i pip dÃ nh cho Python 3
- `-y`              : Tá»± Ä‘á»™ng tráº£ lá»i "Yes" cho má»i cÃ¢u há»i xÃ¡c nháº­n


3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
---------------------
1. Há»‡ thá»‘ng kiá»ƒm tra danh sÃ¡ch repository Ä‘Ã£ cáº¥u hÃ¬nh
2. Táº£i gÃ³i `python3-pip` tá»« repository chÃ­nh thá»©c
3. CÃ i Ä‘áº·t pip cÃ¹ng cÃ¡c dependency cáº§n thiáº¿t
4. Sau khi hoÃ n táº¥t, lá»‡nh `pip3` sáº½ kháº£ dá»¥ng trÃªn há»‡ thá»‘ng


4. KIá»‚M TRA SAU KHI CÃ€I
-----------------------
Kiá»ƒm tra pip Ä‘Ã£ cÃ i thÃ nh cÃ´ng:
		
		
		- cmd: ansible-galaxy collection install amazon.aws
		
Lá»†NH: ansible-galaxy collection install amazon.aws
====================================================================

1. ansible-galaxy lÃ  gÃ¬?
--------------------------------------------------------------------
- ansible-galaxy lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘i kÃ¨m Ansible
- DÃ¹ng Ä‘á»ƒ:
  + Táº£i vÃ  quáº£n lÃ½ role
  + Táº£i vÃ  quáº£n lÃ½ collection
- Nguá»“n chÃ­nh: Ansible Galaxy (community repository)

--------------------------------------------------------------------

2. collection lÃ  gÃ¬ trong Ansible?
--------------------------------------------------------------------
- Collection lÃ  gÃ³i má»Ÿ rá»™ng cá»§a Ansible
- Má»™t collection cÃ³ thá»ƒ chá»©a:
  + Module
  + Plugin
  + Role
  + Documentation
- DÃ¹ng Ä‘á»ƒ má»Ÿ rá»™ng kháº£ nÄƒng cá»§a Ansible
- Tá»« Ansible 2.9+, module AWS khÃ´ng cÃ²n náº±m trong core mÃ  chuyá»ƒn sang collection

--------------------------------------------------------------------

3. amazon.aws lÃ  gÃ¬?
--------------------------------------------------------------------
- amazon.aws lÃ  collection chÃ­nh thá»©c Ä‘á»ƒ lÃ m viá»‡c vá»›i Amazon Web Services
- Cung cáº¥p:
  + Module quáº£n lÃ½ EC2, S3, VPC, IAM, ELB, RDS, v.v.
  + Plugin vÃ  helper cho AWS
- VÃ­ dá»¥ module:
  + ec2_instance
  + s3_bucket
  + iam_role
  + ec2_asg

--------------------------------------------------------------------

4. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
ansible-galaxy collection install amazon.aws

â†’ Táº£i collection amazon.aws tá»« Ansible Galaxy  
â†’ CÃ i Ä‘áº·t vÃ o mÃ´i trÆ°á»ng Ansible local  
â†’ Cho phÃ©p sá»­ dá»¥ng cÃ¡c module AWS trong playbook  

KHÃ”NG:
- KhÃ´ng táº¡o resource AWS
- KhÃ´ng káº¿t ná»‘i AWS ngay láº­p tá»©c
- Chá»‰ cÃ i collection

--------------------------------------------------------------------

5. Vá»‹ trÃ­ cÃ i Ä‘áº·t collection
--------------------------------------------------------------------
- Máº·c Ä‘á»‹nh cÃ i vÃ o:
  ~/.ansible/collections/

- Cáº¥u trÃºc sau khi cÃ i:
--------------------------------------------------------------------
~/.ansible/collections/ansible_collections/amazon/aws/
--------------------------------------------------------------------

--------------------------------------------------------------------

6. Kiá»ƒm tra collection Ä‘Ã£ cÃ i chÆ°a
--------------------------------------------------------------------
- Liá»‡t kÃª collection:
ansible-galaxy collection list

- Kiá»ƒm tra riÃªng amazon.aws:
ansible-galaxy collection list | grep amazon.aws

--------------------------------------------------------------------

7. Sá»­ dá»¥ng amazon.aws trong playbook
--------------------------------------------------------------------
VÃ­ dá»¥:
--------------------------------------------------------------------
- name: Create EC2 instance
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Launch EC2
      amazon.aws.ec2_instance:
        name: web01
        instance_type: t2.micro
        image_id: ami-123456
        region: ap-southeast-1
--------------------------------------------------------------------

--------------------------------------------------------------------

8. YÃªu cáº§u Ä‘á»ƒ dÃ¹ng collection amazon.aws
--------------------------------------------------------------------
- ÄÃ£ cÃ i:
  + python3
  + boto3
  + botocore
- CÃ³ AWS credentials:
  + AWS_ACCESS_KEY_ID
  + AWS_SECRET_ACCESS_KEY
  + AWS_DEFAULT_REGION
  hoáº·c IAM Role

--------------------------------------------------------------------

9. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) Collection not found
- Lá»—i máº¡ng hoáº·c Galaxy khÃ´ng truy cáº­p Ä‘Æ°á»£c

2) Module not found
- ChÆ°a khai bÃ¡o Ä‘Ãºng namespace amazon.aws.module_name

3) boto3 not installed
- CÃ i:
pip3 install boto3 botocore

--------------------------------------------------------------------

10. Khi nÃ o cáº§n dÃ¹ng lá»‡nh nÃ y?
--------------------------------------------------------------------
- Khi viáº¿t playbook lÃ m viá»‡c vá»›i AWS
- Khi Ansible bÃ¡o lá»—i:
  "The module amazon.aws.xxx was not found"
- Khi setup mÃ´i trÆ°á»ng Ansible má»›i

--------------------------------------------------------------------

11. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
ansible-galaxy collection install amazon.aws =
CÃ€I Äáº¶T COLLECTION CHÃNH THá»¨C Cá»¦A AWS Äá»‚ ANSIBLE CÃ“ THá»‚ QUáº¢N LÃ TÃ€I NGUYÃŠN AMAZON WEB SERVICES
		
		
		- cmd: ansible-galaxy collection install amazon.aws --force
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ansible-galaxy collection install amazon.aws --force
====================================================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    ansible-galaxy collection install amazon.aws --force

ÄÆ°á»£c sá»­ dá»¥ng trong **Ansible** Ä‘á»ƒ:
- CÃ i Ä‘áº·t **Ansible Collection** cÃ³ tÃªn `amazon.aws`
- Cung cáº¥p cÃ¡c module, plugin, inventory liÃªn quan Ä‘áº¿n **AWS**
- Ghi Ä‘Ã¨ (cÃ i láº¡i) collection ngay cáº£ khi Ä‘Ã£ tá»“n táº¡i
- ThÆ°á»ng dÃ¹ng khi lÃ m automation, provisioning tÃ i nguyÃªn AWS

Má»¥c Ä‘Ã­ch:
â†’ Äáº£m báº£o collection `amazon.aws` luÃ´n Ä‘Æ°á»£c cÃ i Ä‘áº·t Ä‘Ãºng vÃ  má»›i


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

2.1. ansible-galaxy
-------------------
- CÃ´ng cá»¥ CLI cá»§a Ansible dÃ¹ng Ä‘á»ƒ:
  + Quáº£n lÃ½ role
  + Quáº£n lÃ½ collection
- Káº¿t ná»‘i tá»›i **Ansible Galaxy** (repo chÃ­nh thá»©c)

2.2. collection
---------------
- Chá»‰ Ä‘á»‹nh thao tÃ¡c vá»›i **collection**
- Collection lÃ  táº­p há»£p:
  + Module
  + Plugin
  + Role
  + Inventory
- ÄÃ³ng gÃ³i theo namespace

2.3. install
-------------
- HÃ nh Ä‘á»™ng cÃ i Ä‘áº·t collection

2.4. amazon.aws
---------------
- TÃªn collection theo chuáº©n:
    namespace.collection
- `amazon`   : namespace
- `aws`      : collection
- Chá»©a cÃ¡c module nhÆ°:
  + ec2_instance
  + ec2_asg
  + elb_target
  + iam_role
  + rds_instance
  + s3_bucket
- DÃ¹ng Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c AWS API

2.5. --force
------------
- Báº¯t buá»™c cÃ i Ä‘áº·t láº¡i
- Ghi Ä‘Ã¨ version hiá»‡n táº¡i
- DÃ¹ng khi:
  + Collection lá»—i
  + Thiáº¿u file
  + Cáº§n Ä‘á»“ng bá»™ version
  + NÃ¢ng cáº¥p / háº¡ cáº¥p


3. CÃCH HOáº T Äá»˜NG
-----------------
Khi cháº¡y lá»‡nh:
1. ansible-galaxy káº¿t ná»‘i tá»›i Ansible Galaxy
2. Kiá»ƒm tra collection `amazon.aws`
3. Náº¿u Ä‘Ã£ tá»“n táº¡i:
   - XÃ³a / ghi Ä‘Ã¨ báº£n cÅ© (do --force)
4. Táº£i collection vá» mÃ¡y control node
5. Giáº£i nÃ©n vÃ  cÃ i vÃ o thÆ° má»¥c collections
6. Ansible cÃ³ thá»ƒ sá»­ dá»¥ng module AWS


4. Vá»Š TRÃ CÃ€I Äáº¶T
-----------------
Máº·c Ä‘á»‹nh:
    ~/.ansible/collections/ansible_collections/amazon/aws/

Hoáº·c:
    /usr/share/ansible/collections/ansible_collections/amazon/aws/

Kiá»ƒm tra:
    ansible-galaxy collection list


5. YÃŠU Cáº¦U
-----------
- Ansible >= 2.9
- Python cÃ³ boto3 vÃ  botocore
- Káº¿t ná»‘i internet
- Credential AWS há»£p lá»‡ khi cháº¡y module


6. LIÃŠN QUAN Äáº¾N AWS
--------------------
Äá»ƒ dÃ¹ng Ä‘Æ°á»£c module `amazon.aws`, cáº§n:
- AWS_ACCESS_KEY_ID
- AWS_SECRET_ACCESS_KEY
- AWS_DEFAULT_REGION
Hoáº·c:
- IAM Role (EC2)

VÃ­ dá»¥ dÃ¹ng module:
```yaml
- name: Create EC2
  amazon.aws.ec2_instance:
    name: web01
    instance_type: t2.micro
    image_id: ami-0abcdef
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	- Google search:
	
		ansible installing
		
		ansible inventory
		
		ansible to ad hoc command
		
		ansible playbooks
		
		using ansible modules and plugins
		
		mysql ansible modules
		
		ansible configuration file
		
		ansible variables
		
		ansible when condition
		
		ansible loops
		
		ansible files module
		
		ntp server in oregon
		
		ansible handler
		
		ansible roles
		
		ntp servers in india
		
		ansible galaxy
		
		ansible amazon aws
		
		ansible modules
		
	- Code trong file vprofile/excercise1/inventory:
	
		Case 1:
		
			all:
			  hosts:
				web01:
				  ansible_host: 172.31.31.108
				  ansible_user: ec2-user
				  ansible_ssh_private_key_file: clientkey.pem
				web02:
				  ansible_host: 172.31.16.152
				  ansible_user: ec2-user
				  ansible_ssh_private_key_file: clientkey.pem
				db01:
				  ansible_host: 172.31.20.155
				  ansible_user: ec2-user
				  ansible_ssh_private_key_file: clientkey.pem

			  children:
			    webservers:
				  hosts:
				    web01:
				    web02:
			    dbservers:
				  hosts:
				    db01:
			    dc_oregon:
				  children:
				    webservers:
				    dbservers:
					
		Case 2:
		
			all:
			  hosts:
				web01:
				  ansible_host: 172.31.31.108
				web02:
				  ansible_host: 172.31.16.152
				db01:
				  ansible_host: 172.31.20.155

			  children:
				webservers:
				  hosts:
					web01:
					web02:
				dbservers:
				  hosts:
					db01:
				dc_oregon:
				  children:
					webservers:
					dbservers:
				  vars:
					ansible_user: ec2-user
					ansible_ssh_private_key_file: clientkey.pem




	- Ná»™i dung trong file clientkey.pem:

		Case 1:
		
			Chá»©a private key cá»§a web01
		
			-----BEGIN RSA PRIVATE KEY-----
			MIIEogIBAAKCAQEAreGWVicfl8jhOLqPUerGay/AThriECzXc8UcLLam4riCz05+
			TzZP+NeoX6dC83ZX4ssyLazcGj5OMCg2EhFqVZTuDABYsr+ucT/sdXPCP0bjf+mq
			SYT6iHpftoRfm1vk3Um61/HmSzp1vZ6YhE//x1GwWT5+4aOufGS4bCa5xPluEg+E
			IhaEZNRyNfgvc/ylblWVCM1KGkZgdhvenFUQDj8+icCWrvbFvykwW0L8D2WB+zFq
			iSDx1cKLL1zzVCQVgKfKofC3PPm+VMbwOL8HPw65g/OBnzWKrrSjrpWu5s4KKSM+
			3BXW5nRieoPI34ruAwwpYrJKUlR7t6/rBo6QgQIDAQABAoIBACLWvzN11UupMQ8X
			uh2Up7rUL3i2xDKveV+1z6ZZ1mg4xeTZek9Ot4lJVHAN6Ek1nfhP9DbYmqUbdLkL
			ZYILQT3ygBuheiQeacpBH5SM5A+fmXeIjtj6LuRneIPuU+Wh7OI1op0f15+dD/g1
			LaPdD4eVI3tOHUgCbrR3zcfFnpULfGl0+QdkZ7141FmMiAL+8tTjzfWbMYwbPWu2
			ZSIDWx7SZ/wycGDKBejmgJQHFyEn9Cwvexlt+Zh4IK/kTIXXe9XM0ZbVMF8am5D6
			BhSdD7JOB7OVWSghIZFNegtTdPS/+LI7wJj2y3O5KP2QJUGfSvjKMpdpBffoLwV0
			15soOu0CgYEA04abNpRYQbkd21R3F2sN5td2UTE5M31iaxnZXQrGyGCQUdIawb5n
			XNIvIVoH6dV3qFOrx9lmYQOV3B5kQNWPyfOI6q/tWXpsVV9WeUjXhki3TinRDGYq
			FaNlnRh5IvCtwbGIZpnfay4j8UCw8KgnpAqiz45TBQ/YqUR0MCZiPecCgYEA0nDB
			yhsFau6cpNUgcSjeGTCQpCTCckvFusa671x6gjOXC8gxBVzpCcSXxUzXlLANhkmU
			CZFaUG/hwh0FKqAItg0yEhNz7mnYv5Y/w0o5zycqF2QYlB1L6ph/LHh8z82OgQBN
			D0MQEHgkNjejLkaLf080KKYxqZE0d/oWucOxYVcCgYB4gT77oReGmceApGYUWVDa
			KfWl270SsGPZUCic8P6+OQT/GAtWRPrtznA7N+c6N/qrUr+SYzAIJNrDRC0pIoGA
			M9XUndVCHJSLLn09K1pdjh+f0ALgZXOkUCobjU21shfLOTDUAuVdUjP3xTsIX0P2
			GHkYdaSmRZjRFcZ7h+KAEQKBgFjvgGbarpp3h0n+LHzGab65kJdeVbMaJNF/xWb9
			bWTzSqWXEGiU0IPpSr7+b6mOEdkr5V15yXJvJjj0LMfL5IKT5xJOmFMs9oZZiE8P
			YokSoy5Jhj2qd/gIRM7ViOIFnHEWYHrPu81KCPvE3bjj5XaDUabQPfLMxCDkV5Bg
			jOl3AoGAP8u9/AnJsH+7k83fnBQvPHPkoEQ1PtMyclUnWjGbM5BUDdUi0beN1Kme
			PqUDarWVNfwXh4WsTmrmlUe41dInmnmHwf+Cfsn8f02eMV5YnxlUEDfcaOjnJ9+h
			VNXeYgsaoGFp6LiIj70I1X1WkegOT85sfuHuV5tYAZVlF8yzbxI=
			-----END RSA PRIVATE KEY-----
		
	- Ná»™i dung cá»§a file ansible.cfg:

		Case 1:
		
			host_key_checking=False
			
	- Ná»™i dung cá»§a file web-db.yaml:
	
		Case 1:
		
			- name: Webserver setup
			  hosts: webservers
			  become: yes
			  tasks:
				- name: Install httpd
				  ansible.builtin.yum:
					name: httpd
					state: present

				- name: Start service
				  ansible.builtin.service:
					name: httpd
					state: started
					enabled: yes
			- name: DBserver setup
			  hosts: dbservers
			  become: yes
			  tasks:
				- name: Install mariadb-server
				  ansible.builtin.yum:
					name: mariadb-server
					state: present
					
		Case 2:
		
			- name: Webserver setup
			  hosts: webservers
			  become: yes
			  tasks:
				- name: Install httpd
				  ansible.builtin.yum:
					name: httpd
					state: present

				- name: Start service
				  ansible.builtin.service:
					name: httpd
					state: started
					enabled: yes
			- name: DBserver setup
			  hosts: dbservers
			  become: yes
			  tasks:
				- name: Install mariadb-server
				  ansible.builtin.yum:
					name: mariadb-server
					state: present

				- name: Start mariadb service
				  ansible.builtin.service:
					name: mariadb
					state: started
					enabled: yes
					
	- Ná»™i dung file db.yaml:
	
		Case 1:
		
			- name: DBserver setup
			  hosts: dbservers
			  become: yes
			  tasks:
				- name: Install mariadb-server
				  ansible.builtin.yum:
					name: mariadb-server
					state: present

				- name: Start mariadb service
				  ansible.builtin.service:
					name: mariadb
					state: started
					enabled: yes
				- name: Create a new database with name 'accounts'
				  mysql_db:
					name: accounts
					state: present

		Case 2:
		
			- name: DBserver setup
			  hosts: dbservers
			  become: yes
			  tasks:
				- name: Install mariadb-server
				  ansible.builtin.yum:
					name: mariadb-server
					state: present

				- name: Install pymysql
				  ansible.builtin.yum:
					name: python3-PyMySQL
					state: present

				- name: Start mariadb service
				  ansible.builtin.service:
					name: mariadb
					state: started
					enabled: yes
				- name: Create a new database with name 'accounts'
				  mysql_db:
					name: accounts
					state: present
					login_unix_socket: /var/lib/mysql/mysql.sock

		Case 3:
		
			- name: DBserver setup
			  hosts: dbservers
			  become: yes
			  tasks:
				- name: Install mariadb-server
				  ansible.builtin.yum:
					name: mariadb-server
					state: present

				- name: Install pymysql
				  ansible.builtin.yum:
					name: python3-PyMySQL
					state: present

				- name: Start mariadb service
				  ansible.builtin.service:
					name: mariadb
					state: started
					enabled: yes

				- name: Create a new database with name 'accounts'
				  community.mysql.mysql_db:
					name: accounts
					state: present
					login_unix_socket: /var/lib/mysql/mysql.sock

				- name: Create database user with name 'vprofile'
				  community.mysql.mysql_user:
					name: vprofile
					password: 'admin943'
					priv: '*.*:ALL'
					state: present
					login_unix_socket: /var/lib/mysql/mysql.sock
					
		Case 4:
		
			- name: DBserver setup
			  hosts: dbservers
			  become: yes
			  vars:
				dbname: electric
				dbuser: current
				dbpass: tesla
			  tasks:
				- name: Install mariadb-server
				  ansible.builtin.yum:
					name: mariadb-server
					state: present

				- name: Install pymysql
				  ansible.builtin.yum:
					name: python3-PyMySQL
					state: present

				- name: Start mariadb service
				  ansible.builtin.service:
					name: mariadb
					state: started
					enabled: yes

				- name: Create a new database with name 'accounts'
				  community.mysql.mysql_db:
					name: "{{dbname}}"
					state: present
					login_unix_socket: /var/lib/mysql/mysql.sock

				- name: Create database user with name 'vprofile'
				  community.mysql.mysql_user:
					name: "{{dbuser}}"
					password: "{{dbpass}}"
					priv: '*.*:ALL'
					state: present
					login_unix_socket: /var/lib/mysql/mysql.sock
					
		Case 5:
		
			- name: DBserver setup
			  hosts: dbservers
			  become: yes
			  vars:
				dbname: electric
				dbuser: current
				dbpass: tesla
			  tasks:
				- debug:
				    msg: " The dbname is {{dbname}}"

				- debug:
				    var: dbuser

				- name: Install mariadb-server
				  ansible.builtin.yum:
					name: mariadb-server
					state: present

				- name: Install pymysql
				  ansible.builtin.yum:
					name: python3-PyMySQL
					state: present

				- name: Start mariadb service
				  ansible.builtin.service:
					name: mariadb
					state: started
					enabled: yes

				- name: Create a new database with name 'accounts'
				  community.mysql.mysql_db:
					name: "{{dbname}}"
					state: present
					login_unix_socket: /var/lib/mysql/mysql.sock

				- name: Create database user with name 'vprofile'
				  community.mysql.mysql_user:
					name: "{{dbuser}}"
					password: "{{dbpass}}"
					priv: '*.*:ALL'
					state: present
					login_unix_socket: /var/lib/mysql/mysql.sock
					
		Case 6:
		
			- name: DBserver setup
			  hosts: dbservers
			  become: yes
			  vars:
				dbname: electric
				dbuser: current
				dbpass: tesla
			  tasks:
				- debug:
					msg: " The dbname is {{dbname}}"

				- debug:
					var: dbuser

				- name: Install mariadb-server
				  ansible.builtin.yum:
					name: mariadb-server
					state: present

				- name: Install pymysql
				  ansible.builtin.yum:
					name: python3-PyMySQL
					state: present

				- name: Start mariadb service
				  ansible.builtin.service:
					name: mariadb
					state: started
					enabled: yes

				- name: Create a new database with name 'accounts'
				  community.mysql.mysql_db:
					name: "{{dbname}}"
					state: present
					login_unix_socket: /var/lib/mysql/mysql.sock

				- name: Create database user with name 'vprofile'
				  community.mysql.mysql_user:
					name: "{{dbuser}}"
					password: "{{dbpass}}"
					priv: '*.*:ALL'
					state: present
					login_unix_socket: /var/lib/mysql/mysql.sock
				  register: dbout

				- name: print dbout variable
				  debug:
					var: dbout


					
	- Ná»™i dung file ansible.cfg:
	
		Case 1:
		
			[defaults]
			host_key_checking=False
			inventory = ./inventory
			forks = 5
			log_path = /var/log/ansible.log

			[privilege_escalation]
			become=True
			become_method=sudo
			become_ask_pass=False

	- Ná»™i dung gile vars_precedence.yaml:
	
		Case 1:
		
			- name: Understanding vars
			  hosts: all
			  become: yes
			  vars:
				USRNM: playuser
				COMM: variable from playbook
			  tasks:
				- name: create user
				  ansible.builtin.user:
					name: "{{USRNM}}"
					comment: "{{COMM}}"

		Case 2:
		
			- name: Understanding vars
			  hosts: all
			  become: yes
			  vars:
				USRNM: playuser
				COMM: variable from playbook
			  tasks:
				- name: create user
				  ansible.builtin.user:
					name: "{{USRNM}}"
					comment: "{{COMM}}"
				  register: usrout

				- debug:
					var: usrout

		Case 3:
		
			- name: Understanding vars
			  hosts: all
			  become: yes
			  vars:
					USRNM: playuser
					COMM: variable from playbook
			  tasks:
					- name: create user
					  ansible.builtin.user:
							name: "{{USRNM}}"
							comment: "{{COMM}}"
					  register: usrout

					- debug:
							var: usrout.name

					- debug:
						var: usrout.comment
						
		Case 4:
		
			- name: Understanding vars
			  hosts: all
			  become: yes
			  gather_facts: False
			  vars:
				USRNM: playuser
				COMM: variable from playbook
			  tasks:
					- name: create user
					  ansible.builtin.user:
							name: "{{USRNM}}"
							comment: "{{COMM}}"
					  register: usrout

					- debug:
							var: usrout.name

					- debug:
						var: usrout.comment

						
	- Ná»™i dung file group_vars/all:
	
		Case 1:
		
			group_vars/all:
			
				dbname: sky
				dbuser: pilot
				dbpass: aircraft
				
			db.yaml:
			
				- name: DBserver setup
				  hosts: dbservers
				  become: yes
					#vars:
					#dbname: electric
					#dbuser: current
					#dbpass: tesla
				  tasks:
					- debug:
						msg: " The dbname is {{dbname}}"

					- debug:
						var: dbuser

					- name: Install mariadb-server
					  ansible.builtin.yum:
						name: mariadb-server
						state: present

					- name: Install pymysql
					  ansible.builtin.yum:
						name: python3-PyMySQL
						state: present

					- name: Start mariadb service
					  ansible.builtin.service:
						name: mariadb
						state: started
						enabled: yes

					- name: Create a new database with name 'accounts'
					  community.mysql.mysql_db:
						name: "{{dbname}}"
						state: present
						login_unix_socket: /var/lib/mysql/mysql.sock

					- name: Create database user with name 'vprofile'
					  community.mysql.mysql_user:
						name: "{{dbuser}}"
						password: "{{dbpass}}"
						priv: '*.*:ALL'
						state: present
						login_unix_socket: /var/lib/mysql/mysql.sock
					  register: dbout

					- name: print dbout variable
					  debug:
						var: dbout

		Case 2:
		
			group_vars/all:
			
				USRNM: commonuser
				COMM: variable from groupvars_all file
				
			vars_precedence.yaml:
			
				- name: Understanding vars
				  hosts: all
				  become: yes
					#vars:
					#USRNM: playuser
					#COMM: variable from playbook
				  tasks:
						- name: create user
						  ansible.builtin.user:
								name: "{{USRNM}}"
								comment: "{{COMM}}"
						  register: usrout

						- debug:
								var: usrout.name

						- debug:
							var: usrout.comment
							
		Case 3:
		

			USRNM: commonuser
			COMM: variable from groupvars_all file
			ntp0: 0.north-america.pool.ntp.org
			ntp1: 1.north-america.pool.ntp.org
			ntp2: 2.north-america.pool.ntp.org
			ntp3: 3.north-america.pool.ntp.org


	
	- Ná»™i dung file group_vars/webservers:
	
		Case 1:
		
			group_vars/webservers:
			
				USRNM: webgroup
				COMM: variable from group_vars/webservers file

			vars_precedence.yaml:
			
				- name: Understanding vars
				  hosts: all
				  become: yes
					#vars:
					#USRNM: playuser
					#COMM: variable from playbook
				  tasks:
						- name: create user
						  ansible.builtin.user:
								name: "{{USRNM}}"
								comment: "{{COMM}}"
						  register: usrout

						- debug:
								var: usrout.name

						- debug:
							var: usrout.comment
							
	- Ná»™i dung file host_vars/web02:
	
		Case 1:
		
			host_vars/web02:
		
				USRNM: web02user
				COMM: variables from host_vars/web02 file
				
			vars_precedence.yaml:
			
				- name: Understanding vars
				  hosts: all
				  become: yes
					#vars:
					#USRNM: playuser
					#COMM: variable from playbook
				  tasks:
						- name: create user
						  ansible.builtin.user:
								name: "{{USRNM}}"
								comment: "{{COMM}}"
						  register: usrout

						- debug:
								var: usrout.name

						- debug:
							var: usrout.comment
		
	- Ná»™i dung file print_facts.yaml:
	
		Case 1:
		
			- name: Print facts
			  hosts: all
				#gather_facts: False
			  tasks:
				- name: Print OS name
				  debug:
					var: ansible_distribution
				- name: Print selinux mode
				  debug:
					var: ansible_selinux.mode
				- name: Print RAM memory
				  debug:
					var: ansible_memory_mb.real.free

				- name: Print Processor name
				  debug:
					var: ansible_processor[2]

	- Ná»™i dung file provisioning.yaml:
	
		Case 1:
		
			- name: Provisioning servers
			  hosts: all
			  become: yes
			  tasks:
				- name: Install ntp agent on centos
				  yum:
					name: chrony
					state: present
				  when: ansible_distribution == "CentOS"

				- name: Install ntp agent on Ubuntu
				  apt:
					name: ntp
					state: present
					update_cache: yes
				  when: ansible_distribution == "Ubuntu"

				- name: Start service on centos
				  service:
					name: chronyd
					state: started
					enabled: yes
				  when: ansible_distribution == "CentOS"

				- name: Start service on ubuntu
				  service:
					name: ntp
					state: started
					enabled: yes
					
		Case 2:
		
			- name: Provisioning servers
			  hosts: all
			  become: yes
			  tasks:
				- name: Install ntp agent on centos
				  yum:
					name: chrony
					state: present
				  when: ansible_distribution == "CentOS"
				  loop:
					- chrony
					- wget
					- git
					- zip
					- unzip

				- name: Install ntp agent on Ubuntu
				  apt:
					name: ntp
					state: present
					update_cache: yes
				  when: ansible_distribution == "Ubuntu"
				  loop:
					- ntp
					- wget
					- git
					- zip
					- unzip


				- name: Start service on centos
				  service:
					name: chronyd
					state: started
					enabled: yes
				  when: ansible_distribution == "CentOS"

				- name: Start service on ubuntu
				  service:
					name: ntp
					state: started
					enabled: yes
				  when: ansible_distribution == "Ubuntu"

				- name: Banner file
				  copy:
					content: '# This server is managed by ansible. No manual changes please.'
					dest: /etc/motd
					
		Case 3:
		
			- name: Provisioning servers
			  hosts: all
			  become: yes
			  tasks:
				- name: Install ntp agent on centos
				  yum:
					name: chrony
					state: present
				  when: ansible_distribution == "CentOS"
				  loop:
					- chrony
					- wget
					- git
					- zip
					- unzip

				- name: Install ntp agent on Ubuntu
				  apt:
					name: ntp
					state: present
					update_cache: yes
				  when: ansible_distribution == "Ubuntu"
				  loop:
					- ntp
					- wget
					- git
					- zip
					- unzip


				- name: Start service on centos
				  service:
					name: chronyd
					state: started
					enabled: yes
				  when: ansible_distribution == "CentOS"

				- name: Start service on ubuntu
				  service:
					name: ntp
					state: started
					enabled: yes
				  when: ansible_distribution == "Ubuntu"

				- name: Banner file
				  copy:
					content: '# This server is managed by ansible. No manual changes please.'
					dest: /etc/motd


				- name: Deploy ntp agent conf on centos
				  template:
					src: templates/ntpconf_centos
					dest: /etc/chrony.conf
					backup: yes
				  when: ansible_distribution == "CentOS"

				- name: Deploy ntp agent conf on ubuntu
				  template:
					src: templates/ntpconf_ubuntu
					dest: /etc/ntpsec/ntp.conf
					backup: yes
				  when: ansible_distribution == "Ubuntu"

				- name: reStart service on centos
				  service:
					name: chronyd
					state: restarted
					enabled: yes
				  when: ansible_distribution == "CentOS"

				- name: reStart service on ubuntu
				  service:
					name: ntp
					state: restarted
					enabled: yes
				  when: ansible_distribution == "Ubuntu"

				- name: Create a folder
				  file:
					path: /opt/test21
					state: directory
					
		Case 4:
		
			- name: Provisioning servers
			  hosts: all
			  become: yes
			  tasks:
				- name: Install ntp agent on centos
				  yum:
					name: chrony
					state: present
				  when: ansible_distribution == "CentOS"
				  loop:
					- chrony
					- wget
					- git
					- zip
					- unzip

				- name: Install ntp agent on Ubuntu
				  apt:
					name: ntp
					state: present
					update_cache: yes
				  when: ansible_distribution == "Ubuntu"
				  loop:
					- ntp
					- wget
					- git
					- zip
					- unzip


				- name: Start service on centos
				  service:
					name: chronyd
					state: started
					enabled: yes
				  when: ansible_distribution == "CentOS"

				- name: Start service on ubuntu
				  service:
					name: ntp
					state: started
					enabled: yes
				  when: ansible_distribution == "Ubuntu"

				- name: Banner file
				  copy:
					content: '# This server is managed by ansible. No manual changes please.'
					dest: /etc/motd

				- name: Create a folder
				  file:
					path: /opt/test21
					state: directory

				- name: Deploy ntp agent conf on centos
				  template:
					src: templates/ntpconf_centos
					dest: /etc/chrony.conf
					backup: yes
				  when: ansible_distribution == "CentOS"
				  notify:
					- reStart service on centos

				- name: Deploy ntp agent conf on ubuntu
				  template:
					src: templates/ntpconf_ubuntu
					dest: /etc/ntpsec/ntp.conf
					backup: yes
				  when: ansible_distribution == "Ubuntu"
				  notify:
					- reStart service on ubuntu

			  handlers:
				- name: reStart service on centos
				  service:
					name: chronyd
					state: restarted
					enabled: yes
				  when: ansible_distribution == "CentOS"

				- name: reStart service on ubuntu
				  service:
					name: ntp
					state: restarted
					enabled: yes
				  when: ansible_distribution == "Ubuntu"

		Case 5:
		
			- name: Provisioning servers
			  hosts: all
			  become: yes
			  vars:
				mydir: /opt/dir22
			  tasks:
				- name: Install ntp agent on centos
				  yum:
					name: "{{item}}"
					state: present
				  when: ansible_distribution == "CentOS"
				  loop:
					- chrony
					- wget
					- git
					- zip
					- unzip

				- name: Install ntp agent on Ubuntu
				  apt:
					name: "{{item}}"
					state: present
					update_cache: yes
				  when: ansible_distribution == "Ubuntu"
				  loop:
					- ntp
					- wget
					- git
					- zip
					- unzip


				- name: Start service on centos
				  service:
					name: chronyd
					state: started
					enabled: yes
				  when: ansible_distribution == "CentOS"

				- name: Start service on ubuntu
				  service:
					name: ntp
					state: started
					enabled: yes
				  when: ansible_distribution == "Ubuntu"

				- name: Banner file
				  copy:
					content: '# This server is managed by ansible. No manual changes please.'
					dest: /etc/motd

				- name: Create a folder
				  file:
					path: "{{mydir}}"
					state: directory

				- name: Deploy ntp agent conf on centos
				  template:
					src: templates/ntpconf_centos
					dest: /etc/chrony.conf
					backup: yes
				  when: ansible_distribution == "CentOS"
				  notify:
					- reStart service on centos

				- name: Deploy ntp agent conf on ubuntu
				  template:
					src: templates/ntpconf_ubuntu
					dest: /etc/ntpsec/ntp.conf
					backup: yes
				  when: ansible_distribution == "Ubuntu"
				  notify:
					- reStart service on ubuntu

				- name: Dump file
				  copy:
					files: files/myfile.txt
					dest: /tmp/myfile.txt

			  handlers:
				- name: reStart service on centos
				  service:
					name: chronyd
					state: restarted
					enabled: yes
				  when: ansible_distribution == "CentOS"

				- name: reStart service on ubuntu
				  service:
					name: ntp
					state: restarted
					enabled: yes
				  when: ansible_distribution == "Ubuntu"
				  
		Case 6:
		
			- name: Provisioning servers
			  hosts: all
			  become: yes
			  roles:
				- post-install
				
		Case 7:
		
			- name: Provisioning servers
			  hosts: all
			  become: yes
			  roles:
				- role: post-install
				  vars:
					ntp0: 0.in.pool.ntp.org
					ntp1: 1.in.pool.ntp.org
					ntp2: 2.in.pool.ntp.org
					ntp3: 3.in.pool.ntp.org

		Case 8:
		
			- name: Provisioning servers
			  hosts: all
			  become: yes
			  roles:
				- geerlingguy.java
				- role: post-install
				  vars:
					ntp0: 0.in.pool.ntp.org
					ntp1: 1.in.pool.ntp.org
					ntp2: 2.in.pool.ntp.org
					ntp3: 3.in.pool.ntp.org




	- Code file templates/ntpconf_centos:
	
		Case 1:
		
			pool "{{ntp0}}" iburst
			pool "{{ntp1}}" iburst
			pool "{{ntp2}}" iburst
			pool "{{ntp3}}" iburst
			
	- Code file templates/ntpconf_ubuntu:
	
		Case 1:
		
			pool "{{ntp0}}" iburst
			pool "{{ntp1}}" iburst
			pool "{{ntp2}}" iburst
			pool "{{ntp3}}" iburst

	- Code file roles/post-install/tasks/main.yml:
	
		Case 1:
		
			#SPDX-License-Identifier: MIT-0
			---
			# tasks file for post-install
			- name: Install ntp agent on centos
			  yum:
				name: "{{item}}"
				state: present
			  when: ansible_distribution == "CentOS"
			  loop:
				- chrony
				- wget
				- git
				- zip
				- unzip

			- name: Install ntp agent on Ubuntu
			  apt:
				name: "{{item}}"
				state: present
				update_cache: yes
			  when: ansible_distribution == "Ubuntu"
			  loop:
				- ntp
				- wget
				- git
				- zip
				- unzip


			- name: Start service on centos
			  service:
				name: chronyd
				state: started
				enabled: yes
			  when: ansible_distribution == "CentOS"

			- name: Start service on ubuntu
			  service:
				name: ntp
				state: started
				enabled: yes
			  when: ansible_distribution == "Ubuntu"

			- name: Banner file
			  copy:
				content: '# This server is managed by ansible. No manual changes please.'
				dest: /etc/motd

			- name: Create a folder
			  file:
				path: "{{mydir}}"
				state: directory

			- name: Deploy ntp agent conf on centos
			  template:
				src: ntpconf_centos.j2
				dest: /etc/chrony.conf
				backup: yes
			  when: ansible_distribution == "CentOS"
			  notify:
				- reStart service on centos

			- name: Deploy ntp agent conf on ubuntu
			  template:
				src: ntpconf_ubuntu.j2
				dest: /etc/ntpsec/ntp.conf
				backup: yes
			  when: ansible_distribution == "Ubuntu"
			  notify:
				- reStart service on ubuntu

			- name: Dump file
			  copy:
				src: myfile.txt
				dest: /tmp/myfile.txt

	- Code file roles/post-install/handlers/main.yml:
	
		Case 1:
		
			#SPDX-License-Identifier: MIT-0
			---
			# handlers file for post-install
			- name: reStart service on centos
			  service:
				name: chronyd
				state: restarted
				enabled: yes
			  when: ansible_distribution == "CentOS"

			- name: reStart service on ubuntu
			  service:
				name: ntp
				state: restarted
				enabled: yes
			  when: ansible_distribution == "Ubuntu"

	- Code file roles/post-install/vars/main.yml:
	
		Case 1:
		
			#SPDX-License-Identifier: MIT-0
			---
			# vars file for post-install
			USRNM: commonuser
			COMM: variable from groupvars_all file
			ntp0: 0.north-america.pool.ntp.org
			ntp1: 1.north-america.pool.ntp.org
			ntp2: 2.north-america.pool.ntp.org
			ntp3: 3.north-america.pool.ntp.org
			mydir: /opt/dir22

	- Code file roles/post-install/defaults/main.yml:
	
		Case 1:
		
			#SPDX-License-Identifier: MIT-0
			---
			# defaults file for post-install
			USRNM: commonuser
			COMM: variable from groupvars_all file
			ntp0: 0.north-america.pool.ntp.org
			ntp1: 1.north-america.pool.ntp.org
			ntp2: 2.north-america.pool.ntp.org
			ntp3: 3.north-america.pool.ntp.org
			mydir: /opt/dir22

	- Code file .bashrc:
	
		Case 1:
		
			if ! shopt -oq posix; then
			  if [ -f /usr/share/bash-completion/bash_completion ]; then
				. /usr/share/bash-completion/bash_completion
			  elif [ -f /etc/bash_completion ]; then
				. /etc/bash_completion
			  fi
			fi

			export AWS_ACCESS_KEY_ID='AK123'
			export AWS_SECRET_ACCESS_KEY='abc123'
			
	- Code file test-aws.yml:
	
		Case 1:
		
			- hosts: localhost
			  gather_facts: False
			  tasks:
				- name: Create key pair
				  ec2_key:
					name: sample
					
		Case 2:
		
			- hosts: localhost
			  gather_facts: False
			  tasks:
				- name: Create key pair
				  ec2_key:
					name: sample
					region: us-east-1
				  register: keyout

				- name: print key
				  debug:
					var: keyout
					
		Case 3:
		
			- hosts: localhost
			  gather_facts: False
			  tasks:
				- name: Create key pair
				  ec2_key:
					name: sample
					region: us-east-1
				  register: keyout

				- name: print key
				  debug:
					var: keyout

				- name: save key
				  copy:
					content: "{{keyout.key.private_key}}"
					dest: ./sample.pem
				  when: keyout.changed

		Case 4:
		
			- hosts: localhost
			  gather_facts: False
			  tasks:
				- name: Create key pair
				  ec2_key:
					name: sample
					region: us-east-1
				  register: keyout

					#- name: print key
					#debug:
					#var: keyout

				- name: save key
				  copy:
					content: "{{keyout.key.private_key}}"
					dest: ./sample.pem
				  when: keyout.changed

		Case 5:
		
			- hosts: localhost
			  gather_facts: False
			  tasks:
				- name: Create key pair
				  ec2_key:
					name: sample
					region: us-west-2
				  register: keyout

					#- name: print key
					#debug:
					#var: keyout

				- name: save key
				  copy:
					content: "{{keyout.key.private_key}}"
					dest: ./sample.pem
				  when: keyout.changed

				- name: start an instance
				  amazon.aws.ec2_instance:
					name: "public-compute-instance"
					key_name: "sample"
					  #vpc_subnet_id: subnet-5ca1ab1e
					instance_type: t3.micro
					security_group: default
					  #network_interfaces:
					  #- assign_public_ip: true
					image_id: ami-0caa91d6b7bee0ed0
					exact_count: 1
					region: us-west-2
					tags:
					  Environment: Testing


--- AWS Part -2:

	- VPC -> Your VPCs -> Create VPC
	- VPC -> Subnets -> Create subnet
	- VPC -> Subnets -> instance -> Route table
	- VPC -> Internet gateways -> Create internet gateway
	- VPC -> Internet gateways -> instance -> Actions -> Attach to VPC
	- VPC -> Route tables -> instance -> Routes
	- VPC -> Route tables -> instance -> Subnet associations -> Edit subnet associations
	- VPC -> Route tables -> instance -> Create route table
	- VPC -> Elastic IPs -> Allocate Elastic IP address
	- VPC -> NAT gateways -> Create NAT gateway
	- VPC -> Peering connections -> Create peering connection
	- VPC -> Peering connections -> Actions -> Accept request
	- IAM -> Roles -> Create role
	- EC2 -> Instances -> instance -> Actions -> Security -> Modify IAM role
	- CloudWatch -> Logs -> Log groups -> Log streams
	- CloudWatch -> Logs -> Metric filters -> Create metric filter
	
	
	
	- Google search:
	
		Terraform AWS VPC
		
		Terraform registry
		
		access logs loadbalancer
	
	- Commands:
	
		- cmd: scp -i vpro-bastion-key.pem web-key.pem ubuntu@54.177.221.62:/home/ubuntu/
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
scp -i vpro-bastion-key.pem web-key.pem ubuntu@54.177.221.62:/home/ubuntu/
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ sao chÃ©p file `web-key.pem` tá»« mÃ¡y local
lÃªn má»™t server remote thÃ´ng qua giao thá»©c SSH (SCP).

- SCP (Secure Copy) mÃ£ hÃ³a dá»¯ liá»‡u trong quÃ¡ trÃ¬nh truyá»n
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ copy key, file cáº¥u hÃ¬nh, artifact
- XÃ¡c thá»±c SSH báº±ng private key

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. scp
--------------------------------------------------
- Lá»‡nh Secure Copy
- Dá»±a trÃªn giao thá»©c SSH
- DÃ¹ng Ä‘á»ƒ copy file giá»¯a:
  + local â†’ remote
  + remote â†’ local
  + remote â†’ remote

--------------------------------------------------
2.2. -i vpro-bastion-key.pem
--------------------------------------------------
- Chá»‰ Ä‘á»‹nh SSH private key dÃ¹ng Ä‘á»ƒ xÃ¡c thá»±c
- File `vpro-bastion-key.pem`:
  + Pháº£i cÃ³ quyá»n 600
  + DÃ¹ng Ä‘á»ƒ Ä‘Äƒng nháº­p server Ä‘Ã­ch

--------------------------------------------------
2.3. web-key.pem
--------------------------------------------------
- File nguá»“n (source file)
- Náº±m trÃªn mÃ¡y local
- ThÆ°á»ng lÃ  private key cho server khÃ¡c (web server)

--------------------------------------------------
2.4. ubuntu@
--------------------------------------------------
- User Ä‘Äƒng nháº­p trÃªn server remote
- `ubuntu` lÃ  user máº·c Ä‘á»‹nh trÃªn Ubuntu Server (EC2)

--------------------------------------------------
2.5. 54.177.221.62
--------------------------------------------------
- Äá»‹a chá»‰ IP public cá»§a server Ä‘Ã­ch
- Server pháº£i:
  + Cho phÃ©p SSH (port 22)
  + Security Group má»Ÿ port SSH

--------------------------------------------------
2.6. :/home/ubuntu/
--------------------------------------------------
- ÄÆ°á»ng dáº«n Ä‘Ã­ch trÃªn server remote
- File sáº½ Ä‘Æ°á»£c copy vÃ o thÆ° má»¥c home cá»§a user ubuntu

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. scp khá»Ÿi táº¡o káº¿t ná»‘i SSH tá»›i 54.177.221.62
2. XÃ¡c thá»±c báº±ng private key `vpro-bastion-key.pem`
3. Kiá»ƒm tra quyá»n truy cáº­p user ubuntu
4. Truyá»n file `web-key.pem` qua kÃªnh mÃ£ hÃ³a
5. LÆ°u file vÃ o /home/ubuntu/
6. Káº¿t thÃºc káº¿t ná»‘i

--------------------------------------------------
4. KIá»‚M TRA SAU KHI COPY
--------------------------------------------------
- SSH vÃ o server:
--------------------------------------------------
ssh -i vpro-bastion-key.pem ubuntu@54.177.221.62

- Kiá»ƒm tra file:
--------------------------------------------------
ls -l /home/ubuntu/web-key.pem

--------------------------------------------------
5. LÆ¯U Ã QUAN TRá»ŒNG (Báº¢O Máº¬T)
--------------------------------------------------
- File .pem lÃ  private key â†’ KHÃ”NG public
- Sau khi copy, nÃªn giá»›i háº¡n quyá»n:
--------------------------------------------------
chmod 600 /home/ubuntu/web-key.pem

- KhÃ´ng commit file key vÃ o Git
- NÃªn dÃ¹ng bastion host Ä‘á»ƒ trung chuyá»ƒn key

--------------------------------------------------
6. CÃC BIáº¾N THá»‚ THÆ¯á»œNG Gáº¶P
--------------------------------------------------
- Copy thÆ° má»¥c:
--------------------------------------------------
scp -r -i key.pem folder ubuntu@IP:/path/

- Copy tá»« remote vá» local:
--------------------------------------------------
scp -i key.pem ubuntu@IP:/home/ubuntu/file .

--------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------
- Permission denied (publickey):
  + Sai key
  + Sai user
  + Key khÃ´ng Ä‘Ãºng quyá»n

- No such file or directory:
  + Sai Ä‘Æ°á»ng dáº«n local hoáº·c remote

--------------------------------------------------
8. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Chuyá»ƒn SSH key qua bastion host
- Copy file cáº¥u hÃ¬nh, script, artifact
- Phá»¥c vá»¥ DevOps, cloud, AWS EC2

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
scp -i vpro-bastion-key.pem web-key.pem ubuntu@54.177.221.62:/home/ubuntu/
= Copy file web-key.pem tá»« local lÃªn server
= XÃ¡c thá»±c báº±ng SSH key
= Truyá»n dá»¯ liá»‡u an toÃ n qua SSH
==================================================
		
		
		- cmd: chmod 400 web-key.pem
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
chmod 400 web-key.pem

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh `chmod 400 web-key.pem` dÃ¹ng Ä‘á»ƒ:
- Thay Ä‘á»•i quyá»n truy cáº­p (permission) cá»§a file web-key.pem
- Chá»‰ cho phÃ©p CHá»¦ Sá» Há»®U (owner) Ä‘Æ°á»£c Ä‘á»c file
- KhÃ´ng cho phÃ©p ghi (write) hoáº·c thá»±c thi (execute)
- ThÆ°á»ng dÃ¹ng cho file private key SSH / key cloud (AWS, GCP, Azure)

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. chmod
--------------------------------------------------
chmod = change mode
- Lá»‡nh dÃ¹ng Ä‘á»ƒ thay Ä‘á»•i permission cá»§a file/thÆ° má»¥c
- Ãp dá»¥ng cho owner, group, others

--------------------------------------------------
2.2. 400
--------------------------------------------------
400 lÃ  dáº¡ng sá»‘ (octal), gá»“m 3 chá»¯ sá»‘:

- Chá»¯ sá»‘ 1: quyá»n cá»§a OWNER
- Chá»¯ sá»‘ 2: quyá»n cá»§a GROUP
- Chá»¯ sá»‘ 3: quyá»n cá»§a OTHERS

PhÃ¢n tÃ­ch chi tiáº¿t:
- 4 = read (r)
- 2 = write (w)
- 1 = execute (x)

=> 400 nghÄ©a lÃ :
- Owner: 4 (r--)
- Group: 0 (---)
- Others: 0 (---)

--------------------------------------------------
3. QUYá»€N SAU KHI ÃP Dá»¤NG
--------------------------------------------------
Káº¿t quáº£ permission sáº½ lÃ :

r--------  (owner chá»‰ Ä‘Æ°á»£c Ä‘á»c)

Kiá»ƒm tra báº±ng:
ls -l web-key.pem

VÃ­ dá»¥ output:
-r-------- 1 ubuntu ubuntu 1679 Dec 17 11:20 web-key.pem

--------------------------------------------------
4. Táº I SAO Cáº¦N chmod 400 CHO FILE KEY
--------------------------------------------------
- SSH vÃ  cloud provider yÃªu cáº§u:
  + File private key khÃ´ng Ä‘Æ°á»£c cho group/others truy cáº­p
- Náº¿u permission quÃ¡ rá»™ng sáº½ gáº·p lá»—i:

WARNING: UNPROTECTED PRIVATE KEY FILE!

- chmod 400 lÃ  má»©c an toÃ n nháº¥t:
  + Chá»‰ Ä‘á»c
  + KhÃ´ng sá»­a
  + KhÃ´ng bá»‹ lá»™ key

--------------------------------------------------
5. SO SÃNH Vá»šI CÃC Má»¨C KHÃC
--------------------------------------------------
- chmod 600:
  Owner Ä‘á»c + ghi (rw-------)
- chmod 400:
  Owner chá»‰ Ä‘á»c (r--------)

=> 400 báº£o máº­t cao hÆ¡n 600

--------------------------------------------------
6. TÃŒNH HUá»NG THá»°C Táº¾
--------------------------------------------------
- Káº¿t ná»‘i SSH:
ssh -i web-key.pem ubuntu@server-ip

- DÃ¹ng trong:
  + AWS EC2
  + Ansible
  + Terraform
  + Jenkins

--------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

7.1. Operation not permitted
--------------------------------------------------
- KhÃ´ng pháº£i owner cá»§a file
Giáº£i phÃ¡p:
sudo chown user:user web-key.pem

7.2. SSH váº«n bÃ¡o lá»—i permission
--------------------------------------------------
- ThÆ° má»¥c chá»©a key quÃ¡ má»Ÿ
Giáº£i phÃ¡p:
chmod 700 ~/.ssh

--------------------------------------------------
8. Cáº¢NH BÃO Báº¢O Máº¬T
--------------------------------------------------
- KhÃ´ng chmod 777 cho file key
- KhÃ´ng commit file .pem lÃªn Git
- KhÃ´ng chia sáº» file key qua kÃªnh khÃ´ng an toÃ n
- Backup key á»Ÿ nÆ¡i báº£o máº­t

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
chmod 400 web-key.pem

= Owner chá»‰ Ä‘Æ°á»£c Ä‘á»c file
= Group & Others khÃ´ng cÃ³ quyá»n
= Báº¯t buá»™c cho SSH private key
= Äáº£m báº£o báº£o máº­t cao nháº¥t
		
		
		- cmd: yum install httpd wget unzip -y
		
Lá»†NH: yum install httpd wget unzip -y
====================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **cÃ i Ä‘áº·t Ä‘á»“ng thá»i 3 gÃ³i pháº§n má»m** trÃªn cÃ¡c há»‡ Ä‘iá»u hÃ nh Linux sá»­ dá»¥ng `yum`
(vÃ­ dá»¥: CentOS, RHEL, Amazon Linux).

CÃ¡c gÃ³i Ä‘Æ°á»£c cÃ i:
- httpd : Web server Apache
- wget  : CÃ´ng cá»¥ táº£i file tá»« Internet qua HTTP/HTTPS/FTP
- unzip : CÃ´ng cá»¥ giáº£i nÃ©n file .zip

ThÆ°á»ng dÃ¹ng khi:
- Chuáº©n bá»‹ server web
- Triá»ƒn khai á»©ng dá»¥ng
- CÃ i Ä‘áº·t mÃ´i trÆ°á»ng cho DevOps / Automation


2. Cáº¤U TRÃšC Lá»†NH
----------------
yum install [package1] [package2] ... -y

Giáº£i thÃ­ch chi tiáº¿t:
- `yum`       : TrÃ¬nh quáº£n lÃ½ gÃ³i (package manager)
- `install`   : HÃ nh Ä‘á»™ng cÃ i Ä‘áº·t package
- `httpd`     : Apache HTTP Server
- `wget`      : Tool táº£i file tá»« Internet
- `unzip`     : Tool giáº£i nÃ©n file ZIP
- `-y`        : Tá»± Ä‘á»™ng tráº£ lá»i "yes" cho má»i cÃ¢u há»i xÃ¡c nháº­n


3. CHI TIáº¾T Tá»ªNG PACKAGE
------------------------
1. httpd
---------
- LÃ  Apache Web Server
- Cháº¡y service web trÃªn cá»•ng 80 (HTTP)
- ThÆ° má»¥c web máº·c Ä‘á»‹nh:
  /var/www/html
- File cáº¥u hÃ¬nh chÃ­nh:
  /etc/httpd/conf/httpd.conf

2. wget
-------
- DÃ¹ng Ä‘á»ƒ download file tá»« URL
- Há»— trá»£ HTTP, HTTPS, FTP
- ThÆ°á»ng dÃ¹ng trong script vÃ  automation

VÃ­ dá»¥:
wget https://example.com/file.zip

3. unzip
--------
- DÃ¹ng Ä‘á»ƒ giáº£i nÃ©n file .zip
- Phá»• biáº¿n khi deploy source code hoáº·c á»©ng dá»¥ng web

VÃ­ dá»¥:
unzip app.zip


4. HOáº T Äá»˜NG Cá»¦A Lá»†NH
---------------------
1. yum kiá»ƒm tra repository Ä‘Æ°á»£c cáº¥u hÃ¬nh trÃªn há»‡ thá»‘ng
2. TÃ¬m cÃ¡c package: httpd, wget, unzip
3. Kiá»ƒm tra dependency (gÃ³i phá»¥ thuá»™c)
4. Táº£i package tá»« repository
5. CÃ i Ä‘áº·t package vÃ  dependency
6. KhÃ´ng há»i xÃ¡c nháº­n do cÃ³ `-y`


5. VÃ Dá»¤ THá»°C Táº¾
-----------------
1. CÃ i Ä‘áº·t cÃ¡c gÃ³i:
		
		
		- cmd: wget https://www.tooplate.com/zip-templates/2136_kool_form_pack.zip
		
Lá»†NH: wget https://www.tooplate.com/zip-templates/2136_kool_form_pack.zip
====================================================================

1. wget lÃ  gÃ¬?
--------------------------------------------------------------------
- wget lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh dÃ¹ng Ä‘á»ƒ táº£i file tá»« Internet
- Há»— trá»£ cÃ¡c giao thá»©c:
  + HTTP
  + HTTPS
  + FTP
- ThÆ°á»ng dÃ¹ng trÃªn Linux/Unix server vÃ¬:
  + KhÃ´ng cáº§n giao diá»‡n Ä‘á»“ há»a
  + Hoáº¡t Ä‘á»™ng tá»‘t qua SSH
  + CÃ³ thá»ƒ resume download

--------------------------------------------------------------------

2. URL trong lá»‡nh lÃ  gÃ¬?
--------------------------------------------------------------------
https://www.tooplate.com/zip-templates/2136_kool_form_pack.zip

- https://        â†’ giao thá»©c báº£o máº­t HTTPS
- www.tooplate.com â†’ website cung cáº¥p template HTML miá»…n phÃ­
- /zip-templates/ â†’ thÆ° má»¥c chá»©a file nÃ©n
- 2136_kool_form_pack.zip â†’ file ZIP cáº§n táº£i

â†’ ÄÃ¢y lÃ  má»™t file ZIP chá»©a template giao diá»‡n web (HTML/CSS/JS)

--------------------------------------------------------------------

3. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
wget https://www.tooplate.com/zip-templates/2136_kool_form_pack.zip

â†’ Káº¿t ná»‘i tá»›i website tooplate.com  
â†’ Táº£i file ZIP template vá» mÃ¡y hiá»‡n táº¡i  
â†’ LÆ°u file vá»›i Ä‘Ãºng tÃªn gá»‘c:  
  2136_kool_form_pack.zip  

KHÃ”NG:
- KhÃ´ng giáº£i nÃ©n file
- KhÃ´ng cÃ i Ä‘áº·t pháº§n má»m
- Chá»‰ táº£i file vá» thÆ° má»¥c hiá»‡n táº¡i

--------------------------------------------------------------------

4. File sáº½ Ä‘Æ°á»£c lÆ°u á»Ÿ Ä‘Ã¢u?
--------------------------------------------------------------------
- File Ä‘Æ°á»£c lÆ°u táº¡i:
  ThÆ° má»¥c hiá»‡n táº¡i (current working directory)
- Kiá»ƒm tra báº±ng:
ls

--------------------------------------------------------------------

5. Quy trÃ¬nh thá»±c thi cá»§a wget
--------------------------------------------------------------------
1) wget gá»­i request HTTPS tá»›i server
2) Server pháº£n há»“i vÃ  báº¯t Ä‘áº§u truyá»n dá»¯ liá»‡u
3) wget hiá»ƒn thá»‹ tiáº¿n trÃ¬nh download:
   + % hoÃ n thÃ nh
   + Tá»‘c Ä‘á»™ táº£i
   + Dung lÆ°á»£ng file
4) Táº£i xong â†’ lÆ°u file vÃ o disk

--------------------------------------------------------------------

6. Output thÆ°á»ng tháº¥y
--------------------------------------------------------------------
--2025-xx-xx--  https://www.tooplate.com/zip-templates/2136_kool_form_pack.zip
Resolving www.tooplate.com...
Connecting to www.tooplate.com...
HTTP request sent, awaiting response... 200 OK
Length: xxxx (xxK) [application/zip]
Saving to: â€˜2136_kool_form_pack.zipâ€™

2136_kool_form_pack.zip   100%[==================>]   xxK

--------------------------------------------------------------------

7. CÃ¡c tÃ¹y chá»n wget thÆ°á»ng dÃ¹ng
--------------------------------------------------------------------
- -O <tÃªn_file> â†’ lÆ°u vá»›i tÃªn khÃ¡c
  wget URL -O template.zip

- -P <thÆ°_má»¥c> â†’ lÆ°u vÃ o thÆ° má»¥c chá»‰ Ä‘á»‹nh
  wget URL -P /var/www/html

- -c â†’ resume download náº¿u bá»‹ ngáº¯t
  wget -c URL

--------------------------------------------------------------------

8. Giáº£i nÃ©n file sau khi táº£i (thÆ°á»ng dÃ¹ng)
--------------------------------------------------------------------
- Giáº£i nÃ©n:
unzip 2136_kool_form_pack.zip

- CÃ i unzip náº¿u chÆ°a cÃ³:
sudo apt install unzip
hoáº·c
sudo yum install unzip

--------------------------------------------------------------------

9. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) wget: command not found
- wget chÆ°a Ä‘Æ°á»£c cÃ i
- CÃ i báº±ng:
sudo apt install wget
hoáº·c
sudo yum install wget

2) 404 Not Found
- URL sai hoáº·c file bá»‹ xÃ³a

3) Permission denied
- KhÃ´ng cÃ³ quyá»n ghi thÆ° má»¥c hiá»‡n táº¡i

--------------------------------------------------------------------

10. Khi nÃ o dÃ¹ng lá»‡nh nÃ y?
--------------------------------------------------------------------
- Táº£i template web Ä‘á»ƒ deploy website
- Táº£i resource phá»¥c vá»¥ demo / lab
- Táº£i file trá»±c tiáº¿p trÃªn server khÃ´ng cÃ³ GUI

--------------------------------------------------------------------

11. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
wget https://www.tooplate.com/zip-templates/2136_kool_form_pack.zip =
Táº¢I FILE ZIP TEMPLATE WEB Tá»ª INTERNET Vá»€ THÆ¯ Má»¤C HIá»†N Táº I Báº°NG CÃ”NG Cá»¤ wget
		
		
		- cmd: tail -f access_log
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
tail -f access_log
==========================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    tail -f access_log

ÄÆ°á»£c sá»­ dá»¥ng trÃªn Linux/Unix Ä‘á»ƒ:
- Theo dÃµi **log theo thá»i gian thá»±c (real-time)**
- Hiá»ƒn thá»‹ cÃ¡c dÃ²ng má»›i Ä‘Æ°á»£c ghi thÃªm vÃ o file log
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ giÃ¡m sÃ¡t truy cáº­p web, request, lá»—i runtime
- Ráº¥t phá»• biáº¿n khi debug há»‡ thá»‘ng Ä‘ang cháº¡y

Má»¥c Ä‘Ã­ch:
â†’ Xem ngay láº­p tá»©c cÃ¡c sá»± kiá»‡n má»›i xuáº¥t hiá»‡n trong file `access_log`


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

2.1. tail
---------
- Lá»‡nh dÃ¹ng Ä‘á»ƒ:
  + Hiá»ƒn thá»‹ **pháº§n cuá»‘i cá»§a file**
  + Máº·c Ä‘á»‹nh hiá»ƒn thá»‹ 10 dÃ²ng cuá»‘i
- ThÆ°á»ng dÃ¹ng cho:
  + Log file
  + File cáº­p nháº­t liÃªn tá»¥c

2.2. -f
-------
- Viáº¿t táº¯t cá»§a **follow**
- YÃªu cáº§u `tail`:
  + KhÃ´ng thoÃ¡t sau khi in ná»™i dung
  + Tiáº¿p tá»¥c theo dÃµi file
  + In ra cÃ¡c dÃ²ng má»›i khi file Ä‘Æ°á»£c ghi thÃªm

- `tail -f` sáº½:
  + Chá» (block)
  + Hiá»ƒn thá»‹ log má»›i ngay khi xuáº¥t hiá»‡n

2.3. access_log
---------------
- TÃªn file log cáº§n theo dÃµi
- ThÆ°á»ng lÃ :
  + Log truy cáº­p web (Apache, Nginx)
- CÃ³ thá»ƒ lÃ  Ä‘Æ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i hoáº·c tuyá»‡t Ä‘á»‘i

VÃ­ dá»¥:
    /var/log/nginx/access.log
    /var/log/httpd/access_log


3. CÃCH HOáº T Äá»˜NG
-----------------
Khi cháº¡y lá»‡nh:
1. `tail` Ä‘á»c 10 dÃ²ng cuá»‘i cá»§a `access_log`
2. In ra mÃ n hÃ¬nh
3. Giá»¯ tiáº¿n trÃ¬nh cháº¡y
4. Theo dÃµi file
5. Má»—i khi cÃ³ dÃ²ng má»›i Ä‘Æ°á»£c ghi â†’ in ngay ra terminal
6. Tiáº¿p tá»¥c cho Ä‘áº¿n khi ngÆ°á»i dÃ¹ng dá»«ng lá»‡nh


4. CÃCH Dá»ªNG Lá»†NH
-----------------
- Nháº¥n:
    Ctrl + C
- `tail` sáº½ dá»«ng theo dÃµi vÃ  thoÃ¡t


5. TÃ™Y CHá»ŒN HAY DÃ™NG
--------------------

5.1. Xem nhiá»u hÆ¡n 10 dÃ²ng ban Ä‘áº§u
----------------------------------
    tail -n 50 -f access_log
â†’ Hiá»ƒn thá»‹ 50 dÃ²ng cuá»‘i rá»“i follow

5.2. Theo dÃµi nhiá»u file
------------------------
    tail -f access_log error_log

5.3. Theo dÃµi file Ä‘Æ°á»£c rotate
-------------------------------
    tail -F access_log

- `-F`:
  + Tá»± Ä‘á»™ng má»Ÿ láº¡i file khi log rotate
  + PhÃ¹ há»£p cho log há»‡ thá»‘ng


6. TRÆ¯á»œNG Há»¢P Sá»¬ Dá»¤NG THá»°C Táº¾
-----------------------------
- Debug website:
    tail -f /var/log/nginx/access.log
- GiÃ¡m sÃ¡t request:
    tail -f /var/log/httpd/access_log
- Theo dÃµi API:
    tail -f app.log
- Kiá»ƒm tra traffic realtime


7. YÃŠU Cáº¦U / QUYá»€N Háº N
----------------------
- User pháº£i cÃ³ quyá»n Ä‘á»c file
- Náº¿u khÃ´ng:
    sudo tail -f access_log
- File pháº£i tá»“n táº¡i


8. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------
8.1. No such file or directory
- NguyÃªn nhÃ¢n:
  + Sai tÃªn file
  + Sai Ä‘Æ°á»ng dáº«n
- CÃ¡ch xá»­ lÃ½:
    ls
    ls /var/log/

8.2. Permission denied
- NguyÃªn nhÃ¢n: thiáº¿u quyá»n Ä‘á»c
- CÃ¡ch xá»­ lÃ½:
    sudo tail -f access_log


9. SO SÃNH Vá»šI Lá»†NH KHÃC
------------------------
- tail -f:
  + Nháº¹
  + ÄÆ¡n giáº£n
  + Real-time

- less +F:
  + CÃ³ thá»ƒ scroll lÃªn
  + Nháº¥n Ctrl+C Ä‘á»ƒ dá»«ng follow
  + Nháº¥n F Ä‘á»ƒ follow láº¡i

    less +F access_log


10. TÃ“M Táº®T
-----------
- tail -f access_log
  + Xem 10 dÃ²ng cuá»‘i vÃ  theo dÃµi log realtime
  + DÃ¹ng Ä‘á»ƒ debug vÃ  giÃ¡m sÃ¡t há»‡ thá»‘ng
  + Phá»• biáº¿n trong váº­n hÃ nh server


Káº¾T LUáº¬N
--------
ÄÃ¢y lÃ  lá»‡nh **cÆ¡ báº£n nhÆ°ng cá»±c ká»³ quan trá»ng** trong quáº£n trá»‹ há»‡ thá»‘ng Linux,
giÃºp theo dÃµi log vÃ  xá»­ lÃ½ sá»± cá»‘ ngay khi chÃºng xáº£y ra.
		
		
		- cmd: tar czvf wave-web01-httpdlogs19122020.tar.gz *
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
tar czvf wave-web01-httpdlogs19122020.tar.gz *
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ nÃ©n toÃ n bá»™ file vÃ  thÆ° má»¥c trong thÆ° má»¥c
hiá»‡n táº¡i (*) thÃ nh má»™t file nÃ©n Ä‘á»‹nh dáº¡ng .tar.gz.

- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ:
  + Backup log
  + ÄÃ³ng gÃ³i dá»¯ liá»‡u
  + LÆ°u trá»¯ hoáº·c truyá»n file
- File táº¡o ra cÃ³ tÃªn:
  wave-web01-httpdlogs19122020.tar.gz

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. tar
--------------------------------------------------
- CÃ´ng cá»¥ Ä‘Ã³ng gÃ³i (archive) chuáº©n trÃªn Linux/Unix
- CÃ³ thá»ƒ:
  + Gom nhiá»u file thÃ nh 1 file
  + NÃ©n hoáº·c giáº£i nÃ©n

--------------------------------------------------
2.2. c
--------------------------------------------------
- create
- Táº¡o file archive má»›i

--------------------------------------------------
2.3. z
--------------------------------------------------
- gzip
- NÃ©n archive báº±ng gzip (.gz)

--------------------------------------------------
2.4. v
--------------------------------------------------
- verbose
- Hiá»ƒn thá»‹ danh sÃ¡ch file Ä‘ang Ä‘Æ°á»£c xá»­ lÃ½

--------------------------------------------------
2.5. f
--------------------------------------------------
- file
- Chá»‰ Ä‘á»‹nh tÃªn file output
- Ngay sau `f` lÃ  tÃªn file archive

--------------------------------------------------
2.6. wave-web01-httpdlogs19122020.tar.gz
--------------------------------------------------
- TÃªn file nÃ©n Ä‘Æ°á»£c táº¡o ra
- Quy Æ°á»›c Ä‘áº·t tÃªn:
  + wave-web01        : tÃªn há»‡ thá»‘ng/server
  + httpdlogs         : loáº¡i dá»¯ liá»‡u (log Apache)
  + 19122020          : ngÃ y táº¡o (19/12/2020)
  + .tar.gz           : Ä‘á»‹nh dáº¡ng nÃ©n

--------------------------------------------------
2.7. *
--------------------------------------------------
- KÃ½ tá»± wildcard
- Äáº¡i diá»‡n cho Táº¤T Cáº¢ file vÃ  thÆ° má»¥c
  trong thÆ° má»¥c hiá»‡n táº¡i
- KHÃ”NG bao gá»“m file áº©n (báº¯t Ä‘áº§u báº±ng .)

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. Shell má»Ÿ rá»™ng kÃ½ tá»± `*` thÃ nh danh sÃ¡ch file/thÆ° má»¥c
2. tar gom toÃ n bá»™ file vÃ o archive
3. gzip nÃ©n archive
4. Hiá»ƒn thá»‹ tÃªn file Ä‘ang nÃ©n (do -v)
5. Táº¡o file .tar.gz hoÃ n chá»‰nh

--------------------------------------------------
4. KIá»‚M TRA FILE SAU KHI Táº O
--------------------------------------------------
- Kiá»ƒm tra file tá»“n táº¡i:
--------------------------------------------------
ls -lh wave-web01-httpdlogs19122020.tar.gz

- Xem ná»™i dung archive (khÃ´ng giáº£i nÃ©n):
--------------------------------------------------
tar tzvf wave-web01-httpdlogs19122020.tar.gz

--------------------------------------------------
5. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- File áº©n (.*) KHÃ”NG Ä‘Æ°á»£c nÃ©n khi dÃ¹ng `*`
  â†’ dÃ¹ng `.` náº¿u muá»‘n nÃ©n táº¥t cáº£:
--------------------------------------------------
tar czvf file.tar.gz .

- KhÃ´ng nÃªn táº¡o file nÃ©n trong cÃ¹ng thÆ° má»¥c
  Ä‘ang nÃ©n (trÃ¡nh tá»± nÃ©n chÃ­nh nÃ³)

- File log lá»›n â†’ cáº§n dung lÆ°á»£ng trá»‘ng

--------------------------------------------------
6. CÃC BIáº¾N THá»‚ THÆ¯á»œNG Gáº¶P
--------------------------------------------------
- Giáº£i nÃ©n:
--------------------------------------------------
tar xzvf file.tar.gz

- NÃ©n thÆ° má»¥c cá»¥ thá»ƒ:
--------------------------------------------------
tar czvf logs.tar.gz /var/log/httpd

--------------------------------------------------
7. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Backup log Apache (httpd)
- Chuyá»ƒn log giá»¯a server
- LÆ°u trá»¯ dá»¯ liá»‡u lá»‹ch sá»­

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
tar czvf wave-web01-httpdlogs19122020.tar.gz *
= NÃ©n toÃ n bá»™ file/thÆ° má»¥c hiá»‡n táº¡i
= Äá»‹nh dáº¡ng .tar.gz (gzip)
= Hiá»ƒn thá»‹ tiáº¿n trÃ¬nh
= ThÆ°á»ng dÃ¹ng cho backup/log
==================================================
		
		
		- cmd: cat /dev/null > access_log error_log
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
cat /dev/null > access_log error_log

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y thÆ°á»ng Ä‘Æ°á»£c dÃ¹ng vá»›i má»¥c Ä‘Ã­ch:
- XÃ“A Ná»˜I DUNG (lÃ m rá»—ng) file log
- Giá»¯ nguyÃªn file nhÆ°ng dung lÆ°á»£ng = 0
- Hay dÃ¹ng cho access_log, error_log cá»§a web server (Apache/Nginx)

--------------------------------------------------
2. GIáº¢I THÃCH QUAN TRá»ŒNG (Cáº¦N LÆ¯U Ã)
--------------------------------------------------
â— Lá»‡nh:
cat /dev/null > access_log error_log

KHÃ”NG PHáº¢I lÃ  cÃº phÃ¡p chuáº©n Ä‘á»ƒ xÃ³a ná»™i dung NHIá»€U file.

CÃº phÃ¡p Ä‘Ãºng vÃ  thÆ°á»ng dÃ¹ng lÃ :
cat /dev/null > access_log
cat /dev/null > error_log

HOáº¶C:
: > access_log
: > error_log

HOáº¶C:
truncate -s 0 access_log error_log

--------------------------------------------------
3. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

3.1. cat
--------------------------------------------------
- Lá»‡nh dÃ¹ng Ä‘á»ƒ Ä‘á»c vÃ  in ná»™i dung file ra stdout
- CÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ ghÃ©p ná»™i dung file

--------------------------------------------------
3.2. /dev/null
--------------------------------------------------
- File Ä‘áº·c biá»‡t trong Linux
- ÄÆ°á»£c gá»i lÃ  "black hole"
- Má»i dá»¯ liá»‡u ghi vÃ o Ä‘Ã¢y sáº½ bá»‹ xÃ³a ngay láº­p tá»©c
- Äá»c tá»« /dev/null â†’ khÃ´ng cÃ³ dá»¯ liá»‡u (EOF)

--------------------------------------------------
3.3. Dáº¥u >
--------------------------------------------------
- ToÃ¡n tá»­ redirect (chuyá»ƒn hÆ°á»›ng output)
- Ghi output cá»§a lá»‡nh bÃªn trÃ¡i vÃ o file bÃªn pháº£i
- Náº¿u file tá»“n táº¡i â†’ XÃ“A ná»™i dung cÅ©
- Náº¿u file chÆ°a tá»“n táº¡i â†’ Táº O file má»›i

--------------------------------------------------
3.4. access_log error_log
--------------------------------------------------
- ÄÃ¢y lÃ  HAI tham sá»‘ file
- NhÆ°ng dáº¥u > chá»‰ redirect vÃ o FILE Äáº¦U TIÃŠN
- access_log sáº½ Ä‘Æ°á»£c ghi (lÃ m rá»—ng)
- error_log bá»‹ cat hiá»ƒu lÃ  tham sá»‘ thá»«a â†’ gÃ¢y lá»—i

--------------------------------------------------
4. Káº¾T QUáº¢ THá»°C Táº¾ KHI CHáº Y Lá»†NH
--------------------------------------------------
Khi cháº¡y:

cat /dev/null > access_log error_log

Káº¿t quáº£:
- access_log: bá»‹ xÃ³a toÃ n bá»™ ná»™i dung
- error_log: cat sáº½ bÃ¡o lá»—i

VÃ­ dá»¥ lá»—i:
cat: error_log: No such file or directory
HOáº¶C
cat: error_log: Is a directory

--------------------------------------------------
5. CÃCH ÄÃšNG Äá»‚ XÃ“A Ná»˜I DUNG LOG
--------------------------------------------------

5.1. CÃ¡ch phá»• biáº¿n, an toÃ n
--------------------------------------------------
cat /dev/null > access_log
cat /dev/null > error_log

--------------------------------------------------
5.2. CÃ¡ch nhanh gá»n nháº¥t
--------------------------------------------------
: > access_log
: > error_log

(: lÃ  built-in command, khÃ´ng lÃ m gÃ¬, chá»‰ redirect)

--------------------------------------------------
5.3. DÃ¹ng truncate (khuyáº¿n nghá»‹)
--------------------------------------------------
truncate -s 0 access_log error_log

- XÃ³a ná»™i dung nhiá»u file cÃ¹ng lÃºc
- An toÃ n, rÃµ rÃ ng

--------------------------------------------------
6. Táº I SAO KHÃ”NG DÃ™NG rm
--------------------------------------------------
- rm xÃ³a luÃ´n file
- Web server Ä‘ang cháº¡y cÃ³ thá»ƒ:
  + Máº¥t file descriptor
  + KhÃ´ng ghi log Ä‘Æ°á»£c ná»¯a
- Truncate giá»¯ file tá»“n táº¡i â†’ an toÃ n hÆ¡n

--------------------------------------------------
7. TÃŒNH HUá»NG THá»°C Táº¾
--------------------------------------------------
- Reset log khi log quÃ¡ lá»›n
- Debug log má»›i tá»« Ä‘áº§u
- Dá»n log táº¡m thá»i trÃªn production

--------------------------------------------------
8. Cáº¢NH BÃO QUAN TRá»ŒNG
--------------------------------------------------
- KHÃ”NG cháº¡y nháº§m trÃªn file quan trá»ng
- NÃªn kiá»ƒm tra file trÆ°á»›c:
ls -lh access_log error_log
- NÃªn backup log trÆ°á»›c khi xÃ³a

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
cat /dev/null > access_log error_log

= Ã Ä‘á»‹nh: xÃ³a ná»™i dung log
= Thá»±c táº¿: chá»‰ xÃ³a access_log, error_log bá»‹ lá»—i
= KhÃ´ng pháº£i cÃº phÃ¡p Ä‘Ãºng cho nhiá»u file
= NÃªn dÃ¹ng truncate -s 0
= ThÆ°á»ng dÃ¹ng cho web server log
		
		
		- cmd: ls -ltr /tmp/logs-wave/
		
Lá»†NH: ls -ltr /tmp/logs-wave/
=============================

1. Má»¤C ÄÃCH
----------
Lá»‡nh `ls -ltr /tmp/logs-wave/` dÃ¹ng Ä‘á»ƒ **liá»‡t kÃª danh sÃ¡ch cÃ¡c file vÃ  thÆ° má»¥c** bÃªn trong thÆ° má»¥c `/tmp/logs-wave/`,  
Ä‘á»“ng thá»i **sáº¯p xáº¿p theo thá»i gian chá»‰nh sá»­a**, tá»« **cÅ© nháº¥t Ä‘áº¿n má»›i nháº¥t**.

Má»¥c Ä‘Ã­ch thÆ°á»ng dÃ¹ng:
- Kiá»ƒm tra cÃ¡c file log trong thÆ° má»¥c
- Xem file nÃ o Ä‘Æ°á»£c táº¡o hoáº·c cáº­p nháº­t gáº§n Ä‘Ã¢y
- Theo dÃµi thá»© tá»± phÃ¡t sinh log theo thá»i gian


2. Cáº¤U TRÃšC Lá»†NH
----------------
ls -ltr /tmp/logs-wave/

Giáº£i thÃ­ch tá»«ng thÃ nh pháº§n:
- `ls`                 : Lá»‡nh liá»‡t kÃª file vÃ  thÆ° má»¥c
- `-l` (long format)   : Hiá»ƒn thá»‹ chi tiáº¿t (quyá»n, owner, group, size, thá»i gian)
- `-t` (time sort)     : Sáº¯p xáº¿p theo thá»i gian chá»‰nh sá»­a (mtime)
- `-r` (reverse)       : Äáº£o ngÆ°á»£c thá»© tá»± sáº¯p xáº¿p
- `/tmp/logs-wave/`    : ThÆ° má»¥c cáº§n kiá»ƒm tra


3. Ã NGHÄ¨A CÃC Cá»˜T TRONG Káº¾T QUáº¢
--------------------------------
VÃ­ dá»¥ output:
		
		
		- cmd: yum install awscli -y
		
Lá»†NH: yum install awscli -y
====================================================================

1. yum lÃ  gÃ¬?
--------------------------------------------------------------------
- yum = Yellowdog Updater Modified
- TrÃ¬nh quáº£n lÃ½ package trÃªn cÃ¡c há»‡ Ä‘iá»u hÃ nh Red Hat-based:
  + CentOS
  + RHEL
  + Amazon Linux (v1/v2)
- DÃ¹ng Ä‘á»ƒ:
  + CÃ i Ä‘áº·t
  + Cáº­p nháº­t
  + Gá»¡ bá» pháº§n má»m
- Tá»± Ä‘á»™ng xá»­ lÃ½ dependency

--------------------------------------------------------------------

2. install nghÄ©a lÃ  gÃ¬?
--------------------------------------------------------------------
- install = cÃ i Ä‘áº·t package vÃ o há»‡ thá»‘ng
- yum sáº½:
  + TÃ¬m package trong repository
  + Táº£i package
  + CÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh

--------------------------------------------------------------------

3. awscli lÃ  gÃ¬?
--------------------------------------------------------------------
- awscli lÃ  AWS Command Line Interface
- CÃ´ng cá»¥ dÃ²ng lá»‡nh chÃ­nh thá»©c cá»§a Amazon Web Services
- DÃ¹ng Ä‘á»ƒ:
  + Quáº£n lÃ½ tÃ i nguyÃªn AWS (EC2, S3, IAM, RDSâ€¦)
  + Thá»±c thi lá»‡nh AWS trá»±c tiáº¿p tá»« terminal
- ThÆ°á»ng lÃ  AWS CLI v1 khi cÃ i qua yum

--------------------------------------------------------------------

4. -y lÃ  gÃ¬?
--------------------------------------------------------------------
- -y = yes
- Tá»± Ä‘á»™ng tráº£ lá»i "yes" cho táº¥t cáº£ cÃ¢u há»i xÃ¡c nháº­n
- GiÃºp cÃ i Ä‘áº·t khÃ´ng bá»‹ dá»«ng giá»¯a chá»«ng
- PhÃ¹ há»£p cho script vÃ  automation

--------------------------------------------------------------------

5. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
yum install awscli -y

â†’ CÃ i Ä‘áº·t AWS CLI lÃªn há»‡ thá»‘ng Linux  
â†’ Tá»± Ä‘á»™ng cháº¥p nháº­n xÃ¡c nháº­n cÃ i Ä‘áº·t  
â†’ Cho phÃ©p sá»­ dá»¥ng lá»‡nh aws trong terminal  

KHÃ”NG:
- KhÃ´ng cáº¥u hÃ¬nh AWS credentials
- KhÃ´ng káº¿t ná»‘i AWS ngay láº­p tá»©c
- Chá»‰ cÃ i cÃ´ng cá»¥ awscli

--------------------------------------------------------------------

6. Quy trÃ¬nh thá»±c thi
--------------------------------------------------------------------
1) yum kiá»ƒm tra repository Ä‘Ã£ cáº¥u hÃ¬nh
2) TÃ¬m package awscli
3) Giáº£i quyáº¿t dependency (python, lib cáº§n thiáº¿t)
4) Táº£i package vá»
5) CÃ i Ä‘áº·t vÃ o há»‡ thá»‘ng (/usr/bin/aws)
6) HoÃ n táº¥t cÃ i Ä‘áº·t

--------------------------------------------------------------------

7. Kiá»ƒm tra sau khi cÃ i
--------------------------------------------------------------------
- Kiá»ƒm tra phiÃªn báº£n:
aws --version

- Kiá»ƒm tra vá»‹ trÃ­ binary:
which aws

--------------------------------------------------------------------

8. Cáº¥u hÃ¬nh AWS CLI sau khi cÃ i
--------------------------------------------------------------------
- CÃ¡ch phá»• biáº¿n:
aws configure

- Hoáº·c dÃ¹ng biáº¿n mÃ´i trÆ°á»ng:
export AWS_ACCESS_KEY_ID=...
export AWS_SECRET_ACCESS_KEY=...
export AWS_DEFAULT_REGION=...

--------------------------------------------------------------------

9. CÃ¡c lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) No package awscli available
- Repository chÆ°a cÃ³ awscli
- Cáº§n enable EPEL hoáº·c repo phÃ¹ há»£p

2) Permission denied
- Thiáº¿u quyá»n root
- Cáº§n cháº¡y vá»›i sudo

3) aws: command not found
- PATH chÆ°a cáº­p nháº­t hoáº·c cÃ i Ä‘áº·t tháº¥t báº¡i

--------------------------------------------------------------------

10. LÆ°u Ã½ quan trá»ng
--------------------------------------------------------------------
- awscli cÃ i qua yum thÆ°á»ng lÃ  AWS CLI v1
- AWS khuyáº¿n nghá»‹ dÃ¹ng AWS CLI v2 cho mÃ´i trÆ°á»ng má»›i
- Vá»›i production, nÃªn cÃ¢n nháº¯c cÃ i AWS CLI v2

--------------------------------------------------------------------

11. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
yum install awscli -y =
CÃ€I Äáº¶T AWS COMMAND LINE INTERFACE TRÃŠN Há»† ÄIá»€U HÃ€NH RED HAT-BASED Má»˜T CÃCH Tá»° Äá»˜NG
		
		
		- cmd: aws s3 ls
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
aws s3 ls
========================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    aws s3 ls

ÄÆ°á»£c sá»­ dá»¥ng trong **AWS CLI** Ä‘á»ƒ:
- Liá»‡t kÃª (list) cÃ¡c **S3 bucket** trong tÃ i khoáº£n AWS
- Kiá»ƒm tra nhanh quyá»n truy cáº­p AWS
- XÃ¡c nháº­n cáº¥u hÃ¬nh AWS CLI Ä‘Ã£ Ä‘Ãºng hay chÆ°a
- ThÆ°á»ng lÃ  lá»‡nh Ä‘áº§u tiÃªn dÃ¹ng Ä‘á»ƒ test AWS credential

Má»¥c Ä‘Ã­ch:
â†’ Xem danh sÃ¡ch toÃ n bá»™ S3 bucket mÃ  credential hiá»‡n táº¡i cÃ³ quyá»n truy cáº­p


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

2.1. aws
--------
- Command chÃ­nh cá»§a **AWS CLI**
- LÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i AWS API
- YÃªu cáº§u:
  + AWS CLI Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t
  + Credential há»£p lá»‡

2.2. s3
-------
- Chá»‰ Ä‘á»‹nh service **Amazon S3 (Simple Storage Service)**
- AWS CLI cÃ³ 2 kiá»ƒu lá»‡nh S3:
  + aws s3     (high-level, dá»… dÃ¹ng)
  + aws s3api (low-level, chi tiáº¿t hÆ¡n)

2.3. ls
-------
- Viáº¿t táº¯t cá»§a **list**
- DÃ¹ng Ä‘á»ƒ liá»‡t kÃª:
  + Bucket
  + Hoáº·c object trong bucket (tÃ¹y cÃº phÃ¡p)


3. CÃCH HOáº T Äá»˜NG
-----------------
Khi cháº¡y lá»‡nh:
1. AWS CLI Ä‘á»c thÃ´ng tin xÃ¡c thá»±c tá»«:
   - Biáº¿n mÃ´i trÆ°á»ng
   - ~/.aws/credentials
   - IAM Role (náº¿u cháº¡y trÃªn EC2)
2. Gá»­i request tá»›i AWS S3 API
3. AWS kiá»ƒm tra quyá»n:
   - s3:ListAllMyBuckets
4. Tráº£ vá» danh sÃ¡ch bucket
5. AWS CLI hiá»ƒn thá»‹ káº¿t quáº£ ra terminal


4. Káº¾T QUáº¢ Äáº¦U RA (OUTPUT)
-------------------------
VÃ­ dá»¥ output:
    2024-01-10 10:30:45 my-bucket-logs
    2024-02-01 14:12:03 my-bucket-backup
    2024-03-05 09:00:21 static-website-bucket

Giáº£i thÃ­ch:
- Cá»™t 1: NgÃ y táº¡o bucket (YYYY-MM-DD)
- Cá»™t 2: Thá»i gian táº¡o (HH:MM:SS)
- Cá»™t 3: TÃªn bucket


5. PHáº M VI LIá»†T KÃŠ
------------------
- `aws s3 ls`
  â†’ Liá»‡t kÃª **toÃ n bá»™ bucket** trong tÃ i khoáº£n (global)
- KhÃ´ng phá»¥ thuá»™c region
- Bucket lÃ  tÃ i nguyÃªn global cá»§a S3


6. BIáº¾N THá»‚ THÆ¯á»œNG Gáº¶P
----------------------

6.1. Liá»‡t kÃª object trong bucket
--------------------------------
    aws s3 ls s3://my-bucket

6.2. Liá»‡t kÃª object trong thÆ° má»¥c (prefix)
------------------------------------------
    aws s3 ls s3://my-bucket/logs/

6.3. Liá»‡t kÃª chi tiáº¿t (recursive)
----------------------------------
    aws s3 ls s3://my-bucket --recursive


7. YÃŠU Cáº¦U
-----------
- AWS CLI Ä‘Ã£ cÃ i Ä‘áº·t
- Credential há»£p lá»‡:
  + AWS_ACCESS_KEY_ID
  + AWS_SECRET_ACCESS_KEY
  + (AWS_SESSION_TOKEN náº¿u dÃ¹ng temporary credential)
- IAM user/role cÃ³ quyá»n:
    s3:ListAllMyBuckets


8. LÆ¯U Ã QUAN TRá»ŒNG
------------------
- Náº¿u khÃ´ng cÃ³ quyá»n:
  â†’ Lá»‡nh sáº½ bÃ¡o lá»—i
- KhÃ´ng hiá»ƒn thá»‹ region cá»§a bucket
- KhÃ´ng hiá»ƒn thá»‹ policy hoáº·c ACL
- Chá»‰ dÃ¹ng Ä‘á»ƒ liá»‡t kÃª, khÃ´ng thay Ä‘á»•i dá»¯ liá»‡u


9. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------

9.1. Unable to locate credentials
---------------------------------
NguyÃªn nhÃ¢n:
- ChÆ°a cáº¥u hÃ¬nh AWS CLI
CÃ¡ch xá»­ lÃ½:
    aws configure
hoáº·c export biáº¿n mÃ´i trÆ°á»ng AWS

9.2. AccessDenied
-----------------
NguyÃªn nhÃ¢n:
- IAM user/role khÃ´ng cÃ³ quyá»n s3:ListAllMyBuckets
CÃ¡ch xá»­ lÃ½:
- GÃ¡n policy phÃ¹ há»£p

9.3. InvalidClientTokenId
-------------------------
NguyÃªn nhÃ¢n:
- Access key / Secret key sai hoáº·c háº¿t háº¡n
CÃ¡ch xá»­ lÃ½:
- Kiá»ƒm tra láº¡i credential


10. SO SÃNH aws s3 ls VÃ€ aws s3api list-buckets
------------------------------------------------
- aws s3 ls
  + Dá»… dÃ¹ng
  + Output gá»n
  + PhÃ¹ há»£p thao tÃ¡c nhanh

- aws s3api list-buckets
  + Chi tiáº¿t
  + Output dáº¡ng JSON
  + PhÃ¹ há»£p scripting nÃ¢ng cao


11. KIá»‚M TRA NHANH AWS CLI
--------------------------
`aws s3 ls` thÆ°á»ng Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ:
- Test credential
- Test IAM permission
- Test káº¿t ná»‘i AWS


12. TÃ“M Táº®T
-----------
- aws s3 ls
  + Liá»‡t kÃª táº¥t cáº£ S3 bucket trong tÃ i khoáº£n
  + KhÃ´ng thay Ä‘á»•i dá»¯ liá»‡u
  + Lá»‡nh kiá»ƒm tra AWS CLI phá»• biáº¿n nháº¥t


Káº¾T LUáº¬N
--------
ÄÃ¢y lÃ  lá»‡nh **cÆ¡ báº£n, an toÃ n vÃ  cá»±c ká»³ quan trá»ng** khi lÃ m viá»‡c vá»›i AWS,
giÃºp xÃ¡c minh nhanh quyá»n truy cáº­p vÃ  tráº¡ng thÃ¡i cáº¥u hÃ¬nh AWS CLI trÆ°á»›c khi thao tÃ¡c sÃ¢u hÆ¡n.
		
		
		- cmd: aws s3 sync /tmp/logs-wave/ s3://wave-web-logs-111222/
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
aws s3 sync /tmp/logs-wave/ s3://wave-web-logs-111222/
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng AWS CLI Ä‘á»ƒ Ä‘á»“ng bá»™ (sync) dá»¯ liá»‡u tá»«
thÆ° má»¥c local `/tmp/logs-wave/` lÃªn má»™t Amazon S3 bucket
cÃ³ tÃªn `wave-web-logs-111222`.

- Dá»¯ liá»‡u thÆ°á»ng lÃ  log, backup, artifact
- Chá»‰ copy nhá»¯ng file má»›i hoáº·c file Ä‘Ã£ thay Ä‘á»•i
- KhÃ´ng upload láº¡i file Ä‘Ã£ giá»‘ng nhau

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. aws
--------------------------------------------------
- Command Line Interface cá»§a Amazon Web Services
- Cho phÃ©p thao tÃ¡c vá»›i AWS services báº±ng dÃ²ng lá»‡nh
- YÃªu cáº§u:
  + AWS CLI Ä‘Ã£ cÃ i Ä‘áº·t
  + CÃ³ AWS credentials há»£p lá»‡

--------------------------------------------------
2.2. s3
--------------------------------------------------
- Chá»‰ Ä‘á»‹nh service Amazon S3
- S3 lÃ  dá»‹ch vá»¥ lÆ°u trá»¯ object cá»§a AWS

--------------------------------------------------
2.3. sync
--------------------------------------------------
- Lá»‡nh Ä‘á»“ng bá»™ dá»¯ liá»‡u
- So sÃ¡nh source vÃ  destination dá»±a trÃªn:
  + TÃªn file
  + KÃ­ch thÆ°á»›c
  + Thá»i gian sá»­a Ä‘á»•i
- Chá»‰ copy nhá»¯ng file:
  + ChÆ°a tá»“n táº¡i á»Ÿ Ä‘Ã­ch
  + Hoáº·c Ä‘Ã£ bá»‹ thay Ä‘á»•i

--------------------------------------------------
2.4. /tmp/logs-wave/
--------------------------------------------------
- ThÆ° má»¥c nguá»“n (source) trÃªn mÃ¡y local
- Dáº¥u `/` á»Ÿ cuá»‘i ráº¥t quan trá»ng:
  + Sync Ná»˜I DUNG bÃªn trong thÆ° má»¥c
  + KhÃ´ng táº¡o thÃªm thÆ° má»¥c `logs-wave` trÃªn S3

--------------------------------------------------
2.5. s3://wave-web-logs-111222/
--------------------------------------------------
- ÄÃ­ch Ä‘áº¿n (destination) trÃªn S3
- `wave-web-logs-111222` lÃ  tÃªn bucket
- Dá»¯ liá»‡u sáº½ Ä‘Æ°á»£c upload vÃ o root cá»§a bucket

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. AWS CLI Ä‘á»c thÃ´ng tin credentials
2. Kiá»ƒm tra quyá»n truy cáº­p bucket S3
3. QuÃ©t toÃ n bá»™ file trong /tmp/logs-wave/
4. So sÃ¡nh vá»›i object Ä‘ang cÃ³ trong bucket
5. Upload cÃ¡c file má»›i hoáº·c Ä‘Ã£ thay Ä‘á»•i
6. Bá» qua file khÃ´ng Ä‘á»•i
7. Hiá»ƒn thá»‹ log upload trÃªn terminal

--------------------------------------------------
4. Káº¾T QUáº¢ Äáº¦U RA MáºªU
--------------------------------------------------
upload: ./access.log to s3://wave-web-logs-111222/access.log
upload: ./error.log  to s3://wave-web-logs-111222/error.log

--------------------------------------------------
5. KIá»‚M TRA SAU KHI SYNC
--------------------------------------------------
- Kiá»ƒm tra ná»™i dung bucket:
--------------------------------------------------
aws s3 ls s3://wave-web-logs-111222/

- Kiá»ƒm tra file cá»¥ thá»ƒ:
--------------------------------------------------
aws s3 ls s3://wave-web-logs-111222/access.log

--------------------------------------------------
6. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- Cáº§n quyá»n IAM:
  + s3:ListBucket
  + s3:PutObject

- Sync Máº¶C Äá»ŠNH KHÃ”NG xÃ³a file trÃªn S3
  náº¿u file local bá»‹ xÃ³a

- Muá»‘n xÃ³a file trÃªn S3 cho giá»‘ng local:
--------------------------------------------------
aws s3 sync /tmp/logs-wave/ s3://wave-web-logs-111222/ --delete

- File áº©n váº«n Ä‘Æ°á»£c sync bÃ¬nh thÆ°á»ng

--------------------------------------------------
7. CÃC BIáº¾N THá»‚ THÆ¯á»œNG Gáº¶P
--------------------------------------------------
- Sync tá»« S3 vá» local:
--------------------------------------------------
aws s3 sync s3://wave-web-logs-111222/ /tmp/logs-wave/

- Chá»‰ sync file .log:
--------------------------------------------------
aws s3 sync /tmp/logs-wave/ s3://wave-web-logs-111222/ --exclude "*" --include "*.log"

--------------------------------------------------
8. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Upload log server lÃªn S3
- Backup dá»¯ liá»‡u Ä‘á»‹nh ká»³
- LÆ°u trá»¯ log táº­p trung
- Phá»¥c vá»¥ audit, troubleshooting

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
aws s3 sync /tmp/logs-wave/ s3://wave-web-logs-111222/
= Äá»“ng bá»™ log tá»« local lÃªn S3
= Chá»‰ upload file má»›i hoáº·c thay Ä‘á»•i
= An toÃ n, nhanh, tiáº¿t kiá»‡m bÄƒng thÃ´ng
==================================================
		
		
		- cmd: yum install awslogs -y
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
yum install awslogs -y

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- CÃ i Ä‘áº·t awslogs agent trÃªn há»‡ Ä‘iá»u hÃ nh dÃ¹ng yum
- awslogs agent dÃ¹ng Ä‘á»ƒ gá»­i log tá»« server lÃªn AWS CloudWatch Logs
- ThÆ°á»ng dÃ¹ng trÃªn EC2 (Amazon Linux, CentOS, RHEL)
- Phá»¥c vá»¥ monitoring, audit, troubleshooting

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. yum
--------------------------------------------------
yum = Yellowdog Updater Modified
- TrÃ¬nh quáº£n lÃ½ gÃ³i cho:
  + CentOS
  + RHEL
  + Amazon Linux (yum / dnf)
- DÃ¹ng Ä‘á»ƒ cÃ i, cáº­p nháº­t, xÃ³a pháº§n má»m

--------------------------------------------------
2.2. install
--------------------------------------------------
- Chá»‰ Ä‘á»‹nh hÃ nh Ä‘á»™ng cÃ i Ä‘áº·t package

--------------------------------------------------
2.3. awslogs
--------------------------------------------------
- TÃªn package awslogs
- LÃ  CloudWatch Logs Agent (báº£n cÅ©, viáº¿t báº±ng Python)
- Thu tháº­p log tá»«:
  + /var/log/messages
  + /var/log/secure
  + Apache, Nginx, á»©ng dá»¥ng custom
- Gá»­i log lÃªn CloudWatch Logs

--------------------------------------------------
2.4. -y
--------------------------------------------------
- Tá»± Ä‘á»™ng tráº£ lá»i "yes" cho má»i cÃ¢u há»i
- GiÃºp cÃ i Ä‘áº·t khÃ´ng cáº§n tÆ°Æ¡ng tÃ¡c
- PhÃ¹ há»£p cho script, automation

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. yum kiá»ƒm tra repository
2. Táº£i package awslogs vÃ  dependency
3. CÃ i awslogs agent vÃ o há»‡ thá»‘ng
4. Táº¡o file cáº¥u hÃ¬nh máº·c Ä‘á»‹nh
5. Táº¡o service awslogs

--------------------------------------------------
4. FILE VÃ€ SERVICE LIÃŠN QUAN
--------------------------------------------------
Sau khi cÃ i Ä‘áº·t:

- Binary:
  /usr/bin/awslogs-agent-setup.py

- File cáº¥u hÃ¬nh:
  /etc/awslogs/awslogs.conf
  /etc/awslogs/awscli.conf

- Service:
  awslogs

--------------------------------------------------
5. KHá»I Äá»˜NG VÃ€ KÃCH HOáº T SERVICE
--------------------------------------------------
systemctl start awslogs
systemctl enable awslogs
systemctl status awslogs

--------------------------------------------------
6. Cáº¤U HÃŒNH CÆ  Báº¢N
--------------------------------------------------
VÃ­ dá»¥ cáº¥u hÃ¬nh log:

[/var/log/messages]
file = /var/log/messages
log_group_name = /ec2/messages
log_stream_name = {instance_id}

--------------------------------------------------
7. YÃŠU Cáº¦U QUYá»€N AWS
--------------------------------------------------
EC2 cáº§n IAM Role vá»›i quyá»n:

- logs:CreateLogGroup
- logs:CreateLogStream
- logs:PutLogEvents

--------------------------------------------------
8. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

8.1. Repository not found
--------------------------------------------------
- ChÆ°a báº­t EPEL (CentOS)
Giáº£i phÃ¡p:
sudo yum install epel-release -y

--------------------------------------------------
8.2. Log khÃ´ng lÃªn CloudWatch
--------------------------------------------------
- Thiáº¿u IAM Role
- Sai region
- Sai Ä‘Æ°á»ng dáº«n log

--------------------------------------------------
9. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- awslogs lÃ  agent cÅ©
- AWS khuyáº¿n nghá»‹ dÃ¹ng:
  Amazon CloudWatch Agent (má»›i hÆ¡n)
- Tuy nhiÃªn awslogs váº«n phá»• biáº¿n trong há»‡ thá»‘ng cÅ©

--------------------------------------------------
10. SO SÃNH Vá»šI CLOUDWATCH AGENT
--------------------------------------------------
- awslogs:
  + Chá»‰ gá»­i log
  + Cáº¥u hÃ¬nh Ä‘Æ¡n giáº£n

- CloudWatch Agent:
  + Gá»­i log + metric (CPU, RAM, Disk)
  + JSON config
  + Phá»©c táº¡p hÆ¡n

--------------------------------------------------
11. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
yum install awslogs -y

= CÃ i awslogs agent
= Gá»­i log EC2 lÃªn CloudWatch Logs
= DÃ¹ng cho Amazon Linux / CentOS / RHEL
= PhÃ¹ há»£p automation
		
		
		- cmd: sudo yum install amazon-cloudwatch-agent -y
		
Lá»†NH: sudo yum install amazon-cloudwatch-agent -y
=================================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **cÃ i Ä‘áº·t Amazon CloudWatch Agent** trÃªn há»‡ Ä‘iá»u hÃ nh Linux sá»­ dá»¥ng `yum`
(thÆ°á»ng lÃ  Amazon Linux, CentOS, RHEL).

Amazon CloudWatch Agent cho phÃ©p:
- Gá»­i **metrics há»‡ thá»‘ng** (CPU, RAM, disk, networkâ€¦)
- Gá»­i **log file** (application log, system logâ€¦)  
tá»« mÃ¡y chá»§ EC2 hoáº·c server on-premise lÃªn **AWS CloudWatch**.


2. Cáº¤U TRÃšC Lá»†NH
----------------
sudo yum install amazon-cloudwatch-agent -y

Giáº£i thÃ­ch:
- `sudo`  : Cháº¡y lá»‡nh vá»›i quyá»n root (báº¯t buá»™c Ä‘á»ƒ cÃ i package há»‡ thá»‘ng)
- `yum`   : TrÃ¬nh quáº£n lÃ½ package trÃªn CentOS / RHEL / Amazon Linux
- `install` : Thao tÃ¡c cÃ i Ä‘áº·t package
- `amazon-cloudwatch-agent` : TÃªn gÃ³i CloudWatch Agent
- `-y`    : Tá»± Ä‘á»™ng tráº£ lá»i â€œyesâ€ cho má»i cÃ¢u há»i xÃ¡c nháº­n


3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
---------------------
1. Yum kiá»ƒm tra repository Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh
2. Táº£i package `amazon-cloudwatch-agent` tá»« repository AWS
3. CÃ i Ä‘áº·t agent vÃ  cÃ¡c dependency cáº§n thiáº¿t
4. Táº¡o cÃ¡c file vÃ  thÆ° má»¥c liÃªn quan:
   - Binary cá»§a agent
   - File cáº¥u hÃ¬nh máº«u
   - Service systemd cho CloudWatch Agent


4. Káº¾T QUáº¢ SAU KHI CÃ€I Äáº¶T
-------------------------
Sau khi cháº¡y xong, há»‡ thá»‘ng sáº½ cÃ³:
- Binary:
  /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent
- File cáº¥u hÃ¬nh (sáº½ táº¡o sau):
  /opt/aws/amazon-cloudwatch-agent/etc/amazon-cloudwatch-agent.json
- Service:
  amazon-cloudwatch-agent (systemd)


5. CÃC BÆ¯á»šC THÆ¯á»œNG LÃ€M SAU ÄÃ“
-----------------------------
1. Táº¡o hoáº·c fetch file cáº¥u hÃ¬nh:
		
		
		- cmd: rm -rf .aws/credentials
		
Lá»†NH: rm -rf .aws/credentials
====================================================================

1. rm lÃ  gÃ¬?
--------------------------------------------------------------------
- rm = remove
- Lá»‡nh dÃ¹ng Ä‘á»ƒ xÃ³a file hoáº·c thÆ° má»¥c trÃªn Linux/Unix
- Khi Ä‘Ã£ xÃ³a báº±ng rm â†’ KHÃ”NG vÃ o thÃ¹ng rÃ¡c
- Dá»¯ liá»‡u bá»‹ xÃ³a vÄ©nh viá»…n (ráº¥t khÃ³ khÃ´i phá»¥c)

--------------------------------------------------------------------

2. -r lÃ  gÃ¬?
--------------------------------------------------------------------
- -r = recursive
- DÃ¹ng Ä‘á»ƒ:
  + XÃ³a thÆ° má»¥c
  + XÃ³a toÃ n bá»™ ná»™i dung bÃªn trong thÆ° má»¥c Ä‘Ã³
- Cáº§n thiáº¿t khi xÃ³a thÆ° má»¥c (directory)

--------------------------------------------------------------------

3. -f lÃ  gÃ¬?
--------------------------------------------------------------------
- -f = force
- Buá»™c xÃ³a:
  + KhÃ´ng há»i xÃ¡c nháº­n
  + KhÃ´ng bÃ¡o lá»—i náº¿u file khÃ´ng tá»“n táº¡i
- Cá»±c ká»³ nguy hiá»ƒm náº¿u dÃ¹ng sai Ä‘Æ°á»ng dáº«n

--------------------------------------------------------------------

4. .aws/credentials lÃ  gÃ¬?
--------------------------------------------------------------------
- ThÆ° má»¥c .aws náº±m trong HOME cá»§a user (~/.aws/)
- File credentials chá»©a:
  + AWS_ACCESS_KEY_ID
  + AWS_SECRET_ACCESS_KEY
  + AWS session token (náº¿u cÃ³)
- File nÃ y Ä‘Æ°á»£c dÃ¹ng bá»Ÿi:
  + AWS CLI
  + Terraform
  + Ansible (AWS modules)
  + SDK AWS

--------------------------------------------------------------------

5. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
rm -rf .aws/credentials

â†’ XÃ³a vÄ©nh viá»…n file credentials AWS cá»§a user hiá»‡n táº¡i  
â†’ ToÃ n bá»™ AWS access key bá»‹ xÃ³a  
â†’ AWS CLI vÃ  cÃ¡c tool sáº½ KHÃ”NG thá»ƒ xÃ¡c thá»±c AWS  

KHÃ”NG:
- KhÃ´ng xÃ³a ~/.aws/config
- KhÃ´ng revoke key trÃªn AWS IAM
- Chá»‰ xÃ³a file local

--------------------------------------------------------------------

6. File bá»‹ xÃ³a á»Ÿ Ä‘Ã¢u?
--------------------------------------------------------------------
- ÄÆ°á»ng dáº«n Ä‘áº§y Ä‘á»§:
~/.aws/credentials

- Sau khi xÃ³a:
aws configure list â†’ khÃ´ng cÃ²n credentials

--------------------------------------------------------------------

7. Khi nÃ o cáº§n dÃ¹ng lá»‡nh nÃ y?
--------------------------------------------------------------------
- Reset AWS credentials
- Chuyá»ƒn sang dÃ¹ng IAM Role
- XÃ³a key cÅ© vÃ¬ lÃ½ do báº£o máº­t
- Lab / mÃ´i trÆ°á»ng test

--------------------------------------------------------------------

8. Kiá»ƒm tra trÆ°á»›c khi xÃ³a (Ráº¤T KHUYáº¾N NGHá»Š)
--------------------------------------------------------------------
- Xem ná»™i dung file:
cat ~/.aws/credentials

- Kiá»ƒm tra Ä‘Ãºng user:
whoami

- Kiá»ƒm tra Ä‘Æ°á»ng dáº«n:
ls ~/.aws/

--------------------------------------------------------------------

9. Háº­u quáº£ sau khi xÃ³a
--------------------------------------------------------------------
- aws s3 ls â†’ lá»—i:
Unable to locate credentials
- Terraform / Ansible AWS module fail
- Cáº§n cáº¥u hÃ¬nh láº¡i báº±ng:
aws configure
hoáº·c dÃ¹ng IAM Role

--------------------------------------------------------------------

10. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) XÃ³a nháº§m file khÃ¡c do gÃµ sai Ä‘Æ°á»ng dáº«n
2) DÃ¹ng rm -rf á»Ÿ sai thÆ° má»¥c
3) Máº¥t credentials production

--------------------------------------------------------------------

11. LÆ°u Ã½ báº£o máº­t (Cá»°C Ká»² QUAN TRá»ŒNG)
--------------------------------------------------------------------
- Chá»‰ xÃ³a khi cháº¯c cháº¯n khÃ´ng cáº§n ná»¯a
- KhÃ´ng dÃ¹ng rm -rf vá»›i Ä‘Æ°á»ng dáº«n mÆ¡ há»“
- Vá»›i production EC2 â†’ nÃªn dÃ¹ng IAM Role thay vÃ¬ credentials file

--------------------------------------------------------------------

12. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
rm -rf .aws/credentials =
XÃ“A VÄ¨NH VIá»„N FILE CHá»¨A AWS CREDENTIALS Cá»¦A USER HIá»†N Táº I TRÃŠN MÃY LOCAL
		
		
		- cmd: systemctl restart awslogsd
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
systemctl restart awslogsd
================================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    systemctl restart awslogsd

ÄÆ°á»£c sá»­ dá»¥ng trÃªn Linux (systemd-based) Ä‘á»ƒ:
- Khá»Ÿi Ä‘á»™ng láº¡i (restart) dá»‹ch vá»¥ **awslogsd**
- Ãp dá»¥ng láº¡i cáº¥u hÃ¬nh má»›i cá»§a awslogs
- Kháº¯c phá»¥c lá»—i táº¡m thá»i khi dá»‹ch vá»¥ awslogs bá»‹ treo hoáº·c ngá»«ng hoáº¡t Ä‘á»™ng
- Äáº£m báº£o log há»‡ thá»‘ng/á»©ng dá»¥ng tiáº¿p tá»¥c Ä‘Æ°á»£c gá»­i lÃªn **AWS CloudWatch Logs**

Má»¥c Ä‘Ã­ch:
â†’ Restart dá»‹ch vá»¥ awslogs Ä‘á»ƒ Ä‘áº£m báº£o viá»‡c thu tháº­p vÃ  gá»­i log lÃªn CloudWatch hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

2.1. systemctl
--------------
- CÃ´ng cá»¥ quáº£n lÃ½ dá»‹ch vá»¥ cá»§a **systemd**
- DÃ¹ng Ä‘á»ƒ:
  + start   : khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥
  + stop    : dá»«ng dá»‹ch vá»¥
  + restart : khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥
  + status  : kiá»ƒm tra tráº¡ng thÃ¡i dá»‹ch vá»¥
  + enable  : báº­t dá»‹ch vá»¥ khi boot
  + disable : táº¯t dá»‹ch vá»¥ khi boot

2.2. restart
------------
- HÃ nh Ä‘á»™ng **dá»«ng vÃ  khá»Ÿi Ä‘á»™ng láº¡i** dá»‹ch vá»¥
- TrÃ¬nh tá»±:
  1. Stop service
  2. Start service
- ThÆ°á»ng dÃ¹ng khi:
  + File cáº¥u hÃ¬nh thay Ä‘á»•i
  + Service gáº·p lá»—i runtime

2.3. awslogsd
-------------
- TÃªn service cá»§a **AWS CloudWatch Logs Agent (awslogs)**
- Cháº¡y dÆ°á»›i dáº¡ng daemon
- Chá»©c nÄƒng:
  + Äá»c log tá»« file local
  + Gá»­i log lÃªn AWS CloudWatch Logs
- ThÆ°á»ng cÃ³ trÃªn:
  + Amazon Linux
  + EC2 instance cÃ i awslogs agent

TÃªn Ä‘áº§y Ä‘á»§:
- awslogsd (aws logs daemon)


3. CÃCH HOáº T Äá»˜NG
-----------------
Khi cháº¡y lá»‡nh:
1. systemctl gá»­i lá»‡nh restart tá»›i systemd
2. systemd dá»«ng tiáº¿n trÃ¬nh awslogsd Ä‘ang cháº¡y
3. systemd khá»Ÿi Ä‘á»™ng láº¡i awslogsd
4. awslogsd:
   - Äá»c láº¡i file cáº¥u hÃ¬nh
   - Káº¿t ná»‘i láº¡i vá»›i AWS CloudWatch
   - Tiáº¿p tá»¥c stream log


4. KHI NÃ€O Cáº¦N DÃ™NG Lá»†NH NÃ€Y
---------------------------
- Sau khi chá»‰nh sá»­a file cáº¥u hÃ¬nh awslogs:
    /etc/awslogs/awslogs.conf
    /etc/awslogs/awscli.conf
- Khi log khÃ´ng xuáº¥t hiá»‡n trÃªn CloudWatch
- Khi service awslogsd bá»‹ crash
- Khi thay Ä‘á»•i region, log group, log stream


5. YÃŠU Cáº¦U / QUYá»€N Háº N
----------------------
- Cáº§n quyá»n root hoáº·c sudo
- Thá»±c táº¿ thÆ°á»ng dÃ¹ng:
    sudo systemctl restart awslogsd

- Há»‡ Ä‘iá»u hÃ nh pháº£i dÃ¹ng systemd
- awslogs agent Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t


6. KIá»‚M TRA SAU KHI RESTART
---------------------------
6.1. Kiá»ƒm tra tráº¡ng thÃ¡i service
--------------------------------
    systemctl status awslogsd

6.2. Kiá»ƒm tra log cá»§a service
------------------------------
    journalctl -u awslogsd

6.3. Kiá»ƒm tra trÃªn AWS Console
------------------------------
- CloudWatch
- Logs
- Log Groups / Log Streams


7. LÆ¯U Ã QUAN TRá»ŒNG
------------------
- Restart service cÃ³ thá»ƒ gÃ¢y:
  + GiÃ¡n Ä‘oáº¡n ngáº¯n viá»‡c gá»­i log
- KhÃ´ng lÃ m máº¥t log:
  + Log file local váº«n Ä‘Æ°á»£c giá»¯
  + awslogs sáº½ gá»­i tiáº¿p khi cháº¡y láº¡i
- Náº¿u cáº¥u hÃ¬nh sai:
  + Service sáº½ restart nhÆ°ng fail


8. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------
8.1. Unit awslogsd.service not found
------------------------------------
NguyÃªn nhÃ¢n:
- awslogs agent chÆ°a cÃ i
- TÃªn service khÃ¡c (vÃ­ dá»¥: awslogs)

CÃ¡ch xá»­ lÃ½:
    systemctl list-units | grep aws

8.2. Permission denied
----------------------
NguyÃªn nhÃ¢n:
- KhÃ´ng dÃ¹ng sudo
CÃ¡ch xá»­ lÃ½:
    sudo systemctl restart awslogsd

8.3. Service failed to start
-----------------------------
NguyÃªn nhÃ¢n:
- Sai cáº¥u hÃ¬nh awslogs
CÃ¡ch xá»­ lÃ½:
- Kiá»ƒm tra file config
- Xem log báº±ng journalctl


9. SO SÃNH CÃC Lá»†NH LIÃŠN QUAN
-----------------------------
- Restart:
    systemctl restart awslogsd
- Stop:
    systemctl stop awslogsd
- Start:
    systemctl start awslogsd
- Enable khi boot:
    systemctl enable awslogsd


10. TÃ“M Táº®T
-----------
- systemctl restart awslogsd
  + Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥ awslogs
  + Ãp dá»¥ng cáº¥u hÃ¬nh má»›i
  + KhÃ´i phá»¥c viá»‡c gá»­i log lÃªn CloudWatch
- Lá»‡nh quan trá»ng khi váº­n hÃ nh EC2 vÃ  logging AWS


Káº¾T LUáº¬N
--------
ÄÃ¢y lÃ  lá»‡nh **cá»±c ká»³ quan trá»ng trong váº­n hÃ nh AWS EC2**,
giÃºp Ä‘áº£m báº£o log há»‡ thá»‘ng vÃ  á»©ng dá»¥ng luÃ´n Ä‘Æ°á»£c thu tháº­p vÃ  giÃ¡m sÃ¡t
thÃ´ng qua **AWS CloudWatch Logs**.
		
		
		- cmd: systemctl enable awslogsd
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
systemctl enable awslogsd
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ báº­t (enable) service `awslogsd` trÃªn há»‡ thá»‘ng
Linux sá»­ dá»¥ng systemd.

- `awslogsd` lÃ  agent cá»§a AWS CloudWatch Logs:
  + Thu tháº­p log tá»« server
  + Gá»­i lÃªn CloudWatch
- `enable` Ä‘áº£m báº£o service tá»± Ä‘á»™ng khá»Ÿi Ä‘á»™ng cÃ¹ng há»‡ thá»‘ng

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. systemctl
--------------------------------------------------
- CÃ´ng cá»¥ quáº£n lÃ½ systemd trÃªn Linux
- DÃ¹ng Ä‘á»ƒ:
  + start/stop service
  + enable/disable service
  + kiá»ƒm tra status
  + reload daemon

--------------------------------------------------
2.2. enable
--------------------------------------------------
- KÃ­ch hoáº¡t service Ä‘á»ƒ cháº¡y tá»± Ä‘á»™ng khi boot
- KhÃ´ng khá»Ÿi Ä‘á»™ng ngay láº­p tá»©c
- Náº¿u muá»‘n cháº¡y ngay: dÃ¹ng `systemctl start awslogsd`

--------------------------------------------------
2.3. awslogsd
--------------------------------------------------
- TÃªn service cá»§a AWS CloudWatch Logs agent
- Chá»©c nÄƒng:
  + GiÃ¡m sÃ¡t file log
  + Gá»­i log lÃªn AWS CloudWatch
- Cáº¥u hÃ¬nh thÃ´ng qua `/etc/awslogs/awslogs.conf`

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. systemctl táº¡o liÃªn káº¿t symbolics trong:
   /etc/systemd/system/multi-user.target.wants/
   trá» tá»›i file unit cá»§a awslogsd
2. Khi há»‡ thá»‘ng khá»Ÿi Ä‘á»™ng:
   - systemd sáº½ tá»± Ä‘á»™ng start service
3. KhÃ´ng cÃ³ output náº¿u thÃ nh cÃ´ng
4. Kiá»ƒm tra enable:
--------------------------------------------------
systemctl is-enabled awslogsd
â†’ enabled

--------------------------------------------------
4. KIá»‚M TRA SAU KHI ENABLE
--------------------------------------------------
- Kiá»ƒm tra tráº¡ng thÃ¡i service:
--------------------------------------------------
systemctl status awslogsd

- KÃ­ch hoáº¡t ngay:
--------------------------------------------------
systemctl start awslogsd

--------------------------------------------------
5. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- Cáº§n quyá»n root Ä‘á»ƒ enable service
- Kiá»ƒm tra file unit:
--------------------------------------------------
ls /etc/systemd/system/awslogsd.service
- AWS Logs agent pháº£i Ä‘Æ°á»£c cÃ i Ä‘áº·t trÆ°á»›c
- Sau thay Ä‘á»•i unit, reload daemon náº¿u cáº§n:
--------------------------------------------------
systemctl daemon-reload

--------------------------------------------------
6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Gá»­i log tá»« server lÃªn AWS CloudWatch tá»± Ä‘á»™ng
- GiÃ¡m sÃ¡t log lÃ¢u dÃ i
- DÃ¹ng trong DevOps, monitoring, auditing

--------------------------------------------------
7. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
systemctl enable awslogsd
= Báº­t service awslogsd tá»± Ä‘á»™ng khá»Ÿi Ä‘á»™ng khi boot
= KhÃ´ng khá»Ÿi Ä‘á»™ng ngay láº­p tá»©c
= YÃªu cáº§u quyá»n root
= Phá»¥c vá»¥ viá»‡c gá»­i log lÃªn AWS CloudWatch
==================================================
		
		
		- cmd: sudo systemctl status awslogsd
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
sudo systemctl status awslogsd

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Kiá»ƒm tra tráº¡ng thÃ¡i cá»§a service `awslogsd`
- awslogsd lÃ  agent cá»§a AWS CloudWatch Logs trÃªn Linux
- Hiá»ƒn thá»‹:
  + Service Ä‘ang cháº¡y hay dá»«ng
  + PID, bá»™ nhá»›, thá»i gian cháº¡y
  + Log gáº§n Ä‘Ã¢y
- Cáº§n quyá»n root Ä‘á»ƒ xem thÃ´ng tin service â†’ dÃ¹ng `sudo`

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. sudo
--------------------------------------------------
- Cháº¡y lá»‡nh vá»›i quyá»n root
- Báº¯t buá»™c vÃ¬ systemctl cáº§n quyá»n quáº£n lÃ½ service há»‡ thá»‘ng

--------------------------------------------------
2.2. systemctl
--------------------------------------------------
- CÃ´ng cá»¥ quáº£n lÃ½ service trÃªn há»‡ thá»‘ng dÃ¹ng systemd
- DÃ¹ng Ä‘á»ƒ:
  + start / stop / restart / reload service
  + enable / disable service
  + xem tráº¡ng thÃ¡i service

--------------------------------------------------
2.3. status
--------------------------------------------------
- Subcommand cá»§a systemctl
- Hiá»ƒn thá»‹ tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a service:
  + Active (running / exited / failed / inactive)
  + Loaded (file unit, enabled/disabled)
  + Main PID
  + Log gáº§n Ä‘Ã¢y (journalctl)

--------------------------------------------------
2.4. awslogsd
--------------------------------------------------
- TÃªn service cá»§a AWS CloudWatch Logs daemon
- Thu tháº­p log tá»« file trÃªn server
- Gá»­i lÃªn CloudWatch Logs
- ÄÆ°á»£c cÃ i bá»Ÿi package `awslogs`

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. sudo systemctl truy váº¥n systemd vá» service awslogsd
2. Kiá»ƒm tra tráº¡ng thÃ¡i hiá»‡n táº¡i
3. Hiá»ƒn thá»‹ thÃ´ng tin:
   - Loaded: file unit, enabled/disabled
   - Active: running/exited/failed/inactive
   - Main PID: process id cá»§a daemon
   - CGroup: thÃ´ng tin process group
   - Journal log: vÃ i dÃ²ng log gáº§n nháº¥t

--------------------------------------------------
4. OUTPUT MáºªU
--------------------------------------------------
â— awslogsd.service - AWS CloudWatch Logs Agent
   Loaded: loaded (/usr/lib/systemd/system/awslogsd.service; enabled; vendor preset: disabled)
   Active: active (running) since Wed 2025-12-17 10:15:30 UTC; 1h 20min ago
 Main PID: 1234 (python)
    Tasks: 2 (limit: 512)
   Memory: 12.0M
   CGroup: /system.slice/awslogsd.service
           â””â”€1234 /usr/bin/python /usr/bin/awslogs-agent-setup.py

Dec 17 10:15:30 ip-172-31-0-1 systemd[1]: Started AWS CloudWatch Logs Agent.

--------------------------------------------------
5. CÃCH Sá»¬ Dá»¤NG THÆ¯á»œNG Gáº¶P
--------------------------------------------------
- Kiá»ƒm tra tráº¡ng thÃ¡i:
sudo systemctl status awslogsd

- Khá»Ÿi Ä‘á»™ng service:
sudo systemctl start awslogsd

- Dá»«ng service:
sudo systemctl stop awslogsd

- Khá»Ÿi Ä‘á»™ng láº¡i:
sudo systemctl restart awslogsd

- Báº­t tá»± Ä‘á»™ng khi boot:
sudo systemctl enable awslogsd

- Táº¯t tá»± Ä‘á»™ng khi boot:
sudo systemctl disable awslogsd

--------------------------------------------------
6. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

6.1. Service inactive / dead
--------------------------------------------------
- Service chÆ°a cháº¡y
Giáº£i phÃ¡p:
sudo systemctl start awslogsd

6.2. Service failed
--------------------------------------------------
- Xem log chi tiáº¿t:
sudo journalctl -u awslogsd

6.3. Permission denied
--------------------------------------------------
- Cháº¡y khÃ´ng sudo â†’ khÃ´ng cÃ³ quyá»n xem

--------------------------------------------------
7. Cáº¢NH BÃO
--------------------------------------------------
- KhÃ´ng xÃ³a file unit systemd náº¿u khÃ´ng hiá»ƒu
- TrÃ¡nh dá»«ng service logging trÃªn production náº¿u khÃ´ng cáº§n thiáº¿t

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
sudo systemctl status awslogsd

= Xem tráº¡ng thÃ¡i service AWS CloudWatch Logs
= Hiá»ƒn thá»‹ active/inactive, PID, log
= Cáº§n sudo vÃ¬ lÃ  service há»‡ thá»‘ng
= DÃ¹ng Ä‘á»ƒ kiá»ƒm tra agent Ä‘ang cháº¡y hay gáº·p lá»—i
		
		
		- cmd: sudo cat /etc/awslogs/awslogs.conf
		
Lá»†NH: sudo cat /etc/awslogs/awslogs.conf
========================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **hiá»ƒn thá»‹ ná»™i dung file cáº¥u hÃ¬nh cá»§a AWS CloudWatch Logs agent** (`awslogs.conf`).

- File `/etc/awslogs/awslogs.conf` chá»©a thÃ´ng tin:
  - Log files trÃªn server cáº§n gá»­i lÃªn CloudWatch
  - Group vÃ  Stream name trong CloudWatch
  - CÃ¡c thiáº¿t láº­p liÃªn quan Ä‘áº¿n Ä‘á»‹nh dáº¡ng, encoding, buffer, vÃ  thá»i gian gá»­i log
- `sudo` dÃ¹ng Ä‘á»ƒ Ä‘áº£m báº£o quyá»n Ä‘á»c file, vÃ¬ file cáº¥u hÃ¬nh thÆ°á»ng thuá»™c user root.


2. Cáº¤U TRÃšC Lá»†NH
----------------
sudo cat /etc/awslogs/awslogs.conf

Giáº£i thÃ­ch:
- `sudo`       : Thá»±c thi lá»‡nh vá»›i quyá»n root
- `cat`        : Command Ä‘á»ƒ hiá»ƒn thá»‹ ná»™i dung file ra terminal
- `/etc/awslogs/awslogs.conf` : ÄÆ°á»ng dáº«n Ä‘áº¿n file cáº¥u hÃ¬nh cá»§a CloudWatch Logs agent


3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
---------------------
1. `sudo` Ä‘áº£m báº£o user hiá»‡n táº¡i cÃ³ quyá»n truy cáº­p file
2. `cat` Ä‘á»c toÃ n bá»™ ná»™i dung file
3. Ná»™i dung file Ä‘Æ°á»£c hiá»ƒn thá»‹ trá»±c tiáº¿p trÃªn terminal
4. NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ:
   - Kiá»ƒm tra cáº¥u hÃ¬nh agent
   - Debug lá»—i khi log khÃ´ng Ä‘Æ°á»£c gá»­i lÃªn CloudWatch


4. VÃ Dá»¤ Ná»˜I DUNG FILE `awslogs.conf`
-------------------------------------
Má»™t vÃ­ dá»¥ cÆ¡ báº£n:
		
		
		- cmd: service awslogsd restart
		
Lá»†NH: service awslogsd restart
====================================================================

1. service lÃ  gÃ¬?
--------------------------------------------------------------------
- service lÃ  lá»‡nh trÃªn Linux dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ cÃ¡c dá»‹ch vá»¥ (daemon)
- Cho phÃ©p:
  + start â†’ khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥
  + stop â†’ dá»«ng dá»‹ch vá»¥
  + restart â†’ khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥
  + status â†’ kiá»ƒm tra tráº¡ng thÃ¡i dá»‹ch vá»¥
- ThÆ°á»ng dÃ¹ng trÃªn cÃ¡c há»‡ thá»‘ng SysV init hoáº·c há»— trá»£ backward compatibility vá»›i systemd

--------------------------------------------------------------------

2. awslogsd lÃ  gÃ¬?
--------------------------------------------------------------------
- awslogsd lÃ  daemon cá»§a AWS CloudWatch Logs
- Cháº¡y trÃªn mÃ¡y chá»§ EC2 hoáº·c server Linux
- TÃ¡c dá»¥ng:
  + Thu tháº­p log tá»« há»‡ thá»‘ng
  + Äáº©y log lÃªn AWS CloudWatch
- awslogsd config báº±ng file:
  + /etc/awslogs/awslogs.conf
  + /etc/awslogs/agent.conf

--------------------------------------------------------------------

3. restart lÃ  gÃ¬?
--------------------------------------------------------------------
- restart = stop + start láº¡i dá»‹ch vá»¥
- Quy trÃ¬nh:
  1) Dá»«ng dá»‹ch vá»¥ awslogsd
  2) Khá»Ÿi Ä‘á»™ng láº¡i daemon
- ThÆ°á»ng dÃ¹ng khi:
  + Cáº¥u hÃ¬nh log thay Ä‘á»•i
  + Daemon bá»‹ treo hoáº·c lá»—i
  + Cáº­p nháº­t awslogs agent

--------------------------------------------------------------------

4. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
service awslogsd restart

â†’ Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥ awslogsd trÃªn Linux  
â†’ Äáº£m báº£o agent thu tháº­p vÃ  gá»­i log Ä‘áº¿n CloudWatch theo cáº¥u hÃ¬nh má»›i  
â†’ ThÆ°á»ng dÃ¹ng sau khi thay Ä‘á»•i /etc/awslogs/awslogs.conf  

KHÃ”NG:
- KhÃ´ng cÃ i Ä‘áº·t awslogs
- KhÃ´ng xÃ³a log
- Chá»‰ tÃ¡c Ä‘á»™ng Ä‘áº¿n daemon awslogsd Ä‘ang cháº¡y

--------------------------------------------------------------------

5. Kiá»ƒm tra tráº¡ng thÃ¡i dá»‹ch vá»¥ sau restart
--------------------------------------------------------------------
- Kiá»ƒm tra log agent:
tail -f /var/log/awslogs.log

- Kiá»ƒm tra tráº¡ng thÃ¡i:
service awslogsd status
hoáº·c trÃªn systemd:
systemctl status awslogsd

--------------------------------------------------------------------

6. Quy trÃ¬nh restart
--------------------------------------------------------------------
1) service command gá»­i tÃ­n hiá»‡u stop tá»›i awslogsd
2) Daemon dá»«ng táº¥t cáº£ task log
3) service command gá»­i tÃ­n hiá»‡u start
4) awslogsd reload cáº¥u hÃ¬nh vÃ  báº¯t Ä‘áº§u thu tháº­p log
5) Service trá»Ÿ láº¡i tráº¡ng thÃ¡i running

--------------------------------------------------------------------

7. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) File cáº¥u hÃ¬nh sai
- Log bÃ¡o lá»—i parse config
- Cáº§n kiá»ƒm tra /etc/awslogs/awslogs.conf

2) Daemon khÃ´ng start Ä‘Æ°á»£c
- Kiá»ƒm tra quyá»n user cháº¡y awslogsd
- Kiá»ƒm tra dependency (Python, boto3)

3) KhÃ´ng cÃ³ lá»‡nh service
- TrÃªn há»‡ thá»‘ng má»›i dÃ¹ng systemd:
sudo systemctl restart awslogsd

--------------------------------------------------------------------

8. LÆ°u Ã½ quan trá»ng
--------------------------------------------------------------------
- restart sáº½ táº¡m ngÆ°ng viá»‡c thu tháº­p log â†’ nÃªn dÃ¹ng thá»i Ä‘iá»ƒm Ã­t traffic
- NÃªn backup file config trÆ°á»›c khi chá»‰nh sá»­a
- Äáº£m báº£o AWS credentials hoáº·c IAM Role Ä‘Ãºng quyá»n ghi log lÃªn CloudWatch

--------------------------------------------------------------------

9. Khi nÃ o dÃ¹ng lá»‡nh nÃ y?
--------------------------------------------------------------------
- Sau khi chá»‰nh sá»­a cáº¥u hÃ¬nh /etc/awslogs/awslogs.conf
- Sau khi agent awslogsd treo hoáº·c crash
- Khi vá»«a cÃ i awslogs agent má»›i

--------------------------------------------------------------------

10. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
service awslogsd restart =
KHá»I Äá»˜NG Láº I DAEMON AWSLOGSD Äá»‚ THU THáº¬P VÃ€ Gá»¬I LOG Äáº¾N CLOUDWATCH THEO Cáº¤U HÃŒNH Má»šI
		
		
		- cmd: cat /var/log/awslogs.log
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
cat /var/log/awslogs.log
=============================

1. Tá»”NG QUAN
-----------
Lá»‡nh:
    cat /var/log/awslogs.log

ÄÆ°á»£c sá»­ dá»¥ng trÃªn Linux/Unix Ä‘á»ƒ:
- Hiá»ƒn thá»‹ toÃ n bá»™ ná»™i dung file **awslogs.log**
- File nÃ y lÃ  **log cá»§a AWS CloudWatch Logs agent (awslogs)**
- DÃ¹ng Ä‘á»ƒ kiá»ƒm tra:
  + Tráº¡ng thÃ¡i agent awslogs
  + CÃ¡c lá»—i hoáº·c cáº£nh bÃ¡o khi gá»­i log lÃªn CloudWatch
  + Hoáº¡t Ä‘á»™ng streaming log tá»« local file Ä‘áº¿n CloudWatch
- ÄÃ¢y lÃ  lá»‡nh Ä‘á»c file, khÃ´ng chá»‰nh sá»­a


2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
----------------------------

2.1. cat
---------
- Viáº¿t táº¯t cá»§a **concatenate**
- DÃ¹ng Ä‘á»ƒ:
  + In ná»™i dung file ra mÃ n hÃ¬nh
  + CÃ³ thá»ƒ ghÃ©p nhiá»u file (trong cÃ¡c trÆ°á»ng há»£p khÃ¡c)
- á» Ä‘Ã¢y chá»‰ dÃ¹ng Ä‘á»ƒ **xem file awslogs.log**

2.2. /var/log/awslogs.log
-------------------------
- ÄÆ°á»ng dáº«n tá»›i file log cá»§a awslogs agent
- `/var/log/` : thÆ° má»¥c chuáº©n chá»©a log há»‡ thá»‘ng
- `awslogs.log` : log chi tiáº¿t hoáº¡t Ä‘á»™ng cá»§a AWS CloudWatch Logs agent

Ná»™i dung thÆ°á»ng cÃ³:
- Thá»i gian ghi log
- Má»©c Ä‘á»™ log (INFO, ERROR, WARNING)
- TÃªn file / log group / log stream
- ThÃ´ng bÃ¡o vá» upload log, retry, failure


3. CÃCH HOáº T Äá»˜NG
-----------------
1. Shell gá»i chÆ°Æ¡ng trÃ¬nh `cat`
2. `cat` má»Ÿ file `/var/log/awslogs.log`
3. Äá»c toÃ n bá»™ ná»™i dung file tá»« Ä‘áº§u tá»›i cuá»‘i
4. In ra mÃ n hÃ¬nh stdout
5. KhÃ´ng thay Ä‘á»•i file, chá»‰ xem


4. KHI NÃ€O DÃ™NG Lá»†NH NÃ€Y
------------------------
- Kiá»ƒm tra agent awslogs Ä‘Ã£ cháº¡y hay chÆ°a
- Debug lá»—i gá»­i log lÃªn CloudWatch
- Xem chi tiáº¿t cÃ¡c sá»± kiá»‡n streaming log
- ThÆ°á»ng dÃ¹ng trÆ°á»›c khi restart dá»‹ch vá»¥:
    sudo systemctl restart awslogsd


5. PHáº M VI / GIá»šI Háº N
---------------------
- Chá»‰ xem Ä‘Æ°á»£c log hiá»‡n táº¡i
- File cÃ³ thá»ƒ ráº¥t dÃ i â†’ nÃªn dÃ¹ng less hoáº·c tail náº¿u muá»‘n scroll
- VÃ­ dá»¥:
    tail -f /var/log/awslogs.log  # xem realtime
    less /var/log/awslogs.log      # xem dá»… scroll


6. YÃŠU Cáº¦U / QUYá»€N Háº N
----------------------
- Cáº§n quyá»n Ä‘á»c file
- Náº¿u khÃ´ng cÃ³ quyá»n:
    sudo cat /var/log/awslogs.log


7. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------
7.1. No such file or directory
- NguyÃªn nhÃ¢n:
  + awslogs agent chÆ°a cÃ i
  + File log chÆ°a Ä‘Æ°á»£c táº¡o

7.2. Permission denied
- NguyÃªn nhÃ¢n: thiáº¿u quyá»n Ä‘á»c
- CÃ¡ch xá»­ lÃ½:
    sudo cat /var/log/awslogs.log


8. SO SÃNH Vá»šI Lá»†NH KHÃC
------------------------
- tail -f /var/log/awslogs.log
  + Xem realtime log má»›i Ä‘Æ°á»£c ghi
- less /var/log/awslogs.log
  + Dá»… scroll, search
- cat /var/log/awslogs.log
  + Xem toÃ n bá»™ file liá»n


9. KIá»‚M TRA SAU KHI XEM LOG
---------------------------
- Náº¿u tháº¥y lá»—i hoáº·c cáº£nh bÃ¡o:
  + Kiá»ƒm tra cáº¥u hÃ¬nh awslogs: /etc/awslogs/awslogs.conf
  + Restart dá»‹ch vá»¥:
      sudo systemctl restart awslogsd
- Náº¿u log bÃ¬nh thÆ°á»ng:
  + Log Ä‘ang Ä‘Æ°á»£c agent gá»­i lÃªn CloudWatch


10. TÃ“M Táº®T
------------
- cat /var/log/awslogs.log
  + Hiá»ƒn thá»‹ toÃ n bá»™ log cá»§a awslogs agent
  + DÃ¹ng Ä‘á»ƒ debug vÃ  kiá»ƒm tra hoáº¡t Ä‘á»™ng agent
  + KhÃ´ng thay Ä‘á»•i file, chá»‰ Ä‘á»c


Káº¾T LUáº¬N
--------
ÄÃ¢y lÃ  lá»‡nh **quan trá»ng khi váº­n hÃ nh AWS CloudWatch Logs agent trÃªn Linux**,
giÃºp xÃ¡c minh agent hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng, debug lá»—i gá»­i log vÃ  giÃ¡m sÃ¡t há»‡ thá»‘ng.
		
		
		- cmd: vim /etc/awslogs/awslogs.conf
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
vim /etc/awslogs/awslogs.conf
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ má»Ÿ (hoáº·c chá»‰nh sá»­a) file cáº¥u hÃ¬nh
`awslogs.conf` báº±ng trÃ¬nh soáº¡n tháº£o `vim`.

- File `/etc/awslogs/awslogs.conf` lÃ  file cáº¥u hÃ¬nh
  chÃ­nh cá»§a AWS CloudWatch Logs agent trÃªn Linux
- Quy Ä‘á»‹nh:
  + File log nÃ o cáº§n theo dÃµi
  + Log group vÃ  log stream trÃªn CloudWatch
  + Äá»‹nh dáº¡ng timestamp, encoding, buffer
- ThÆ°á»ng dÃ¹ng khi triá»ƒn khai monitoring log server
  gá»­i lÃªn AWS CloudWatch

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. vim
--------------------------------------------------
- TrÃ¬nh soáº¡n tháº£o vÄƒn báº£n dÃ²ng lá»‡nh phá»• biáº¿n trÃªn Linux
- DÃ¹ng Ä‘á»ƒ táº¡o, chá»‰nh sá»­a file
- Cháº¡y trá»±c tiáº¿p trong terminal

--------------------------------------------------
2.2. /etc/awslogs/awslogs.conf
--------------------------------------------------
- ÄÆ°á»ng dáº«n tuyá»‡t Ä‘á»‘i tá»›i file cáº¥u hÃ¬nh agent
- Náº±m trong thÆ° má»¥c `/etc/awslogs/`
- File Ä‘á»‹nh dáº¡ng text (YAML/INI style)
- Quyá»n root thÆ°á»ng yÃªu cáº§u Ä‘á»ƒ chá»‰nh sá»­a

--------------------------------------------------
3. Ná»˜I DUNG FILE awslogs.conf MáºªU
--------------------------------------------------
[general]
state_file = /var/lib/awslogs/agent-state  

[/var/log/messages]
file = /var/log/messages
log_group_name = my-app-logs
log_stream_name = {instance_id}/messages
datetime_format = %b %d %H:%M:%S

[/var/log/httpd/access_log]
file = /var/log/httpd/access_log
log_group_name = web-access-logs
log_stream_name = {instance_id}/access_log
datetime_format = %d/%b/%Y:%H:%M:%S %z

--------------------------------------------------
4. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. Vim má»Ÿ file `/etc/awslogs/awslogs.conf`
2. Náº¿u file chÆ°a tá»“n táº¡i:
   - Vim táº¡o buffer má»›i
3. NgÆ°á»i dÃ¹ng thÃªm, chá»‰nh sá»­a cáº¥u hÃ¬nh log
4. LÆ°u file
5. Khá»Ÿi Ä‘á»™ng hoáº·c reload awslogsd Ä‘á»ƒ Ã¡p dá»¥ng cáº¥u hÃ¬nh

--------------------------------------------------
5. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- Cáº§n quyá»n root:
--------------------------------------------------
sudo vim /etc/awslogs/awslogs.conf

- TuÃ¢n thá»§ cÃº phÃ¡p:
  + KhÃ´ng dÃ¹ng tab, dÃ¹ng space
  + TÃªn section Ä‘áº·t trong [ ]
  + CÃ¡c tham sá»‘ = value

- Sau chá»‰nh sá»­a, reload agent:
--------------------------------------------------
sudo systemctl restart awslogsd

- Kiá»ƒm tra log agent:
--------------------------------------------------
sudo systemctl status awslogsd

- Kiá»ƒm tra log CloudWatch Ä‘Ã£ nháº­n:
--------------------------------------------------
aws logs describe-log-groups
aws logs describe-log-streams --log-group-name <log_group_name>

--------------------------------------------------
6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Cáº¥u hÃ¬nh AWS CloudWatch Logs agent
- XÃ¡c Ä‘á»‹nh file log cáº§n giÃ¡m sÃ¡t
- Chá»‰ Ä‘á»‹nh log group/stream trÃªn CloudWatch
- DÃ¹ng trong DevOps, monitoring, alerting

--------------------------------------------------
7. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
vim /etc/awslogs/awslogs.conf
= Má»Ÿ file cáº¥u hÃ¬nh AWS CloudWatch Logs agent
= XÃ¡c Ä‘á»‹nh file log, log group, log stream
= Cáº§n quyá»n root Ä‘á»ƒ chá»‰nh sá»­a
= Phá»¥c vá»¥ monitoring vÃ  gá»­i log lÃªn CloudWatch
==================================================
		
		
		
		
		
		
		
	
	AWS Part -2 - MÃ´ hÃ¬nh mÃ´ phá»ng má»™t â€œCorporate Datacenterâ€ (trung tÃ¢m dá»¯ liá»‡u doanh nghiá»‡p
	truyá»n thá»‘ng), dÃ¹ng Ä‘á»ƒ so sÃ¡nh vá»›i Amazon VPC (Virtual Private Cloud) trong AWS:

		Tá»•ng quan

			HÃ¬nh nÃ y mÃ´ táº£ má»™t trung tÃ¢m dá»¯ liá»‡u váº­t lÃ½ (on-premises), nÆ¡i doanh nghiá»‡p quáº£n lÃ½ háº¡ táº§ng máº¡ng, mÃ¡y chá»§, router, switch,...

				ToÃ n bá»™ há»‡ thá»‘ng Ä‘Æ°á»£c chia nhá» thÃ nh nhiá»u subnet â€” tÆ°Æ¡ng tá»± nhÆ° cÃ¡ch AWS chia VPC thÃ nh subnet.

				CÃ¡c subnet nÃ y káº¿t ná»‘i vá»›i nhau qua router trung tÃ¢m.

				Network ACL (Access Control List) Ä‘Æ°á»£c Ä‘áº·t giá»¯a router vÃ  subnet Ä‘á»ƒ kiá»ƒm soÃ¡t lÆ°u lÆ°á»£ng.

		CÃ¡c thÃ nh pháº§n chÃ­nh trong sÆ¡ Ä‘á»“
		
			Router (bá»™ Ä‘á»‹nh tuyáº¿n)

				Náº±m á»Ÿ trÃªn cÃ¹ng.

				CÃ³ nhiá»‡m vá»¥ káº¿t ná»‘i cÃ¡c subnet khÃ¡c nhau trong cÃ¹ng máº¡ng ná»™i bá»™.

				CÅ©ng cÃ³ thá»ƒ káº¿t ná»‘i trung tÃ¢m dá»¯ liá»‡u nÃ y vá»›i Internet hoáº·c cÃ¡c máº¡ng khÃ¡c (WAN, VPN,...).

			Network ACL

				LÃ  bá»™ lá»c báº£o máº­t á»Ÿ má»©c subnet.

				Quyáº¿t Ä‘á»‹nh gÃ³i tin nÃ o Ä‘Æ°á»£c phÃ©p Ä‘i vÃ o hoáº·c Ä‘i ra subnet (theo IP, port, protocol,...).

				TÆ°Æ¡ng tá»± Network ACL trong AWS VPC, náº±m giá»¯a router vÃ  subnet.

			Subnet (máº¡ng con)

				Má»—i mÃ u trong hÃ¬nh lÃ  má»™t subnet:

					ğŸŸ§ 172.20.1.0/24

					ğŸŸ¦ 192.168.0.0/24

					ğŸŸ© 10.0.0.0/16

				Má»—i subnet Ä‘áº¡i diá»‡n cho má»™t phÃ¢n Ä‘oáº¡n máº¡ng riÃªng biá»‡t trong doanh nghiá»‡p.
				
					VÃ­ dá»¥:

						Má»™t subnet cho bá»™ pháº­n káº¿ toÃ¡n.

						Má»™t subnet cho bá»™ pháº­n ká»¹ thuáº­t.

						Má»™t subnet cho server ná»™i bá»™.

		BÃªn trong má»—i subnet

			Má»—i subnet cÃ³:

				Switch â€“ Ä‘á»ƒ káº¿t ná»‘i cÃ¡c mÃ¡y tÃ­nh ná»™i bá»™ trong cÃ¹ng subnet.

				Network of computers â€“ nhÃ³m mÃ¡y tráº¡m hoáº·c mÃ¡y chá»§.

				Mainframe â€“ cÃ¡c mÃ¡y chá»§ lá»›n, chá»‹u trÃ¡ch nhiá»‡m xá»­ lÃ½ dá»¯ liá»‡u trung tÃ¢m.

			Táº¥t cáº£ mÃ¡y trong cÃ¹ng subnet cÃ³ thá»ƒ giao tiáº¿p trá»±c tiáº¿p vá»›i nhau qua switch mÃ  khÃ´ng cáº§n Ä‘i qua router.
			
	AWS Part -2 - Kiáº¿n trÃºc máº¡ng cÆ¡ báº£n cá»§a má»™t há»‡ thá»‘ng cháº¡y trÃªn AWS VPC (Virtual Private Cloud):
	
		Tá»•ng quan: Amazon VPC (Virtual Private Cloud)

			VPC lÃ  má»™t máº¡ng riÃªng áº£o bÃªn trong AWS, nÆ¡i báº¡n cÃ³ thá»ƒ triá»ƒn khai cÃ¡c tÃ i nguyÃªn nhÆ° EC2, RDS, Load Balancer...
			VPC cho phÃ©p báº¡n kiá»ƒm soÃ¡t hoÃ n toÃ n máº¡ng lÆ°á»›i, gá»“m:

				Dáº£i IP (CIDR)

				Subnet

				Routing table

				Security Group vÃ  Network ACL
				
		CÃ¡c thÃ nh pháº§n trong hÃ¬nh
		
			Internet Gateway (IGW)

					LÃ  cá»•ng káº¿t ná»‘i giá»¯a VPC vÃ  Internet.

					Cho phÃ©p cÃ¡c instance trong public subnet cÃ³ thá»ƒ giao tiáº¿p ra/vÃ o Internet.

					IGW gáº¯n trá»±c tiáº¿p vÃ o VPC.

				Vai trÃ²:
				
					CÃ¡c web server muá»‘n Ä‘Æ°á»£c truy cáº­p cÃ´ng khai pháº£i Ä‘i qua IGW.
					
			Public Subnet

				ÄÃ¢y lÃ  subnet cÃ³ route ra Internet Gateway.

				Chá»©a cÃ¡c tÃ i nguyÃªn cáº§n cÃ´ng khai ra ngoÃ i, vÃ­ dá»¥:
				
					Web Server, NAT Gateway, Load Balancer, v.v.

				Trong hÃ¬nh:

					CÃ³ hai WEB SERVER trong public subnet.

					CÃ³ VPC NAT Gateway náº±m cÃ¹ng subnet.
					
			Private Subnet

				Subnet khÃ´ng cÃ³ route trá»±c tiáº¿p ra Internet.

				Chá»‰ cÃ³ thá»ƒ truy cáº­p Internet giÃ¡n tiáº¿p thÃ´ng qua NAT Gateway hoáº·c tá»« public subnet.

				DÃ¹ng cho cÃ¡c tÃ i nguyÃªn ná»™i bá»™ cáº§n báº£o máº­t cao:

					App Server

					Database Server

				Trong hÃ¬nh:

					CÃ³ 1 APP SERVER vÃ  2 DB SERVER trong private subnet.
					
			VPC NAT Gateway

					â€œNATâ€ = Network Address Translation.

					Náº±m trong public subnet vÃ  cÃ³ Elastic IP gáº¯n vÃ o.

					Cho phÃ©p cÃ¡c instance trong private subnet truy cáº­p Internet Ä‘á»ƒ cáº­p nháº­t package, táº£i dá»¯ liá»‡u, v.v.,
					nhÆ°ng Internet khÃ´ng thá»ƒ truy cáº­p ngÆ°á»£c láº¡i vÃ o private subnet.

				VÃ­ dá»¥:

					APP SERVER trong private subnet muá»‘n táº£i cáº­p nháº­t tá»« Internet â†’ Ä‘i qua NAT Gateway â†’ Internet.

					NhÆ°ng Internet khÃ´ng thá»ƒ vÃ o trá»±c tiáº¿p APP SERVER.
					
			Availability Zone (AZ)

				AWS chia má»—i region (vÃ­ dá»¥: us-east-1) thÃ nh nhiá»u AZ â€” cÃ¡c trung tÃ¢m dá»¯ liá»‡u váº­t lÃ½ riÃªng biá»‡t.

				Trong hÃ¬nh:

					Availability Zone A: chá»©a public subnet (WEB SERVER, NAT Gateway)

					Availability Zone B: chá»©a private subnet (APP SERVER, DB SERVER)

				ğŸ§­ Má»¥c tiÃªu: tÄƒng Ä‘á»™ tin cáº­y vÃ  tÃ­nh sáºµn sÃ ng (high availability).
				
		Luá»“ng hoáº¡t Ä‘á»™ng thá»±c táº¿

			NgÆ°á»i dÃ¹ng truy cáº­p web qua Internet â†’ Ä‘i vÃ o Internet Gateway â†’ Ä‘áº¿n WEB SERVER trong public subnet.

			WEB SERVER cÃ³ thá»ƒ:

				Gá»­i request Ä‘áº¿n APP SERVER trong private subnet.

				APP SERVER xá»­ lÃ½, truy váº¥n DB SERVER (cÅ©ng trong private subnet).

			Náº¿u APP SERVER cáº§n ra Internet (vÃ­ dá»¥ táº£i dependency) â†’ nÃ³ Ä‘i qua NAT Gateway trong public subnet â†’ Internet.
			
		Báº£o máº­t

			Security Group (SG): kiá»ƒm soÃ¡t traffic theo instance (firewall cáº¥p EC2).
			
				VÃ­ dá»¥:

					Web server SG cho phÃ©p inbound HTTP (80) vÃ  HTTPS (443).

					App/DB server SG chá»‰ cho phÃ©p inbound tá»« web server.

			Network ACL (NACL): kiá»ƒm soÃ¡t traffic theo subnet (firewall cáº¥p máº¡ng).
			
	AWS Part -2 - Kiáº¿n trÃºc máº¡ng VPC trong AWS:
	
		Má»¥c tiÃªu cá»§a sÆ¡ Ä‘á»“

			HÃ¬nh nÃ y cho ta tháº¥y cÃ¡ch AWS chia máº¡ng trong VPC thÃ nh hai pháº§n:

				Public Subnet: cho phÃ©p EC2 giao tiáº¿p trá»±c tiáº¿p vá»›i Internet

				Private Subnet: hoÃ n toÃ n cÃ¡ch ly, chá»‰ giao tiáº¿p ná»™i bá»™ hoáº·c qua VPN/NAT
				
		CÃ¡c thÃ nh pháº§n chÃ­nh trong hÃ¬nh
		
			Amazon VPC

				LÃ  â€œmáº¡ng áº£o riÃªngâ€ cá»§a báº¡n trong AWS (Virtual Private Cloud).

				Báº¡n cÃ³ thá»ƒ kiá»ƒm soÃ¡t toÃ n bá»™ máº¡ng, IP, routing, subnet, báº£o máº­tâ€¦

				Má»—i VPC náº±m trong má»™t region (vÃ­ dá»¥: us-east-1).
				
			Public Subnet

				Subnet nÃ y cÃ³ route ra Internet Gateway â†’ cho phÃ©p cÃ¡c instance bÃªn trong giao tiáº¿p trá»±c tiáº¿p vá»›i Internet.

				Trong hÃ¬nh:

					CÃ³ 1 EC2 instance

					Gáº¯n Security Group (báº£o máº­t cáº¥p instance)

					CÃ³ Network ACL (báº£o máº­t cáº¥p subnet)

					CÃ³ Route Table (Ä‘á»‹nh tuyáº¿n 172.16.0.0, 172.16.1.0, 172.16.2.0)

				TÃ¡c dá»¥ng:
				
					DÃ nh cho cÃ¡c tÃ i nguyÃªn cáº§n cÃ´ng khai, vÃ­ dá»¥:

						Web server

						Load balancer

						NAT Gateway
						
			Private Subnet

				Subnet nÃ y khÃ´ng cÃ³ route trá»±c tiáº¿p ra Internet Gateway, chá»‰ cÃ³ thá»ƒ káº¿t ná»‘i ná»™i bá»™.

				Trong hÃ¬nh:

					CÅ©ng cÃ³ EC2 instance

					CÃ³ Security Group, Network ACL, Route Table riÃªng

				TÃ¡c dá»¥ng:
				
					DÃ nh cho tÃ i nguyÃªn chá»‰ dÃ¹ng ná»™i bá»™, nhÆ°:

						App Server

						Database Server

						Internal API
						
			Route Table (Báº£ng Ä‘á»‹nh tuyáº¿n)

				Äiá»u khiá»ƒn â€œhÆ°á»›ng Ä‘iâ€ cá»§a traffic trong VPC.

				Má»—i subnet Ä‘Æ°á»£c gÃ¡n 1 Route Table.

					Public Subnet: cÃ³ route 0.0.0.0/0 â†’ Internet Gateway

					Private Subnet: khÃ´ng cÃ³ route Ä‘Ã³ â†’ cháº·n Internet trá»±c tiáº¿p

				Trong hÃ¬nh: Route Table liá»‡t kÃª cÃ¡c dáº£i IP ná»™i bá»™ (172.16.x.x) dÃ¹ng Ä‘á»ƒ Ä‘á»‹nh tuyáº¿n
				giá»¯a cÃ¡c subnet trong VPC.
				
			Network ACL (Access Control List)

				LÃ  tÆ°á»ng lá»­a cáº¥p subnet, kiá»ƒm soÃ¡t inbound/outbound traffic.

				CÃ³ thá»ƒ cho phÃ©p hoáº·c cháº·n dá»±a trÃªn rule theo IP, port, protocol.
				
			Security Group

				TÆ°á»ng lá»­a cáº¥p instance.

				Kiá»ƒm soÃ¡t traffic inbound/outbound cho tá»«ng EC2.

				Máº·c Ä‘á»‹nh: cháº·n má»i inbound, cho phÃ©p outbound.
				
			Router

				LÃ  router logic bÃªn trong VPC (AWS quáº£n lÃ½ tá»± Ä‘á»™ng).

				Káº¿t ná»‘i cÃ¡c subnet vá»›i nhau vÃ  vá»›i gateway (Internet hoáº·c VPN).

				Báº¡n khÃ´ng cáº¥u hÃ¬nh trá»±c tiáº¿p router, mÃ  Ä‘iá»u khiá»ƒn qua Route Table.
				
			Internet Gateway (IGW)

				Cá»•ng káº¿t ná»‘i VPC â†” Internet.

				Cáº§n thiáº¿t náº¿u EC2 trong public subnet muá»‘n cÃ³ IP cÃ´ng cá»™ng vÃ  truy cáº­p ra ngoÃ i.

				Chá»‰ hoáº¡t Ä‘á»™ng vá»›i subnet cÃ³ route tá»›i IGW.
				
			VPN Gateway

				Cho phÃ©p káº¿t ná»‘i VPC vá»›i datacenter on-premises (qua Ä‘Æ°á»ng VPN báº£o máº­t).

				DÃ nh cho mÃ´ hÃ¬nh hybrid cloud (vá»«a dÃ¹ng AWS vá»«a dÃ¹ng háº¡ táº§ng ná»™i bá»™).
				
		Luá»“ng hoáº¡t Ä‘á»™ng minh há»a

			EC2 trong Public Subnet cÃ³ thá»ƒ giao tiáº¿p Internet trá»±c tiáº¿p qua Internet Gateway.

			EC2 trong Private Subnet:

				KhÃ´ng thá»ƒ Ä‘i ra Internet trá»±c tiáº¿p.

				CÃ³ thá»ƒ Ä‘i qua VPN Gateway Ä‘á»ƒ káº¿t ná»‘i vá» há»‡ thá»‘ng ná»™i bá»™ (corporate network).

			Traffic ná»™i bá»™ giá»¯a cÃ¡c subnet (172.16.0.x â†” 172.16.2.x) Ä‘i qua Router cá»§a VPC, theo Route Table.
			
	AWS Part -2 - Thiáº¿t káº¿ kiáº¿n trÃºc máº¡ng (VPC Blueprint) trong AWS á»Ÿ region us-west-1, vá»›i Ä‘áº§y Ä‘á»§ subnet,
	route table, NAT, Internet Gateway, vÃ  VPC Peering:
	
		ThÃ´ng tin tá»•ng quan

			Region: us-west-1 (California)

			VPC Range: 172.20.0.0/16
			
				â†’ dáº£i IP tá»•ng cho toÃ n bá»™ VPC (65,536 Ä‘á»‹a chá»‰ IP kháº£ dá»¥ng).
				
				â†’ cÃ¡c subnet con sáº½ chia nhá» dáº£i nÃ y (theo /24).

		Cáº¥u trÃºc Subnet

			VPC nÃ y cÃ³ 4 subnet chia lÃ m 2 public vÃ  2 private, Ä‘áº·t á»Ÿ 2 Availability Zones (AZs) khÃ¡c nhau:

				Subnet 			CIDR				Loáº¡i		AZ	Ghi chÃº
				172.20.1.0/24	Public Subnet 1		us-west-1a	pub-sub-1
				172.20.2.0/24	Public Subnet 2		us-west-1b	pub-sub-2
				172.20.3.0/24	Private Subnet 1	us-west-1a	priv-sub-1
				172.20.4.0/24	Private Subnet 2	us-west-1b	priv-sub-2

			Má»¥c Ä‘Ã­ch:

				Public subnet: chá»©a cÃ¡c tÃ i nguyÃªn cáº§n truy cáº­p tá»« Internet (vÃ­ dá»¥: Bastion host, Load Balancer, NAT Gateway).

				Private subnet: chá»©a cÃ¡c á»©ng dá»¥ng ná»™i bá»™ (App Server, Database, Cacheâ€¦).

		Internet Gateway (IGW)

			CÃ³ 1 Internet Gateway gáº¯n vÃ o VPC nÃ y.

			Cho phÃ©p cÃ¡c instance trong public subnet giao tiáº¿p trá»±c tiáº¿p vá»›i Internet.
			
		NAT Gateway (2 cÃ¡i)

			Äáº·t trong public subnet, má»—i AZ má»™t cÃ¡i.

			DÃ¹ng Ä‘á»ƒ cho phÃ©p cÃ¡c instance trong private subnet truy cáº­p Internet ra ngoÃ i, nhÆ°ng Internet khÃ´ng
			truy cáº­p ngÆ°á»£c láº¡i Ä‘Æ°á»£c.

			VÃ­ dá»¥: private EC2 cÃ³ thá»ƒ táº£i gÃ³i update, patch, v.vâ€¦ mÃ  váº«n giá»¯ an toÃ n.
			
		Elastic IP (EIP)

			Má»—i NAT Gateway cáº§n má»™t Ä‘á»‹a chá»‰ IP tÄ©nh (EIP) Ä‘á»ƒ ra Internet.

			Do Ä‘Ã³, á»Ÿ Ä‘Ã¢y cÃ³ 1 EIP (hoáº·c 2 náº¿u má»—i NAT Gateway 1 IP).
			
		Route Tables (Báº£ng Ä‘á»‹nh tuyáº¿n)

			CÃ³ 2 Route Tables:

				TÃªn Route Table		DÃ nh cho		Äá»‹nh tuyáº¿n chÃ­nh
				Public Subnet RT	Public Subnet	0.0.0.0/0 â†’ Internet Gateway
				Private Subnet RT	Private Subnet	0.0.0.0/0 â†’ NAT Gateway

			Giáº£i thÃ­ch:

				Public subnet cÃ³ route trá»±c tiáº¿p ra IGW.

				Private subnet khÃ´ng cÃ³ route ra IGW, chá»‰ route qua NAT Gateway.
				
		Bastion Host

			1 Bastion host náº±m trong public subnet.

			LÃ  EC2 trung gian, dÃ¹ng Ä‘á»ƒ SSH vÃ o cÃ¡c instance trong private subnet.

			VÃ¬ private subnet khÃ´ng cÃ³ IP public, nÃªn báº¡n SSH vÃ o Bastion trÆ°á»›c â†’ rá»“i tá»« Ä‘Ã³ SSH
			tiáº¿p vÃ o cÃ¡c private EC2.
			
		Network ACL (NACL)

			CÃ³ nháº¯c Ä‘áº¿n â€œNACLâ€ á»Ÿ cuá»‘i â€” nghÄ©a lÃ  sáº½ cÃ³ Network ACL Ä‘á»ƒ kiá»ƒm soÃ¡t traffic á»Ÿ cáº¥p subnet.

			DÃ¹ng Ä‘á»ƒ tÄƒng thÃªm lá»›p báº£o máº­t, thÆ°á»ng cáº¥u hÃ¬nh song song vá»›i Security Group.
			
		VPC Peering

			DÃ²ng cuá»‘i â€œ1 more VPC â†’ VPC Peeringâ€ nghÄ©a lÃ :

				CÃ³ má»™t VPC khÃ¡c trong cÃ¹ng hoáº·c khÃ¡c region.

				Sáº½ táº¡o VPC Peering Ä‘á»ƒ hai VPC giao tiáº¿p vá»›i nhau qua máº¡ng riÃªng (khÃ´ng qua Internet).

			á»¨ng dá»¥ng:

			DÃ¹ng Ä‘á»ƒ káº¿t ná»‘i VPC cá»§a team khÃ¡c, mÃ´i trÆ°á»ng dev/staging, hoáº·c há»‡ thá»‘ng on-premises (khi khÃ´ng dÃ¹ng VPN).
			
	AWS Part -2 - Subnet mask:

		Äá»‹nh nghÄ©a:

			Subnet Mask (máº·t náº¡ máº¡ng con) lÃ  má»™t giÃ¡ trá»‹ 32-bit dÃ¹ng Ä‘á»ƒ phÃ¢n tÃ¡ch Ä‘á»‹a chá»‰ IP thÃ nh 2 pháº§n:

				Pháº§n Network (máº¡ng): xÃ¡c Ä‘á»‹nh máº¡ng mÃ  mÃ¡y tÃ­nh thuá»™c vá».

				Pháº§n Host (mÃ¡y chá»§): xÃ¡c Ä‘á»‹nh cÃ¡c thiáº¿t bá»‹ (mÃ¡y tÃ­nh, router, v.v...) trong cÃ¹ng máº¡ng Ä‘Ã³.

			Subnet Mask giÃºp thiáº¿t bá»‹ biáº¿t Ä‘á»‹a chá»‰ IP nÃ o náº±m trong cÃ¹ng máº¡ng ná»™i bá»™ (LAN) vÃ  Ä‘á»‹a chá»‰ nÃ o náº±m
			á»Ÿ máº¡ng khÃ¡c (pháº£i gá»­i ra gateway).

		Cáº¥u trÃºc:

			Subnet Mask cÅ©ng gá»“m 32 bit (giá»‘ng IP), Ä‘Æ°á»£c chia thÃ nh 4 octet, vÃ­ dá»¥:

				255.255.255.0

			Dáº¡ng nhá»‹ phÃ¢n:

				11111111.11111111.11111111.00000000

			CÃ¡c bit â€œ1â€ Ä‘áº¡i diá»‡n cho pháº§n Network, cÃ²n cÃ¡c bit â€œ0â€ Ä‘áº¡i diá»‡n cho pháº§n Host.

		CÃ¡ch hoáº¡t Ä‘á»™ng:

			Khi má»™t mÃ¡y tÃ­nh muá»‘n giao tiáº¿p vá»›i Ä‘á»‹a chá»‰ IP khÃ¡c, nÃ³ so sÃ¡nh pháº§n Network cá»§a Ä‘á»‹a chá»‰ IP Ä‘Ã­ch vÃ  IP cá»§a chÃ­nh nÃ³.

			Viá»‡c so sÃ¡nh Ä‘Æ°á»£c thá»±c hiá»‡n báº±ng phÃ©p toÃ¡n AND giá»¯a IP vÃ  Subnet Mask.

				Náº¿u káº¿t quáº£ giá»‘ng nhau â†’ cÃ¹ng máº¡ng â†’ gá»­i trá»±c tiáº¿p.

				Náº¿u khÃ¡c nhau â†’ khÃ¡c máº¡ng â†’ gá»­i qua Gateway.

			VÃ­ dá»¥:

				IP mÃ¡y A:      192.168.1.10
				Subnet Mask:   255.255.255.0
				IP mÃ¡y B:      192.168.1.20

			Cáº£ hai Ä‘á»u cÃ³ pháº§n máº¡ng lÃ  192.168.1, nÃªn chÃºng thuá»™c cÃ¹ng máº¡ng vÃ  cÃ³ thá»ƒ giao tiáº¿p trá»±c tiáº¿p.

			Náº¿u mÃ¡y B cÃ³ IP 192.168.2.20, thÃ¬ pháº§n máº¡ng khÃ¡c (192.168.2 â‰  192.168.1), nÃªn pháº£i qua Gateway.

		Má»™t sá»‘ Subnet Mask phá»• biáº¿n:

			Subnet Mask				Dáº¡ng CIDR			Sá»‘ Ä‘á»‹a chá»‰ kháº£ dá»¥ng		Giáº£i thÃ­ch
			
			255.0.0.0				/8					~16 triá»‡u				DÃ¹ng cho máº¡ng lá»›n (Class A)
			255.255.0.0				/16					~65 nghÃ¬n				DÃ¹ng cho máº¡ng trung bÃ¬nh (Class B)
			255.255.255.0			/24					254						DÃ¹ng phá»• biáº¿n cho LAN nhá»
			255.255.255.128			/25					126						Chia máº¡ng nhá» hÆ¡n tá»« /24
			255.255.255.192			/26					62						DÃ¹ng trong subnetting chi tiáº¿t

		KÃ½ hiá»‡u CIDR (Classless Inter-Domain Routing):

			Thay vÃ¬ viáº¿t Subnet Mask Ä‘áº§y Ä‘á»§, ta dÃ¹ng kÃ½ hiá»‡u /n, trong Ä‘Ã³ n lÃ  sá»‘ bit 1.

			VÃ­ dá»¥:

				/24 tÆ°Æ¡ng Ä‘Æ°Æ¡ng 255.255.255.0

				/16 tÆ°Æ¡ng Ä‘Æ°Æ¡ng 255.255.0.0

				/8 tÆ°Æ¡ng Ä‘Æ°Æ¡ng 255.0.0.0

		á»¨ng dá»¥ng cá»§a Subnet Mask:

			Chia nhá» máº¡ng lá»›n (subnetting): giÃºp tá»‘i Æ°u viá»‡c quáº£n lÃ½ IP vÃ  giáº£m broadcast.

			TÄƒng cÆ°á»ng báº£o máº­t: cÃ´ láº­p cÃ¡c nhÃ³m thiáº¿t bá»‹ trong cÃ¡c subnet riÃªng.

			Tá»‘i Æ°u hiá»‡u nÄƒng: giáº£m lÆ°u lÆ°á»£ng broadcast khÃ´ng cáº§n thiáº¿t.

			Äá»‹nh tuyáº¿n chÃ­nh xÃ¡c: router sá»­ dá»¥ng Subnet Mask Ä‘á»ƒ quyáº¿t Ä‘á»‹nh gÃ³i tin Ä‘i Ä‘Ã¢u.

		VÃ­ dá»¥ tá»•ng há»£p:

			IP Address:   192.168.10.25
			Subnet Mask:  255.255.255.0 (/24)
			Network:      192.168.10.0
			Broadcast:    192.168.10.255
			Host Range:   192.168.10.1 â€“ 192.168.10.254

				=> CÃ³ 254 Ä‘á»‹a chá»‰ IP kháº£ dá»¥ng cho thiáº¿t bá»‹ (mÃ¡y tÃ­nh, camera, router, ...).

		TÃ³m táº¯t dá»… nhá»›:

			Subnet Mask = â€œKhuÃ´n máº«uâ€ Ä‘á»ƒ tÃ¡ch pháº§n máº¡ng vÃ  pháº§n host cá»§a IP.

			Bit â€œ1â€ = pháº§n máº¡ng.

			Bit â€œ0â€ = pháº§n host.

			CÃ¹ng pháº§n máº¡ng â†’ cÃ¹ng subnet.

			KhÃ¡c pháº§n máº¡ng â†’ khÃ¡c subnet â†’ cáº§n gateway.
			
	AWS Part -2 - NETWORK IP VÃ€ BROADCAST IP:
	
		Network IP (Äá»‹a chá»‰ máº¡ng)

			Äá»‹nh nghÄ©a:

				Network IP lÃ  Ä‘á»‹a chá»‰ Ä‘áº§u tiÃªn trong má»™t máº¡ng (subnet).

				NÃ³ Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ Ä‘áº¡i diá»‡n cho toÃ n bá»™ máº¡ng, khÃ´ng gÃ¡n cho báº¥t ká»³ thiáº¿t bá»‹ nÃ o.

				Router vÃ  cÃ¡c thiáº¿t bá»‹ máº¡ng dÃ¹ng Ä‘á»‹a chá»‰ nÃ y Ä‘á»ƒ xÃ¡c Ä‘á»‹nh ranh giá»›i cá»§a máº¡ng.

			Äáº·c Ä‘iá»ƒm:

				Táº¥t cáº£ cÃ¡c bit cá»§a pháº§n Host trong Ä‘á»‹a chá»‰ IP Ä‘á»u báº±ng 0.

				KhÃ´ng thá»ƒ dÃ¹ng Network IP lÃ m Ä‘á»‹a chá»‰ cá»§a thiáº¿t bá»‹ (mÃ¡y tÃ­nh, server...).

				VÃ­ dá»¥:

					IP:           192.168.1.10
					Subnet Mask:  255.255.255.0

						Subnet Mask /24 nghÄ©a lÃ  24 bit Ä‘áº§u lÃ  pháº§n máº¡ng â†’ 192.168.1

						CÃ¡c bit host (8 bit cuá»‘i) = 0 â†’ Network IP lÃ :

						192.168.1.0

						=> Network IP: 192.168.1.0

		Broadcast IP (Äá»‹a chá»‰ quáº£ng bÃ¡)

			Äá»‹nh nghÄ©a:

				Broadcast IP lÃ  Ä‘á»‹a chá»‰ cuá»‘i cÃ¹ng trong má»™t máº¡ng (subnet).

				NÃ³ Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ gá»­i thÃ´ng Ä‘iá»‡p tá»›i táº¥t cáº£ cÃ¡c thiáº¿t bá»‹ trong cÃ¹ng máº¡ng (broadcast message).

				DÃ¹ng trong cÃ¡c giao thá»©c nhÆ° ARP, DHCP, v.vâ€¦

			Äáº·c Ä‘iá»ƒm:

				Táº¥t cáº£ cÃ¡c bit cá»§a pháº§n Host trong Ä‘á»‹a chá»‰ IP Ä‘á»u báº±ng 1.

				KhÃ´ng thá»ƒ gÃ¡n Broadcast IP cho thiáº¿t bá»‹.

			VÃ­ dá»¥:

				IP:           192.168.1.10
				Subnet Mask:  255.255.255.0

					Pháº§n máº¡ng: 192.168.1

					CÃ¡c bit host (8 bit cuá»‘i) = 1 â†’ Broadcast IP lÃ :

					192.168.1.255

					=> Broadcast IP: 192.168.1.255

		PhÃ¢n biá»‡t Network IP, Broadcast IP vÃ  Host IP
		
			Loáº¡i Ä‘á»‹a chá»‰		Ã nghÄ©a chÃ­nh								CÃ³ thá»ƒ gÃ¡n cho thiáº¿t bá»‹?	VÃ­ dá»¥ (/24)
			
			Network IP			Äáº¡i diá»‡n cho toÃ n máº¡ng						KhÃ´ng						192.168.1.0
			Host IP				DÃ nh cho thiáº¿t bá»‹ trong máº¡ng				CÃ³							192.168.1.1 â†’ 192.168.1.254
			Broadcast IP		Gá»­i dá»¯ liá»‡u Ä‘áº¿n táº¥t cáº£ thiáº¿t bá»‹ trong máº¡ng	KhÃ´ng						192.168.1.255
		
		VÃ­ dá»¥ minh há»a chi tiáº¿t:

			Giáº£ sá»­ cÃ³ cáº¥u hÃ¬nh:

				IP Address:   192.168.10.25
				Subnet Mask:  255.255.255.0 (/24)


				Ta tÃ­nh Ä‘Æ°á»£c:

					ThÃ nh pháº§n			GiÃ¡ trá»‹
					
					Network IP			192.168.10.0
					Broadcast IP		192.168.10.255
					Host kháº£ dá»¥ng		192.168.10.1 â€“ 192.168.10.254
					Sá»‘ lÆ°á»£ng Host		254 thiáº¿t bá»‹
			
		NguyÃªn táº¯c tÃ­nh nhanh:

			CÃ´ng thá»©c tá»•ng quÃ¡t:

				Network IP = (IP AND Subnet Mask)

				Broadcast IP = (Network IP) + (Sá»‘ Ä‘á»‹a chá»‰ trong subnet - 1)

			VÃ­ dá»¥:

				IP:           192.168.1.77
				Subnet Mask:  255.255.255.192 (/26)

					/26 â†’ cÃ³ 64 Ä‘á»‹a chá»‰ (tá»« 0 Ä‘áº¿n 63, 64 Ä‘áº¿n 127, ...).

					Network IP cá»§a subnet chá»©a 192.168.1.77 lÃ  192.168.1.64

					Broadcast IP lÃ  192.168.1.127

					Host kháº£ dá»¥ng: 192.168.1.65 â†’ 192.168.1.126

		TÃ³m táº¯t dá»… nhá»›:

			Network IP = Ä‘á»‹a chá»‰ Ä‘áº§u (má»i bit host = 0)

			Broadcast IP = Ä‘á»‹a chá»‰ cuá»‘i (má»i bit host = 1)

			Host IP = cÃ¡c Ä‘á»‹a chá»‰ náº±m giá»¯a hai Ä‘á»‹a chá»‰ trÃªn

			KhÃ´ng thá»ƒ dÃ¹ng Network vÃ  Broadcast IP Ä‘á»ƒ gÃ¡n cho mÃ¡y tÃ­nh.
			
	Táº¡o má»›i 1 VPC
	
	Táº¡o subnet theo VPC vá»«a táº¡o trÆ°á»›c Ä‘Ã³
	
	Táº¡o internet gateway vÃ  attach vÃ o VPC Ä‘Ã£ táº¡o trÆ°á»›c Ä‘Ã³
	
	Táº¡o pub route table theo VPC Ä‘Ã£ táº¡o trÆ°á»›c Ä‘Ã³, edit subnet association Ä‘á»ƒ thÃªm 2 pub subnet Ä‘Ã£ táº¡o vÃ o,
	edit route Ä‘á»ƒ thÃªm internet gateway vÃ o. Sau Ä‘Ã³ edit pub subnet Ä‘á»ƒ enable auto-assign public ipv4 address
	
	Allocate Elastic IP address
	
	Táº¡o nat gateway cÃ³ subnet lÃ  pub subnet 1, dit subnet association Ä‘á»ƒ thÃªm 2 private subnet Ä‘Ã£ táº¡o vÃ o,
	edit route Ä‘á»ƒ thÃªm nat gateway vÃ o. Sau Ä‘Ã³ edit pub subnet Ä‘á»ƒ enable auto-assign public ipv4 address
	
	Táº¡o má»›i thÃªm 1 route table theo VPC Ä‘Ã£ táº¡o trÆ°á»›c Ä‘Ã³
	
	Trong EC2 táº¡o 1 security group bastion vá»›i VPC Ä‘Ã£ táº¡o trÆ°á»›c Ä‘Ã³, port 22 vá»›i My IP
	
	Táº¡o má»›i 1 ec2 instance bastion (Ubuntu Server) cÃ³ sg bastion vá»›i vpc Ä‘Ã£ táº¡o trÆ°á»›c Ä‘Ã³
	
	Táº¡o má»›i 1 ec2 web01-priv (Amazon Linux) vá»›i port 22 sg bastion vá»›i vpc Ä‘Ã£ táº¡o trÆ°á»›c Ä‘Ã³
	
	Tá»« ec2 bastion, ssh Ä‘á»ƒ truy cáº­p vÃ o web01-priv, sau Ä‘Ã³ cÃ i Ä‘áº·t httpd, wget, unzip
	
	Táº¡o target group theo ec2 web01-priv vá»›i vpc Ä‘Ã£ táº¡o trÆ°á»›c Ä‘Ã³
	
	Táº¡o target group elb vá»›i port 80 all cho ipv4, ipv6 vá»›i vpc Ä‘Ã£ táº¡o trÆ°á»›c Ä‘Ã³
	
	Sá»­a security group web01 Ä‘á»ƒ thÃªm port 80 vá»›i sg elb
	
	á» zone Oregon táº¡o VPC vpro-db cÃ³ route table lÃ  vprodb-rt
	
	Táº¡o peering connection, lá»±a chá»n local VPC to peer with lÃ  VPC á»Ÿ zone hiá»‡n táº¡i, anathor VPC to peer with
	lÃ  VPC á»Ÿ 1 zone khÃ¡c. Xong rá»“i sang VPC á»Ÿ zone khÃ¡c Ä‘á»ƒ accept request cá»§a peering connection
	
	Trong routube tables á»Ÿ cáº£ 2 zone, Ä‘iá»u chá»‰nh routes vá»›i target lÃ  peering connection
	
	Táº¡o load balancer
			
	- Google search:
	
		online subnet calculator
		
	- Code trong file /etc/awslogs/awslogs.conf:
	
		Case 1:
		
		
			[/var/log/messages]
			datetime_format = %b %d %H:%M:%S
			file = /var/log/messages
			buffer_duration = 5000
			log_stream_name = web01-sys-logs
			initial_position = start_of_file
			log_group_name = wave-web

			[/var/log/httpd/access_log]
			datetime_format = %b %d %H:%M:%S
			file = /var/log/httpd/access_log
			buffer_duration = 5000
			log_stream_name = web01-httpd-access
			initial_position = start_of_file
			log_group_name = wave-web

	- Code trong s3-policy.json:
	
		Case 1:
		
			{
			  "Version":"2012-10-17",		 	 	 
			  "Statement": [
				{
				  "Effect": "Allow",
				  "Principal": {
					"AWS": "arn:aws:iam::127311923021:root"
				  },
				  "Action": "s3:PutObject",
				  "Resource": "arn:aws:s3:::wave-web-logs-111222/elb-wave/AWSLogs/914938480601/*"
				},

				{
				  "Effect": "Allow",
				  "Principal": {
					"Service": "delivery.logs.amazonaws.com"
				  },
				  "Action": "s3:PutObject",
				  "Resource": "arn:aws:s3:::wave-web-logs-111222/elb-wave/AWSLogs/914938480601/*",
				  "Condition": {
					"StringEquals": {
						"s3:x-amz-acl": "bucket-owner-full-control"
					}
				  }
				},

				{
				  "Effect": "Allow",
				  "Principal": {
					"Service": "delivery.logs.amazonaws.com"
				  },
				  "Action": "s3:GetBucketAcl",
				  "Resource": "arn:aws:s3:::wave-web-logs-111222"
				}
			  ]
			}


--- AWS CI CD Project:

	- Elastic Beanstalk -> Create application
	- Codebuild -> Getting started -> Create project
	- Codebuild -> Build -> Build projects -> Build project -> instance -> Start build
	- Codebuild -> Build -> Build projects -> Build project -> instance -> Phase details
	- Codebuild -> Build -> Build projects -> Build project -> instance -> Edit
	- Codebuild -> Build -> Build projects -> Build project -> instance -> Build logs
	- Codebuild -> Pipeline -> Pipelines -> Create pipeline
	- Bitbucket -> Settings -> Personal Bitbucket settings -> SSH keys -> Add key
	- Bitbucket -> Settings -> Personal Bitbucket settings -> App passwords
	
	Táº¡o beanstalk
	
	Táº¡o rds
	
	Trong security group chá»‰nh sá»­a inbound cho sg rds vá»›i port 3306 sg khi táº¡o beanstalk
	
	Trong ec2 khi táº¡o beanstalk, cÃ i Ä‘áº·t mariadb105. Sau Ä‘Ã³ truy cáº­p vÃ o rds báº±ng endpoint, username,
	password cá»§a rds
	
	ÄÄƒng nháº­p vÃ o bitbucket. Táº¡o repository, tao ssh-keygen trÃªn mÃ¡y local, sau Ä‘Ã³ thÃªm vÃ o ssh key trÃªn bitbucket, Ä‘áº©y code
	lÃªn bitbucket
	
	Táº¡o project trong CodeBuild, source sáº½ connect to bitbucket, using Oauth
	
	Start build
	
	Táº¡o pipeline trong AWS CodePipeline, connect to bitbucket, attach policies cho service role ARN lÃ  AdministratorAccess-AWSElasticBeanstalk
	
	Táº¡o S3
	
	Má»‘i quan há»‡ giá»¯a CodeBuild vÃ  Elastic Beanstalk
	
		CÃ¹ng náº±m trong chuá»—i CI/CD (Continuous Integration / Continuous Deployment)
		
		Giai Ä‘oáº¡n					Dá»‹ch vá»¥ AWS thÆ°á»ng dÃ¹ng		Vai trÃ²
		
			Source (mÃ£ nguá»“n)			AWS CodeCommit / GitHub		LÆ°u trá»¯ code
			Build (biÃªn dá»‹ch & test)	AWS CodeBuild				Build app, test, táº¡o artifact
			Deploy (triá»ƒn khai)			AWS Elastic Beanstalk		Nháº­n artifact â†’ triá»ƒn khai lÃªn EC2
			Pipeline (quáº£n lÃ½ luá»“ng)	AWS CodePipeline			Tá»± Ä‘á»™ng hÃ³a toÃ n bá»™ quy trÃ¬nh
			
		Má»‘i quan há»‡ thá»±c táº¿

			CodeBuild táº¡o ra file build (vÃ­ dá»¥ app.zip hoáº·c Docker image).

			Elastic Beanstalk láº¥y file build Ä‘Ã³ Ä‘á»ƒ triá»ƒn khai thÃ nh á»©ng dá»¥ng web.

			Hai dá»‹ch vá»¥ nÃ y thÆ°á»ng Ä‘Æ°á»£c káº¿t ná»‘i qua CodePipeline.	
	
	-- Source: github hkhcoder vprofile-project (aws-ci)
	
	
	- Google search:
	
		bitbucket
		
		codebuild buildspec file documentation

	- Commands:
	
		- cmd: chmod 400 vprobeankey.pem
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
chmod 400 vprobeankey.pem
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y thay Ä‘á»•i quyá»n truy cáº­p (permission) cá»§a file
`vprobeankey.pem` trÃªn Linux/Unix.

- DÃ¹ng cho cÃ¡c file nháº¡y cáº£m nhÆ° SSH private key
- Quyá»n `400` Ä‘áº£m báº£o:
  + Chá»‰ user sá»Ÿ há»¯u file má»›i Ä‘á»c Ä‘Æ°á»£c
  + KhÃ´ng ai cÃ³ quyá»n ghi hoáº·c thá»±c thi
- NgÄƒn cháº·n lá»—i báº£o máº­t khi dÃ¹ng SSH

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. chmod
--------------------------------------------------
- Command Ä‘á»ƒ thay Ä‘á»•i file permission
- Permission gá»“m 3 loáº¡i:
  + read (r)
  + write (w)
  + execute (x)
- Ãp dá»¥ng cho:
  + User (owner)
  + Group
  + Others

--------------------------------------------------
2.2. 400
--------------------------------------------------
- Quyá»n theo dáº¡ng octal (sá»‘ 0â€“7)
- Cáº¥u trÃºc: u/g/o
  + u (user/owner) = 4 â†’ read
  + g (group) = 0 â†’ khÃ´ng quyá»n
  + o (others) = 0 â†’ khÃ´ng quyá»n
- Káº¿t quáº£:
--------------------------------------------------
-r-------- 1 user user 1234 Dec 17 18:20 vprobeankey.pem

--------------------------------------------------
2.3. vprobeankey.pem
--------------------------------------------------
- File cáº§n chá»‰nh quyá»n
- ThÆ°á»ng lÃ  private key SSH
- Cáº§n háº¡n cháº¿ quyá»n Ä‘á»ƒ SSH cháº¥p nháº­n key

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. Há»‡ thá»‘ng Ä‘á»c octal `400`
2. Ãp dá»¥ng quyá»n cho file:
   - Chá»‰ owner cÃ³ read
   - Group vÃ  Others khÃ´ng cÃ³ quyá»n
3. KhÃ´ng cÃ³ output náº¿u thÃ nh cÃ´ng
4. Kiá»ƒm tra quyá»n:
--------------------------------------------------
ls -l vprobeankey.pem
â†’ -r-------- 1 user user 1234 Dec 17 18:20 vprobeankey.pem

--------------------------------------------------
4. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- Private key SSH pháº£i cÃ³ quyá»n háº¡n cháº¿
- Quyá»n quÃ¡ rá»™ng â†’ ssh sáº½ bÃ¡o lá»—i:
--------------------------------------------------
Permissions 0644 for 'vprobeankey.pem' are too open.

- Sá»­ dá»¥ng chmod 400 hoáº·c chmod 600 cho private key
- KhÃ´ng chia sáº» file nÃ y cho ngÆ°á»i khÃ¡c

--------------------------------------------------
5. CÃC BIáº¾N THá»‚ THÆ¯á»œNG Gáº¶P
--------------------------------------------------
- chmod 600 vprobeankey.pem
  + Owner Ä‘á»c + viáº¿t
- chmod 644 file.txt
  + Owner Ä‘á»c + viáº¿t, group/others Ä‘á»c

--------------------------------------------------
6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Báº£o vá»‡ private key SSH
- TuÃ¢n thá»§ yÃªu cáº§u báº£o máº­t cá»§a SSH
- NgÄƒn ngÆ°á»i khÃ¡c truy cáº­p file quan trá»ng

--------------------------------------------------
7. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
chmod 400 vprobeankey.pem
= Chá»‰ owner Ä‘á»c file
= Group/others khÃ´ng quyá»n
= DÃ¹ng cho SSH private key
= NgÄƒn lá»—i báº£o máº­t vÃ  truy cáº­p trÃ¡i phÃ©p
==================================================
		
		
		- cmd: dnf search mysql
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
dnf search mysql

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- TÃ¬m kiáº¿m cÃ¡c gÃ³i pháº§n má»m liÃªn quan Ä‘áº¿n "mysql" trÃªn há»‡ thá»‘ng Linux dÃ¹ng DNF
- DNF (Dandified Yum) lÃ  trÃ¬nh quáº£n lÃ½ gÃ³i cho:
  + Fedora
  + RHEL 8 trá»Ÿ lÃªn
  + CentOS 8 trá»Ÿ lÃªn
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ kiá»ƒm tra gÃ³i MySQL, MySQL client, server, libraries trÆ°á»›c khi cÃ i Ä‘áº·t

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. dnf
--------------------------------------------------
- TrÃ¬nh quáº£n lÃ½ gÃ³i hiá»‡n Ä‘áº¡i thay tháº¿ yum
- DÃ¹ng Ä‘á»ƒ:
  + install / remove / update package
  + search / info / list package
- Káº¿t ná»‘i tá»›i repository online Ä‘á»ƒ tÃ¬m hoáº·c táº£i gÃ³i

--------------------------------------------------
2.2. search
--------------------------------------------------
- Subcommand cá»§a dnf
- TÃ¬m kiáº¿m tÃªn gÃ³i vÃ  mÃ´ táº£ chá»©a tá»« khÃ³a
- KhÃ´ng cÃ i Ä‘áº·t gÃ³i, chá»‰ hiá»ƒn thá»‹ danh sÃ¡ch

--------------------------------------------------
2.3. mysql
--------------------------------------------------
- Tá»« khÃ³a tÃ¬m kiáº¿m
- DNF sáº½ liá»‡t kÃª táº¥t cáº£ gÃ³i cÃ³ "mysql" trong:
  + TÃªn gÃ³i
  + MÃ´ táº£ gÃ³i

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. DNF truy váº¥n cÃ¡c repository Ä‘Ã£ cáº¥u hÃ¬nh
2. So sÃ¡nh tá»« khÃ³a "mysql" vá»›i tÃªn gÃ³i vÃ  description
3. Hiá»ƒn thá»‹ danh sÃ¡ch gÃ³i phÃ¹ há»£p

--------------------------------------------------
4. OUTPUT MáºªU
--------------------------------------------------
dnf search mysql

Last metadata expiration check: 0:05:23 ago on Wed 17 Dec 2025 10:25:12.
==================================================== N/S matched: mysql ====================================================
mysql.x86_64 : MySQL database server
mysql-client.x86_64 : MySQL client programs
mysql-devel.x86_64 : Libraries and header files for MySQL development
perl-DBD-MySQL.x86_64 : Perl Database Interface to MySQL

--------------------------------------------------
5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
--------------------------------------------------
- Xem thÃ´ng tin chi tiáº¿t cá»§a má»™t gÃ³i:
dnf info mysql

- CÃ i gÃ³i sau khi tÃ¬m:
sudo dnf install mysql -y

- TÃ¬m táº¥t cáº£ gÃ³i liÃªn quan tá»« nhiá»u repository:
dnf search all mysql

--------------------------------------------------
6. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

6.1. KhÃ´ng tÃ¬m tháº¥y gÃ³i
--------------------------------------------------
- Repository chÆ°a Ä‘Æ°á»£c báº­t
- DNF metadata lá»—i
Giáº£i phÃ¡p:
sudo dnf clean all
sudo dnf makecache

6.2. Quyá»n
--------------------------------------------------
- DNF search khÃ´ng cáº§n sudo
- NhÆ°ng install/update cáº§n sudo

--------------------------------------------------
7. Cáº¢NH BÃO
--------------------------------------------------
- search chá»‰ hiá»ƒn thá»‹ gÃ³i, khÃ´ng cÃ i Ä‘áº·t
- Káº¿t quáº£ cÃ³ thá»ƒ dÃ i â†’ dÃ¹ng grep lá»c náº¿u cáº§n

VÃ­ dá»¥:
dnf search mysql | grep client

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
dnf search mysql

= TÃ¬m kiáº¿m gÃ³i MySQL trÃªn há»‡ thá»‘ng dÃ¹ng DNF
= Hiá»ƒn thá»‹ tÃªn vÃ  mÃ´ táº£ gÃ³i
= KhÃ´ng cÃ i Ä‘áº·t gÃ³i
= Chuáº©n bá»‹ trÆ°á»›c khi install
		
		
		- cmd: dnf install mariadb1011 -y
		
Lá»†NH: dnf install mariadb1011 -y
================================

1. Má»¤C ÄÃCH
----------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **cÃ i Ä‘áº·t MariaDB phiÃªn báº£n 10.11** trÃªn há»‡ thá»‘ng Linux sá»­ dá»¥ng DNF (Fedora, CentOS 8+, RHEL 8+).

- MariaDB lÃ  má»™t há»‡ quáº£n trá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u (DBMS) mÃ£ nguá»“n má»Ÿ, tÆ°Æ¡ng thÃ­ch MySQL.
- `-y` tá»± Ä‘á»™ng tráº£ lá»i "yes" cho táº¥t cáº£ cÃ¡c cÃ¢u há»i khi cÃ i Ä‘áº·t, giÃºp cÃ i Ä‘áº·t khÃ´ng cáº§n tÆ°Æ¡ng tÃ¡c.


2. Cáº¤U TRÃšC Lá»†NH
----------------
dnf install [package_name] -y

Giáº£i thÃ­ch Ã¡p dá»¥ng:
- `dnf`                : TrÃ¬nh quáº£n lÃ½ gÃ³i thay tháº¿ `yum` trÃªn Fedora/CentOS/RHEL má»›i
- `install`            : Lá»‡nh cÃ i Ä‘áº·t gÃ³i pháº§n má»m
- `mariadb1011`        : TÃªn gÃ³i MariaDB phiÃªn báº£n 10.11
- `-y`                 : Tá»± Ä‘á»™ng cháº¥p nháº­n táº¥t cáº£ cÃ¡c prompt trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t


3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
---------------------
1. DNF kiá»ƒm tra repository vÃ  metadata Ä‘á»ƒ tÃ¬m gÃ³i `mariadb1011`.
2. TÃ¬m cÃ¡c dependency cáº§n thiáº¿t vÃ  xÃ¡c nháº­n phiÃªn báº£n.
3. Táº£i vÃ  cÃ i Ä‘áº·t MariaDB cÃ¹ng cÃ¡c gÃ³i phá»¥ thuá»™c.
4. Cáº­p nháº­t há»‡ thá»‘ng vá»›i MariaDB má»›i.
5. Káº¿t thÃºc cÃ i Ä‘áº·t, dá»‹ch vá»¥ MariaDB cÃ³ thá»ƒ cáº§n Ä‘Æ°á»£c khá»Ÿi Ä‘á»™ng thá»§ cÃ´ng hoáº·c tá»± Ä‘á»™ng.


4. VÃ Dá»¤ THá»°C Táº¾
-----------------
1. CÃ i Ä‘áº·t MariaDB 10.11 trÃªn CentOS/RHEL 8+:
   sudo dnf install mariadb1011 -y

2. Kiá»ƒm tra cÃ i Ä‘áº·t:
   mysql --version
   - Output vÃ­ dá»¥: `mysql  Ver 15.1 Distrib 10.11.4-MariaDB, for Linux (x86_64)`


5. LÆ¯U Ã QUAN TRá»ŒNG
-------------------
- Cáº§n quyá»n root hoáº·c sudo Ä‘á»ƒ cÃ i Ä‘áº·t pháº§n má»m.
- CÃ³ thá»ƒ cáº§n thÃªm repository MariaDB náº¿u phiÃªn báº£n 10.11 khÃ´ng cÃ³ sáºµn trong repository máº·c Ä‘á»‹nh:
		
		
		- cmd: mysql -h vprords.cvrzecdaz2zy.us-east-1.rds.amazonaws.com -u admin -pYhEQ2ZAXD3d97PsHZXhb accounts
		
Lá»†NH: mysql -h vprords.cvrzecdaz2zy.us-east-1.rds.amazonaws.com -u admin -pYhEQ2ZAXD3d97PsHZXhb accounts
====================================================================

1. mysql lÃ  gÃ¬?
--------------------------------------------------------------------
- mysql lÃ  client command-line cá»§a MySQL/MariaDB
- DÃ¹ng Ä‘á»ƒ:
  + Káº¿t ná»‘i tá»›i MySQL server
  + Thá»±c thi lá»‡nh SQL
  + Quáº£n lÃ½ cÆ¡ sá»Ÿ dá»¯ liá»‡u
- Cáº§n MySQL client Ä‘Ã£ Ä‘Æ°á»£c cÃ i trÃªn mÃ¡y local/server

--------------------------------------------------------------------

2. -h vprords.cvrzecdaz2zy.us-east-1.rds.amazonaws.com
--------------------------------------------------------------------
- -h = host
- Chá»‰ Ä‘á»‹nh hostname hoáº·c IP cá»§a MySQL server
- Trong vÃ­ dá»¥ nÃ y:
  + Server náº±m trÃªn Amazon RDS
  + Region: us-east-1
  + Endpoint: vprords.cvrzecdaz2zy.us-east-1.rds.amazonaws.com

--------------------------------------------------------------------

3. -u admin
--------------------------------------------------------------------
- -u = user
- XÃ¡c Ä‘á»‹nh user Ä‘á»ƒ káº¿t ná»‘i MySQL
- á» Ä‘Ã¢y:
  + User = admin
- User cáº§n cÃ³ quyá»n truy cáº­p cÆ¡ sá»Ÿ dá»¯ liá»‡u accounts

--------------------------------------------------------------------

4. -pYhEQ2ZAXD3d97PsHZXhb
--------------------------------------------------------------------
- -p = password
- Náº¿u viáº¿t liá»n sau -p, mysql dÃ¹ng chuá»—i ngay sau lÃ m password
  + Password á»Ÿ Ä‘Ã¢y = YhEQ2ZAXD3d97PsHZXhb
- LÆ°u Ã½: viáº¿t password trá»±c tiáº¿p trÃªn command line cÃ³ rá»§i ro báº£o máº­t
- ThÆ°á»ng khuyáº¿n nghá»‹ dÃ¹ng -p vÃ  nháº­p password khi mysql prompt

--------------------------------------------------------------------

5. accounts
--------------------------------------------------------------------
- TÃªn cÆ¡ sá»Ÿ dá»¯ liá»‡u (database) muá»‘n káº¿t ná»‘i
- Khi káº¿t ná»‘i thÃ nh cÃ´ng, mysql máº·c Ä‘á»‹nh thao tÃ¡c trÃªn DB nÃ y
- CÃ¡c lá»‡nh SQL sáº½ Ã¡p dá»¥ng trÃªn accounts

--------------------------------------------------------------------

6. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
mysql -h vprords.cvrzecdaz2zy.us-east-1.rds.amazonaws.com -u admin -pYhEQ2ZAXD3d97PsHZXhb accounts

â†’ Káº¿t ná»‘i tá»›i MySQL server trÃªn Amazon RDS  
â†’ DÃ¹ng user admin vÃ  password Ä‘Ã£ cung cáº¥p  
â†’ Má»Ÿ cÆ¡ sá»Ÿ dá»¯ liá»‡u accounts Ä‘á»ƒ thá»±c thi lá»‡nh SQL  
â†’ Sau khi káº¿t ná»‘i thÃ nh cÃ´ng, báº¡n cÃ³ thá»ƒ cháº¡y cÃ¡c cÃ¢u lá»‡nh nhÆ° SELECT, INSERT, UPDATE, v.v.

KHÃ”NG:
- KhÃ´ng táº¡o database má»›i
- KhÃ´ng backup tá»± Ä‘á»™ng
- Chá»‰ káº¿t ná»‘i vÃ  thao tÃ¡c SQL

--------------------------------------------------------------------

7. Quy trÃ¬nh thá»±c thi
--------------------------------------------------------------------
1) mysql client gá»­i request tá»›i host RDS qua port máº·c Ä‘á»‹nh 3306
2) Server xÃ¡c thá»±c user/password
3) Náº¿u thÃ nh cÃ´ng â†’ má»Ÿ session vÃ  chá»n database accounts
4) NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ nháº­p lá»‡nh SQL trá»±c tiáº¿p trÃªn terminal

--------------------------------------------------------------------

8. Kiá»ƒm tra káº¿t ná»‘i
--------------------------------------------------------------------
- Náº¿u lá»—i:
  + Access denied â†’ sai user/password
  + Can't connect â†’ hostname sai hoáº·c port 3306 bá»‹ firewall cháº·n
- Kiá»ƒm tra:
telnet vprords.cvrzecdaz2zy.us-east-1.rds.amazonaws.com 3306

--------------------------------------------------------------------

9. Cáº¥u hÃ¬nh liÃªn quan
--------------------------------------------------------------------
- Quyá»n user admin trÃªn DB accounts
- Security group RDS cho phÃ©p inbound MySQL (3306) tá»« IP client
- MySQL client phiÃªn báº£n tÆ°Æ¡ng thÃ­ch vá»›i server

--------------------------------------------------------------------

10. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) ERROR 1045 (28000): Access denied
- Sai user/password hoáº·c host khÃ´ng Ä‘Æ°á»£c phÃ©p

2) ERROR 2003 (HY000): Can't connect
- Network hoáº·c security group cháº·n

3) WARNING: Using a password on the command line interface can be insecure
- Khuyáº¿n nghá»‹ nháº­p password khi prompt

--------------------------------------------------------------------

11. LÆ°u Ã½ báº£o máº­t
--------------------------------------------------------------------
- KhÃ´ng Ä‘á»ƒ password hiá»‡n trong command history
- CÃ³ thá»ƒ dÃ¹ng file ~/.my.cnf Ä‘á»ƒ lÆ°u credentials an toÃ n
- Háº¡n cháº¿ quyá»n admin trÃªn production

--------------------------------------------------------------------

12. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
mysql -h vprords.cvrzecdaz2zy.us-east-1.rds.amazonaws.com -u admin -pYhEQ2ZAXD3d97PsHZXhb accounts =
Káº¾T Ná»I Tá»šI CÆ  Sá» Dá»® LIá»†U accounts TRÃŠN AMAZON RDS Báº°NG MYSQL CLI Sá»¬ Dá»¤NG USER admin VÃ€ PASSWORD ÄÃƒ CUNG Cáº¤P
		
		
		- cmd: wget https://raw.githubusercontent.com/hkhcoder/vprofile-project/refs/heads/aws-ci/src/main/resources/db_backup.sql
		
# Lá»‡nh gá»‘c:
wget https://raw.githubusercontent.com/hkhcoder/vprofile-project/refs/heads/aws-ci/src/main/resources/db_backup.sql

# Giáº£i thÃ­ch chi tiáº¿t:

# 1. wget
# - LÃ  má»™t cÃ´ng cá»¥ dÃ²ng lá»‡nh trÃªn Linux/Unix dÃ¹ng Ä‘á»ƒ táº£i file tá»« Internet.
# - Há»— trá»£ giao thá»©c HTTP, HTTPS, vÃ  FTP.
# - CÃº phÃ¡p cÆ¡ báº£n: wget [tÃ¹y chá»n] URL

# 2. URL
# - ÄÃ¢y lÃ  Ä‘á»‹a chá»‰ cá»§a file báº¡n muá»‘n táº£i vá»:
#   https://raw.githubusercontent.com/hkhcoder/vprofile-project/refs/heads/aws-ci/src/main/resources/db_backup.sql
# - Giáº£i thÃ­ch cÃ¡c pháº§n:
#   + raw.githubusercontent.com: Ä‘á»‹a chá»‰ Ä‘á»ƒ láº¥y trá»±c tiáº¿p ná»™i dung thÃ´ (raw) cá»§a file trÃªn GitHub.
#   + hkhcoder/vprofile-project: repository trÃªn GitHub.
#   + refs/heads/aws-ci: nhÃ¡nh (branch) aws-ci trong repository.
#   + src/main/resources/db_backup.sql: Ä‘Æ°á»ng dáº«n Ä‘áº¿n file db_backup.sql trong repository.

# 3. Chá»©c nÄƒng
# - Khi báº¡n cháº¡y lá»‡nh nÃ y, wget sáº½:
#   + Káº¿t ná»‘i Ä‘áº¿n GitHub.
#   + Táº£i file db_backup.sql tá»« nhÃ¡nh aws-ci.
#   + LÆ°u file nÃ y vÃ o thÆ° má»¥c hiá»‡n táº¡i vá»›i tÃªn db_backup.sql.

# 4. Má»™t sá»‘ tÃ¹y chá»n thÆ°á»ng dÃ¹ng vá»›i wget (khÃ´ng cÃ³ trong lá»‡nh gá»‘c, nhÆ°ng há»¯u Ã­ch):
# - -O [tÃªn_file]: Ä‘áº·t tÃªn file khi lÆ°u, vÃ­ dá»¥: wget URL -O myfile.sql
# - -q: táº£i file á»Ÿ cháº¿ Ä‘á»™ yÃªn láº·ng (khÃ´ng hiá»ƒn thá»‹ tiáº¿n trÃ¬nh)
# - -c: tiáº¿p tá»¥c táº£i náº¿u file chÆ°a táº£i xong trÆ°á»›c Ä‘Ã³

# VÃ­ dá»¥ minh há»a vá»›i tÃ¹y chá»n:
# wget -O db_backup.sql https://raw.githubusercontent.com/hkhcoder/vprofile-project/refs/heads/aws-ci/src/main/resources/db_backup.sql

# Káº¿t luáº­n:
# Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ táº£i file SQL tá»« GitHub trá»±c tiáº¿p vá» mÃ¡y cá»¥c bá»™, ráº¥t tiá»‡n khi cáº§n sao lÆ°u hoáº·c restore cÆ¡ sá»Ÿ dá»¯ liá»‡u.
		
		
		- cmd: mysql -h vprords.cvrzecdaz2zy.us-east-1.rds.amazonaws.com -u admin -pYhEQ2ZAXD3d97PsHZXhb accounts < db_backup.sql
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
mysql -h vprords.cvrzecdaz2zy.us-east-1.rds.amazonaws.com -u admin -pYhEQ2ZAXD3d97PsHZXhb accounts < db_backup.sql
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng MySQL client Ä‘á»ƒ phá»¥c há»“i (restore) cÆ¡ sá»Ÿ dá»¯ liá»‡u
tá»« file backup `db_backup.sql` lÃªn má»™t database trÃªn Amazon RDS.

- `mysql` lÃ  client command-line Ä‘á»ƒ káº¿t ná»‘i MySQL/MariaDB
- File `db_backup.sql` chá»©a cÃ¡c lá»‡nh SQL dump:
  + CREATE TABLE
  + INSERT
  + ALTER, v.v.
- Dá»¯ liá»‡u Ä‘Æ°á»£c import vÃ o database `accounts` trÃªn server RDS

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. mysql
--------------------------------------------------
- MySQL command-line client
- DÃ¹ng Ä‘á»ƒ:
  + Káº¿t ná»‘i MySQL server
  + Thá»±c thi query
  + Import/export database

--------------------------------------------------
2.2. -h vprords.cvrzecdaz2zy.us-east-1.rds.amazonaws.com
--------------------------------------------------
- Hostname cá»§a server MySQL (Amazon RDS)
- MySQL client sáº½ káº¿t ná»‘i tá»›i Ä‘á»‹a chá»‰ nÃ y
- CÃ³ thá»ƒ thay báº±ng IP hoáº·c hostname khÃ¡c

--------------------------------------------------
2.3. -u admin
--------------------------------------------------
- User dÃ¹ng Ä‘á»ƒ Ä‘Äƒng nháº­p MySQL
- á» Ä‘Ã¢y lÃ  user `admin`

--------------------------------------------------
2.4. -pYhEQ2ZAXD3d97PsHZXhb
--------------------------------------------------
- Password Ä‘i kÃ¨m user
- LÆ°u Ã½:
  + KhÃ´ng cÃ³ khoáº£ng tráº¯ng giá»¯a `-p` vÃ  password
  + SSH/CLI sáº½ sá»­ dá»¥ng password nÃ y Ä‘á»ƒ xÃ¡c thá»±c
- Náº¿u khÃ´ng muá»‘n hiá»‡n password trÃªn command-line:
--------------------------------------------------
mysql -u admin -p

- Sau Ä‘Ã³ nháº­p password khi Ä‘Æ°á»£c prompt

--------------------------------------------------
2.5. accounts
--------------------------------------------------
- TÃªn database trÃªn MySQL server
- Dá»¯ liá»‡u tá»« file `db_backup.sql` sáº½ Ä‘Æ°á»£c import vÃ o database nÃ y

--------------------------------------------------
2.6. < db_backup.sql
--------------------------------------------------
- Dáº¥u `<` trong shell Linux:
  + Redirect ná»™i dung file lÃ m input cho lá»‡nh
- `db_backup.sql` chá»©a cÃ¡c lá»‡nh SQL Ä‘á»ƒ khÃ´i phá»¥c database

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. MySQL client káº¿t ná»‘i tá»›i RDS host:
   - Sá»­ dá»¥ng hostname (-h), user (-u), password (-p)
2. Chá»n database `accounts`
3. Äá»c file `db_backup.sql` dÃ²ng theo dÃ²ng
4. Thá»±c thi tá»«ng lá»‡nh SQL trÃªn database `accounts`
5. ThÃ´ng bÃ¡o lá»—i hoáº·c success trÃªn terminal

--------------------------------------------------
4. KIá»‚M TRA SAU KHI RESTORE
--------------------------------------------------
- Kiá»ƒm tra database:
--------------------------------------------------
mysql -h vprords.cvrzecdaz2zy.us-east-1.rds.amazonaws.com -u admin -p
mysql> SHOW DATABASES;
mysql> USE accounts;
mysql> SHOW TABLES;

- Kiá»ƒm tra dá»¯ liá»‡u:
--------------------------------------------------
mysql> SELECT COUNT(*) FROM some_table;

--------------------------------------------------
5. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- Backup file pháº£i tÆ°Æ¡ng thÃ­ch vá»›i MySQL version
- Quyá»n user `admin` pháº£i Ä‘á»§ Ä‘á»ƒ CREATE/INSERT
- TrÃ¡nh hiá»ƒn thá»‹ password trÃªn terminal náº¿u public
- CÃ³ thá»ƒ sá»­ dá»¥ng file .my.cnf Ä‘á»ƒ lÆ°u credentials an toÃ n

--------------------------------------------------
6. CÃC BIáº¾N THá»‚ THÆ¯á»œNG Gáº¶P
--------------------------------------------------
- Import gzip file trá»±c tiáº¿p:
--------------------------------------------------
gunzip < db_backup.sql.gz | mysql -h host -u user -p database

- Sá»­ dá»¥ng SSL cho RDS:
--------------------------------------------------
mysql --ssl-ca=rds-combined-ca-bundle.pem -h host -u user -p database < db_backup.sql

--------------------------------------------------
7. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- KhÃ´i phá»¥c database tá»« backup
- Migration dá»¯ liá»‡u lÃªn RDS
- Backup/restore DevOps vÃ  production environment

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
mysql -h vprords.cvrzecdaz2zy.us-east-1.rds.amazonaws.com -u admin -pYhEQ2ZAXD3d97PsHZXhb accounts < db_backup.sql
= Restore dá»¯ liá»‡u tá»« db_backup.sql vÃ o database accounts
= Káº¿t ná»‘i MySQL RDS vá»›i user vÃ  password
= DÃ¹ng redirect < Ä‘á»ƒ import SQL
= Phá»¥c vá»¥ backup, restore, migration dá»¯ liá»‡u
==================================================
		
		
		- cmd: ls .ssh/
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
ls .ssh/

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Liá»‡t kÃª ná»™i dung thÆ° má»¥c `.ssh` trong thÆ° má»¥c hiá»‡n táº¡i hoáº·c home cá»§a user
- ThÆ° má»¥c `.ssh` thÆ°á»ng chá»©a cÃ¡c file liÃªn quan Ä‘áº¿n SSH:
  + Private key (.pem, id_rsa)
  + Public key (.pub, id_rsa.pub)
  + Authorized keys (authorized_keys)
  + Config SSH (config)
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ kiá»ƒm tra key Ä‘Ã£ Ä‘Æ°á»£c táº¡o hay chÆ°a, hoáº·c danh sÃ¡ch cÃ¡c key hiá»‡n cÃ³

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. ls
--------------------------------------------------
- Lá»‡nh liá»‡t kÃª file vÃ  thÆ° má»¥c trong Linux/Unix
- KhÃ´ng dÃ¹ng option â†’ chá»‰ liá»‡t kÃª tÃªn file
- Option phá»• biáº¿n:
  + -l : chi tiáº¿t (permissions, owner, size, date)
  + -a : hiá»ƒn thá»‹ cáº£ file áº©n

2.2. .ssh/
--------------------------------------------------
- ThÆ° má»¥c áº©n chá»©a cáº¥u hÃ¬nh SSH
- Náº±m trong home directory cá»§a user (~/.ssh)
- Ná»™i dung quan trá»ng liÃªn quan báº£o máº­t

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. Bash truy xuáº¥t thÆ° má»¥c .ssh trong thÆ° má»¥c hiá»‡n táº¡i
2. Liá»‡t kÃª tÃªn cÃ¡c file vÃ  thÆ° má»¥c con
3. Hiá»ƒn thá»‹ trÃªn terminal

--------------------------------------------------
4. OUTPUT MáºªU
--------------------------------------------------
VÃ­ dá»¥ home cá»§a user cÃ³ .ssh:

id_rsa
id_rsa.pub
authorized_keys
config
known_hosts

- id_rsa : private key
- id_rsa.pub : public key
- authorized_keys : cÃ¡c key Ä‘Æ°á»£c phÃ©p login
- config : cáº¥u hÃ¬nh SSH client
- known_hosts : host Ä‘Ã£ káº¿t ná»‘i trÆ°á»›c Ä‘Ã³

--------------------------------------------------
5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
--------------------------------------------------
- Xem chi tiáº¿t quyá»n file:
ls -l ~/.ssh/

- Kiá»ƒm tra key tá»“n táº¡i:
ls ~/.ssh/id_rsa*

- Xem cáº£ file áº©n:
ls -la ~/.ssh/

--------------------------------------------------
6. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

6.1. No such file or directory
--------------------------------------------------
- ThÆ° má»¥c chÆ°a tá»“n táº¡i
- Giáº£i phÃ¡p:
mkdir -p ~/.ssh
chmod 700 ~/.ssh

6.2. Quyá»n háº¡n khÃ´ng phÃ¹ há»£p
--------------------------------------------------
- SSH yÃªu cáº§u:
chmod 700 ~/.ssh
chmod 600 ~/.ssh/id_rsa
chmod 644 ~/.ssh/id_rsa.pub

--------------------------------------------------
7. Cáº¢NH BÃO
--------------------------------------------------
- ThÆ° má»¥c .ssh chá»©a private key â†’ khÃ´ng share file
- KhÃ´ng Ä‘á»•i quyá»n quÃ¡ rá»™ng (777)
- Backup key quan trá»ng trÆ°á»›c khi xÃ³a

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
ls .ssh/

= Liá»‡t kÃª cÃ¡c file vÃ  thÆ° má»¥c con trong .ssh
= Kiá»ƒm tra key vÃ  file config SSH
= GiÃºp debug káº¿t ná»‘i SSH
= KhÃ´ng thay Ä‘á»•i file, chá»‰ xem ná»™i dung
		
		
		- cmd: cat vprobit_rsa.pub
		
Lá»†NH: cat vprobit_rsa.pub
=========================

1. Má»¤C ÄÃCH
----------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **hiá»ƒn thá»‹ ná»™i dung file public key SSH** cÃ³ tÃªn `vprobit_rsa.pub` ra terminal.

- Public key SSH Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ xÃ¡c thá»±c user khi káº¿t ná»‘i SSH tá»›i server mÃ  khÃ´ng cáº§n máº­t kháº©u.
- Viá»‡c hiá»ƒn thá»‹ ná»™i dung public key thÆ°á»ng dÃ¹ng Ä‘á»ƒ:
  - ThÃªm vÃ o file `~/.ssh/authorized_keys` trÃªn server remote
  - Sao chÃ©p key lÃªn GitHub, GitLab hoáº·c cÃ¡c dá»‹ch vá»¥ Git khÃ¡c
  - Kiá»ƒm tra ná»™i dung key trÆ°á»›c khi triá»ƒn khai


2. Cáº¤U TRÃšC Lá»†NH
----------------
cat [file_name]

Trong vÃ­ dá»¥:
- `cat`           : Command dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ ná»™i dung file ra terminal
- `vprobit_rsa.pub` : File public key SSH


3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
---------------------
1. `cat` Ä‘á»c toÃ n bá»™ ná»™i dung file `vprobit_rsa.pub`.
2. Hiá»ƒn thá»‹ ná»™i dung ra terminal, bao gá»“m:
   - Loáº¡i key (vÃ­ dá»¥ `ssh-rsa` hoáº·c `ecdsa-sha2-nistp256`)
   - Key dá»¯ liá»‡u
   - Comment (thÆ°á»ng lÃ  tÃªn user hoáº·c host)
3. NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ sao chÃ©p ná»™i dung nÃ y Ä‘á»ƒ thÃªm vÃ o cÃ¡c mÃ¡y chá»§ hoáº·c dá»‹ch vá»¥ Git


4. VÃ Dá»¤ THá»°C Táº¾
-----------------
1. File `vprobit_rsa.pub`:
		
		
		- cmd: ssh -T git@bitbucket.org
		
Lá»†NH: ssh -T git@bitbucket.org
====================================================================

1. ssh lÃ  gÃ¬?
--------------------------------------------------------------------
- ssh = Secure Shell
- DÃ¹ng Ä‘á»ƒ káº¿t ná»‘i an toÃ n tá»›i server tá»« xa qua máº¡ng
- Há»— trá»£:
  + XÃ¡c thá»±c báº±ng password hoáº·c key (public/private)
  + MÃ£ hÃ³a dá»¯ liá»‡u truyá»n Ä‘i
- ThÆ°á»ng dÃ¹ng cho quáº£n trá»‹ server, Git, SCP, SFTP

--------------------------------------------------------------------

2. -T lÃ  gÃ¬?
--------------------------------------------------------------------
- -T = disable pseudo-terminal allocation
- Khi dÃ¹ng -T:
  + SSH khÃ´ng má»Ÿ terminal tÆ°Æ¡ng tÃ¡c
  + ThÃ­ch há»£p cho cÃ¡c káº¿t ná»‘i thá»±c thi lá»‡nh tá»« xa khÃ´ng cáº§n shell
- Trong Git, dÃ¹ng Ä‘á»ƒ kiá»ƒm tra quyá»n truy cáº­p repository

--------------------------------------------------------------------

3. git@bitbucket.org lÃ  gÃ¬?
--------------------------------------------------------------------
- git â†’ user SSH dÃ¹ng Ä‘á»ƒ káº¿t ná»‘i Git repository
- bitbucket.org â†’ host Git server cá»§a Atlassian Bitbucket
- ÄÃ¢y lÃ  endpoint SSH Ä‘á»ƒ truy cáº­p repository trÃªn Bitbucket

--------------------------------------------------------------------

4. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
ssh -T git@bitbucket.org

â†’ Kiá»ƒm tra káº¿t ná»‘i SSH tá»›i Bitbucket  
â†’ KhÃ´ng má»Ÿ shell tÆ°Æ¡ng tÃ¡c (-T)  
â†’ Server tráº£ vá» thÃ´ng bÃ¡o xÃ¡c thá»±c Git user  
â†’ DÃ¹ng Ä‘á»ƒ kiá»ƒm tra xem SSH key Ä‘Ã£ Ä‘Æ°á»£c thÃªm vÃ o Bitbucket chÆ°a

KHÃ”NG:
- KhÃ´ng clone repository
- KhÃ´ng push/pull dá»¯ liá»‡u
- Chá»‰ kiá»ƒm tra káº¿t ná»‘i vÃ  quyá»n SSH

--------------------------------------------------------------------

5. Quy trÃ¬nh thá»±c thi
--------------------------------------------------------------------
1) SSH client gá»­i request tá»›i bitbucket.org qua port 22
2) XÃ¡c thá»±c key public/private
3) Náº¿u thÃ nh cÃ´ng:
   + Server xÃ¡c nháº­n Git user
   + In thÃ´ng bÃ¡o nhÆ°:
     "authenticated via SSH key"
4) Náº¿u tháº¥t báº¡i:
   + BÃ¡o lá»—i permission denied hoáº·c authentication failed

--------------------------------------------------------------------

6. Output thÆ°á»ng tháº¥y
--------------------------------------------------------------------
- ThÃ nh cÃ´ng:
"authenticated via a deploy key."
hoáº·c
"logged in as <username>."

- Tháº¥t báº¡i:
"Permission denied (publickey)."

--------------------------------------------------------------------

7. Khi nÃ o dÃ¹ng lá»‡nh nÃ y?
--------------------------------------------------------------------
- Kiá»ƒm tra SSH key Ä‘Ã£ Ä‘Æ°á»£c Ä‘Äƒng kÃ½ trÃªn Bitbucket chÆ°a
- Debug lá»—i káº¿t ná»‘i Git qua SSH
- TrÆ°á»›c khi push/pull repository

--------------------------------------------------------------------

8. LÆ°u Ã½ quan trá»ng
--------------------------------------------------------------------
- SSH key pháº£i Ä‘Æ°á»£c thÃªm vÃ o Bitbucket (Settings â†’ SSH keys)
- Key private trÃªn mÃ¡y client pháº£i cÃ³ quyá»n Ä‘á»c
- KhÃ´ng dÃ¹ng -T náº¿u muá»‘n má»Ÿ shell tÆ°Æ¡ng tÃ¡c

--------------------------------------------------------------------

9. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) Permission denied (publickey)
- Key chÆ°a Ä‘Æ°á»£c thÃªm vÃ o Bitbucket
- Key khÃ´ng Ä‘Ãºng hoáº·c sai quyá»n (chmod 600 ~/.ssh/id_rsa)

2) Connection timed out
- Port 22 bá»‹ firewall cháº·n
- Kiá»ƒm tra network

3) Host key verification failed
- ChÆ°a trust host bitbucket.org
- Cháº¡y:
ssh-keyscan bitbucket.org >> ~/.ssh/known_hosts

--------------------------------------------------------------------

10. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
ssh -T git@bitbucket.org =
KIá»‚M TRA Káº¾T Ná»I SSH Tá»šI BITBUCKET Äá»‚ XÃC NHáº¬N QUYá»€N TRUY Cáº¬P GIT REPOSITORY MÃ€ KHÃ”NG Má» TERMINAL TÆ¯Æ NG TÃC
		
		
		- cmd: ls -ltr
		
# Lá»‡nh gá»‘c:
ls -ltr

# Giáº£i thÃ­ch chi tiáº¿t:

# 1. ls
# - LÃ  lá»‡nh dÃ¹ng trong Linux/Unix Ä‘á»ƒ liá»‡t kÃª ná»™i dung cá»§a thÆ° má»¥c.
# - CÃº phÃ¡p cÆ¡ báº£n: ls [tÃ¹y chá»n] [Ä‘Æ°á»ng_dáº«n_thÆ°_má»¥c]

# 2. CÃ¡c tÃ¹y chá»n trong lá»‡nh nÃ y:
# -l : Liá»‡t kÃª chi tiáº¿t (long format), hiá»ƒn thá»‹ cÃ¡c thÃ´ng tin nhÆ°:
#      + Quyá»n truy cáº­p (permissions)
#      + Sá»‘ liÃªn káº¿t (number of links)
#      + Chá»§ sá»Ÿ há»¯u (owner)
#      + NhÃ³m (group)
#      + KÃ­ch thÆ°á»›c file (size)
#      + Thá»i gian chá»‰nh sá»­a cuá»‘i cÃ¹ng (modification time)
#      + TÃªn file/thÆ° má»¥c
# -t : Sáº¯p xáº¿p theo thá»i gian chá»‰nh sá»­a gáº§n nháº¥t, file má»›i nháº¥t sáº½ Ä‘á»©ng Ä‘áº§u danh sÃ¡ch.
# -r : Äáº£o ngÆ°á»£c thá»© tá»± sáº¯p xáº¿p, tá»©c lÃ  file cÅ© nháº¥t sáº½ Ä‘á»©ng Ä‘áº§u danh sÃ¡ch.

# 3. Káº¿t há»£p: ls -ltr
# - Liá»‡t kÃª cÃ¡c file vÃ  thÆ° má»¥c theo dáº¡ng chi tiáº¿t.
# - Sáº¯p xáº¿p theo thá»i gian chá»‰nh sá»­a.
# - Hiá»ƒn thá»‹ tá»« file cÅ© nháº¥t Ä‘áº¿n má»›i nháº¥t.

# 4. VÃ­ dá»¥ minh há»a:
# Giáº£ sá»­ thÆ° má»¥c hiá»‡n táº¡i cÃ³ cÃ¡c file:
# file1.txt (chá»‰nh sá»­a ngÃ y 01/01)
# file2.txt (chá»‰nh sá»­a ngÃ y 03/01)
# file3.txt (chá»‰nh sá»­a ngÃ y 02/01)
# Khi cháº¡y lá»‡nh ls -ltr, káº¿t quáº£ sáº½ hiá»ƒn thá»‹ theo thá»© tá»±:
# file1.txt
# file3.txt
# file2.txt

# 5. Ghi chÃº:
# - ÄÃ¢y lÃ  lá»‡nh ráº¥t há»¯u Ã­ch khi báº¡n muá»‘n theo dÃµi cÃ¡c file Ä‘Æ°á»£c táº¡o hoáº·c chá»‰nh sá»­a gáº§n Ä‘Ã¢y.
# - CÃ³ thá»ƒ káº¿t há»£p vá»›i cÃ¡c tÃ¹y chá»n khÃ¡c nhÆ° -a (hiá»ƒn thá»‹ cáº£ file áº©n).

# Káº¿t luáº­n:
# lá»‡nh 'ls -ltr' giÃºp báº¡n liá»‡t kÃª ná»™i dung thÆ° má»¥c chi tiáº¿t, sáº¯p xáº¿p theo thá»i gian tá»« cÅ© nháº¥t Ä‘áº¿n má»›i nháº¥t.
		
		
		- cmd: cat .git/config
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
cat .git/config
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ ná»™i dung file cáº¥u hÃ¬nh Git
cá»§a repository hiá»‡n táº¡i.

- File `.git/config` náº±m trong thÆ° má»¥c áº©n `.git/` cá»§a repo
- Chá»©a cÃ¡c thiáº¿t láº­p riÃªng cho repository:
  + Remote URL
  + Branch máº·c Ä‘á»‹nh
  + User vÃ  email
  + CÃ¡c tÃ¹y chá»n khÃ¡c cá»§a Git

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. cat
--------------------------------------------------
- Command dÃ¹ng Ä‘á»ƒ Ä‘á»c vÃ  xuáº¥t ná»™i dung file ra terminal
- Phá»• biáº¿n trÃªn Linux/Unix
- KhÃ´ng chá»‰nh sá»­a, chá»‰ hiá»ƒn thá»‹

2.2. .git/config
--------------------------------------------------
- File cáº¥u hÃ¬nh Git cho repository hiá»‡n táº¡i
- File áº©n `.git` náº±m trong thÆ° má»¥c gá»‘c cá»§a project
- Cáº¥u trÃºc dáº¡ng INI:
--------------------------------------------------
[section]
key = value

VÃ­ dá»¥:

[core]
    repositoryformatversion = 0
    filemode = true
    bare = false
[remote "origin"]
    url = git@github.com:user/repo.git
    fetch = +refs/heads/*:refs/remotes/origin/*

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. Shell má»Ÿ file `.git/config`
2. Äá»c ná»™i dung file
3. Xuáº¥t toÃ n bá»™ ra terminal
4. NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ xem hoáº·c pipe cho lá»‡nh khÃ¡c

--------------------------------------------------
4. KIá»‚M TRA SAU KHI CHáº Y Lá»†NH
--------------------------------------------------
- Hiá»ƒn thá»‹ thÃ´ng tin remote:
--------------------------------------------------
[remote "origin"]
    url = git@github.com:user/repo.git
    fetch = +refs/heads/*:refs/remotes/origin/*

- Xem branch máº·c Ä‘á»‹nh:
--------------------------------------------------
[branch "main"]
    remote = origin
    merge = refs/heads/main

--------------------------------------------------
5. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- File nÃ y chá»‰ áº£nh hÆ°á»Ÿng Ä‘áº¿n repository hiá»‡n táº¡i
- Äá»ƒ xem cáº¥u hÃ¬nh Git toÃ n cá»¥c:
--------------------------------------------------
git config --global --list

- Äá»ƒ chá»‰nh sá»­a config:
--------------------------------------------------
git config [--global] key value

- Cat chá»‰ hiá»ƒn thá»‹, khÃ´ng thay Ä‘á»•i cáº¥u hÃ¬nh

--------------------------------------------------
6. CÃC BIáº¾N THá»‚ THÆ¯á»œNG Gáº¶P
--------------------------------------------------
- Hiá»ƒn thá»‹ vá»›i sá»‘ dÃ²ng:
--------------------------------------------------
cat -n .git/config

- Pipe ra grep Ä‘á»ƒ tÃ¬m key:
--------------------------------------------------
cat .git/config | grep url

--------------------------------------------------
7. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Kiá»ƒm tra remote URL
- XÃ¡c nháº­n branch máº·c Ä‘á»‹nh
- Debug cÃ¡c váº¥n Ä‘á» liÃªn quan Git
- Hiá»ƒu cáº¥u trÃºc repository

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
cat .git/config
= Hiá»ƒn thá»‹ ná»™i dung file cáº¥u hÃ¬nh Git repo
= Xem remote, branch, user, tÃ¹y chá»n khÃ¡c
= Chá»‰ Ä‘á»c, khÃ´ng chá»‰nh sá»­a
= GiÃºp kiá»ƒm tra vÃ  debug repository
==================================================
		
		
		- cmd: git fetch --tags
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
git fetch --tags

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Táº£i (fetch) táº¥t cáº£ tag tá»« remote repository vá» local repository
- KhÃ´ng merge hoáº·c checkout code, chá»‰ cáº­p nháº­t tag
- Tag trong Git thÆ°á»ng dÃ¹ng Ä‘á»ƒ Ä‘Ã¡nh dáº¥u release hoáº·c commit quan trá»ng
- ThÆ°á»ng dÃ¹ng khi muá»‘n Ä‘á»“ng bá»™ tag vá»›i remote trÆ°á»›c khi checkout hoáº·c deploy

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. git
--------------------------------------------------
- Há»‡ thá»‘ng quáº£n lÃ½ phiÃªn báº£n phÃ¢n tÃ¡n
- Quáº£n lÃ½ source code, lá»‹ch sá»­ commit, branch, tag

2.2. fetch
--------------------------------------------------
- Táº£i thay Ä‘á»•i tá»« remote vá» local
- KhÃ´ng merge vÃ o branch hiá»‡n táº¡i
- Chá»‰ cáº­p nháº­t refs trong remote-tracking branches

2.3. --tags
--------------------------------------------------
- ThÃªm option `--tags` cho fetch
- Táº£i táº¥t cáº£ tag tá»« remote
- Tag sáº½ xuáº¥t hiá»‡n trong local repository
- KhÃ´ng cáº§n checkout code

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. Git káº¿t ná»‘i tá»›i remote (origin máº·c Ä‘á»‹nh)
2. So sÃ¡nh tag hiá»‡n cÃ³ local vÃ  remote
3. Táº£i cÃ¡c tag má»›i tá»« remote vá» local
4. Cáº­p nháº­t refs/tags/* trong local repository

--------------------------------------------------
4. OUTPUT MáºªU
--------------------------------------------------
VÃ­ dá»¥ output khi cháº¡y:
From github.com:user/repo
 * [new tag]         v1.0.0     -> v1.0.0
 * [new tag]         v1.1.0     -> v1.1.0
 * [new tag]         v2.0.0     -> v2.0.0

--------------------------------------------------
5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
--------------------------------------------------
- Kiá»ƒm tra tag local:
git tag

- Kiá»ƒm tra tag remote:
git ls-remote --tags origin

- Checkout má»™t tag cá»¥ thá»ƒ:
git checkout tags/v1.1.0

- Fetch code + tags:
git fetch --all --tags

--------------------------------------------------
6. Lá»¢I ÃCH THá»°C Táº¾
--------------------------------------------------
- Äá»“ng bá»™ cÃ¡c release tag trÆ°á»›c deploy
- Giá»¯ repository local cáº­p nháº­t vá»›i remote
- Sá»­ dá»¥ng trong CI/CD Ä‘á»ƒ build theo tag

--------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

7.1. KhÃ´ng cÃ³ quyá»n remote
--------------------------------------------------
- Lá»—i authentication
- Giáº£i phÃ¡p: ssh-key, https credentials

7.2. Tag chÆ°a tá»“n táº¡i
--------------------------------------------------
- Lá»‡nh váº«n cháº¡y nhÆ°ng khÃ´ng táº£i gÃ¬
- Kiá»ƒm tra báº±ng git tag -l

--------------------------------------------------
8. Cáº¢NH BÃO
--------------------------------------------------
- Lá»‡nh chá»‰ fetch tag, khÃ´ng merge code
- Checkout tag â†’ detached HEAD, khÃ´ng commit trá»±c tiáº¿p trÃªn tag

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
git fetch --tags

= Táº£i táº¥t cáº£ tag tá»« remote vá» local
= KhÃ´ng áº£nh hÆ°á»Ÿng branch hiá»‡n táº¡i
= Äá»“ng bá»™ release vÃ  commit quan trá»ng
= Chuáº©n bá»‹ cho checkout, deploy hoáº·c CI/CD
		
		
		- cmd: git remote rm origin
		
Lá»†NH: git remote rm origin
=========================

1. Má»¤C ÄÃCH
----------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **xÃ³a remote cÃ³ tÃªn `origin` khá»i repository Git** hiá»‡n táº¡i.

- Remote lÃ  má»™t â€œlinkâ€ tá»›i repository tá»« xa (remote repository) nhÆ° GitHub, GitLab, Bitbucket.
- `origin` lÃ  tÃªn máº·c Ä‘á»‹nh cá»§a remote khi clone repository hoáº·c thÃªm láº§n Ä‘áº§u.
- DÃ¹ng lá»‡nh nÃ y khi:
  - Muá»‘n Ä‘á»•i URL remote
  - Muá»‘n xÃ³a remote khÃ´ng cÃ²n sá»­ dá»¥ng
  - Dá»n dáº¹p repository Git


2. Cáº¤U TRÃšC Lá»†NH
----------------
git remote rm [remote_name]

Trong vÃ­ dá»¥:
- `git`              : Command line tool quáº£n lÃ½ repository Git
- `remote`           : Subcommand quáº£n lÃ½ remote
- `rm`               : Thao tÃ¡c xÃ³a remote
- `origin`           : TÃªn remote cáº§n xÃ³a


3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
---------------------
1. Git tÃ¬m trong repository local remote cÃ³ tÃªn `origin`.
2. XÃ³a thÃ´ng tin remote, bao gá»“m:
   - URL remote
   - Fetch/push configuration
   - Táº¥t cáº£ cÃ¡c tracking branches liÃªn quan tá»›i remote
3. Sau khi xÃ³a, repository local **khÃ´ng cÃ²n liÃªn káº¿t vá»›i `origin`**.


4. VÃ Dá»¤ THá»°C Táº¾
-----------------
1. Kiá»ƒm tra remote hiá»‡n táº¡i:
		
		
		- cmd: git remote add origin git@bitbucket.org:devopscicd1122/vproapp.git
		
Lá»†NH: git remote add origin git@bitbucket.org:devopscicd1122/vproapp.git
====================================================================

1. git lÃ  gÃ¬?
--------------------------------------------------------------------
- Git lÃ  há»‡ thá»‘ng quáº£n lÃ½ phiÃªn báº£n phÃ¢n tÃ¡n (Distributed Version Control System)
- DÃ¹ng Ä‘á»ƒ:
  + LÆ°u trá»¯ lá»‹ch sá»­ thay Ä‘á»•i code
  + Äá»“ng bá»™ code giá»¯a nhiá»u developer
  + Quáº£n lÃ½ branch, merge, commit, v.v.

--------------------------------------------------------------------

2. remote lÃ  gÃ¬ trong Git?
--------------------------------------------------------------------
- remote = tÃªn gá»i Ä‘áº¡i diá»‡n cho má»™t repository tá»« xa
- GiÃºp Git biáº¿t nÆ¡i push/pull code
- ThÆ°á»ng dÃ¹ng remote máº·c Ä‘á»‹nh tÃªn lÃ  origin

--------------------------------------------------------------------

3. add origin lÃ  gÃ¬?
--------------------------------------------------------------------
- add = thÃªm má»™t remote má»›i
- origin = tÃªn remote máº·c Ä‘á»‹nh
  + TÃªn nÃ y cÃ³ thá»ƒ thay Ä‘á»•i, nhÆ°ng convention lÃ  origin cho repository gá»‘c
- CÃ¢u lá»‡nh nÃ y táº¡o liÃªn káº¿t local repository â†’ repository tá»« xa

--------------------------------------------------------------------

4. git@bitbucket.org:devopscicd1122/vproapp.git lÃ  gÃ¬?
--------------------------------------------------------------------
- ÄÃ¢y lÃ  URL SSH cá»§a repository tá»« xa trÃªn Bitbucket
- Giáº£i thÃ­ch chi tiáº¿t:
  + git@bitbucket.org â†’ user git káº¿t ná»‘i SSH
  + devopscicd1122 â†’ tÃªn workspace hoáº·c tÃ i khoáº£n trÃªn Bitbucket
  + vproapp.git â†’ tÃªn repository
- SSH URL yÃªu cáº§u SSH key Ä‘Ã£ Ä‘Äƒng kÃ½ trÃªn Bitbucket

--------------------------------------------------------------------

5. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
git remote add origin git@bitbucket.org:devopscicd1122/vproapp.git

â†’ ThÃªm remote tÃªn origin trá» tá»›i repository Bitbucket vproapp.git  
â†’ Cho phÃ©p cÃ¡c lá»‡nh:
  + git push origin main
  + git pull origin main
â†’ Local repository bÃ¢y giá» biáº¿t nÆ¡i Ä‘á»“ng bá»™ code

KHÃ”NG:
- KhÃ´ng push code ngay láº­p tá»©c
- KhÃ´ng táº¡o repository trÃªn Bitbucket
- Chá»‰ táº¡o liÃªn káº¿t giá»¯a local vÃ  remote

--------------------------------------------------------------------

6. Kiá»ƒm tra remote Ä‘Ã£ thÃªm
--------------------------------------------------------------------
- Liá»‡t kÃª remote:
git remote -v

- Output sáº½ hiá»ƒn thá»‹:
origin  git@bitbucket.org:devopscicd1122/vproapp.git (fetch)
origin  git@bitbucket.org:devopscicd1122/vproapp.git (push)

--------------------------------------------------------------------

7. Quy trÃ¬nh thá»±c thi
--------------------------------------------------------------------
1) Git lÆ°u thÃ´ng tin remote vÃ o file cáº¥u hÃ¬nh .git/config
2) Remote origin Ä‘Æ°á»£c táº¡o vÃ  gÃ¡n URL SSH
3) Local repository cÃ³ thá»ƒ tÆ°Æ¡ng tÃ¡c vá»›i repository tá»« xa qua origin

--------------------------------------------------------------------

8. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) fatal: remote origin already exists
- Remote origin Ä‘Ã£ tá»“n táº¡i
- Giáº£i phÃ¡p:
git remote remove origin
sau Ä‘Ã³ cháº¡y láº¡i lá»‡nh add

2) Permission denied (publickey)
- SSH key chÆ°a Ä‘Æ°á»£c thÃªm vÃ o Bitbucket
- Kiá»ƒm tra ssh -T git@bitbucket.org

3) Repository khÃ´ng tá»“n táº¡i
- Kiá»ƒm tra URL repository chÃ­nh xÃ¡c

--------------------------------------------------------------------

9. LÆ°u Ã½ quan trá»ng
--------------------------------------------------------------------
- TÃªn remote cÃ³ thá»ƒ Ä‘áº·t khÃ¡c origin náº¿u muá»‘n
- SSH key cáº§n quyá»n Ä‘á»c/ghi repository
- Chá»‰ thÃªm remote 1 láº§n, khÃ´ng cáº§n láº·p láº¡i

--------------------------------------------------------------------

10. Khi nÃ o dÃ¹ng lá»‡nh nÃ y?
--------------------------------------------------------------------
- Khi má»›i clone hoáº·c init repository local
- Khi muá»‘n push code lÃªn repository Bitbucket láº§n Ä‘áº§u
- Khi thiáº¿t láº­p CI/CD pipeline liÃªn káº¿t Git repository

--------------------------------------------------------------------

11. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
git remote add origin git@bitbucket.org:devopscicd1122/vproapp.git =
THÃŠM REMOTE TÃŠN ORIGIN TRá» Tá»šI REPOSITORY BITBUCKET Äá»‚ LOCAL REPOSITORY CÃ“ THá»‚ PUSH/PULL CODE
		
		
		- cmd: git push origin --all
		
# Lá»‡nh gá»‘c:
git push origin --all

# Giáº£i thÃ­ch chi tiáº¿t:

# 1. git
# - LÃ  há»‡ thá»‘ng quáº£n lÃ½ phiÃªn báº£n phÃ¢n tÃ¡n (Distributed Version Control System).
# - DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ source code, theo dÃµi lá»‹ch sá»­ thay Ä‘á»•i vÃ  phá»‘i há»£p nhiá»u ngÆ°á»i cÃ¹ng lÃ m viá»‡c.

# 2. push
# - LÃ  lá»‡nh dÃ¹ng Ä‘á»ƒ Ä‘áº©y (upload) cÃ¡c thay Ä‘á»•i tá»« repository cá»¥c bá»™ (local repository) lÃªn repository tá»« xa (remote repository).
# - CÃº phÃ¡p cÆ¡ báº£n: git push [tÃªn_remote] [tÃªn_branch]

# 3. origin
# - LÃ  tÃªn máº·c Ä‘á»‹nh cá»§a remote repository khi báº¡n clone má»™t repository tá»« GitHub/GitLab.
# - Báº¡n cÃ³ thá»ƒ kiá»ƒm tra remote hiá»‡n cÃ³ báº±ng lá»‡nh: git remote -v

# 4. --all
# - TÃ¹y chá»n nÃ y nghÄ©a lÃ  Ä‘áº©y táº¥t cáº£ cÃ¡c nhÃ¡nh (branches) tá»« repository cá»¥c bá»™ lÃªn remote.
# - Náº¿u khÃ´ng dÃ¹ng --all, git push chá»‰ Ä‘áº©y nhÃ¡nh hiá»‡n táº¡i lÃªn remote.

# 5. Chá»©c nÄƒng tá»•ng thá»ƒ
# - Lá»‡nh `git push origin --all` sáº½:
#   + Äáº©y táº¥t cáº£ cÃ¡c nhÃ¡nh tá»« local repository lÃªn remote repository tÃªn origin.
#   + Cáº­p nháº­t remote repository vá»›i toÃ n bá»™ lá»‹ch sá»­ commit cá»§a táº¥t cáº£ nhÃ¡nh.

# 6. Má»™t sá»‘ lÆ°u Ã½ quan trá»ng:
# - TrÆ°á»›c khi push, nÃªn cháº¯c cháº¯n Ä‘Ã£ commit táº¥t cáº£ thay Ä‘á»•i cá»¥c bá»™ báº±ng:
#   git add .
#   git commit -m "ThÃ´ng Ä‘iá»‡p commit"
# - Náº¿u cÃ³ nhÃ¡nh má»›i táº¡o nhÆ°ng chÆ°a Ä‘Æ°á»£c táº¡o trÃªn remote, lá»‡nh nÃ y sáº½ táº¡o nhÃ¡nh Ä‘Ã³ trÃªn remote.
# - CÃ³ thá»ƒ káº¿t há»£p vá»›i `--force` (git push origin --all --force) nhÆ°ng cáº§n cáº©n tháº­n vÃ¬ ghi Ä‘Ã¨ lá»‹ch sá»­ remote.

# 7. VÃ­ dá»¥ minh há»a:
# Báº¡n cÃ³ 3 nhÃ¡nh trong local repository: master, develop, feature-x
# Khi cháº¡y lá»‡nh:
# git push origin --all
# Git sáº½ Ä‘áº©y master, develop, feature-x lÃªn origin (vÃ­ dá»¥ GitHub), cáº­p nháº­t táº¥t cáº£ commit má»›i.

# Káº¿t luáº­n:
# Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ Ä‘á»“ng bá»™ toÃ n bá»™ nhÃ¡nh tá»« local repository lÃªn remote repository má»™t cÃ¡ch nhanh chÃ³ng vÃ  Ä‘áº§y Ä‘á»§.
		
		
		
	- Code trong file config:
	
		Case 1:
		
			# bitbucket.org
			Host bitbucket.org
			  PreferredAuthentications publickey
			  IdentityFile ~/.ssh/vprobit_rsa
			  
--- Docker:

	Táº¡o EC2 Docker-Engine (Ubuntu) vÃ  cÃ i docker trÃªn nÃ y, pull nginx image vá»
	
	EC2 Docker-Engine cÃ³ security group má»Ÿ cho truy cáº­p all port vá»›i My IP
	
	Táº¡o 1 file Dockerfile trong mÃ¡y áº£o, trong docker file nÃ y cÃ³ 1 Ä‘oáº¡n ADD nano.tar.gz /var/www/html
	
	Install compose on linux system
	
	Chá»‰nh sá»­a inbound cá»§a sg vá»›i viá»‡c má»Ÿ táº¥t cáº£ cho My IP
	
	
	
	KHI BUILD IMAGE â†’ ÄÃšNG LÃ€ TA â€œCÃ€I á»¨NG Dá»¤NGâ€ BÃŠN TRONG NÃ“

		Khi báº¡n viáº¿t trong Dockerfile:
		
			RUN apt install apache2 -y
			
			â†’ Docker sáº½ cháº¡y lá»‡nh Ä‘Ã³ bÃªn trong má»™t mÃ´i trÆ°á»ng Ubuntu (táº¡o tá»« FROM ubuntu:latest)
			
			â†’ Apache2 Ä‘Æ°á»£c cÃ i vÃ o filesystem cá»§a image.

		NghÄ©a lÃ : image chá»©a sáºµn cÃ¡c á»©ng dá»¥ng cáº§n thiáº¿t giá»‘ng nhÆ° má»™t há»‡ Ä‘iá»u hÃ nh Ä‘Ã£ Ä‘Æ°á»£c cÃ i pháº§n má»m.

	Váº¬Y KHI NÃ€O IMAGE NÃ“ GIá»NG MÃY áº¢O?

		Giá»‘ng:

			Khi build, báº¡n pháº£i tá»± cÃ i á»©ng dá»¥ng vÃ o (web server, python, node, java...).

			CÃ³ filesystem riÃªng.

			Cháº¡y á»©ng dá»¥ng Ä‘á»™c láº­p.

		KhÃ´ng giá»‘ng:

			KhÃ´ng cÃ³ kernel riÃªng.

			KhÃ´ng cÃ³ driver áº£o, khÃ´ng boot nhÆ° mÃ¡y áº£o.

			KhÃ´ng cháº¡y background service kiá»ƒu systemd (trá»« khi báº¡n tá»± setup).		

	- Commands:
	
		- cmd: docker images
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			docker images
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ liá»‡t kÃª táº¥t cáº£ cÃ¡c Docker images
			hiá»‡n cÃ³ trÃªn host local.

			- Docker image: lÃ  template dÃ¹ng Ä‘á»ƒ táº¡o container
			- DÃ¹ng Ä‘á»ƒ kiá»ƒm tra, quáº£n lÃ½ vÃ  xÃ³a image khÃ´ng cáº§n thiáº¿t

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. docker
			--------------------------------------------------
			- Command-line tool quáº£n lÃ½ Docker
			- CÃ¡c chá»©c nÄƒng:
			  + build
			  + run
			  + ps
			  + images
			  + rmi, v.v.

			2.2. images
			--------------------------------------------------
			- Subcommand cá»§a docker
			- Liá»‡t kÃª táº¥t cáº£ image cÃ³ sáºµn trÃªn mÃ¡y local
			- Hiá»ƒn thá»‹ thÃ´ng tin cÆ¡ báº£n:
			  + REPOSITORY
			  + TAG
			  + IMAGE ID
			  + CREATED
			  + SIZE

			--------------------------------------------------
			3. Káº¾T QUáº¢ MáºªU
			--------------------------------------------------
			REPOSITORY          TAG       IMAGE ID       CREATED        SIZE
			ubuntu              22.04     1d622ef86b13   2 weeks ago    77.8MB
			nginx               latest    6b914bbcb89e   3 weeks ago    133MB
			my-app              v1.0      f7e8d9c12345   5 days ago     512MB

			--------------------------------------------------
			4. CÃC TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG
			--------------------------------------------------
			- Hiá»ƒn thá»‹ táº¥t cáº£ tag cá»§a image:
			--------------------------------------------------
			docker images -a

			- Lá»c theo tÃªn repository:
			--------------------------------------------------
			docker images nginx

			- Chá»‰ hiá»ƒn thá»‹ IMAGE ID:
			--------------------------------------------------
			docker images -q

			--------------------------------------------------
			5. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Images chiáº¿m dung lÆ°á»£ng lÆ°u trá»¯, cáº§n quáº£n lÃ½
			- Image khÃ´ng cÃ³ container liÃªn quan cÃ³ thá»ƒ xÃ³a báº±ng:
			--------------------------------------------------
			docker rmi IMAGE_ID

			- Náº¿u container Ä‘ang cháº¡y dÃ¹ng image Ä‘Ã³, khÃ´ng xÃ³a Ä‘Æ°á»£c

			--------------------------------------------------
			6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- Kiá»ƒm tra image Ä‘Ã£ táº£i hoáº·c build
			- XÃ¡c Ä‘á»‹nh IMAGE ID Ä‘á»ƒ cháº¡y container hoáº·c xÃ³a
			- Há»— trá»£ DevOps quáº£n lÃ½ mÃ´i trÆ°á»ng Docker

			--------------------------------------------------
			7. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			docker images
			= Liá»‡t kÃª táº¥t cáº£ Docker images trÃªn host local
			= Hiá»ƒn thá»‹ repository, tag, image ID, ngÃ y táº¡o, kÃ­ch thÆ°á»›c
			= GiÃºp quáº£n lÃ½, kiá»ƒm tra vÃ  dá»n dáº¹p Docker images
			==================================================
		
		
		- cmd: sudo vim /etc/group
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			sudo vim /etc/group

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Má»Ÿ file `/etc/group` báº±ng trÃ¬nh soáº¡n tháº£o `vim` vá»›i quyá»n root
			- `/etc/group` chá»©a thÃ´ng tin cÃ¡c nhÃ³m (group) trÃªn há»‡ thá»‘ng Linux
			- DÃ¹ng sudo vÃ¬ file `/etc/group` yÃªu cáº§u quyá»n root Ä‘á»ƒ chá»‰nh sá»­a
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ thÃªm, xÃ³a, hoáº·c chá»‰nh sá»­a nhÃ³m ngÆ°á»i dÃ¹ng

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. sudo
			--------------------------------------------------
			- Cháº¡y lá»‡nh vá»›i quyá»n quáº£n trá»‹ root
			- Cáº§n thiáº¿t vÃ¬ `/etc/group` khÃ´ng thá»ƒ chá»‰nh sá»­a bá»Ÿi user thÆ°á»ng

			2.2. vim
			--------------------------------------------------
			- TrÃ¬nh soáº¡n tháº£o vÄƒn báº£n trong terminal
			- Há»— trá»£ má»Ÿ, chá»‰nh sá»­a, lÆ°u, vÃ  thoÃ¡t file
			- Vim cÃ³ cháº¿ Ä‘á»™ command vÃ  insert

			2.3. /etc/group
			--------------------------------------------------
			- File há»‡ thá»‘ng chá»©a thÃ´ng tin nhÃ³m
			- Cáº¥u trÃºc má»—i dÃ²ng:
			group_name:password_placeholder:GID:user_list

			Giáº£i thÃ­ch cÃ¡c trÆ°á»ng:
			- group_name: tÃªn nhÃ³m
			- password_placeholder: thÆ°á»ng lÃ  `x` hoáº·c `*`, máº­t kháº©u nhÃ³m
			- GID: Group ID, sá»‘ Ä‘á»‹nh danh nhÃ³m
			- user_list: danh sÃ¡ch user thuá»™c nhÃ³m, phÃ¢n tÃ¡ch báº±ng dáº¥u pháº©y

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. sudo cho phÃ©p vim má»Ÿ file vá»›i quyá»n root
			2. Vim Ä‘á»c ná»™i dung `/etc/group`
			3. NgÆ°á»i dÃ¹ng chá»‰nh sá»­a ná»™i dung theo nhu cáº§u
			4. LÆ°u file: `:w`
			5. ThoÃ¡t vim: `:q` hoáº·c káº¿t há»£p `:wq` Ä‘á»ƒ lÆ°u vÃ  thoÃ¡t
			6. Thay Ä‘á»•i sáº½ cÃ³ hiá»‡u lá»±c ngay láº­p tá»©c

			--------------------------------------------------
			4. VÃ Dá»¤ Ná»˜I DUNG /etc/group
			--------------------------------------------------
			root:x:0:
			daemon:x:1:
			bin:x:2:
			sys:x:3:
			adm:x:4:user1,user2
			sudo:x:27:user1
			developers:x:1001:devops,alice,bob

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG THÆ¯á»œNG Gáº¶P
			--------------------------------------------------
			- ThÃªm user vÃ o nhÃ³m:
			  + Chá»‰nh sá»­a dÃ²ng user_list
			  + Hoáº·c dÃ¹ng lá»‡nh: sudo usermod -aG group_name user

			- XÃ³a user khá»i nhÃ³m:
			  + XÃ³a tÃªn user khá»i dÃ²ng user_list

			- Táº¡o nhÃ³m má»›i:
			  + sudo groupadd group_name

			- XÃ³a nhÃ³m:
			  + sudo groupdel group_name

			--------------------------------------------------
			6. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			6.1. Permission denied
			--------------------------------------------------
			- Cháº¡y vim mÃ  khÃ´ng cÃ³ sudo â†’ khÃ´ng chá»‰nh sá»­a Ä‘Æ°á»£c
			- Giáº£i phÃ¡p: thÃªm sudo

			6.2. Lá»—i cÃº phÃ¡p trong file
			--------------------------------------------------
			- Sai cáº¥u trÃºc (thiáº¿u 2 dáº¥u `:`) â†’ user khÃ´ng thá»ƒ login hoáº·c nhÃ³m khÃ´ng nháº­n diá»‡n Ä‘Æ°á»£c
			- LuÃ´n backup trÆ°á»›c khi chá»‰nh sá»­a:
			  sudo cp /etc/group /etc/group.bak

			--------------------------------------------------
			7. Cáº¢NH BÃO
			--------------------------------------------------
			- `/etc/group` lÃ  file quan trá»ng cá»§a há»‡ thá»‘ng
			- Chá»‰nh sá»­a sai cÃ³ thá»ƒ gÃ¢y lá»—i login hoáº·c quyá»n háº¡n
			- KhÃ´ng xÃ³a dÃ²ng nhÃ³m há»‡ thá»‘ng (root, sudo, adm, bin)
			- LuÃ´n backup trÆ°á»›c khi sá»­a

			--------------------------------------------------
			8. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			sudo vim /etc/group

			= Má»Ÿ file nhÃ³m há»‡ thá»‘ng vá»›i quyá»n root
			= Chá»‰nh sá»­a nhÃ³m, thÃªm hoáº·c xÃ³a user
			= Cáº§n cáº©n tháº­n, backup trÆ°á»›c khi sá»­a
			= DÃ¹ng `:wq` Ä‘á»ƒ lÆ°u vÃ  thoÃ¡t
			= Hiá»ƒn thá»‹ danh sÃ¡ch nhÃ³m vÃ  GID
		
		
		- cmd: sudo usermod -aG docker ubuntu
		
			Lá»†NH: sudo usermod -aG docker ubuntu
			====================================

			1. Má»¤C ÄÃCH
			----------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **thÃªm user `ubuntu` vÃ o nhÃ³m `docker`** trÃªn há»‡ thá»‘ng Linux.

			- Khi user thuá»™c nhÃ³m `docker`, user Ä‘Ã³ cÃ³ thá»ƒ **cháº¡y cÃ¡c lá»‡nh Docker mÃ  khÃ´ng cáº§n sudo**.
			- ThÆ°á»ng dÃ¹ng sau khi cÃ i Docker Ä‘á»ƒ cho phÃ©p user thÃ´ng thÆ°á»ng thao tÃ¡c Docker má»™t cÃ¡ch tiá»‡n lá»£i.


			2. Cáº¤U TRÃšC Lá»†NH
			----------------
			sudo usermod [options] [user]

			Trong vÃ­ dá»¥:
			- `sudo`        : Thá»±c thi lá»‡nh vá»›i quyá»n root (cáº§n quyá»n Ä‘á»ƒ thay Ä‘á»•i nhÃ³m cá»§a user)
			- `usermod`     : Command thay Ä‘á»•i thÃ´ng tin user
			- `-aG docker`  : 
			  - `-G docker` : Chá»‰ Ä‘á»‹nh nhÃ³m má»›i Ä‘á»ƒ thÃªm user
			  - `-a`        : Append, nghÄ©a lÃ  thÃªm vÃ o nhÃ³m mÃ  khÃ´ng xÃ³a cÃ¡c nhÃ³m hiá»‡n táº¡i cá»§a user
			- `ubuntu`      : TÃªn user cáº§n thÃªm vÃ o nhÃ³m


			3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
			---------------------
			1. Há»‡ thá»‘ng kiá»ƒm tra quyá»n sudo cá»§a user hiá»‡n táº¡i.
			2. `usermod` thÃªm user `ubuntu` vÃ o nhÃ³m `docker` mÃ  khÃ´ng thay Ä‘á»•i cÃ¡c nhÃ³m khÃ¡c cá»§a user.
			3. Thay Ä‘á»•i cÃ³ hiá»‡u lá»±c **sau khi user Ä‘Äƒng xuáº¥t vÃ  Ä‘Äƒng nháº­p láº¡i**.


			4. VÃ Dá»¤ THá»°C Táº¾
			-----------------
			1. ThÃªm user `ubuntu` vÃ o nhÃ³m `docker`:
		
		
		- cmd: id ubuntu
		
			Lá»†NH: id ubuntu
			====================================================================

			1. id lÃ  gÃ¬?
			--------------------------------------------------------------------
			- id lÃ  lá»‡nh trÃªn Linux/Unix dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin vá» user hiá»‡n táº¡i hoáº·c user chá»‰ Ä‘á»‹nh
			- ThÃ´ng tin tráº£ vá»:
			  + UID (User ID)
			  + GID (Group ID)
			  + CÃ¡c nhÃ³m mÃ  user Ä‘Ã³ thuá»™c vá»
			- CÃ³ thá»ƒ dÃ¹ng vá»›i user khÃ¡c: id <username>

			--------------------------------------------------------------------

			2. ubuntu lÃ  gÃ¬ trong lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- ubuntu lÃ  tÃªn user trÃªn há»‡ thá»‘ng
			- ThÆ°á»ng lÃ  user máº·c Ä‘á»‹nh trÃªn cÃ¡c mÃ¡y Ubuntu hoáº·c EC2 instance
			- Lá»‡nh sáº½ hiá»ƒn thá»‹ thÃ´ng tin user ubuntu

			--------------------------------------------------------------------

			3. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			id ubuntu

			â†’ Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t cá»§a user ubuntu, bao gá»“m:
			  + UID (User ID) chÃ­nh
			  + GID (Group ID) chÃ­nh
			  + Danh sÃ¡ch cÃ¡c nhÃ³m mÃ  user ubuntu thuá»™c
			â†’ ThÆ°á»ng dÃ¹ng Ä‘á»ƒ kiá»ƒm tra quyá»n vÃ  nhÃ³m cá»§a user

			KHÃ”NG:
			- KhÃ´ng thay Ä‘á»•i quyá»n user
			- KhÃ´ng Ä‘Äƒng nháº­p user
			- Chá»‰ xem thÃ´ng tin user

			--------------------------------------------------------------------

			4. VÃ­ dá»¥ output Ä‘iá»ƒn hÃ¬nh
			--------------------------------------------------------------------
			uid=1000(ubuntu) gid=1000(ubuntu) groups=1000(ubuntu),27(sudo),1001(docker)

			Giáº£i thÃ­ch:
			- uid=1000 â†’ User ID cá»§a ubuntu lÃ  1000
			- gid=1000 â†’ Group ID chÃ­nh lÃ  ubuntu
			- groups=1000(ubuntu),27(sudo),1001(docker) â†’ ubuntu thuá»™c cÃ¡c nhÃ³m ubuntu, sudo vÃ  docker

			--------------------------------------------------------------------

			5. Khi nÃ o dÃ¹ng lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- Kiá»ƒm tra UID vÃ  GID cá»§a user
			- XÃ¡c Ä‘á»‹nh nhÃ³m quyá»n Ä‘á»ƒ gÃ¡n quyá»n file hoáº·c cháº¡y lá»‡nh sudo
			- Debug quyá»n truy cáº­p trÃªn server

			--------------------------------------------------------------------

			6. LÆ°u Ã½ quan trá»ng
			--------------------------------------------------------------------
			- UID vÃ  GID quyáº¿t Ä‘á»‹nh quyá»n trÃªn file vÃ  thÆ° má»¥c
			- Sá»­ dá»¥ng nhÃ³m sudo Ä‘á»ƒ xÃ¡c Ä‘á»‹nh kháº£ nÄƒng cháº¡y lá»‡nh vá»›i quyá»n root
			- id <username> yÃªu cáº§u quyá»n xem thÃ´ng tin user trÃªn há»‡ thá»‘ng

			--------------------------------------------------------------------

			7. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			id ubuntu =
			HIá»‚N THá»Š THÃ”NG TIN UID, GID VÃ€ CÃC NHÃ“M Cá»¦A USER ubuntu TRÃŠN Há»† THá»NG LINUX/UNIX
		
		
		- cmd: docker run hello-world
		
			# Lá»‡nh gá»‘c:
			docker run hello-world

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. docker
			# - Docker lÃ  ná»n táº£ng dÃ¹ng Ä‘á»ƒ táº¡o, triá»ƒn khai vÃ  cháº¡y cÃ¡c á»©ng dá»¥ng trong cÃ¡c container.
			# - Container giÃºp Ä‘Ã³ng gÃ³i á»©ng dá»¥ng vÃ  táº¥t cáº£ cÃ¡c phá»¥ thuá»™c cá»§a nÃ³, cháº¡y nháº¥t quÃ¡n trÃªn má»i mÃ´i trÆ°á»ng.

			# 2. run
			# - LÃ  lá»‡nh Ä‘á»ƒ táº¡o vÃ  cháº¡y má»™t container má»›i tá»« má»™t image.
			# - CÃº phÃ¡p cÆ¡ báº£n: docker run [tÃ¹y chá»n] [image] [lá»‡nh]

			# 3. hello-world
			# - ÄÃ¢y lÃ  tÃªn cá»§a Docker image máº«u chÃ­nh thá»©c tá»« Docker.
			# - Má»¥c Ä‘Ã­ch cá»§a image nÃ y lÃ  kiá»ƒm tra xem Docker Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t vÃ  hoáº¡t Ä‘á»™ng Ä‘Ãºng trÃªn mÃ¡y cá»§a báº¡n chÆ°a.
			# - Image sáº½ in ra má»™t thÃ´ng Ä‘iá»‡p chÃ o má»«ng vÃ  thÃ´ng tin xÃ¡c nháº­n Docker Ä‘ang cháº¡y bÃ¬nh thÆ°á»ng.

			# 4. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Khi cháº¡y `docker run hello-world`, Docker sáº½ thá»±c hiá»‡n cÃ¡c bÆ°á»›c:
			#   1. Kiá»ƒm tra xem image `hello-world` Ä‘Ã£ cÃ³ trÃªn mÃ¡y local chÆ°a.
			#   2. Náº¿u chÆ°a cÃ³, Docker sáº½ táº£i image nÃ y tá»« Docker Hub (kho lÆ°u trá»¯ chÃ­nh thá»©c cá»§a Docker).
			#   3. Táº¡o má»™t container tá»« image vÃ  cháº¡y container Ä‘Ã³.
			#   4. In ra thÃ´ng Ä‘iá»‡p xÃ¡c nháº­n Docker hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng.

			# 5. VÃ­ dá»¥ káº¿t quáº£ khi cháº¡y lá»‡nh:
			#   Hello from Docker!
			#   This message shows that your installation appears to be working correctly.

			# 6. LÆ°u Ã½:
			# - ÄÃ¢y lÃ  lá»‡nh khá»Ÿi táº¡o cÆ¡ báº£n, khÃ´ng cáº§n tÃ¹y chá»n phá»©c táº¡p.
			# - ThÃ­ch há»£p Ä‘á»ƒ kiá»ƒm tra cÃ i Ä‘áº·t Docker trÆ°á»›c khi cháº¡y cÃ¡c á»©ng dá»¥ng container phá»©c táº¡p hÆ¡n.

			# Káº¿t luáº­n:
			# Lá»‡nh `docker run hello-world` lÃ  cÃ¡ch nhanh nháº¥t Ä‘á»ƒ kiá»ƒm tra Docker Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t vÃ  hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng trÃªn mÃ¡y cá»§a báº¡n.
		
		
		- cmd: docker ps
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			docker ps
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ liá»‡t kÃª cÃ¡c container Docker Ä‘ang
			cháº¡y trÃªn host local.

			- Docker container: lÃ  instance cháº¡y tá»« Docker image
			- `docker ps` giÃºp DevOps hoáº·c developer:
			  + Kiá»ƒm tra container Ä‘ang cháº¡y
			  + XÃ¡c Ä‘á»‹nh cá»•ng, tÃªn, tráº¡ng thÃ¡i container
			  + Há»— trá»£ debug vÃ  quáº£n lÃ½ container

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. docker
			--------------------------------------------------
			- Command-line tool quáº£n lÃ½ Docker
			- CÃ¡c chá»©c nÄƒng:
			  + build, run, stop, ps, images, rmi, v.v.

			2.2. ps
			--------------------------------------------------
			- Subcommand cá»§a docker
			- Liá»‡t kÃª container Ä‘ang cháº¡y
			- TÆ°Æ¡ng tá»± `ps` trÃªn Linux nhÆ°ng cho container

			--------------------------------------------------
			3. Káº¾T QUáº¢ MáºªU
			--------------------------------------------------
			CONTAINER ID   IMAGE         COMMAND                  CREATED       STATUS       PORTS                     NAMES
			1a2b3c4d5e6f   nginx:latest  "nginx -g 'daemon ofâ€¦"   2 hours ago   Up 2 hours   0.0.0.0:8080->80/tcp      webserver
			7g8h9i0j1k2l   mysql:8.0     "docker-entrypoint.sâ€¦"   3 hours ago   Up 3 hours   3306/tcp                  mysql-db

			CÃ¡c cá»™t giáº£i thÃ­ch:
			- CONTAINER ID: ID duy nháº¥t cá»§a container
			- IMAGE: Image container Ä‘ang sá»­ dá»¥ng
			- COMMAND: Lá»‡nh Ä‘Æ°á»£c cháº¡y khi container khá»Ÿi Ä‘á»™ng
			- CREATED: Thá»i gian container Ä‘Æ°á»£c táº¡o
			- STATUS: Tráº¡ng thÃ¡i container (Up, Exited,â€¦)
			- PORTS: Cá»•ng map giá»¯a host vÃ  container
			- NAMES: TÃªn container do Docker tá»± Ä‘áº·t hoáº·c ngÆ°á»i dÃ¹ng chá»‰ Ä‘á»‹nh

			--------------------------------------------------
			4. CÃC TÃ™Y CHá»ŒN THÆ¯á»œNG DÃ™NG
			--------------------------------------------------
			- Liá»‡t kÃª táº¥t cáº£ container (cáº£ Ä‘ang dá»«ng):
			--------------------------------------------------
			docker ps -a

			- Chá»‰ hiá»ƒn thá»‹ container ID:
			--------------------------------------------------
			docker ps -q

			- Hiá»ƒn thá»‹ chi tiáº¿t (format table/custom):
			--------------------------------------------------
			docker ps --format "table {{.ID}}\t{{.Image}}\t{{.Status}}"

			--------------------------------------------------
			5. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Chá»‰ hiá»ƒn thá»‹ container Ä‘ang cháº¡y máº·c Ä‘á»‹nh
			- Äá»ƒ quáº£n lÃ½ container:
			  + Stop: docker stop CONTAINER_ID
			  + Start: docker start CONTAINER_ID
			  + Logs: docker logs CONTAINER_ID
			- Náº¿u khÃ´ng tháº¥y container, dÃ¹ng `docker ps -a` Ä‘á»ƒ kiá»ƒm tra

			--------------------------------------------------
			6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- Kiá»ƒm tra container Ä‘ang cháº¡y
			- Há»— trá»£ debug vÃ  giÃ¡m sÃ¡t
			- Quáº£n lÃ½ mÃ´i trÆ°á»ng Docker trÃªn host local

			--------------------------------------------------
			7. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			docker ps
			= Liá»‡t kÃª cÃ¡c Docker container Ä‘ang cháº¡y
			= Hiá»ƒn thá»‹ ID, image, command, tráº¡ng thÃ¡i, cá»•ng, tÃªn
			= GiÃºp kiá»ƒm tra, quáº£n lÃ½ vÃ  debug container
			==================================================
		
		
		- cmd: docker ps -a
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			docker ps -a

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Liá»‡t kÃª táº¥t cáº£ container Docker trÃªn mÃ¡y, bao gá»“m:
			  + Container Ä‘ang cháº¡y
			  + Container Ä‘Ã£ dá»«ng
			- DÃ¹ng Ä‘á»ƒ kiá»ƒm tra tráº¡ng thÃ¡i, ID, tÃªn container, image, thá»i gian cháº¡y
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ quáº£n lÃ½, debug hoáº·c xÃ³a container

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. docker
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Docker
			- DÃ¹ng Ä‘á»ƒ:
			  + Build image
			  + Run container
			  + Quáº£n lÃ½ container vÃ  network

			2.2. ps
			--------------------------------------------------
			- Subcommand Ä‘á»ƒ liá»‡t kÃª container
			- Theo máº·c Ä‘á»‹nh chá»‰ hiá»ƒn thá»‹ container Ä‘ang cháº¡y

			2.3. -a
			--------------------------------------------------
			- Option "all"
			- Hiá»ƒn thá»‹ táº¥t cáº£ container, ká»ƒ cáº£ container Ä‘Ã£ dá»«ng
			- Náº¿u khÃ´ng dÃ¹ng -a â†’ chá»‰ tháº¥y container Ä‘ang cháº¡y

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Docker daemon truy váº¥n danh sÃ¡ch container trÃªn host
			2. Lá»c container theo tráº¡ng thÃ¡i:
			   - running, exited, created, paused
			3. Hiá»ƒn thá»‹ thÃ´ng tin Ä‘áº§y Ä‘á»§ lÃªn terminal

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			CONTAINER ID   IMAGE         COMMAND                  CREATED       STATUS                     PORTS     NAMES
			d4f5c6b7e8f9   nginx:latest  "nginx -g 'daemon ofâ€¦"   2 hours ago   Up 2 hours                 80/tcp    webserver
			a1b2c3d4e5f6   ubuntu:22.04  "/bin/bash"               5 hours ago   Exited (0) 3 hours ago              test-container

			Giáº£i thÃ­ch cÃ¡c cá»™t:

			- CONTAINER ID: ID ngáº¯n cá»§a container
			- IMAGE: tÃªn image container sá»­ dá»¥ng
			- COMMAND: lá»‡nh cháº¡y container
			- CREATED: thá»i gian container Ä‘Æ°á»£c táº¡o
			- STATUS: tráº¡ng thÃ¡i hiá»‡n táº¡i (Up, Exited, Created)
			- PORTS: port mapping náº¿u cÃ³
			- NAMES: tÃªn container

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- Liá»‡t kÃª container Ä‘ang cháº¡y:
			docker ps

			- XÃ³a container Ä‘Ã£ dá»«ng:
			docker rm <container_id>

			- Xem logs container:
			docker logs <container_id>

			- Stop container Ä‘ang cháº¡y:
			docker stop <container_id>

			- Start láº¡i container Ä‘Ã£ dá»«ng:
			docker start <container_id>

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Quáº£n lÃ½ container trÃªn host
			- Kiá»ƒm tra lá»—i, debug container dá»«ng báº¥t ngá»
			- Chuáº©n bá»‹ trÆ°á»›c khi xÃ³a hoáº·c restart container
			- DÃ¹ng trong CI/CD pipelines hoáº·c development

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. Cannot connect to the Docker daemon
			--------------------------------------------------
			- Docker daemon chÆ°a cháº¡y
			- Giáº£i phÃ¡p: sudo systemctl start docker

			7.2. KhÃ´ng cÃ³ container nÃ o hiá»ƒn thá»‹
			--------------------------------------------------
			- Chá»‰ khi chÆ°a táº¡o container nÃ o hoáº·c container bá»‹ xÃ³a
			- Kiá»ƒm tra báº±ng docker ps -a

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- Xem thÃ´ng tin container khÃ´ng thay Ä‘á»•i gÃ¬ há»‡ thá»‘ng
			- DÃ¹ng lá»‡nh xÃ³a container cáº©n tháº­n náº¿u Ä‘ang cháº¡y

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			docker ps -a

			= Liá»‡t kÃª táº¥t cáº£ container (running + stopped)
			= Hiá»ƒn thá»‹ ID, image, command, status, ports, name
			= GiÃºp quáº£n lÃ½, debug, kiá»ƒm tra container
			= DÃ¹ng káº¿t há»£p vá»›i docker rm, logs, stop, start
					
					
					- cmd: docker pull nginx:stable-alpine3.21-perl
					
			Lá»†NH: docker pull nginx:stable-alpine3.21-perl
			=============================================

			1. Má»¤C ÄÃCH
			----------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **táº£i vá» (pull) image Docker cá»§a Nginx** tá»« Docker Hub vÃ o mÃ¡y local.

			- Image Nginx Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ cháº¡y web server.
			- PhiÃªn báº£n `stable-alpine3.21-perl` cÃ³ nghÄ©a:
			  - `stable`       : PhiÃªn báº£n á»•n Ä‘á»‹nh cá»§a Nginx
			  - `alpine3.21`   : Dá»±a trÃªn Alpine Linux 3.21, nháº¹ vÃ  tá»‘i Æ°u
			  - `perl`         : Bao gá»“m há»— trá»£ Perl trong image


			2. Cáº¤U TRÃšC Lá»†NH
			----------------
			docker pull [OPTIONS] NAME[:TAG|@DIGEST]

			Trong vÃ­ dá»¥:
			- `docker`       : Command line tool quáº£n lÃ½ Docker
			- `pull`         : Lá»‡nh táº£i image tá»« registry (máº·c Ä‘á»‹nh lÃ  Docker Hub)
			- `nginx`        : TÃªn image
			- `stable-alpine3.21-perl` : Tag xÃ¡c Ä‘á»‹nh phiÃªn báº£n cá»¥ thá»ƒ cá»§a image


			3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
			---------------------
			1. Docker client liÃªn há»‡ Docker Hub (hoáº·c registry khÃ¡c náº¿u chá»‰ Ä‘á»‹nh) Ä‘á»ƒ tÃ¬m image `nginx:stable-alpine3.21-perl`.
			2. Kiá»ƒm tra cÃ¡c layer cá»§a image:
			   - Náº¿u layer nÃ o chÆ°a cÃ³ trÃªn mÃ¡y local, Docker sáº½ táº£i vá».
			   - Layer Ä‘Ã£ cÃ³ sáºµn trÃªn mÃ¡y sáº½ bá» qua.
			3. Sau khi táº£i xong, image sáº½ xuáº¥t hiá»‡n trong danh sÃ¡ch local images:
		
		
		- cmd: docker pull nginx
		
			Lá»†NH: docker pull nginx:stable-alpine3.21-perl
			=============================================

			1. Má»¤C ÄÃCH
			----------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **táº£i vá» (pull) image Docker cá»§a Nginx** tá»« Docker Hub vÃ o mÃ¡y local.

			- Image Nginx Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ cháº¡y web server.
			- PhiÃªn báº£n `stable-alpine3.21-perl` cÃ³ nghÄ©a:
			  - `stable`       : PhiÃªn báº£n á»•n Ä‘á»‹nh cá»§a Nginx
			  - `alpine3.21`   : Dá»±a trÃªn Alpine Linux 3.21, nháº¹ vÃ  tá»‘i Æ°u
			  - `perl`         : Bao gá»“m há»— trá»£ Perl trong image


			2. Cáº¤U TRÃšC Lá»†NH
			----------------
			docker pull [OPTIONS] NAME[:TAG|@DIGEST]

			Trong vÃ­ dá»¥:
			- `docker`       : Command line tool quáº£n lÃ½ Docker
			- `pull`         : Lá»‡nh táº£i image tá»« registry (máº·c Ä‘á»‹nh lÃ  Docker Hub)
			- `nginx`        : TÃªn image
			- `stable-alpine3.21-perl` : Tag xÃ¡c Ä‘á»‹nh phiÃªn báº£n cá»¥ thá»ƒ cá»§a image


			3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
			---------------------
			1. Docker client liÃªn há»‡ Docker Hub (hoáº·c registry khÃ¡c náº¿u chá»‰ Ä‘á»‹nh) Ä‘á»ƒ tÃ¬m image `nginx:stable-alpine3.21-perl`.
			2. Kiá»ƒm tra cÃ¡c layer cá»§a image:
			   - Náº¿u layer nÃ o chÆ°a cÃ³ trÃªn mÃ¡y local, Docker sáº½ táº£i vá».
			   - Layer Ä‘Ã£ cÃ³ sáºµn trÃªn mÃ¡y sáº½ bá» qua.
			3. Sau khi táº£i xong, image sáº½ xuáº¥t hiá»‡n trong danh sÃ¡ch local images:
					
					
					- cmd: docker run --name myweb -p 7090:80 -d nginx
					
			# Lá»‡nh gá»‘c:
			docker run --name myweb -p 7090:80 -d nginx

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. docker
			# - Docker lÃ  ná»n táº£ng dÃ¹ng Ä‘á»ƒ táº¡o, triá»ƒn khai vÃ  cháº¡y á»©ng dá»¥ng trong container.
			# - Container giÃºp Ä‘Ã³ng gÃ³i á»©ng dá»¥ng vÃ  táº¥t cáº£ cÃ¡c phá»¥ thuá»™c cá»§a nÃ³, cháº¡y nháº¥t quÃ¡n trÃªn má»i mÃ´i trÆ°á»ng.

			# 2. run
			# - Lá»‡nh Ä‘á»ƒ táº¡o vÃ  cháº¡y má»™t container má»›i tá»« má»™t Docker image.
			# - CÃº phÃ¡p cÆ¡ báº£n: docker run [tÃ¹y chá»n] [image] [lá»‡nh]

			# 3. --name myweb
			# - TÃ¹y chá»n `--name` Ä‘áº·t tÃªn cho container.
			# - á» Ä‘Ã¢y container Ä‘Æ°á»£c Ä‘áº·t tÃªn lÃ  `myweb`.
			# - Viá»‡c Ä‘áº·t tÃªn giÃºp báº¡n dá»… quáº£n lÃ½ container thay vÃ¬ chá»‰ dá»±a vÃ o ID tá»± Ä‘á»™ng sinh ra.

			# 4. -p 7090:80
			# - TÃ¹y chá»n `-p` dÃ¹ng Ä‘á»ƒ Ã¡nh xáº¡ cá»•ng giá»¯a host vÃ  container.
			# - CÃº phÃ¡p: -p [host_port]:[container_port]
			# - á» Ä‘Ã¢y: 7090 (host) â†’ 80 (container)
			#   + Port 80 lÃ  port máº·c Ä‘á»‹nh cá»§a Nginx bÃªn trong container.
			#   + Khi truy cáº­p `http://localhost:7090` trÃªn mÃ¡y host, báº¡n sáº½ Ä‘Æ°á»£c chuyá»ƒn tiáº¿p tá»›i Nginx bÃªn trong container.

			# 5. -d
			# - TÃ¹y chá»n `-d` cháº¡y container á»Ÿ cháº¿ Ä‘á»™ detached (cháº¡y ná»n, khÃ´ng chiáº¿m terminal).
			# - Container sáº½ cháº¡y ngáº§m vÃ  báº¡n cÃ³ thá»ƒ tiáº¿p tá»¥c sá»­ dá»¥ng terminal Ä‘á»ƒ cháº¡y cÃ¡c lá»‡nh khÃ¡c.

			# 6. nginx
			# - LÃ  tÃªn Docker image sá»­ dá»¥ng Ä‘á»ƒ táº¡o container.
			# - Nginx lÃ  web server phá»• biáº¿n, container nÃ y sáº½ cháº¡y Nginx server máº·c Ä‘á»‹nh.

			# 7. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Lá»‡nh nÃ y sáº½:
			#   1. Kiá»ƒm tra náº¿u image `nginx` Ä‘Ã£ cÃ³ trÃªn mÃ¡y, náº¿u chÆ°a sáº½ táº£i tá»« Docker Hub.
			#   2. Táº¡o container má»›i tá»« image `nginx`.
			#   3. Äáº·t tÃªn container lÃ  `myweb`.
			#   4. Ãnh xáº¡ cá»•ng 7090 trÃªn mÃ¡y host vÃ o cá»•ng 80 trong container.
			#   5. Cháº¡y container á»Ÿ cháº¿ Ä‘á»™ ná»n.
			#   6. Nginx server sáº½ sáºµn sÃ ng phá»¥c vá»¥ trÃªn port 7090 cá»§a mÃ¡y host.

			# 8. Kiá»ƒm tra container Ä‘ang cháº¡y
			# - docker ps
			#   + Liá»‡t kÃª cÃ¡c container Ä‘ang cháº¡y.
			# - docker logs myweb
			#   + Xem log cá»§a container `myweb`.
			# - http://localhost:7090
			#   + Truy cáº­p web server Nginx trÃªn trÃ¬nh duyá»‡t.

			# Káº¿t luáº­n:
			# Lá»‡nh `docker run --name myweb -p 7090:80 -d nginx` dÃ¹ng Ä‘á»ƒ khá»Ÿi cháº¡y nhanh má»™t Nginx web server trong container, cháº¡y ná»n vÃ  truy cáº­p thÃ´ng qua port 7090 trÃªn mÃ¡y host.
		
		
		- cmd: docker stop 2c0ebbbbc6cc
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			docker stop 2c0ebbbbc6cc
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ dá»«ng (stop) má»™t container Docker Ä‘ang
			cháº¡y trÃªn host local.

			- `docker stop` gá»­i tÃ­n hiá»‡u SIGTERM Ä‘áº¿n container
			  + Cho phÃ©p container dá»«ng má»™t cÃ¡ch an toÃ n
			- Náº¿u container khÃ´ng dá»«ng sau má»™t khoáº£ng thá»i gian máº·c Ä‘á»‹nh
			  (10 giÃ¢y), Docker sáº½ gá»­i SIGKILL Ä‘á»ƒ Ã©p dá»«ng
			- ThÆ°á»ng dÃ¹ng khi cáº§n báº£o trÃ¬, cáº­p nháº­t, hoáº·c giáº£i phÃ³ng tÃ i nguyÃªn

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. docker
			--------------------------------------------------
			- Command-line tool quáº£n lÃ½ Docker
			- CÃ¡c chá»©c nÄƒng: build, run, ps, stop, start, images, rmi, v.v.

			2.2. stop
			--------------------------------------------------
			- Subcommand cá»§a Docker
			- Dá»«ng container Ä‘ang cháº¡y
			- Cho phÃ©p container thá»±c hiá»‡n quÃ¡ trÃ¬nh táº¯t an toÃ n

			2.3. 2c0ebbbbc6cc
			--------------------------------------------------
			- Container ID hoáº·c tÃªn container
			- CÃ³ thá»ƒ dÃ¹ng má»™t pháº§n ID Ä‘á»§ Ä‘á»ƒ Ä‘á»‹nh danh duy nháº¥t container
			- CÃ³ thá»ƒ thay báº±ng tÃªn container:
			--------------------------------------------------
			docker stop webserver

			--------------------------------------------------
			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			--------------------------------------------------
			1. Docker client gá»­i tÃ­n hiá»‡u SIGTERM tá»›i container
			2. Container nháº­n tÃ­n hiá»‡u vÃ  báº¯t Ä‘áº§u dá»«ng
			3. Náº¿u container dá»«ng thÃ nh cÃ´ng â†’ Docker thÃ´ng bÃ¡o container ID
			4. Náº¿u sau timeout container váº«n cháº¡y â†’ Docker gá»­i SIGKILL Ä‘á»ƒ Ã©p dá»«ng
			5. Container chuyá»ƒn tráº¡ng thÃ¡i tá»« `Up` â†’ `Exited`

			--------------------------------------------------
			4. KIá»‚M TRA SAU KHI STOP
			--------------------------------------------------
			- Kiá»ƒm tra tráº¡ng thÃ¡i container:
			--------------------------------------------------
			docker ps -a
			â†’ Container sáº½ hiá»ƒn thá»‹ tráº¡ng thÃ¡i Exited

			- Kiá»ƒm tra log:
			--------------------------------------------------
			docker logs 2c0ebbbbc6cc

			--------------------------------------------------
			5. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Dá»«ng container khÃ´ng xÃ³a container
			- Dá»«ng container an toÃ n hÆ¡n kill (SIGKILL)
			- Náº¿u muá»‘n dá»«ng nhiá»u container cÃ¹ng lÃºc:
			--------------------------------------------------
			docker stop container1 container2 container3

			- Sau khi stop, container cÃ³ thá»ƒ start láº¡i báº±ng:
			--------------------------------------------------
			docker start 2c0ebbbbc6cc

			--------------------------------------------------
			6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- Giáº£i phÃ³ng tÃ i nguyÃªn host
			- Báº£o trÃ¬ container
			- NgÄƒn container cháº¡y khi khÃ´ng cáº§n thiáº¿t
			- Há»— trá»£ DevOps quáº£n lÃ½ mÃ´i trÆ°á»ng Docker

			--------------------------------------------------
			7. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			docker stop 2c0ebbbbc6cc
			= Dá»«ng container Docker Ä‘ang cháº¡y
			= Gá»­i SIGTERM â†’ SIGKILL náº¿u cáº§n
			= Container váº«n tá»“n táº¡i nhÆ°ng khÃ´ng cháº¡y
			= CÃ³ thá»ƒ start láº¡i sau khi stop
			==================================================
		
		
		- cmd: docker start myweb
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			docker start myweb

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Khá»Ÿi Ä‘á»™ng má»™t container Docker Ä‘Ã£ Ä‘Æ°á»£c táº¡o trÆ°á»›c Ä‘Ã³ vÃ  Ä‘ang á»Ÿ tráº¡ng thÃ¡i dá»«ng
			- `myweb` lÃ  tÃªn (hoáº·c ID) cá»§a container cáº§n khá»Ÿi Ä‘á»™ng
			- KhÃ´ng táº¡o container má»›i, chá»‰ start container hiá»‡n cÃ³
			- ThÆ°á»ng dÃ¹ng khi container dá»«ng báº¥t ngá» hoáº·c sau khi táº¡m dá»«ng Ä‘á»ƒ tiáº¿p tá»¥c hoáº¡t Ä‘á»™ng

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. docker
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Docker
			- Quáº£n lÃ½ container, image, network, volume

			2.2. start
			--------------------------------------------------
			- Subcommand dÃ¹ng Ä‘á»ƒ khá»Ÿi Ä‘á»™ng container
			- Chá»‰ Ã¡p dá»¥ng vá»›i container Ä‘Ã£ tá»“n táº¡i
			- KhÃ´ng cháº¡y command má»›i, container sáº½ tiáº¿p tá»¥c tá»« tráº¡ng thÃ¡i Ä‘Ã£ táº¡o

			2.3. myweb
			--------------------------------------------------
			- TÃªn hoáº·c ID cá»§a container
			- CÃ³ thá»ƒ xem danh sÃ¡ch container báº±ng:
			docker ps -a

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Docker daemon tÃ¬m container cÃ³ tÃªn hoáº·c ID lÃ  `myweb`
			2. Kiá»ƒm tra tráº¡ng thÃ¡i container:
			   - Náº¿u container Ä‘ang cháº¡y â†’ bÃ¡o container already running
			   - Náº¿u container stopped â†’ khá»Ÿi Ä‘á»™ng container
			3. Container báº¯t Ä‘áº§u thá»±c thi command Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a khi táº¡o
			4. ThÃ´ng bÃ¡o hiá»ƒn thá»‹ container ID ngáº¯n sau khi start thÃ nh cÃ´ng

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥ khi cháº¡y:
			$ docker start myweb
			a1b2c3d4e5f6

			Giáº£i thÃ­ch:
			- `a1b2c3d4e5f6` lÃ  ID ngáº¯n cá»§a container `myweb` Ä‘Ã£ Ä‘Æ°á»£c start

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- Kiá»ƒm tra tráº¡ng thÃ¡i container:
			docker ps -a
			docker ps  (chá»‰ container Ä‘ang cháº¡y)

			- Start nhiá»u container cÃ¹ng lÃºc:
			docker start myweb dbserver

			- Stop container:
			docker stop myweb

			- Restart container:
			docker restart myweb

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Tiáº¿p tá»¥c container Ä‘Ã£ táº¡o mÃ  khÃ´ng máº¥t dá»¯ liá»‡u volume
			- Phá»¥c há»“i á»©ng dá»¥ng sau khi container dá»«ng
			- Quáº£n lÃ½ container trÃªn host hoáº·c trong CI/CD pipelines

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. No such container
			--------------------------------------------------
			- TÃªn hoáº·c ID khÃ´ng tá»“n táº¡i
			Giáº£i phÃ¡p:
			docker ps -a  (xem danh sÃ¡ch container)

			7.2. Container fails to start
			--------------------------------------------------
			- Lá»—i cáº¥u hÃ¬nh image, thiáº¿u file, port Ä‘Ã£ dÃ¹ng
			- Kiá»ƒm tra logs:
			docker logs myweb

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- Start container khÃ´ng xÃ³a dá»¯ liá»‡u, nhÆ°ng command cá»§a container sáº½ cháº¡y láº¡i tá»« Ä‘áº§u náº¿u container ephemeral
			- NÃªn kiá»ƒm tra logs Ä‘á»ƒ biáº¿t container hoáº¡t Ä‘á»™ng á»•n Ä‘á»‹nh

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			docker start myweb

			= Khá»Ÿi Ä‘á»™ng container Ä‘Ã£ tá»“n táº¡i
			= DÃ¹ng tÃªn hoáº·c ID container
			= KhÃ´ng táº¡o container má»›i
			= ThÆ°á»ng dÃ¹ng khi container Ä‘Ã£ stopped
			= Káº¿t há»£p vá»›i docker ps, docker logs Ä‘á»ƒ quáº£n lÃ½ container
					
					
					- cmd: ps -ef
					
			Lá»†NH: ps -ef
			=============

			1. Má»¤C ÄÃCH
			----------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **liá»‡t kÃª táº¥t cáº£ cÃ¡c tiáº¿n trÃ¬nh (process) Ä‘ang cháº¡y trÃªn há»‡ thá»‘ng Linux/Unix**.

			- GiÃºp quáº£n trá»‹ viÃªn kiá»ƒm tra tráº¡ng thÃ¡i cá»§a cÃ¡c tiáº¿n trÃ¬nh.
			- DÃ¹ng Ä‘á»ƒ debug, giÃ¡m sÃ¡t há»‡ thá»‘ng, tÃ¬m PID, hoáº·c xÃ¡c Ä‘á»‹nh tiáº¿n trÃ¬nh gÃ¢y lá»—i hoáº·c chiáº¿m tÃ i nguyÃªn.


			2. Cáº¤U TRÃšC Lá»†NH
			----------------
			ps [options]

			Trong vÃ­ dá»¥:
			- `ps`       : Command Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin vá» tiáº¿n trÃ¬nh
			- `-e`       : Hiá»ƒn thá»‹ **táº¥t cáº£ cÃ¡c tiáº¿n trÃ¬nh** trÃªn há»‡ thá»‘ng
			- `-f`       : Hiá»ƒn thá»‹ thÃ´ng tin **Ä‘áº§y Ä‘á»§ (full-format)**, gá»“m nhiá»u cá»™t thÃ´ng tin chi tiáº¿t


			3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
			---------------------
			1. Há»‡ thá»‘ng thu tháº­p thÃ´ng tin vá» táº¥t cáº£ tiáº¿n trÃ¬nh Ä‘ang cháº¡y.
			2. Hiá»ƒn thá»‹ thÃ´ng tin theo dáº¡ng báº£ng, bao gá»“m:
			   - UID        : User cháº¡y tiáº¿n trÃ¬nh
			   - PID        : Process ID
			   - PPID       : Parent Process ID (cha cá»§a tiáº¿n trÃ¬nh)
			   - C          : CPU utilization (thÆ°á»ng lÃ  chá»‰ sá»‘)
			   - STIME      : Thá»i gian tiáº¿n trÃ¬nh báº¯t Ä‘áº§u
			   - TTY        : Terminal liÃªn káº¿t vá»›i tiáº¿n trÃ¬nh
			   - TIME       : Tá»•ng thá»i gian CPU Ä‘Ã£ sá»­ dá»¥ng
			   - CMD        : TÃªn lá»‡nh hoáº·c command cháº¡y tiáº¿n trÃ¬nh
			3. Cho phÃ©p quáº£n trá»‹ viÃªn theo dÃµi tráº¡ng thÃ¡i tiáº¿n trÃ¬nh, tÃ¬m PID Ä‘á»ƒ kill hoáº·c debug.


			4. VÃ Dá»¤ THá»°C Táº¾
			-----------------
			1. Liá»‡t kÃª táº¥t cáº£ tiáº¿n trÃ¬nh:
					
		
		- cmd: cd /var/lib/docker/
		
			Lá»†NH: cd /var/lib/docker/
			====================================================================

			1. cd lÃ  gÃ¬?
			--------------------------------------------------------------------
			- cd = change directory
			- Lá»‡nh dÃ¹ng trÃªn Linux/Unix Ä‘á»ƒ chuyá»ƒn thÆ° má»¥c hiá»‡n táº¡i trong terminal
			- CÃº phÃ¡p:
			  cd <Ä‘Æ°á»ng dáº«n>
			- ThÆ°á»ng dÃ¹ng:
			  + cd .. â†’ lÃªn thÆ° má»¥c cha
			  + cd ~ â†’ vá» thÆ° má»¥c home cá»§a user
			  + cd / â†’ vá» root filesystem

			--------------------------------------------------------------------

			2. /var/lib/docker/ lÃ  gÃ¬?
			--------------------------------------------------------------------
			- ÄÃ¢y lÃ  thÆ° má»¥c máº·c Ä‘á»‹nh Docker lÆ°u trá»¯ dá»¯ liá»‡u
			- Chá»©a cÃ¡c thÃ nh pháº§n quan trá»ng cá»§a Docker:
			  + images â†’ image Docker
			  + containers â†’ container Ä‘Ã£ táº¡o
			  + volumes â†’ volume dá»¯ liá»‡u persistent
			  + network â†’ thÃ´ng tin máº¡ng Docker
			- ThÆ° má»¥c nÃ y thuá»™c quyá»n root, cáº§n sudo Ä‘á»ƒ thao tÃ¡c nhiá»u ná»™i dung

			--------------------------------------------------------------------

			3. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			cd /var/lib/docker/

			â†’ Chuyá»ƒn thÆ° má»¥c lÃ m viá»‡c hiá»‡n táº¡i sang /var/lib/docker  
			â†’ GiÃºp quáº£n trá»‹ viÃªn xem, kiá»ƒm tra hoáº·c thao tÃ¡c dá»¯ liá»‡u Docker trá»±c tiáº¿p  
			â†’ ThÆ°á»ng dÃ¹ng Ä‘á»ƒ debug, xem logs, xÃ³a file layer, hoáº·c thao tÃ¡c advanced

			KHÃ”NG:
			- KhÃ´ng khá»Ÿi Ä‘á»™ng Docker
			- KhÃ´ng táº¡o container/image
			- Chá»‰ thay Ä‘á»•i thÆ° má»¥c hiá»‡n táº¡i trong shell

			--------------------------------------------------------------------

			4. Kiá»ƒm tra thÆ° má»¥c sau khi cd
			--------------------------------------------------------------------
			- Xem ná»™i dung thÆ° má»¥c:
			ls -l /var/lib/docker/

			- VÃ­ dá»¥ output:
			drwx--x--x  2 root root  4096 Dec 16 10:00 containers
			drwx--x--x  2 root root  4096 Dec 16 10:00 images
			drwx--x--x  2 root root  4096 Dec 16 10:00 volumes
			drwx--x--x  2 root root  4096 Dec 16 10:00 network

			--------------------------------------------------------------------

			5. Quy trÃ¬nh thá»±c thi
			--------------------------------------------------------------------
			1) Shell nháº­n lá»‡nh cd
			2) Kiá»ƒm tra Ä‘Æ°á»ng dáº«n cÃ³ tá»“n táº¡i khÃ´ng
			3) Náº¿u tá»“n táº¡i â†’ thay Ä‘á»•i working directory cá»§a session
			4) Náº¿u khÃ´ng tá»“n táº¡i â†’ bÃ¡o lá»—i:
			   "bash: cd: /var/lib/docker/: No such file or directory"

			--------------------------------------------------------------------

			6. LÆ°u Ã½ quan trá»ng
			--------------------------------------------------------------------
			- /var/lib/docker thuá»™c quyá»n root â†’ nÃªn dÃ¹ng sudo náº¿u cáº§n thao tÃ¡c
			- KhÃ´ng xÃ³a trá»±c tiáº¿p cÃ¡c file trong thÆ° má»¥c nÃ y náº¿u khÃ´ng hiá»ƒu rÃµ
			- Dá»¯ liá»‡u bÃªn trong áº£nh hÆ°á»Ÿng trá»±c tiáº¿p tá»›i Docker container/image

			--------------------------------------------------------------------

			7. Khi nÃ o dÃ¹ng lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- Kiá»ƒm tra dá»¯ liá»‡u Docker trá»±c tiáº¿p
			- Debug container/image bá»‹ lá»—i
			- Backup hoáº·c migrate Docker storage

			--------------------------------------------------------------------

			8. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			cd /var/lib/docker/ =
			CHUYá»‚N THÆ¯ Má»¤C HIá»†N Táº I TRONG TERMINAL SANG THÆ¯ Má»¤C LÆ¯U TRá»® Dá»® LIá»†U DOCKER
		
		
		- cmd: root@ip-172-31-35-202:/var/lib/docker# cd containers/
		
			# Lá»‡nh gá»‘c:
			root@ip-172-31-35-202:/var/lib/docker# cd containers/

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. root@ip-172-31-35-202:/var/lib/docker#
			# - ÄÃ¢y lÃ  prompt cá»§a terminal, hiá»ƒn thá»‹ thÃ´ng tin:
			#   + root: tÃªn user hiá»‡n táº¡i (root user, quyá»n cao nháº¥t trÃªn Linux)
			#   + ip-172-31-35-202: hostname cá»§a mÃ¡y (á»Ÿ Ä‘Ã¢y lÃ  má»™t instance EC2)
			#   + /var/lib/docker: thÆ° má»¥c hiá»‡n táº¡i trÆ°á»›c khi thá»±c hiá»‡n lá»‡nh
			# - Dáº¥u "#" cuá»‘i cÃ¹ng chá»‰ ra báº¡n Ä‘ang sá»­ dá»¥ng user root.

			# 2. cd
			# - LÃ  lá»‡nh trong Linux/Unix dÃ¹ng Ä‘á»ƒ chuyá»ƒn thÆ° má»¥c (Change Directory).
			# - CÃº phÃ¡p: cd [Ä‘Æ°á»ng_dáº«n_thÆ°_má»¥c]
			# - KhÃ´ng cÃ³ Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i, cd theo Ä‘Æ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i so vá»›i thÆ° má»¥c hiá»‡n táº¡i.

			# 3. containers/
			# - LÃ  tÃªn thÆ° má»¥c con trong `/var/lib/docker`.
			# - Trong Docker, thÆ° má»¥c `/var/lib/docker/containers/` chá»©a dá»¯ liá»‡u cá»§a cÃ¡c container:
			#   + Metadata container
			#   + Log file
			#   + CÃ¡c layer filesystem cá»§a container
			# - Khi cd vÃ o thÆ° má»¥c nÃ y, báº¡n cÃ³ thá»ƒ liá»‡t kÃª cÃ¡c container hiá»‡n cÃ³ trÃªn host.

			# 4. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Lá»‡nh `cd containers/` sáº½:
			#   + Di chuyá»ƒn thÆ° má»¥c hiá»‡n táº¡i tá»« `/var/lib/docker` vÃ o `/var/lib/docker/containers`.
			#   + Tá»« Ä‘Ã¢y, báº¡n cÃ³ thá»ƒ xem, quáº£n lÃ½ trá»±c tiáº¿p cÃ¡c thÆ° má»¥c vÃ  file liÃªn quan Ä‘áº¿n tá»«ng container.

			# 5. VÃ­ dá»¥ lá»‡nh tiáº¿p theo thÆ°á»ng dÃ¹ng:
			# - ls -l
			#   + Liá»‡t kÃª chi tiáº¿t cÃ¡c container vÃ  file bÃªn trong.
			# - cat [container-id]-json.log
			#   + Xem log cá»§a container tÆ°Æ¡ng á»©ng.

			# Káº¿t luáº­n:
			# Lá»‡nh nÃ y chá»‰ lÃ  thao tÃ¡c chuyá»ƒn thÆ° má»¥c trong Linux Ä‘á»ƒ truy cáº­p dá»¯ liá»‡u cá»§a cÃ¡c container Docker trÃªn host.
		
		
		- cmd: du -sh 6e18faf905a703aad2a20e13e47edcd43a8e3fa8463dc22a76ef653133f04fe5
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			du -sh 6e18faf905a703aad2a20e13e47edcd43a8e3fa8463dc22a76ef653133f04fe5
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ kiá»ƒm tra dung lÆ°á»£ng thÆ° má»¥c hoáº·c file
			trÃªn Linux/Unix.

			- `du` (disk usage) Ä‘o lÆ°á»£ng khÃ´ng gian Ä‘Ä©a mÃ  file hoáº·c thÆ° má»¥c chiáº¿m
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ:
			  + Kiá»ƒm tra dung lÆ°á»£ng container volume
			  + XÃ¡c Ä‘á»‹nh file hoáº·c thÆ° má»¥c chiáº¿m nhiá»u dung lÆ°á»£ng
			  + GiÃ¡m sÃ¡t á»• Ä‘Ä©a

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. du
			--------------------------------------------------
			- Command Ä‘á»ƒ Ä‘o dung lÆ°á»£ng á»• Ä‘Ä©a
			- Máº·c Ä‘á»‹nh, du hiá»ƒn thá»‹ dung lÆ°á»£ng táº¥t cáº£ file/thÆ° má»¥c con

			2.2. -s
			--------------------------------------------------
			- summarize
			- Chá»‰ hiá»ƒn thá»‹ tá»•ng dung lÆ°á»£ng cá»§a thÆ° má»¥c hoáº·c file
			- KhÃ´ng liá»‡t kÃª tá»«ng file con

			2.3. -h
			--------------------------------------------------
			- human-readable
			- Hiá»ƒn thá»‹ dung lÆ°á»£ng theo Ä‘á»‹nh dáº¡ng dá»… Ä‘á»c:
			  + K, M, G (KB, MB, GB)
			- VÃ­ dá»¥: 4.0K, 12M, 2.5G

			2.4. 6e18faf905a703aad2a20e13e47edcd43a8e3fa8463dc22a76ef653133f04fe5
			--------------------------------------------------
			- TÃªn thÆ° má»¥c hoáº·c file cáº§n kiá»ƒm tra dung lÆ°á»£ng
			- CÃ³ thá»ƒ lÃ :
			  + Container layer ID
			  + Docker volume ID
			  + File hash hoáº·c folder hash
			- du sáº½ tÃ­nh tá»•ng dung lÆ°á»£ng cá»§a nÃ³

			--------------------------------------------------
			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			--------------------------------------------------
			1. du Ä‘á»c inode vÃ  kÃ­ch thÆ°á»›c file/thÆ° má»¥c
			2. TÃ­nh tá»•ng dung lÆ°á»£ng mÃ  file/thÆ° má»¥c chiáº¿m
			3. Hiá»ƒn thá»‹ tá»•ng dung lÆ°á»£ng theo format human-readable
			4. VÃ­ dá»¥ Ä‘áº§u ra:
			--------------------------------------------------
			512M    6e18faf905a703aad2a20e13e47edcd43a8e3fa8463dc22a76ef653133f04fe5

			--------------------------------------------------
			4. KIá»‚M TRA SAU KHI CHáº Y Lá»†NH
			--------------------------------------------------
			- Kiá»ƒm tra dung lÆ°á»£ng chi tiáº¿t cá»§a tá»«ng file con:
			--------------------------------------------------
			du -h 6e18faf905a703aad2a20e13e47edcd43a8e3fa8463dc22a76ef653133f04fe5

			- Sá»­ dá»¥ng sort Ä‘á»ƒ tÃ¬m file lá»›n:
			--------------------------------------------------
			du -ah 6e18faf905a703aad2a20e13e47edcd43a8e3fa8463dc22a76ef653133f04fe5 | sort -hr | head -n 10

			--------------------------------------------------
			5. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Náº¿u kiá»ƒm tra Docker container layer hoáº·c volume, cáº§n path chÃ­nh xÃ¡c
			- ThÆ°á»ng cáº§n quyá»n root Ä‘á»ƒ truy cáº­p toÃ n bá»™ layer Docker
			- Káº¿t há»£p vá»›i df Ä‘á»ƒ so sÃ¡nh tá»•ng dung lÆ°á»£ng Ä‘Ä©a:
			--------------------------------------------------
			df -h

			--------------------------------------------------
			6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- XÃ¡c Ä‘á»‹nh dung lÆ°á»£ng chiáº¿m bá»Ÿi file/thÆ° má»¥c
			- GiÃ¡m sÃ¡t á»• Ä‘Ä©a
			- Debug Docker image/layer/volume
			- Lá»c file/thÆ° má»¥c chiáº¿m nhiá»u dung lÆ°á»£ng

			--------------------------------------------------
			7. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			du -sh 6e18faf905a703aad2a20e13e47edcd43a8e3fa8463dc22a76ef653133f04fe5
			= Kiá»ƒm tra tá»•ng dung lÆ°á»£ng cá»§a file/thÆ° má»¥c
			= Hiá»ƒn thá»‹ theo Ä‘á»‹nh dáº¡ng dá»… Ä‘á»c (K/M/G)
			= ThÆ°á»ng dÃ¹ng Ä‘á»ƒ monitor á»• Ä‘Ä©a hoáº·c Docker layer/volume
			==================================================
		
		
		- cmd: root@ip-172-31-35-202:/var/lib/docker# ls image/overlay2/
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			root@ip-172-31-35-202:/var/lib/docker# ls image/overlay2/

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Liá»‡t kÃª ná»™i dung thÆ° má»¥c `overlay2` trong Docker storage
			- ThÆ° má»¥c nÃ y chá»©a cÃ¡c layer filesystem cá»§a Docker image
			- `overlay2` lÃ  driver lÆ°u trá»¯ (storage driver) phá»• biáº¿n trÃªn Linux
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ debug, kiá»ƒm tra layer, hoáº·c phÃ¢n tÃ­ch dung lÆ°á»£ng image

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. root@ip-172-31-35-202:/var/lib/docker#
			--------------------------------------------------
			- ÄÃ¢y lÃ  prompt cá»§a shell, hiá»ƒn thá»‹:
			  + User hiá»‡n táº¡i: root
			  + Hostname: ip-172-31-35-202
			  + ThÆ° má»¥c hiá»‡n táº¡i: /var/lib/docker

			--------------------------------------------------
			2.2. ls
			--------------------------------------------------
			- Lá»‡nh liá»‡t kÃª file vÃ  thÆ° má»¥c
			- KhÃ´ng dÃ¹ng option â†’ chá»‰ hiá»ƒn thá»‹ tÃªn file/dir
			- Option phá»• biáº¿n:
			  + -l : chi tiáº¿t (permissions, owner, size, date)
			  + -a : hiá»ƒn thá»‹ cáº£ file áº©n

			2.3. image/overlay2/
			--------------------------------------------------
			- ThÆ° má»¥c con cá»§a Docker data directory `/var/lib/docker`
			- overlay2 lÃ  Docker storage driver máº·c Ä‘á»‹nh trÃªn Linux
			- Chá»©a cÃ¡c layer filesystem cá»§a image:
			  + layer read-only
			  + diff cá»§a image
			  + metadata cá»§a image

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Shell hiá»‡n táº¡i Ä‘ang á»Ÿ `/var/lib/docker`
			2. Lá»‡nh `ls image/overlay2/` liá»‡t kÃª táº¥t cáº£ thÆ° má»¥c con trong overlay2
			3. ThÆ°á»ng tháº¥y cÃ¡c folder vá»›i tÃªn hash dÃ i
			   + Hash tÆ°Æ¡ng á»©ng vá»›i layer ID cá»§a image
			4. ThÃ´ng tin nÃ y Ä‘Æ°á»£c Docker sá»­ dá»¥ng ná»™i bá»™ Ä‘á»ƒ:
			   - Build container
			   - Merge layer
			   - Quáº£n lÃ½ container filesystem

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥ khi cháº¡y lá»‡nh:

			e3b0c44298fc1c149afbf4c8996fb92427ae41e4
			a1b2c3d4e5f67890123456789abcdef012345678
			b9c8d7e6f5a4b3c2d1e0f123456789abcdefabcd

			- Má»—i thÆ° má»¥c con lÃ  má»™t layer ID
			- Layer read-only Ä‘Æ°á»£c overlay2 quáº£n lÃ½
			- Khi táº¡o container, Docker merge cÃ¡c layer nÃ y vá»›i container writable layer

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- Kiá»ƒm tra dung lÆ°á»£ng tá»«ng layer:
			du -sh image/overlay2/*

			- XÃ³a layer cÅ© (qua Docker, khÃ´ng xÃ³a trá»±c tiáº¿p thÆ° má»¥c):
			docker image prune -a

			- PhÃ¢n tÃ­ch image:
			docker inspect <image_id>

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Debug filesystem Docker
			- Xem cáº¥u trÃºc layer image
			- Quáº£n lÃ½ dung lÆ°á»£ng Docker host
			- Kiá»ƒm tra xem layer nÃ o chiáº¿m nhiá»u dung lÆ°á»£ng

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. Permission denied
			--------------------------------------------------
			- ThÆ°á»ng xáº£y ra náº¿u khÃ´ng dÃ¹ng root
			- Overlay2 thuá»™c sá»Ÿ há»¯u root â†’ cáº§n root

			7.2. ThÆ° má»¥c trá»‘ng
			--------------------------------------------------
			- Náº¿u chÆ°a pull image nÃ o
			- Náº¿u Docker dÃ¹ng storage driver khÃ¡c (vÃ­ dá»¥ aufs, btrfs)

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- KhÃ´ng xÃ³a hoáº·c chá»‰nh sá»­a thÆ° má»¥c trá»±c tiáº¿p â†’ cÃ³ thá»ƒ há»ng image/container
			- LuÃ´n dÃ¹ng lá»‡nh Docker Ä‘á»ƒ quáº£n lÃ½ image/container

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			ls image/overlay2/

			= Liá»‡t kÃª layer filesystem cá»§a Docker images
			= overlay2 lÃ  storage driver máº·c Ä‘á»‹nh trÃªn Linux
			= Má»—i thÆ° má»¥c con tÆ°Æ¡ng á»©ng vá»›i má»™t layer
			= DÃ¹ng Ä‘á»ƒ debug, phÃ¢n tÃ­ch dung lÆ°á»£ng, khÃ´ng xÃ³a trá»±c tiáº¿p
		
		
		- cmd: docker exec myweb ls /
		
			Lá»†NH: docker exec myweb ls /
			============================

			1. Má»¤C ÄÃCH
			----------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **thá»±c thi lá»‡nh `ls /` bÃªn trong container Docker cÃ³ tÃªn `myweb`**.

			- `docker exec` cho phÃ©p cháº¡y má»™t command trong container Ä‘ang cháº¡y.
			- `ls /` liá»‡t kÃª táº¥t cáº£ cÃ¡c thÆ° má»¥c vÃ  file trong thÆ° má»¥c gá»‘c `/` cá»§a container.
			- GiÃºp quáº£n trá»‹ viÃªn hoáº·c developer kiá»ƒm tra file structure, debug container hoáº·c xÃ¡c nháº­n ná»™i dung filesystem.


			2. Cáº¤U TRÃšC Lá»†NH
			----------------
			docker exec [OPTIONS] CONTAINER COMMAND [ARG...]

			Trong vÃ­ dá»¥:
			- `docker`        : Command line tool quáº£n lÃ½ Docker
			- `exec`          : Thá»±c thi lá»‡nh bÃªn trong container Ä‘ang cháº¡y
			- `myweb`         : TÃªn (hoáº·c ID) cá»§a container cáº§n thao tÃ¡c
			- `ls /`          : Lá»‡nh shell bÃªn trong container, liá»‡t kÃª thÆ° má»¥c gá»‘c `/`


			3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
			---------------------
			1. Docker tÃ¬m container Ä‘ang cháº¡y tÃªn `myweb`.
			2. Táº¡o má»™t process má»›i trong container Ä‘á»ƒ thá»±c thi lá»‡nh `ls /`.
			3. Thu tháº­p output tá»« lá»‡nh vÃ  hiá»ƒn thá»‹ trÃªn terminal cá»§a host.
			4. Process káº¿t thÃºc ngay sau khi lá»‡nh hoÃ n táº¥t.


			4. VÃ Dá»¤ THá»°C Táº¾
			-----------------
			1. Kiá»ƒm tra container Ä‘ang cháº¡y:
		
		
		- cmd: docker exec myweb /bin/bash
		
			Lá»†NH: docker exec myweb /bin/bash
			====================================================================

			1. docker lÃ  gÃ¬?
			--------------------------------------------------------------------
			- Docker lÃ  ná»n táº£ng container hÃ³a á»©ng dá»¥ng
			- Cho phÃ©p Ä‘Ã³ng gÃ³i á»©ng dá»¥ng vÃ  mÃ´i trÆ°á»ng cá»§a nÃ³ vÃ o container
			- Docker CLI dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ container, image, volume, network

			--------------------------------------------------------------------

			2. exec lÃ  gÃ¬ trong Docker?
			--------------------------------------------------------------------
			- exec = execute
			- Lá»‡nh dÃ¹ng Ä‘á»ƒ thá»±c thi má»™t command trong container Ä‘ang cháº¡y
			- CÃº phÃ¡p:
			  docker exec [options] <container> <command>
			- KhÃ´ng táº¡o container má»›i, chá»‰ cháº¡y lá»‡nh trong container hiá»‡n cÃ³

			--------------------------------------------------------------------

			3. myweb lÃ  gÃ¬?
			--------------------------------------------------------------------
			- myweb lÃ  tÃªn hoáº·c ID cá»§a container Ä‘ang cháº¡y
			- Container nÃ y pháº£i Ä‘ang á»Ÿ tráº¡ng thÃ¡i running
			- Docker sáº½ thá»±c thi lá»‡nh /bin/bash trong container nÃ y

			--------------------------------------------------------------------

			4. /bin/bash lÃ  gÃ¬?
			--------------------------------------------------------------------
			- /bin/bash lÃ  shell Bash trong container
			- Lá»‡nh nÃ y má»Ÿ má»™t shell interactive
			- Sau khi cháº¡y lá»‡nh, ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ thao tÃ¡c trá»±c tiáº¿p trong mÃ´i trÆ°á»ng container nhÆ° trÃªn Linux bÃ¬nh thÆ°á»ng

			--------------------------------------------------------------------

			5. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			docker exec myweb /bin/bash

			â†’ Má»Ÿ má»™t phiÃªn bash shell trong container myweb Ä‘ang cháº¡y  
			â†’ Cho phÃ©p:
			  + Thao tÃ¡c file, folder
			  + Kiá»ƒm tra logs, cháº¡y lá»‡nh debug
			  + Cháº¡y scripts trá»±c tiáº¿p trong container

			KHÃ”NG:
			- KhÃ´ng táº¡o container má»›i
			- KhÃ´ng thay Ä‘á»•i tráº¡ng thÃ¡i container ngoÃ i viá»‡c thÃªm shell
			- Chá»‰ thá»±c thi lá»‡nh trong container

			--------------------------------------------------------------------

			6. TÃ¹y chá»n thÆ°á»ng dÃ¹ng vá»›i docker exec
			--------------------------------------------------------------------
			- -it â†’ interactive + tty
			  + Má»Ÿ shell tÆ°Æ¡ng tÃ¡c vá»›i terminal
			  + VÃ­ dá»¥: docker exec -it myweb /bin/bash
			- -d â†’ cháº¡y lá»‡nh background
			- --user â†’ cháº¡y lá»‡nh dÆ°á»›i user khÃ¡c trong container

			--------------------------------------------------------------------

			7. Quy trÃ¬nh thá»±c thi
			--------------------------------------------------------------------
			1) Docker client gá»­i yÃªu cáº§u exec tá»›i container myweb
			2) Container nháº­n vÃ  má»Ÿ process /bin/bash
			3) LiÃªn káº¿t shell vá»›i terminal cá»§a client (náº¿u dÃ¹ng -it)
			4) NgÆ°á»i dÃ¹ng thao tÃ¡c trá»±c tiáº¿p trong container

			--------------------------------------------------------------------

			8. Kiá»ƒm tra container trÆ°á»›c khi exec
			--------------------------------------------------------------------
			- Liá»‡t kÃª container Ä‘ang cháº¡y:
			docker ps

			- Kiá»ƒm tra tÃªn hoáº·c ID container myweb

			--------------------------------------------------------------------

			9. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) Error: No such container: myweb
			- Container khÃ´ng tá»“n táº¡i hoáº·c khÃ´ng cháº¡y

			2) /bin/bash: No such file or directory
			- Container khÃ´ng cÃ³ Bash (chá»‰ cÃ³ sh)
			- Thá»­: docker exec myweb /bin/sh

			3) Permission denied
			- Cháº¡y lá»‡nh vá»›i user khÃ´ng Ä‘á»§ quyá»n
			- Sá»­ dá»¥ng --user=root náº¿u cáº§n

			--------------------------------------------------------------------

			10. Khi nÃ o dÃ¹ng lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- Debug container Ä‘ang cháº¡y
			- Cháº¡y lá»‡nh hoáº·c script trong container
			- Kiá»ƒm tra mÃ´i trÆ°á»ng runtime cá»§a á»©ng dá»¥ng

			--------------------------------------------------------------------

			11. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			docker exec myweb /bin/bash =
			Má» BASH SHELL TRONG CONTAINER myweb ÄANG CHáº Y Äá»‚ THAO TÃC TRá»°C TIáº¾P Vá»šI Há»† THá»NG FILE VÃ€ ENVIRONMENT Cá»¦A CONTAINER
					
		
		- cmd: docker exec -it myweb /bin/bash
		
			# Lá»‡nh gá»‘c:
			docker exec -it myweb /bin/bash

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. docker
			# - Docker lÃ  ná»n táº£ng dÃ¹ng Ä‘á»ƒ táº¡o, triá»ƒn khai vÃ  cháº¡y á»©ng dá»¥ng trong container.
			# - Container lÃ  mÃ´i trÆ°á»ng áº£o nháº¹, Ä‘Ã³ng gÃ³i á»©ng dá»¥ng vÃ  táº¥t cáº£ phá»¥ thuá»™c cá»§a nÃ³.

			# 2. exec
			# - Lá»‡nh `docker exec` cho phÃ©p cháº¡y má»™t lá»‡nh bÃªn trong container Ä‘ang cháº¡y.
			# - CÃº phÃ¡p: docker exec [tÃ¹y chá»n] [container] [lá»‡nh]

			# 3. -it
			# - LÃ  sá»± káº¿t há»£p cá»§a hai tÃ¹y chá»n:
			#   + -i (interactive): giá»¯ STDIN má»Ÿ Ä‘á»ƒ báº¡n cÃ³ thá»ƒ nháº­p lá»‡nh.
			#   + -t (tty): gÃ¡n pseudo-TTY Ä‘á»ƒ cÃ³ thá»ƒ hiá»ƒn thá»‹ giao diá»‡n terminal.
			# - Khi káº¿t há»£p -it, báº¡n sáº½ cÃ³ má»™t terminal tÆ°Æ¡ng tÃ¡c trá»±c tiáº¿p vá»›i container.

			# 4. myweb
			# - LÃ  tÃªn container mÃ  báº¡n muá»‘n truy cáº­p.
			# - Trong vÃ­ dá»¥ trÆ°á»›c, container nÃ y Ä‘Æ°á»£c táº¡o báº±ng lá»‡nh:
			#   docker run --name myweb -p 7090:80 -d nginx

			# 5. /bin/bash
			# - ÄÃ¢y lÃ  lá»‡nh sáº½ cháº¡y bÃªn trong container.
			# - /bin/bash lÃ  shell Bash, giÃºp báº¡n thá»±c hiá»‡n cÃ¡c lá»‡nh Linux trong container.
			# - Náº¿u container khÃ´ng cÃ³ Bash, cÃ³ thá»ƒ thay báº±ng /bin/sh.

			# 6. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Lá»‡nh `docker exec -it myweb /bin/bash` sáº½:
			#   1. Má»Ÿ má»™t terminal tÆ°Æ¡ng tÃ¡c bÃªn trong container `myweb`.
			#   2. Cho phÃ©p báº¡n cháº¡y cÃ¡c lá»‡nh Linux trá»±c tiáº¿p trong container.
			#   3. GiÃºp kiá»ƒm tra, debug, hoáº·c cáº¥u hÃ¬nh container khi nÃ³ Ä‘ang cháº¡y.

			# 7. VÃ­ dá»¥ sá»­ dá»¥ng sau khi vÃ o container:
			# - cd /usr/share/nginx/html
			#   + Di chuyá»ƒn Ä‘áº¿n thÆ° má»¥c chá»©a trang web máº·c Ä‘á»‹nh cá»§a Nginx.
			# - ls -l
			#   + Liá»‡t kÃª file trong container.
			# - exit
			#   + ThoÃ¡t khá»i container vÃ  trá»Ÿ vá» terminal cá»§a host.

			# Káº¿t luáº­n:
			# Lá»‡nh nÃ y ráº¥t há»¯u Ã­ch Ä‘á»ƒ truy cáº­p vÃ  thao tÃ¡c trá»±c tiáº¿p bÃªn trong container Docker Ä‘ang cháº¡y, Ä‘áº·c biá»‡t khi cáº§n debug hoáº·c kiá»ƒm tra á»©ng dá»¥ng.
					
					
		- cmd: apt install procps -y
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			apt install procps -y
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t gÃ³i pháº§n má»m `procps` trÃªn há»‡ Ä‘iá»u hÃ nh
			Linux sá»­ dá»¥ng trÃ¬nh quáº£n lÃ½ gÃ³i `apt` (Debian/Ubuntu).

			- `procps` lÃ  bá»™ cÃ´ng cá»¥ quáº£n lÃ½ vÃ  giÃ¡m sÃ¡t tiáº¿n trÃ¬nh:
			  + ps, top, free, kill, pgrep, pkill, vmstat
			- ThÆ°á»ng cáº§n thiáº¿t Ä‘á»ƒ quáº£n lÃ½ há»‡ thá»‘ng vÃ  giÃ¡m sÃ¡t tÃ i nguyÃªn

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. apt
			--------------------------------------------------
			- Advanced Package Tool
			- Quáº£n lÃ½ gÃ³i pháº§n má»m trÃªn Debian/Ubuntu
			- CÃ¡c chá»©c nÄƒng:
			  + install: cÃ i Ä‘áº·t gÃ³i
			  + remove: gá»¡ gÃ³i
			  + update: cáº­p nháº­t danh sÃ¡ch gÃ³i
			  + upgrade: nÃ¢ng cáº¥p gÃ³i

			2.2. install
			--------------------------------------------------
			- TÃ¹y chá»n cá»§a apt Ä‘á»ƒ cÃ i Ä‘áº·t gÃ³i

			2.3. procps
			--------------------------------------------------
			- TÃªn gÃ³i cáº§n cÃ i Ä‘áº·t
			- Chá»©a cÃ¡c cÃ´ng cá»¥ quáº£n lÃ½ tiáº¿n trÃ¬nh nhÆ°:
			  + ps: liá»‡t kÃª tiáº¿n trÃ¬nh
			  + top: giÃ¡m sÃ¡t tiáº¿n trÃ¬nh theo thá»i gian thá»±c
			  + free: hiá»ƒn thá»‹ dung lÆ°á»£ng RAM
			  + kill/pgrep/pkill: quáº£n lÃ½ tiáº¿n trÃ¬nh
			  + vmstat: giÃ¡m sÃ¡t há»‡ thá»‘ng

			2.4. -y
			--------------------------------------------------
			- TÃ¹y chá»n tá»± Ä‘á»™ng Ä‘á»“ng Ã½ táº¥t cáº£ cÃ¡c cÃ¢u há»i xÃ¡c nháº­n
			- KhÃ´ng yÃªu cáº§u user nháº­p `y` khi cÃ i Ä‘áº·t

			--------------------------------------------------
			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			--------------------------------------------------
			1. apt kiá»ƒm tra danh sÃ¡ch gÃ³i vÃ  phá»¥ thuá»™c
			2. Táº£i gÃ³i `procps` vÃ  cÃ¡c gÃ³i phá»¥ thuá»™c tá»« repository
			3. CÃ i Ä‘áº·t cÃ¡c file vÃ o há»‡ thá»‘ng
			4. Cáº­p nháº­t metadata vá» cÃ¡c gÃ³i Ä‘Ã£ cÃ i
			5. Káº¿t thÃºc mÃ  khÃ´ng há»i user vÃ¬ cÃ³ -y

			--------------------------------------------------
			4. KIá»‚M TRA SAU KHI CÃ€I Äáº¶T
			--------------------------------------------------
			- Kiá»ƒm tra phiÃªn báº£n procps:
			--------------------------------------------------
			ps --version
			top -v

			- Kiá»ƒm tra cÃ¡c lá»‡nh trong gÃ³i:
			--------------------------------------------------
			dpkg -L procps

			--------------------------------------------------
			5. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Cáº§n quyá»n root hoáº·c sudo Ä‘á»ƒ cÃ i Ä‘áº·t:
			--------------------------------------------------
			sudo apt install procps -y

			- Procps thÆ°á»ng Ä‘Æ°á»£c cÃ i sáºµn trÃªn nhiá»u há»‡ thá»‘ng
			- Náº¿u Ä‘Ã£ cÃ³, apt sáº½ thÃ´ng bÃ¡o "procps is already the newest version"

			--------------------------------------------------
			6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- Quáº£n lÃ½ vÃ  giÃ¡m sÃ¡t tiáº¿n trÃ¬nh
			- Theo dÃµi RAM, CPU, swap
			- Debug vÃ  báº£o trÃ¬ há»‡ thá»‘ng
			- Há»— trá»£ DevOps vÃ  sysadmin

			--------------------------------------------------
			7. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			apt install procps -y
			= CÃ i Ä‘áº·t gÃ³i procps trÃªn Debian/Ubuntu
			= Bao gá»“m cÃ¡c cÃ´ng cá»¥ quáº£n lÃ½ tiáº¿n trÃ¬nh: ps, top, free, kill, â€¦
			= Tá»± Ä‘á»™ng Ä‘á»“ng Ã½ cÃ i Ä‘áº·t nhá» -y
			= Cáº§n quyá»n root hoáº·c sudo
			==================================================
		
		
		- cmd: docker rmi nginx:stable-alpine3.21-perl
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			docker rmi nginx:stable-alpine3.21-perl

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- XÃ³a má»™t Docker image khá»i local Docker host
			- Image cá»¥ thá»ƒ: `nginx:stable-alpine3.21-perl`
			- GiÃºp giáº£i phÃ³ng dung lÆ°á»£ng, hoáº·c loáº¡i bá» image khÃ´ng cáº§n thiáº¿t
			- KhÃ´ng áº£nh hÆ°á»Ÿng trá»±c tiáº¿p Ä‘áº¿n container Ä‘ang cháº¡y (náº¿u container Ä‘ang dÃ¹ng image â†’ lá»—i khÃ´ng xÃ³a Ä‘Æ°á»£c)

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. docker
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh quáº£n lÃ½ Docker
			- Quáº£n lÃ½ container, image, network, volume

			2.2. rmi
			--------------------------------------------------
			- Subcommand "remove image"
			- XÃ³a má»™t hoáº·c nhiá»u Docker image
			- Lá»‡nh yÃªu cáº§u chá»‰ Ä‘á»‹nh tÃªn hoáº·c ID image

			2.3. nginx:stable-alpine3.21-perl
			--------------------------------------------------
			- TÃªn vÃ  tag cá»§a image
			- nginx: tÃªn image
			- stable-alpine3.21-perl: tag, chá»‰ Ä‘á»‹nh phiÃªn báº£n, base image vÃ  biáº¿n thá»ƒ (cÃ³ Perl)
			- CÃ³ thá»ƒ thay tháº¿ báº±ng ID image thay vÃ¬ tÃªn

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Docker daemon tÃ¬m image `nginx:stable-alpine3.21-perl` trong local
			2. Kiá»ƒm tra xem image cÃ³ container nÃ o Ä‘ang dÃ¹ng khÃ´ng
			   - Náº¿u cÃ³ container Ä‘ang cháº¡y â†’ xÃ³a tháº¥t báº¡i
			3. Náº¿u khÃ´ng cÃ³ container â†’ Docker xÃ³a image
			4. Cáº­p nháº­t metadata cá»§a Docker Ä‘á»ƒ image khÃ´ng cÃ²n xuáº¥t hiá»‡n trong `docker images`

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥ khi cháº¡y lá»‡nh:

			$ docker rmi nginx:stable-alpine3.21-perl
			Untagged: nginx:stable-alpine3.21-perl
			Deleted: sha256:1a2b3c4d5e6f7890abcdef1234567890abcdef1234567890abcdef1234567890

			Giáº£i thÃ­ch:
			- Untagged: xÃ³a tag khá»i local
			- Deleted: xÃ³a layer image khá»i local storage náº¿u khÃ´ng cÃ²n container dÃ¹ng

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- XÃ³a nhiá»u image:
			docker rmi image1 image2 image3

			- Buá»™c xÃ³a image ngay cáº£ khi cÃ²n container:
			docker rmi -f nginx:stable-alpine3.21-perl

			- Kiá»ƒm tra image hiá»‡n cÃ³:
			docker images

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Giáº£i phÃ³ng dung lÆ°á»£ng Docker host
			- Dá»n dáº¹p image cÅ©, khÃ´ng cÃ²n sá»­ dá»¥ng
			- Chuáº©n bá»‹ pull image má»›i phiÃªn báº£n khÃ¡c

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. Error: conflict: unable to delete
			--------------------------------------------------
			- NguyÃªn nhÃ¢n: cÃ²n container Ä‘ang dÃ¹ng image
			- Giáº£i phÃ¡p:
			docker ps -a  (xem container)
			docker rm <container_id>  (xÃ³a container)
			docker rmi <image_name>  (thá»­ láº¡i)

			7.2. No such image
			--------------------------------------------------
			- Image chÆ°a pull hoáº·c tÃªn/tag sai
			- Kiá»ƒm tra báº±ng:
			docker images

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- KhÃ´ng xÃ³a image Ä‘ang dÃ¹ng bá»Ÿi container náº¿u muá»‘n container tiáº¿p tá»¥c cháº¡y
			- DÃ¹ng -f cáº©n tháº­n vÃ¬ cÃ³ thá»ƒ xÃ³a image Ä‘ang cháº¡y container khÃ¡c

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			docker rmi nginx:stable-alpine3.21-perl

			= XÃ³a Docker image khá»i local
			= Cáº§n tÃªn + tag hoáº·c ID image
			= KhÃ´ng áº£nh hÆ°á»Ÿng container Ä‘ang cháº¡y
			= DÃ¹ng Ä‘á»ƒ dá»n dáº¹p, giáº£i phÃ³ng dung lÆ°á»£ng, hoáº·c thay image má»›i
			= DÃ¹ng -f náº¿u cáº§n buá»™c xÃ³a
					
		
		- cmd: docker rm 2c0ebbbbc6cc
		
			Lá»†NH: docker rm 2c0ebbbbc6cc
			=============================

			1. Má»¤C ÄÃCH
			----------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **xÃ³a má»™t container Docker** trÃªn mÃ¡y local dá»±a trÃªn ID hoáº·c tÃªn container.

			- Trong vÃ­ dá»¥, `2c0ebbbbc6cc` lÃ  **container ID**.
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ dá»n dáº¹p container Ä‘Ã£ **dá»«ng** hoáº·c khÃ´ng cÃ²n sá»­ dá»¥ng ná»¯a.
			- GiÃºp giáº£i phÃ³ng tÃ i nguyÃªn nhÆ° disk, memory vÃ  giá»¯ mÃ´i trÆ°á»ng Docker gá»n gÃ ng.


			2. Cáº¤U TRÃšC Lá»†NH
			----------------
			docker rm [OPTIONS] CONTAINER [CONTAINER...]

			Trong vÃ­ dá»¥:
			- `docker`      : Command line tool quáº£n lÃ½ Docker
			- `rm`          : Lá»‡nh xÃ³a container
			- `2c0ebbbbc6cc` : ID hoáº·c tÃªn container cáº§n xÃ³a


			3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
			---------------------
			1. Docker kiá»ƒm tra container cÃ³ tá»“n táº¡i khÃ´ng.
			2. Kiá»ƒm tra tráº¡ng thÃ¡i container:
			   - Náº¿u container Ä‘ang **cháº¡y**, lá»‡nh sáº½ bÃ¡o lá»—i.
			   - Náº¿u container **dá»«ng**, Docker tiáº¿n hÃ nh xÃ³a container.
			3. XÃ³a container:
			   - ThÃ´ng tin container, filesystem táº¡m thá»i, cÃ¡c layer overlay sáº½ bá»‹ xÃ³a.
			4. Hiá»ƒn thá»‹ ID cá»§a container Ä‘Ã£ xÃ³a trÃªn terminal.


			4. VÃ Dá»¤ THá»°C Táº¾
			-----------------
			1. Kiá»ƒm tra container Ä‘ang cháº¡y:
		
		
		- cmd: docker pull ubuntu
		
			Lá»†NH: docker pull ubuntu
			====================================================================

			1. docker lÃ  gÃ¬?
			--------------------------------------------------------------------
			- Docker lÃ  ná»n táº£ng container hÃ³a á»©ng dá»¥ng
			- Cho phÃ©p Ä‘Ã³ng gÃ³i á»©ng dá»¥ng cÃ¹ng mÃ´i trÆ°á»ng (dependencies, libraries, OS) vÃ o container
			- Docker CLI dÃ¹ng Ä‘á»ƒ quáº£n lÃ½:
			  + Image
			  + Container
			  + Volume
			  + Network

			--------------------------------------------------------------------

			2. pull lÃ  gÃ¬ trong Docker?
			--------------------------------------------------------------------
			- pull = táº£i image tá»« Docker registry vá» local machine
			- Registry máº·c Ä‘á»‹nh lÃ  Docker Hub (hub.docker.com)
			- Docker sáº½:
			  + TÃ¬m image ubuntu trÃªn Docker Hub
			  + Táº£i cÃ¡c layer image cáº§n thiáº¿t vá» mÃ¡y
			  + LÆ°u trá»¯ trong local Docker storage Ä‘á»ƒ cÃ³ thá»ƒ cháº¡y container

			--------------------------------------------------------------------

			3. ubuntu lÃ  gÃ¬?
			--------------------------------------------------------------------
			- ubuntu = tÃªn image muá»‘n táº£i
			- Ubuntu lÃ  má»™t há»‡ Ä‘iá»u hÃ nh Linux phá»• biáº¿n
			- Khi pull ubuntu:
			  + Docker táº£i image chÃ­nh thá»©c cá»§a Ubuntu
			  + PhiÃªn báº£n máº·c Ä‘á»‹nh lÃ  latest náº¿u khÃ´ng chá»‰ Ä‘á»‹nh tag

			--------------------------------------------------------------------

			4. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			docker pull ubuntu

			â†’ Táº£i image Ubuntu tá»« Docker Hub vá» mÃ¡y local  
			â†’ Image sáº½ Ä‘Æ°á»£c lÆ°u trá»¯ Ä‘á»ƒ cháº¡y container sau nÃ y  
			â†’ Lá»‡nh nÃ y KHÃ”NG cháº¡y container ngay láº­p tá»©c

			KHÃ”NG:
			- KhÃ´ng khá»Ÿi Ä‘á»™ng container
			- KhÃ´ng cáº­p nháº­t container Ä‘ang cháº¡y
			- Chá»‰ táº£i image vá» local

			--------------------------------------------------------------------

			5. Quy trÃ¬nh thá»±c thi
			--------------------------------------------------------------------
			1) Docker client gá»­i request tá»›i Docker Hub
			2) Docker Hub tráº£ vá» metadata cá»§a image ubuntu
			3) Docker táº£i tá»«ng layer image náº¿u chÆ°a cÃ³
			4) LÆ°u layer trong local Docker storage
			5) Image sáºµn sÃ ng Ä‘á»ƒ cháº¡y container

			--------------------------------------------------------------------

			6. Kiá»ƒm tra image Ä‘Ã£ pull
			--------------------------------------------------------------------
			- Liá»‡t kÃª image local:
			docker images

			- Output vÃ­ dá»¥:
			REPOSITORY   TAG       IMAGE ID       CREATED       SIZE
			ubuntu       latest    abcdef123456   3 weeks ago   77.9MB

			--------------------------------------------------------------------

			7. TÃ¹y chá»n thÆ°á»ng dÃ¹ng vá»›i docker pull
			--------------------------------------------------------------------
			- Chá»‰ Ä‘á»‹nh tag/version:
			docker pull ubuntu:22.04

			- DÃ¹ng registry khÃ¡c:
			docker pull myregistry.com/myimage:tag

			--------------------------------------------------------------------

			8. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) Error response from daemon
			- Docker daemon chÆ°a cháº¡y
			- Kiá»ƒm tra báº±ng: systemctl status docker

			2) Network timeout / DNS lookup failed
			- Kiá»ƒm tra Internet, proxy, firewall

			3) Access denied
			- Private registry yÃªu cáº§u login:
			docker login <registry>

			--------------------------------------------------------------------

			9. Khi nÃ o dÃ¹ng lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- Táº£i Ubuntu image Ä‘á»ƒ lÃ m base cho container má»›i
			- Chuáº©n bá»‹ mÃ´i trÆ°á»ng container cho development hoáº·c CI/CD
			- Cáº­p nháº­t phiÃªn báº£n image Ubuntu

			--------------------------------------------------------------------

			10. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			docker pull ubuntu =
			Táº¢I IMAGE UBUNTU Tá»ª DOCKER HUB Vá»€ MÃY LOCAL Äá»‚ Sáº´N SÃ€NG CHáº Y CONTAINER
					
		
		- cmd: docker run ubuntu
		
			# Lá»‡nh gá»‘c:
			docker run ubuntu

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. docker
			# - Docker lÃ  ná»n táº£ng dÃ¹ng Ä‘á»ƒ táº¡o, triá»ƒn khai vÃ  cháº¡y á»©ng dá»¥ng trong container.
			# - Container lÃ  mÃ´i trÆ°á»ng áº£o nháº¹, Ä‘Ã³ng gÃ³i á»©ng dá»¥ng vÃ  táº¥t cáº£ phá»¥ thuá»™c cá»§a nÃ³, cháº¡y nháº¥t quÃ¡n trÃªn má»i mÃ´i trÆ°á»ng.

			# 2. run
			# - Lá»‡nh `docker run` dÃ¹ng Ä‘á»ƒ táº¡o vÃ  cháº¡y má»™t container má»›i tá»« má»™t Docker image.
			# - CÃº phÃ¡p cÆ¡ báº£n: docker run [tÃ¹y chá»n] [image] [lá»‡nh]

			# 3. ubuntu
			# - LÃ  tÃªn cá»§a Docker image sá»­ dá»¥ng Ä‘á»ƒ táº¡o container.
			# - Image `ubuntu` lÃ  há»‡ Ä‘iá»u hÃ nh Ubuntu gá»‘c Ä‘Æ°á»£c Ä‘Ã³ng gÃ³i dÆ°á»›i dáº¡ng container.
			# - Náº¿u image chÆ°a cÃ³ trÃªn mÃ¡y local, Docker sáº½ tá»± Ä‘á»™ng táº£i tá»« Docker Hub.

			# 4. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Khi cháº¡y `docker run ubuntu`, Docker sáº½:
			#   1. Táº£i image Ubuntu tá»« Docker Hub náº¿u chÆ°a cÃ³ trÃªn mÃ¡y local.
			#   2. Táº¡o má»™t container má»›i tá»« image Ubuntu.
			#   3. Cháº¡y container, máº·c Ä‘á»‹nh sáº½ thá»±c hiá»‡n lá»‡nh shell (thÆ°á»ng lÃ  /bin/bash hoáº·c /bin/sh) nhÆ°ng náº¿u khÃ´ng cÃ³ tÃ¹y chá»n `-it`, container sáº½ cháº¡y vÃ  ngay láº­p tá»©c thoÃ¡t vÃ¬ khÃ´ng cÃ³ lá»‡nh nÃ o Ä‘á»ƒ giá»¯ STDIN má»Ÿ.

			# 5. LÆ°u Ã½:
			# - Äá»ƒ cháº¡y Ubuntu á»Ÿ cháº¿ Ä‘á»™ tÆ°Æ¡ng tÃ¡c (interactive) vÃ  cÃ³ terminal, nÃªn dÃ¹ng:
			#   docker run -it ubuntu
			# - Äá»ƒ cháº¡y á»Ÿ cháº¿ Ä‘á»™ ná»n (detached), cÃ³ thá»ƒ dÃ¹ng:
			#   docker run -d ubuntu

			# 6. VÃ­ dá»¥ má»Ÿ terminal tÆ°Æ¡ng tÃ¡c:
			# docker run -it ubuntu /bin/bash
			# - Má»Ÿ má»™t terminal Bash bÃªn trong container Ubuntu Ä‘á»ƒ báº¡n cÃ³ thá»ƒ cháº¡y lá»‡nh Linux trá»±c tiáº¿p.

			# Káº¿t luáº­n:
			# Lá»‡nh `docker run ubuntu` dÃ¹ng Ä‘á»ƒ khá»Ÿi táº¡o vÃ  cháº¡y container tá»« image Ubuntu, ráº¥t há»¯u Ã­ch Ä‘á»ƒ thá»­ nghiá»‡m hoáº·c phÃ¡t triá»ƒn trong mÃ´i trÆ°á»ng Linux cÃ¡ch ly.
					
		
		- cmd: docker run -it ubuntu /bin/bash
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			docker run -it ubuntu /bin/bash
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ táº¡o vÃ  cháº¡y má»™t container Docker tá»« image `ubuntu`,
			vÃ  má»Ÿ shell Bash tÆ°Æ¡ng tÃ¡c bÃªn trong container.

			- `docker run`: cháº¡y má»™t container má»›i tá»« image
			- `-it`: káº¿t há»£p 2 tÃ¹y chá»n Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i container
			- `ubuntu`: tÃªn image dÃ¹ng Ä‘á»ƒ táº¡o container
			- `/bin/bash`: lá»‡nh sáº½ thá»±c thi khi container khá»Ÿi Ä‘á»™ng
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ test, debug, hoáº·c lÃ m mÃ´i trÆ°á»ng phÃ¡t triá»ƒn táº¡m thá»i

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. docker
			--------------------------------------------------
			- Command-line tool quáº£n lÃ½ Docker
			- Cháº¡y cÃ¡c lá»‡nh: build, run, ps, stop, images, rmi, logs, v.v.

			2.2. run
			--------------------------------------------------
			- Subcommand Ä‘á»ƒ táº¡o vÃ  cháº¡y container má»›i tá»« image
			- Náº¿u image chÆ°a cÃ³ trÃªn host, Docker sáº½ táº£i tá»« Docker Hub

			2.3. -it
			--------------------------------------------------
			- `-i` (interactive):
			  + Giá»¯ stdin cá»§a container má»Ÿ
			  + Cho phÃ©p nháº­p lá»‡nh vÃ o container
			- `-t` (tty):
			  + GÃ¡n terminal áº£o cho container
			  + Hiá»ƒn thá»‹ prompt Ä‘áº¹p, há»— trá»£ shell tÆ°Æ¡ng tÃ¡c
			- Káº¿t há»£p `-it` â†’ cháº¡y container tÆ°Æ¡ng tÃ¡c

			2.4. ubuntu
			--------------------------------------------------
			- TÃªn image Docker dÃ¹ng Ä‘á»ƒ táº¡o container
			- CÃ³ thá»ƒ thay báº±ng báº¥t ká»³ image nÃ o khÃ¡c
			- Náº¿u chÆ°a cÃ³ trÃªn host, Docker tá»± Ä‘á»™ng pull tá»« Docker Hub

			2.5. /bin/bash
			--------------------------------------------------
			- Lá»‡nh Ä‘Æ°á»£c thá»±c thi khi container khá»Ÿi Ä‘á»™ng
			- á» Ä‘Ã¢y má»Ÿ shell Bash
			- Cho phÃ©p ngÆ°á»i dÃ¹ng thá»±c hiá»‡n cÃ¡c lá»‡nh bÃªn trong container

			--------------------------------------------------
			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			--------------------------------------------------
			1. Kiá»ƒm tra image `ubuntu` trÃªn host
			   - Náº¿u chÆ°a cÃ³ â†’ pull tá»« Docker Hub
			2. Táº¡o container má»›i tá»« image
			3. Khá»Ÿi Ä‘á»™ng container vÃ  cháº¡y lá»‡nh `/bin/bash`
			4. Káº¿t ná»‘i terminal cá»§a host vÃ o container
			   - NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ nháº­p lá»‡nh trá»±c tiáº¿p
			5. Khi thoÃ¡t bash (`exit`) â†’ container sáº½ dá»«ng

			--------------------------------------------------
			4. KIá»‚M TRA SAU KHI CHáº Y
			--------------------------------------------------
			- Xem container Ä‘ang cháº¡y:
			--------------------------------------------------
			docker ps

			- Xem táº¥t cáº£ container (bao gá»“m dá»«ng):
			--------------------------------------------------
			docker ps -a

			- Kiá»ƒm tra image Ubuntu Ä‘Ã£ pull:
			--------------------------------------------------
			docker images | grep ubuntu

			--------------------------------------------------
			5. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Container nÃ y lÃ  táº¡m thá»i náº¿u khÃ´ng dÃ¹ng `--name` hoáº·c `--rm`
			- Khi thoÃ¡t Bash, container sáº½ stop
			- Muá»‘n giá»¯ container Ä‘á»ƒ dÃ¹ng sau:
			--------------------------------------------------
			docker start -ai <container_id_or_name>

			- Náº¿u muá»‘n xÃ³a container sau khi thoÃ¡t:
			--------------------------------------------------
			docker run --rm -it ubuntu /bin/bash

			--------------------------------------------------
			6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- Thá»­ nghiá»‡m lá»‡nh Linux trong Ubuntu container
			- Debug vÃ  test mÃ´i trÆ°á»ng isolated
			- PhÃ¡t triá»ƒn hoáº·c há»c Docker mÃ  khÃ´ng áº£nh hÆ°á»Ÿng host

			--------------------------------------------------
			7. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			docker run -it ubuntu /bin/bash
			= Cháº¡y container má»›i tá»« image Ubuntu
			= Má»Ÿ shell Bash tÆ°Æ¡ng tÃ¡c bÃªn trong container
			= DÃ¹ng -it Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c trá»±c tiáº¿p
			= Container dá»«ng khi thoÃ¡t Bash trá»« khi dÃ¹ng --rm
			==================================================
		
		
		- cmd: docker rm sleepy_clarke amazing_ganguly tender_kilby
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			docker rm sleepy_clarke amazing_ganguly tender_kilby

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- XÃ³a má»™t hoáº·c nhiá»u Docker container Ä‘Ã£ dá»«ng
			- Container Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh báº±ng tÃªn (hoáº·c ID)
			- Trong vÃ­ dá»¥ nÃ y:
			  + sleepy_clarke
			  + amazing_ganguly
			  + tender_kilby
			- KhÃ´ng xÃ³a container Ä‘ang cháº¡y (náº¿u container Ä‘ang cháº¡y â†’ lá»—i, cáº§n dÃ¹ng `-f` Ä‘á»ƒ buá»™c xÃ³a)
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ dá»n dáº¹p container cÅ©, giáº£i phÃ³ng tÃ i nguyÃªn

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. docker
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Docker
			- Quáº£n lÃ½ container, image, volume, network

			2.2. rm
			--------------------------------------------------
			- Subcommand "remove"
			- DÃ¹ng Ä‘á»ƒ xÃ³a container
			- CÃ³ thá»ƒ xÃ³a nhiá»u container cÃ¹ng lÃºc:
			docker rm container1 container2 container3

			2.3. sleepy_clarke amazing_ganguly tender_kilby
			--------------------------------------------------
			- TÃªn container cáº§n xÃ³a
			- Docker tá»± sinh tÃªn ngáº«u nhiÃªn náº¿u container khÃ´ng Ä‘Æ°á»£c Ä‘áº·t tÃªn khi táº¡o

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Docker daemon tÃ¬m container theo tÃªn
			2. Kiá»ƒm tra tráº¡ng thÃ¡i container:
			   - Náº¿u container Ä‘ang cháº¡y â†’ bÃ¡o lá»—i
			   - Náº¿u container stopped â†’ xÃ³a container
			3. Cáº­p nháº­t Docker metadata, container khÃ´ng cÃ²n xuáº¥t hiá»‡n trong `docker ps -a`
			4. Giáº£i phÃ³ng cÃ¡c tÃ i nguyÃªn liÃªn quan (filesystem, logs)

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥ khi cháº¡y lá»‡nh:

			$ docker rm sleepy_clarke amazing_ganguly tender_kilby
			sleepy_clarke
			amazing_ganguly
			tender_kilby

			Giáº£i thÃ­ch:
			- Má»—i dÃ²ng xÃ¡c nháº­n container Ä‘Ã£ bá»‹ xÃ³a

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- XÃ³a container Ä‘ang cháº¡y (buá»™c):
			docker rm -f <container_name>

			- XÃ³a táº¥t cáº£ container Ä‘Ã£ dá»«ng:
			docker container prune

			- Kiá»ƒm tra danh sÃ¡ch container:
			docker ps -a

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Dá»n dáº¹p container cÅ© hoáº·c khÃ´ng dÃ¹ng
			- Giáº£i phÃ³ng CPU, memory, storage trÃªn Docker host
			- Chuáº©n bá»‹ cho táº¡o container má»›i mÃ  khÃ´ng bá»‹ trÃ¹ng tÃªn

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. Error: container is running
			--------------------------------------------------
			- NguyÃªn nhÃ¢n: container Ä‘ang cháº¡y
			- Giáº£i phÃ¡p:
			docker stop <container_name>
			docker rm <container_name>

			7.2. No such container
			--------------------------------------------------
			- TÃªn container sai hoáº·c Ä‘Ã£ xÃ³a
			- Kiá»ƒm tra danh sÃ¡ch báº±ng docker ps -a

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- XÃ³a container sáº½ máº¥t dá»¯ liá»‡u chÆ°a Ä‘Æ°á»£c lÆ°u trÃªn volume (trá»« khi dÃ¹ng volume external)
			- DÃ¹ng -f cáº©n tháº­n náº¿u container Ä‘ang cháº¡y, trÃ¡nh máº¥t dá»¯ liá»‡u quan trá»ng

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			docker rm sleepy_clarke amazing_ganguly tender_kilby

			= XÃ³a container Docker Ä‘Ã£ dá»«ng
			= CÃ³ thá»ƒ xÃ³a nhiá»u container cÃ¹ng lÃºc
			= KhÃ´ng áº£nh hÆ°á»Ÿng container Ä‘ang cháº¡y náº¿u khÃ´ng dÃ¹ng -f
			= GiÃºp dá»n dáº¹p, giáº£i phÃ³ng tÃ i nguyÃªn host
			= Kiá»ƒm tra báº±ng docker ps -a trÆ°á»›c khi xÃ³a
		
		
		- cmd: docker rmi ubuntu hello-world
		
			Lá»†NH: docker rmi ubuntu hello-world
			===================================

			1. Má»¤C ÄÃCH
			----------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **xÃ³a má»™t hoáº·c nhiá»u Docker image** khá»i mÃ¡y local.

			- `rmi` lÃ  viáº¿t táº¯t cá»§a **remove image**.
			- Trong vÃ­ dá»¥, xÃ³a 2 image: `ubuntu` vÃ  `hello-world`.
			- GiÃºp giáº£i phÃ³ng dung lÆ°á»£ng lÆ°u trá»¯ trÃªn mÃ¡y local hoáº·c dá»n dáº¹p cÃ¡c image khÃ´ng cÃ²n sá»­ dá»¥ng.


			2. Cáº¤U TRÃšC Lá»†NH
			----------------
			docker rmi [OPTIONS] IMAGE [IMAGE...]

			Trong vÃ­ dá»¥:
			- `docker`       : Command line tool quáº£n lÃ½ Docker
			- `rmi`          : Lá»‡nh xÃ³a image
			- `ubuntu hello-world` : TÃªn image hoáº·c ID cá»§a image cáº§n xÃ³a


			3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
			---------------------
			1. Docker kiá»ƒm tra xem image cÃ³ tá»“n táº¡i trÃªn mÃ¡y local khÃ´ng.
			2. Kiá»ƒm tra náº¿u image Ä‘ang Ä‘Æ°á»£c **container sá»­ dá»¥ng**:
			   - Náº¿u cÃ³ container Ä‘ang cháº¡y hoáº·c dá»«ng dÃ¹ng image, lá»‡nh sáº½ bÃ¡o lá»—i trá»« khi dÃ¹ng `-f`.
			3. XÃ³a image:
			   - Docker loáº¡i bá» cÃ¡c layer cá»§a image náº¿u khÃ´ng cÃ²n container nÃ o sá»­ dá»¥ng.
			   - XÃ³a cache táº¡m thá»i liÃªn quan Ä‘áº¿n image.
			4. Hiá»ƒn thá»‹ ID cá»§a cÃ¡c image Ä‘Ã£ xÃ³a trÃªn terminal.


			4. VÃ Dá»¤ THá»°C Táº¾
			-----------------
			1. Kiá»ƒm tra image hiá»‡n cÃ³ trÃªn mÃ¡y:
		
		
		- cmd: docker inspect nginx
		
			Lá»†NH: docker inspect nginx
			====================================================================

			1. docker lÃ  gÃ¬?
			--------------------------------------------------------------------
			- Docker lÃ  ná»n táº£ng container hÃ³a á»©ng dá»¥ng
			- Cho phÃ©p Ä‘Ã³ng gÃ³i á»©ng dá»¥ng cÃ¹ng mÃ´i trÆ°á»ng (dependencies, libraries, OS) vÃ o container
			- Docker CLI dÃ¹ng Ä‘á»ƒ quáº£n lÃ½:
			  + Image
			  + Container
			  + Volume
			  + Network

			--------------------------------------------------------------------

			2. inspect lÃ  gÃ¬ trong Docker?
			--------------------------------------------------------------------
			- inspect = kiá»ƒm tra chi tiáº¿t
			- Lá»‡nh dÃ¹ng Ä‘á»ƒ láº¥y thÃ´ng tin JSON Ä‘áº§y Ä‘á»§ vá»:
			  + Container
			  + Image
			  + Volume
			  + Network
			- ThÃ´ng tin bao gá»“m:
			  + ID, tÃªn, tráº¡ng thÃ¡i
			  + Cáº¥u hÃ¬nh máº¡ng
			  + Ports mapping
			  + Volume mount
			  + Environment variables
			  + Command, entrypoint, labels, vÃ  nhiá»u metadata khÃ¡c

			--------------------------------------------------------------------

			3. nginx lÃ  gÃ¬ trong lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- nginx cÃ³ thá»ƒ lÃ :
			  + TÃªn container Ä‘ang cháº¡y
			  + Hoáº·c tÃªn image nginx Ä‘Ã£ pull vá» local
			- Docker sáº½ láº¥y thÃ´ng tin JSON cá»§a Ä‘á»‘i tÆ°á»£ng nÃ y Ä‘á»ƒ hiá»ƒn thá»‹

			--------------------------------------------------------------------

			4. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			docker inspect nginx

			â†’ Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t dáº¡ng JSON vá» container hoáº·c image nginx  
			â†’ DÃ¹ng Ä‘á»ƒ:
			  + Debug container
			  + Kiá»ƒm tra cáº¥u hÃ¬nh máº¡ng, volume, environment variables
			  + Xem metadata image/container
			â†’ KHÃ”NG thay Ä‘á»•i tráº¡ng thÃ¡i container hay image

			KHÃ”NG:
			- KhÃ´ng cháº¡y container
			- KhÃ´ng pull hoáº·c build image
			- Chá»‰ Ä‘á»c thÃ´ng tin

			--------------------------------------------------------------------

			5. Quy trÃ¬nh thá»±c thi
			--------------------------------------------------------------------
			1) Docker client gá»­i request tá»›i Docker daemon
			2) Docker daemon xÃ¡c Ä‘á»‹nh Ä‘á»‘i tÆ°á»£ng nginx (container hoáº·c image)
			3) Truy xuáº¥t thÃ´ng tin cáº¥u hÃ¬nh vÃ  metadata
			4) In ra JSON trÃªn terminal

			--------------------------------------------------------------------

			6. VÃ­ dá»¥ output Ä‘iá»ƒn hÃ¬nh
			--------------------------------------------------------------------
			[
				{
					"Id": "abc123def456...",
					"Created": "2025-12-17T12:00:00.000000000Z",
					"Path": "nginx",
					"Args": [],
					"State": {
						"Status": "running",
						"Running": true,
						"Paused": false,
						"Restarting": false,
						"Pid": 1234,
						"ExitCode": 0
					},
					"Config": {
						"Env": [
							"NGINX_VERSION=1.25.2",
							"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
						],
						"Cmd": ["nginx", "-g", "daemon off;"]
					},
					"NetworkSettings": {
						"IPAddress": "172.17.0.2",
						"Ports": {
							"80/tcp": [{"HostIp": "0.0.0.0", "HostPort": "80"}]
						}
					}
				}
			]

			--------------------------------------------------------------------

			7. Kiá»ƒm tra container Ä‘ang cháº¡y
			--------------------------------------------------------------------
			- Liá»‡t kÃª container:
			docker ps

			- Kiá»ƒm tra image:
			docker images

			- Äáº£m báº£o nginx tá»“n táº¡i trÆ°á»›c khi inspect

			--------------------------------------------------------------------

			8. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) Error: No such object: nginx
			- Container hoáº·c image khÃ´ng tá»“n táº¡i
			- Kiá»ƒm tra báº±ng docker ps / docker images

			2) Permission denied
			- Cáº§n cháº¡y vá»›i quyá»n user cÃ³ quyá»n truy cáº­p Docker
			- ThÆ°á»ng dÃ¹ng sudo: sudo docker inspect nginx

			--------------------------------------------------------------------

			9. TÃ¹y chá»n há»¯u Ã­ch
			--------------------------------------------------------------------
			- --format â†’ Ä‘á»‹nh dáº¡ng output
			  + VÃ­ dá»¥: docker inspect --format '{{.NetworkSettings.IPAddress}}' nginx
			  + Chá»‰ láº¥y IP cá»§a container

			--------------------------------------------------------------------

			10. Khi nÃ o dÃ¹ng lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- Debug container Ä‘ang cháº¡y
			- Kiá»ƒm tra cáº¥u hÃ¬nh port, volume, environment
			- Láº¥y metadata container hoáº·c image cho automation/script

			--------------------------------------------------------------------

			11. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			docker inspect nginx =
			HIá»‚N THá»Š THÃ”NG TIN CHI TIáº¾T Vá»€ CONTAINER HOáº¶C IMAGE NGINX Dáº NG JSON Äá»‚ DEBUG HOáº¶C KIá»‚M TRA Cáº¤U HÃŒNH
					
		
		- cmd: docker run -d -P nginx
		
			# Lá»‡nh gá»‘c:
			docker run -d -P nginx

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. docker
			# - Docker lÃ  ná»n táº£ng dÃ¹ng Ä‘á»ƒ táº¡o, triá»ƒn khai vÃ  cháº¡y cÃ¡c á»©ng dá»¥ng trong container.
			# - Container giÃºp Ä‘Ã³ng gÃ³i á»©ng dá»¥ng vÃ  táº¥t cáº£ cÃ¡c phá»¥ thuá»™c, cháº¡y nháº¥t quÃ¡n trÃªn má»i mÃ´i trÆ°á»ng.

			# 2. run
			# - Lá»‡nh `docker run` dÃ¹ng Ä‘á»ƒ táº¡o vÃ  cháº¡y má»™t container má»›i tá»« má»™t Docker image.
			# - CÃº phÃ¡p cÆ¡ báº£n: docker run [tÃ¹y chá»n] [image] [lá»‡nh]

			# 3. -d
			# - TÃ¹y chá»n `-d` (detached) cháº¡y container á»Ÿ cháº¿ Ä‘á»™ ná»n.
			# - Container sáº½ cháº¡y ngáº§m, terminal khÃ´ng bá»‹ chiáº¿m, báº¡n cÃ³ thá»ƒ tiáº¿p tá»¥c dÃ¹ng terminal Ä‘á»ƒ cháº¡y lá»‡nh khÃ¡c.

			# 4. -P
			# - TÃ¹y chá»n `-P` (publish all) Ã¡nh xáº¡ táº¥t cáº£ cÃ¡c cá»•ng Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong Dockerfile cá»§a image ra cÃ¡c cá»•ng ngáº«u nhiÃªn trÃªn host.
			# - VÃ­ dá»¥: Nginx máº·c Ä‘á»‹nh sá»­ dá»¥ng port 80, Docker sáº½ Ã¡nh xáº¡ port 80 cá»§a container ra má»™t port ngáº«u nhiÃªn trÃªn mÃ¡y host.
			# - Kiá»ƒm tra port Ã¡nh xáº¡ báº±ng lá»‡nh:
			#   docker ps
			#   + Cá»™t PORTS sáº½ hiá»ƒn thá»‹ port host <-> container.

			# 5. nginx
			# - LÃ  tÃªn Docker image Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ táº¡o container.
			# - Image `nginx` lÃ  web server Nginx chÃ­nh thá»©c.
			# - Náº¿u chÆ°a cÃ³ trÃªn mÃ¡y local, Docker sáº½ tá»± Ä‘á»™ng táº£i tá»« Docker Hub.

			# 6. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Lá»‡nh `docker run -d -P nginx` sáº½:
			#   1. Kiá»ƒm tra image `nginx` trÃªn mÃ¡y local, náº¿u chÆ°a cÃ³, táº£i tá»« Docker Hub.
			#   2. Táº¡o má»™t container má»›i tá»« image nginx.
			#   3. Cháº¡y container á»Ÿ cháº¿ Ä‘á»™ ná»n.
			#   4. Ãnh xáº¡ táº¥t cáº£ cá»•ng mÃ  image khai bÃ¡o ra cÃ¡c cá»•ng ngáº«u nhiÃªn trÃªn mÃ¡y host.
			#   5. Nginx web server sáº½ sáºµn sÃ ng phá»¥c vá»¥ trÃªn cá»•ng host Ä‘Æ°á»£c Ã¡nh xáº¡.

			# 7. Kiá»ƒm tra container Ä‘ang cháº¡y
			# - docker ps
			#   + Liá»‡t kÃª container Ä‘ang cháº¡y vÃ  port Ã¡nh xáº¡.
			# - docker logs [container-id]
			#   + Xem log container.

			# Káº¿t luáº­n:
			# Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ khá»Ÿi cháº¡y nhanh má»™t container Nginx cháº¡y ná»n, tá»± Ä‘á»™ng Ã¡nh xáº¡ cá»•ng Ä‘á»ƒ phá»¥c vá»¥ web mÃ  khÃ´ng cáº§n chá»‰ Ä‘á»‹nh port cá»¥ thá»ƒ.
					
		
		- cmd: docker logs peaceful_einstein
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			docker logs peaceful_einstein
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ xem log (stdout vÃ  stderr) cá»§a má»™t container Docker
			cÃ³ tÃªn lÃ  `peaceful_einstein`.

			- `docker logs` hiá»ƒn thá»‹ toÃ n bá»™ output mÃ  container Ä‘Ã£ ghi ra
			- Ráº¥t há»¯u Ã­ch khi:
			  + Debug container bá»‹ lá»—i
			  + Kiá»ƒm tra á»©ng dá»¥ng cháº¡y bÃªn trong container
			  + Theo dÃµi tráº¡ng thÃ¡i service

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. docker
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Docker
			- DÃ¹ng Ä‘á»ƒ táº¡o, cháº¡y, dá»«ng, kiá»ƒm tra container

			2.2. logs
			--------------------------------------------------
			- Subcommand Ä‘á»ƒ xem log cá»§a container
			- Láº¥y dá»¯ liá»‡u tá»« stdout vÃ  stderr cá»§a tiáº¿n trÃ¬nh chÃ­nh trong container

			2.3. peaceful_einstein
			--------------------------------------------------
			- TÃªn container Docker
			- Docker tá»± Ä‘á»™ng gÃ¡n tÃªn ngáº«u nhiÃªn náº¿u khÃ´ng chá»‰ Ä‘á»‹nh `--name`
			- CÃ³ thá»ƒ thay báº±ng:
			  + Container ID (vÃ­ dá»¥: 2c0ebbbbc6cc)
			  + TÃªn container do ngÆ°á»i dÃ¹ng Ä‘áº·t

			--------------------------------------------------
			3. LOG LÃ€ GÃŒ TRONG DOCKER?
			--------------------------------------------------
			- Docker thu tháº­p log tá»«:
			  + Standard Output (stdout)
			  + Standard Error (stderr)
			- Log khÃ´ng pháº£i file log bÃªn trong container
			- Docker log driver máº·c Ä‘á»‹nh: json-file

			--------------------------------------------------
			4. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			--------------------------------------------------
			1. Docker xÃ¡c Ä‘á»‹nh container theo tÃªn hoáº·c ID
			2. Äá»c log Ä‘Ã£ Ä‘Æ°á»£c Docker ghi láº¡i
			3. In toÃ n bá»™ ná»™i dung log ra terminal

			--------------------------------------------------
			5. CÃC TÃ™Y CHá»ŒN HAY DÃ™NG Vá»šI docker logs
			--------------------------------------------------

			- Xem log theo thá»i gian thá»±c:
			--------------------------------------------------
			docker logs -f peaceful_einstein

			- Chá»‰ xem 50 dÃ²ng cuá»‘i:
			--------------------------------------------------
			docker logs --tail 50 peaceful_einstein

			- Xem log kÃ¨m timestamp:
			--------------------------------------------------
			docker logs -t peaceful_einstein

			- Káº¿t há»£p nhiá»u tÃ¹y chá»n:
			--------------------------------------------------
			docker logs -f --tail 100 -t peaceful_einstein

			--------------------------------------------------
			6. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Container pháº£i tá»“n táº¡i Ä‘á»ƒ xem log
			- Container Ä‘Ã£ dá»«ng váº«n xem Ä‘Æ°á»£c log
			- Náº¿u á»©ng dá»¥ng khÃ´ng ghi log ra stdout/stderr â†’ docker logs sáº½ trá»‘ng
			- Vá»›i logging driver khÃ¡c (syslog, awslogs, fluentd),
			  hÃ nh vi log cÃ³ thá»ƒ khÃ¡c

			--------------------------------------------------
			7. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- Debug lá»—i á»©ng dá»¥ng trong container
			- Kiá»ƒm tra container cÃ³ khá»Ÿi Ä‘á»™ng thÃ nh cÃ´ng hay khÃ´ng
			- Theo dÃµi hoáº¡t Ä‘á»™ng service
			- PhÃ¢n tÃ­ch sá»± cá»‘ DevOps

			--------------------------------------------------
			8. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			docker logs peaceful_einstein
			= Xem toÃ n bá»™ log cá»§a container Docker
			= Dá»±a trÃªn stdout vÃ  stderr
			= CÃ³ thá»ƒ dÃ¹ng tÃªn hoáº·c ID container
			= Há»— trá»£ xem realtime, tail, timestamp
			==================================================
					
		
		- cmd: docker run -P nginx
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			docker run -P nginx

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Táº¡o vÃ  khá»Ÿi cháº¡y má»™t Docker container má»›i tá»« image `nginx`
			- Tá»± Ä‘á»™ng publish (map) táº¥t cáº£ cÃ¡c cá»•ng (port) mÃ  container expose ra host
			- PhÃ¹ há»£p Ä‘á»ƒ test nhanh dá»‹ch vá»¥ mÃ  khÃ´ng cáº§n chá»‰ Ä‘á»‹nh port thá»§ cÃ´ng

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. docker
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh quáº£n lÃ½ Docker
			- DÃ¹ng Ä‘á»ƒ lÃ m viá»‡c vá»›i image, container, network, volume

			2.2. run
			--------------------------------------------------
			- Subcommand káº¿t há»£p:
			  + docker create (táº¡o container)
			  + docker start  (khá»Ÿi Ä‘á»™ng container)
			- Náº¿u image chÆ°a cÃ³ trÃªn mÃ¡y, Docker sáº½ tá»± Ä‘á»™ng pull image tá»« Docker Hub

			2.3. -P
			--------------------------------------------------
			- Viáº¿t hoa cá»§a `--publish-all`
			- Tá»± Ä‘á»™ng map Táº¤T Cáº¢ cÃ¡c cá»•ng Ä‘Ã£ Ä‘Æ°á»£c `EXPOSE` trong Dockerfile cá»§a image
			- Docker sáº½:
			  + Chá»n cÃ¡c port ngáº«u nhiÃªn (ephemeral ports) trÃªn host
			  + Map Ä‘áº¿n cÃ¡c port bÃªn trong container

			VÃ­ dá»¥ vá»›i image nginx:
			- Container expose port 80
			- Docker cÃ³ thá»ƒ map:
			  0.0.0.0:32768 -> 80/tcp

			2.4. nginx
			--------------------------------------------------
			- TÃªn Docker image
			- Máº·c Ä‘á»‹nh tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `nginx:latest`
			- Image nÃ y cháº¡y web server Nginx bÃªn trong container

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Docker kiá»ƒm tra image `nginx` trÃªn local
			2. Náº¿u chÆ°a cÃ³ â†’ tá»± Ä‘á»™ng pull tá»« Docker Hub
			3. Docker táº¡o container má»›i tá»« image nginx
			4. Tá»± Ä‘á»™ng map port 80 cá»§a container ra má»™t port ngáº«u nhiÃªn trÃªn host
			5. Container Ä‘Æ°á»£c start vÃ  cháº¡y Nginx

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥ khi cháº¡y:

			$ docker run -P nginx
			<container_id>

			Sau Ä‘Ã³ kiá»ƒm tra port:

			$ docker ps

			CONTAINER ID   IMAGE   COMMAND                  PORTS
			abc123         nginx   "nginx -g 'daemon â€¦'"   0.0.0.0:32768->80/tcp

			Giáº£i thÃ­ch:
			- 32768 lÃ  port ngáº«u nhiÃªn trÃªn host
			- Truy cáº­p Nginx qua:
			  http://<IP_HOST>:32768

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- Map port thá»§ cÃ´ng:
			docker run -p 8080:80 nginx

			- Cháº¡y container á»Ÿ cháº¿ Ä‘á»™ background:
			docker run -d -P nginx

			- Kiá»ƒm tra chi tiáº¿t port mapping:
			docker port <container_id>

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Test nhanh dá»‹ch vá»¥ web
			- TrÃ¡nh xung Ä‘á»™t port trÃªn host
			- PhÃ¹ há»£p mÃ´i trÆ°á»ng dev/test

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. KhÃ´ng truy cáº­p Ä‘Æ°á»£c web
			--------------------------------------------------
			- QuÃªn kiá»ƒm tra port ngáº«u nhiÃªn
			- Giáº£i phÃ¡p:
			docker ps

			7.2. Image not found
			--------------------------------------------------
			- Lá»—i máº¡ng hoáº·c Docker Hub
			- Kiá»ƒm tra káº¿t ná»‘i internet

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- Port Ä‘Æ°á»£c map ngáº«u nhiÃªn, khÃ³ nhá»›
			- KhÃ´ng phÃ¹ há»£p production
			- Production nÃªn dÃ¹ng `-p` Ä‘á»ƒ map port cá»‘ Ä‘á»‹nh

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			docker run -P nginx

			= Táº¡o vÃ  cháº¡y container má»›i
			= Tá»± Ä‘á»™ng map táº¥t cáº£ port EXPOSE
			= Docker chá»n port ngáº«u nhiÃªn trÃªn host
			= DÃ¹ng Ä‘á»ƒ test nhanh nginx
			= KhÃ´ng khuyáº¿n nghá»‹ dÃ¹ng cho production
		
		
		- cmd: docker run -d -P mysql:5.7
		
			Lá»†NH: docker run -d -P mysql:5.7
			================================

			1. Má»¤C ÄÃCH
			----------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **táº¡o vÃ  cháº¡y má»™t container MySQL phiÃªn báº£n 5.7** tá»« Docker image `mysql:5.7`.

			- Container cháº¡y MySQL server
			- Cháº¡y á»Ÿ cháº¿ Ä‘á»™ ná»n (background)
			- Docker tá»± Ä‘á»™ng Ã¡nh xáº¡ (publish) cÃ¡c cá»•ng cá»§a container ra host


			2. Cáº¤U TRÃšC Lá»†NH
			----------------
			docker run [OPTIONS] IMAGE [COMMAND]

			Trong vÃ­ dá»¥:
			- `docker`        : CÃ´ng cá»¥ quáº£n lÃ½ Docker
			- `run`           : Táº¡o container má»›i vÃ  cháº¡y ngay
			- `-d`            : Detached mode â€“ cháº¡y container á»Ÿ cháº¿ Ä‘á»™ ná»n
			- `-P`            : Publish táº¥t cáº£ cÃ¡c cá»•ng EXPOSE cá»§a container ra cá»•ng ngáº«u nhiÃªn trÃªn host
			- `mysql:5.7`     : Image MySQL, phiÃªn báº£n 5.7


			3. Ã NGHÄ¨A Tá»ªNG THAM Sá»
			-----------------------
			- `-d` (detached):
			  - Container cháº¡y ngáº§m
			  - Terminal khÃ´ng bá»‹ chiáº¿m
			  - CÃ³ thá»ƒ kiá»ƒm tra báº±ng `docker ps`

			- `-P` (publish all):
			  - Docker tá»± Ä‘á»™ng map cÃ¡c cá»•ng Ä‘Æ°á»£c `EXPOSE` trong image
			  - MySQL image expose cá»•ng máº·c Ä‘á»‹nh: `3306`
			  - Docker sáº½ map 3306 â†’ má»™t cá»•ng ngáº«u nhiÃªn trÃªn host

			- `mysql:5.7`:
			  - Image MySQL chÃ­nh thá»©c tá»« Docker Hub
			  - PhiÃªn báº£n MySQL 5.7 (á»•n Ä‘á»‹nh, phá»• biáº¿n)


			4. HOáº T Äá»˜NG Cá»¦A Lá»†NH
			---------------------
			1. Docker kiá»ƒm tra image `mysql:5.7`:
			   - Náº¿u chÆ°a cÃ³ â†’ pull tá»« Docker Hub
			2. Táº¡o container má»›i tá»« image
			3. Khá»Ÿi Ä‘á»™ng MySQL server bÃªn trong container
			4. Map cá»•ng 3306 cá»§a container ra má»™t cá»•ng ngáº«u nhiÃªn trÃªn host
			5. Container cháº¡y ná»n vÃ  tráº£ vá» container ID


			5. KIá»‚M TRA SAU KHI CHáº Y
			------------------------
			1. Kiá»ƒm tra container Ä‘ang cháº¡y:
		
		
		- cmd: docker run -d -P -e MYSQL_ROOT_PASSWORD=mypass mysql:5.7
		
			Lá»†NH: docker run -d -P -e MYSQL_ROOT_PASSWORD=mypass mysql:5.7
			====================================================================

			1. docker lÃ  gÃ¬?
			--------------------------------------------------------------------
			- Docker lÃ  ná»n táº£ng container hÃ³a á»©ng dá»¥ng
			- Cho phÃ©p cháº¡y á»©ng dá»¥ng trong container Ä‘á»™c láº­p vá»›i há»‡ Ä‘iá»u hÃ nh host
			- docker run dÃ¹ng Ä‘á»ƒ:
			  + Táº¡o container má»›i
			  + VÃ  cháº¡y container Ä‘Ã³ ngay láº­p tá»©c

			--------------------------------------------------------------------

			2. run lÃ  gÃ¬ trong Docker?
			--------------------------------------------------------------------
			- run = create + start
			- Khi cháº¡y docker run:
			  + Náº¿u image chÆ°a cÃ³ â†’ Docker sáº½ tá»± Ä‘á»™ng pull image
			  + Táº¡o container má»›i tá»« image
			  + Khá»Ÿi Ä‘á»™ng container

			--------------------------------------------------------------------

			3. -d lÃ  gÃ¬?
			--------------------------------------------------------------------
			- -d = detached mode
			- Cháº¡y container á»Ÿ cháº¿ Ä‘á»™ ná»n (background)
			- Terminal tráº£ láº¡i prompt ngay, khÃ´ng attach vÃ o container
			- Container váº«n tiáº¿p tá»¥c cháº¡y Ä‘á»™c láº­p

			--------------------------------------------------------------------

			4. -P lÃ  gÃ¬?
			--------------------------------------------------------------------
			- -P = Publish all exposed ports
			- Docker sáº½:
			  + Tá»± Ä‘á»™ng map táº¥t cáº£ cÃ¡c port EXPOSE trong image
			  + Sang cÃ¡c port ngáº«u nhiÃªn trÃªn host
			- Vá»›i MySQL:
			  + Port container: 3306
			  + Port host: random (vÃ­ dá»¥ 49153)

			- Kiá»ƒm tra port:
			docker ps

			--------------------------------------------------------------------

			5. -e MYSQL_ROOT_PASSWORD=mypass lÃ  gÃ¬?
			--------------------------------------------------------------------
			- -e = environment variable
			- MYSQL_ROOT_PASSWORD lÃ  biáº¿n mÃ´i trÆ°á»ng báº¯t buá»™c cá»§a image MySQL
			- GiÃ¡ trá»‹:
			  + mypass â†’ password cho user root cá»§a MySQL

			LÆ¯U Ã QUAN TRá»ŒNG:
			- Náº¿u khÃ´ng set biáº¿n nÃ y â†’ container MySQL sáº½ khÃ´ng start
			- KhÃ´ng nÃªn dÃ¹ng password Ä‘Æ¡n giáº£n trÃªn production

			--------------------------------------------------------------------

			6. mysql:5.7 lÃ  gÃ¬?
			--------------------------------------------------------------------
			- mysql = tÃªn image
			- 5.7 = tag (phiÃªn báº£n MySQL)
			- Docker sáº½ dÃ¹ng image MySQL phiÃªn báº£n 5.7
			- Náº¿u image chÆ°a tá»“n táº¡i local â†’ Docker tá»± pull tá»« Docker Hub

			--------------------------------------------------------------------

			7. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			docker run -d -P -e MYSQL_ROOT_PASSWORD=mypass mysql:5.7

			â†’ Táº¡o vÃ  cháº¡y container MySQL 5.7  
			â†’ Cháº¡y á»Ÿ background (-d)  
			â†’ Tá»± Ä‘á»™ng map port 3306 ra host (-P)  
			â†’ Thiáº¿t láº­p password cho user root lÃ  "mypass"  
			â†’ MySQL server báº¯t Ä‘áº§u láº¯ng nghe káº¿t ná»‘i  

			KHÃ”NG:
			- KhÃ´ng táº¡o database máº·c Ä‘á»‹nh
			- KhÃ´ng táº¡o user khÃ¡c ngoÃ i root
			- KhÃ´ng mount volume (dá»¯ liá»‡u sáº½ máº¥t náº¿u container bá»‹ xÃ³a)

			--------------------------------------------------------------------

			8. Quy trÃ¬nh thá»±c thi
			--------------------------------------------------------------------
			1) Docker kiá»ƒm tra image mysql:5.7
			2) Náº¿u chÆ°a cÃ³ â†’ pull tá»« Docker Hub
			3) Táº¡o container má»›i
			4) Set biáº¿n mÃ´i trÆ°á»ng MYSQL_ROOT_PASSWORD
			5) Map port 3306 â†’ port ngáº«u nhiÃªn trÃªn host
			6) Start MySQL server trong container

			--------------------------------------------------------------------

			9. Kiá»ƒm tra container sau khi cháº¡y
			--------------------------------------------------------------------
			- Xem container Ä‘ang cháº¡y:
			docker ps

			- Xem port mapping:
			PORTS
			0.0.0.0:49153->3306/tcp

			- Xem log MySQL:
			docker logs <container_id>

			--------------------------------------------------------------------

			10. Káº¿t ná»‘i vÃ o MySQL container
			--------------------------------------------------------------------
			- Tá»« host:
			mysql -h 127.0.0.1 -P <port_host> -u root -p

			- Nháº­p password:
			mypass

			--------------------------------------------------------------------

			11. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) Container tá»± táº¯t ngay
			- ChÆ°a set MYSQL_ROOT_PASSWORD
			- Kiá»ƒm tra docker logs

			2) KhÃ´ng káº¿t ná»‘i Ä‘Æ°á»£c MySQL
			- ChÆ°a biáº¿t port host
			- Cháº¡y docker ps Ä‘á»ƒ xem port mapping

			3) Port bá»‹ firewall cháº·n
			- Má»Ÿ port hoáº·c dÃ¹ng -p thay vÃ¬ -P

			--------------------------------------------------------------------

			12. LÆ°u Ã½ quan trá»ng (BEST PRACTICE)
			--------------------------------------------------------------------
			- NÃªn dÃ¹ng:
			  -p 3306:3306 â†’ thay vÃ¬ -P (dá»… quáº£n lÃ½)
			- NÃªn mount volume Ä‘á»ƒ trÃ¡nh máº¥t dá»¯ liá»‡u:
			  -v mysql_data:/var/lib/mysql
			- KhÃ´ng hard-code password trÃªn production

			--------------------------------------------------------------------

			13. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			docker run -d -P -e MYSQL_ROOT_PASSWORD=mypass mysql:5.7 =
			CHáº Y CONTAINER MYSQL 5.7 á» CHáº¾ Äá»˜ Ná»€N, Tá»° MAP PORT 3306, VÃ€ THIáº¾T Láº¬P PASSWORD ROOT
					
					
		- cmd: docker pull mysql:5.7
		
			# Lá»‡nh gá»‘c:
			docker pull mysql:5.7

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. docker
			# - Docker lÃ  ná»n táº£ng container hÃ³a, dÃ¹ng Ä‘á»ƒ Ä‘Ã³ng gÃ³i vÃ  cháº¡y á»©ng dá»¥ng trong container.
			# - Docker sá»­ dá»¥ng image Ä‘á»ƒ táº¡o container.

			# 2. pull
			# - Lá»‡nh `docker pull` dÃ¹ng Ä‘á»ƒ táº£i (download) Docker image tá»« registry vá» mÃ¡y local.
			# - Registry máº·c Ä‘á»‹nh lÃ  Docker Hub.
			# - CÃº phÃ¡p cÆ¡ báº£n: docker pull [image[:tag]]

			# 3. mysql:5.7
			# - mysql: lÃ  tÃªn Docker image chÃ­nh thá»©c cá»§a MySQL.
			# - 5.7: lÃ  tag cá»§a image, chá»‰ Ä‘á»‹nh phiÃªn báº£n MySQL 5.7.
			# - Náº¿u khÃ´ng ghi tag, Docker sáº½ máº·c Ä‘á»‹nh dÃ¹ng tag `latest`.

			# 4. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Khi cháº¡y `docker pull mysql:5.7`, Docker sáº½:
			#   1. Káº¿t ná»‘i Ä‘áº¿n Docker Hub.
			#   2. Táº£i image MySQL phiÃªn báº£n 5.7 vá» mÃ¡y local.
			#   3. LÆ°u image vÃ o local image cache cá»§a Docker.
			# - Lá»‡nh nÃ y KHÃ”NG táº¡o container, chá»‰ táº£i image.

			# 5. LÃ½ do nÃªn chá»‰ Ä‘á»‹nh version (tag):
			# - Äáº£m báº£o mÃ´i trÆ°á»ng nháº¥t quÃ¡n (dev, test, prod).
			# - TrÃ¡nh lá»—i do image `latest` thay Ä‘á»•i theo thá»i gian.
			# - MySQL 5.7 thÆ°á»ng Ä‘Æ°á»£c dÃ¹ng cho cÃ¡c há»‡ thá»‘ng legacy.

			# 6. Kiá»ƒm tra image sau khi pull:
			# - docker images
			#   + Liá»‡t kÃª cÃ¡c image hiá»‡n cÃ³ trÃªn mÃ¡y.
			# - docker images mysql
			#   + Kiá»ƒm tra riÃªng cÃ¡c image MySQL.

			# 7. VÃ­ dá»¥ sá»­ dá»¥ng image sau khi táº£i:
			# - docker run -d --name mysql57 -e MYSQL_ROOT_PASSWORD=123456 mysql:5.7
			#   + Táº¡o vÃ  cháº¡y container MySQL 5.7 tá»« image Ä‘Ã£ táº£i.

			# Káº¿t luáº­n:
			# Lá»‡nh `docker pull mysql:5.7` dÃ¹ng Ä‘á»ƒ táº£i trÆ°á»›c image MySQL phiÃªn báº£n 5.7 vá» mÃ¡y local, chuáº©n bá»‹ cho viá»‡c táº¡o vÃ  cháº¡y container MySQL.
					
		
		- cmd: docker inspect mysql:5.7
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			docker inspect mysql:5.7
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ toÃ n bá»™ thÃ´ng tin chi tiáº¿t (metadata)
			cá»§a Docker image cÃ³ tÃªn `mysql` vá»›i tag `5.7`.

			- `docker inspect` tráº£ vá» dá»¯ liá»‡u dáº¡ng JSON
			- DÃ¹ng Ä‘á»ƒ:
			  + Kiá»ƒm tra cáº¥u hÃ¬nh image
			  + Debug container/image
			  + Láº¥y thÃ´ng tin máº¡ng, volume, environment, entrypoint

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. docker
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Docker
			- DÃ¹ng cho container, image, network, volume

			2.2. inspect
			--------------------------------------------------
			- Subcommand dÃ¹ng Ä‘á»ƒ xem thÃ´ng tin chi tiáº¿t
			- CÃ³ thá»ƒ inspect:
			  + container
			  + image
			  + volume
			  + network

			2.3. mysql:5.7
			--------------------------------------------------
			- TÃªn image Docker
			- `mysql`     : repository (image name)
			- `5.7`       : tag (phiÃªn báº£n MySQL)
			- Náº¿u khÃ´ng ghi tag â†’ máº·c Ä‘á»‹nh lÃ  `latest`

			--------------------------------------------------
			3. Káº¾T QUáº¢ TRáº¢ Vá»€ Cá»¦A docker inspect
			--------------------------------------------------
			- Output lÃ  JSON ráº¥t dÃ i
			- Má»—i image/container náº±m trong má»™t máº£ng `[]`
			- Bao gá»“m nhiá»u khá»‘i thÃ´ng tin quan trá»ng

			--------------------------------------------------
			4. CÃC PHáº¦N QUAN TRá»ŒNG TRONG OUTPUT
			--------------------------------------------------

			4.1. Id
			--------------------------------------------------
			- Image ID (hash SHA256)
			- DÃ¹ng Ä‘á»ƒ phÃ¢n biá»‡t image chÃ­nh xÃ¡c

			4.2. RepoTags
			--------------------------------------------------
			- Danh sÃ¡ch tÃªn vÃ  tag cá»§a image
			- VÃ­ dá»¥:
			--------------------------------------------------
			"RepoTags": ["mysql:5.7"]

			4.3. Created
			--------------------------------------------------
			- Thá»i Ä‘iá»ƒm image Ä‘Æ°á»£c build

			4.4. Size
			--------------------------------------------------
			- Dung lÆ°á»£ng image (bytes)

			4.5. Architecture / Os
			--------------------------------------------------
			- Kiáº¿n trÃºc CPU vÃ  há»‡ Ä‘iá»u hÃ nh há»— trá»£
			- VÃ­ dá»¥: amd64, linux

			4.6. Config
			--------------------------------------------------
			- Cáº¥u hÃ¬nh máº·c Ä‘á»‹nh cá»§a image:
			  + Env: biáº¿n mÃ´i trÆ°á»ng
			  + Cmd: lá»‡nh máº·c Ä‘á»‹nh
			  + Entrypoint: entrypoint khi container cháº¡y
			  + ExposedPorts: cá»•ng Ä‘Æ°á»£c expose

			4.7. ContainerConfig
			--------------------------------------------------
			- Cáº¥u hÃ¬nh container khi image Ä‘Æ°á»£c build
			- DÃ¹ng chá»§ yáº¿u cho má»¥c Ä‘Ã­ch debug

			4.8. RootFS
			--------------------------------------------------
			- ThÃ´ng tin cÃ¡c layer cá»§a image
			- Cho biáº¿t image gá»“m bao nhiÃªu layer

			--------------------------------------------------
			5. VÃ Dá»¤ THÃ”NG TIN THÆ¯á»œNG DÃ™NG
			--------------------------------------------------
			- Xem port MySQL Ä‘Æ°á»£c expose:
			--------------------------------------------------
			"ExposedPorts": {
			  "3306/tcp": {}
			}

			- Xem biáº¿n mÃ´i trÆ°á»ng quan trá»ng:
			--------------------------------------------------
			MYSQL_ROOT_PASSWORD
			MYSQL_DATABASE
			MYSQL_USER
			MYSQL_PASSWORD

			--------------------------------------------------
			6. Káº¾T Há»¢P docker inspect Vá»šI Lá»†NH KHÃC
			--------------------------------------------------
			- Lá»c thÃ´ng tin báº±ng --format:
			--------------------------------------------------
			docker inspect --format='{{.Config.ExposedPorts}}' mysql:5.7

			- Láº¥y dung lÆ°á»£ng image:
			--------------------------------------------------
			docker inspect --format='{{.Size}}' mysql:5.7

			--------------------------------------------------
			7. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Inspect image â‰  inspect container
			- Inspect image khÃ´ng cho biáº¿t image Ä‘ang cháº¡y hay khÃ´ng
			- JSON ráº¥t dÃ i â†’ thÆ°á»ng dÃ¹ng káº¿t há»£p grep hoáº·c format

			--------------------------------------------------
			8. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- Hiá»ƒu rÃµ cáº¥u hÃ¬nh image MySQL
			- Chuáº©n bá»‹ trÆ°á»›c khi run container
			- Debug lá»—i cáº¥u hÃ¬nh
			- Há»c cáº¥u trÃºc image Docker

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			docker inspect mysql:5.7
			= Xem toÃ n bá»™ metadata cá»§a Docker image MySQL 5.7
			= Output dáº¡ng JSON chi tiáº¿t
			= DÃ¹ng Ä‘á»ƒ kiá»ƒm tra port, env, entrypoint, layer
			==================================================
		
		
		- cmd: docker exec -it vprodb /bin/bash
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			docker exec -it vprodb /bin/bash

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Truy cáº­p (Ä‘Äƒng nháº­p) vÃ o bÃªn trong má»™t Docker container Ä‘ang cháº¡y
			- Má»Ÿ má»™t shell Bash tÆ°Æ¡ng tÃ¡c bÃªn trong container
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ:
			  + Debug á»©ng dá»¥ng
			  + Kiá»ƒm tra file, log, process
			  + Cháº¡y lá»‡nh thá»§ cÃ´ng trong container

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. docker
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh quáº£n lÃ½ Docker
			- Quáº£n lÃ½ container, image, network, volume

			2.2. exec
			--------------------------------------------------
			- Subcommand cho phÃ©p:
			  + Cháº¡y má»™t lá»‡nh má»›i bÃªn trong container Ä‘ang cháº¡y
			- KhÃ´ng táº¡o container má»›i
			- KhÃ´ng restart container

			2.3. -i
			--------------------------------------------------
			- Viáº¿t táº¯t cá»§a `--interactive`
			- Giá»¯ STDIN má»Ÿ
			- Cho phÃ©p nháº­p lá»‡nh tá»« bÃ n phÃ­m

			2.4. -t
			--------------------------------------------------
			- Viáº¿t táº¯t cá»§a `--tty`
			- Cáº¥p phÃ¡t pseudo-TTY
			- GiÃºp hiá»ƒn thá»‹ terminal giá»‘ng nhÆ° shell tháº­t

			2.5. vprodb
			--------------------------------------------------
			- TÃªn (hoáº·c ID) cá»§a container
			- Container nÃ y pháº£i Ä‘ang á»Ÿ tráº¡ng thÃ¡i RUNNING
			- Kiá»ƒm tra báº±ng:
			docker ps

			2.6. /bin/bash
			--------------------------------------------------
			- Lá»‡nh Ä‘Æ°á»£c cháº¡y bÃªn trong container
			- Má»Ÿ shell Bash
			- Náº¿u container khÃ´ng cÃ³ bash â†’ sáº½ lá»—i

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Docker daemon xÃ¡c Ä‘á»‹nh container `vprodb`
			2. Kiá»ƒm tra container Ä‘ang cháº¡y
			3. Docker táº¡o má»™t process má»›i trong container
			4. Process cháº¡y `/bin/bash`
			5. NgÆ°á»i dÃ¹ng Ä‘Æ°á»£c Ä‘Æ°a vÃ o shell Bash cá»§a container

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥ sau khi cháº¡y lá»‡nh:

			root@a1b2c3d4e5:/#

			Giáº£i thÃ­ch:
			- root: user máº·c Ä‘á»‹nh trong container
			- a1b2c3d4e5: hostname (container ID)
			- Báº¡n Ä‘ang á»Ÿ trong container `vprodb`

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- DÃ¹ng shell sh (náº¿u khÃ´ng cÃ³ bash):
			docker exec -it vprodb /bin/sh

			- Cháº¡y má»™t lá»‡nh Ä‘Æ¡n:
			docker exec vprodb ls /var/lib/mysql

			- ThoÃ¡t khá»i container:
			exit

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Debug database (vprodb thÆ°á»ng lÃ  container DB)
			- Kiá»ƒm tra cáº¥u hÃ¬nh, dá»¯ liá»‡u
			- Cháº¡y lá»‡nh quáº£n trá»‹ trá»±c tiáº¿p

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. Container is not running
			--------------------------------------------------
			- Container Ä‘ang dá»«ng
			- Giáº£i phÃ¡p:
			docker start vprodb

			7.2. exec: "/bin/bash": no such file
			--------------------------------------------------
			- Image khÃ´ng cÃ³ bash (Alpine)
			- Giáº£i phÃ¡p:
			docker exec -it vprodb /bin/sh

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- KhÃ´ng nÃªn thay Ä‘á»•i dá»¯ liá»‡u trá»±c tiáº¿p trong container production
			- Thay Ä‘á»•i cÃ³ thá»ƒ máº¥t khi container bá»‹ xÃ³a (náº¿u khÃ´ng dÃ¹ng volume)

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			docker exec -it vprodb /bin/bash

			= Truy cáº­p shell Bash trong container Ä‘ang cháº¡y
			= KhÃ´ng táº¡o container má»›i
			= KhÃ´ng restart container
			= DÃ¹ng Ä‘á»ƒ debug, kiá»ƒm tra, thao tÃ¡c trá»±c tiáº¿p
			= Container pháº£i á»Ÿ tráº¡ng thÃ¡i RUNNING
		
		
		- cmd: bash-4.2# cd /var/lib/mysql
		
			Lá»†NH: bash-4.2# cd /var/lib/mysql
			================================

			1. Má»¤C ÄÃCH
			----------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **di chuyá»ƒn thÆ° má»¥c lÃ m viá»‡c hiá»‡n táº¡i sang `/var/lib/mysql`**.

			- `/var/lib/mysql` lÃ  **thÆ° má»¥c dá»¯ liá»‡u máº·c Ä‘á»‹nh cá»§a MySQL/MariaDB**
			- ThÆ° má»¥c nÃ y chá»©a:
			  - Database
			  - Table
			  - File dá»¯ liá»‡u, index, log ná»™i bá»™ cá»§a MySQL
			- ThÆ°á»ng Ä‘Æ°á»£c dÃ¹ng khi:
			  - Kiá»ƒm tra dá»¯ liá»‡u database
			  - Debug MySQL
			  - Kiá»ƒm tra volume trong container Docker MySQL


			2. PHÃ‚N TÃCH PROMPT
			-------------------
			bash-4.2#

			Giáº£i thÃ­ch:
			- `bash`      : Shell Ä‘ang sá»­ dá»¥ng
			- `4.2`       : PhiÃªn báº£n Bash
			- `#`         : Dáº¥u `#` cho biáº¿t Ä‘ang á»Ÿ **quyá»n root**

			=> Lá»‡nh Ä‘Æ°á»£c cháº¡y vá»›i **quyá»n root**, cáº§n thiáº¿t vÃ¬ `/var/lib/mysql` thÆ°á»ng chá»‰ root hoáº·c mysql user má»›i truy cáº­p Ä‘Æ°á»£c.


			3. Cáº¤U TRÃšC Lá»†NH
			----------------
			cd [directory]

			Trong vÃ­ dá»¥:
			- `cd`              : Change Directory â€“ Ä‘á»•i thÆ° má»¥c lÃ m viá»‡c
			- `/var/lib/mysql`  : ÄÆ°á»ng dáº«n tuyá»‡t Ä‘á»‘i tá»›i thÆ° má»¥c dá»¯ liá»‡u MySQL


			4. HOáº T Äá»˜NG Cá»¦A Lá»†NH
			---------------------
			1. Shell kiá»ƒm tra thÆ° má»¥c `/var/lib/mysql` cÃ³ tá»“n táº¡i khÃ´ng
			2. Kiá»ƒm tra quyá»n truy cáº­p
			3. Náº¿u há»£p lá»‡:
			   - ThÆ° má»¥c lÃ m viá»‡c hiá»‡n táº¡i Ä‘Æ°á»£c chuyá»ƒn sang `/var/lib/mysql`
			4. KhÃ´ng cÃ³ output náº¿u thÃ nh cÃ´ng


			5. VÃ Dá»¤ THá»°C Táº¾
			-----------------
			1. Cháº¡y lá»‡nh:
		
		
		- cmd: docker stop vprodb
		
			Lá»†NH: docker stop vprodb
			====================================================================

			1. docker lÃ  gÃ¬?
			--------------------------------------------------------------------
			- Docker lÃ  ná»n táº£ng container hÃ³a á»©ng dá»¥ng
			- Docker CLI dÃ¹ng Ä‘á»ƒ quáº£n lÃ½:
			  + Container
			  + Image
			  + Volume
			  + Network

			--------------------------------------------------------------------

			2. stop lÃ  gÃ¬ trong Docker?
			--------------------------------------------------------------------
			- stop = dá»«ng container Ä‘ang cháº¡y
			- Docker gá»­i tÃ­n hiá»‡u SIGTERM tá»›i process chÃ­nh trong container
			- Cho container thá»i gian Ä‘á»ƒ shutdown an toÃ n
			- Sau thá»i gian chá» (máº·c Ä‘á»‹nh 10 giÃ¢y), náº¿u container chÆ°a dá»«ng:
			  + Docker gá»­i SIGKILL Ä‘á»ƒ buá»™c dá»«ng

			--------------------------------------------------------------------

			3. vprodb lÃ  gÃ¬?
			--------------------------------------------------------------------
			- vprodb lÃ  tÃªn (hoáº·c container ID) cá»§a container
			- Container nÃ y pháº£i Ä‘ang á»Ÿ tráº¡ng thÃ¡i running
			- ThÆ°á»ng lÃ  container database (DB) trong há»‡ thá»‘ng (vÃ­ dá»¥: MySQL/PostgreSQL)

			--------------------------------------------------------------------

			4. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			docker stop vprodb

			â†’ Dá»«ng container vprodb Ä‘ang cháº¡y má»™t cÃ¡ch an toÃ n  
			â†’ Process bÃªn trong container (DB service) sáº½ shutdown gracefully  
			â†’ Container chuyá»ƒn tráº¡ng thÃ¡i tá»« running â†’ exited  

			KHÃ”NG:
			- KhÃ´ng xÃ³a container
			- KhÃ´ng xÃ³a image
			- KhÃ´ng máº¥t dá»¯ liá»‡u (náº¿u cÃ³ volume)

			--------------------------------------------------------------------

			5. Quy trÃ¬nh thá»±c thi
			--------------------------------------------------------------------
			1) Docker client gá»­i lá»‡nh stop tá»›i Docker daemon
			2) Docker daemon gá»­i SIGTERM tá»›i process chÃ­nh trong container
			3) á»¨ng dá»¥ng (DB) thá»±c hiá»‡n cleanup, Ä‘Ã³ng káº¿t ná»‘i
			4) Container dá»«ng láº¡i
			5) Náº¿u quÃ¡ timeout â†’ SIGKILL Ä‘Æ°á»£c gá»­i

			--------------------------------------------------------------------

			6. Kiá»ƒm tra tráº¡ng thÃ¡i container
			--------------------------------------------------------------------
			- Xem container Ä‘ang cháº¡y:
			docker ps

			- Xem container Ä‘Ã£ dá»«ng:
			docker ps -a

			- Tráº¡ng thÃ¡i:
			Exited (0) hoáº·c Exited (137)

			--------------------------------------------------------------------

			7. TÃ¹y chá»n thÆ°á»ng dÃ¹ng vá»›i docker stop
			--------------------------------------------------------------------
			- -t <seconds> â†’ chá»‰nh thá»i gian chá» trÆ°á»›c khi kill
			VÃ­ dá»¥:
			docker stop -t 30 vprodb

			--------------------------------------------------------------------

			8. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) Error: No such container: vprodb
			- Container khÃ´ng tá»“n táº¡i hoáº·c tÃªn sai

			2) Container Ä‘Ã£ dá»«ng
			- KhÃ´ng cÃ³ tÃ¡c dá»¥ng, khÃ´ng bÃ¡o lá»—i nghiÃªm trá»ng

			3) Permission denied
			- User khÃ´ng cÃ³ quyá»n Docker
			- DÃ¹ng sudo docker stop vprodb

			--------------------------------------------------------------------

			9. Khi nÃ o dÃ¹ng lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- Dá»«ng database container Ä‘á»ƒ báº£o trÃ¬
			- TrÆ°á»›c khi restart host
			- TrÆ°á»›c khi update image/container

			--------------------------------------------------------------------

			10. LÆ°u Ã½ quan trá»ng
			--------------------------------------------------------------------
			- Vá»›i database container â†’ nÃªn stop trÆ°á»›c khi backup
			- KhÃ´ng dÃ¹ng docker kill náº¿u khÃ´ng tháº­t sá»± cáº§n
			- Äáº£m báº£o á»©ng dá»¥ng Ä‘Ã£ Ä‘Ã³ng káº¿t ná»‘i DB trÆ°á»›c khi stop

			--------------------------------------------------------------------

			11. So sÃ¡nh nhanh
			--------------------------------------------------------------------
			docker stop  â†’ dá»«ng an toÃ n (SIGTERM â†’ SIGKILL)
			docker kill  â†’ dá»«ng ngay láº­p tá»©c (SIGKILL)

			--------------------------------------------------------------------

			12. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			docker stop vprodb =
			Dá»ªNG CONTAINER vprodb ÄANG CHáº Y Má»˜T CÃCH AN TOÃ€N MÃ€ KHÃ”NG XÃ“A CONTAINER HAY Dá»® LIá»†U
					
		
		- cmd: docker rm vprodb
		
			# Lá»‡nh gá»‘c:
			docker rm vprodb

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. docker
			# - Docker lÃ  ná»n táº£ng container hÃ³a dÃ¹ng Ä‘á»ƒ táº¡o, cháº¡y vÃ  quáº£n lÃ½ container.
			# - Má»—i container lÃ  má»™t mÃ´i trÆ°á»ng cÃ¡ch ly cháº¡y á»©ng dá»¥ng.

			# 2. rm
			# - Lá»‡nh `docker rm` dÃ¹ng Ä‘á»ƒ xÃ³a (remove) container khá»i há»‡ thá»‘ng.
			# - Container bá»‹ xÃ³a sáº½ khÃ´ng thá»ƒ khá»Ÿi Ä‘á»™ng láº¡i trá»« khi táº¡o container má»›i.

			# 3. vprodb
			# - LÃ  tÃªn cá»§a container cáº§n xÃ³a.
			# - TÃªn container cÃ³ thá»ƒ do ngÆ°á»i dÃ¹ng Ä‘áº·t báº±ng `--name` khi táº¡o container,
			#   hoáº·c lÃ  tÃªn tá»± Ä‘á»™ng Docker sinh ra.

			# 4. Äiá»u kiá»‡n Ä‘á»ƒ xÃ³a container
			# - Container pháº£i á»Ÿ tráº¡ng thÃ¡i STOPPED (Ä‘Ã£ dá»«ng).
			# - Náº¿u container Ä‘ang cháº¡y, lá»‡nh nÃ y sáº½ bÃ¡o lá»—i.

			# 5. XÃ³a container Ä‘ang cháº¡y (trÆ°á»ng há»£p khÃ¡c):
			# - CÃ³ thá»ƒ dÃ¹ng tÃ¹y chá»n `-f` (force) Ä‘á»ƒ buá»™c dá»«ng vÃ  xÃ³a:
			#   docker rm -f vprodb
			# - LÆ°u Ã½: thao tÃ¡c nÃ y sáº½ dá»«ng container ngay láº­p tá»©c.

			# 6. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Khi cháº¡y `docker rm vprodb`, Docker sáº½:
			#   1. Kiá»ƒm tra tráº¡ng thÃ¡i container `vprodb`.
			#   2. Náº¿u container Ä‘Ã£ dá»«ng, tiáº¿n hÃ nh xÃ³a container.
			#   3. Giáº£i phÃ³ng tÃ i nguyÃªn liÃªn quan Ä‘áº¿n container Ä‘Ã³ (metadata, filesystem).

			# 7. LÆ°u Ã½ quan trá»ng:
			# - Lá»‡nh nÃ y KHÃ”NG xÃ³a Docker image.
			# - Dá»¯ liá»‡u bÃªn trong container (khÃ´ng dÃ¹ng volume) sáº½ bá»‹ máº¥t vÄ©nh viá»…n.
			# - Náº¿u container sá»­ dá»¥ng volume, dá»¯ liá»‡u trong volume váº«n cÃ²n.

			# 8. Kiá»ƒm tra sau khi xÃ³a:
			# - docker ps -a
			#   + Kiá»ƒm tra danh sÃ¡ch container cÃ²n tá»“n táº¡i.

			# Káº¿t luáº­n:
			# Lá»‡nh `docker rm vprodb` dÃ¹ng Ä‘á»ƒ xÃ³a hoÃ n toÃ n container tÃªn `vprodb` khá»i há»‡ thá»‘ng Docker sau khi container Ä‘Ã£ dá»«ng.
					
		
		- cmd: docker volume
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			docker volume
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			`docker volume` KHÃ”NG pháº£i lÃ  má»™t lá»‡nh hoÃ n chá»‰nh Ä‘á»ƒ thá»±c thi
			ngay láº­p tá»©c, mÃ  lÃ  má»™t lá»‡nh CHA (parent command).

			- DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ Docker Volume
			- Docker Volume lÃ  cÆ¡ cháº¿ lÆ°u trá»¯ dá»¯ liá»‡u PERSISTENT cho container
			- Dá»¯ liá»‡u volume váº«n tá»“n táº¡i dÃ¹ container bá»‹ stop hoáº·c remove

			--------------------------------------------------
			2. DOCKER VOLUME LÃ€ GÃŒ?
			--------------------------------------------------
			Docker Volume lÃ  vÃ¹ng lÆ°u trá»¯ dá»¯ liá»‡u do Docker quáº£n lÃ½, náº±m
			ngoÃ i filesystem cá»§a container.

			- KhÃ´ng bá»‹ máº¥t khi container bá»‹ xÃ³a
			- DÃ¹ng chung Ä‘Æ°á»£c cho nhiá»u container
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ:
			  + LÆ°u database (MySQL, PostgreSQL, MongoDBâ€¦)
			  + LÆ°u log
			  + LÆ°u file upload
			  + Backup dá»¯ liá»‡u

			--------------------------------------------------
			3. docker volume HOáº T Äá»˜NG NHÆ¯ THáº¾ NÃ€O?
			--------------------------------------------------
			- Docker táº¡o volume trÃªn host (thÆ°á»ng táº¡i /var/lib/docker/volumes/)
			- Khi container mount volume:
			  + Container Ä‘á»c/ghi dá»¯ liá»‡u vÃ o volume
			  + Dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u trá»±c tiáº¿p trÃªn host
			- Container chá»‰ tháº¥y volume nhÆ° má»™t thÆ° má»¥c bÃ¬nh thÆ°á»ng

			--------------------------------------------------
			4. CÃC SUBCOMMAND Cá»¦A docker volume
			--------------------------------------------------

			4.1. docker volume ls
			--------------------------------------------------
			- Liá»‡t kÃª táº¥t cáº£ volume hiá»‡n cÃ³ trÃªn host
			--------------------------------------------------
			docker volume ls

			--------------------------------------------------
			4.2. docker volume create
			--------------------------------------------------
			- Táº¡o volume má»›i
			--------------------------------------------------
			docker volume create my_volume

			--------------------------------------------------
			4.3. docker volume inspect
			--------------------------------------------------
			- Xem thÃ´ng tin chi tiáº¿t cá»§a volume
			--------------------------------------------------
			docker volume inspect my_volume

			ThÃ´ng tin bao gá»“m:
			- Mountpoint (Ä‘Æ°á»ng dáº«n tháº­t trÃªn host)
			- Driver (local, nfs, pluginâ€¦)
			- Scope (local/global)

			--------------------------------------------------
			4.4. docker volume rm
			--------------------------------------------------
			- XÃ³a volume
			--------------------------------------------------
			docker volume rm my_volume

			LÆ°u Ã½:
			- KhÃ´ng xÃ³a Ä‘Æ°á»£c volume Ä‘ang Ä‘Æ°á»£c container sá»­ dá»¥ng

			--------------------------------------------------
			4.5. docker volume prune
			--------------------------------------------------
			- XÃ³a Táº¤T Cáº¢ volume khÃ´ng cÃ²n Ä‘Æ°á»£c container nÃ o sá»­ dá»¥ng
			--------------------------------------------------
			docker volume prune

			--------------------------------------------------
			5. SO SÃNH DOCKER VOLUME Vá»šI CÃC KIá»‚U LÆ¯U TRá»® KHÃC
			--------------------------------------------------

			5.1. Volume vs Bind Mount
			--------------------------------------------------
			Docker Volume:
			- Docker quáº£n lÃ½
			- An toÃ n, portable
			- KhuyÃªn dÃ¹ng cho production

			Bind Mount:
			- DÃ¹ng Ä‘Æ°á»ng dáº«n trá»±c tiáº¿p trÃªn host
			- Phá»¥ thuá»™c cáº¥u trÃºc host
			- ThÆ°á»ng dÃ¹ng cho development

			--------------------------------------------------
			6. VÃ Dá»¤ THá»°C Táº¾ Sá»¬ Dá»¤NG VOLUME
			--------------------------------------------------
			- Cháº¡y MySQL vá»›i volume:
			--------------------------------------------------
			docker run -d \
			  --name mysql57 \
			  -v mysql_data:/var/lib/mysql \
			  mysql:5.7

			â†’ Dá»¯ liá»‡u MySQL náº±m trong volume mysql_data

			--------------------------------------------------
			7. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- XÃ³a container KHÃ”NG xÃ³a volume
			- docker volume prune cÃ³ thá»ƒ lÃ m máº¥t dá»¯ liá»‡u náº¿u khÃ´ng cáº©n tháº­n
			- Volume ráº¥t quan trá»ng vá»›i database container
			- NÃªn backup volume Ä‘á»‹nh ká»³

			--------------------------------------------------
			8. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- LÆ°u trá»¯ dá»¯ liá»‡u lÃ¢u dÃ i
			- Chia sáº» dá»¯ liá»‡u giá»¯a cÃ¡c container
			- TÃ¡ch biá»‡t dá»¯ liá»‡u vÃ  application
			- Triá»ƒn khai container production an toÃ n

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			docker volume
			= Lá»‡nh CHA Ä‘á»ƒ quáº£n lÃ½ Docker Volume
			= Volume dÃ¹ng Ä‘á»ƒ lÆ°u dá»¯ liá»‡u persistent
			= Bao gá»“m: ls, create, inspect, rm, prune
			= Cá»±c ká»³ quan trá»ng khi cháº¡y database trong Docker
			==================================================
					
		
		- cmd: docker volume create mydbdata
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			docker volume create mydbdata

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Táº¡o má»™t Docker volume má»›i tÃªn lÃ  `mydbdata`
			- Volume dÃ¹ng Ä‘á»ƒ lÆ°u trá»¯ dá»¯ liá»‡u bá»n vá»¯ng (persistent data)
			- Dá»¯ liá»‡u trong volume khÃ´ng bá»‹ máº¥t khi container bá»‹ xÃ³a
			- ThÆ°á»ng dÃ¹ng cho database (MySQL, MariaDB, PostgreSQL, v.v.)

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. docker
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh quáº£n lÃ½ Docker
			- Quáº£n lÃ½ container, image, volume, network

			2.2. volume
			--------------------------------------------------
			- NhÃ³m lá»‡nh quáº£n lÃ½ Docker volume
			- DÃ¹ng Ä‘á»ƒ táº¡o, xÃ³a, liá»‡t kÃª, inspect volume

			2.3. create
			--------------------------------------------------
			- Subcommand dÃ¹ng Ä‘á»ƒ táº¡o volume má»›i
			- KhÃ´ng gáº¯n volume vÃ o container ngay láº­p tá»©c

			2.4. mydbdata
			--------------------------------------------------
			- TÃªn cá»§a volume
			- Do ngÆ°á»i dÃ¹ng Ä‘áº·t
			- CÃ³ thá»ƒ dÃ¹ng tÃªn nÃ y Ä‘á»ƒ mount vÃ o container sau

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Docker daemon táº¡o má»™t volume má»›i
			2. Volume Ä‘Æ°á»£c lÆ°u trá»¯ máº·c Ä‘á»‹nh táº¡i:
			   /var/lib/docker/volumes/mydbdata/_data
			3. Volume Ä‘Æ°á»£c quáº£n lÃ½ hoÃ n toÃ n bá»Ÿi Docker
			4. Volume sáºµn sÃ ng Ä‘á»ƒ mount vÃ o container

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥ khi cháº¡y lá»‡nh:

			$ docker volume create mydbdata
			mydbdata

			Giáº£i thÃ­ch:
			- Docker tráº£ vá» tÃªn volume vá»«a Ä‘Æ°á»£c táº¡o thÃ nh cÃ´ng

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- Xem danh sÃ¡ch volume:
			docker volume ls

			- Xem chi tiáº¿t volume:
			docker volume inspect mydbdata

			- Gáº¯n volume vÃ o container:
			docker run -v mydbdata:/var/lib/mysql mysql

			- XÃ³a volume (chá»‰ khi khÃ´ng container nÃ o dÃ¹ng):
			docker volume rm mydbdata

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- LÆ°u dá»¯ liá»‡u database an toÃ n
			- Container cÃ³ thá»ƒ bá»‹ xÃ³a nhÆ°ng dá»¯ liá»‡u váº«n cÃ²n
			- Dá»… backup, migrate dá»¯ liá»‡u
			- Chuáº©n best practice cho database container

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. Volume already exists
			--------------------------------------------------
			- Volume cÃ¹ng tÃªn Ä‘Ã£ tá»“n táº¡i
			- Docker váº«n tráº£ vá» tÃªn volume, khÃ´ng táº¡o má»›i

			7.2. Permission issue
			--------------------------------------------------
			- Ãt gáº·p vÃ¬ Docker tá»± quáº£n lÃ½ quyá»n
			- CÃ³ thá»ƒ xáº£y ra khi mount sai path trong container

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- KhÃ´ng xÃ³a thÆ° má»¥c volume trá»±c tiáº¿p trong /var/lib/docker
			- LuÃ´n dÃ¹ng lá»‡nh Docker Ä‘á»ƒ quáº£n lÃ½ volume
			- XÃ³a volume sáº½ máº¥t toÃ n bá»™ dá»¯ liá»‡u bÃªn trong

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			docker volume create mydbdata

			= Táº¡o Docker volume má»›i
			= LÆ°u dá»¯ liá»‡u bá»n vá»¯ng
			= KhÃ´ng máº¥t dá»¯ liá»‡u khi xÃ³a container
			= ThÆ°á»ng dÃ¹ng cho database
			= Volume Ä‘Æ°á»£c Docker quáº£n lÃ½ hoÃ n toÃ n
		
		
		- cmd: docker volume ls
		
			Lá»†NH: docker volume ls
			======================

			1. Má»¤C ÄÃCH
			----------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ **liá»‡t kÃª táº¥t cáº£ cÃ¡c Docker volume hiá»‡n cÃ³ trÃªn mÃ¡y local**.

			- Docker volume lÃ  cÆ¡ cháº¿ lÆ°u trá»¯ dá»¯ liá»‡u **bá»n vá»¯ng (persistent data)** cho container.
			- Dá»¯ liá»‡u trong volume **khÃ´ng bá»‹ máº¥t** khi container bá»‹ dá»«ng hoáº·c xÃ³a.
			- Lá»‡nh nÃ y thÆ°á»ng dÃ¹ng Ä‘á»ƒ:
			  - Kiá»ƒm tra cÃ¡c volume Ä‘ang tá»“n táº¡i
			  - Quáº£n lÃ½ vÃ  dá»n dáº¹p tÃ i nguyÃªn Docker
			  - XÃ¡c Ä‘á»‹nh volume nÃ o Ä‘ang Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi container


			2. Cáº¤U TRÃšC Lá»†NH
			----------------
			docker volume ls

			Giáº£i thÃ­ch:
			- `docker` : CÃ´ng cá»¥ quáº£n lÃ½ Docker
			- `volume` : Subcommand dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ volume
			- `ls`     : Liá»‡t kÃª (list) cÃ¡c volume


			3. HOáº T Äá»˜NG Cá»¦A Lá»†NH
			---------------------
			1. Docker daemon quÃ©t táº¥t cáº£ volume Ä‘ang tá»“n táº¡i trÃªn host.
			2. Hiá»ƒn thá»‹ danh sÃ¡ch volume theo dáº¡ng báº£ng.
			3. Má»—i dÃ²ng tÆ°Æ¡ng á»©ng vá»›i má»™t volume.


			4. Káº¾T QUáº¢ HIá»‚N THá»Š
			-------------------
			VÃ­ dá»¥ output:
					
		
		- cmd: docker run --name vprodb -d -e MYSQL_ROOT_PASSWORD=secretpass -p 3030:3306 -v mydbdata:/var/lib/mysql mysql:5.7
		
			Lá»†NH:
			docker run --name vprodb -d -e MYSQL_ROOT_PASSWORD=secretpass -p 3030:3306 -v mydbdata:/var/lib/mysql mysql:5.7
			====================================================================

			1. docker lÃ  gÃ¬?
			--------------------------------------------------------------------
			- Docker lÃ  ná»n táº£ng container hÃ³a á»©ng dá»¥ng
			- Cho phÃ©p cháº¡y á»©ng dá»¥ng Ä‘á»™c láº­p vá»›i há»‡ Ä‘iá»u hÃ nh host
			- docker run dÃ¹ng Ä‘á»ƒ:
			  + Táº¡o container má»›i
			  + VÃ  khá»Ÿi Ä‘á»™ng container Ä‘Ã³ ngay láº­p tá»©c

			--------------------------------------------------------------------

			2. run lÃ  gÃ¬ trong Docker?
			--------------------------------------------------------------------
			- run = create + start
			- Khi cháº¡y docker run:
			  + Náº¿u image chÆ°a tá»“n táº¡i local â†’ Docker sáº½ tá»± Ä‘á»™ng pull image
			  + Táº¡o container má»›i tá»« image
			  + Start container

			--------------------------------------------------------------------

			3. --name vprodb lÃ  gÃ¬?
			--------------------------------------------------------------------
			- --name dÃ¹ng Ä‘á»ƒ Ä‘áº·t tÃªn cho container
			- TÃªn container á»Ÿ Ä‘Ã¢y lÃ : vprodb
			- GiÃºp:
			  + Dá»… quáº£n lÃ½ (docker stop vprodb)
			  + Dá»… reference thay vÃ¬ dÃ¹ng container ID

			--------------------------------------------------------------------

			4. -d lÃ  gÃ¬?
			--------------------------------------------------------------------
			- -d = detached mode
			- Cháº¡y container á»Ÿ cháº¿ Ä‘á»™ ná»n (background)
			- Terminal tráº£ láº¡i prompt ngay
			- Container váº«n cháº¡y Ä‘á»™c láº­p

			--------------------------------------------------------------------

			5. -e MYSQL_ROOT_PASSWORD=secretpass lÃ  gÃ¬?
			--------------------------------------------------------------------
			- -e = environment variable
			- MYSQL_ROOT_PASSWORD lÃ  biáº¿n mÃ´i trÆ°á»ng Báº®T BUá»˜C cá»§a image MySQL
			- GiÃ¡ trá»‹:
			  + secretpass â†’ password cho user root cá»§a MySQL

			LÆ¯U Ã:
			- Náº¿u khÃ´ng khai bÃ¡o biáº¿n nÃ y â†’ container MySQL sáº½ khÃ´ng start
			- KhÃ´ng nÃªn dÃ¹ng password Ä‘Æ¡n giáº£n trÃªn production

			--------------------------------------------------------------------

			6. -p 3030:3306 lÃ  gÃ¬?
			--------------------------------------------------------------------
			- -p = publish port
			- CÃº phÃ¡p:
			  host_port : container_port

			- á» Ä‘Ã¢y:
			  + Port container: 3306 (MySQL máº·c Ä‘á»‹nh)
			  + Port host: 3030

			â†’ Truy cáº­p MySQL tá»« bÃªn ngoÃ i thÃ´ng qua:
			localhost:3030

			--------------------------------------------------------------------

			7. -v mydbdata:/var/lib/mysql lÃ  gÃ¬?
			--------------------------------------------------------------------
			- -v = volume mount
			- mydbdata lÃ  Docker named volume
			- /var/lib/mysql lÃ  thÆ° má»¥c MySQL lÆ°u dá»¯ liá»‡u trong container

			Ã nghÄ©a:
			- Dá»¯ liá»‡u database Ä‘Æ°á»£c lÆ°u vÃ o volume mydbdata
			- Dá»¯ liá»‡u KHÃ”NG bá»‹ máº¥t khi container bá»‹ xÃ³a
			- Äáº£m báº£o tÃ­nh persistent cho database

			--------------------------------------------------------------------

			8. mysql:5.7 lÃ  gÃ¬?
			--------------------------------------------------------------------
			- mysql = tÃªn image
			- 5.7 = tag (phiÃªn báº£n MySQL)
			- Docker sáº½ dÃ¹ng image MySQL phiÃªn báº£n 5.7
			- Náº¿u image chÆ°a cÃ³ â†’ Docker tá»± Ä‘á»™ng pull tá»« Docker Hub

			--------------------------------------------------------------------

			9. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			docker run --name vprodb -d -e MYSQL_ROOT_PASSWORD=secretpass \
			-p 3030:3306 -v mydbdata:/var/lib/mysql mysql:5.7

			â†’ Táº¡o vÃ  cháº¡y container MySQL 5.7 tÃªn vprodb  
			â†’ Cháº¡y ná»n (-d)  
			â†’ Expose MySQL ra port 3030 cá»§a host  
			â†’ Thiáº¿t láº­p password root = secretpass  
			â†’ LÆ°u dá»¯ liá»‡u DB vÃ o Docker volume mydbdata  

			KHÃ”NG:
			- KhÃ´ng táº¡o database á»©ng dá»¥ng
			- KhÃ´ng táº¡o user ngoÃ i root
			- KhÃ´ng backup tá»± Ä‘á»™ng

			--------------------------------------------------------------------

			10. Quy trÃ¬nh thá»±c thi
			--------------------------------------------------------------------
			1) Docker kiá»ƒm tra image mysql:5.7
			2) Pull image náº¿u chÆ°a cÃ³
			3) Táº¡o container vprodb
			4) Set biáº¿n mÃ´i trÆ°á»ng MYSQL_ROOT_PASSWORD
			5) Mount volume mydbdata â†’ /var/lib/mysql
			6) Map port 3030 â†’ 3306
			7) Start MySQL server trong container

			--------------------------------------------------------------------

			11. Kiá»ƒm tra sau khi cháº¡y
			--------------------------------------------------------------------
			- Xem container:
			docker ps

			- Xem volume:
			docker volume ls

			- Xem log MySQL:
			docker logs vprodb

			--------------------------------------------------------------------

			12. Káº¿t ná»‘i MySQL tá»« host
			--------------------------------------------------------------------
			mysql -h 127.0.0.1 -P 3030 -u root -p
			Password: secretpass

			--------------------------------------------------------------------

			13. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) Container tá»± dá»«ng
			- ChÆ°a set MYSQL_ROOT_PASSWORD
			- Xem docker logs vprodb

			2) KhÃ´ng káº¿t ná»‘i Ä‘Æ°á»£c MySQL
			- Firewall cháº·n port 3030
			- MySQL chÆ°a start xong

			3) Volume permission lá»—i
			- Kiá»ƒm tra quyá»n Docker volume

			--------------------------------------------------------------------

			14. Best Practices (khuyáº¿n nghá»‹)
			--------------------------------------------------------------------
			- KhÃ´ng hard-code password trong production
			- DÃ¹ng Docker secrets hoáº·c environment file
			- LuÃ´n dÃ¹ng volume cho database
			- DÃ¹ng phiÃªn báº£n MySQL cá»‘ Ä‘á»‹nh (khÃ´ng dÃ¹ng latest)

			--------------------------------------------------------------------

			15. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			docker run --name vprodb -d -e MYSQL_ROOT_PASSWORD=secretpass -p 3030:3306 -v mydbdata:/var/lib/mysql mysql:5.7 =
			CHáº Y CONTAINER MYSQL 5.7 TÃŠN vprodb, MAP PORT 3030, LÆ¯U DATA Báº°NG VOLUME, VÃ€ THIáº¾T Láº¬P PASSWORD ROOT
		
		
		- cmd: ls /var/lib/docker/volumes/
		
			# Lá»‡nh gá»‘c:
			ls /var/lib/docker/volumes/

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. ls
			# - LÃ  lá»‡nh trong Linux/Unix dÃ¹ng Ä‘á»ƒ liá»‡t kÃª (list) ná»™i dung thÆ° má»¥c.
			# - CÃº phÃ¡p cÆ¡ báº£n: ls [tÃ¹y chá»n] [Ä‘Æ°á»ng_dáº«n]

			# 2. /var/lib/docker/volumes/
			# - ÄÃ¢y lÃ  Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i trÃªn há»‡ thá»‘ng Linux.
			# - ThÆ° má»¥c nÃ y Ä‘Æ°á»£c Docker sá»­ dá»¥ng Ä‘á»ƒ lÆ°u trá»¯ dá»¯ liá»‡u cá»§a Docker volumes.

			# 3. Docker volume lÃ  gÃ¬?
			# - Docker volume lÃ  cÆ¡ cháº¿ lÆ°u trá»¯ dá»¯ liá»‡u bá»n vá»¯ng (persistent data) cho container.
			# - Dá»¯ liá»‡u trong volume sáº½ tá»“n táº¡i Ä‘á»™c láº­p vá»›i vÃ²ng Ä‘á»i cá»§a container.
			# - Khi container bá»‹ xÃ³a, dá»¯ liá»‡u trong volume váº«n cÃ²n.

			# 4. Ná»™i dung bÃªn trong thÆ° má»¥c /var/lib/docker/volumes/
			# - Má»—i thÆ° má»¥c con tÆ°Æ¡ng á»©ng vá»›i má»™t Docker volume.
			# - TÃªn thÆ° má»¥c thÆ°á»ng lÃ :
			#   + TÃªn volume do ngÆ°á»i dÃ¹ng Ä‘áº·t, hoáº·c
			#   + Má»™t chuá»—i hash ngáº«u nhiÃªn do Docker tá»± sinh.
			# - BÃªn trong má»—i volume thÆ°á»ng cÃ³ thÆ° má»¥c:
			#   + _data/ : chá»©a dá»¯ liá»‡u thá»±c táº¿ cá»§a volume.

			# 5. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Lá»‡nh `ls /var/lib/docker/volumes/` sáº½:
			#   + Hiá»ƒn thá»‹ danh sÃ¡ch táº¥t cáº£ Docker volumes hiá»‡n cÃ³ trÃªn host.
			#   + GiÃºp kiá»ƒm tra nhanh cÃ¡c volume Ä‘ang tá»“n táº¡i.

			# 6. VÃ­ dá»¥ cáº¥u trÃºc thÆ° má»¥c:
			# /var/lib/docker/volumes/
			# â”œâ”€â”€ vprodb_data/
			# â”‚   â””â”€â”€ _data/
			# â”œâ”€â”€ mysql_data/
			# â”‚   â””â”€â”€ _data/
			# â””â”€â”€ 9f8c7e6a5d4c3b2a1/
			#     â””â”€â”€ _data/

			# 7. CÃ¡c lá»‡nh Docker liÃªn quan:
			# - docker volume ls
			#   + Liá»‡t kÃª volume thÃ´ng qua Docker CLI.
			# - docker volume inspect <volume_name>
			#   + Xem chi tiáº¿t volume.
			# - docker volume rm <volume_name>
			#   + XÃ³a volume (cáº©n tháº­n vÃ¬ dá»¯ liá»‡u sáº½ máº¥t).

			# LÆ°u Ã½ quan trá»ng:
			# - ThÆ° má»¥c /var/lib/docker/ chá»‰ nÃªn xem (read-only), khÃ´ng nÃªn chá»‰nh sá»­a trá»±c tiáº¿p.
			# - Chá»‰nh sá»­a trá»±c tiáº¿p cÃ³ thá»ƒ lÃ m Docker hoáº¡t Ä‘á»™ng khÃ´ng á»•n Ä‘á»‹nh.

			# Káº¿t luáº­n:
			# Lá»‡nh `ls /var/lib/docker/volumes/` dÃ¹ng Ä‘á»ƒ liá»‡t kÃª cÃ¡c Docker volume Ä‘ang tá»“n táº¡i vÃ  kiá»ƒm tra dá»¯ liá»‡u lÆ°u trá»¯ bá»n vá»¯ng cá»§a container trÃªn mÃ¡y host.
		
		
		- cmd: ls /var/lib/docker/volumes/mydbdata/_data/
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			ls /var/lib/docker/volumes/mydbdata/_data/
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ liá»‡t kÃª (list) toÃ n bá»™ file vÃ  thÆ° má»¥c
			bÃªn trong Docker Volume cÃ³ tÃªn `mydbdata`.

			- ÄÃ¢y lÃ  Ä‘Æ°á»ng dáº«n THá»°C trÃªn host nÆ¡i Docker lÆ°u dá»¯ liá»‡u volume
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ:
			  + Kiá»ƒm tra dá»¯ liá»‡u database
			  + Debug váº¥n Ä‘á» volume
			  + XÃ¡c nháº­n container Ä‘Ã£ ghi dá»¯ liá»‡u hay chÆ°a

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. ls
			--------------------------------------------------
			- Lá»‡nh liá»‡t kÃª file vÃ  thÆ° má»¥c
			- Hiá»ƒn thá»‹ ná»™i dung cá»§a má»™t thÆ° má»¥c

			2.2. /var/lib/docker/volumes/
			--------------------------------------------------
			- ThÆ° má»¥c máº·c Ä‘á»‹nh Docker dÃ¹ng Ä‘á»ƒ lÆ°u Docker Volume
			- Chá»‰ tá»“n táº¡i trÃªn Docker host

			2.3. mydbdata
			--------------------------------------------------
			- TÃªn Docker Volume
			- Volume nÃ y Ä‘Æ°á»£c táº¡o báº±ng:
			--------------------------------------------------
			docker volume create mydbdata

			2.4. _data
			--------------------------------------------------
			- ThÆ° má»¥c con chá»©a Dá»® LIá»†U THá»°C cá»§a volume
			- Khi mount volume vÃ o container:
			--------------------------------------------------
			-v mydbdata:/path/trong/container
			â†’ Dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u táº¡i thÆ° má»¥c nÃ y

			--------------------------------------------------
			3. Káº¾T QUáº¢ Cá»¦A Lá»†NH
			--------------------------------------------------
			- Danh sÃ¡ch file/thÆ° má»¥c phá»¥ thuá»™c vÃ o á»©ng dá»¥ng sá»­ dá»¥ng volume
			- VÃ­ dá»¥ vá»›i MySQL:
			--------------------------------------------------
			ibdata1
			ib_logfile0
			ib_logfile1
			mysql/
			performance_schema/
			sys/

			--------------------------------------------------
			4. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			--------------------------------------------------
			1. Host OS truy cáº­p trá»±c tiáº¿p filesystem
			2. Äá»c ná»™i dung thÆ° má»¥c volume
			3. In ra danh sÃ¡ch file/thÆ° má»¥c

			--------------------------------------------------
			5. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Cáº§n quyá»n root Ä‘á»ƒ truy cáº­p thÆ° má»¥c nÃ y:
			--------------------------------------------------
			sudo ls /var/lib/docker/volumes/mydbdata/_data/

			- KHÃ”NG nÃªn chá»‰nh sá»­a file trong volume trá»±c tiáº¿p
			  (Ä‘áº·c biá»‡t vá»›i database)
			- Viá»‡c chá»‰nh sá»­a trá»±c tiáº¿p cÃ³ thá»ƒ lÃ m há»ng dá»¯ liá»‡u

			--------------------------------------------------
			6. KHI NÃ€O Cáº¦N DÃ™NG Lá»†NH NÃ€Y?
			--------------------------------------------------
			- Debug database container
			- Kiá»ƒm tra volume cÃ³ dá»¯ liá»‡u hay khÃ´ng
			- XÃ¡c nháº­n dá»¯ liá»‡u Ä‘Æ°á»£c persist sau khi container restart
			- Backup dá»¯ liá»‡u (chá»‰ Ä‘á»c)

			--------------------------------------------------
			7. SO SÃNH Vá»šI CÃCH KIá»‚M TRA TRONG CONTAINER
			--------------------------------------------------
			- Xem dá»¯ liá»‡u tá»« container:
			--------------------------------------------------
			docker exec -it mysql57 ls /var/lib/mysql

			- Xem dá»¯ liá»‡u trá»±c tiáº¿p trÃªn host:
			--------------------------------------------------
			ls /var/lib/docker/volumes/mydbdata/_data/

			--------------------------------------------------
			8. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			ls /var/lib/docker/volumes/mydbdata/_data/
			= Liá»‡t kÃª dá»¯ liá»‡u THá»°C cá»§a Docker Volume mydbdata
			= ThÆ° má»¥c nÃ y náº±m trÃªn Docker host
			= Chá»©a toÃ n bá»™ dá»¯ liá»‡u persist cá»§a container
			= ThÆ°á»ng dÃ¹ng Ä‘á»ƒ kiá»ƒm tra vÃ  debug volume
			==================================================
		
		
		- cmd: 	sudo apt update
				sudo apt install -y mysql-client
		
			GIáº¢I THÃCH CHI TIáº¾T CÃC Lá»†NH:
			sudo apt update
			sudo apt install -y mysql-client

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Hai lá»‡nh nÃ y thÆ°á»ng Ä‘Æ°á»£c dÃ¹ng liÃªn tiáº¿p Ä‘á»ƒ:
			- Cáº­p nháº­t danh sÃ¡ch gÃ³i pháº§n má»m má»›i nháº¥t tá»« cÃ¡c repository
			- CÃ i Ä‘áº·t MySQL Client (chá»‰ client, khÃ´ng pháº£i server)
			- Phá»¥c vá»¥ viá»‡c káº¿t ná»‘i vÃ  thao tÃ¡c vá»›i MySQL/MariaDB tá»« xa

			--------------------------------------------------
			2. GIáº¢I THÃCH Lá»†NH: sudo apt update
			--------------------------------------------------

			2.1. sudo
			--------------------------------------------------
			- Cháº¡y lá»‡nh vá»›i quyá»n quáº£n trá»‹ (root)
			- Báº¯t buá»™c vÃ¬ apt thao tÃ¡c vá»›i há»‡ thá»‘ng

			2.2. apt
			--------------------------------------------------
			- TrÃ¬nh quáº£n lÃ½ gÃ³i (package manager) trÃªn Ubuntu/Debian
			- DÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t, cáº­p nháº­t, gá»¡ pháº§n má»m

			2.3. update
			--------------------------------------------------
			- Cáº­p nháº­t danh sÃ¡ch package
			- KhÃ´ng cÃ i hay nÃ¢ng cáº¥p pháº§n má»m
			- Chá»‰ táº£i metadata (version, dependency, source)

			2.4. Lá»†NH NÃ€Y LÃ€M GÃŒ?
			--------------------------------------------------
			- Káº¿t ná»‘i Ä‘áº¿n cÃ¡c repository Ä‘Ã£ cáº¥u hÃ¬nh
			- Láº¥y thÃ´ng tin phiÃªn báº£n má»›i nháº¥t cá»§a cÃ¡c gÃ³i
			- Äáº£m báº£o há»‡ thá»‘ng biáº¿t chÃ­nh xÃ¡c package nÃ o Ä‘ang kháº£ dá»¥ng

			--------------------------------------------------
			3. GIáº¢I THÃCH Lá»†NH: sudo apt install -y mysql-client
			--------------------------------------------------

			3.1. sudo
			--------------------------------------------------
			- Cháº¡y lá»‡nh vá»›i quyá»n root
			- Cáº§n thiáº¿t Ä‘á»ƒ cÃ i Ä‘áº·t pháº§n má»m há»‡ thá»‘ng

			3.2. apt install
			--------------------------------------------------
			- Lá»‡nh dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t package má»›i

			3.3. -y
			--------------------------------------------------
			- Tá»± Ä‘á»™ng tráº£ lá»i "Yes" cho má»i cÃ¢u há»i
			- KhÃ´ng cáº§n ngÆ°á»i dÃ¹ng xÃ¡c nháº­n khi cÃ i Ä‘áº·t
			- ThÆ°á»ng dÃ¹ng trong script hoáº·c automation

			3.4. mysql-client
			--------------------------------------------------
			- GÃ³i MySQL Client
			- Cung cáº¥p cÃ¡c cÃ´ng cá»¥:
			  + mysql
			  + mysqldump
			  + mysqladmin
			- KHÃ”NG cÃ i MySQL Server
			- DÃ¹ng Ä‘á»ƒ káº¿t ná»‘i Ä‘áº¿n MySQL server tá»« xa

			--------------------------------------------------
			4. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y 2 lá»‡nh nÃ y theo thá»© tá»±:

			1. apt update:
			   - Cáº­p nháº­t danh sÃ¡ch gÃ³i má»›i nháº¥t
			2. apt install mysql-client:
			   - Kiá»ƒm tra dependency
			   - Táº£i gÃ³i mysql-client
			   - CÃ i Ä‘áº·t cÃ¡c binary cáº§n thiáº¿t
			3. Sau khi hoÃ n táº¥t, cÃ³ thá»ƒ dÃ¹ng lá»‡nh mysql

			--------------------------------------------------
			5. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥:

			$ mysql --version
			mysql  Ver 8.0.xx for Linux on x86_64

			--------------------------------------------------
			6. CÃCH Sá»¬ Dá»¤NG SAU KHI CÃ€I
			--------------------------------------------------
			- Káº¿t ná»‘i MySQL server:
			mysql -h <db_host> -u <user> -p

			- Dump database:
			mysqldump -h <db_host> -u <user> -p db_name > backup.sql

			--------------------------------------------------
			7. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Káº¿t ná»‘i database tá»« application server
			- Quáº£n trá»‹ MySQL tá»« xa
			- PhÃ¹ há»£p mÃ´i trÆ°á»ng:
			  + Web server
			  + CI/CD
			  + DevOps automation

			--------------------------------------------------
			8. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			8.1. Unable to locate package mysql-client
			--------------------------------------------------
			- Repository chÆ°a update
			- Giáº£i phÃ¡p:
			sudo apt update

			8.2. Command not found: mysql
			--------------------------------------------------
			- mysql-client chÆ°a Ä‘Æ°á»£c cÃ i
			- Kiá»ƒm tra:
			dpkg -l | grep mysql-client

			--------------------------------------------------
			9. Cáº¢NH BÃO
			--------------------------------------------------
			- mysql-client khÃ´ng cháº¡y database
			- Náº¿u cáº§n database server â†’ cÃ i mysql-server
			- LuÃ´n cháº¡y apt update trÆ°á»›c khi cÃ i package má»›i

			--------------------------------------------------
			10. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			sudo apt update
			= Cáº­p nháº­t danh sÃ¡ch package

			sudo apt install -y mysql-client
			= CÃ i MySQL Client
			= KhÃ´ng cÃ i MySQL Server
			= DÃ¹ng Ä‘á»ƒ káº¿t ná»‘i DB tá»« xa
			= PhÃ¹ há»£p automation, script
		
		
		- cmd: sudo apt install unzip -y
		
			Lá»†NH: sudo apt install unzip -y
			================================

			1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
			-------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- CÃ i Ä‘áº·t chÆ°Æ¡ng trÃ¬nh "unzip" trÃªn há»‡ Ä‘iá»u hÃ nh Linux (Debian/Ubuntu vÃ  cÃ¡c báº£n phÃ¢n phá»‘i dÃ¹ng APT)
			- "unzip" lÃ  cÃ´ng cá»¥ dÃ¹ng Ä‘á»ƒ giáº£i nÃ©n cÃ¡c file cÃ³ Ä‘á»‹nh dáº¡ng .zip

			VÃ­ dá»¥ sau khi cÃ i xong, báº¡n cÃ³ thá»ƒ giáº£i nÃ©n file:
			unzip file.zip


			2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
			------------------------------------

			2.1. sudo
			---------
			- "sudo" viáº¿t táº¯t cá»§a: Super User DO
			- Cho phÃ©p ngÆ°á»i dÃ¹ng thÆ°á»ng thá»±c thi lá»‡nh vá»›i quyá»n quáº£n trá»‹ (root)
			- Cáº§n thiáº¿t vÃ¬:
			  + Viá»‡c cÃ i Ä‘áº·t pháº§n má»m lÃ m thay Ä‘á»•i há»‡ thá»‘ng
			  + APT yÃªu cáº§u quyá»n root Ä‘á»ƒ cÃ i gÃ³i

			Náº¿u khÃ´ng dÃ¹ng sudo, lá»‡nh sáº½ bÃ¡o lá»—i:
			"Permission denied" hoáº·c "You must be root"


			2.2. apt
			--------
			- "apt" lÃ  trÃ¬nh quáº£n lÃ½ gÃ³i (package manager) cá»§a Debian/Ubuntu
			- Chá»©c nÄƒng:
			  + CÃ i Ä‘áº·t pháº§n má»m
			  + Gá»¡ pháº§n má»m
			  + Cáº­p nháº­t danh sÃ¡ch gÃ³i
			  + NÃ¢ng cáº¥p há»‡ thá»‘ng

			APT tá»± Ä‘á»™ng:
			- Táº£i gÃ³i tá»« kho (repository)
			- Kiá»ƒm tra phá»¥ thuá»™c
			- CÃ i Ä‘áº·t Ä‘Ãºng phiÃªn báº£n


			2.3. install
			-------------
			- Tham sá»‘ "install" bÃ¡o cho apt biáº¿t:
			  + Báº¡n muá»‘n CÃ€I Äáº¶T má»™t gÃ³i pháº§n má»m má»›i
			- CÃº phÃ¡p chung:
			  apt install <tÃªn_gÃ³i>


			2.4. unzip
			----------
			- "unzip" lÃ  tÃªn gÃ³i pháº§n má»m
			- Chá»©c nÄƒng chÃ­nh:
			  + Giáº£i nÃ©n file .zip
			  + Xem ná»™i dung file zip
			  + Giáº£i nÃ©n cÃ³ chá»n lá»c

			VÃ­ dá»¥ lá»‡nh sau khi cÃ i:
			- unzip file.zip
			- unzip file.zip -d /thu_muc_dich


			2.5. -y
			-------
			- "-y" nghÄ©a lÃ : Yes (Ä‘á»“ng Ã½ táº¥t cáº£)
			- TÃ¡c dá»¥ng:
			  + Tá»± Ä‘á»™ng tráº£ lá»i "yes" cho má»i cÃ¢u há»i cá»§a apt
			  + KhÃ´ng cáº§n nháº­p "y" khi há»‡ thá»‘ng há»i xÃ¡c nháº­n

			Náº¿u KHÃ”NG cÃ³ -y:
			- Há»‡ thá»‘ng sáº½ há»i:
			  "Do you want to continue? [Y/n]"

			Khi dÃ¹ng -y:
			- Lá»‡nh cháº¡y hoÃ n toÃ n tá»± Ä‘á»™ng
			- Ráº¥t há»¯u Ã­ch trong script hoáº·c automation


			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			---------------------------------
			Khi báº¡n cháº¡y:
			sudo apt install unzip -y

			Há»‡ thá»‘ng sáº½:
			1. Kiá»ƒm tra quyá»n sudo
			2. Kiá»ƒm tra xem unzip Ä‘Ã£ Ä‘Æ°á»£c cÃ i hay chÆ°a
			3. Náº¿u chÆ°a cÃ³:
			   - Táº£i gÃ³i unzip tá»« repository
			   - CÃ i Ä‘áº·t vÃ o há»‡ thá»‘ng
			4. Náº¿u Ä‘Ã£ cÃ³:
			   - BÃ¡o unzip Ä‘Ã£ lÃ  phiÃªn báº£n má»›i nháº¥t
			5. Tá»± Ä‘á»™ng xÃ¡c nháº­n cÃ i Ä‘áº·t nhá» -y


			4. Káº¾T QUáº¢ SAU KHI CHáº Y Lá»†NH
			---------------------------
			- ChÆ°Æ¡ng trÃ¬nh "unzip" cÃ³ sáºµn trong há»‡ thá»‘ng
			- CÃ³ thá»ƒ sá»­ dá»¥ng ngay trong terminal
			- Kiá»ƒm tra báº±ng lá»‡nh:
			  unzip -v
			  hoáº·c
			  which unzip


			5. Lá»–I THÆ¯á»œNG Gáº¶P
			-----------------
			- Lá»—i chÆ°a cáº­p nháº­t danh sÃ¡ch gÃ³i:
			  => NÃªn cháº¡y trÆ°á»›c:
				 sudo apt update

			- Lá»—i khÃ´ng cÃ³ sudo:
			  => Cáº§n tÃ i khoáº£n cÃ³ quyá»n sudo


			6. TÃ“M Táº®T NGáº®N Gá»ŒN
			-------------------
			sudo        : cháº¡y lá»‡nh vá»›i quyá»n root
			apt         : trÃ¬nh quáº£n lÃ½ gÃ³i
			install     : cÃ i Ä‘áº·t pháº§n má»m
			unzip       : cÃ´ng cá»¥ giáº£i nÃ©n file .zip
			-y          : tá»± Ä‘á»™ng Ä‘á»“ng Ã½ má»i xÃ¡c nháº­n
		
		
		- cmd: tar czvf nano.tar.gz *
		
			Lá»†NH: tar czvf nano.tar.gz *
			====================================================================

			1. tar lÃ  gÃ¬?
			--------------------------------------------------------------------
			- tar = Tape ARchive
			- LÃ  cÃ´ng cá»¥ trÃªn Linux/Unix dÃ¹ng Ä‘á»ƒ:
			  + Gom nhiá»u file/thÆ° má»¥c thÃ nh 1 file duy nháº¥t (archive)
			  + ThÆ°á»ng dÃ¹ng Ä‘á»ƒ backup, Ä‘Ã³ng gÃ³i, chuyá»ƒn dá»¯ liá»‡u
			- tar KHÃ”NG tá»± nÃ©n náº¿u khÃ´ng dÃ¹ng kÃ¨m option nÃ©n

			--------------------------------------------------------------------

			2. Giáº£i thÃ­ch tá»«ng option: czvf
			--------------------------------------------------------------------

			2.1. c (create)
			--------------------------------------------------------------------
			- c = create
			- Táº¡o file archive má»›i
			- Náº¿u file Ä‘Ã£ tá»“n táº¡i â†’ sáº½ ghi Ä‘Ã¨

			--------------------------------------------------------------------

			2.2. z (gzip)
			--------------------------------------------------------------------
			- z = gzip compression
			- NÃ©n file tar báº±ng gzip
			- Káº¿t quáº£ lÃ  file cÃ³ Ä‘uÃ´i .tar.gz hoáº·c .tgz
			- GiÃºp giáº£m dung lÆ°á»£ng lÆ°u trá»¯

			--------------------------------------------------------------------

			2.3. v (verbose)
			--------------------------------------------------------------------
			- v = verbose
			- Hiá»ƒn thá»‹ chi tiáº¿t cÃ¡c file Ä‘ang Ä‘Æ°á»£c xá»­ lÃ½
			- DÃ¹ng Ä‘á»ƒ:
			  + Theo dÃµi tiáº¿n trÃ¬nh
			  + Debug khi cáº§n

			--------------------------------------------------------------------

			2.4. f (file)
			--------------------------------------------------------------------
			- f = filename
			- Chá»‰ Ä‘á»‹nh tÃªn file output
			- Báº®T BUá»˜C pháº£i Ä‘á»©ng trÆ°á»›c tÃªn file archive

			--------------------------------------------------------------------

			3. nano.tar.gz lÃ  gÃ¬?
			--------------------------------------------------------------------
			- TÃªn file archive Ä‘Æ°á»£c táº¡o ra
			- nano â†’ tÃªn do ngÆ°á»i dÃ¹ng Ä‘áº·t
			- .tar.gz â†’ file tar Ä‘Ã£ Ä‘Æ°á»£c nÃ©n báº±ng gzip

			--------------------------------------------------------------------

			4. * lÃ  gÃ¬?
			--------------------------------------------------------------------
			- * lÃ  wildcard (kÃ½ tá»± Ä‘áº¡i diá»‡n)
			- Äáº¡i diá»‡n cho:
			  + Táº¤T Cáº¢ file vÃ  thÆ° má»¥c
			  + Trong thÆ° má»¥c hiá»‡n táº¡i
			- KHÃ”NG bao gá»“m:
			  + File/thÆ° má»¥c áº©n (báº¯t Ä‘áº§u báº±ng dáº¥u .)

			VÃ­ dá»¥ KHÃ”NG Ä‘Æ°á»£c nÃ©n:
			- .env
			- .git
			- .ssh

			--------------------------------------------------------------------

			5. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			tar czvf nano.tar.gz *

			â†’ Gom Táº¤T Cáº¢ file vÃ  thÆ° má»¥c (khÃ´ng bao gá»“m file áº©n)
			â†’ Trong thÆ° má»¥c hiá»‡n táº¡i
			â†’ NÃ©n báº±ng gzip
			â†’ Táº¡o file nano.tar.gz
			â†’ Hiá»ƒn thá»‹ danh sÃ¡ch file Ä‘ang nÃ©n

			--------------------------------------------------------------------

			6. Quy trÃ¬nh thá»±c thi
			--------------------------------------------------------------------
			1) Shell má»Ÿ rá»™ng wildcard *
			2) tar thu tháº­p danh sÃ¡ch file/thÆ° má»¥c
			3) Táº¡o archive tar
			4) NÃ©n báº±ng gzip
			5) Ghi dá»¯ liá»‡u vÃ o nano.tar.gz
			6) In tÃªn tá»«ng file ra terminal (do -v)

			--------------------------------------------------------------------

			7. VÃ­ dá»¥ output
			--------------------------------------------------------------------
			./file1.txt
			./file2.log
			./folder1/
			./folder1/app.conf

			--------------------------------------------------------------------

			8. Kiá»ƒm tra file sau khi táº¡o
			--------------------------------------------------------------------
			- Xem dung lÆ°á»£ng:
			ls -lh nano.tar.gz

			- Xem ná»™i dung archive (khÃ´ng giáº£i nÃ©n):
			tar tzvf nano.tar.gz

			--------------------------------------------------------------------

			9. Giáº£i nÃ©n file nano.tar.gz
			--------------------------------------------------------------------
			- Giáº£i nÃ©n vÃ o thÆ° má»¥c hiá»‡n táº¡i:
			tar xzvf nano.tar.gz

			- Giáº£i thÃ­ch:
			  x = extract
			  z = gzip
			  v = verbose
			  f = file

			--------------------------------------------------------------------

			10. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) tar: *: Cannot stat
			- ThÆ° má»¥c hiá»‡n táº¡i rá»—ng

			2) QuÃªn option f
			- tar sáº½ bÃ¡o lá»—i syntax

			3) NÃ©n chÃ­nh file nano.tar.gz vÃ o chÃ­nh nÃ³
			- Xáº£y ra náº¿u file Ä‘Ã£ tá»“n táº¡i trÆ°á»›c Ä‘Ã³

			--------------------------------------------------------------------

			11. LÆ°u Ã½ quan trá»ng
			--------------------------------------------------------------------
			- * KHÃ”NG bao gá»“m file áº©n
			- KhÃ´ng nÃªn dÃ¹ng * khi backup toÃ n bá»™ há»‡ thá»‘ng
			- Cáº©n tháº­n ghi Ä‘Ã¨ file nano.tar.gz náº¿u Ä‘Ã£ tá»“n táº¡i

			--------------------------------------------------------------------

			12. So sÃ¡nh nhanh
			--------------------------------------------------------------------
			tar czvf file.tar.gz *      â†’ nÃ©n file khÃ´ng áº©n
			tar czvf file.tar.gz .      â†’ nÃ©n cáº£ file áº©n
			tar czvf file.tar.gz folder â†’ nÃ©n 1 thÆ° má»¥c cá»¥ thá»ƒ

			--------------------------------------------------------------------

			13. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			tar czvf nano.tar.gz * =
			GOM VÃ€ NÃ‰N TOÃ€N Bá»˜ FILE/THÆ¯ Má»¤C (KHÃ”NG BAO Gá»’M FILE áº¨N) TRONG THÆ¯ Má»¤C HIá»†N Táº I THÃ€NH FILE nano.tar.gz
		
		
		- cmd: mv nano.tar.gz ../
		
			# Lá»‡nh gá»‘c:
			mv nano.tar.gz ../

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. mv
			# - LÃ  lá»‡nh trong Linux/Unix dÃ¹ng Ä‘á»ƒ:
			#   + Di chuyá»ƒn (move) file/thÆ° má»¥c
			#   + Hoáº·c Ä‘á»•i tÃªn (rename) file/thÆ° má»¥c
			# - CÃº phÃ¡p cÆ¡ báº£n:
			#   mv [nguá»“n] [Ä‘Ã­ch]

			# 2. nano.tar.gz
			# - LÃ  file nguá»“n cáº§n Ä‘Æ°á»£c di chuyá»ƒn.
			# - ÄÃ¢y lÃ  má»™t file nÃ©n Ä‘á»‹nh dáº¡ng .tar.gz (tarball gzip).
			# - CÃ³ thá»ƒ lÃ  file cÃ i Ä‘áº·t, file backup, hoáº·c source code.

			# 3. ../
			# - LÃ  Ä‘Æ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i (relative path).
			# - `..` Ä‘áº¡i diá»‡n cho thÆ° má»¥c cha (parent directory) cá»§a thÆ° má»¥c hiá»‡n táº¡i.
			# - `../` nghÄ©a lÃ  thÆ° má»¥c cha.

			# 4. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Lá»‡nh `mv nano.tar.gz ../` sáº½:
			#   + Di chuyá»ƒn file `nano.tar.gz` tá»« thÆ° má»¥c hiá»‡n táº¡i
			#     lÃªn thÆ° má»¥c cha.
			#   + Giá»¯ nguyÃªn tÃªn file lÃ  `nano.tar.gz`.

			# 5. VÃ­ dá»¥ minh há»a:
			# - Giáº£ sá»­ thÆ° má»¥c hiá»‡n táº¡i lÃ :
			#   /home/user/downloads/
			# - Sau khi cháº¡y lá»‡nh:
			#   mv nano.tar.gz ../
			# - File sáº½ Ä‘Æ°á»£c chuyá»ƒn tá»›i:
			#   /home/user/nano.tar.gz

			# 6. Má»™t sá»‘ trÆ°á»ng há»£p liÃªn quan:
			# - Äá»•i tÃªn file:
			#   mv nano.tar.gz nano_backup.tar.gz
			# - Di chuyá»ƒn nhiá»u file:
			#   mv file1.txt file2.txt ../

			# 7. LÆ°u Ã½:
			# - Náº¿u file cÃ¹ng tÃªn Ä‘Ã£ tá»“n táº¡i á»Ÿ thÆ° má»¥c Ä‘Ã­ch, mv sáº½ ghi Ä‘Ã¨ (overwrite) mÃ  khÃ´ng há»i.
			# - CÃ³ thá»ƒ dÃ¹ng tÃ¹y chá»n -i Ä‘á»ƒ há»i trÆ°á»›c khi ghi Ä‘Ã¨:
			#   mv -i nano.tar.gz ../

			# Káº¿t luáº­n:
			# Lá»‡nh `mv nano.tar.gz ../` dÃ¹ng Ä‘á»ƒ di chuyá»ƒn file nÃ©n `nano.tar.gz` tá»« thÆ° má»¥c hiá»‡n táº¡i lÃªn thÆ° má»¥c cha.
		
		
		- cmd: docker run -d --name nanowebsite -p 9080:80 nanoimg
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			docker run -d --name nanowebsite -p 9080:80 nanoimg
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ táº¡o vÃ  cháº¡y má»™t container Docker á»Ÿ cháº¿ Ä‘á»™ ná»n
			(detached mode) tá»« image cÃ³ tÃªn `nanoimg`.

			- Container Ä‘Æ°á»£c Ä‘áº·t tÃªn lÃ  `nanowebsite`
			- Public má»™t web service tá»« container ra host
			- Truy cáº­p web qua cá»•ng 9080 trÃªn host

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. docker
			--------------------------------------------------
			- Docker CLI dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ container vÃ  image

			2.2. run
			--------------------------------------------------
			- Táº¡o container má»›i vÃ  cháº¡y ngay láº­p tá»©c
			- Náº¿u image chÆ°a tá»“n táº¡i â†’ Docker tá»± Ä‘á»™ng pull (náº¿u cÃ³ registry)

			2.3. -d
			--------------------------------------------------
			- Detached mode
			- Container cháº¡y ná»n, khÃ´ng chiáº¿m terminal
			- PhÃ¹ há»£p cho service (web, api, database)

			2.4. --name nanowebsite
			--------------------------------------------------
			- GÃ¡n tÃªn cá»¥ thá»ƒ cho container
			- Dá»… quáº£n lÃ½ thay vÃ¬ dÃ¹ng container ID ngáº«u nhiÃªn
			- DÃ¹ng tÃªn nÃ y cho cÃ¡c lá»‡nh:
			--------------------------------------------------
			docker stop nanowebsite
			docker logs nanowebsite
			docker rm nanowebsite

			2.5. -p 9080:80
			--------------------------------------------------
			- Publish port (port mapping)
			- CÃº phÃ¡p:
			--------------------------------------------------
			HOST_PORT:CONTAINER_PORT

			- 9080:
			  + Cá»•ng trÃªn mÃ¡y host
			- 80:
			  + Cá»•ng mÃ  á»©ng dá»¥ng web Ä‘ang láº¯ng nghe trong container
			- Truy cáº­p web:
			--------------------------------------------------
			http://<HOST_IP>:9080

			2.6. nanoimg
			--------------------------------------------------
			- TÃªn Docker image dÃ¹ng Ä‘á»ƒ táº¡o container
			- Image nÃ y pháº£i chá»©a web server (nginx, apache, hoáº·c app custom)

			--------------------------------------------------
			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			--------------------------------------------------
			1. Docker kiá»ƒm tra image `nanoimg`
			2. Táº¡o container má»›i vá»›i tÃªn `nanowebsite`
			3. Cáº¥u hÃ¬nh port mapping 9080 â†’ 80
			4. Khá»Ÿi Ä‘á»™ng container á»Ÿ cháº¿ Ä‘á»™ ná»n
			5. Tráº£ vá» container ID

			--------------------------------------------------
			4. KIá»‚M TRA SAU KHI CHáº Y
			--------------------------------------------------
			- Kiá»ƒm tra container Ä‘ang cháº¡y:
			--------------------------------------------------
			docker ps

			- Kiá»ƒm tra log web:
			--------------------------------------------------
			docker logs nanowebsite

			- Kiá»ƒm tra port mapping:
			--------------------------------------------------
			docker port nanowebsite

			--------------------------------------------------
			5. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Náº¿u port 9080 Ä‘ang Ä‘Æ°á»£c dÃ¹ng trÃªn host â†’ container sáº½ khÃ´ng cháº¡y
			- Cáº§n má»Ÿ firewall/security group cho port 9080
			- Container sáº½ tá»± stop náº¿u process chÃ­nh trong image bá»‹ crash

			--------------------------------------------------
			6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- Cháº¡y website nhanh chÃ³ng
			- Deploy web service Ä‘Æ¡n giáº£n
			- Test image web
			- Demo hoáº·c lab Docker

			--------------------------------------------------
			7. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			docker run -d --name nanowebsite -p 9080:80 nanoimg
			= Cháº¡y container ná»n tá»« image nanoimg
			= Äáº·t tÃªn container nanowebsite
			= Map port 9080 (host) â†’ 80 (container)
			= Truy cáº­p web qua http://HOST_IP:9080
			==================================================
		
		
		- cmd: docker build -t nanoimg:V2 .
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			docker build -t nanoimg:V2 .

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Build (xÃ¢y dá»±ng) má»™t Docker image má»›i
			- Image Ä‘Æ°á»£c build tá»« Dockerfile trong thÆ° má»¥c hiá»‡n táº¡i
			- GÃ¡n tÃªn vÃ  tag cho image lÃ  `nanoimg:V2`
			- ThÆ°á»ng dÃ¹ng khi phÃ¡t triá»ƒn, cáº­p nháº­t hoáº·c Ä‘Ã³ng gÃ³i á»©ng dá»¥ng

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. docker
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh quáº£n lÃ½ Docker
			- DÃ¹ng Ä‘á»ƒ build, run, push, pull image

			2.2. build
			--------------------------------------------------
			- Subcommand dÃ¹ng Ä‘á»ƒ build Docker image
			- Docker Ä‘á»c Dockerfile vÃ  context Ä‘á»ƒ táº¡o image

			2.3. -t nanoimg:V2
			--------------------------------------------------
			- `-t` viáº¿t táº¯t cá»§a `--tag`
			- GÃ¡n tÃªn vÃ  tag cho image sau khi build
			- nanoimg: tÃªn image
			- V2: tag (phiÃªn báº£n)
			- Náº¿u khÃ´ng cÃ³ tag â†’ máº·c Ä‘á»‹nh lÃ  latest

			2.4. .
			--------------------------------------------------
			- Build context
			- Dáº¥u cháº¥m (.) Ä‘áº¡i diá»‡n cho thÆ° má»¥c hiá»‡n táº¡i
			- Docker gá»­i toÃ n bá»™ ná»™i dung thÆ° má»¥c nÃ y cho Docker daemon
			- Dockerfile pháº£i náº±m trong thÆ° má»¥c nÃ y (hoáº·c chá»‰ Ä‘á»‹nh báº±ng -f)

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Docker daemon nháº­n build context (thÆ° má»¥c hiá»‡n táº¡i)
			2. Docker tÃ¬m file Dockerfile
			3. Thá»±c thi tá»«ng instruction trong Dockerfile:
			   - FROM
			   - RUN
			   - COPY / ADD
			   - EXPOSE
			   - CMD / ENTRYPOINT
			4. Má»—i instruction táº¡o ra má»™t image layer
			5. Image cuá»‘i cÃ¹ng Ä‘Æ°á»£c gÃ¡n tÃªn `nanoimg:V2`

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥ khi build:

			Step 1/6 : FROM alpine
			 ---> 3f53bb00af94
			Step 2/6 : RUN apk add nano
			 ---> Running in a1b2c3d4e5f6
			 ---> 9c8b7a6f5e4d
			Successfully built abcdef123456
			Successfully tagged nanoimg:V2

			Giáº£i thÃ­ch:
			- Má»—i step lÃ  má»™t layer
			- ID cuá»‘i cÃ¹ng lÃ  image ID

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- Xem image vá»«a build:
			docker images

			- Cháº¡y image:
			docker run -it nanoimg:V2

			- Build khÃ´ng dÃ¹ng cache:
			docker build --no-cache -t nanoimg:V2 .

			- Chá»‰ Ä‘á»‹nh Dockerfile khÃ¡c:
			docker build -f Dockerfile.dev -t nanoimg:V2 .

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- ÄÃ³ng gÃ³i á»©ng dá»¥ng thÃ nh image
			- Quáº£n lÃ½ version qua tag
			- Dá»… deploy lÃªn server hoáº·c registry
			- Tá»± Ä‘á»™ng hÃ³a CI/CD

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. Dockerfile not found
			--------------------------------------------------
			- KhÃ´ng cÃ³ Dockerfile trong thÆ° má»¥c hiá»‡n táº¡i
			- Giáº£i phÃ¡p:
			ls Dockerfile

			7.2. Build context quÃ¡ lá»›n
			--------------------------------------------------
			- ThÆ° má»¥c chá»©a nhiá»u file khÃ´ng cáº§n thiáº¿t
			- Giáº£i phÃ¡p:
			Táº¡o file .dockerignore

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- KhÃ´ng nÃªn build trong thÆ° má»¥c chá»©a nhiá»u file rÃ¡c
			- LuÃ´n dÃ¹ng .dockerignore Ä‘á»ƒ giáº£m thá»i gian build
			- Tag rÃµ rÃ ng Ä‘á»ƒ trÃ¡nh ghi Ä‘Ã¨ image cÅ©

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			docker build -t nanoimg:V2 .

			= Build Docker image má»›i
			= GÃ¡n tÃªn nanoimg vÃ  tag V2
			= Dockerfile náº±m trong thÆ° má»¥c hiá»‡n táº¡i
			= Má»—i step táº¡o má»™t layer
			= PhÃ¹ há»£p phÃ¡t triá»ƒn vÃ  CI/CD
		
		
		- cmd: docker run -d --name nanowebsite -p 9080:80 nanoimg:V2
		
			Lá»†NH: docker run -d --name nanowebsite -p 9080:80 nanoimg:V2
			=======================================================

			1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
			-------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Táº¡o vÃ  cháº¡y má»™t container Docker má»›i
			- Container cháº¡y á»Ÿ cháº¿ Ä‘á»™ ná»n (background)
			- Container Ä‘Æ°á»£c Ä‘áº·t tÃªn lÃ  "nanowebsite"
			- Cháº¡y á»©ng dá»¥ng web bÃªn trong image "nanoimg:V2"
			- Public dá»‹ch vá»¥ web ra cá»•ng 9080 cá»§a mÃ¡y host


			2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
			------------------------------------

			2.1. docker
			-----------
			- Docker lÃ  ná»n táº£ng dÃ¹ng Ä‘á»ƒ:
			  + ÄÃ³ng gÃ³i á»©ng dá»¥ng thÃ nh image
			  + Cháº¡y á»©ng dá»¥ng trong container
			  + Äáº£m báº£o á»©ng dá»¥ng cháº¡y nháº¥t quÃ¡n trÃªn má»i mÃ´i trÆ°á»ng


			2.2. run
			--------
			- "run" lÃ  lá»‡nh:
			  + Táº¡o container má»›i tá»« má»™t image
			  + Äá»“ng thá»i khá»Ÿi Ä‘á»™ng container Ä‘Ã³
			- TÆ°Æ¡ng Ä‘Æ°Æ¡ng hai bÆ°á»›c:
			  docker create + docker start


			2.3. -d
			-------
			- Viáº¿t táº¯t cá»§a: detached mode
			- Cháº¡y container á»Ÿ cháº¿ Ä‘á»™ ná»n (background)
			- Terminal sáº½:
			  + KhÃ´ng bá»‹ chiáº¿m bá»Ÿi container
			  + Tráº£ láº¡i dáº¥u nháº¯c lá»‡nh ngay sau khi cháº¡y

			Náº¿u KHÃ”NG cÃ³ -d:
			- Log cá»§a container sáº½ hiá»ƒn thá»‹ trá»±c tiáº¿p trÃªn terminal


			2.4. --name nanowebsite
			----------------------
			- "--name" dÃ¹ng Ä‘á»ƒ Ä‘áº·t tÃªn cho container
			- TÃªn container: nanowebsite
			- Lá»£i Ã­ch:
			  + Dá»… quáº£n lÃ½ container
			  + Dá»… dÃ¹ng vá»›i cÃ¡c lá»‡nh:
				docker stop nanowebsite
				docker start nanowebsite
				docker logs nanowebsite
				docker rm nanowebsite

			Náº¿u khÃ´ng Ä‘áº·t tÃªn:
			- Docker sáº½ tá»± sinh tÃªn ngáº«u nhiÃªn


			2.5. -p 9080:80
			---------------
			- "-p" lÃ  viáº¿t táº¯t cá»§a: publish port
			- DÃ¹ng Ä‘á»ƒ Ã¡nh xáº¡ cá»•ng giá»¯a host vÃ  container

			CÃº phÃ¡p:
			  -p <HOST_PORT>:<CONTAINER_PORT>

			Trong lá»‡nh nÃ y:
			- 9080 : cá»•ng trÃªn mÃ¡y host (mÃ¡y tháº­t)
			- 80   : cá»•ng bÃªn trong container

			Ã nghÄ©a:
			- á»¨ng dá»¥ng web trong container láº¯ng nghe á»Ÿ cá»•ng 80
			- NgÆ°á»i dÃ¹ng truy cáº­p tá»« bÃªn ngoÃ i qua:
			  http://<IP_HOST>:9080
			- Docker chuyá»ƒn tiáº¿p request tá»« cá»•ng 9080 (host)
			  vÃ o cá»•ng 80 (container)


			2.6. nanoimg:V2
			---------------
			- ÄÃ¢y lÃ  tÃªn Docker image Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ táº¡o container

			PhÃ¢n tÃ­ch:
			- nanoimg : tÃªn image
			- V2      : tag (phiÃªn báº£n)

			Ã nghÄ©a:
			- Docker sáº½ tÃ¬m image "nanoimg" vá»›i tag "V2"
			- Náº¿u image chÆ°a tá»“n táº¡i trÃªn mÃ¡y:
			  + Docker sáº½ cá»‘ gáº¯ng pull tá»« Docker Registry
			  + Máº·c Ä‘á»‹nh lÃ  Docker Hub

			LÆ¯U Ã:
			- Image pháº£i tá»“n táº¡i thÃ¬ container má»›i cháº¡y Ä‘Æ°á»£c
			- CÃ³ thá»ƒ kiá»ƒm tra image báº±ng lá»‡nh:
			  docker images


			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			---------------------------------
			Khi cháº¡y:
			docker run -d --name nanowebsite -p 9080:80 nanoimg:V2

			Docker sáº½ thá»±c hiá»‡n:
			1. Kiá»ƒm tra image nanoimg:V2 cÃ³ tá»“n táº¡i khÃ´ng
			2. Náº¿u chÆ°a cÃ³:
			   - Táº£i image tá»« registry
			3. Táº¡o container má»›i
			4. Ãnh xáº¡ cá»•ng 9080 (host) -> 80 (container)
			5. Khá»Ÿi Ä‘á»™ng container
			6. Tráº£ vá» container ID


			4. Káº¾T QUáº¢ SAU KHI CHáº Y Lá»†NH
			---------------------------
			- Má»™t container tÃªn "nanowebsite" Ä‘ang cháº¡y
			- á»¨ng dá»¥ng web trong container hoáº¡t Ä‘á»™ng
			- CÃ³ thá»ƒ truy cáº­p web qua trÃ¬nh duyá»‡t:

			  http://localhost:9080
			  hoáº·c
			  http://<IP_MAY_CHU>:9080

			- Kiá»ƒm tra container Ä‘ang cháº¡y:
			  docker ps


			5. CÃC Lá»†NH QUáº¢N LÃ LIÃŠN QUAN
			----------------------------
			- Xem container Ä‘ang cháº¡y:
			  docker ps

			- Xem log container:
			  docker logs nanowebsite

			- Dá»«ng container:
			  docker stop nanowebsite

			- Cháº¡y láº¡i container:
			  docker start nanowebsite

			- XÃ³a container:
			  docker rm nanowebsite
			  (cáº§n stop trÆ°á»›c)


			6. Lá»–I THÆ¯á»œNG Gáº¶P
			-----------------
			- Lá»—i trÃ¹ng tÃªn container:
			  "Conflict. The container name is already in use"
			  => XÃ³a hoáº·c Ä‘á»•i tÃªn container cÅ©

			- Lá»—i cá»•ng 9080 Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng:
			  "Bind for 0.0.0.0:9080 failed"
			  => Chá»n cá»•ng khÃ¡c, vÃ­ dá»¥: 9090:80

			- Lá»—i khÃ´ng tÃ¬m tháº¥y image:
			  "Unable to find image nanoimg:V2"
			  => Kiá»ƒm tra láº¡i tÃªn image vÃ  tag


			7. TÃ“M Táº®T NGáº®N Gá»ŒN
			------------------
			docker run          : táº¡o vÃ  cháº¡y container
			-d                  : cháº¡y ná»n
			--name nanowebsite  : Ä‘áº·t tÃªn container
			-p 9080:80          : map cá»•ng host -> container
			nanoimg:V2          : image + version
					
		
		- cmd: docker build --no-cache -t nanoimg:V2 .
		
			Cháº¡y Ä‘á»ƒ trÃ¡nh nÃ³ cháº¡y vá»›i cache cÅ©
			
			Lá»†NH: docker build --no-cache -t nanoimg:V2 .
			====================================================================

			1. docker build lÃ  gÃ¬?
			--------------------------------------------------------------------
			- docker build dÃ¹ng Ä‘á»ƒ:
			  + Táº¡o (build) má»™t Docker image
			  + Dá»±a trÃªn file Dockerfile
			- QuÃ¡ trÃ¬nh build sáº½:
			  + Äá»c Dockerfile
			  + Thá»±c hiá»‡n tá»«ng instruction (FROM, RUN, COPY, â€¦)
			  + Táº¡o ra image hoÃ n chá»‰nh

			--------------------------------------------------------------------

			2. Giáº£i thÃ­ch tá»«ng thÃ nh pháº§n cá»§a lá»‡nh
			--------------------------------------------------------------------

			2.1. docker build
			--------------------------------------------------------------------
			- Lá»‡nh chÃ­nh Ä‘á»ƒ build image
			- Docker sáº½ tÃ¬m Dockerfile trong build context (thÆ° má»¥c chá»‰ Ä‘á»‹nh)

			--------------------------------------------------------------------

			2.2. --no-cache
			--------------------------------------------------------------------
			- Táº¯t hoÃ n toÃ n cÆ¡ cháº¿ cache cá»§a Docker
			- Docker sáº½:
			  + KHÃ”NG dÃ¹ng láº¡i layer cÅ©
			  + Thá»±c thi láº¡i Táº¤T Cáº¢ cÃ¡c bÆ°á»›c trong Dockerfile

			TÃ¡c dá»¥ng:
			- Äáº£m báº£o image Ä‘Æ°á»£c build má»›i 100%
			- DÃ¹ng khi:
			  + Muá»‘n cÃ i package má»›i nháº¥t
			  + Cache bá»‹ lá»—i
			  + Debug lá»—i build

			So sÃ¡nh:
			- CÃ³ --no-cache  â†’ build cháº­m hÆ¡n, nhÆ°ng sáº¡ch
			- KhÃ´ng cÃ³       â†’ build nhanh hÆ¡n, dÃ¹ng cache

			--------------------------------------------------------------------

			2.3. -t nanoimg:V2
			--------------------------------------------------------------------
			- -t = tag
			- Äáº·t tÃªn vÃ  version (tag) cho image

			Cáº¥u trÃºc:
			<image_name>:<tag>

			Trong lá»‡nh nÃ y:
			- image_name = nanoimg
			- tag        = V2

			Ã nghÄ©a:
			- Táº¡o image cÃ³ tÃªn: nanoimg
			- PhiÃªn báº£n: V2

			Náº¿u khÃ´ng cÃ³ tag:
			- Docker máº·c Ä‘á»‹nh dÃ¹ng tag: latest

			--------------------------------------------------------------------

			2.4. . (dáº¥u cháº¥m)
			--------------------------------------------------------------------
			- . = build context
			- Chá»‰ thÆ° má»¥c hiá»‡n táº¡i

			Docker sáº½:
			- Gá»­i toÃ n bá»™ ná»™i dung thÆ° má»¥c hiá»‡n táº¡i
			- (trá»« file Ä‘Æ°á»£c loáº¡i trong .dockerignore)
			- Cho Docker daemon Ä‘á»ƒ build image

			Quan trá»ng:
			- Dockerfile PHáº¢I náº±m trong thÆ° má»¥c nÃ y
			  hoáº·c Ä‘Æ°á»£c chá»‰ rÃµ báº±ng -f

			--------------------------------------------------------------------

			3. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			docker build --no-cache -t nanoimg:V2 .

			â†’ Build má»™t Docker image má»›i
			â†’ Dá»±a trÃªn Dockerfile trong thÆ° má»¥c hiá»‡n táº¡i
			â†’ KhÃ´ng dÃ¹ng cache á»Ÿ báº¥t ká»³ bÆ°á»›c nÃ o
			â†’ Äáº·t tÃªn image lÃ  nanoimg
			â†’ Gáº¯n tag version lÃ  V2

			--------------------------------------------------------------------

			4. Quy trÃ¬nh Docker thá»±c hiá»‡n
			--------------------------------------------------------------------
			1) Äá»c Dockerfile trong thÆ° má»¥c hiá»‡n táº¡i
			2) Bá» qua táº¥t cáº£ layer cache cÅ©
			3) Thá»±c thi tá»«ng instruction tá»« trÃªn xuá»‘ng
			4) Táº¡o layer má»›i cho má»—i bÆ°á»›c
			5) GhÃ©p cÃ¡c layer thÃ nh image nanoimg:V2

			--------------------------------------------------------------------

			5. VÃ­ dá»¥ Dockerfile liÃªn quan
			--------------------------------------------------------------------
			FROM ubuntu:22.04
			RUN apt update && apt install -y nano
			COPY app.sh /app.sh
			CMD ["bash"]

			â†’ Táº¥t cáº£ RUN, COPY Ä‘á»u Ä‘Æ°á»£c cháº¡y láº¡i do --no-cache

			--------------------------------------------------------------------

			6. Output thÆ°á»ng tháº¥y
			--------------------------------------------------------------------
			Sending build context to Docker daemon  12.34kB
			Step 1/4 : FROM ubuntu:22.04
			 ---> abc123
			Step 2/4 : RUN apt update && apt install -y nano
			 ---> def456
			Successfully built 789xyz
			Successfully tagged nanoimg:V2

			--------------------------------------------------------------------

			7. Kiá»ƒm tra image sau khi build
			--------------------------------------------------------------------
			docker images

			Káº¿t quáº£:
			REPOSITORY   TAG   IMAGE ID
			nanoimg      V2    789xyz

			--------------------------------------------------------------------

			8. TrÆ°á»ng há»£p nÃªn dÃ¹ng --no-cache
			--------------------------------------------------------------------
			- CÃ i package cáº§n báº£n má»›i nháº¥t
			- Thay Ä‘á»•i file cáº¥u hÃ¬nh nhÆ°ng Docker váº«n dÃ¹ng cache
			- Dockerfile bá»‹ lá»—i do layer cÅ©
			- Build production image sáº¡ch

			--------------------------------------------------------------------

			9. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) Cannot locate Dockerfile
			- KhÃ´ng cÃ³ Dockerfile trong thÆ° má»¥c hiá»‡n táº¡i

			2) Build context quÃ¡ lá»›n
			- QuÃªn táº¡o file .dockerignore

			3) Build cháº­m
			- Do --no-cache (bÃ¬nh thÆ°á»ng)

			--------------------------------------------------------------------

			10. So sÃ¡nh nhanh
			--------------------------------------------------------------------
			docker build -t nanoimg:V2 .        â†’ dÃ¹ng cache
			docker build --no-cache -t nanoimg:V2 . â†’ khÃ´ng dÃ¹ng cache

			--------------------------------------------------------------------

			11. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			docker build --no-cache -t nanoimg:V2 . =
			BUILD IMAGE DOCKER Má»šI HOÃ€N TOÃ€N, KHÃ”NG DÃ™NG CACHE, Tá»ª DOCKERFILE TRONG THÆ¯ Má»¤C HIá»†N Táº I
		
		
		
		- cmd: docker login
		
			# Lá»‡nh gá»‘c:
			docker login

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. docker
			# - Docker lÃ  ná»n táº£ng container hÃ³a dÃ¹ng Ä‘á»ƒ build, lÆ°u trá»¯ vÃ  cháº¡y container.
			# - Docker lÃ m viá»‡c vá»›i Docker Registry Ä‘á»ƒ lÆ°u trá»¯ vÃ  phÃ¢n phá»‘i image.

			# 2. login
			# - Lá»‡nh `docker login` dÃ¹ng Ä‘á»ƒ Ä‘Äƒng nháº­p vÃ o Docker Registry.
			# - Registry máº·c Ä‘á»‹nh lÃ  Docker Hub (https://hub.docker.com).
			# - Sau khi Ä‘Äƒng nháº­p thÃ nh cÃ´ng, báº¡n cÃ³ thá»ƒ:
			#   + Pull (táº£i) image private
			#   + Push (Ä‘áº©y) image cá»§a báº¡n lÃªn registry
			#   + LÃ m viá»‡c vá»›i cÃ¡c repository yÃªu cáº§u xÃ¡c thá»±c

			# 3. CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a docker login
			# - Khi cháº¡y lá»‡nh `docker login`, Docker sáº½:
			#   1. YÃªu cáº§u nháº­p Username.
			#   2. YÃªu cáº§u nháº­p Password hoáº·c Access Token.
			#   3. Gá»­i thÃ´ng tin xÃ¡c thá»±c tá»›i Docker Registry.
			#   4. LÆ°u thÃ´ng tin Ä‘Äƒng nháº­p vÃ o file cáº¥u hÃ¬nh local.

			# 4. NÆ¡i lÆ°u thÃ´ng tin Ä‘Äƒng nháº­p
			# - ThÃ´ng tin Ä‘Äƒng nháº­p Ä‘Æ°á»£c lÆ°u táº¡i:
			#   ~/.docker/config.json
			# - File nÃ y chá»©a token xÃ¡c thá»±c (Ä‘Ã£ Ä‘Æ°á»£c mÃ£ hÃ³a cÆ¡ báº£n).
			# - Docker sáº½ tá»± Ä‘á»™ng dÃ¹ng thÃ´ng tin nÃ y cho cÃ¡c lá»‡nh pull/push sau Ä‘Ã³.

			# 5. VÃ­ dá»¥ minh há»a:
			# docker login
			# Username: your_username
			# Password: ********
			# Login Succeeded

			# 6. ÄÄƒng nháº­p registry khÃ¡c Docker Hub:
			# - CÃ³ thá»ƒ chá»‰ Ä‘á»‹nh registry cá»¥ thá»ƒ:
			#   docker login myregistry.example.com
			# - ThÆ°á»ng dÃ¹ng vá»›i:
			#   + Private registry
			#   + AWS ECR
			#   + Google Container Registry
			#   + Azure Container Registry

			# 7. ÄÄƒng xuáº¥t khá»i Docker Registry:
			# - docker logout
			# - Lá»‡nh nÃ y sáº½ xÃ³a thÃ´ng tin Ä‘Äƒng nháº­p Ä‘Ã£ lÆ°u trÃªn mÃ¡y.

			# 8. LÆ°u Ã½ báº£o máº­t:
			# - KhÃ´ng chia sáº» username, password hoáº·c access token.
			# - NÃªn dÃ¹ng Access Token thay cho password Docker Hub.
			# - TrÃªn server dÃ¹ng chung, cáº§n cáº©n tháº­n khi login báº±ng user root.

			# Káº¿t luáº­n:
			# Lá»‡nh `docker login` dÃ¹ng Ä‘á»ƒ xÃ¡c thá»±c ngÆ°á»i dÃ¹ng vá»›i Docker Registry,
			# lÃ  bÆ°á»›c báº¯t buá»™c trÆ°á»›c khi push image hoáº·c pull image private.
		
		
		- cmd: docker build -t ngoctuan99/nanoimg:V2 .
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			docker build -t ngoctuan99/nanoimg:V2 .
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ build (xÃ¢y dá»±ng) má»™t Docker image má»›i
			tá»« Dockerfile náº±m trong thÆ° má»¥c hiá»‡n táº¡i.

			- Image Ä‘Æ°á»£c Ä‘áº·t tÃªn Ä‘áº§y Ä‘á»§: ngoctuan99/nanoimg:V2
			- DÃ¹ng Ä‘á»ƒ:
			  + Táº¡o image custom
			  + Chuáº©n bá»‹ image Ä‘á»ƒ run container
			  + Push image lÃªn Docker Hub hoáº·c registry khÃ¡c

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. docker
			--------------------------------------------------
			- Docker CLI quáº£n lÃ½ image, container, volume, network

			2.2. build
			--------------------------------------------------
			- Subcommand Ä‘á»ƒ build Docker image
			- Docker sáº½ Ä‘á»c Dockerfile vÃ  context Ä‘á»ƒ táº¡o image

			2.3. -t
			--------------------------------------------------
			- Tag image
			- DÃ¹ng Ä‘á»ƒ Ä‘áº·t:
			  + Repository name
			  + Tag (version)

			--------------------------------------------------
			2.4. ngoctuan99/nanoimg:V2
			--------------------------------------------------
			- TÃªn image Ä‘áº§y Ä‘á»§ theo chuáº©n:
			--------------------------------------------------
			<username>/<image_name>:<tag>

			- ngoctuan99
			  + Docker Hub username hoáº·c namespace registry
			- nanoimg
			  + TÃªn image
			- V2
			  + Tag (phiÃªn báº£n image)
			  + GiÃºp quáº£n lÃ½ version (V1, V2, latestâ€¦)

			--------------------------------------------------
			2.5. .
			--------------------------------------------------
			- Build context
			- Dáº¥u cháº¥m (.) Ä‘áº¡i diá»‡n cho thÆ° má»¥c hiá»‡n táº¡i
			- Docker sáº½ gá»­i toÃ n bá»™ ná»™i dung thÆ° má»¥c nÃ y
			  (trá»« file trong .dockerignore) cho Docker daemon

			--------------------------------------------------
			3. DOCKERFILE HOáº T Äá»˜NG RA SAO?
			--------------------------------------------------
			- Docker tÃ¬m file tÃªn lÃ  `Dockerfile` trong thÆ° má»¥c hiá»‡n táº¡i
			- Dockerfile chá»©a cÃ¡c instruction:
			  + FROM
			  + RUN
			  + COPY / ADD
			  + EXPOSE
			  + CMD / ENTRYPOINT
			- Má»—i instruction táº¡o ra má»™t image layer

			--------------------------------------------------
			4. QUÃ TRÃŒNH DIá»„N RA KHI BUILD
			--------------------------------------------------
			1. Docker Ä‘á»c Dockerfile
			2. Gá»­i build context cho Docker daemon
			3. Thá»±c thi tá»«ng instruction trong Dockerfile
			4. Táº¡o cÃ¡c layer vÃ  cache láº¡i
			5. GÃ¡n tag cho image sau khi build xong

			--------------------------------------------------
			5. KIá»‚M TRA SAU KHI BUILD
			--------------------------------------------------
			- Xem image vá»«a build:
			--------------------------------------------------
			docker images | grep nanoimg

			- Kiá»ƒm tra chi tiáº¿t image:
			--------------------------------------------------
			docker inspect ngoctuan99/nanoimg:V2

			--------------------------------------------------
			6. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Dockerfile PHáº¢I náº±m trong thÆ° má»¥c hiá»‡n táº¡i
			- Context lá»›n â†’ build cháº­m
			- NÃªn dÃ¹ng .dockerignore Ä‘á»ƒ loáº¡i file khÃ´ng cáº§n thiáº¿t
			- Tag nÃªn Ä‘áº·t rÃµ rÃ ng theo version

			--------------------------------------------------
			7. VÃ Dá»¤ THá»°C Táº¾
			--------------------------------------------------
			- Cháº¡y container tá»« image vá»«a build:
			--------------------------------------------------
			docker run -d -p 9080:80 ngoctuan99/nanoimg:V2

			--------------------------------------------------
			8. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- Build image cho á»©ng dá»¥ng
			- Version hÃ³a image
			- Chuáº©n bá»‹ image cho CI/CD
			- Chia sáº» image qua registry

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			docker build -t ngoctuan99/nanoimg:V2 .
			= Build image tá»« Dockerfile trong thÆ° má»¥c hiá»‡n táº¡i
			= Äáº·t tÃªn image: ngoctuan99/nanoimg
			= Gáº¯n tag phiÃªn báº£n: V2
			= DÃ¹ng build context lÃ  thÆ° má»¥c hiá»‡n táº¡i
			==================================================
			
		
		- cmd: docker push ngoctuan99/nanoimg:V2
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			docker push ngoctuan99/nanoimg:V2

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Äáº©y (upload) má»™t Docker image tá»« local lÃªn Docker Registry
			- Registry thÆ°á»ng lÃ  Docker Hub
			- Image Ä‘Æ°á»£c Ä‘áº©y cÃ³ tÃªn: ngoctuan99/nanoimg vá»›i tag V2
			- DÃ¹ng Ä‘á»ƒ chia sáº» image hoáº·c deploy trÃªn server khÃ¡c

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. docker
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh quáº£n lÃ½ Docker
			- Quáº£n lÃ½ image, container, registry

			2.2. push
			--------------------------------------------------
			- Subcommand dÃ¹ng Ä‘á»ƒ upload image
			- Äáº©y tá»«ng layer cá»§a image lÃªn registry

			2.3. ngoctuan99/nanoimg:V2
			--------------------------------------------------
			- TÃªn Ä‘áº§y Ä‘á»§ cá»§a image trÃªn registry
			- Cáº¥u trÃºc:
			  <username>/<repository>:<tag>
			- ngoctuan99     : username trÃªn Docker Hub
			- nanoimg        : repository (tÃªn image)
			- V2             : tag (phiÃªn báº£n)

			--------------------------------------------------
			3. ÄIá»€U KIá»†N TRÆ¯á»šC KHI PUSH
			--------------------------------------------------
			TrÆ°á»›c khi cháº¡y lá»‡nh nÃ y, cáº§n Ä‘áº£m báº£o:

			1. ÄÃ£ login Docker:
			docker login

			2. Image tá»“n táº¡i trÃªn local:
			docker images | grep nanoimg

			3. Image Ä‘Æ°á»£c tag Ä‘Ãºng tÃªn registry:
			docker tag nanoimg:V2 ngoctuan99/nanoimg:V2

			--------------------------------------------------
			4. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Docker kiá»ƒm tra thÃ´ng tin Ä‘Äƒng nháº­p
			2. Kiá»ƒm tra repository `ngoctuan99/nanoimg` trÃªn Docker Hub
			3. Upload tá»«ng layer chÆ°a tá»“n táº¡i trÃªn registry
			4. Layer trÃ¹ng sáº½ Ä‘Æ°á»£c skip
			5. HoÃ n táº¥t push image vá»›i tag V2

			--------------------------------------------------
			5. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥ khi push:

			The push refers to repository [docker.io/ngoctuan99/nanoimg]
			a1b2c3d4e5f6: Pushed
			b7c8d9e0f1a2: Pushed
			V2: digest: sha256:abcdef123456 size: 1234

			Giáº£i thÃ­ch:
			- Má»—i dÃ²ng lÃ  má»™t layer Ä‘Æ°á»£c upload
			- digest: mÃ£ hash Ä‘áº¡i diá»‡n image trÃªn registry

			--------------------------------------------------
			6. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- Pull image tá»« registry:
			docker pull ngoctuan99/nanoimg:V2

			- Push tag khÃ¡c:
			docker push ngoctuan99/nanoimg:latest

			- Kiá»ƒm tra image local:
			docker images

			--------------------------------------------------
			7. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Chia sáº» image cho team
			- Deploy á»©ng dá»¥ng lÃªn server khÃ¡c
			- DÃ¹ng trong CI/CD pipeline
			- LÆ°u trá»¯ version image an toÃ n

			--------------------------------------------------
			8. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			8.1. denied: requested access to the resource is denied
			--------------------------------------------------
			- ChÆ°a login hoáº·c khÃ´ng cÃ³ quyá»n repo
			- Giáº£i phÃ¡p:
			docker login

			8.2. tag does not exist
			--------------------------------------------------
			- Image chÆ°a Ä‘Æ°á»£c tag Ä‘Ãºng
			- Kiá»ƒm tra:
			docker images

			--------------------------------------------------
			9. Cáº¢NH BÃO
			--------------------------------------------------
			- KhÃ´ng push image chá»©a secret (password, key)
			- Repository public â†’ ai cÅ©ng pull Ä‘Æ°á»£c
			- Vá»›i private repo cÃ³ thá»ƒ phÃ¡t sinh chi phÃ­

			--------------------------------------------------
			10. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			docker push ngoctuan99/nanoimg:V2

			= Äáº©y Docker image lÃªn Docker Hub
			= YÃªu cáº§u login trÆ°á»›c
			= Upload theo tá»«ng layer
			= DÃ¹ng Ä‘á»ƒ chia sáº» vÃ  deploy
			= PhÃ¹ há»£p CI/CD, production
		
		
		- cmd: ubuntu@ip-172-31-35-202:~/EntryCMD$ docker build -t printer:v1 -f cmd/Dockerfile .
		
			Lá»†NH: docker build -t printer:v1 -f cmd/Dockerfile .
			=================================================

			1. NGá»® Cáº¢NH DÃ’NG Lá»†NH (PROMPT)
			------------------------------
			ubuntu@ip-172-31-35-202:~/EntryCMD$

			Giáº£i thÃ­ch:
			- ubuntu           : tÃªn user Ä‘ang Ä‘Äƒng nháº­p
			- ip-172-31-35-202  : hostname cá»§a mÃ¡y (thÆ°á»ng lÃ  EC2 hoáº·c server ná»™i bá»™)
			- ~/EntryCMD       : thÆ° má»¥c hiá»‡n táº¡i Ä‘ang Ä‘á»©ng
			- $                : dáº¥u nháº¯c lá»‡nh cá»§a user thÆ°á»ng (khÃ´ng pháº£i root)

			=> Lá»‡nh Ä‘Æ°á»£c cháº¡y trong thÆ° má»¥c:
			   /home/ubuntu/EntryCMD


			2. Má»¤C ÄÃCH Cá»¦A Lá»†NH
			-------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Build (xÃ¢y dá»±ng) má»™t Docker image má»›i
			- Image Ä‘Æ°á»£c Ä‘áº·t tÃªn lÃ  "printer"
			- Gáº¯n tag (phiÃªn báº£n) lÃ  "v1"
			- Sá»­ dá»¥ng Dockerfile náº±m trong thÆ° má»¥c con "cmd/"
			- Láº¥y toÃ n bá»™ thÆ° má»¥c hiá»‡n táº¡i lÃ m build context


			3. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
			------------------------------------

			3.1. docker
			-----------
			- Docker lÃ  ná»n táº£ng container hÃ³a
			- DÃ¹ng Ä‘á»ƒ build image vÃ  cháº¡y container


			3.2. build
			----------
			- Lá»‡nh "build" dÃ¹ng Ä‘á»ƒ:
			  + Táº¡o Docker image tá»« Dockerfile
			- Docker sáº½:
			  + Äá»c tá»«ng instruction trong Dockerfile
			  + Thá»±c thi theo thá»© tá»± tá»« trÃªn xuá»‘ng


			3.3. -t printer:v1
			------------------
			- "-t" lÃ  viáº¿t táº¯t cá»§a: tag
			- DÃ¹ng Ä‘á»ƒ Ä‘áº·t tÃªn vÃ  phiÃªn báº£n cho image

			CÃº phÃ¡p:
			  -t <IMAGE_NAME>:<TAG>

			Trong lá»‡nh nÃ y:
			- printer : tÃªn image
			- v1      : tag (phiÃªn báº£n)

			Ã nghÄ©a:
			- Sau khi build xong, image sáº½ cÃ³ tÃªn Ä‘áº§y Ä‘á»§:
			  printer:v1

			Lá»£i Ã­ch:
			- Dá»… quáº£n lÃ½ nhiá»u version image
			- Dá»… rollback hoáº·c deploy


			3.4. -f cmd/Dockerfile
			----------------------
			- "-f" dÃ¹ng Ä‘á»ƒ chá»‰ Ä‘á»‹nh Ä‘Æ°á»ng dáº«n Dockerfile

			Trong trÆ°á»ng há»£p nÃ y:
			- Dockerfile KHÃ”NG náº±m á»Ÿ thÆ° má»¥c hiá»‡n táº¡i
			- Dockerfile náº±m táº¡i:
			  cmd/Dockerfile

			=> Docker sáº½ Ä‘á»c file:
			   /home/ubuntu/EntryCMD/cmd/Dockerfile


			3.5. .  (BUILD CONTEXT)
			-----------------------
			- Dáº¥u "." Ä‘áº¡i diá»‡n cho thÆ° má»¥c hiá»‡n táº¡i
			- ThÆ° má»¥c hiá»‡n táº¡i Ä‘Æ°á»£c dÃ¹ng lÃ m:
			  BUILD CONTEXT

			BUILD CONTEXT lÃ  gÃ¬?
			- LÃ  táº­p há»£p file/thÆ° má»¥c Docker cÃ³ thá»ƒ truy cáº­p khi build
			- CÃ¡c lá»‡nh nhÆ°:
			  COPY
			  ADD
			  chá»‰ cÃ³ thá»ƒ láº¥y file trong build context

			Trong trÆ°á»ng há»£p nÃ y:
			- Build context lÃ :
			  /home/ubuntu/EntryCMD

			VÃ­ dá»¥:
			- COPY app.py /app/
			- COPY cmd/script.sh /usr/local/bin/


			4. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			---------------------------------
			Khi cháº¡y:
			docker build -t printer:v1 -f cmd/Dockerfile .

			Docker sáº½:
			1. NÃ©n toÃ n bá»™ build context (thÆ° má»¥c EntryCMD)
			2. Gá»­i build context cho Docker daemon
			3. Äá»c Dockerfile táº¡i cmd/Dockerfile
			4. Thá»±c thi tá»«ng instruction:
			   FROM
			   RUN
			   COPY / ADD
			   WORKDIR
			   CMD / ENTRYPOINT
			5. Táº¡o image cuá»‘i cÃ¹ng tÃªn printer:v1
			6. LÆ°u image vÃ o local image cache


			5. Káº¾T QUáº¢ SAU KHI BUILD XONG
			----------------------------
			- Image "printer:v1" tá»“n táº¡i trÃªn mÃ¡y
			- Kiá»ƒm tra báº±ng lá»‡nh:
			  docker images

			VÃ­ dá»¥ output:
			  REPOSITORY   TAG   IMAGE ID     CREATED        SIZE
			  printer      v1    xxxxxxxx     vÃ i giÃ¢y trÆ°á»›c  xxxMB


			6. CÃC Lá»†NH LIÃŠN QUAN THÆ¯á»œNG DÃ™NG
			--------------------------------
			- Xem danh sÃ¡ch image:
			  docker images

			- Cháº¡y container tá»« image:
			  docker run printer:v1

			- XÃ³a image:
			  docker rmi printer:v1

			- Build láº¡i khÃ´ng dÃ¹ng cache:
			  docker build --no-cache -t printer:v1 -f cmd/Dockerfile .


			7. Lá»–I THÆ¯á»œNG Gáº¶P
			-----------------
			- Sai Ä‘Æ°á»ng dáº«n Dockerfile:
			  => lá»—i: cannot locate Dockerfile
			  => kiá»ƒm tra láº¡i cmd/Dockerfile

			- COPY file khÃ´ng tá»“n táº¡i:
			  => file pháº£i náº±m trong build context (EntryCMD)

			- Build context quÃ¡ lá»›n:
			  => nÃªn dÃ¹ng file .dockerignore


			8. TÃ“M Táº®T NGáº®N Gá»ŒN
			------------------
			docker build                 : build Docker image
			-t printer:v1                : Ä‘áº·t tÃªn + version image
			-f cmd/Dockerfile            : chá»‰ Ä‘á»‹nh Dockerfile
			.                            : thÆ° má»¥c hiá»‡n táº¡i lÃ m build context
		
		
		- cmd: docker build -t printer:v2 entry/
		
			Lá»†NH: docker build -t printer:v2 entry/
			====================================================================

			1. docker build lÃ  gÃ¬?
			--------------------------------------------------------------------
			- docker build lÃ  lá»‡nh dÃ¹ng Ä‘á»ƒ:
			  + Táº¡o (build) Docker image
			  + Dá»±a trÃªn Dockerfile
			- Docker sáº½ Ä‘á»c Dockerfile vÃ  thá»±c thi tá»«ng instruction
			  Ä‘á»ƒ táº¡o ra má»™t image hoÃ n chá»‰nh

			--------------------------------------------------------------------

			2. Giáº£i thÃ­ch tá»«ng thÃ nh pháº§n cá»§a lá»‡nh
			--------------------------------------------------------------------

			2.1. docker build
			--------------------------------------------------------------------
			- Lá»‡nh chÃ­nh Ä‘á»ƒ build image
			- Docker daemon sáº½ thá»±c hiá»‡n quÃ¡ trÃ¬nh build

			--------------------------------------------------------------------

			2.2. -t printer:v2
			--------------------------------------------------------------------
			- -t = tag (Ä‘áº·t tÃªn vÃ  version cho image)

			Cáº¥u trÃºc:
			<image_name>:<tag>

			Trong lá»‡nh nÃ y:
			- image_name = printer
			- tag        = v2

			Ã nghÄ©a:
			- Image cÃ³ tÃªn: printer
			- PhiÃªn báº£n: v2

			Náº¿u khÃ´ng chá»‰ rÃµ tag:
			- Docker máº·c Ä‘á»‹nh dÃ¹ng tag: latest

			--------------------------------------------------------------------

			2.3. entry/
			--------------------------------------------------------------------
			- entry/ lÃ  build context
			- LÃ  thÆ° má»¥c Ä‘Æ°á»£c gá»­i cho Docker daemon

			Docker sáº½:
			- TÃ¬m Dockerfile trong thÆ° má»¥c entry/
			- Gá»­i toÃ n bá»™ ná»™i dung entry/ (trá»« file trong .dockerignore)
			- DÃ¹ng cÃ¡c file trong thÆ° má»¥c nÃ y Ä‘á»ƒ build image

			YÃŠU Cáº¦U:
			- entry/ pháº£i chá»©a file Dockerfile
			  (tÃªn Ä‘Ãºng lÃ : Dockerfile)

			--------------------------------------------------------------------

			3. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			docker build -t printer:v2 entry/

			â†’ Build má»™t Docker image má»›i
			â†’ Tá»« Dockerfile náº±m trong thÆ° má»¥c entry/
			â†’ Äáº·t tÃªn image lÃ  printer
			â†’ Gáº¯n tag phiÃªn báº£n v2

			--------------------------------------------------------------------

			4. Quy trÃ¬nh Docker thá»±c hiá»‡n
			--------------------------------------------------------------------
			1) Docker client gá»­i thÆ° má»¥c entry/ lÃ m build context
			2) Docker daemon tÃ¬m Dockerfile trong entry/
			3) Thá»±c thi tá»«ng instruction trong Dockerfile
			4) Táº¡o cÃ¡c layer tÆ°Æ¡ng á»©ng
			5) GhÃ©p cÃ¡c layer thÃ nh image printer:v2

			--------------------------------------------------------------------

			5. VÃ­ dá»¥ cáº¥u trÃºc thÆ° má»¥c entry/
			--------------------------------------------------------------------
			entry/
			â”œâ”€â”€ Dockerfile
			â”œâ”€â”€ app.py
			â”œâ”€â”€ requirements.txt
			â””â”€â”€ config.yaml

			Dockerfile cÃ³ thá»ƒ dÃ¹ng:
			--------------------------------------------------------------------
			FROM python:3.10
			WORKDIR /app
			COPY . .
			RUN pip install -r requirements.txt
			CMD ["python", "app.py"]

			--------------------------------------------------------------------

			6. Output thÆ°á»ng tháº¥y
			--------------------------------------------------------------------
			Sending build context to Docker daemon  45.12kB
			Step 1/5 : FROM python:3.10
			 ---> 123abc
			Step 2/5 : WORKDIR /app
			 ---> 456def
			...
			Successfully built 789xyz
			Successfully tagged printer:v2

			--------------------------------------------------------------------

			7. Kiá»ƒm tra image sau khi build
			--------------------------------------------------------------------
			docker images

			Káº¿t quáº£:
			REPOSITORY   TAG   IMAGE ID
			printer      v2    789xyz

			--------------------------------------------------------------------

			8. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) Cannot locate Dockerfile
			- KhÃ´ng cÃ³ Dockerfile trong thÆ° má»¥c entry/

			2) COPY failed
			- File khÃ´ng tá»“n táº¡i trong build context

			3) Permission denied
			- File trong entry/ khÃ´ng cÃ³ quyá»n Ä‘á»c

			--------------------------------------------------------------------

			9. Khi nÃ o dÃ¹ng lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- Build version má»›i (v2) cá»§a image
			- Khi source code náº±m trong thÆ° má»¥c riÃªng
			- Khi muá»‘n quáº£n lÃ½ nhiá»u version image

			--------------------------------------------------------------------

			10. So sÃ¡nh nhanh
			--------------------------------------------------------------------
			docker build -t printer:v2 .        â†’ build tá»« thÆ° má»¥c hiá»‡n táº¡i
			docker build -t printer:v2 entry/   â†’ build tá»« thÆ° má»¥c entry/

			--------------------------------------------------------------------

			11. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			docker build -t printer:v2 entry/ =
			BUILD IMAGE DOCKER TÃŠN printer, VERSION v2, Tá»ª DOCKERFILE TRONG THÆ¯ Má»¤C entry/
		
		
		- cmd: docker-compose up
		
			# Lá»‡nh gá»‘c:
			docker-compose up

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. docker-compose
			# - docker-compose lÃ  cÃ´ng cá»¥ dÃ¹ng Ä‘á»ƒ Ä‘á»‹nh nghÄ©a vÃ  cháº¡y nhiá»u container Docker cÃ¹ng lÃºc.
			# - Cáº¥u hÃ¬nh Ä‘Æ°á»£c khai bÃ¡o trong file docker-compose.yml.
			# - ThÆ°á»ng dÃ¹ng cho cÃ¡c á»©ng dá»¥ng nhiá»u service (web, db, cache, message queue...).

			# 2. up
			# - Lá»‡nh `up` dÃ¹ng Ä‘á»ƒ:
			#   + Táº¡o (create) container
			#   + Khá»Ÿi Ä‘á»™ng (start) container
			#   + Cháº¡y (run) cÃ¡c service Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong docker-compose.yml
			# - Náº¿u container chÆ°a tá»“n táº¡i, Docker Compose sáº½ táº¡o má»›i.
			# - Náº¿u container Ä‘Ã£ tá»“n táº¡i nhÆ°ng Ä‘ang dá»«ng, Docker Compose sáº½ khá»Ÿi Ä‘á»™ng láº¡i.

			# 3. File docker-compose.yml
			# - docker-compose up máº·c Ä‘á»‹nh sáº½ tÃ¬m file:
			#   docker-compose.yml
			#   hoáº·c
			#   docker-compose.yaml
			# - File nÃ y mÃ´ táº£:
			#   + CÃ¡c service (container)
			#   + Image hoáº·c Dockerfile
			#   + Port mapping
			#   + Volume
			#   + Network
			#   + Biáº¿n mÃ´i trÆ°á»ng (environment variables)

			# 4. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Khi cháº¡y `docker-compose up`, Docker Compose sáº½:
			#   1. Äá»c file docker-compose.yml.
			#   2. Táº¡o network máº·c Ä‘á»‹nh cho project (náº¿u chÆ°a cÃ³).
			#   3. Táº¡o volume (náº¿u Ä‘Æ°á»£c khai bÃ¡o).
			#   4. Pull image cáº§n thiáº¿t (náº¿u image chÆ°a tá»“n táº¡i).
			#   5. Build image (náº¿u dÃ¹ng build).
			#   6. Táº¡o vÃ  khá»Ÿi cháº¡y táº¥t cáº£ container theo Ä‘Ãºng thá»© tá»± phá»¥ thuá»™c.
			#   7. Hiá»ƒn thá»‹ log cá»§a cÃ¡c container ra terminal.

			# 5. Cháº¿ Ä‘á»™ cháº¡y máº·c Ä‘á»‹nh
			# - KhÃ´ng cÃ³ -d:
			#   + Cháº¡y foreground (chiáº¿m terminal).
			#   + Hiá»ƒn thá»‹ log realtime.
			#   + Nháº¥n Ctrl + C Ä‘á»ƒ dá»«ng toÃ n bá»™ container.
			# - CÃ³ -d (detached):
			#   docker-compose up -d
			#   + Cháº¡y container á»Ÿ cháº¿ Ä‘á»™ ná»n.

			# 6. VÃ­ dá»¥ docker-compose.yml Ä‘Æ¡n giáº£n:
			# version: "3"
			# services:
			#   web:
			#     image: nginx
			#     ports:
			#       - "8080:80"
			#   db:
			#     image: mysql:5.7
			#     environment:
			#       MYSQL_ROOT_PASSWORD: root

			# 7. CÃ¡c lá»‡nh docker-compose thÆ°á»ng dÃ¹ng liÃªn quan:
			# - docker-compose ps
			#   + Xem tráº¡ng thÃ¡i container.
			# - docker-compose logs
			#   + Xem log cÃ¡c service.
			# - docker-compose stop
			#   + Dá»«ng container.
			# - docker-compose down
			#   + Dá»«ng vÃ  xÃ³a container, network (khÃ´ng xÃ³a volume náº¿u khÃ´ng chá»‰ Ä‘á»‹nh).

			# 8. LÆ°u Ã½ quan trá»ng:
			# - docker-compose up KHÃ”NG xÃ³a container cÅ© trá»« khi cÃ³ thay Ä‘á»•i cáº¥u hÃ¬nh.
			# - Dá»¯ liá»‡u trong volume váº«n Ä‘Æ°á»£c giá»¯ nguyÃªn.
			# - TÃªn container sáº½ cÃ³ dáº¡ng:
			#   <project>_<service>_<number>

			# Káº¿t luáº­n:
			# Lá»‡nh `docker-compose up` dÃ¹ng Ä‘á»ƒ khá»Ÿi cháº¡y toÃ n bá»™ há»‡ thá»‘ng container
			# Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong file docker-compose.yml má»™t cÃ¡ch tá»± Ä‘á»™ng vÃ  Ä‘á»“ng bá»™.
		
		
		- cmd: curl http://localhost:8000
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			curl http://localhost:8000
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ gá»­i má»™t HTTP request tá»« mÃ¡y local
			Ä‘áº¿n má»™t service/web server Ä‘ang cháº¡y trÃªn chÃ­nh mÃ¡y Ä‘Ã³
			(host local) táº¡i cá»•ng 8000.

			- `curl` lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ gá»­i request HTTP/HTTPS
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ:
			  + Test web service
			  + Kiá»ƒm tra API
			  + Debug á»©ng dá»¥ng web
			  + Kiá»ƒm tra container/service Ä‘ang cháº¡y hay khÃ´ng

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. curl
			--------------------------------------------------
			- Viáº¿t táº¯t cá»§a: Client URL
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh máº¡nh Ä‘á»ƒ:
			  + Gá»­i HTTP/HTTPS request
			  + Gá»­i GET, POST, PUT, DELETE
			  + Test REST API
			- Máº·c Ä‘á»‹nh gá»­i HTTP GET request

			2.2. http://
			--------------------------------------------------
			- Giao thá»©c HTTP (HyperText Transfer Protocol)
			- KhÃ´ng mÃ£ hÃ³a dá»¯ liá»‡u (khÃ¡c vá»›i https)

			2.3. localhost
			--------------------------------------------------
			- TÃªn host Ä‘áº¡i diá»‡n cho mÃ¡y hiá»‡n táº¡i
			- TÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i Ä‘á»‹a chá»‰ IP:
			--------------------------------------------------
			127.0.0.1

			- Request KHÃ”NG Ä‘i ra máº¡ng ngoÃ i
			- DÃ¹ng Ä‘á»ƒ test service cháº¡y trÃªn chÃ­nh mÃ¡y Ä‘Ã³

			2.4. :8000
			--------------------------------------------------
			- Port mÃ  service/web server Ä‘ang láº¯ng nghe
			- VÃ­ dá»¥:
			  + Python app
			  + NodeJS app
			  + Container map port
			  + Simple HTTP server

			--------------------------------------------------
			3. REQUEST Máº¶C Äá»ŠNH Cá»¦A curl
			--------------------------------------------------
			- HTTP Method: GET
			- Header máº·c Ä‘á»‹nh:
			--------------------------------------------------
			GET / HTTP/1.1
			Host: localhost:8000

			--------------------------------------------------
			4. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			--------------------------------------------------
			1. curl táº¡o HTTP GET request
			2. Gá»­i request tá»›i localhost port 8000
			3. Web server nháº­n request
			4. Server tráº£ vá» HTTP response
			5. curl in response body ra terminal

			--------------------------------------------------
			5. Káº¾T QUáº¢ Äáº¦U RA (VÃ Dá»¤)
			--------------------------------------------------
			- Náº¿u server tráº£ HTML:
			--------------------------------------------------
			<html>
			  <body>Hello World</body>
			</html>

			- Náº¿u server tráº£ text:
			--------------------------------------------------
			Hello from server

			--------------------------------------------------
			6. KIá»‚M TRA Náº¾U KHÃ”NG Káº¾T Ná»I ÄÆ¯á»¢C
			--------------------------------------------------
			- Lá»—i thÆ°á»ng gáº·p:
			--------------------------------------------------
			curl: (7) Failed to connect to localhost port 8000

			- NguyÃªn nhÃ¢n:
			  + Service chÆ°a cháº¡y
			  + Cháº¡y sai port
			  + Firewall cháº·n
			  + Container chÆ°a map port

			--------------------------------------------------
			7. CÃC BIáº¾N THá»‚ HAY DÃ™NG
			--------------------------------------------------
			- Xem cáº£ header HTTP:
			--------------------------------------------------
			curl -i http://localhost:8000

			- Chá»‰ kiá»ƒm tra server cÃ³ tráº£ lá»i khÃ´ng:
			--------------------------------------------------
			curl -I http://localhost:8000

			- Gá»­i request chi tiáº¿t (debug):
			--------------------------------------------------
			curl -v http://localhost:8000

			--------------------------------------------------
			8. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- Test nhanh web service
			- Debug API local
			- Kiá»ƒm tra container/web app
			- XÃ¡c nháº­n port Ä‘ang hoáº¡t Ä‘á»™ng

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			curl http://localhost:8000
			= Gá»­i HTTP GET request tá»›i service local
			= Truy cáº­p web server cháº¡y trÃªn port 8000
			= In ná»™i dung response ra terminal
			= CÃ´ng cá»¥ test web/API ráº¥t phá»• biáº¿n
			==================================================
		
		
		- cmd: docker compose up -d
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			docker compose up -d

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Khá»Ÿi táº¡o vÃ  cháº¡y toÃ n bá»™ cÃ¡c service Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong file docker-compose.yml
			- Tá»± Ä‘á»™ng táº¡o network, volume, container náº¿u chÆ°a tá»“n táº¡i
			- Cháº¡y cÃ¡c container á»Ÿ cháº¿ Ä‘á»™ background (detached)
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ khá»Ÿi Ä‘á»™ng á»©ng dá»¥ng multi-container (web + db + cache, v.v.)

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. docker
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh chÃ­nh cá»§a Docker
			- Tá»« Docker v2 trá»Ÿ lÃªn, `compose` Ä‘Æ°á»£c tÃ­ch há»£p trá»±c tiáº¿p (khÃ´ng cáº§n docker-compose riÃªng)

			2.2. compose
			--------------------------------------------------
			- Subcommand quáº£n lÃ½ Docker Compose
			- DÃ¹ng Ä‘á»ƒ lÃ m viá»‡c vá»›i cÃ¡c á»©ng dá»¥ng nhiá»u container

			2.3. up
			--------------------------------------------------
			- Táº¡o vÃ  khá»Ÿi Ä‘á»™ng service
			- Bao gá»“m cÃ¡c bÆ°á»›c:
			  + Build image (náº¿u cáº§n)
			  + Create network
			  + Create volume
			  + Create container
			  + Start container

			2.4. -d
			--------------------------------------------------
			- Viáº¿t táº¯t cá»§a `--detach`
			- Cháº¡y container á»Ÿ cháº¿ Ä‘á»™ ná»n
			- KhÃ´ng chiáº¿m terminal

			--------------------------------------------------
			3. ÄIá»€U KIá»†N TRÆ¯á»šC KHI CHáº Y
			--------------------------------------------------
			- CÃ³ file docker-compose.yml trong thÆ° má»¥c hiá»‡n táº¡i
			- Docker daemon Ä‘ang cháº¡y
			- CÃ¡c port, volume khÃ´ng bá»‹ xung Ä‘á»™t

			--------------------------------------------------
			4. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Docker Ä‘á»c file docker-compose.yml
			2. PhÃ¢n tÃ­ch cÃ¡c service, network, volume
			3. Build image (náº¿u cÃ³ build:)
			4. Pull image (náº¿u image chÆ°a tá»“n táº¡i)
			5. Táº¡o network máº·c Ä‘á»‹nh cho compose
			6. Táº¡o volume (náº¿u khai bÃ¡o)
			7. Táº¡o vÃ  start container
			8. Container cháº¡y á»Ÿ background

			--------------------------------------------------
			5. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥ khi cháº¡y:

			[+] Running 3/3
			 âœ” Network app_default     Created
			 âœ” Container app-db-1      Started
			 âœ” Container app-web-1     Started

			- Terminal tráº£ láº¡i prompt ngay láº­p tá»©c
			- Container Ä‘ang cháº¡y á»Ÿ cháº¿ Ä‘á»™ ná»n

			--------------------------------------------------
			6. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- Xem tráº¡ng thÃ¡i service:
			docker compose ps

			- Xem log:
			docker compose logs
			docker compose logs -f

			- Dá»«ng vÃ  xÃ³a container:
			docker compose down

			- Rebuild image:
			docker compose up -d --build

			--------------------------------------------------
			7. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Khá»Ÿi Ä‘á»™ng há»‡ thá»‘ng nhiá»u container chá»‰ vá»›i 1 lá»‡nh
			- Chuáº©n hÃ³a mÃ´i trÆ°á»ng dev/test/prod
			- Dá»… quáº£n lÃ½, dá»… deploy
			- PhÃ¹ há»£p CI/CD vÃ  DevOps

			--------------------------------------------------
			8. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			8.1. docker-compose.yml not found
			--------------------------------------------------
			- KhÃ´ng cÃ³ file compose trong thÆ° má»¥c hiá»‡n táº¡i
			- Kiá»ƒm tra:
			ls docker-compose.yml

			8.2. Port already in use
			--------------------------------------------------
			- Cá»•ng bá»‹ xung Ä‘á»™t
			- Cáº§n Ä‘á»•i port trong docker-compose.yml

			--------------------------------------------------
			9. Cáº¢NH BÃO
			--------------------------------------------------
			- `up -d` sáº½ khÃ´ng hiá»ƒn thá»‹ log realtime
			- Khi chá»‰nh sá»­a compose file, cáº§n:
			docker compose up -d

			- Dá»¯ liá»‡u chá»‰ Ä‘Æ°á»£c giá»¯ láº¡i náº¿u dÃ¹ng volume

			--------------------------------------------------
			10. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			docker compose up -d

			= Cháº¡y toÃ n bá»™ service trong docker-compose.yml
			= Tá»± Ä‘á»™ng táº¡o container, network, volume
			= Cháº¡y ná»n (detached)
			= DÃ¹ng cho á»©ng dá»¥ng multi-container
			= Lá»‡nh cÆ¡ báº£n vÃ  quan trá»ng cá»§a Docker Compose
					
					
					- cmd: docker compose ps
					
			Lá»†NH: docker compose ps
			======================

			1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
			-------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Xem danh sÃ¡ch cÃ¡c container Ä‘ang Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi Docker Compose
			- Kiá»ƒm tra tráº¡ng thÃ¡i (status) cá»§a tá»«ng service
			- XÃ¡c nháº­n cÃ¡c container trong má»™t project Compose cÃ³ Ä‘ang cháº¡y hay khÃ´ng


			2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
			------------------------------------

			2.1. docker
			-----------
			- Docker lÃ  ná»n táº£ng container hÃ³a
			- DÃ¹ng Ä‘á»ƒ build image, cháº¡y container vÃ  quáº£n lÃ½ chÃºng


			2.2. compose
			------------
			- "compose" lÃ  plugin chÃ­nh thá»©c cá»§a Docker
			- DÃ¹ng Ä‘á»ƒ:
			  + Quáº£n lÃ½ nhiá»u container cÃ¹ng lÃºc
			  + Äá»‹nh nghÄ©a service báº±ng file docker-compose.yml
			- Thay tháº¿ cho lá»‡nh cÅ©:
			  docker-compose (Ä‘Ã£ deprecated)


			2.3. ps
			-------
			- "ps" viáº¿t táº¯t cá»§a: Process Status
			- DÃ¹ng Ä‘á»ƒ liá»‡t kÃª tráº¡ng thÃ¡i cÃ¡c container
			- TÆ°Æ¡ng tá»± lá»‡nh:
			  docker ps
			  nhÆ°ng chá»‰ Ã¡p dá»¥ng cho container cá»§a Docker Compose


			3. ÄIá»€U KIá»†N Äá»‚ CHáº Y Lá»†NH
			------------------------
			Äá»ƒ docker compose ps hoáº¡t Ä‘á»™ng:
			- Pháº£i Ä‘á»©ng trong thÆ° má»¥c cÃ³ file:
			  docker-compose.yml
			  hoáº·c
			  compose.yaml
			- Hoáº·c dÃ¹ng option:
			  docker compose -f <file> ps


			4. Ã NGHÄ¨A Káº¾T QUáº¢ TRáº¢ Vá»€
			------------------------
			Káº¿t quáº£ thÆ°á»ng cÃ³ dáº¡ng:

			  NAME                IMAGE           COMMAND        SERVICE     STATUS        PORTS
			  ------------------------------------------------------------------------------------
			  web-1               nginx:latest    "nginx -g..."  web         running       0.0.0.0:8080->80/tcp
			  db-1                mysql:8.0       "docker-entry" db          running       3306/tcp

			Giáº£i thÃ­ch tá»«ng cá»™t:

			- NAME
			  + TÃªn container do Docker Compose táº¡o
			  + Format: <project>-<service>-<index>

			- IMAGE
			  + Docker image mÃ  service Ä‘ang dÃ¹ng

			- COMMAND
			  + Lá»‡nh Ä‘Æ°á»£c cháº¡y bÃªn trong container

			- SERVICE
			  + TÃªn service khai bÃ¡o trong docker-compose.yml

			- STATUS
			  + Tráº¡ng thÃ¡i hiá»‡n táº¡i:
				running
				exited
				restarting

			- PORTS
			  + CÃ¡c cá»•ng Ä‘Æ°á»£c map giá»¯a host vÃ  container


			5. PHáº M VI HOáº T Äá»˜NG
			-------------------
			Lá»‡nh docker compose ps:
			- Chá»‰ hiá»ƒn thá»‹ container thuá»™c Compose project hiá»‡n táº¡i
			- KhÃ´ng hiá»ƒn thá»‹ cÃ¡c container Docker khÃ¡c ngoÃ i project


			6. CÃC BIáº¾N THá»‚ HAY DÃ™NG
			-----------------------
			- Xem cáº£ container Ä‘Ã£ dá»«ng:
			  docker compose ps -a

			- Chá»‰ hiá»ƒn thá»‹ ID container:
			  docker compose ps -q

			- Chá»‰ hiá»ƒn thá»‹ service Ä‘ang cháº¡y:
			  docker compose ps --services


			7. QUY TRÃŒNH THá»°C Táº¾ THÆ¯á»œNG DÃ™NG
			--------------------------------
			1. Cháº¡y service:
			   docker compose up -d

			2. Kiá»ƒm tra tráº¡ng thÃ¡i:
			   docker compose ps

			3. Xem log khi cÃ³ lá»—i:
			   docker compose logs


			8. Lá»–I THÆ¯á»œNG Gáº¶P
			-----------------
			- KhÃ´ng tháº¥y container nÃ o:
			  => CÃ³ thá»ƒ:
				 + ChÆ°a cháº¡y docker compose up
				 + Äang Ä‘á»©ng sai thÆ° má»¥c

			- Lá»—i khÃ´ng tÃ¬m tháº¥y file compose:
			  => Chá»‰ Ä‘á»‹nh file rÃµ rÃ ng:
				 docker compose -f docker-compose.yml ps


			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			------------------
			docker          : ná»n táº£ng container
			compose         : quáº£n lÃ½ multi-container
			ps              : xem tráº¡ng thÃ¡i container
		
		
		- cmd: docker compose top
		
			Lá»†NH: docker compose top
			====================================================================

			1. docker compose lÃ  gÃ¬?
			--------------------------------------------------------------------
			- docker compose lÃ  cÃ´ng cá»¥ dÃ¹ng Ä‘á»ƒ:
			  + Quáº£n lÃ½ nhiá»u container cÃ¹ng lÃºc
			  + Dá»±a trÃªn file docker-compose.yml
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ cháº¡y há»‡ thá»‘ng nhiá»u service:
			  + web
			  + database
			  + cache
			  + message queue

			--------------------------------------------------------------------

			2. top lÃ  gÃ¬ trong docker compose?
			--------------------------------------------------------------------
			- top dÃ¹ng Ä‘á»ƒ:
			  + Hiá»ƒn thá»‹ cÃ¡c process Ä‘ang cháº¡y
			  + BÃªn trong tá»«ng container thuá»™c project Compose
			- TÆ°Æ¡ng tá»± lá»‡nh:
			  + docker top <container>

			--------------------------------------------------------------------

			3. CÃº phÃ¡p lá»‡nh
			--------------------------------------------------------------------
			docker compose top

			--------------------------------------------------------------------

			4. Äiá»u kiá»‡n Ä‘á»ƒ cháº¡y lá»‡nh
			--------------------------------------------------------------------
			- Pháº£i Ä‘ang á»Ÿ thÆ° má»¥c cÃ³ file docker-compose.yml
			  HOáº¶C
			- Chá»‰ Ä‘á»‹nh file báº±ng -f

			--------------------------------------------------------------------

			5. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			docker compose top

			â†’ Liá»‡t kÃª Táº¤T Cáº¢ process
			â†’ Äang cháº¡y bÃªn trong cÃ¡c container
			â†’ Thuá»™c project docker compose hiá»‡n táº¡i

			--------------------------------------------------------------------

			6. Docker sáº½ lÃ m gÃ¬?
			--------------------------------------------------------------------
			1) Äá»c file docker-compose.yml
			2) XÃ¡c Ä‘á»‹nh project name
			3) TÃ¬m cÃ¡c container Ä‘ang running
			4) Thá»±c hiá»‡n docker top cho tá»«ng container
			5) Gá»™p káº¿t quáº£ vÃ  hiá»ƒn thá»‹ ra mÃ n hÃ¬nh

			--------------------------------------------------------------------

			7. Output (káº¿t quáº£) Ä‘iá»ƒn hÃ¬nh
			--------------------------------------------------------------------
			Name                     Command               PID     USER   TIME
			----------------------------------------------------------------------------
			vpro_web_1               nginx -g daemon off;  2345    root   00:01:23
			vpro_db_1                mysqld                2456    mysql  00:02:10

			Giáº£i thÃ­ch:
			- Name    : TÃªn container
			- Command : Lá»‡nh process Ä‘ang cháº¡y
			- PID     : PID trÃªn host
			- USER    : User cháº¡y process
			- TIME    : Thá»i gian process Ä‘Ã£ cháº¡y

			--------------------------------------------------------------------

			8. Khi nÃ o nÃªn dÃ¹ng docker compose top?
			--------------------------------------------------------------------
			- Debug container khÃ´ng hoáº¡t Ä‘á»™ng Ä‘Ãºng
			- Kiá»ƒm tra service cÃ³ cháº¡y hay khÃ´ng
			- XÃ¡c Ä‘á»‹nh process chÃ­nh trong container
			- Kiá»ƒm tra CPU/RAM process (káº¿t há»£p lá»‡nh khÃ¡c)

			--------------------------------------------------------------------

			9. So sÃ¡nh vá»›i lá»‡nh tÆ°Æ¡ng tá»±
			--------------------------------------------------------------------
			docker top <container>
			â†’ Xem process cá»§a 1 container

			docker compose top
			â†’ Xem process cá»§a Táº¤T Cáº¢ container trong project

			--------------------------------------------------------------------

			10. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) no configuration file provided
			- KhÃ´ng cÃ³ docker-compose.yml trong thÆ° má»¥c

			2) No containers running
			- Container chÆ°a Ä‘Æ°á»£c start

			3) permission denied
			- ChÆ°a Ä‘á»§ quyá»n Docker
			- DÃ¹ng: sudo docker compose top

			--------------------------------------------------------------------

			11. LÆ°u Ã½ quan trá»ng
			--------------------------------------------------------------------
			- Lá»‡nh CHá»ˆ xem thÃ´ng tin, KHÃ”NG thay Ä‘á»•i há»‡ thá»‘ng
			- KhÃ´ng hiá»ƒn thá»‹ chi tiáº¿t tÃ i nguyÃªn (CPU/RAM)
			- Káº¿t há»£p vá»›i:
			  + docker compose ps
			  + docker stats

			--------------------------------------------------------------------

			12. VÃ­ dá»¥ káº¿t há»£p
			--------------------------------------------------------------------
			docker compose ps
			docker compose top
			docker stats

			--------------------------------------------------------------------

			13. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			docker compose top =
			HIá»‚N THá»Š DANH SÃCH PROCESS ÄANG CHáº Y BÃŠN TRONG Táº¤T Cáº¢ CONTAINER Cá»¦A PROJECT DOCKER COMPOSE
		
		
		- cmd: git clone -b docker https://github.com/devopshydclub/vprofile-project.git
		
			# Lá»‡nh gá»‘c:
			git clone -b docker https://github.com/devopshydclub/vprofile-project.git

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. git
			# - Git lÃ  há»‡ thá»‘ng quáº£n lÃ½ phiÃªn báº£n phÃ¢n tÃ¡n (Distributed Version Control System).
			# - DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ source code, theo dÃµi lá»‹ch sá»­ thay Ä‘á»•i vÃ  lÃ m viá»‡c nhÃ³m.

			# 2. clone
			# - Lá»‡nh `git clone` dÃ¹ng Ä‘á»ƒ sao chÃ©p (copy) toÃ n bá»™ má»™t repository tá»« remote
			#   vá» mÃ¡y local.
			# - Sau khi clone, báº¡n sáº½ cÃ³:
			#   + ToÃ n bá»™ source code
			#   + Lá»‹ch sá»­ commit
			#   + CÃ¡c nhÃ¡nh (branches)

			# 3. -b docker
			# - TÃ¹y chá»n `-b` (branch) dÃ¹ng Ä‘á»ƒ chá»‰ Ä‘á»‹nh nhÃ¡nh cáº§n clone.
			# - `docker` lÃ  tÃªn nhÃ¡nh trong repository.
			# - Git sáº½:
			#   + Chá»‰ checkout nhÃ¡nh `docker`
			#   + KhÃ´ng checkout nhÃ¡nh máº·c Ä‘á»‹nh (thÆ°á»ng lÃ  main hoáº·c master)

			# 4. https://github.com/devopshydclub/vprofile-project.git
			# - LÃ  URL cá»§a repository trÃªn GitHub.
			# - Repository nÃ y chá»©a source code dá»± Ã¡n vprofile-project.
			# - Giao thá»©c HTTPS Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ clone.

			# 5. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Khi cháº¡y lá»‡nh nÃ y, Git sáº½:
			#   1. Káº¿t ná»‘i Ä‘áº¿n GitHub.
			#   2. Táº£i toÃ n bá»™ repository vá» mÃ¡y local.
			#   3. Táº¡o thÆ° má»¥c `vprofile-project` trong thÆ° má»¥c hiá»‡n táº¡i.
			#   4. Tá»± Ä‘á»™ng checkout nhÃ¡nh `docker`.

			# 6. Káº¿t quáº£ sau khi clone
			# - ThÆ° má»¥c Ä‘Æ°á»£c táº¡o:
			#   vprofile-project/
			# - NhÃ¡nh hiá»‡n táº¡i:
			#   docker
			# - Kiá»ƒm tra báº±ng lá»‡nh:
			#   cd vprofile-project
			#   git branch

			# 7. So sÃ¡nh vá»›i clone thÃ´ng thÆ°á»ng:
			# - git clone https://github.com/devopshydclub/vprofile-project.git
			#   + Clone toÃ n bá»™ repository vÃ  checkout nhÃ¡nh máº·c Ä‘á»‹nh.
			# - git clone -b docker URL
			#   + Clone vÃ  lÃ m viá»‡c ngay trÃªn nhÃ¡nh `docker`.

			# 8. LÆ°u Ã½:
			# - Náº¿u nhÃ¡nh `docker` khÃ´ng tá»“n táº¡i, Git sáº½ bÃ¡o lá»—i.
			# - Cáº§n cÃ i Git vÃ  cÃ³ káº¿t ná»‘i Internet Ä‘á»ƒ thá»±c hiá»‡n lá»‡nh.

			# Káº¿t luáº­n:
			# Lá»‡nh `git clone -b docker ...` dÃ¹ng Ä‘á»ƒ táº£i source code cá»§a dá»± Ã¡n
			# vÃ  lÃ m viá»‡c trá»±c tiáº¿p trÃªn nhÃ¡nh `docker`, ráº¥t há»¯u Ã­ch cho DevOps
			# hoáº·c khi triá»ƒn khai á»©ng dá»¥ng báº±ng Docker.
		
		
		
			
		
		
	

		
		
		
		
	
	- Google search:
	
		docker ubuntu install
		
		dockerhub official images
		
		hub docker
		
		docker compose install
		
		docker compose get started
		
	- Code trong Dockerfile:
	
		Case 1:
		
			FROM ubuntu:latest
			LABEL "Author"="Imran"
			LABEL "Project"="nano"
			ENV DEBIAN_FRONTEND=noninteractive
			RUN apt update && apt install git -y
			RUN apt install apache2 -y
			CMD ["/usr/sbin/apache2ctl", "-D", "FOREGROUND"]
			EXPOSE 80
			WORKDIR /var/www/html
			VOLUME /var/log/apache2
			ADD nano.tar.gz /var/www/html
			#COPY nano.tar.gz /var/www/html
			
		Case 2:
		
			# syntax=docker/dockerfile:1
			FROM python:3.10-alpine
			WORKDIR /code
			ENV FLASK_APP=app.py
			ENV FLASK_RUN_HOST=0.0.0.0
			RUN apk add --no-cache gcc musl-dev linux-headers
			COPY requirements.txt requirements.txt
			RUN pip install -r requirements.txt
			EXPOSE 5000
			COPY . .
			CMD ["flask", "run"]
			
		Case 3:
		
			services:
			  web:
				build: .
				ports:
				  - "8000:5000"
				volumes:
				  - .:/code
				environment:
				  FLASK_ENV: development
			  redis:
				image: "redis:alpine"

		Case 4:
		
			FROM ubuntu:latest
			CMD ["echo", "hello"]
			
		Case 5:
		
			FROM ubuntu:latest
			ENTRYPOINT ["echo"]
			
		Case 6:
		
			FROM ubuntu:latest
			ENTRYPOINT ["echo"]
			cmd ["hello"]
			
		Case 7:
		
			FROM tomcat:8-jre11
			LABEL "Project"="Vprofile"
			LABEL "Author"="Imran"

			RUN rm -rf /usr/local/tomcat/webapps/*
			COPY target/vprofile-v2.war /usr/local/tomcat/webapps/ROOT.war

			EXPOSE 8080
			CMD ["catalina.sh", "run"]
			WORKDIR /usr/local/tomcat/
			VOLUME /usr/local/tomcat/webappsubuntu@ip-172-31-35-202:~/composetest/vprofile-project/Docker-files/app$
			
		Case 8:
		
			FROM openjdk:11 AS BUILD_IMAGE
			RUN apt update && apt install maven -y
			RUN git clone https://github.com/devopshydclub/vprofile-project.git
			RUN cd vprofile-project && git checkout docker && mvn install

			FROM tomcat:9-jre11

			RUN rm -rf /usr/local/tomcat/webapps/*

			COPY --from=BUILD_IMAGE vprofile-project/target/vprofile-v2.war /usr/local/tomcat/webapps/ROOT.war

			EXPOSE 8080
			CMD ["catalina.sh", "run"]



	-  Code trong app.py:
	
		Case 1:
		
			import time

			import redis
			from flask import Flask

			app = Flask(__name__)
			cache = redis.Redis(host='redis', port=6379)

			def get_hit_count():
				retries = 5
				while True:
					try:
						return cache.incr('hits')
					except redis.exceptions.ConnectionError as exc:
						if retries == 0:
							raise exc
						retries -= 1
						time.sleep(0.5)

			@app.route('/')
			def hello():
				count = get_hit_count()
				return 'Hello World! I have been seen {} times.\n'.format(count)
				
	- Code trong file docker-compose.yml:
	
		Case 1:
		
			services:
			  web:
				build: .
				ports:
				  - "8000:5000"
			  redis:
				image: "redis:alpine"

	- Code trong file requirements.txt:
	
		Case 1:
		
			flask
			redis
			
--- Containerization:

	Git bash khÃ´ng thá»ƒ cháº¡y nhiá»u lá»‡nh 1 lÃºc Ä‘Æ°á»£c
	
	Docker lÃ  Container Runtime Environment
	
	CÃ i Ä‘áº·t docker engine trÃªn ubuntu
	
	Táº¡o repository trÃªn docker hub
	
	TÃ¬m hiá»ƒu cÃ¡ch Ä‘á»ƒ mÃ¡y áº£o láº¥y file tá»« mÃ¡y tháº­t
	
	Tá»« mÃ¡y áº£o, cháº¡y file docker-compose Ä‘á»ƒ táº¡o image, sau Ä‘Ã³ táº¡o container
	
	-- Source: hkhcoder (container)
	
	Service:
	
		Nginx => Web Service

		Tomcat => Application Server

		RabbitMQ => Broker/Queuing Agent

		Memcache => DB Caching

		ElasticSearch => Indexing/Search Service

		MySQL => SQL Database

		Setup should be done in below mentioned order:

			MySQL (Database SVC)
			
			Memcache (DB Caching SVC)
			
			RabbitMQ (Broker/Queue SVC)
			
			Tomcat (Application SVC)
			
			Nginx (Web SVC)

	- Google search:
	
		Docker ubuntu install
		
		Dockerfile reference
		
	Containerization -  Sá»± khÃ¡c nhau giá»¯a / vÃ  /root:
	
		Trong Ubuntu (vÃ  Linux nÃ³i chung), hai thÆ° má»¥c / vÃ  /root hoÃ n toÃ n khÃ¡c nhau vá» vai trÃ² vÃ  quyá»n háº¡n.
		
		/ (root directory)

			/ Ä‘Æ°á»£c gá»i lÃ  thÆ° má»¥c gá»‘c cá»§a toÃ n bá»™ há»‡ thá»‘ng táº­p tin (root filesystem).

			Táº¥t cáº£ má»i thá»© trong Linux â€” file há»‡ thá»‘ng, ngÆ°á»i dÃ¹ng, thiáº¿t bá»‹, á»©ng dá»¥ng, v.v. â€” Ä‘á»u náº±m dÆ°á»›i thÆ° má»¥c nÃ y.

			NÃ³ giá»‘ng nhÆ° á»• C: trong Windows, nhÆ°ng rá»™ng hÆ¡n, vÃ¬ nÃ³ chá»©a luÃ´n cÃ¡c â€œá»• Ä‘Ä©aâ€ vÃ  mount khÃ¡c.

			Cáº¥u trÃºc thÆ°á»ng tháº¥y trong /:
	
				/
				â”œâ”€â”€ bin        â†’ Chá»©a lá»‡nh cÆ¡ báº£n (ls, cp, mv, cat, v.v.)
				â”œâ”€â”€ boot       â†’ Chá»©a file khá»Ÿi Ä‘á»™ng há»‡ thá»‘ng (kernel, grub)
				â”œâ”€â”€ dev        â†’ Thiáº¿t bá»‹ (á»• cá»©ng, USB, tty,...)
				â”œâ”€â”€ etc        â†’ File cáº¥u hÃ¬nh há»‡ thá»‘ng
				â”œâ”€â”€ home       â†’ ThÆ° má»¥c ngÆ°á»i dÃ¹ng bÃ¬nh thÆ°á»ng (vd: /home/nhuan)
				â”œâ”€â”€ lib        â†’ ThÆ° viá»‡n há»‡ thá»‘ng
				â”œâ”€â”€ root       â†’ ThÆ° má»¥c cÃ¡ nhÃ¢n cá»§a tÃ i khoáº£n root
				â”œâ”€â”€ tmp        â†’ File táº¡m thá»i
				â”œâ”€â”€ usr        â†’ ChÆ°Æ¡ng trÃ¬nh, thÆ° viá»‡n dÃ¹ng chung
				â”œâ”€â”€ var        â†’ Log, mail, cache,...
				
			/root

				/root lÃ  thÆ° má»¥c cÃ¡ nhÃ¢n (home directory) cá»§a ngÆ°á»i dÃ¹ng root (superuser).

				Khi báº¡n Ä‘Äƒng nháº­p báº±ng tÃ i khoáº£n root, Ä‘Ã¢y lÃ  nÆ¡i máº·c Ä‘á»‹nh báº¡n sáº½ â€œÄ‘á»©ngâ€ (cd).

				TÆ°Æ¡ng tá»± nhÆ° /home/username cá»§a ngÆ°á»i dÃ¹ng thÆ°á»ng, nhÆ°ng Ä‘Æ°á»£c Ä‘áº·t á»Ÿ Ä‘Ã¢y vÃ¬:

				Root cáº§n truy cáº­p Ä‘Æ°á»£c ngay cáº£ khi /home chÆ°a mount (vÃ­ dá»¥ trong cháº¿ Ä‘á»™ khÃ´i phá»¥c).

				Báº£o máº­t vÃ  tÃ¡ch biá»‡t vá»›i user thÃ´ng thÆ°á»ng.

	- Commands:
	
		- cmd: usermod -aG docker vagrant
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
usermod -aG docker vagrant
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ thÃªm user `vagrant` vÃ o group `docker`
trÃªn há»‡ thá»‘ng Linux.

- Má»¥c Ä‘Ã­ch chÃ­nh:
  + Cho phÃ©p user vagrant sá»­ dá»¥ng Docker
  + KhÃ´ng cáº§n dÃ¹ng sudo khi cháº¡y lá»‡nh docker
- ThÆ°á»ng dÃ¹ng sau khi cÃ i Docker

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. usermod
--------------------------------------------------
- CÃ´ng cá»¥ quáº£n lÃ½ user trÃªn Linux
- DÃ¹ng Ä‘á»ƒ:
  + Thay Ä‘á»•i group
  + Äá»•i shell
  + Äá»•i home directory
  + KhÃ³a/má»Ÿ khÃ³a user

2.2. -a
--------------------------------------------------
- append
- ThÃªm user vÃ o group má»›i
- KHÃ”NG xÃ³a user khá»i cÃ¡c group hiá»‡n cÃ³
- Ráº¥t quan trá»ng khi dÃ¹ng chung vá»›i -G

2.3. -G docker
--------------------------------------------------
- Chá»‰ Ä‘á»‹nh group phá»¥ (supplementary group)
- `docker` lÃ  group cho phÃ©p truy cáº­p Docker daemon
- CÃ¡c user trong group docker cÃ³ quyá»n tÆ°Æ¡ng Ä‘Æ°Æ¡ng root
  Ä‘á»‘i vá»›i Docker

2.4. vagrant
--------------------------------------------------
- TÃªn user trÃªn há»‡ thá»‘ng
- ThÆ°á»ng dÃ¹ng trong mÃ´i trÆ°á»ng Vagrant VM

--------------------------------------------------
3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. Há»‡ thá»‘ng thÃªm user `vagrant` vÃ o group `docker`
2. File /etc/group Ä‘Æ°á»£c cáº­p nháº­t
3. Quyá»n má»›i CHÆ¯A cÃ³ hiá»‡u lá»±c ngay vá»›i session hiá»‡n táº¡i

--------------------------------------------------
4. KIá»‚M TRA SAU KHI THá»°C HIá»†N
--------------------------------------------------
- Kiá»ƒm tra group cá»§a user:
--------------------------------------------------
groups vagrant
id vagrant

--------------------------------------------------
5. ÃP Dá»¤NG QUYá»€N Má»šI
--------------------------------------------------
User cáº§n:
--------------------------------------------------
logout
login láº¡i

HOáº¶C cháº¡y:
--------------------------------------------------
newgrp docker

--------------------------------------------------
6. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- Báº®T BUá»˜C cháº¡y vá»›i quyá»n root hoáº·c sudo:
--------------------------------------------------
sudo usermod -aG docker vagrant

- KHÃ”NG dÃ¹ng thiáº¿u -a:
--------------------------------------------------
usermod -G docker vagrant   (NGUY HIá»‚M)

â†’ Lá»‡nh trÃªn sáº½ xÃ³a user khá»i cÃ¡c group khÃ¡c

- Group docker cho quyá»n cao â†’ chá»‰ thÃªm user tin cáº­y

--------------------------------------------------
7. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Cho phÃ©p user cháº¡y Docker khÃ´ng cáº§n sudo
- Cáº¥u hÃ¬nh mÃ´i trÆ°á»ng DevOps
- Setup Docker cho VM, server, lab

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
usermod -aG docker vagrant
= ThÃªm user vagrant vÃ o group docker
= KhÃ´ng lÃ m máº¥t group hiá»‡n cÃ³ nhá» -a
= Cáº§n logout/login Ä‘á»ƒ cÃ³ hiá»‡u lá»±c
= Cho phÃ©p cháº¡y docker khÃ´ng cáº§n sudo
==================================================
		
		
		- cmd: id vagrant
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
id vagrant

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Hiá»ƒn thá»‹ thÃ´ng tin Ä‘á»‹nh danh (identity) cá»§a user `vagrant`
- Kiá»ƒm tra UID, GID vÃ  cÃ¡c group mÃ  user thuá»™c vá»
- ThÆ°á»ng dÃ¹ng khi:
  + Debug quyá»n truy cáº­p (permission)
  + Kiá»ƒm tra user trong mÃ´i trÆ°á»ng Vagrant
  + Cáº¥u hÃ¬nh sudo, Docker, Ansible, v.v.

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. id
--------------------------------------------------
- Lá»‡nh hiá»ƒn thá»‹ thÃ´ng tin user hiá»‡n táº¡i hoáº·c user Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh
- Náº¿u khÃ´ng truyá»n username â†’ hiá»ƒn thá»‹ user Ä‘ang Ä‘Äƒng nháº­p

2.2. vagrant
--------------------------------------------------
- TÃªn user cáº§n kiá»ƒm tra
- User nÃ y thÆ°á»ng Ä‘Æ°á»£c táº¡o tá»± Ä‘á»™ng khi dÃ¹ng Vagrant

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. Há»‡ thá»‘ng tra cá»©u user `vagrant` trong /etc/passwd
2. Láº¥y thÃ´ng tin:
   - UID (User ID)
   - GID (Primary Group ID)
   - CÃ¡c group phá»¥ (Supplementary groups)
3. Hiá»ƒn thá»‹ káº¿t quáº£ ra terminal

--------------------------------------------------
4. OUTPUT MáºªU
--------------------------------------------------
VÃ­ dá»¥ output:

uid=1000(vagrant) gid=1000(vagrant) groups=1000(vagrant),27(sudo),998(docker)

Giáº£i thÃ­ch:
- uid=1000: ID cá»§a user vagrant
- gid=1000: group chÃ­nh cá»§a user vagrant
- groups=:
  + vagrant : group chÃ­nh
  + sudo    : cÃ³ quyá»n sudo
  + docker  : cÃ³ quyá»n cháº¡y docker khÃ´ng cáº§n sudo

--------------------------------------------------
5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
--------------------------------------------------
- Kiá»ƒm tra user hiá»‡n táº¡i:
id

- Kiá»ƒm tra group cá»§a user:
groups vagrant

- ThÃªm user vÃ o group:
sudo usermod -aG docker vagrant

--------------------------------------------------
6. Lá»¢I ÃCH THá»°C Táº¾
--------------------------------------------------
- XÃ¡c nháº­n quyá»n háº¡n cá»§a user
- Debug lá»—i permission denied
- Kiá»ƒm tra user cÃ³ quyá»n sudo hay docker khÃ´ng
- Quan trá»ng trong quáº£n trá»‹ há»‡ thá»‘ng vÃ  DevOps

--------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

7.1. id: â€˜vagrantâ€™: no such user
--------------------------------------------------
- User vagrant khÃ´ng tá»“n táº¡i
- Kiá»ƒm tra báº±ng:
cat /etc/passwd | grep vagrant

--------------------------------------------------
8. Cáº¢NH BÃO
--------------------------------------------------
- Lá»‡nh chá»‰ Ä‘á»c thÃ´ng tin, khÃ´ng thay Ä‘á»•i há»‡ thá»‘ng
- An toÃ n Ä‘á»ƒ cháº¡y trÃªn production

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
id vagrant

= Xem UID, GID cá»§a user vagrant
= Xem cÃ¡c group user thuá»™c vá»
= DÃ¹ng Ä‘á»ƒ kiá»ƒm tra quyá»n truy cáº­p
= Ráº¥t há»¯u Ã­ch khi debug permission
		
		
		- cmd: docker compose up -d
		
Lá»†NH: docker compose up -d
=========================

1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
-------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Khá»Ÿi Ä‘á»™ng (start) toÃ n bá»™ cÃ¡c service Ä‘Æ°á»£c khai bÃ¡o trong file Docker Compose
- Táº¡o container náº¿u container chÆ°a tá»“n táº¡i
- Build image náº¿u cáº§n (khi cÃ³ chá»‰ Ä‘á»‹nh build)
- Cháº¡y cÃ¡c container á»Ÿ cháº¿ Ä‘á»™ ná»n (background)


2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
------------------------------------

2.1. docker
-----------
- Docker lÃ  ná»n táº£ng container hÃ³a
- DÃ¹ng Ä‘á»ƒ build image, cháº¡y container vÃ  quáº£n lÃ½ chÃºng


2.2. compose
------------
- "compose" lÃ  plugin chÃ­nh thá»©c cá»§a Docker
- DÃ¹ng Ä‘á»ƒ:
  + Quáº£n lÃ½ nhiá»u container cÃ¹ng lÃºc
  + Äá»‹nh nghÄ©a service báº±ng file docker-compose.yml
- Thay tháº¿ cho lá»‡nh cÅ©:
  docker-compose (Ä‘Ã£ deprecated)


2.3. up
-------
- Lá»‡nh "up" dÃ¹ng Ä‘á»ƒ:
  + Táº¡o vÃ  khá»Ÿi Ä‘á»™ng cÃ¡c container
  + Táº¡o network, volume (náº¿u chÆ°a cÃ³)
  + Káº¿t ná»‘i cÃ¡c service theo cáº¥u hÃ¬nh

Náº¿u container Ä‘Ã£ tá»“n táº¡i:
- Docker Compose sáº½:
  + Start láº¡i container
  + Giá»¯ nguyÃªn dá»¯ liá»‡u volume


2.4. -d
-------
- Viáº¿t táº¯t cá»§a: detached mode
- Cháº¡y cÃ¡c container á»Ÿ cháº¿ Ä‘á»™ ná»n
- Terminal khÃ´ng bá»‹ chiáº¿m bá»Ÿi log
- CÃ³ thá»ƒ Ä‘Ã³ng terminal mÃ  service váº«n cháº¡y


3. ÄIá»€U KIá»†N Äá»‚ CHáº Y Lá»†NH
------------------------
Äá»ƒ cháº¡y docker compose up -d:
- Pháº£i cÃ³ file:
  docker-compose.yml
  hoáº·c
  compose.yaml
- Pháº£i Ä‘á»©ng Ä‘Ãºng thÆ° má»¥c chá»©a file
- Hoáº·c chá»‰ Ä‘á»‹nh file rÃµ rÃ ng:
  docker compose -f docker-compose.yml up -d


4. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
---------------------------------
Khi cháº¡y:
docker compose up -d

Docker Compose sáº½:
1. Äá»c file docker-compose.yml
2. Kiá»ƒm tra cÃ¡c image cáº§n thiáº¿t
3. Build image (náº¿u cÃ³ "build")
4. Táº¡o network máº·c Ä‘á»‹nh cho project
5. Táº¡o volume (náº¿u Ä‘Æ°á»£c khai bÃ¡o)
6. Táº¡o container cho tá»«ng service
7. Khá»Ÿi Ä‘á»™ng container
8. Cháº¡y container á»Ÿ cháº¿ Ä‘á»™ ná»n


5. Káº¾T QUáº¢ SAU KHI CHáº Y Lá»†NH
---------------------------
- Táº¥t cáº£ service Ä‘Æ°á»£c khá»Ÿi Ä‘á»™ng
- Container Ä‘ang cháº¡y background
- CÃ³ thá»ƒ kiá»ƒm tra báº±ng:
  docker compose ps

- Truy cáº­p á»©ng dá»¥ng theo cÃ¡c port Ä‘Ã£ map
  trong docker-compose.yml


6. CÃC BIáº¾N THá»‚ THÆ¯á»œNG DÃ™NG
--------------------------
- Build láº¡i image trÆ°á»›c khi cháº¡y:
  docker compose up -d --build

- Cháº¡y láº¡i tá»« Ä‘áº§u (táº¡o container má»›i):
  docker compose up -d --force-recreate

- Chá»‰ cháº¡y má»™t service:
  docker compose up -d web

- Cháº¡y vÃ  hiá»ƒn thá»‹ log (khÃ´ng background):
  docker compose up


7. QUáº¢N LÃ SAU KHI UP
--------------------
- Xem tráº¡ng thÃ¡i container:
  docker compose ps

- Xem log:
  docker compose logs
  docker compose logs -f

- Dá»«ng service:
  docker compose stop

- Dá»«ng vÃ  xÃ³a container, network:
  docker compose down


8. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------
- Port bá»‹ trÃ¹ng:
  => lá»—i: bind address already in use
  => Ä‘á»•i port trong docker-compose.yml

- Image build lá»—i:
  => kiá»ƒm tra Dockerfile

- Container restart liÃªn tá»¥c:
  => xem log báº±ng:
     docker compose logs


9. TÃ“M Táº®T NGáº®N Gá»ŒN
------------------
docker          : ná»n táº£ng container
compose         : quáº£n lÃ½ multi-container
up              : táº¡o + khá»Ÿi Ä‘á»™ng service
-d              : cháº¡y ná»n
		
		
		- cmd: docker compose down
		
Lá»†NH: docker compose down
====================================================================

1. docker compose lÃ  gÃ¬?
--------------------------------------------------------------------
- docker compose dÃ¹ng Ä‘á»ƒ:
  + Quáº£n lÃ½ nhiá»u container cÃ¹ng lÃºc
  + Dá»±a trÃªn file docker-compose.yml
- ThÆ°á»ng dÃ¹ng cho há»‡ thá»‘ng nhiá»u service:
  + web
  + database
  + cache
  + queue
  + backend

--------------------------------------------------------------------

2. down lÃ  gÃ¬ trong docker compose?
--------------------------------------------------------------------
- down dÃ¹ng Ä‘á»ƒ:
  + Dá»ªNG (stop) toÃ n bá»™ container
  + XÃ“A (remove) cÃ¡c tÃ i nguyÃªn do compose táº¡o ra

KHÃC vá»›i:
- docker compose stop â†’ chá»‰ dá»«ng, KHÃ”NG xÃ³a
- docker compose down â†’ dá»«ng + xÃ³a

--------------------------------------------------------------------

3. CÃº phÃ¡p lá»‡nh
--------------------------------------------------------------------
docker compose down

--------------------------------------------------------------------

4. Äiá»u kiá»‡n Ä‘á»ƒ cháº¡y lá»‡nh
--------------------------------------------------------------------
- Pháº£i á»Ÿ thÆ° má»¥c chá»©a docker-compose.yml
  HOáº¶C
- Chá»‰ rÃµ file báº±ng -f docker-compose.yml

--------------------------------------------------------------------

5. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
docker compose down

â†’ Dá»«ng toÃ n bá»™ container cá»§a project
â†’ XÃ³a container sau khi dá»«ng
â†’ XÃ³a network máº·c Ä‘á»‹nh do compose táº¡o
â†’ Giáº£i phÃ³ng tÃ i nguyÃªn há»‡ thá»‘ng

--------------------------------------------------------------------

6. Docker sáº½ thá»±c hiá»‡n nhá»¯ng gÃ¬?
--------------------------------------------------------------------
1) Äá»c docker-compose.yml
2) XÃ¡c Ä‘á»‹nh project name
3) Stop tá»«ng container theo thá»© tá»±
4) Remove container
5) Remove network cá»§a project
6) Giá»¯ láº¡i image (KHÃ”NG xÃ³a image)

--------------------------------------------------------------------

7. Nhá»¯ng gÃ¬ Bá»Š XÃ“A
--------------------------------------------------------------------
- Containers cá»§a project
- Network do compose táº¡o (bridge network)
- Anonymous volumes (náº¿u khÃ´ng gáº¯n tÃªn)

--------------------------------------------------------------------

8. Nhá»¯ng gÃ¬ KHÃ”NG bá»‹ xÃ³a (máº·c Ä‘á»‹nh)
--------------------------------------------------------------------
- Docker images
- Named volumes
- External volumes
- Source code trÃªn host

--------------------------------------------------------------------

9. Output thÆ°á»ng tháº¥y
--------------------------------------------------------------------
Stopping vpro_web_1  ... done
Stopping vpro_db_1   ... done
Removing vpro_web_1  ... done
Removing vpro_db_1   ... done
Removing network vpro_default

--------------------------------------------------------------------

10. TÃ¹y chá»n (options) thÆ°á»ng dÃ¹ng
--------------------------------------------------------------------
--volumes
--------------------------------------------------------------------
docker compose down --volumes

- XÃ³a cáº£ named volumes
- Dá»® LIá»†U (database) sáº½ Máº¤T

--------------------------------------------------------------------

--rmi
--------------------------------------------------------------------
docker compose down --rmi all

- XÃ³a image Ä‘Æ°á»£c build hoáº·c pull

--------------------------------------------------------------------

--remove-orphans
--------------------------------------------------------------------
docker compose down --remove-orphans

- XÃ³a container khÃ´ng cÃ²n trong compose file

--------------------------------------------------------------------

11. Khi nÃ o nÃªn dÃ¹ng docker compose down?
--------------------------------------------------------------------
- Dá»«ng hoÃ n toÃ n mÃ´i trÆ°á»ng dev/test
- Reset láº¡i há»‡ thá»‘ng compose
- TrÆ°á»›c khi chá»‰nh sá»­a lá»›n cáº¥u hÃ¬nh
- Giáº£i phÃ³ng tÃ i nguyÃªn

--------------------------------------------------------------------

12. So sÃ¡nh nhanh
--------------------------------------------------------------------
docker compose stop  â†’ dá»«ng container, giá»¯ nguyÃªn
docker compose down  â†’ dá»«ng + xÃ³a container + network

--------------------------------------------------------------------

13. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) no configuration file provided
- KhÃ´ng cÃ³ docker-compose.yml

2) permission denied
- ChÆ°a Ä‘á»§ quyá»n Docker
- DÃ¹ng: sudo docker compose down

--------------------------------------------------------------------

14. LÆ°u Ã½ quan trá»ng
--------------------------------------------------------------------
- Cáº¨N THáº¬N vá»›i --volumes (máº¥t dá»¯ liá»‡u)
- KhÃ´ng xÃ³a image trá»« khi dÃ¹ng --rmi
- PhÃ¹ há»£p cho mÃ´i trÆ°á»ng dev/test

--------------------------------------------------------------------

15. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
docker compose down =
Dá»ªNG VÃ€ XÃ“A TOÃ€N Bá»˜ CONTAINER + NETWORK Cá»¦A PROJECT DOCKER COMPOSE, GIá»® NGUYÃŠN IMAGE
		
		
		- cmd: docker volume ls
		
# Lá»‡nh gá»‘c:
docker volume ls

# Giáº£i thÃ­ch chi tiáº¿t:

# 1. docker
# - Docker lÃ  ná»n táº£ng container hÃ³a dÃ¹ng Ä‘á»ƒ táº¡o, cháº¡y vÃ  quáº£n lÃ½ container.
# - NgoÃ i container vÃ  image, Docker cÃ²n quáº£n lÃ½ volume Ä‘á»ƒ lÆ°u trá»¯ dá»¯ liá»‡u.

# 2. volume
# - LÃ  nhÃ³m lá»‡nh con (subcommand) dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ Docker volumes.
# - Docker volume lÃ  cÆ¡ cháº¿ lÆ°u trá»¯ dá»¯ liá»‡u bá»n vá»¯ng (persistent storage).

# 3. ls
# - Lá»‡nh `ls` (list) dÃ¹ng Ä‘á»ƒ liá»‡t kÃª danh sÃ¡ch.
# - `docker volume ls` dÃ¹ng Ä‘á»ƒ liá»‡t kÃª táº¥t cáº£ cÃ¡c Docker volume hiá»‡n cÃ³ trÃªn host.

# 4. Chá»©c nÄƒng tá»•ng thá»ƒ
# - Khi cháº¡y `docker volume ls`, Docker sáº½:
#   + Hiá»ƒn thá»‹ danh sÃ¡ch toÃ n bá»™ volume Ä‘Ã£ Ä‘Æ°á»£c táº¡o.
#   + Bao gá»“m cáº£ volume Ä‘ang Ä‘Æ°á»£c container sá»­ dá»¥ng
#     vÃ  volume khÃ´ng cÃ²n container nÃ o gáº¯n vÃ o.

# 5. Ã nghÄ©a cÃ¡c cá»™t trong káº¿t quáº£:
# - DRIVER
#   + TrÃ¬nh Ä‘iá»u khiá»ƒn volume (thÆ°á»ng lÃ  local).
# - VOLUME NAME
#   + TÃªn cá»§a volume.
#   + CÃ³ thá»ƒ lÃ  tÃªn do ngÆ°á»i dÃ¹ng Ä‘áº·t hoáº·c tÃªn Docker tá»± sinh.

# 6. VÃ­ dá»¥ káº¿t quáº£:
# DRIVER    VOLUME NAME
# local     vprodb_data
# local     mysql_volume
# local     9f8c7e6a5d4c3b2a1

# 7. CÃ¡c lá»‡nh liÃªn quan thÆ°á»ng dÃ¹ng:
# - docker volume inspect <volume_name>
#   + Xem chi tiáº¿t cáº¥u hÃ¬nh vÃ  Ä‘Æ°á»ng dáº«n thá»±c táº¿ cá»§a volume.
# - docker volume rm <volume_name>
#   + XÃ³a volume (chá»‰ xÃ³a khi khÃ´ng container nÃ o Ä‘ang sá»­ dá»¥ng).
# - docker volume prune
#   + XÃ³a toÃ n bá»™ volume khÃ´ng cÃ²n Ä‘Æ°á»£c sá»­ dá»¥ng.

# 8. LÆ°u Ã½ quan trá»ng:
# - Volume dÃ¹ng Ä‘á»ƒ lÆ°u dá»¯ liá»‡u quan trá»ng nhÆ° database.
# - XÃ³a volume sáº½ lÃ m máº¥t dá»¯ liá»‡u vÄ©nh viá»…n.
# - NÃªn kiá»ƒm tra ká»¹ trÆ°á»›c khi xÃ³a.

# Káº¿t luáº­n:
# Lá»‡nh `docker volume ls` dÃ¹ng Ä‘á»ƒ kiá»ƒm tra vÃ  quáº£n lÃ½ danh sÃ¡ch
# Docker volumes Ä‘ang tá»“n táº¡i trÃªn há»‡ thá»‘ng.
		
		
		- cmd: docker volume rm vagrant_vproappdata vagrant_vprodbdata
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
docker volume rm vagrant_vproappdata vagrant_vprodbdata
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ XÃ“A (remove) hai Docker Volume cÃ³ tÃªn:
- vagrant_vproappdata
- vagrant_vprodbdata

- Khi volume bá»‹ xÃ³a:
  + TOÃ€N Bá»˜ dá»¯ liá»‡u bÃªn trong volume sáº½ Máº¤T VÄ¨NH VIá»„N
- ThÆ°á»ng dÃ¹ng khi:
  + Dá»n dáº¹p mÃ´i trÆ°á»ng
  + Reset dá»¯ liá»‡u á»©ng dá»¥ng/database
  + XÃ³a stack Docker Compose cÅ©

--------------------------------------------------
2. DOCKER VOLUME LÃ€ GÃŒ?
--------------------------------------------------
Docker Volume lÃ  nÆ¡i lÆ°u trá»¯ dá»¯ liá»‡u persistent cho container.

- Dá»¯ liá»‡u KHÃ”NG bá»‹ máº¥t khi container stop hoáº·c remove
- NhÆ°ng sáº½ bá»‹ máº¥t hoÃ n toÃ n náº¿u volume bá»‹ xÃ³a
- Volume thÆ°á»ng dÃ¹ng cho:
  + Database (MySQL, PostgreSQLâ€¦)
  + App data
  + Log

--------------------------------------------------
3. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

3.1. docker
--------------------------------------------------
- Docker CLI
- DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ image, container, volume, network

3.2. volume
--------------------------------------------------
- NhÃ³m lá»‡nh quáº£n lÃ½ Docker Volume

3.3. rm
--------------------------------------------------
- remove
- XÃ³a Docker Volume

3.4. vagrant_vproappdata
--------------------------------------------------
- TÃªn volume thá»© nháº¥t
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ lÆ°u dá»¯ liá»‡u á»©ng dá»¥ng (app data)
- CÃ³ thá»ƒ Ä‘Æ°á»£c táº¡o bá»Ÿi Docker Compose

3.5. vagrant_vprodbdata
--------------------------------------------------
- TÃªn volume thá»© hai
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ lÆ°u dá»¯ liá»‡u database
- Ráº¥t quan trá»ng vÃ¬ chá»©a data DB

--------------------------------------------------
4. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
--------------------------------------------------
1. Docker kiá»ƒm tra tá»«ng volume
2. Náº¿u volume KHÃ”NG Ä‘Æ°á»£c container nÃ o sá»­ dá»¥ng:
   â†’ Docker xÃ³a volume
3. Náº¿u volume Ä‘ang Ä‘Æ°á»£c sá»­ dá»¥ng:
   â†’ Docker bÃ¡o lá»—i vÃ  KHÃ”NG xÃ³a

--------------------------------------------------
5. Káº¾T QUáº¢ Äáº¦U RA (VÃ Dá»¤)
--------------------------------------------------
- XÃ³a thÃ nh cÃ´ng:
--------------------------------------------------
vagrant_vproappdata
vagrant_vprodbdata

- Náº¿u volume Ä‘ang Ä‘Æ°á»£c dÃ¹ng:
--------------------------------------------------
Error response from daemon:
remove vagrant_vprodbdata: volume is in use

--------------------------------------------------
6. ÄIá»€U KIá»†N Äá»‚ XÃ“A VOLUME
--------------------------------------------------
- KHÃ”NG container nÃ o Ä‘ang sá»­ dá»¥ng volume
- Náº¿u Ä‘ang dÃ¹ng, cáº§n:
--------------------------------------------------
docker stop <container>
docker rm <container>

Sau Ä‘Ã³ má»›i xÃ³a volume

--------------------------------------------------
7. KIá»‚M TRA TRÆ¯á»šC VÃ€ SAU KHI XÃ“A
--------------------------------------------------
- Kiá»ƒm tra volume Ä‘ang tá»“n táº¡i:
--------------------------------------------------
docker volume ls

- Kiá»ƒm tra volume chi tiáº¿t:
--------------------------------------------------
docker volume inspect vagrant_vprodbdata

--------------------------------------------------
8. LÆ¯U Ã Cá»°C Ká»² QUAN TRá»ŒNG
--------------------------------------------------
- XÃ“A VOLUME = Máº¤T Dá»® LIá»†U VÄ¨NH VIá»„N
- KhÃ´ng cÃ³ cÆ¡ cháº¿ undo
- Äáº·c biá»‡t nguy hiá»ƒm vá»›i volume database
- NÃªn backup trÆ°á»›c khi xÃ³a

--------------------------------------------------
9. Má»I LIÃŠN QUAN Vá»šI DOCKER COMPOSE
--------------------------------------------------
- CÃ¡c volume cÃ³ prefix `vagrant_` thÆ°á»ng do docker-compose táº¡o
- Khi cháº¡y:
--------------------------------------------------
docker-compose down -v

â†’ Docker Compose sáº½ tá»± xÃ³a container + volume

--------------------------------------------------
10. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Reset mÃ´i trÆ°á»ng Docker
- Dá»n dáº¹p volume khÃ´ng cÃ²n dÃ¹ng
- XÃ³a dá»¯ liá»‡u app vÃ  database cÅ©
- Chuáº©n bá»‹ deploy láº¡i tá»« Ä‘áº§u

--------------------------------------------------
11. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
docker volume rm vagrant_vproappdata vagrant_vprodbdata
= XÃ³a 2 Docker Volume
= Chá»‰ xÃ³a khi khÃ´ng container nÃ o dÃ¹ng
= Dá»¯ liá»‡u bá»‹ máº¥t vÄ©nh viá»…n
= ThÆ°á»ng dÃ¹ng khi cleanup hoáº·c reset mÃ´i trÆ°á»ng
==================================================
		
		
		- cmd: docker volume prune
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
docker volume prune

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- XÃ³a Táº¤T Cáº¢ cÃ¡c Docker volume khÃ´ng cÃ²n Ä‘Æ°á»£c container nÃ o sá»­ dá»¥ng
- Giáº£i phÃ³ng dung lÆ°á»£ng á»• Ä‘Ä©a trÃªn Docker host
- KhÃ´ng xÃ³a volume Ä‘ang Ä‘Æ°á»£c gáº¯n (mount) vá»›i container

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. docker
--------------------------------------------------
- CÃ´ng cá»¥ dÃ²ng lá»‡nh quáº£n lÃ½ Docker
- Quáº£n lÃ½ container, image, volume, network

2.2. volume
--------------------------------------------------
- NhÃ³m lá»‡nh dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ Docker volume

2.3. prune
--------------------------------------------------
- Subcommand dÃ¹ng Ä‘á»ƒ dá»n dáº¹p tÃ i nguyÃªn khÃ´ng sá»­ dá»¥ng
- Vá»›i volume: xÃ³a volume khÃ´ng cÃ²n gáº¯n vá»›i container nÃ o

--------------------------------------------------
3. ÄIá»€U KIá»†N & CÆ  CHáº¾ HOáº T Äá»˜NG
--------------------------------------------------
- Docker sáº½:
  + QuÃ©t táº¥t cáº£ volume hiá»‡n cÃ³
  + Kiá»ƒm tra volume nÃ o KHÃ”NG Ä‘Æ°á»£c container nÃ o sá»­ dá»¥ng
  + Chá»‰ xÃ³a volume thá»a Ä‘iá»u kiá»‡n trÃªn
- Volume Ä‘ang dÃ¹ng â†’ KHÃ”NG bá»‹ xÃ³a

--------------------------------------------------
4. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. Docker hiá»ƒn thá»‹ cáº£nh bÃ¡o:
   "WARNING! This will remove all unused volumes."
2. YÃªu cáº§u xÃ¡c nháº­n (y/N)
3. Náº¿u gÃµ y â†’ Docker báº¯t Ä‘áº§u xÃ³a volume
4. Hiá»ƒn thá»‹ danh sÃ¡ch volume Ä‘Ã£ bá»‹ xÃ³a
5. Giáº£i phÃ³ng dung lÆ°á»£ng disk

--------------------------------------------------
5. OUTPUT MáºªU
--------------------------------------------------
VÃ­ dá»¥ khi cháº¡y:

WARNING! This will remove all unused volumes.
Are you sure you want to continue? [y/N] y
Deleted Volumes:
mydbdata
cachedata

Total reclaimed space: 1.2GB

--------------------------------------------------
6. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
--------------------------------------------------
- Xem danh sÃ¡ch volume:
docker volume ls

- Xem volume Ä‘ang dÃ¹ng:
docker ps -a --filter volume=mydbdata

- XÃ³a volume cá»¥ thá»ƒ:
docker volume rm mydbdata

- Bá» qua xÃ¡c nháº­n:
docker volume prune -f

--------------------------------------------------
7. Lá»¢I ÃCH THá»°C Táº¾
--------------------------------------------------
- Dá»n dáº¹p há»‡ thá»‘ng Docker lÃ¢u ngÃ y
- Giáº£i phÃ³ng dung lÆ°á»£ng á»• cá»©ng
- Há»¯u Ã­ch trÃªn server CI/CD, test, lab

--------------------------------------------------
8. Rá»¦I RO & Cáº¢NH BÃO
--------------------------------------------------
- Volume bá»‹ xÃ³a â†’ Máº¤T Dá»® LIá»†U VÄ¨NH VIá»„N
- KhÃ´ng thá»ƒ khÃ´i phá»¥c
- Cáº§n cháº¯c cháº¯n volume khÃ´ng chá»©a dá»¯ liá»‡u quan trá»ng
- KHÃ”NG dÃ¹ng tÃ¹y tiá»‡n trÃªn production

--------------------------------------------------
9. Lá»–I / TÃŒNH HUá»NG THÆ¯á»œNG Gáº¶P
--------------------------------------------------

9.1. KhÃ´ng cÃ³ volume nÃ o bá»‹ xÃ³a
--------------------------------------------------
- Táº¥t cáº£ volume Ä‘á»u Ä‘ang Ä‘Æ°á»£c container sá»­ dá»¥ng
- Hoáº·c khÃ´ng cÃ³ volume dÆ° thá»«a

--------------------------------------------------
10. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
docker volume prune

= XÃ³a toÃ n bá»™ volume khÃ´ng sá»­ dá»¥ng
= Giáº£i phÃ³ng dung lÆ°á»£ng disk
= CÃ³ há»i xÃ¡c nháº­n trÆ°á»›c khi xÃ³a
= Rá»§i ro máº¥t dá»¯ liá»‡u
= Chá»‰ dÃ¹ng khi cháº¯c cháº¯n volume khÃ´ng cáº§n ná»¯a
		
		
		- cmd: docker system prune -a
		
Lá»†NH: docker system prune -a
===========================

1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
-------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Dá»ŒN Dáº¸P (cleanup) toÃ n bá»™ tÃ i nguyÃªn Docker KHÃ”NG cÃ²n Ä‘Æ°á»£c sá»­ dá»¥ng
- Giáº£i phÃ³ng dung lÆ°á»£ng á»• Ä‘Ä©a
- XÃ³a cÃ¡c Ä‘á»‘i tÆ°á»£ng Docker khÃ´ng cáº§n thiáº¿t cÃ²n sÃ³t láº¡i sau khi build/run

ÄÃ¢y lÃ  lá»‡nh dá»n rÃ¡c Docker Máº NH vÃ  NGUY HIá»‚M náº¿u khÃ´ng hiá»ƒu rÃµ.


2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
------------------------------------

2.1. docker
-----------
- Docker CLI
- DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ container, image, network, volume


2.2. system
-----------
- "system" chá»‰ pháº¡m vi toÃ n há»‡ thá»‘ng Docker
- KhÃ´ng chá»‰ má»™t loáº¡i tÃ i nguyÃªn
- Bao gá»“m:
  + container
  + image
  + network
  + cache build


2.3. prune
----------
- "prune" nghÄ©a lÃ :
  + Cáº®T Tá»ˆA
  + Dá»ŒN Dáº¸P
  + XÃ“A NHá»®NG THá»¨ KHÃ”NG DÃ™NG

docker system prune sáº½ xÃ³a:
- Container Ä‘Ã£ STOP
- Network khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng
- Build cache khÃ´ng cÃ²n cáº§n thiáº¿t


2.4. -a
-------
- "-a" viáº¿t táº¯t cá»§a: all
- Má»Ÿ rá»™ng pháº¡m vi xÃ³a

KHÃ”NG cÃ³ -a:
- Chá»‰ xÃ³a image KHÃ”NG Ä‘Æ°á»£c container nÃ o dÃ¹ng

CÃ“ -a:
- XÃ“A Táº¤T Cáº¢ image KHÃ”NG ÄÆ¯á»¢C container nÃ o sá»­ dá»¥ng
- Bao gá»“m cáº£ image:
  + Ä‘Ã£ build
  + Ä‘Ã£ pull
  + Ä‘ang náº±m local nhÆ°ng chÆ°a cháº¡y container


3. NHá»®NG THá»¨ Sáº¼ Bá»Š XÃ“A
---------------------
Khi cháº¡y:
docker system prune -a

Docker sáº½ xÃ³a:

1. Container
------------
- Táº¤T Cáº¢ container Ä‘Ã£ STOP
- KHÃ”NG xÃ³a container Ä‘ang RUNNING

2. Image
--------
- Táº¤T Cáº¢ image khÃ´ng Ä‘Æ°á»£c container nÃ o sá»­ dá»¥ng
- Bao gá»“m:
  + image cÅ©
  + image build thá»­ nghiá»‡m
  + image chÆ°a dÃ¹ng

3. Network
----------
- Network khÃ´ng cÃ²n container nÃ o káº¿t ná»‘i
- Trá»«:
  + bridge
  + host
  + none

4. Build Cache
--------------
- Cache trong quÃ¡ trÃ¬nh docker build
- Giáº£i phÃ³ng nhiá»u dung lÆ°á»£ng nháº¥t


4. NHá»®NG THá»¨ KHÃ”NG Bá»Š XÃ“A
------------------------
- Container Ä‘ang cháº¡y
- Volume (Máº¶C Äá»ŠNH khÃ´ng xÃ³a volume)
- Image Ä‘ang Ä‘Æ°á»£c container sá»­ dá»¥ng


5. Cáº¢NH BÃO Ráº¤T QUAN TRá»ŒNG
-------------------------
- Image bá»‹ xÃ³a KHÃ”NG THá»‚ KHÃ”I PHá»¤C
- Láº§n sau cháº¡y container:
  => Docker pháº£i pull hoáº·c build láº¡i image
- CÃ³ thá»ƒ máº¥t thá»i gian vÃ  bandwidth

Docker sáº½ há»i xÃ¡c nháº­n:
WARNING! This will remove:
  - all stopped containers
  - all networks not used by at least one container
  - all images without at least one container associated to them
  - all build cache

Are you sure you want to continue? [y/N]


6. SO SÃNH CÃC Lá»†NH PRUNE
------------------------
- docker container prune
  => xÃ³a container Ä‘Ã£ stop

- docker image prune
  => xÃ³a image khÃ´ng dÃ¹ng

- docker image prune -a
  => xÃ³a táº¥t cáº£ image khÃ´ng dÃ¹ng

- docker volume prune
  => xÃ³a volume khÃ´ng dÃ¹ng (NGUY HIá»‚M)

- docker system prune
  => dá»n dáº¹p má»©c cÆ¡ báº£n

- docker system prune -a
  => dá»n dáº¹p Máº NH NHáº¤T (trá»« volume)


7. KHI NÃ€O NÃŠN DÃ™NG
------------------
NÃŠN dÃ¹ng khi:
- Server sáº¯p háº¿t dung lÆ°á»£ng
- MÃ¡y build CI/CD
- MÃ¡y test / lab / dev
- KhÃ´ng cáº§n giá»¯ image cÅ©

KHÃ”NG nÃªn dÃ¹ng khi:
- Server production
- ChÆ°a hiá»ƒu rÃµ image nÃ o Ä‘ang cáº§n
- CÃ³ image build thá»§ cÃ´ng chÆ°a push registry


8. KIá»‚M TRA TRÆ¯á»šC KHI XÃ“A (KHUYÃŠN DÃ™NG)
--------------------------------------
- Xem dung lÆ°á»£ng Docker Ä‘ang dÃ¹ng:
  docker system df

- Xem image hiá»‡n cÃ³:
  docker images

- Xem container:
  docker ps -a


9. TÃ“M Táº®T NGáº®N Gá»ŒN
------------------
docker system prune -a
=> XÃ³a toÃ n bá»™ tÃ i nguyÃªn Docker KHÃ”NG dÃ¹ng
=> Giáº£i phÃ³ng nhiá»u dung lÆ°á»£ng
=> Lá»‡nh máº¡nh â€“ cáº§n dÃ¹ng cáº©n tháº­n
		
		
		- cmd: code .
		
Lá»†NH: code .
====================================================================

1. code lÃ  gÃ¬?
--------------------------------------------------------------------
- code lÃ  lá»‡nh CLI cá»§a Visual Studio Code (VS Code)
- DÃ¹ng Ä‘á»ƒ:
  + Má»Ÿ VS Code tá»« terminal
  + Má»Ÿ file hoáº·c thÆ° má»¥c trá»±c tiáº¿p

YÃŠU Cáº¦U:
- VS Code Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t
- Lá»‡nh `code` Ä‘Ã£ Ä‘Æ°á»£c thÃªm vÃ o PATH
  (Shell Command: Install 'code' command in PATH)

--------------------------------------------------------------------

2. . (dáº¥u cháº¥m) nghÄ©a lÃ  gÃ¬?
--------------------------------------------------------------------
- . Ä‘áº¡i diá»‡n cho:
  + ThÆ° má»¥c hiá»‡n táº¡i (current working directory)
- Trong Linux / macOS / Windows:
  + . = thÆ° má»¥c Ä‘ang Ä‘á»©ng trong terminal

--------------------------------------------------------------------

3. Giáº£i thÃ­ch Ä‘áº§y Ä‘á»§ lá»‡nh
--------------------------------------------------------------------
code .

â†’ Má»Ÿ Visual Studio Code
â†’ Vá»›i toÃ n bá»™ ná»™i dung cá»§a thÆ° má»¥c hiá»‡n táº¡i
â†’ ThÆ° má»¥c nÃ y trá»Ÿ thÃ nh workspace cá»§a VS Code

--------------------------------------------------------------------

4. Docker/DevOps sá»­ dá»¥ng lá»‡nh nÃ y Ä‘á»ƒ lÃ m gÃ¬?
--------------------------------------------------------------------
- Má»Ÿ source code dá»± Ã¡n nhanh chÃ³ng
- Chá»‰nh sá»­a:
  + Dockerfile
  + docker-compose.yml
  + Ansible playbook
  + Terraform file
- PhÃ¹ há»£p khi Ä‘ang lÃ m viá»‡c trong terminal

--------------------------------------------------------------------

5. Äiá»u gÃ¬ xáº£y ra khi cháº¡y lá»‡nh?
--------------------------------------------------------------------
1) Terminal gá»i lá»‡nh `code`
2) VS Code Ä‘Æ°á»£c khá»Ÿi Ä‘á»™ng
3) ThÆ° má»¥c hiá»‡n táº¡i Ä‘Æ°á»£c load lÃ m workspace
4) CÃ¢y thÆ° má»¥c hiá»ƒn thá»‹ á»Ÿ Explorer
5) CÃ³ thá»ƒ chá»‰nh sá»­a file ngay

--------------------------------------------------------------------

6. VÃ­ dá»¥ thá»±c táº¿
--------------------------------------------------------------------
cd /home/devops/vprofile
code .

â†’ Má»Ÿ toÃ n bá»™ project vprofile trong VS Code

--------------------------------------------------------------------

7. So sÃ¡nh vá»›i cÃ¡c cÃ¡ch má»Ÿ khÃ¡c
--------------------------------------------------------------------
code .
â†’ Má»Ÿ cáº£ thÆ° má»¥c

code file.txt
â†’ Má»Ÿ má»™t file cá»¥ thá»ƒ

code /etc/nginx/nginx.conf
â†’ Má»Ÿ file theo Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i

--------------------------------------------------------------------

8. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) code: command not found
- VS Code chÆ°a cÃ i
- ChÆ°a add code vÃ o PATH

CÃ¡ch kháº¯c phá»¥c:
- Má»Ÿ VS Code
- Ctrl+Shift+P
- GÃµ: Shell Command: Install 'code' command in PATH

--------------------------------------------------------------------

2) Permission denied
- ThÆ° má»¥c khÃ´ng Ä‘á»§ quyá»n
- DÃ¹ng sudo (KHÃ”NG khuyáº¿n khÃ­ch)

--------------------------------------------------------------------

9. LÆ°u Ã½ quan trá»ng
--------------------------------------------------------------------
- KhÃ´ng cáº§n sudo cho code .
- KhÃ´ng thay Ä‘á»•i há»‡ thá»‘ng
- Chá»‰ má»Ÿ vÃ  chá»‰nh sá»­a file

--------------------------------------------------------------------

10. Khi nÃ o nÃªn dÃ¹ng code . ?
--------------------------------------------------------------------
- Khi lÃ m viá»‡c vá»›i project code
- Khi chá»‰nh sá»­a cáº¥u hÃ¬nh nhanh
- Khi dÃ¹ng VS Code lÃ m IDE chÃ­nh

--------------------------------------------------------------------

11. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
code . =
Má» VISUAL STUDIO CODE Vá»šI THÆ¯ Má»¤C HIá»†N Táº I LÃ€M WORKSPACE
		
		
		- cmd: id
		
# Lá»‡nh gá»‘c:
id

# Giáº£i thÃ­ch chi tiáº¿t:

# 1. id
# - Lá»‡nh `id` trong Linux/Unix dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin Ä‘á»‹nh danh (identity)
#   cá»§a user Ä‘ang Ä‘Äƒng nháº­p hoáº·c user Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh.
# - ThÃ´ng tin nÃ y ráº¥t quan trá»ng trong viá»‡c kiá»ƒm tra quyá»n (permission).

# 2. Káº¿t quáº£ cá»§a lá»‡nh id gá»“m nhá»¯ng gÃ¬?
# - uid (User ID)
#   + ID cá»§a user hiá»‡n táº¡i.
#   + VÃ­ dá»¥: uid=0 nghÄ©a lÃ  user root.
# - gid (Group ID)
#   + Group chÃ­nh (primary group) cá»§a user.
# - groups
#   + Danh sÃ¡ch táº¥t cáº£ cÃ¡c group mÃ  user thuá»™c vá».

# 3. VÃ­ dá»¥ káº¿t quáº£:
# uid=0(root) gid=0(root) groups=0(root),27(sudo)

# 4. Ã nghÄ©a thá»±c táº¿:
# - GiÃºp xÃ¡c Ä‘á»‹nh:
#   + Báº¡n Ä‘ang Ä‘Äƒng nháº­p báº±ng user nÃ o.
#   + User Ä‘Ã³ cÃ³ quyá»n root hay khÃ´ng.
#   + User Ä‘Ã³ thuá»™c nhá»¯ng group nÃ o.
# - Ráº¥t há»¯u Ã­ch khi:
#   + Debug lá»—i permission.
#   + Cáº¥u hÃ¬nh Docker, file system, hoáº·c service systemd.

# 5. Má»™t sá»‘ cÃ¡ch dÃ¹ng khÃ¡c:
# - id username
#   + Hiá»ƒn thá»‹ thÃ´ng tin cá»§a user `username`.
# - id -u
#   + Chá»‰ hiá»ƒn thá»‹ UID cá»§a user.
# - id -g
#   + Chá»‰ hiá»ƒn thá»‹ GID (group chÃ­nh).
# - id -G
#   + Hiá»ƒn thá»‹ táº¥t cáº£ GID cá»§a cÃ¡c group.

# 6. LÆ°u Ã½:
# - UID = 0 luÃ´n lÃ  user root (quyá»n cao nháº¥t).
# - Group quyáº¿t Ä‘á»‹nh quyá»n truy cáº­p file/thÆ° má»¥c cÃ¹ng vá»›i permission.

# Káº¿t luáº­n:
# Lá»‡nh `id` dÃ¹ng Ä‘á»ƒ kiá»ƒm tra nhanh thÃ´ng tin user vÃ  group,
# ráº¥t quan trá»ng trong quáº£n trá»‹ há»‡ thá»‘ng Linux.
		
		
		- cmd: docker-compose --version
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
docker-compose --version
==================================================

1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ kiá»ƒm tra PHIÃŠN Báº¢N cá»§a Docker Compose
Ä‘ang Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn há»‡ thá»‘ng.

- KhÃ´ng táº¡o, khÃ´ng sá»­a, khÃ´ng xÃ³a tÃ i nguyÃªn Docker
- Chá»‰ hiá»ƒn thá»‹ thÃ´ng tin version
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ:
  + XÃ¡c nháº­n Docker Compose Ä‘Ã£ Ä‘Æ°á»£c cÃ i
  + Kiá»ƒm tra version khi debug lá»—i
  + Äáº£m báº£o tÆ°Æ¡ng thÃ­ch vá»›i file docker-compose.yml

--------------------------------------------------
2. DOCKER COMPOSE LÃ€ GÃŒ?
--------------------------------------------------
Docker Compose lÃ  cÃ´ng cá»¥ dÃ¹ng Ä‘á»ƒ:
- Äá»‹nh nghÄ©a
- Cháº¡y
- Quáº£n lÃ½

nhiá»u container Docker cÃ¹ng lÃºc thÃ´ng qua file:
--------------------------------------------------
docker-compose.yml

VÃ­ dá»¥:
- Web + Database
- App + Cache
- Microservices

--------------------------------------------------
3. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

3.1. docker-compose
--------------------------------------------------
- Lá»‡nh CLI cá»§a Docker Compose (Compose V1)
- Hoáº¡t Ä‘á»™ng Ä‘á»™c láº­p vá»›i lá»‡nh `docker`
- ThÆ°á»ng cÃ i táº¡i:
--------------------------------------------------
/usr/local/bin/docker-compose

HOáº¶C:
--------------------------------------------------
/usr/bin/docker-compose

3.2. --version
--------------------------------------------------
- TÃ¹y chá»n hiá»ƒn thá»‹ phiÃªn báº£n
- KhÃ´ng yÃªu cáº§u quyá»n root
- KhÃ´ng cáº§n Docker daemon Ä‘ang cháº¡y

--------------------------------------------------
4. Káº¾T QUáº¢ Äáº¦U RA (VÃ Dá»¤)
--------------------------------------------------
docker-compose version 1.29.2, build 5becea4c

Giáº£i thÃ­ch:
- 1.29.2        : sá»‘ phiÃªn báº£n Docker Compose
- build 5becea4c: mÃ£ build

--------------------------------------------------
5. COMPOSE V1 vs COMPOSE V2
--------------------------------------------------

5.1. Compose V1 (cÅ©)
--------------------------------------------------
- DÃ¹ng lá»‡nh:
--------------------------------------------------
docker-compose --version

- Viáº¿t báº±ng Python
- Hiá»‡n nay Ä‘Ã£ dáº§n bá»‹ deprecated

5.2. Compose V2 (má»›i)
--------------------------------------------------
- TÃ­ch há»£p trá»±c tiáº¿p vÃ o Docker CLI
- DÃ¹ng lá»‡nh:
--------------------------------------------------
docker compose version

- Viáº¿t báº±ng Go
- ÄÆ°á»£c khuyáº¿n nghá»‹ sá»­ dá»¥ng

--------------------------------------------------
6. KIá»‚M TRA Cáº¢ HAI LOáº I (Náº¾U Cáº¦N)
--------------------------------------------------
- Kiá»ƒm tra Compose V1:
--------------------------------------------------
docker-compose --version

- Kiá»ƒm tra Compose V2:
--------------------------------------------------
docker compose version

--------------------------------------------------
7. LÆ¯U Ã QUAN TRá»ŒNG
--------------------------------------------------
- Má»™t sá»‘ há»‡ thá»‘ng chá»‰ cÃ³ Compose V2
- Náº¿u cháº¡y docker-compose bÃ¡o lá»—i:
--------------------------------------------------
command not found

â†’ HÃ£y thá»­:
--------------------------------------------------
docker compose version

- Version Compose áº£nh hÆ°á»Ÿng tá»›i:
  + CÃº phÃ¡p docker-compose.yml
  + CÃ¡c tÃ­nh nÄƒng há»— trá»£

--------------------------------------------------
8. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
--------------------------------------------------
- Kiá»ƒm tra mÃ´i trÆ°á»ng Docker
- XÃ¡c nháº­n tool Ä‘Ã£ sáºµn sÃ ng
- Debug lá»—i CI/CD
- Äáº£m báº£o tÆ°Æ¡ng thÃ­ch cáº¥u hÃ¬nh

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
docker-compose --version
= Hiá»ƒn thá»‹ phiÃªn báº£n Docker Compose
= KhÃ´ng thay Ä‘á»•i há»‡ thá»‘ng
= DÃ¹ng Ä‘á»ƒ kiá»ƒm tra Compose Ä‘Ã£ cÃ i hay chÆ°a
= PhÃ¢n biá»‡t Compose V1 vÃ  V2
==================================================
		
		
		- cmd: docker-compose build
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
docker-compose build

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh `docker-compose build` dÃ¹ng Ä‘á»ƒ:
- Build (xÃ¢y dá»±ng) Docker image cho cÃ¡c service Ä‘Æ°á»£c khai bÃ¡o trong file docker-compose.yml
- Thá»±c thi cÃ¡c Dockerfile tÆ°Æ¡ng á»©ng (náº¿u cÃ³)
- Chuáº©n bá»‹ image trÆ°á»›c khi cháº¡y container báº±ng docker-compose up

Lá»‡nh nÃ y CHá»ˆ build image, KHÃ”NG cháº¡y container.

--------------------------------------------------
2. CÃš PHÃP CÆ  Báº¢N
--------------------------------------------------
docker-compose build

Hoáº·c (Docker Compose v2):
docker compose build

--------------------------------------------------
3. ÄIá»€U KIá»†N HOáº T Äá»˜NG
--------------------------------------------------
- Pháº£i cÃ³ file docker-compose.yml trong thÆ° má»¥c hiá»‡n táº¡i
- Trong file docker-compose.yml:
  + Service pháº£i cÃ³ chá»‰ thá»‹ `build:`
  + Hoáº·c chá»‰ Ä‘á»‹nh Ä‘Æ°á»ng dáº«n Dockerfile

VÃ­ dá»¥:
services:
  web:
    build: .

--------------------------------------------------
4. PHÃ‚N TÃCH CÆ  CHáº¾ HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y `docker-compose build`, Docker Compose sáº½:

1. Äá»c file docker-compose.yml
2. Duyá»‡t tá»«ng service
3. Kiá»ƒm tra service nÃ o cÃ³ cáº¥u hÃ¬nh `build`
4. Vá»›i má»—i service:
   - XÃ¡c Ä‘á»‹nh context build (thÆ° má»¥c source)
   - XÃ¡c Ä‘á»‹nh Dockerfile (máº·c Ä‘á»‹nh lÃ  Dockerfile)
   - Thá»±c thi tá»«ng instruction trong Dockerfile:
     FROM
     RUN
     COPY
     ADD
     ENV
     CMD (chá»‰ khai bÃ¡o, chÆ°a cháº¡y)
5. Táº¡o Docker image tÆ°Æ¡ng á»©ng cho service

--------------------------------------------------
5. VÃ Dá»¤ THá»°C Táº¾
--------------------------------------------------
docker-compose.yml:

services:
  app:
    build: .
    image: myapp:v1

Cháº¡y:
docker-compose build

Káº¿t quáº£:
- Docker build image tá»« Dockerfile trong thÆ° má»¥c hiá»‡n táº¡i
- Image Ä‘Æ°á»£c gáº¯n tag: myapp:v1

--------------------------------------------------
6. OUTPUT MáºªU
--------------------------------------------------
Building app
Step 1/6 : FROM python:3.10
 ---> a1b2c3d4
Step 2/6 : COPY . /app
 ---> Using cache
Step 3/6 : RUN pip install -r requirements.txt
 ---> Running in 9f8e7d6c
Successfully built e4f5g6h7
Successfully tagged myapp:v1

--------------------------------------------------
7. CACHE KHI BUILD
--------------------------------------------------
- Docker sá»­ dá»¥ng layer cache Ä‘á»ƒ tÄƒng tá»‘c build
- Náº¿u Dockerfile hoáº·c source code khÃ´ng thay Ä‘á»•i:
  â†’ Docker dÃ¹ng láº¡i layer cÅ©
- Náº¿u cÃ³ thay Ä‘á»•i:
  â†’ CÃ¡c layer phÃ­a sau sáº½ build láº¡i

--------------------------------------------------
8. CÃC TUá»² CHá»ŒN THÆ¯á»œNG DÃ™NG
--------------------------------------------------

8.1. Build láº¡i toÃ n bá»™ (khÃ´ng dÃ¹ng cache)
--------------------------------------------------
docker-compose build --no-cache

8.2. Build service cá»¥ thá»ƒ
--------------------------------------------------
docker-compose build web

8.3. Build song song (máº·c Ä‘á»‹nh báº­t)
--------------------------------------------------
docker-compose build --parallel

--------------------------------------------------
9. SO SÃNH Vá»šI docker-compose up
--------------------------------------------------
docker-compose build
- Chá»‰ build image
- KhÃ´ng táº¡o container
- DÃ¹ng khi muá»‘n kiá»ƒm tra build

docker-compose up
- Tá»± Ä‘á»™ng build (náº¿u chÆ°a cÃ³ image)
- Táº¡o vÃ  cháº¡y container

--------------------------------------------------
10. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------

10.1. KhÃ´ng tÃ¬m tháº¥y Dockerfile
--------------------------------------------------
- Dockerfile khÃ´ng tá»“n táº¡i trong build context
- Sai Ä‘Æ°á»ng dáº«n build

10.2. Build fail á»Ÿ bÆ°á»›c RUN
--------------------------------------------------
- Lá»—i cÃ i package
- Thiáº¿u file khi COPY
- Sai version image base

--------------------------------------------------
11. KHI NÃ€O NÃŠN DÃ™NG
--------------------------------------------------
- Muá»‘n build image trÆ°á»›c khi deploy
- Muá»‘n kiá»ƒm tra Dockerfile cÃ³ lá»—i khÃ´ng
- CI/CD pipeline
- Debug quÃ¡ trÃ¬nh build

--------------------------------------------------
12. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
docker-compose build

= Build Docker image cho cÃ¡c service
= Äá»c cáº¥u hÃ¬nh tá»« docker-compose.yml
= Thá»±c thi Dockerfile
= KhÃ´ng cháº¡y container
= ThÆ°á»ng dÃ¹ng trÆ°á»›c docker-compose up
		
		
		
		
	
	- Code trong file Dockerfile:
	
		Case 1:
		
			FROM maven:3.9.9-eclipse-temurin-21-jammy AS BUILD_IMAGE
			RUN git clone https://github.com/hkhcoder/vprofile-project.git
			RUN cd vprofile-project && git checkout containers && mvn install

			FROM tomcat:10-jdk21
			LABEL "Project"="vprofile"
			LABEL "Author"="Imran"
			RUN rm -rf /usr/local/tomcat/webapps/*
			COPY --from=BUILD_IMAGE vprofile-project/target/vprofile-v2.war /usr/local/tomcat/webapps/ROOT.war

			EXPOSE 8080
			CMD ["catalina.sh", "run"]
			
		Case 2:
		
			FROM mysql:8.0.33
			LABEL "Project"="Vprofile"
			LABEL "Author"="Imran"

			ENV MYSQL_ROOT_PASSWORD="vprodbpass"
			ENV MYSQL_DATABASE="accounts"

			ADD db_backup.sql docker-entrypoint-initdb.d/db_backup.sql
			
		Case 3:
		
			FROM nginx
			LABEL "Project"="Vprofile"
			LABEL "Author"="Imran"

			RUN rm -rf /etc/nginx/conf.d/default.conf
			COPY nginvproapp.conf /etc/nginx/conf.d/vproapp.conf
			
		Case 4:
		
			FROM openjdk:11 AS BUILD_IMAGE
			RUN apt update && apt install maven -y
			RUN git clone https://github.com/devopshydclub/vprofile-project.git
			#ADD ../../vprofile-project
			RUN cd vprofile-project && git checkout docker && mvn install

			FROM tomcat:9-jre11
			LABEL "Project"="vprofile"
			LABEL "Author"="Imran"
			RUN rm -rf /usr/local/tomcat/webapps/*
			COPY --from=BUILD_IMAGE vprofile-project/target/vprofile-v2.war /usr/local/tomcat/webapps/ROOT.war

			EXPOSE 8080
			CMD ["catalina.sh", "run"]
			
		Case 5:
		
			FROM node:14 AS web-build
			WORKDIR /usr/src/app
			COPY ./ ./client
			RUN cd client && npm install && npm run build --prod

			# Use official nginx image as the base image
			FROM nginx:latest

			# Copy the build output to replace the default nginx contents.
			COPY --from=web-build /usr/src/app/client/dist/client/ /usr/share/nginx/html
			COPY nginx.conf /etc/nginx/conf.d/default.conf

			# Expose port 4200
			EXPOSE 4200
			
		Case 6:
		
			FROM node:14 AS nodeapi-build
			WORKDIR /usr/src/app
			COPY ./ ./nodeapi/
			RUN cd nodeapi && npm install

			FROM node:14
			WORKDIR /usr/src/app/
			COPY --from=nodeapi-build /usr/src/app/nodeapi/ ./
			RUN ls
			EXPOSE 5000
			CMD ["/bin/sh", "-c", "cd /usr/src/app/ && npm start"]
			# Test3

		Case 7:
		
			FROM openjdk:8 AS BUILD_IMAGE
			WORKDIR /usr/src/app/
			RUN apt update && apt install maven -y
			COPY ./ /usr/src/app/
			RUN mvn install -DskipTests

			FROM openjdk:8

			WORKDIR /usr/src/app/
			COPY --from=BUILD_IMAGE /usr/src/app/target/book-work-0.0.1-SNAPSHOT.jar ./book-work-0.0.1.jar

			EXPOSE 9000
			ENTRYPOINT ["java","-jar","book-work-0.0.1.jar"]
			# Test


			
	- Code trong file nginvproapp.conf:
	
		Case 1:
		
			upstream vproapp {
			 server vproapp:8080;
			}
			server {
			  listen 80;
			location / {
			  proxy_pass http://vproapp;
			}
			}

	- Code trong file docker-compose.yml:
	
		Case 1:
		
			services:
				vprodb:
				  build:
					context: ./Docker-files/db
				  image: ngoctuan99/vprofiledb
				  container_name: vprodb
				  ports:
					- "3306:3306"
				  volumes:
					- vprodbdata:/var/lib/mysql
				  environment:
					- MYSQL_ROOT_PASSWORD=vprodbpass

				vprocache01:
				  image: memcached
				  container_name: vprocache01
				  ports:
					- "11211:11211"

				vpromq01:
				  image: rabbitmq
				  container_name: vpromq01
				  ports:
					- "5672:5672"
				  environment:
					- RABBITMQ_DEFAULT_USER=guest
					- RABBITMQ_DEFAULT_PASS=guest

				vproapp:
				  build:
					context: ./Docker-files/app
				  image: ngoctuan99/vprofileapp
				  container_name: vproapp
				  ports:
					- "8080:8080"
				  volumes:
					- vproappdata:/usr/local/tomcat/webapps
				  environment:
					- MYSQL_ROOT_PASSWORD=vprodbpass

				vproweb:
				  build:
					context: ./Docker-files/web
				  image: ngoctuan99/vprofileweb
				  container_name: vproweb
				  ports:
					- "80:80"

			volumes:
			  vprodbdata: {}
			  vproappdata: {}
			  
		Case 2:
		
			version: "3.8"

			services:
			  client:
				build:
				  context: ./client
				ports:
				  - "4200:4200"
				container_name: client
				depends_on:
				  - api
				  - webapi

			  api:
				build:
				  context: ./nodeapi
				ports:
				  - "5000:5000"
				restart: always
				container_name: api
				depends_on:
				  - nginx
				  - emongo

			  webapi:
				build:
				  context: ./javaapi
				ports:
				  - "9000:9000"
				restart: always
				container_name: webapi
				depends_on:
				  - emartdb

			  nginx:
				restart: always
				image: nginx:latest
				container_name: nginx
				volumes:
				  - "./nginx/default.conf:/etc/nginx/conf.d/default.conf"
				ports:
				  - "80:80"

			  emongo:
				image: mongo:4
				container_name: emongo
				environment:
				  - MONGO_INITDB_DATABASE=epoc
				ports:
				  - "27017:27017"

			  emartdb:
				image: mysql:8.0.33
				container_name: emartdb
				ports:
				  - "3306:3306"
				environment:
				  - MYSQL_ROOT_PASSWORD=emartdbpass
				  - MYSQL_DATABASE=books

			  
	- Code trong file nginx.conf:
	
		Case 1:
		
			server {
				listen       4200;
				listen  [::]:4200;
				server_name  localhost;

				#access_log  /var/log/nginx/host.access.log  main;

				location / {
					root   /usr/share/nginx/html;
					index  index.html index.htm;
				}

				#error_page  404              /404.html;

				# redirect server error pages to the static page /50x.html
				#
				error_page   500 502 503 504  /50x.html;
				location = /50x.html {
					root   /usr/share/nginx/html;
				}

				# proxy the PHP scripts to Apache listening on 127.0.0.1:80
				#
				#location ~ \.php$ {
				#    proxy_pass   http://127.0.0.1;
				#}

				# pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
				#
				#location ~ \.php$ {
				#    root           html;
				#    fastcgi_pass   127.0.0.1:9000;
				#    fastcgi_index  index.php;
				#    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;
				#    include        fastcgi_params;
				#}

				# deny access to .htaccess files, if Apache's document root
				# concurs with nginx's one
				#
				#location ~ /\.ht {
				#    deny  all;
				#}
			}

	- Code trong file default.conf:
	
		Case 1:
		
			#upstream api {
			#    server api:5000; 
			#}
			#upstream webapi {
			#    server webapi:9000;
			#}
			upstream client {
				server client:4200;
			}
			server {
				listen 80;
				location / {
					proxy_set_header Host $host;
					proxy_set_header X-Real-IP $remote_addr;
					proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
					proxy_set_header X-Forwarded-Proto $scheme; 

					proxy_http_version 1.1;
					proxy_set_header Upgrade $http_upgrade;
					proxy_set_header Connection "upgrade";
					proxy_pass http://client/;
				}
				location /api {
			#        rewrite ^/api/(.*) /$1 break; # works for both /api and /api/
			#        proxy_set_header Host $host;
			#        proxy_set_header X-Real-IP $remote_addr;
			#        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
			#        proxy_set_header X-Forwarded-Proto $scheme; 
			#        proxy_http_version 1.1;

					proxy_pass http://api:5000;
				}
				location /webapi {
			#        rewrite ^/webapi/(.*) /$1 break;
			#        proxy_set_header Host $host;
			#        proxy_set_header X-Real-IP $remote_addr;
			##        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
			#        proxy_set_header X-Forwarded-Proto $scheme;
					proxy_pass http://webapi:9000;
				}
			}

	- Code trong Advanced details cá»§a EC2:
	
		Case 1:
		
			#!/bin/bash

			# Install docker on Ubuntu
			sudo apt-get update
				sudo apt-get install \
				 ca-certificates \
				 curl \
				 gnupg \
				 lsb-release -y
				curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
				echo \
				"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \
				$(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

			# Install docker-compose
				sudo apt-get update
				sudo apt-get install docker-ce docker-ce-cli containerd.io -y
				sudo curl -L "https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
				sudo chmod +x /usr/local/bin/docker-compose

			# Add ubuntu user into docker group
				sudo usermod -a -G docker ubuntu

--- Kubernetes:

	- Route 53 -> Dashboard -> Create hosted zone
	- Amazon Elastic Kubernetes Service (Amazon EKS)
	
	-- Source: hkhcoder (kubernetes-setup)
	-- Source: hkhcoder (terraform-eks)
	
	Kubernetes: Run containers for production. Orchestration tools
	
	Má»—i pod sáº½ cÃ³ 1 IP
	
	CÃ i Ä‘áº·t minikube kubernetes-cli trÃªn mÃ¡y local
	
	CÃ i Ä‘áº·t kubernetes vá»›i minikube
	
	Táº¡o EC2 kops
	
	Táº¡o IAM kopsadmin vá»›i policy lÃ  AdministratorAccess
	
	Truy cáº­p vÃ o EC2 kops, sau Ä‘Ã³ cÃ i Ä‘áº·t aws-cli, sau Ä‘Ã³ Ä‘Äƒng nháº­p vá»›i aws configure. Sau Ä‘ps ssh-keygen
	
	CÃ i Ä‘áº·t kops trÃªn EC2 kops, tiáº¿p theo cÃ i Ä‘áº·t kubectl
	
	Táº¡o s3 bucket kopsstate956
	
	Táº¡o hosted zone trÃªn AWS Route 53 kubevpro.hkhinfoteck.xyz
	
	Cháº¡y cÃ¡c file cáº¥u hÃ¬nh yaml Ä‘á»ƒ táº¡o cÃ¡c nodeport, load balancer...cÃ³ thá»ƒ tháº¥y trÃªn aws
	
	configmap
	
	secret
	
	ingress
	
	install ingress nginx
	
	cheatsheet
	
	taints
	
	job
	
	cronJob
	
	daemonSet
	
	Táº¡o bucjet terraform-eks23
	
	Viáº¿t code terraform Ä‘á»ƒ táº¡o Amazon Elastic Kubernetes Service
	

	- Google search:
	
		kubernetes docs
		
		minikube get started
		
		install kops
		
		install kubectl on linux
		
		kubernetes pod
		
		kubernetes deployment
		
		install kubectl on window
		
		kubernetes replicaset
		
		kubernetes deployment
		
		dockerfile reference
		
		define a command and arguments for a container
		
		kubernetes volume
		
		kubernetes configmaps
		
		kubernetes secrets
		
		kubernetes ingress
		
		kubectl cheatsheet
		
		kubernetes taint
		
		kubernetes limit
		
		kubernetes jobs
		
		kubernetes cronjob
		
		kubernetes daemonset
		
		k8slens.dev
		
		terraform modules
		
		
		
		
		
	Cáº§n check code trong source tá»« git clone (emartapp)
		
		
	Minukue:

		MINIKUBE LÃ€ GÃŒ?

			Minikube lÃ  má»™t cÃ´ng cá»¥ giÃºp báº¡n cháº¡y Kubernetes ngay trÃªn mÃ¡y cÃ¡ nhÃ¢n (Laptop, PC) trong má»™t mÃ´i trÆ°á»ng nhá» gá»n.

			NÃ³ táº¡o ra má»™t cluster Kubernetes 1 node (single-node cluster) Ä‘á»ƒ báº¡n:

				há»c Kubernetes

				test á»©ng dá»¥ng

				phÃ¡t triá»ƒn microservices

				thá»­ deploy mÃ  khÃ´ng cáº§n cloud (AWS, GCP, Azureâ€¦)

			Hiá»ƒu Ä‘Æ¡n giáº£n:
			
				Minikube = báº£n Kubernetes mini cháº¡y ngay trÃªn mÃ¡y báº¡n.

				KhÃ´ng cáº§n server, khÃ´ng cáº§n cloud.

		MINIKUBE DÃ™NG Äá»‚ LÃ€M GÃŒ?

			Há»c vÃ  thá»±c hÃ nh Kubernetes

			Deploy thá»­ á»©ng dá»¥ng (web, API, databaseâ€¦)

			Test kubectl, pods, deployments, services

			Táº­p viáº¿t file YAML (Deployment, Service, Ingressâ€¦)

			Thá»­ nghiá»‡m CI/CD pipeline ngay trÃªn mÃ¡y

			Debug app cháº¡y trong container + Kubernetes

		NÃ“ Váº¬N HÃ€NH THáº¾ NÃ€O?

		Khi báº¡n cháº¡y:

			minikube start


		Minikube sáº½:

			Táº¡o 1 VM nhá» (hoáº·c dÃ¹ng Docker backend)

			CÃ i Kubernetes vÃ o trong Ä‘Ã³

			Káº¿t ná»‘i kubectl cá»§a báº¡n vÃ o cluster Ä‘Ã³

		Báº¡n cÃ³ thá»ƒ cháº¡y:

			kubectl get pods

			kubectl create deployment

			kubectl expose service
			
				â€¦ y nhÆ° Ä‘ang dÃ¹ng Kubernetes tháº­t.

		MINIKUBE KHÃC GÃŒ Vá»šI KUBERNETES THáº¬T?

			Kubernetes tháº­t:

				nhiá»u node

				cháº¡y trÃªn cloud

				táº£i lá»›n, HA, scaling

			Minikube:

				1 node (master + worker chung)

				cháº¡y trÃªn laptop

				Ä‘á»ƒ há»c / test

			Chá»©c nÄƒng gáº§n nhÆ° giá»‘ng nhau, chá»‰ thu nhá».

		Æ¯U ÄIá»‚M Cá»¦A MINIKUBE

			CÃ i cá»±c dá»… (1 lá»‡nh)

			Nháº¹, cháº¡y Ä‘Æ°á»£c trÃªn Windows, macOS, Linux

			KhÃ´ng cáº§n cloud

			Ideal cho dev/test

			KhÃ´ng tá»‘n tiá»n
			
		NHÆ¯á»¢C ÄIá»‚M

			KhÃ´ng mÃ´ phá»ng full production

			Chá»‰ 1 node (khÃ´ng cÃ³ real HA)

			Náº·ng náº¿u mÃ¡y yáº¿u (RAM 8GB trá»Ÿ xuá»‘ng hÆ¡i Ä‘uá»‘i)
			
	CHOCOLATEY:

		Chocolatey (thÆ°á»ng gá»i lÃ  choco) lÃ  má»™t trÃ¬nh quáº£n lÃ½ package (package manager) dÃ nh cho Windows, tÆ°Æ¡ng tá»± nhÆ°:

			apt cho Ubuntu

			yum/dnf cho CentOS

			brew cho macOS

		Chocolatey giÃºp báº¡n cÃ i Ä‘áº·t pháº§n má»m báº±ng dÃ²ng lá»‡nh, thay vÃ¬ pháº£i:

			táº£i file .exe/.msi

			nháº¥n Next â†’ Next â†’ Install
			
	KOPS Kubernetes Operations):

			kops (Kubernetes Operations) lÃ  má»™t cÃ´ng cá»¥ giÃºp báº¡n tá»± Ä‘á»™ng táº¡o, quáº£n lÃ½ vÃ  váº­n hÃ nh Kubernetes cluster trÃªn cÃ¡c ná»n táº£ng cloud, Ä‘áº·c biá»‡t lÃ  AWS.

			Báº¡n cÃ³ thá»ƒ xem kops nhÆ°:

				â€œTerraform dÃ nh riÃªng cho Kubernetesâ€
				
					â†’ nhÆ°ng táº­p trung vÃ o viá»‡c táº¡o cluster Kubernetes chuáº©n production.

		KOPS DÃ™NG Äá»‚ LÃ€M GÃŒ?

			Táº¡o Kubernetes cluster hoÃ n chá»‰nh trÃªn AWS

			Quáº£n lÃ½ lifecycle cá»§a cluster:

				táº¡o

				cáº­p nháº­t

				nÃ¢ng cáº¥p version

				thay Ä‘á»•i cáº¥u hÃ¬nh

				xÃ³a cluster

			Tá»± Ä‘á»™ng cáº¥u hÃ¬nh networking, load balancer, autoscaling, etcdâ€¦

			Táº¡o cluster HA (High Availability)

			Tá»± Ä‘á»™ng hÃ³a provisioning báº±ng file YAML (declarative)

		Táº I SAO Cáº¦N KOPS?

			VÃ¬ Kubernetes khÃ´ng tá»± dá»±ng cluster cho báº¡n.

			TrÃªn cloud nhÆ° AWS, báº¡n pháº£i tá»± táº¡o:

				EC2 (master + worker nodes)

				VPC

				Route tables

				Subnets

				Autoscaling groups

				Security groups

				Load balancers

				Etcd

				DNS

			Náº¿u lÃ m thá»§ cÃ´ng â†’ quÃ¡ phá»©c táº¡p, dá»… sai.

			kops lÃ m táº¥t cáº£ tá»± Ä‘á»™ng báº±ng 1 lá»‡nh.

		VÃ Dá»¤ Dá»„ HIá»‚U

			Táº¡o cluster:
			
				kops create cluster
				--name=mycluster.k8s.local
				--state=s3://my-kops-state
				--zones=us-east-1a
				--yes

			Kops sáº½ tá»± Ä‘á»™ng:

				táº¡o EC2

				setup master/worker

				cÃ i kubelet, kube-apiserver

				táº¡o VPC, subnet

				táº¡o autoscaling group

				cáº¥u hÃ¬nh load balancer

				hoÃ n thiá»‡n Kubernetes cluster

			Rá»“i báº¡n chá»‰ cáº§n:
			
				kubectl get nodes

			LÃ  xong.

		KOPS KHÃC GÃŒ MINIKUBE?

			Minikube:

				dÃ¹ng Ä‘á»ƒ há»c / test

				cháº¡y trÃªn mÃ¡y cÃ¡ nhÃ¢n

				chá»‰ cÃ³ 1 node

				khÃ´ng pháº£i production

			Kops:

				táº¡o cluster Kubernetes production trÃªn AWS

				multi-node, multi-AZ

				high availability

				autoscaling

				networking chuáº©n cloud

		KOPS Há»– TRá»¢ Ná»€N Táº¢NG NÃ€O?

			AWS: há»— trá»£ máº¡nh nháº¥t

			GCE (Google Cloud): thá»­ nghiá»‡m

			Bare metal / VMware: cÃ³ thá»ƒ dÃ¹ng nhÆ°ng khÃ´ng phá»• biáº¿n
		

	- Commands:
	
		- cmd: kops export kubecfg kubevpro.vnstudio.info --state=s3://kopsstate112211 --admin
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			kops export kubecfg kubevpro.vnstudio.info --state=s3://kopsstate112211 --admin
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ export (xuáº¥t) file cáº¥u hÃ¬nh Kubernetes
			(kubeconfig) cho cluster Ä‘Æ°á»£c táº¡o vÃ  quáº£n lÃ½ báº±ng Kops,
			Ä‘á»ƒ ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ dÃ¹ng kubectl truy cáº­p cluster.

			- Cluster name: kubevpro.vnstudio.info
			- State store: S3 bucket kopsstate112211
			- Quyá»n truy cáº­p: admin (quyá»n cao nháº¥t)

			Sau khi cháº¡y lá»‡nh nÃ y, báº¡n cÃ³ thá»ƒ dÃ¹ng:
			--------------------------------------------------
			kubectl get nodes
			kubectl get pods

			--------------------------------------------------
			2. KOPS LÃ€ GÃŒ?
			--------------------------------------------------
			Kops (Kubernetes Operations) lÃ  cÃ´ng cá»¥ dÃ¹ng Ä‘á»ƒ:
			- Táº¡o cluster Kubernetes
			- Quáº£n lÃ½ cluster Kubernetes
			- NÃ¢ng cáº¥p, xÃ³a, validate cluster

			Kops thÆ°á»ng dÃ¹ng vá»›i:
			- AWS (phá»• biáº¿n nháº¥t)
			- State Ä‘Æ°á»£c lÆ°u trong S3 bucket

			--------------------------------------------------
			3. KUBECONFIG LÃ€ GÃŒ?
			--------------------------------------------------
			Kubeconfig lÃ  file cáº¥u hÃ¬nh (thÆ°á»ng lÃ  ~/.kube/config)
			chá»©a thÃ´ng tin Ä‘á»ƒ kubectl káº¿t ná»‘i tá»›i Kubernetes cluster.

			Bao gá»“m:
			- Endpoint (API Server)
			- Certificate
			- User / Context
			- Quyá»n truy cáº­p

			--------------------------------------------------
			4. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N Lá»†NH
			--------------------------------------------------

			4.1. kops
			--------------------------------------------------
			- CLI tool cá»§a Kops
			- DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster

			4.2. export
			--------------------------------------------------
			- Subcommand dÃ¹ng Ä‘á»ƒ xuáº¥t thÃ´ng tin cáº¥u hÃ¬nh
			- á» Ä‘Ã¢y lÃ  xuáº¥t kubeconfig

			4.3. kubecfg
			--------------------------------------------------
			- Chá»‰ Ä‘á»‹nh loáº¡i export lÃ  kubeconfig
			- Káº¿t quáº£ lÃ  file cáº¥u hÃ¬nh cho kubectl

			4.4. kubevpro.vnstudio.info
			--------------------------------------------------
			- TÃªn Kubernetes cluster
			- Pháº£i khá»›p chÃ­nh xÃ¡c vá»›i cluster Ä‘Ã£ táº¡o báº±ng Kops
			- Cluster name thÆ°á»ng trÃ¹ng vá»›i DNS name

			4.5. --state=s3://kopsstate112211
			--------------------------------------------------
			- Chá»‰ Ä‘á»‹nh nÆ¡i lÆ°u state cá»§a Kops
			- State store chá»©a:
			  + ThÃ´ng tin cluster
			  + Cert
			  + Key
			  + Metadata

			- á» Ä‘Ã¢y state Ä‘Æ°á»£c lÆ°u trong S3 bucket:
			--------------------------------------------------
			s3://kopsstate112211

			4.6. --admin
			--------------------------------------------------
			- Export kubeconfig vá»›i quyá»n ADMIN
			- CÃ³ toÃ n quyá»n trÃªn cluster (cluster-admin)
			- Cho phÃ©p:
			  + Táº¡o/xÃ³a namespace
			  + Táº¡o/xÃ³a node
			  + Deploy workload
			  + Quáº£n lÃ½ RBAC

			--------------------------------------------------
			5. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			--------------------------------------------------
			1. Kops Ä‘á»c thÃ´ng tin cluster tá»« S3 state store
			2. Láº¥y certificate vÃ  key cáº§n thiáº¿t
			3. Táº¡o kubeconfig má»›i
			4. Ghi cáº¥u hÃ¬nh vÃ o file:
			--------------------------------------------------
			~/.kube/config

			HOáº¶C merge vá»›i kubeconfig hiá»‡n cÃ³

			--------------------------------------------------
			6. KIá»‚M TRA SAU KHI EXPORT
			--------------------------------------------------
			- Kiá»ƒm tra context hiá»‡n táº¡i:
			--------------------------------------------------
			kubectl config get-contexts

			- Kiá»ƒm tra cluster hoáº¡t Ä‘á»™ng:
			--------------------------------------------------
			kubectl get nodes

			--------------------------------------------------
			7. LÆ¯U Ã Cá»°C Ká»² QUAN TRá»ŒNG
			--------------------------------------------------
			- --admin cáº¥p QUYá»€N CAO NHáº¤T â†’ chá»‰ dÃ¹ng cho admin
			- KhÃ´ng chia sáº» file ~/.kube/config cho ngÆ°á»i khÃ¡c
			- File kubeconfig chá»©a thÃ´ng tin nháº¡y cáº£m
			- S3 bucket state pháº£i truy cáº­p Ä‘Æ°á»£c (AWS credentials há»£p lá»‡)

			--------------------------------------------------
			8. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------
			- KhÃ´ng tÃ¬m tháº¥y cluster:
			--------------------------------------------------
			Cluster not found

			â†’ Sai cluster name hoáº·c sai state store

			- Lá»—i quyá»n S3:
			--------------------------------------------------
			AccessDenied

			â†’ AWS IAM user/role chÆ°a Ä‘á»§ quyá»n vá»›i S3 bucket

			--------------------------------------------------
			9. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- Káº¿t ná»‘i kubectl tá»›i cluster Kops
			- Thiáº¿t láº­p mÃ´i trÆ°á»ng quáº£n trá»‹ Kubernetes
			- DÃ¹ng trong DevOps / Cloud / Kubernetes Admin

			--------------------------------------------------
			10. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			kops export kubecfg kubevpro.vnstudio.info --state=s3://kopsstate112211 --admin
			= Xuáº¥t kubeconfig cho cluster Kops
			= LÆ°u cáº¥u hÃ¬nh vÃ o ~/.kube/config
			= DÃ¹ng Ä‘á»ƒ kubectl truy cáº­p cluster
			= Quyá»n admin (toÃ n quyá»n)
			==================================================
		
		
		- cmd: choco install minikube kubernetes-cli -y
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			choco install minikube kubernetes-cli -y

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- CÃ i Ä‘áº·t Minikube vÃ  Kubernetes CLI (kubectl) trÃªn há»‡ Ä‘iá»u hÃ nh Windows
			- Sá»­ dá»¥ng Chocolatey (choco) - trÃ¬nh quáº£n lÃ½ gÃ³i trÃªn Windows
			- TÃ¹y chá»n `-y` Ä‘á»ƒ tá»± Ä‘á»™ng Ä‘á»“ng Ã½ táº¥t cáº£ cÃ¡c xÃ¡c nháº­n trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ thiáº¿t láº­p mÃ´i trÆ°á»ng phÃ¡t triá»ƒn Kubernetes trÃªn local

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. choco
			--------------------------------------------------
			- Chocolatey - trÃ¬nh quáº£n lÃ½ gÃ³i trÃªn Windows
			- DÃ¹ng Ä‘á»ƒ cÃ i, gá»¡, update pháº§n má»m thÃ´ng qua command line

			2.2. install
			--------------------------------------------------
			- Subcommand dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t gÃ³i

			2.3. minikube
			--------------------------------------------------
			- GÃ³i Minikube
			- Minikube giÃºp khá»Ÿi cháº¡y má»™t cluster Kubernetes single-node trÃªn mÃ¡y local
			- Phá»¥c vá»¥ há»c táº­p, thá»­ nghiá»‡m vÃ  phÃ¡t triá»ƒn

			2.4. kubernetes-cli
			--------------------------------------------------
			- GÃ³i kubectl (Kubernetes CLI)
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster
			- Thá»±c thi cÃ¡c lá»‡nh nhÆ° apply, get, describe, delete, v.v.

			2.5. -y
			--------------------------------------------------
			- Tá»± Ä‘á»™ng tráº£ lá»i "Yes" cho táº¥t cáº£ cÃ¡c cÃ¢u há»i
			- GiÃºp cÃ i Ä‘áº·t diá»…n ra khÃ´ng cáº§n tÆ°Æ¡ng tÃ¡c

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Chocolatey kiá»ƒm tra káº¿t ná»‘i máº¡ng vÃ  quyá»n admin
			2. TÃ¬m phiÃªn báº£n má»›i nháº¥t cá»§a cÃ¡c gÃ³i:
			   - minikube
			   - kubernetes-cli
			3. Táº£i gÃ³i tá»« repository Chocolatey
			4. CÃ i Ä‘áº·t gÃ³i trÃªn há»‡ thá»‘ng
			5. Cáº­p nháº­t PATH Ä‘á»ƒ cÃ¡c lá»‡nh `minikube` vÃ  `kubectl` cÃ³ thá»ƒ sá»­ dá»¥ng tá»« command prompt

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥ khi cháº¡y:

			Chocolatey v1.4.0
			Installing the following packages:
			minikube
			kubernetes-cli
			By installing you accept licenses for the packages.
			Progress: Downloading minikube
			Progress: Installing kubernetes-cli
			...
			Chocolatey installed 2/2 packages.

			--------------------------------------------------
			5. KIá»‚M TRA SAU KHI CÃ€I
			--------------------------------------------------
			- Kiá»ƒm tra phiÃªn báº£n Minikube:
			minikube version

			- Kiá»ƒm tra phiÃªn báº£n kubectl:
			kubectl version --client

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Dá»… dÃ ng táº¡o Kubernetes cluster local
			- DÃ¹ng cho há»c táº­p, thá»­ nghiá»‡m, CI/CD
			- KhÃ´ng cáº§n mÃ¡y chá»§ hoáº·c cloud
			- Chuáº©n hÃ³a mÃ´i trÆ°á»ng phÃ¡t triá»ƒn Kubernetes

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. Quyá»n admin
			--------------------------------------------------
			- Cáº§n má»Ÿ PowerShell hoáº·c Command Prompt vá»›i quyá»n Administrator

			7.2. Choco khÃ´ng Ä‘Æ°á»£c cÃ i
			--------------------------------------------------
			- Kiá»ƒm tra Chocolatey Ä‘Ã£ cÃ i chÆ°a
			- CÃ i Chocolatey trÆ°á»›c: https://chocolatey.org/install

			7.3. Lá»—i máº¡ng
			--------------------------------------------------
			- KhÃ´ng táº£i Ä‘Æ°á»£c gÃ³i
			- Kiá»ƒm tra káº¿t ná»‘i Internet vÃ  proxy

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- Minikube chiáº¿m tÃ i nguyÃªn CPU vÃ  RAM
			- NÃªn dÃ¹ng mÃ¡y cÃ³ Ã­t nháº¥t 4GB RAM
			- Äáº£m báº£o áº£o hÃ³a Ä‘Æ°á»£c báº­t trÃªn BIOS (VT-x / AMD-V)

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			choco install minikube kubernetes-cli -y

			= CÃ i Minikube vÃ  kubectl trÃªn Windows
			= DÃ¹ng Chocolatey
			= Tá»± Ä‘á»™ng Ä‘á»“ng Ã½ táº¥t cáº£ xÃ¡c nháº­n
			= DÃ¹ng Ä‘á»ƒ cháº¡y cluster Kubernetes local
			= Chuáº©n bá»‹ mÃ´i trÆ°á»ng phÃ¡t triá»ƒn hoáº·c thá»­ nghiá»‡m
		
		
		- cmd: minikube.exe --help
		
			Lá»†NH: minikube.exe --help
			========================

			1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
			-------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Hiá»ƒn thá»‹ táº¥t cáº£ cÃ¡c tÃ¹y chá»n, command vÃ  flags mÃ  Minikube há»— trá»£
			- GiÃºp ngÆ°á»i dÃ¹ng hiá»ƒu cÃ¡ch sá»­ dá»¥ng Minikube trÃªn Windows
			- KhÃ´ng thá»±c hiá»‡n báº¥t ká»³ thao tÃ¡c nÃ o trÃªn cluster


			2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
			------------------------------------

			2.1. minikube.exe
			-----------------
			- LÃ  file thá»±c thi cá»§a Minikube trÃªn Windows
			- Minikube lÃ  cÃ´ng cá»¥:
			  + Táº¡o vÃ  quáº£n lÃ½ Kubernetes cluster local
			  + Há»— trá»£ há»c táº­p, thá»­ nghiá»‡m, vÃ  phÃ¡t triá»ƒn á»©ng dá»¥ng K8s

			Chá»©c nÄƒng chÃ­nh:
			- khá»Ÿi táº¡o cluster: minikube start
			- quáº£n lÃ½ cluster: minikube stop, minikube delete
			- xem tráº¡ng thÃ¡i: minikube status
			- truy cáº­p dashboard: minikube dashboard


			2.2. --help
			------------
			- Flag chuáº©n cá»§a háº§u háº¿t CLI tools
			- Khi thÃªm --help:
			  + Hiá»ƒn thá»‹ hÆ°á»›ng dáº«n sá»­ dá»¥ng
			  + Liá»‡t kÃª táº¥t cáº£ sub-command
			  + Liá»‡t kÃª cÃ¡c flag vÃ  mÃ´ táº£

			VÃ­ dá»¥, cháº¡y:
			  minikube.exe --help

			Sáº½ hiá»ƒn thá»‹:
			- Usage: cÃ¡ch cháº¡y minikube
			- CÃ¡c command: start, stop, status, dashboard, delete, ...
			- CÃ¡c flag global: --vm-driver, --memory, --cpus, ...


			3. Ná»˜I DUNG CHI TIáº¾T KHI CHáº Y
			-----------------------------
			ThÃ´ng thÆ°á»ng, output cá»§a minikube.exe --help sáº½ gá»“m:

			1. Usage
			---------
			CÃº phÃ¡p chung:
			  minikube [command] [flags]

			2. Available Commands
			--------------------
			CÃ¡c command cÆ¡ báº£n:
			- start       : khá»Ÿi táº¡o cluster local
			- stop        : dá»«ng cluster
			- delete      : xÃ³a cluster
			- status      : xem tráº¡ng thÃ¡i cluster
			- dashboard   : má»Ÿ Kubernetes dashboard
			- ssh         : SSH vÃ o VM cluster
			- logs        : xem log Minikube
			- kubectl     : cháº¡y kubectl thÃ´ng qua Minikube

			3. Flags
			--------
			CÃ¡c flag global cÃ³ thá»ƒ dÃ¹ng:
			- --vm-driver string     : chá»‰ Ä‘á»‹nh driver áº£o hÃ³a (hyperv, virtualbox, docker,â€¦)
			- --memory int           : dung lÆ°á»£ng RAM cho cluster (VD: 4096)
			- --cpus int             : sá»‘ CPU cho cluster
			- --kubernetes-version   : phiÃªn báº£n Kubernetes muá»‘n dÃ¹ng
			- --help                 : hiá»ƒn thá»‹ hÆ°á»›ng dáº«n

			4. Example Usage
			----------------
			- Khá»Ÿi Ä‘á»™ng cluster vá»›i driver docker:
			  minikube start --driver=docker

			- Kiá»ƒm tra tráº¡ng thÃ¡i cluster:
			  minikube status

			- Truy cáº­p dashboard:
			  minikube dashboard


			4. Lá»¢I ÃCH KHI DÃ™NG --help
			--------------------------
			- Biáº¿t Ä‘Æ°á»£c toÃ n bá»™ command cá»§a Minikube
			- Biáº¿t cÃ¡c flag global cÃ³ thá»ƒ dÃ¹ng
			- Biáº¿t cÃº phÃ¡p Ä‘áº§y Ä‘á»§ khi cháº¡y cÃ¡c lá»‡nh
			- Há»¯u Ã­ch khi viáº¿t script hoáº·c automation


			5. KHUYÃŠN DÃ™NG
			---------------
			- ThÆ°á»ng xuyÃªn dÃ¹ng --help khi má»›i lÃ m quen vá»›i Minikube
			- Káº¿t há»£p xem help cá»§a tá»«ng command:
			  minikube start --help
			  minikube dashboard --help
			- TrÃ¡nh lá»—i khi cháº¡y cluster hoáº·c khai bÃ¡o flag sai


			6. TÃ“M Táº®T NGáº®N Gá»ŒN
			-------------------
			minikube.exe           : file thá»±c thi Minikube trÃªn Windows
			--help                 : hiá»ƒn thá»‹ hÆ°á»›ng dáº«n, command, flag
			Káº¿t quáº£                : danh sÃ¡ch toÃ n bá»™ lá»‡nh vÃ  tÃ¹y chá»n, vÃ­ dá»¥ start, stop, delete, dashboard, status, ssh
		
		
		- cmd: minikube start
		
			Lá»†NH: minikube start
			====================================================================

			1. Minikube lÃ  gÃ¬?
			--------------------------------------------------------------------
			- Minikube lÃ  cÃ´ng cá»¥ Ä‘á»ƒ cháº¡y Kubernetes cluster cá»¥c bá»™ (local) trÃªn mÃ¡y tÃ­nh cÃ¡ nhÃ¢n
			- DÃ¹ng Ä‘á»ƒ:
			  + PhÃ¡t triá»ƒn á»©ng dá»¥ng Kubernetes
			  + Thá»­ nghiá»‡m, há»c táº­p, demo
			- Minikube táº¡o ra má»™t single-node Kubernetes cluster
			- Cháº¡y trÃªn Hypervisor/VM hoáº·c container runtime

			--------------------------------------------------------------------

			2. start lÃ  gÃ¬ trong minikube?
			--------------------------------------------------------------------
			- start = khá»Ÿi táº¡o vÃ  cháº¡y cluster Kubernetes
			- Bao gá»“m cÃ¡c bÆ°á»›c:
			  1) Táº¡o VM hoáº·c container runtime
			  2) CÃ i Ä‘áº·t kubeadm, kubelet, kubectl
			  3) Khá»Ÿi cháº¡y control plane
			  4) Táº¡o node worker (single-node)
			  5) Thiáº¿t láº­p networking, storage, addons máº·c Ä‘á»‹nh

			--------------------------------------------------------------------

			3. CÃº phÃ¡p cÆ¡ báº£n
			--------------------------------------------------------------------
			minikube start

			- Khá»Ÿi táº¡o cluster Kubernetes máº·c Ä‘á»‹nh
			- Single-node
			- Driver máº·c Ä‘á»‹nh: VirtualBox, Hyper-V, Docker tÃ¹y OS

			--------------------------------------------------------------------

			4. CÃ¡c tÃ¹y chá»n thÆ°á»ng dÃ¹ng
			--------------------------------------------------------------------
			--driver=<driver>
			- Chá»n hypervisor hoáº·c container runtime
			- VÃ­ dá»¥:
			minikube start --driver=docker

			--cpus=<n>
			- Sá»‘ CPU cho cluster
			- VÃ­ dá»¥:
			minikube start --cpus=4

			--memory=<MB>
			- RAM cáº¥p cho node
			- VÃ­ dá»¥:
			minikube start --memory=4096

			--kubernetes-version=<version>
			- PhiÃªn báº£n Kubernetes muá»‘n cÃ i
			- VÃ­ dá»¥:
			minikube start --kubernetes-version=v1.27.6

			--------------------------------------------------------------------

			5. Quy trÃ¬nh thá»±c thi lá»‡nh
			--------------------------------------------------------------------
			1) Kiá»ƒm tra driver (VirtualBox/Docker/Hyper-V)
			2) Táº¡o VM hoáº·c container runtime cho node
			3) CÃ i Ä‘áº·t Kubernetes components (kubelet, kubeadm)
			4) Khá»Ÿi cháº¡y API server vÃ  control plane
			5) Cáº¥u hÃ¬nh kubectl Ä‘á»ƒ káº¿t ná»‘i cluster
			6) KÃ­ch hoáº¡t addons máº·c Ä‘á»‹nh (dashboard, storage-provisioner)

			--------------------------------------------------------------------

			6. Kiá»ƒm tra tráº¡ng thÃ¡i sau khi start
			--------------------------------------------------------------------
			- Kiá»ƒm tra cluster Ä‘ang cháº¡y:
			minikube status

			- Kiá»ƒm tra nodes:
			kubectl get nodes

			- Kiá»ƒm tra pods trong kube-system:
			kubectl get pods -n kube-system

			--------------------------------------------------------------------

			7. Output thÆ°á»ng tháº¥y
			--------------------------------------------------------------------
			ğŸ˜„  minikube v1.30.1 on Linux
			âœ¨  Using the docker driver
			ğŸ‘  Starting control plane node minikube in cluster minikube
			ğŸ”¥  Creating docker container (CPUs=2, Memory=2200MB) ...
			ğŸ³  Preparing Kubernetes v1.27.6 on Docker 20.10.17 ...
			ğŸš€  Launching Kubernetes ... 
			ğŸ„  Done! kubectl is now configured to use "minikube" cluster

			--------------------------------------------------------------------

			8. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) Driver khÃ´ng há»— trá»£
			- Chá»n driver khÃ¡c (docker, virtualbox, hyperkit)

			2) Port conflict
			- Kiá»ƒm tra port cá»§a hypervisor hoáº·c container

			3) Thiáº¿u quyá»n
			- Cháº¡y vá»›i sudo náº¿u cáº§n (Linux)

			4) Memory/CPU khÃ´ng Ä‘á»§
			- TÄƒng CPU/RAM cho node

			--------------------------------------------------------------------

			9. Khi nÃ o dÃ¹ng lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- Khá»Ÿi táº¡o local Kubernetes cluster Ä‘á»ƒ dev/test
			- Há»c Kubernetes cÆ¡ báº£n
			- Demo á»©ng dá»¥ng microservices

			--------------------------------------------------------------------

			10. LÆ°u Ã½ quan trá»ng
			--------------------------------------------------------------------
			- Minikube lÃ  single-node cluster, khÃ´ng dÃ¹ng production
			- Resource mÃ¡y tÃ­nh pháº£i Ä‘á»§: CPU, RAM, disk
			- Sau khi dÃ¹ng xong:
			minikube stop
			minikube delete

			--------------------------------------------------------------------

			11. So sÃ¡nh nhanh
			--------------------------------------------------------------------
			minikube start       â†’ khá»Ÿi táº¡o cluster má»›i hoáº·c start láº¡i cluster cÃ³ sáºµn
			minikube stop        â†’ dá»«ng cluster nhÆ°ng giá»¯ VM
			minikube delete      â†’ xÃ³a hoÃ n toÃ n cluster vÃ  VM

			--------------------------------------------------------------------

			12. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			minikube start =
			KHá»I Táº O VÃ€ CHáº Y LOCAL KUBERNETES CLUSTER (SINGLE-NODE) TRÃŠN MÃY Cá»¦A Báº N
		
		
		- cmd: minikube start --no-vtx-check
		
			# Lá»‡nh gá»‘c:
			minikube start --no-vtx-check

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. minikube
			# - Minikube lÃ  cÃ´ng cá»¥ Ä‘á»ƒ cháº¡y Kubernetes cluster cá»¥c bá»™ (local) trÃªn mÃ¡y phÃ¡t triá»ƒn.
			# - ThÆ°á»ng dÃ¹ng Ä‘á»ƒ há»c, thá»­ nghiá»‡m vÃ  phÃ¡t triá»ƒn á»©ng dá»¥ng Kubernetes mÃ  khÃ´ng cáº§n cluster production.
			# - Minikube táº¡o má»™t VM hoáº·c container Ä‘á»ƒ cháº¡y single-node Kubernetes cluster.

			# 2. start
			# - Lá»‡nh `start` dÃ¹ng Ä‘á»ƒ khá»Ÿi Ä‘á»™ng cluster Kubernetes cá»¥c bá»™.
			# - Khi cháº¡y, Minikube sáº½:
			#   + Táº¡o VM/container má»›i.
			#   + Cáº¥u hÃ¬nh Kubernetes node.
			#   + CÃ i Ä‘áº·t kubelet, kubeadm, kubectl trong node.
			#   + Khá»Ÿi Ä‘á»™ng cÃ¡c service cÆ¡ báº£n cá»§a Kubernetes.

			# 3. --no-vtx-check
			# - TÃ¹y chá»n nÃ y bá» qua kiá»ƒm tra VT-x/AMD-V (cÃ´ng nghá»‡ áº£o hÃ³a pháº§n cá»©ng).
			# - ThÆ°á»ng Ä‘Æ°á»£c dÃ¹ng khi:
			#   + CPU khÃ´ng há»— trá»£ VT-x/AMD-V.
			#   + áº¢o hÃ³a pháº§n cá»©ng bá»‹ táº¯t trong BIOS/UEFI.
			# - Náº¿u khÃ´ng cÃ³ tÃ¹y chá»n nÃ y, Minikube cÃ³ thá»ƒ bÃ¡o lá»—i vÃ  khÃ´ng khá»Ÿi Ä‘á»™ng.

			# 4. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Khi cháº¡y `minikube start --no-vtx-check`, Minikube sáº½:
			#   1. Bá» qua kiá»ƒm tra kháº£ nÄƒng áº£o hÃ³a pháº§n cá»©ng.
			#   2. Táº¡o vÃ  khá»Ÿi Ä‘á»™ng Kubernetes cluster cá»¥c bá»™.
			#   3. Cáº¥u hÃ¬nh kubeconfig Ä‘á»ƒ kubectl cÃ³ thá»ƒ káº¿t ná»‘i cluster.
			#   4. Cho phÃ©p báº¡n cháº¡y vÃ  quáº£n lÃ½ pods, services, deployments trÃªn local cluster.

			# 5. LÆ°u Ã½ quan trá»ng:
			# - Cluster váº«n cháº¡y nhÆ°ng cÃ³ thá»ƒ bá»‹ cháº­m hoáº·c kÃ©m hiá»‡u nÄƒng do khÃ´ng dÃ¹ng áº£o hÃ³a pháº§n cá»©ng.
			# - NÃªn báº­t VT-x/AMD-V náº¿u cÃ³ thá»ƒ Ä‘á»ƒ tá»‘i Æ°u hiá»‡u nÄƒng.
			# - Minikube cÃ³ thá»ƒ cháº¡y trÃªn nhiá»u driver: virtualbox, docker, hyperkit, kvm2.
			#   + Khi dÃ¹ng docker driver, lá»‡nh váº«n hoáº¡t Ä‘á»™ng ngay cáº£ khi khÃ´ng cÃ³ VT-x.

			# 6. VÃ­ dá»¥ sá»­ dá»¥ng tiáº¿p theo:
			# - kubectl get nodes
			#   + Kiá»ƒm tra tráº¡ng thÃ¡i node cá»§a cluster.
			# - minikube dashboard
			#   + Má»Ÿ giao diá»‡n web quáº£n lÃ½ cluster Kubernetes.

			# Káº¿t luáº­n:
			# Lá»‡nh `minikube start --no-vtx-check` dÃ¹ng Ä‘á»ƒ khá»Ÿi Ä‘á»™ng Kubernetes cluster cá»¥c bá»™
			# trÃªn mÃ¡y phÃ¡t triá»ƒn, bá» qua kiá»ƒm tra áº£o hÃ³a pháº§n cá»©ng, phÃ¹ há»£p cho mÃ¡y khÃ´ng há»— trá»£ VT-x/AMD-V.
		
		
		- cmd: minikube delete
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			minikube delete
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ xÃ³a toÃ n bá»™ cluster Kubernetes Ä‘Æ°á»£c táº¡o báº±ng Minikube trÃªn mÃ¡y local.

			- Minikube lÃ  cÃ´ng cá»¥ cháº¡y Kubernetes cluster nhá» gá»n (single-node) trÃªn mÃ¡y local Ä‘á»ƒ há»c táº­p, thá»­ nghiá»‡m hoáº·c phÃ¡t triá»ƒn.
			- Khi cháº¡y lá»‡nh `delete`:
			  + Cluster bá»‹ xÃ³a hoÃ n toÃ n
			  + MÃ¡y áº£o (VM) hoáº·c container chá»©a cluster bá»‹ xÃ³a
			  + CÃ¡c dá»¯ liá»‡u, cáº¥u hÃ¬nh liÃªn quan cÅ©ng bá»‹ loáº¡i bá»

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. minikube
			--------------------------------------------------
			- CLI tool cá»§a Minikube
			- Quáº£n lÃ½ lifecycle cá»§a cluster:
			  + start
			  + stop
			  + delete
			  + status

			2.2. delete
			--------------------------------------------------
			- Subcommand dÃ¹ng Ä‘á»ƒ xÃ³a cluster Minikube
			- Giá»‘ng nhÆ° reset toÃ n bá»™ mÃ´i trÆ°á»ng
			- KhÃ´ng yÃªu cáº§u thÃ´ng tin thÃªm náº¿u chá»‰ cÃ³ má»™t cluster Ä‘ang cháº¡y

			--------------------------------------------------
			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			--------------------------------------------------
			1. Minikube kiá»ƒm tra cluster hiá»‡n táº¡i
			2. Stop táº¥t cáº£ node, pod, service
			3. XÃ³a mÃ¡y áº£o/container lÆ°u cluster
			4. XÃ³a cÃ¡c file cáº¥u hÃ¬nh, kubeconfig liÃªn quan
			5. Tráº£ vá» thÃ´ng bÃ¡o hoÃ n táº¥t

			--------------------------------------------------
			4. KIá»‚M TRA SAU KHI DELETE
			--------------------------------------------------
			- Kiá»ƒm tra tráº¡ng thÃ¡i cluster:
			--------------------------------------------------
			minikube status

			- KhÃ´ng cÃ²n cluster nÃ o:
			--------------------------------------------------
			host: Stopped
			kubelet: Stopped
			apiserver: Stopped
			kubeconfig: Configured

			- Hoáº·c minikube start sáº½ táº¡o láº¡i cluster má»›i

			--------------------------------------------------
			5. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Dá»¯ liá»‡u trong cluster bá»‹ máº¥t hoÃ n toÃ n
			- Náº¿u cÃ³ workload quan trá»ng â†’ backup trÆ°á»›c khi delete
			- Delete khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n Docker hoáº·c há»‡ thá»‘ng khÃ¡c ngoÃ i Minikube
			- CÃ³ thá»ƒ xÃ³a nhiá»u cluster náº¿u dÃ¹ng tÃªn cluster khÃ¡c:
			--------------------------------------------------
			minikube delete -p <cluster_name>

			--------------------------------------------------
			6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- Reset cluster Minikube
			- Dá»n dáº¹p mÃ¡y local sau khi test/development
			- Giáº£i phÃ³ng tÃ i nguyÃªn mÃ¡y tÃ­nh (CPU, RAM)
			- XÃ³a cluster lá»—i, cáº§n rebuild

			--------------------------------------------------
			7. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			minikube delete
			= XÃ³a toÃ n bá»™ cluster Minikube trÃªn mÃ¡y local
			= Stop node, xÃ³a VM/container, xÃ³a cáº¥u hÃ¬nh kubeconfig
			= DÃ¹ng Ä‘á»ƒ reset hoáº·c dá»n dáº¹p mÃ´i trÆ°á»ng
			= Táº¥t cáº£ dá»¯ liá»‡u vÃ  workload bá»‹ máº¥t vÄ©nh viá»…n
			==================================================
		
		
		- cmd: cat .kube/config
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			cat .kube/config

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Hiá»ƒn thá»‹ ná»™i dung file cáº¥u hÃ¬nh Kubernetes cá»§a user hiá»‡n táº¡i
			- File `.kube/config` lÆ°u trá»¯ thÃ´ng tin cluster, user, context
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ:
			  + Kiá»ƒm tra cÃ¡c cluster Ä‘Ã£ cáº¥u hÃ¬nh
			  + Xem context hiá»‡n táº¡i
			  + Debug káº¿t ná»‘i vá»›i Kubernetes cluster

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. cat
			--------------------------------------------------
			- Lá»‡nh hiá»ƒn thá»‹ ná»™i dung file trÃªn terminal
			- CÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ Ä‘á»c toÃ n bá»™ ná»™i dung hoáº·c pipe sang lá»‡nh khÃ¡c

			2.2. .kube/config
			--------------------------------------------------
			- ÄÆ°á»ng dáº«n máº·c Ä‘á»‹nh file cáº¥u hÃ¬nh Kubernetes
			- ThÆ°á»ng náº±m trong thÆ° má»¥c home: `$HOME/.kube/config`
			- File YAML lÆ°u trá»¯:
			  + clusters: thÃ´ng tin Ä‘á»‹a chá»‰ API server
			  + users: thÃ´ng tin xÃ¡c thá»±c (token, cert, username/password)
			  + contexts: mapping giá»¯a user vÃ  cluster
			  + current-context: context Ä‘ang sá»­ dá»¥ng

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Terminal má»Ÿ file `.kube/config`
			2. Äá»c toÃ n bá»™ ná»™i dung
			3. In ra mÃ n hÃ¬nh
			4. Báº¡n cÃ³ thá»ƒ redirect output náº¿u muá»‘n lÆ°u vÃ o file khÃ¡c

			VÃ­ dá»¥:
			cat .kube/config > backup-config.yaml

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥ ná»™i dung file:

			apiVersion: v1
			clusters:
			- cluster:
				server: https://192.168.99.100:8443
				certificate-authority: /home/user/.minikube/ca.crt
			  name: minikube
			contexts:
			- context:
				cluster: minikube
				user: minikube
			  name: minikube
			current-context: minikube
			kind: Config
			preferences: {}
			users:
			- name: minikube
			  user:
				client-certificate: /home/user/.minikube/client.crt
				client-key: /home/user/.minikube/client.key

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- Kiá»ƒm tra context hiá»‡n táº¡i:
			kubectl config current-context

			- Liá»‡t kÃª cÃ¡c cluster:
			kubectl config get-clusters

			- Chuyá»ƒn context:
			kubectl config use-context <context-name>

			- Backup config:
			cp ~/.kube/config ~/.kube/config.bak

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Xem vÃ  debug thÃ´ng tin cluster, user, context
			- Kiá»ƒm tra token/certificate khi gáº·p lá»—i káº¿t ná»‘i
			- Chuáº©n bá»‹ Ä‘á»ƒ káº¿t ná»‘i nhiá»u cluster
			- DÃ¹ng trong CI/CD Ä‘á»ƒ cáº¥u hÃ¬nh kubectl

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. No such file or directory
			--------------------------------------------------
			- ChÆ°a cÃ i Kubernetes / Minikube
			- File chÆ°a Ä‘Æ°á»£c táº¡o
			- Giáº£i phÃ¡p: cháº¡y minikube start hoáº·c kubectl config set-cluster

			7.2. Permission denied
			--------------------------------------------------
			- KhÃ´ng cÃ³ quyá»n Ä‘á»c file
			- Sá»­ dá»¥ng: sudo cat .kube/config (cáº©n tháº­n)

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- File chá»©a thÃ´ng tin nháº¡y cáº£m (token, cert)
			- KhÃ´ng chia sáº» cÃ´ng khai
			- Backup trÆ°á»›c khi chá»‰nh sá»­a

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			cat .kube/config

			= Hiá»ƒn thá»‹ ná»™i dung file cáº¥u hÃ¬nh Kubernetes
			= Xem cluster, user, context
			= DÃ¹ng Ä‘á»ƒ debug vÃ  quáº£n lÃ½ káº¿t ná»‘i
			= File nháº¡y cáº£m, khÃ´ng chia sáº» cÃ´ng khai
		
		
		- cmd: kubectl.exe get nodes
		
			Lá»†NH: kubectl.exe get nodes
			==========================

			1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
			-------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Liá»‡t kÃª táº¥t cáº£ cÃ¡c node trong má»™t Kubernetes cluster
			- Kiá»ƒm tra tráº¡ng thÃ¡i (status) cá»§a tá»«ng node
			- XÃ¡c nháº­n node nÃ o Ä‘ang Ready, NotReady hoáº·c gáº·p sá»± cá»‘
			- Thu tháº­p thÃ´ng tin cÆ¡ báº£n nhÆ° VERSION, ROLES, AGE cá»§a node


			2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
			------------------------------------

			2.1. kubectl.exe
			----------------
			- LÃ  file thá»±c thi cá»§a Kubectl trÃªn Windows
			- Kubectl lÃ  CLI chÃ­nh thá»©c Ä‘á»ƒ quáº£n lÃ½ Kubernetes
			- DÃ¹ng Ä‘á»ƒ:
			  + Triá»ƒn khai á»©ng dá»¥ng
			  + Quáº£n lÃ½ resource
			  + GiÃ¡m sÃ¡t cluster

			VÃ­ dá»¥ cÃ¡c lá»‡nh cÆ¡ báº£n:
			- kubectl get pods
			- kubectl describe service
			- kubectl logs <pod>


			2.2. get
			--------
			- "get" lÃ  sub-command cá»§a kubectl
			- DÃ¹ng Ä‘á»ƒ láº¥y thÃ´ng tin tÃ i nguyÃªn Kubernetes
			- Output máº·c Ä‘á»‹nh: báº£ng vá»›i cá»™t cÆ¡ báº£n
			- CÃ¡c tÃ i nguyÃªn thÆ°á»ng dÃ¹ng vá»›i get:
			  + pods, services, deployments, nodes, namespaces, configmaps

			CÃº phÃ¡p cÆ¡ báº£n:
			  kubectl get <resource> [options]


			2.3. nodes
			----------
			- "nodes" lÃ  loáº¡i resource cáº§n láº¥y
			- Node lÃ  mÃ¡y váº­t lÃ½ hoáº·c VM tham gia vÃ o cluster Kubernetes
			- ThÃ´ng tin node quan trá»ng:
			  + NAME       : tÃªn node
			  + STATUS     : tráº¡ng thÃ¡i (Ready, NotReady)
			  + ROLES      : vai trÃ² node (master, worker, control-plane)
			  + AGE        : thá»i gian node tham gia cluster
			  + VERSION    : phiÃªn báº£n Kubernetes Ä‘ang cháº¡y trÃªn node


			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			---------------------------------
			Khi cháº¡y:
			kubectl.exe get nodes

			Kubectl sáº½:
			1. Káº¿t ná»‘i tá»›i API server cá»§a cluster (qua kubeconfig)
			2. Gá»­i request GET Ä‘á»ƒ láº¥y thÃ´ng tin node
			3. Nháº­n danh sÃ¡ch node vÃ  tráº¡ng thÃ¡i
			4. Hiá»ƒn thá»‹ output dáº¡ng báº£ng trÃªn terminal


			4. Káº¾T QUáº¢ MáºªU
			---------------
			VÃ­ dá»¥ output:

			NAME             STATUS   ROLES           AGE    VERSION
			minikube         Ready    control-plane   2d     v1.28.0
			worker-node-01   Ready    <none>          1d     v1.28.0

			Giáº£i thÃ­ch cÃ¡c cá»™t:
			- NAME: tÃªn node trong cluster
			- STATUS: Ready, NotReady, Unknown
			- ROLES: vai trÃ² node (control-plane, worker,â€¦)
			- AGE: thá»i gian node Ä‘Ã£ tham gia cluster
			- VERSION: phiÃªn báº£n Kubernetes Ä‘ang cháº¡y trÃªn node


			5. CÃC BIáº¾N THá»‚ HAY DÃ™NG
			-----------------------
			- Xem chi tiáº¿t node:
			  kubectl describe node <node-name>

			- Output dáº¡ng wide (hiá»ƒn thá»‹ thÃªm IP, OS, Kernel):
			  kubectl get nodes -o wide

			- Xem node vá»›i label cá»¥ thá»ƒ:
			  kubectl get nodes -l <label-selector>


			6. Lá»¢I ÃCH KHI DÃ™NG Lá»†NH NÃ€Y
			----------------------------
			- XÃ¡c nháº­n node Ä‘Ã£ join cluster thÃ nh cÃ´ng
			- Kiá»ƒm tra node nÃ o Ä‘ang hoáº¡t Ä‘á»™ng vÃ  sáºµn sÃ ng
			- Kiá»ƒm tra version Kubernetes trÃªn tá»«ng node
			- Há»¯u Ã­ch cho viá»‡c debug cluster, giÃ¡m sÃ¡t, hoáº·c nÃ¢ng cáº¥p


			7. Lá»–I THÆ¯á»œNG Gáº¶P
			-----------------
			- Lá»—i khÃ´ng káº¿t ná»‘i Ä‘Æ°á»£c cluster:
			  => Kiá»ƒm tra kubeconfig
			  => Kiá»ƒm tra network tá»›i API server

			- Lá»—i permission denied:
			  => Kiá»ƒm tra RBAC user/role cÃ³ quyá»n xem node


			8. TÃ“M Táº®T NGáº®N Gá»ŒN
			-------------------
			kubectl.exe       : CLI Kubernetes trÃªn Windows
			get               : láº¥y thÃ´ng tin resource
			nodes             : loáº¡i resource node
			Káº¿t quáº£           : danh sÃ¡ch node, tráº¡ng thÃ¡i, roles, age, version
		
		
		- cmd: kubectl create deployment hello-minikube --image=k8s.gcr.io/echoserver:1.0
		
			Lá»†NH: kubectl create deployment hello-minikube --image=k8s.gcr.io/echoserver:1.0
			====================================================================

			1. kubectl lÃ  gÃ¬?
			--------------------------------------------------------------------
			- kubectl lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster
			- DÃ¹ng Ä‘á»ƒ:
			  + Táº¡o, cáº­p nháº­t, xÃ³a tÃ i nguyÃªn (deployment, pod, service, etc.)
			  + Kiá»ƒm tra tráº¡ng thÃ¡i cluster vÃ  cÃ¡c resource
			- Giao tiáº¿p trá»±c tiáº¿p vá»›i API server cá»§a Kubernetes

			--------------------------------------------------------------------

			2. create deployment lÃ  gÃ¬?
			--------------------------------------------------------------------
			- create deployment = táº¡o má»™t Deployment má»›i trong Kubernetes
			- Deployment lÃ :
			  + Controller quáº£n lÃ½ Pod
			  + GiÃºp:
				- Tá»± Ä‘á»™ng táº¡o Pod tá»« image
				- Quáº£n lÃ½ sá»‘ lÆ°á»£ng replica
				- Update, rollback dá»… dÃ ng

			--------------------------------------------------------------------

			3. hello-minikube lÃ  gÃ¬?
			--------------------------------------------------------------------
			- TÃªn Deployment
			- DÃ¹ng Ä‘á»ƒ tham chiáº¿u cÃ¡c pod do Deployment táº¡o
			- TÃªn pháº£i lÃ  duy nháº¥t trong namespace hiá»‡n táº¡i

			--------------------------------------------------------------------

			4. --image=k8s.gcr.io/echoserver:1.0 lÃ  gÃ¬?
			--------------------------------------------------------------------
			- Chá»‰ Ä‘á»‹nh image dÃ¹ng Ä‘á»ƒ táº¡o Pod
			- Cáº¥u trÃºc:
			  <registry>/<repository>:<tag>

			Giáº£i thÃ­ch:
			- registry: k8s.gcr.io â†’ Google Container Registry
			- repository: echoserver â†’ á»©ng dá»¥ng Echo Server (tráº£ vá» request headers)
			- tag: 1.0 â†’ phiÃªn báº£n cá»§a image

			Ã nghÄ©a:
			- Deployment sáº½ táº¡o Pod sá»­ dá»¥ng image echoserver:1.0

			--------------------------------------------------------------------

			5. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			kubectl create deployment hello-minikube --image=k8s.gcr.io/echoserver:1.0

			â†’ Táº¡o Deployment tÃªn hello-minikube
			â†’ Táº¡o Pod tá»« image k8s.gcr.io/echoserver:1.0
			â†’ Deployment quáº£n lÃ½ lifecycle cá»§a Pod
			â†’ Náº¿u Pod cháº¿t, Deployment sáº½ tá»± táº¡o láº¡i Pod má»›i

			--------------------------------------------------------------------

			6. Quy trÃ¬nh thá»±c thi lá»‡nh
			--------------------------------------------------------------------
			1) kubectl gá»­i request tá»›i API server
			2) API server táº¡o Deployment object
			3) Deployment controller nháº­n thÃ´ng tin
			4) Táº¡o cÃ¡c Pod tÆ°Æ¡ng á»©ng vá»›i Deployment (default 1 replica)
			5) Pods cháº¡y image echoserver:1.0
			6) Deployment tiáº¿p tá»¥c theo dÃµi cÃ¡c Pod

			--------------------------------------------------------------------

			7. Kiá»ƒm tra Deployment
			--------------------------------------------------------------------
			- Xem Deployment:
			kubectl get deployments

			- Xem Pod:
			kubectl get pods

			- Xem chi tiáº¿t Deployment:
			kubectl describe deployment hello-minikube

			--------------------------------------------------------------------

			8. Output thÆ°á»ng tháº¥y
			--------------------------------------------------------------------
			deployment.apps/hello-minikube created

			- ThÃ´ng bÃ¡o Deployment Ä‘Ã£ Ä‘Æ°á»£c táº¡o thÃ nh cÃ´ng

			--------------------------------------------------------------------

			9. CÃ¡c tÃ¹y chá»n nÃ¢ng cao
			--------------------------------------------------------------------
			- --replicas=<n>
			  + Sá»‘ Pod muá»‘n cháº¡y
			  + VÃ­ dá»¥: --replicas=3

			- --port=<port>
			  + Port container
			  + DÃ¹ng khi táº¡o service sau Ä‘Ã³

			- -n <namespace>
			  + Táº¡o Deployment trong namespace khÃ¡c

			--------------------------------------------------------------------

			10. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) image not found
			- Kiá»ƒm tra image cÃ³ tá»“n táº¡i vÃ  tag Ä‘Ãºng

			2) kubectl not configured
			- ChÆ°a káº¿t ná»‘i cluster hoáº·c context sai
			- DÃ¹ng: kubectl config use-context minikube

			3) Name already exists
			- TÃªn hello-minikube Ä‘Ã£ tá»“n táº¡i trong namespace

			--------------------------------------------------------------------

			11. So sÃ¡nh nhanh
			--------------------------------------------------------------------
			kubectl create deployment â†’ táº¡o Deployment má»›i
			kubectl apply -f deployment.yaml â†’ táº¡o hoáº·c update tá»« file YAML
			kubectl run â†’ cháº¡y Pod táº¡m thá»i (khÃ´ng quáº£n lÃ½ replica)

			--------------------------------------------------------------------

			12. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			kubectl create deployment hello-minikube --image=k8s.gcr.io/echoserver:1.0 =
			Táº O DEPLOYMENT hello-minikube Vá»šI POD CHáº Y IMAGE echoserver:1.0, DEPLOYMENT Tá»° QUáº¢N LÃ POD
		
		
		- cmd: kubectl.exe get pod
		
			# Lá»‡nh gá»‘c:
			kubectl.exe get pod

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. kubectl.exe
			# - `kubectl` lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh chÃ­nh Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i Kubernetes cluster.
			# - `.exe` chá»‰ ra ráº±ng Ä‘Ã¢y lÃ  báº£n cháº¡y trÃªn Windows.
			# - DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ cÃ¡c resource trong Kubernetes nhÆ° pods, services, deployments, configmaps,...

			# 2. get
			# - Lá»‡nh `get` dÃ¹ng Ä‘á»ƒ liá»‡t kÃª thÃ´ng tin cá»§a cÃ¡c resource.
			# - CÃº phÃ¡p cÆ¡ báº£n: kubectl get [resource] [options]
			# - ThÆ°á»ng dÃ¹ng Ä‘á»ƒ xem tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a resource trong cluster.

			# 3. pod
			# - `pod` lÃ  loáº¡i resource cÆ¡ báº£n nháº¥t trong Kubernetes.
			# - Má»™t pod cÃ³ thá»ƒ chá»©a má»™t hoáº·c nhiá»u container cháº¡y cÃ¹ng nhau.
			# - Pod quáº£n lÃ½ container, chia sáº» máº¡ng vÃ  storage, vÃ  xÃ¡c Ä‘á»‹nh lifecycle cá»§a container.

			# 4. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Khi cháº¡y `kubectl.exe get pod`, kubectl sáº½:
			#   1. Káº¿t ná»‘i vá»›i Kubernetes cluster Ä‘Æ°á»£c cáº¥u hÃ¬nh trong kubeconfig.
			#   2. Liá»‡t kÃª táº¥t cáº£ pod trong namespace máº·c Ä‘á»‹nh.
			#   3. Hiá»ƒn thá»‹ thÃ´ng tin cÆ¡ báº£n nhÆ°:
			#      + NAME: tÃªn pod
			#      + READY: sá»‘ container Ä‘ang cháº¡y / tá»•ng sá»‘ container
			#      + STATUS: tráº¡ng thÃ¡i hiá»‡n táº¡i (Running, Pending, CrashLoopBackOff,...)
			#      + RESTARTS: sá»‘ láº§n container bá»‹ restart
			#      + AGE: thá»i gian pod Ä‘Æ°á»£c táº¡o

			# 5. VÃ­ dá»¥ káº¿t quáº£:
			# NAME          READY   STATUS    RESTARTS   AGE
			# nginx-pod     1/1     Running   0          5m
			# redis-pod     1/1     Running   0          3m

			# 6. Má»™t sá»‘ tÃ¹y chá»n má»Ÿ rá»™ng:
			# - kubectl get pod -o wide
			#   + Hiá»ƒn thá»‹ thÃªm thÃ´ng tin chi tiáº¿t nhÆ° Node, IP, Container image,...
			# - kubectl get pod -n <namespace>
			#   + Liá»‡t kÃª pod trong namespace cá»¥ thá»ƒ.
			# - kubectl get pods --all-namespaces
			#   + Liá»‡t kÃª táº¥t cáº£ pod trong táº¥t cáº£ namespace.

			# 7. LÆ°u Ã½ quan trá»ng:
			# - Pod chá»‰ tá»“n táº¡i trong má»™t khoáº£ng thá»i gian nháº¥t Ä‘á»‹nh. Khi container dá»«ng hoáº·c bá»‹ xÃ³a, pod cÅ©ng biáº¿n máº¥t náº¿u khÃ´ng dÃ¹ng controller nhÆ° Deployment.
			# - Lá»‡nh nÃ y chá»‰ xem thÃ´ng tin; khÃ´ng thay Ä‘á»•i tráº¡ng thÃ¡i pod.

			# Káº¿t luáº­n:
			# Lá»‡nh `kubectl.exe get pod` dÃ¹ng Ä‘á»ƒ kiá»ƒm tra vÃ  giÃ¡m sÃ¡t tráº¡ng thÃ¡i cÃ¡c pod trong Kubernetes cluster,
			# giÃºp quáº£n trá»‹ vÃ  debug á»©ng dá»¥ng container hiá»‡u quáº£.
		
		
		- cmd: kubectl.exe get deploy
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			kubectl.exe get deploy
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ liá»‡t kÃª táº¥t cáº£ cÃ¡c Deployment trong cluster Kubernetes hiá»‡n táº¡i.

			- `kubectl.exe` lÃ  CLI (Command Line Interface) cá»§a Kubernetes trÃªn Windows.
			- `get` lÃ  subcommand Ä‘á»ƒ láº¥y thÃ´ng tin tÃ i nguyÃªn.
			- `deploy` lÃ  viáº¿t táº¯t cá»§a `deployment`.

			Má»¥c Ä‘Ã­ch:
			- Kiá»ƒm tra cÃ¡c Deployment Ä‘Ã£ Ä‘Æ°á»£c táº¡o
			- Xem tráº¡ng thÃ¡i replica, sá»‘ lÆ°á»£ng pod Ä‘ang cháº¡y
			- Debug vÃ  giÃ¡m sÃ¡t cluster

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. kubectl.exe
			--------------------------------------------------
			- CLI tool cá»§a Kubernetes trÃªn Windows
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ cluster Kubernetes
			- Thá»±c hiá»‡n cÃ¡c thao tÃ¡c nhÆ°:
			  + get
			  + describe
			  + apply
			  + delete

			2.2. get
			--------------------------------------------------
			- Subcommand Ä‘á»ƒ truy xuáº¥t thÃ´ng tin tÃ i nguyÃªn
			- CÃ³ thá»ƒ dÃ¹ng vá»›i:
			  + pods
			  + services
			  + deployments
			  + nodes
			  + namespaces

			2.3. deploy
			--------------------------------------------------
			- Viáº¿t táº¯t cá»§a deployment
			- Deployment quáº£n lÃ½ cÃ¡c pod:
			  + Sá»‘ lÆ°á»£ng replica
			  + Update strategy
			  + Rollback
			- Hiá»ƒn thá»‹ cÃ¡c thÃ´ng tin cÆ¡ báº£n:
			  + NAME: tÃªn deployment
			  + READY: sá»‘ pod sáºµn sÃ ng / tá»•ng sá»‘ pod
			  + UP-TO-DATE: sá»‘ replica cáº­p nháº­t
			  + AVAILABLE: sá»‘ replica cÃ³ thá»ƒ dÃ¹ng
			  + AGE: thá»i gian tá»“n táº¡i deployment

			--------------------------------------------------
			3. Káº¾T QUáº¢ Äáº¦U RA (VÃ Dá»¤)
			--------------------------------------------------
			NAME           READY   UP-TO-DATE   AVAILABLE   AGE
			nginx-deploy   3/3     3            3           5d

			Giáº£i thÃ­ch:
			- nginx-deploy: tÃªn deployment
			- 3/3: 3 pod sáºµn sÃ ng trÃªn tá»•ng sá»‘ 3
			- UP-TO-DATE: 3 replica Ä‘Ã£ cáº­p nháº­t
			- AVAILABLE: 3 replica cÃ³ thá»ƒ dÃ¹ng
			- AGE: deployment tá»“n táº¡i 5 ngÃ y

			--------------------------------------------------
			4. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Lá»‡nh dá»±a trÃªn context hiá»‡n táº¡i cá»§a kubeconfig
			- Náº¿u khÃ´ng chá»‰ Ä‘á»‹nh namespace, máº·c Ä‘á»‹nh dÃ¹ng namespace `default`
			- Xem namespace khÃ¡c:
			--------------------------------------------------
			kubectl get deploy -n <namespace>

			- Äá»ƒ xem chi tiáº¿t tá»«ng deployment:
			--------------------------------------------------
			kubectl describe deploy <deployment_name>

			--------------------------------------------------
			5. BIáº¾N THá»‚ HAY DÃ™NG
			--------------------------------------------------
			- Xem deployments theo namespace cá»¥ thá»ƒ:
			--------------------------------------------------
			kubectl get deploy -n kube-system

			- Xem chi tiáº¿t kÃ¨m output dáº¡ng YAML:
			--------------------------------------------------
			kubectl get deploy -o yaml

			- Xem danh sÃ¡ch táº¥t cáº£ resource:
			--------------------------------------------------
			kubectl get all

			--------------------------------------------------
			6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- GiÃ¡m sÃ¡t tráº¡ng thÃ¡i deployment
			- Kiá»ƒm tra sá»‘ lÆ°á»£ng pod sáºµn sÃ ng
			- Debug sá»± cá»‘ khi rollout hoáº·c scale deployment
			- Quáº£n lÃ½ á»©ng dá»¥ng cháº¡y trÃªn Kubernetes

			--------------------------------------------------
			7. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			kubectl.exe get deploy
			= Liá»‡t kÃª táº¥t cáº£ Deployment trong cluster
			= Hiá»ƒn thá»‹ sá»‘ pod sáºµn sÃ ng, replica, thá»i gian tá»“n táº¡i
			= DÃ¹ng Ä‘á»ƒ giÃ¡m sÃ¡t vÃ  debug Deployment
			= ThÆ°á»ng dÃ¹ng vá»›i namespace máº·c Ä‘á»‹nh náº¿u khÃ´ng cÃ³ -n
			==================================================
		
		
		- cmd: kubectl create deployment hello-minikube --image=kicbase/echo-server:1.0
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			kubectl create deployment hello-minikube --image=kicbase/echo-server:1.0

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Táº¡o má»™t Deployment má»›i trong Kubernetes cluster
			- Deployment sáº½ quáº£n lÃ½ má»™t hoáº·c nhiá»u Pod
			- Pod sáº½ cháº¡y container tá»« image `kicbase/echo-server:1.0`
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ triá»ƒn khai nhanh á»©ng dá»¥ng máº«u trÃªn Minikube hoáº·c cluster khÃ¡c

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. kubectl
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh quáº£n lÃ½ Kubernetes
			- Thá»±c hiá»‡n cÃ¡c thao tÃ¡c: create, apply, get, delete, describe, v.v.

			2.2. create deployment
			--------------------------------------------------
			- Subcommand `create` táº¡o tÃ i nguyÃªn trong Kubernetes
			- `deployment` lÃ  loáº¡i tÃ i nguyÃªn:
			  + Quáº£n lÃ½ Pod replicas
			  + GiÃºp scaling, self-healing (tá»± phá»¥c há»“i khi Pod cháº¿t)
			  + Quáº£n lÃ½ update (Rolling Update)

			2.3. hello-minikube
			--------------------------------------------------
			- TÃªn Deployment
			- DÃ¹ng Ä‘á»ƒ tham chiáº¿u cÃ¡c Pod, Service liÃªn quan
			- CÃ³ thá»ƒ Ä‘áº·t tÃªn báº¥t ká»³ há»£p lá»‡ theo chuáº©n Kubernetes

			2.4. --image=kicbase/echo-server:1.0
			--------------------------------------------------
			- Chá»‰ Ä‘á»‹nh Docker image sáº½ cháº¡y trong Pod
			- `kicbase/echo-server`: repository image
			- `1.0`: tag version cá»§a image
			- Kubernetes sáº½ tá»± pull image náº¿u chÆ°a tá»“n táº¡i trÃªn node

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Kubernetes API nháº­n yÃªu cáº§u táº¡o Deployment
			2. Deployment Ä‘Æ°á»£c lÆ°u trong etcd
			3. Controller Manager táº¡o Pod replica Ä‘áº§u tiÃªn
			4. Scheduler gÃ¡n Pod vÃ o node kháº£ dá»¥ng
			5. Node runtime (container runtime) pull image `kicbase/echo-server:1.0`
			6. Container start cháº¡y trong Pod
			7. Deployment theo dÃµi Pod, tá»± restart náº¿u Pod cháº¿t

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥ khi cháº¡y lá»‡nh:

			deployment.apps/hello-minikube created

			Giáº£i thÃ­ch:
			- `deployment.apps/... created`: Deployment Ä‘Ã£ Ä‘Æ°á»£c táº¡o thÃ nh cÃ´ng
			- Báº¡n cÃ³ thá»ƒ kiá»ƒm tra Pod:
			kubectl get pods

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- Kiá»ƒm tra Deployment:
			kubectl get deployments

			- Xem Pod cá»§a Deployment:
			kubectl get pods -l app=hello-minikube

			- Má»Ÿ port cho Deployment (Service):
			kubectl expose deployment hello-minikube --type=NodePort --port=8080

			- Scale sá»‘ lÆ°á»£ng Pod:
			kubectl scale deployment hello-minikube --replicas=3

			- XÃ³a Deployment:
			kubectl delete deployment hello-minikube

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Triá»ƒn khai á»©ng dá»¥ng nhanh chÃ³ng
			- Dá»… dÃ ng scale vÃ  cáº­p nháº­t á»©ng dá»¥ng
			- Self-healing: Kubernetes tá»± restart Pod khi gáº·p lá»—i
			- ThÃ­ch há»£p test, há»c táº­p trÃªn Minikube hoáº·c cluster thá»±c

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. Image pull error
			--------------------------------------------------
			- Node khÃ´ng thá»ƒ pull image
			- Kiá»ƒm tra tÃªn image, tag vÃ  registry

			7.2. Namespace khÃ´ng tá»“n táº¡i
			--------------------------------------------------
			- Náº¿u muá»‘n táº¡o Deployment trong namespace khÃ¡c:
			kubectl create deployment hello-minikube --image=kicbase/echo-server:1.0 -n <namespace>

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- Deployment cháº¡y container public â†’ chÃº Ã½ báº£o máº­t
			- Kiá»ƒm tra resource limit náº¿u cháº¡y nhiá»u Pod trÃªn Minikube

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			kubectl create deployment hello-minikube --image=kicbase/echo-server:1.0

			= Táº¡o Deployment má»›i tÃªn hello-minikube
			= Pod cháº¡y image kicbase/echo-server:1.0
			= Deployment tá»± quáº£n lÃ½ Pod: scaling, self-healing
			= ThÃ­ch há»£p há»c táº­p, thá»­ nghiá»‡m, CI/CD
		
		
		- cmd: minikube service hello-minikube --url
		
			Lá»†NH: minikube service hello-minikube --url
			==========================================

			1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
			-------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Láº¥y URL truy cáº­p trá»±c tiáº¿p tá»›i service trong Minikube cluster
			- KhÃ´ng má»Ÿ trÃ¬nh duyá»‡t, chá»‰ hiá»ƒn thá»‹ Ä‘á»‹a chá»‰ IP + port
			- Há»¯u Ã­ch khi muá»‘n káº¿t ná»‘i service tá»« terminal hoáº·c script


			2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
			------------------------------------

			2.1. minikube
			-------------
			- Minikube lÃ  cÃ´ng cá»¥ táº¡o Kubernetes cluster local
			- Cháº¡y cluster trÃªn mÃ¡y cÃ¡ nhÃ¢n hoáº·c VM
			- Há»— trá»£ há»c táº­p, thá»­ nghiá»‡m, phÃ¡t triá»ƒn


			2.2. service
			------------
			- Sub-command cá»§a Minikube
			- DÃ¹ng Ä‘á»ƒ thao tÃ¡c vá»›i Kubernetes Service
			- Chá»©c nÄƒng:
			  + Má»Ÿ service trong trÃ¬nh duyá»‡t: minikube service <service-name>
			  + Láº¥y URL cá»§a service: minikube service <service-name> --url
			  + Thá»±c hiá»‡n port-forward tá»± Ä‘á»™ng náº¿u cáº§n


			2.3. hello-minikube
			------------------
			- TÃªn service mÃ  báº¡n muá»‘n truy cáº­p
			- Pháº£i tá»“n táº¡i trong cluster hiá»‡n táº¡i
			- Láº¥y tá»« file deployment/service YAML Ä‘Ã£ apply
			- CÃ³ thá»ƒ kiá»ƒm tra service hiá»‡n cÃ³:
			  kubectl get svc


			2.4. --url
			-----------
			- Flag cho Minikube service
			- Chá»‰ hiá»ƒn thá»‹ URL service trÃªn terminal
			- URL cÃ³ dáº¡ng:
			  http://<IP_NODE>:<PORT>

			VÃ­ dá»¥:
			  http://192.168.49.2:30007


			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			---------------------------------
			Khi cháº¡y:
			minikube service hello-minikube --url

			Minikube sáº½:
			1. Kiá»ƒm tra service hello-minikube cÃ³ tá»“n táº¡i khÃ´ng
			2. Láº¥y thÃ´ng tin NodePort hoáº·c ClusterIP
			3. XÃ¡c Ä‘á»‹nh IP cá»§a Minikube node
			4. GhÃ©p IP vÃ  port Ä‘á»ƒ táº¡o URL truy cáº­p
			5. Hiá»ƒn thá»‹ URL trÃªn terminal


			4. Káº¾T QUáº¢ SAU KHI CHáº Y Lá»†NH
			---------------------------
			- Output lÃ  URL, vÃ­ dá»¥:
			  http://192.168.49.2:30007

			- Báº¡n cÃ³ thá»ƒ copy URL nÃ y Ä‘á»ƒ:
			  + Truy cáº­p tá»« trÃ¬nh duyá»‡t
			  + DÃ¹ng curl hoáº·c wget:
				curl http://192.168.49.2:30007

			- KhÃ´ng má»Ÿ trÃ¬nh duyá»‡t, khÃ¡c vá»›i:
			  minikube service hello-minikube (máº·c Ä‘á»‹nh má»Ÿ browser)


			5. CÃC Lá»†NH LIÃŠN QUAN
			--------------------
			- Xem danh sÃ¡ch service:
			  kubectl get svc

			- Má»Ÿ service trá»±c tiáº¿p trÃªn browser:
			  minikube service hello-minikube

			- Láº¥y URL service khÃ¡c:
			  minikube service <service-name> --url


			6. Lá»¢I ÃCH KHI DÃ™NG --url
			-------------------------
			- DÃ¹ng trong script hoáº·c automation
			- Láº¥y nhanh Ä‘á»‹a chá»‰ service mÃ  khÃ´ng cáº§n GUI
			- Há»¯u Ã­ch khi test API hoáº·c káº¿t ná»‘i tá»« terminal


			7. Lá»–I THÆ¯á»œNG Gáº¶P
			-----------------
			- Service khÃ´ng tá»“n táº¡i:
			  => Lá»—i: "Service 'hello-minikube' not found"
			  => Kiá»ƒm tra kubectl get svc

			- Service chÆ°a expose port:
			  => URL sáº½ khÃ´ng cÃ³ hoáº·c lá»—i


			8. TÃ“M Táº®T NGáº®N Gá»ŒN
			-------------------
			minikube            : CLI Minikube
			service             : thao tÃ¡c vá»›i Kubernetes Service
			hello-minikube      : tÃªn service cáº§n láº¥y URL
			--url               : chá»‰ hiá»ƒn thá»‹ URL, khÃ´ng má»Ÿ browser
			Káº¿t quáº£             : http://<IP_NODE>:<PORT>
					
					
					- cmd: minikube service hello-minikube
					
			Lá»†NH: minikube service hello-minikube
			====================================================================

			1. minikube lÃ  gÃ¬?
			--------------------------------------------------------------------
			- Minikube lÃ  cÃ´ng cá»¥ Ä‘á»ƒ cháº¡y Kubernetes cluster cá»¥c bá»™ (local)
			- DÃ¹ng Ä‘á»ƒ:
			  + PhÃ¡t triá»ƒn vÃ  thá»­ nghiá»‡m á»©ng dá»¥ng Kubernetes
			  + Táº¡o single-node cluster Ä‘á»ƒ dev/test
			- minikube cung cáº¥p thÃªm cÃ¡c tiá»‡n Ã­ch CLI Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c nhanh vá»›i service, dashboard, pod, etc.

			--------------------------------------------------------------------

			2. service hello-minikube lÃ  gÃ¬?
			--------------------------------------------------------------------
			- hello-minikube lÃ  tÃªn Kubernetes Service Ä‘Ã£ Ä‘Æ°á»£c táº¡o
			- Service trong Kubernetes:
			  + LÃ  abstraction layer Ä‘á»ƒ expose Pod
			  + GiÃºp truy cáº­p Pod qua stable endpoint
			  + Há»— trá»£ load balancing
			- minikube service giÃºp má»Ÿ Service nÃ y trong trÃ¬nh duyá»‡t hoáº·c hiá»ƒn thá»‹ URL

			--------------------------------------------------------------------

			3. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			minikube service hello-minikube

			â†’ Lá»‡nh nÃ y sáº½:
			1) TÃ¬m Service tÃªn hello-minikube trong namespace máº·c Ä‘á»‹nh
			2) Láº¥y Ä‘á»‹a chá»‰ URL hoáº·c NodePort gáº¯n vá»›i Service
			3) Má»Ÿ trÃ¬nh duyá»‡t máº·c Ä‘á»‹nh vÃ  hiá»ƒn thá»‹ service
			   HOáº¶C
			4) In URL truy cáº­p Service trÃªn terminal (tÃ¹y OS vÃ  tÃ¹y chá»n)

			--------------------------------------------------------------------

			4. Quy trÃ¬nh thá»±c thi
			--------------------------------------------------------------------
			1) minikube CLI káº¿t ná»‘i cluster local
			2) TÃ¬m service hello-minikube
			3) Láº¥y thÃ´ng tin service type:
			   - ClusterIP
			   - NodePort
			   - LoadBalancer
			4) Náº¿u NodePort/LoadBalancer â†’ xuáº¥t URL
			5) Náº¿u cháº¡y vá»›i tÃ¹y chá»n --url â†’ chá»‰ in URL
			6) Náº¿u khÃ´ng dÃ¹ng --url â†’ tá»± Ä‘á»™ng má»Ÿ trÃ¬nh duyá»‡t

			--------------------------------------------------------------------

			5. CÃ¡c tÃ¹y chá»n thÆ°á»ng dÃ¹ng
			--------------------------------------------------------------------
			--url
			--------------------------------------------------------------------
			- Chá»‰ in URL, KHÃ”NG má»Ÿ trÃ¬nh duyá»‡t
			minikube service hello-minikube --url

			-n <namespace>
			--------------------------------------------------------------------
			- Chá»‰ Ä‘á»‹nh namespace khÃ¡c
			minikube service hello-minikube -n dev

			--------------------------------------------------------------------

			6. Output Ä‘iá»ƒn hÃ¬nh
			--------------------------------------------------------------------
			|-----------|-----------|-------------|-----------------------------|
			| NAMESPACE |   NAME    | TARGET PORT |             URL             |
			|-----------|-----------|-------------|-----------------------------|
			| default   | hello-minikube | 8080    | http://192.168.49.2:30007  |
			|-----------|-----------|-------------|-----------------------------|

			- URL cÃ³ thá»ƒ má»Ÿ trÃ¬nh duyá»‡t Ä‘á»ƒ xem káº¿t quáº£ service

			--------------------------------------------------------------------

			7. Khi nÃ o nÃªn dÃ¹ng lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- Kiá»ƒm tra Service Ä‘Ã£ Ä‘Æ°á»£c expose thÃ nh cÃ´ng chÆ°a
			- Má»Ÿ service trong trÃ¬nh duyá»‡t Ä‘á»ƒ test á»©ng dá»¥ng
			- DÃ¹ng trong local cluster (minikube) Ä‘á»ƒ dev/test nhanh

			--------------------------------------------------------------------

			8. LÆ°u Ã½ quan trá»ng
			--------------------------------------------------------------------
			- Chá»‰ hoáº¡t Ä‘á»™ng vá»›i Minikube cluster
			- Service pháº£i tá»“n táº¡i trong cluster
			- Náº¿u Service type = ClusterIP â†’ cáº§n minikube tunnel hoáº·c port-forward Ä‘á»ƒ truy cáº­p tá»« host

			--------------------------------------------------------------------

			9. So sÃ¡nh vá»›i cÃ¡c lá»‡nh khÃ¡c
			--------------------------------------------------------------------
			kubectl get service hello-minikube
			â†’ Chá»‰ xem thÃ´ng tin service (ClusterIP, NodePort)

			kubectl port-forward service/hello-minikube 8080:8080
			â†’ Truy cáº­p service thá»§ cÃ´ng qua port-forward

			minikube service hello-minikube
			â†’ Tá»± Ä‘á»™ng láº¥y URL vÃ  má»Ÿ trÃ¬nh duyá»‡t

			--------------------------------------------------------------------

			10. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			minikube service hello-minikube =
			Má» HOáº¶C HIá»‚N THá»Š URL Cá»¦A KUBERNETES SERVICE hello-minikube TRONG MINIKUBE CLUSTER
		
		
		- cmd: kubectl.exe delete deploy hello-minikube
		
			# Lá»‡nh gá»‘c:
			kubectl.exe delete deploy hello-minikube

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. kubectl.exe
			# - `kubectl` lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster.
			# - `.exe` chá»‰ ra ráº±ng Ä‘Ã¢y lÃ  phiÃªn báº£n cháº¡y trÃªn Windows.
			# - DÃ¹ng Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i cÃ¡c resource nhÆ° pods, deployments, services,...

			# 2. delete
			# - Lá»‡nh `delete` dÃ¹ng Ä‘á»ƒ xÃ³a resource trong Kubernetes.
			# - Khi xÃ³a, resource sáº½ bá»‹ loáº¡i bá» khá»i cluster.

			# 3. deploy
			# - `deploy` lÃ  viáº¿t táº¯t cá»§a `deployment`.
			# - Deployment lÃ  má»™t Kubernetes controller dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ táº­p há»£p cÃ¡c pod giá»‘ng há»‡t nhau.
			# - Deployment Ä‘áº£m báº£o sá»‘ lÆ°á»£ng pod mong muá»‘n luÃ´n cháº¡y vÃ  tá»± Ä‘á»™ng thay tháº¿ pod bá»‹ há»ng.

			# 4. hello-minikube
			# - ÄÃ¢y lÃ  tÃªn deployment cáº§n xÃ³a.
			# - TÃªn nÃ y trÃ¹ng vá»›i deployment Ä‘Ã£ Ä‘Æ°á»£c táº¡o trÆ°á»›c Ä‘Ã³, vÃ­ dá»¥ tá»« Minikube tutorial.

			# 5. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Khi cháº¡y lá»‡nh `kubectl.exe delete deploy hello-minikube`, Kubernetes sáº½:
			#   1. TÃ¬m deployment cÃ³ tÃªn `hello-minikube`.
			#   2. XÃ³a deployment Ä‘Ã³ khá»i cluster.
			#   3. Táº¥t cáº£ pod thuá»™c deployment cÅ©ng sáº½ bá»‹ xÃ³a.
			#   4. Release tÃ i nguyÃªn (CPU, Memory) mÃ  pod Ä‘ang sá»­ dá»¥ng.

			# 6. VÃ­ dá»¥ káº¿t quáº£:
			# deployment.apps "hello-minikube" deleted

			# 7. LÆ°u Ã½ quan trá»ng:
			# - HÃ nh Ä‘á»™ng nÃ y lÃ  vÄ©nh viá»…n, pod sáº½ bá»‹ xÃ³a vÃ  dá»¯ liá»‡u bÃªn trong pod sáº½ máº¥t náº¿u khÃ´ng dÃ¹ng volume.
			# - XÃ³a deployment khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c resource khÃ¡c ngoÃ i pod vÃ  replica set do deployment quáº£n lÃ½.
			# - Náº¿u muá»‘n dá»«ng pod nhÆ°ng giá»¯ deployment, cÃ³ thá»ƒ dÃ¹ng:
			#   kubectl scale deploy hello-minikube --replicas=0

			# 8. CÃ¡c lá»‡nh liÃªn quan:
			# - kubectl get deploy
			#   + Kiá»ƒm tra danh sÃ¡ch deployment cÃ²n tá»“n táº¡i.
			# - kubectl describe deploy hello-minikube
			#   + Xem chi tiáº¿t deployment trÆ°á»›c khi xÃ³a.
			# - kubectl delete pod <pod_name>
			#   + XÃ³a tá»«ng pod riÃªng láº» mÃ  khÃ´ng xÃ³a deployment.

			# Káº¿t luáº­n:
			# Lá»‡nh `kubectl.exe delete deploy hello-minikube` dÃ¹ng Ä‘á»ƒ xÃ³a hoÃ n toÃ n má»™t deployment
			# cÃ¹ng táº¥t cáº£ pod thuá»™c deployment trong Kubernetes cluster, giáº£i phÃ³ng tÃ i nguyÃªn vÃ  dá»n sáº¡ch mÃ´i trÆ°á»ng.
		
		
		- cmd: minikube.exe stop
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			minikube.exe stop
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ dá»«ng cluster Minikube Ä‘ang cháº¡y trÃªn mÃ¡y local Windows.

			- `minikube.exe` lÃ  CLI cá»§a Minikube trÃªn Windows.
			- `stop` lÃ  subcommand dÃ¹ng Ä‘á»ƒ táº¡m dá»«ng cluster.
			- Khi cháº¡y lá»‡nh:
			  + Táº¥t cáº£ node, pod, service trong cluster sáº½ dá»«ng
			  + Cluster váº«n tá»“n táº¡i trÃªn mÃ¡y (khÃ´ng bá»‹ xÃ³a)
			  + CÃ¡c dá»¯ liá»‡u trong cluster váº«n Ä‘Æ°á»£c giá»¯ nguyÃªn

			- ThÆ°á»ng dÃ¹ng khi:
			  + Giáº£i phÃ³ng CPU/RAM
			  + KhÃ´ng cáº§n cháº¡y cluster táº¡m thá»i
			  + Chuáº©n bá»‹ stop Ä‘á»ƒ restart hoáº·c delete sau nÃ y

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. minikube.exe
			--------------------------------------------------
			- CLI tool cá»§a Minikube trÃªn Windows
			- DÃ¹ng quáº£n lÃ½ lifecycle cluster:
			  + start
			  + stop
			  + delete
			  + status

			2.2. stop
			--------------------------------------------------
			- Subcommand Ä‘á»ƒ dá»«ng cluster Minikube
			- TÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i `systemctl stop` hoáº·c táº¯t VM chá»©a cluster
			- KhÃ´ng xÃ³a dá»¯ liá»‡u hay cáº¥u hÃ¬nh kubeconfig

			--------------------------------------------------
			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			--------------------------------------------------
			1. Minikube kiá»ƒm tra cluster hiá»‡n táº¡i
			2. Dá»«ng táº¥t cáº£ node, pod, service
			3. Giá»¯ nguyÃªn file cáº¥u hÃ¬nh vÃ  dá»¯ liá»‡u persistent
			4. Tráº£ vá» thÃ´ng bÃ¡o hoÃ n táº¥t:
			--------------------------------------------------
			Stopping "minikube" in hyperv ...
			Machine stopped.

			--------------------------------------------------
			4. KIá»‚M TRA SAU KHI STOP
			--------------------------------------------------
			- Xem tráº¡ng thÃ¡i cluster:
			--------------------------------------------------
			minikube status

			- Káº¿t quáº£:
			--------------------------------------------------
			host: Stopped
			kubelet: Stopped
			apiserver: Stopped
			kubeconfig: Configured

			- Cluster váº«n tá»“n táº¡i nhÆ°ng khÃ´ng cháº¡y

			--------------------------------------------------
			5. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Dá»¯ liá»‡u vÃ  pod khÃ´ng bá»‹ máº¥t
			- Chá»‰ dá»«ng cluster táº¡m thá»i
			- CÃ³ thá»ƒ restart cluster:
			--------------------------------------------------
			minikube start

			- ThÃ­ch há»£p khi muá»‘n giáº£i phÃ³ng tÃ i nguyÃªn mÃ¡y tÃ­nh

			--------------------------------------------------
			6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- Dá»«ng cluster Minikube mÃ  khÃ´ng xÃ³a dá»¯ liá»‡u
			- Giáº£i phÃ³ng CPU vÃ  RAM
			- Táº¡m dá»«ng mÃ´i trÆ°á»ng thá»­ nghiá»‡m/development
			- Chuáº©n bá»‹ cho restart hoáº·c delete

			--------------------------------------------------
			7. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			minikube.exe stop
			= Dá»«ng cluster Minikube trÃªn Windows
			= Giá»¯ nguyÃªn dá»¯ liá»‡u vÃ  cáº¥u hÃ¬nh
			= Táº¡m dá»«ng node, pod, service
			= DÃ¹ng khi khÃ´ng cáº§n cluster cháº¡y, giáº£i phÃ³ng tÃ i nguyÃªn
			==================================================
		
		
		- cmd: minikube.exe delete
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			minikube.exe delete

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- XÃ³a hoÃ n toÃ n cluster Minikube hiá»‡n táº¡i
			- Gá»¡ bá» táº¥t cáº£ cÃ¡c VM, container, network, volume mÃ  Minikube táº¡o ra
			- ThÆ°á»ng dÃ¹ng khi:
			  + Muá»‘n reset cluster
			  + Dá»n dáº¹p tÃ i nguyÃªn Ä‘á»ƒ tÃ¡i táº¡o cluster má»›i
			  + Giáº£i phÃ³ng dung lÆ°á»£ng á»• Ä‘Ä©a trÃªn mÃ¡y local

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. minikube.exe
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh Minikube trÃªn Windows
			- Quáº£n lÃ½ Minikube cluster: start, stop, delete, status, dashboard, v.v.

			2.2. delete
			--------------------------------------------------
			- Subcommand dÃ¹ng Ä‘á»ƒ xÃ³a cluster
			- XÃ³a:
			  + VM hoáº·c container backend (driver: hyperv, virtualbox, docker)
			  + Network bridge táº¡o bá»Ÿi Minikube
			  + Data volume vÃ  cache
			  + Cáº¥u hÃ¬nh cluster máº·c Ä‘á»‹nh
			- KhÃ´ng xÃ³a Minikube executable

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Minikube kiá»ƒm tra cluster hiá»‡n táº¡i
			2. Dá»«ng cluster náº¿u Ä‘ang cháº¡y
			3. XÃ³a VM/container cá»§a Minikube
			4. XÃ³a cÃ¡c network vÃ  volume liÃªn quan
			5. XÃ³a thÃ´ng tin cluster trong cáº¥u hÃ¬nh `.kube/config`
			6. Hiá»ƒn thá»‹ thÃ´ng bÃ¡o hoÃ n táº¥t

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥ khi cháº¡y lá»‡nh:

			* Deleting "minikube" in docker ...
			* Successfully deleted all traces of the "minikube" cluster.

			Giáº£i thÃ­ch:
			- ThÃ´ng bÃ¡o xÃ¡c nháº­n cluster Ä‘Ã£ bá»‹ xÃ³a hoÃ n toÃ n
			- Docker, Hyper-V hay VirtualBox driver sáº½ remove cÃ¡c resources tÆ°Æ¡ng á»©ng

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- Kiá»ƒm tra cluster hiá»‡n táº¡i:
			minikube status

			- Start cluster má»›i:
			minikube start

			- XÃ³a cluster vá»›i driver cá»¥ thá»ƒ:
			minikube delete --driver=hyperv

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Dá»n dáº¹p mÃ´i trÆ°á»ng Minikube cÅ©
			- Giáº£i phÃ³ng dung lÆ°á»£ng disk
			- Reset cluster Ä‘á»ƒ thá»­ nghiá»‡m láº¡i tá»« Ä‘áº§u
			- Chuáº©n bá»‹ tÃ¡i cáº¥u hÃ¬nh cluster vá»›i driver hoáº·c version khÃ¡c

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. Cluster Ä‘ang cháº¡y
			--------------------------------------------------
			- Lá»‡nh váº«n tá»± dá»«ng cluster trÆ°á»›c khi xÃ³a
			- Náº¿u lá»—i, cháº¡y:
			minikube stop
			minikube delete

			7.2. Driver khÃ´ng tá»“n táº¡i
			--------------------------------------------------
			- Chá»‰ Ä‘á»‹nh driver khÃ´ng Ä‘Ãºng â†’ lá»—i
			- Kiá»ƒm tra driver:
			minikube config view

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- Dá»¯ liá»‡u trong cluster bá»‹ máº¥t hoÃ n toÃ n, khÃ´ng thá»ƒ khÃ´i phá»¥c
			- CÃ¡c Pod, ConfigMap, Secret, Volume cÅ©ng bá»‹ xÃ³a
			- NÃªn backup dá»¯ liá»‡u quan trá»ng trÆ°á»›c khi delete

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			minikube.exe delete

			= XÃ³a toÃ n bá»™ cluster Minikube
			= Gá»¡ VM/container, network, volume
			= XÃ³a config cluster trong ~/.kube/config
			= DÃ¹ng Ä‘á»ƒ reset hoáº·c dá»n dáº¹p mÃ´i trÆ°á»ng local
			= Dá»¯ liá»‡u máº¥t hoÃ n toÃ n, nÃªn backup trÆ°á»›c khi cháº¡y
		
		
		- cmd: chmod +x kops
		
			Lá»†NH: chmod +x kops
			===================

			1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
			-------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Cáº¥p quyá»n thá»±c thi (execute) cho file "kops"
			- Cho phÃ©p ngÆ°á»i dÃ¹ng cháº¡y file nÃ y nhÆ° má»™t chÆ°Æ¡ng trÃ¬nh hoáº·c script
			- ThÆ°á»ng Ä‘Æ°á»£c dÃ¹ng sau khi táº£i má»™t file nhá»‹ phÃ¢n (binary) vá» tá»« internet


			2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
			------------------------------------

			2.1. chmod
			-----------
			- Viáº¿t táº¯t cá»§a: change mode
			- DÃ¹ng Ä‘á»ƒ thay Ä‘á»•i quyá»n truy cáº­p (permissions) cá»§a file hoáº·c thÆ° má»¥c trÃªn Linux/Unix
			- CÃº phÃ¡p chung:
			  chmod [OPTIONS] <MODE> <FILE>


			2.2. +x
			--------
			- "+x" nghÄ©a lÃ :
			  + ThÃªm quyá»n "execute" (thá»±c thi) cho file
			- Quyá»n thá»±c thi cho phÃ©p:
			  + User cháº¡y file nhÆ° má»™t chÆ°Æ¡ng trÃ¬nh
			- Chi tiáº¿t:
			  + Náº¿u file lÃ  script: ./kops
			  + Náº¿u file lÃ  binary: ./kops

			TÆ°Æ¡ng tá»±:
			- chmod u+x kops    => chá»‰ user sá»Ÿ há»¯u file Ä‘Æ°á»£c cháº¡y
			- chmod g+x kops    => thÃªm quyá»n execute cho group
			- chmod o+x kops    => thÃªm quyá»n execute cho others
			- chmod +x kops     => thÃªm execute cho táº¥t cáº£


			2.3. kops
			----------
			- TÃªn file cáº§n cáº¥p quyá»n thá»±c thi
			- ThÆ°á»ng lÃ  file nhá»‹ phÃ¢n cÃ i Kubernetes Operations (kops)
			- Sau khi chmod +x, cÃ³ thá»ƒ cháº¡y:
			  ./kops <command>


			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			---------------------------------
			Khi cháº¡y:
			chmod +x kops

			Há»‡ thá»‘ng sáº½:
			1. Cáº­p nháº­t quyá»n cá»§a file kops
			2. ThÃªm quyá»n execute cho táº¥t cáº£ (user, group, others)
			3. File giá» cÃ³ thá»ƒ cháº¡y trá»±c tiáº¿p:
			   ./kops


			4. KIá»‚M TRA QUYá»€N SAU KHI CHáº Y
			-------------------------------
			- DÃ¹ng lá»‡nh:
			  ls -l kops

			Output vÃ­ dá»¥:
			-rwxr-xr-x 1 user group 12345678 Dec 20 2025 kops

			Giáº£i thÃ­ch:
			- r: read (Ä‘á»c)
			- w: write (ghi)
			- x: execute (thá»±c thi)
			- rwxr-xr-x: user cÃ³ rwx, group r-x, others r-x


			5. Lá»¢I ÃCH KHI DÃ™NG chmod +x
			----------------------------
			- Cho phÃ©p cháº¡y trá»±c tiáº¿p file nhá»‹ phÃ¢n hoáº·c script
			- TrÃ¡nh pháº£i cháº¡y vá»›i interpreter thá»§ cÃ´ng:
			  + TrÆ°á»›c: sh kops
			  + Sau: ./kops


			6. Lá»–I THÆ¯á»œNG Gáº¶P
			-----------------
			- Permission denied khi cháº¡y file:
			  => ChÆ°a chmod +x
			- File khÃ´ng tá»“n táº¡i:
			  => Lá»—i: chmod: cannot access 'kops': No such file or directory


			7. TÃ“M Táº®T NGáº®N Gá»ŒN
			-------------------
			chmod        : thay Ä‘á»•i quyá»n file
			+x           : thÃªm quyá»n thá»±c thi
			kops         : file cáº§n cáº¥p quyá»n
			Káº¿t quáº£      : file kops cÃ³ thá»ƒ cháº¡y trá»±c tiáº¿p báº±ng ./kops
		
		
		- cmd: sudo mv kops /usr/local/bin/kops
		
			Lá»†NH: sudo mv kops /usr/local/bin/kops
			====================================================================

			1. mv lÃ  gÃ¬?
			--------------------------------------------------------------------
			- mv lÃ  lá»‡nh trong Linux dÃ¹ng Ä‘á»ƒ:
			  + Di chuyá»ƒn file hoáº·c thÆ° má»¥c
			  + Hoáº·c Ä‘á»•i tÃªn file/thÆ° má»¥c
			- CÃº phÃ¡p cÆ¡ báº£n:
			  mv [options] source target

			VÃ­ dá»¥:
			- mv file.txt /home/user/ â†’ di chuyá»ƒn file.txt vÃ o thÆ° má»¥c /home/user/
			- mv oldname.txt newname.txt â†’ Ä‘á»•i tÃªn file

			--------------------------------------------------------------------

			2. sudo lÃ  gÃ¬?
			--------------------------------------------------------------------
			- sudo = "superuser do"
			- DÃ¹ng Ä‘á»ƒ cháº¡y lá»‡nh vá»›i quyá»n quáº£n trá»‹ (root)
			- Cáº§n thiáº¿t khi thao tÃ¡c vá»›i thÆ° má»¥c há»‡ thá»‘ng, vÃ­ dá»¥:
			  /usr/local/bin
			- Náº¿u khÃ´ng dÃ¹ng sudo, lá»‡nh mv cÃ³ thá»ƒ bÃ¡o lá»—i "Permission denied"

			--------------------------------------------------------------------

			3. /usr/local/bin lÃ  gÃ¬?
			--------------------------------------------------------------------
			- /usr/local/bin lÃ  thÆ° má»¥c chuáº©n trong Linux Ä‘á»ƒ lÆ°u trá»¯:
			  + CÃ¡c executable (file cháº¡y Ä‘Æ°á»£c)
			  + ThÆ°á»ng dÃ nh cho pháº§n má»m cÃ i thá»§ cÃ´ng (manual install)
			- Æ¯u Ä‘iá»ƒm:
			  + ÄÆ°á»£c PATH cá»§a há»‡ thá»‘ng máº·c Ä‘á»‹nh, tá»©c lÃ  cÃ³ thá»ƒ cháº¡y trá»±c tiáº¿p tá»« terminal
				mÃ  khÃ´ng cáº§n chá»‰ rÃµ Ä‘Æ°á»ng dáº«n Ä‘áº§y Ä‘á»§

			--------------------------------------------------------------------

			4. kops lÃ  gÃ¬?
			--------------------------------------------------------------------
			- kops = Kubernetes Operations
			- LÃ  cÃ´ng cá»¥ CLI Ä‘á»ƒ:
			  + Táº¡o, quáº£n lÃ½ Kubernetes cluster trÃªn cloud
			  + Há»— trá»£ AWS, GCP, vSphere
			- ThÆ°á»ng táº£i vá» dÆ°á»›i dáº¡ng file nhá»‹ phÃ¢n (binary)

			--------------------------------------------------------------------

			5. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			sudo mv kops /usr/local/bin/kops

			â†’ Di chuyá»ƒn file kops Ä‘Ã£ táº£i vá» vÃ o thÆ° má»¥c /usr/local/bin
			â†’ Äáº·t tÃªn file váº«n lÃ  kops
			â†’ DÃ¹ng sudo Ä‘á»ƒ cÃ³ quyá»n ghi vÃ o /usr/local/bin
			â†’ Sau lá»‡nh nÃ y, kops cÃ³ thá»ƒ cháº¡y tá»« báº¥t cá»© thÆ° má»¥c nÃ o nhá» PATH

			VÃ­ dá»¥ kiá»ƒm tra:
			- Cháº¡y:
			kops version
			- Náº¿u hiá»ƒn thá»‹ version â†’ thÃ nh cÃ´ng

			--------------------------------------------------------------------

			6. Quy trÃ¬nh thá»±c thi lá»‡nh
			--------------------------------------------------------------------
			1) sudo yÃªu cáº§u quyá»n root
			2) Lá»‡nh mv kiá»ƒm tra:
			   - File nguá»“n: kops
			   - File Ä‘Ã­ch: /usr/local/bin/kops
			3) Di chuyá»ƒn file kops vÃ o /usr/local/bin
			4) Náº¿u file Ä‘Ã£ tá»“n táº¡i â†’ bá»‹ ghi Ä‘Ã¨
			5) Terminal khÃ´ng bÃ¡o lá»—i â†’ lá»‡nh thÃ nh cÃ´ng

			--------------------------------------------------------------------

			7. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) Permission denied
			- KhÃ´ng dÃ¹ng sudo
			- Giáº£i phÃ¡p: thÃªm sudo trÆ°á»›c lá»‡nh

			2) File kops khÃ´ng tá»“n táº¡i
			- Kiá»ƒm tra file táº£i vá»
			- DÃ¹ng ls trÆ°á»›c khi mv

			3) /usr/local/bin khÃ´ng tá»“n táº¡i
			- Háº§u háº¿t Linux cÃ³ thÆ° má»¥c nÃ y
			- Náº¿u khÃ´ng â†’ táº¡o báº±ng: sudo mkdir -p /usr/local/bin

			--------------------------------------------------------------------

			8. So sÃ¡nh nhanh
			--------------------------------------------------------------------
			- mv file /usr/local/bin â†’ di chuyá»ƒn file
			- cp file /usr/local/bin â†’ copy file, váº«n giá»¯ file gá»‘c
			- chmod +x /usr/local/bin/kops â†’ Ä‘áº£m báº£o file cÃ³ quyá»n thá»±c thi

			--------------------------------------------------------------------

			9. LÆ°u Ã½ quan trá»ng
			--------------------------------------------------------------------
			- Sau khi mv, Ä‘áº£m báº£o file executable:
			chmod +x /usr/local/bin/kops

			- Kiá»ƒm tra PATH Ä‘á»ƒ Ä‘áº£m báº£o /usr/local/bin cÃ³ trong PATH:
			echo $PATH

			--------------------------------------------------------------------

			10. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			sudo mv kops /usr/local/bin/kops =
			DI CHUYá»‚N FILE KOPS VÃ€O /USR/LOCAL/BIN Vá»šI QUYá»€N ROOT Äá»‚ CHáº Y TRá»°C TIáº¾P Tá»ª TERMINAL
		
		
		- cmd: kubectl version --client
		
			# Lá»‡nh gá»‘c:
			kubectl version --client

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. kubectl
			# - `kubectl` lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster.
			# - DÃ¹ng Ä‘á»ƒ thao tÃ¡c vá»›i cÃ¡c resource nhÆ° pods, deployments, services, configmaps,...
			# - TrÃªn Windows, cÃ³ thá»ƒ cháº¡y dÆ°á»›i dáº¡ng kubectl.exe.

			# 2. version
			# - Lá»‡nh `version` dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin phiÃªn báº£n cá»§a kubectl vÃ  Kubernetes cluster.
			# - ThÃ´ng tin nÃ y há»¯u Ã­ch Ä‘á»ƒ kiá»ƒm tra tÃ­nh tÆ°Æ¡ng thÃ­ch giá»¯a client vÃ  server.

			# 3. --client
			# - TÃ¹y chá»n `--client` chá»‰ hiá»ƒn thá»‹ thÃ´ng tin phiÃªn báº£n cá»§a kubectl client.
			# - KhÃ´ng cáº§n káº¿t ná»‘i tá»›i cluster khi sá»­ dá»¥ng tÃ¹y chá»n nÃ y.
			# - Náº¿u khÃ´ng dÃ¹ng `--client`, lá»‡nh sáº½ cá»‘ gáº¯ng hiá»ƒn thá»‹ cáº£:
			#   + Client version (kubectl)
			#   + Server version (Kubernetes cluster)

			# 4. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Khi cháº¡y `kubectl version --client`, lá»‡nh sáº½:
			#   1. Kiá»ƒm tra phiÃªn báº£n hiá»‡n táº¡i cá»§a kubectl trÃªn mÃ¡y.
			#   2. In ra thÃ´ng tin bao gá»“m:
			#      + GitVersion: phiÃªn báº£n chÃ­nh thá»©c.
			#      + GitCommit: commit hash tÆ°Æ¡ng á»©ng.
			#      + BuildDate: ngÃ y build cá»§a kubectl.
			#      + GoVersion: phiÃªn báº£n Go Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ build.
			#      + Compiler vÃ  Platform.

			# 5. VÃ­ dá»¥ káº¿t quáº£:
			# Client Version: version.Info{Major:"1", Minor:"27", GitVersion:"v1.27.3", GitCommit:"abc123", GitTreeState:"clean", BuildDate:"2025-11-01T12:34:56Z", GoVersion:"go1.21", Compiler:"gc", Platform:"windows/amd64"}

			# 6. LÆ°u Ã½ quan trá»ng:
			# - Lá»‡nh nÃ y chá»‰ kiá»ƒm tra phiÃªn báº£n client, khÃ´ng phá»¥ thuá»™c cluster.
			# - Há»¯u Ã­ch khi chuáº©n bá»‹ mÃ´i trÆ°á»ng Ä‘á»ƒ Ä‘áº£m báº£o tÆ°Æ¡ng thÃ­ch vá»›i cluster Kubernetes hiá»‡n táº¡i.
			# - GiÃºp debug váº¥n Ä‘á» liÃªn quan Ä‘áº¿n phiÃªn báº£n kubectl hoáº·c tÃ­nh nÄƒng khÃ´ng tÆ°Æ¡ng thÃ­ch.

			# 7. CÃ¡c tÃ¹y chá»n liÃªn quan:
			# - kubectl version
			#   + Hiá»ƒn thá»‹ cáº£ client vÃ  server version.
			# - kubectl version -o json
			#   + Xuáº¥t thÃ´ng tin phiÃªn báº£n dÆ°á»›i Ä‘á»‹nh dáº¡ng JSON.

			# Káº¿t luáº­n:
			# Lá»‡nh `kubectl version --client` dÃ¹ng Ä‘á»ƒ kiá»ƒm tra phiÃªn báº£n kubectl Ä‘ang sá»­ dá»¥ng,
			# Ä‘áº£m báº£o mÃ´i trÆ°á»ng client sáºµn sÃ ng tÆ°Æ¡ng thÃ­ch vá»›i Kubernetes cluster.
					
		
		- cmd: cat .kube/config
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			cat .kube/config
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ ná»™i dung file cáº¥u hÃ¬nh Kubernetes (kubeconfig) trÃªn terminal.

			- File kubeconfig thÆ°á»ng náº±m á»Ÿ Ä‘Æ°á»ng dáº«n:
			--------------------------------------------------
			~/.kube/config
			- Chá»©a thÃ´ng tin Ä‘á»ƒ kubectl káº¿t ná»‘i tá»›i cluster Kubernetes.
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ:
			  + Kiá»ƒm tra cáº¥u hÃ¬nh cluster
			  + Debug lá»—i káº¿t ná»‘i kubectl
			  + Xem context, user, cluster vÃ  certificate

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. cat
			--------------------------------------------------
			- Lá»‡nh dÃ²ng lá»‡nh Linux Ä‘á»ƒ:
			  + Hiá»ƒn thá»‹ ná»™i dung file
			  + Ná»‘i file
			  + Xuáº¥t ná»™i dung ra stdout (terminal)

			2.2. .kube/config
			--------------------------------------------------
			- File cáº¥u hÃ¬nh kubeconfig
			- Chá»©a cÃ¡c má»¥c quan trá»ng:
			  + clusters: thÃ´ng tin endpoint API server
			  + users: thÃ´ng tin user, certificate, token
			  + contexts: liÃªn káº¿t cluster vÃ  user
			  + current-context: cluster máº·c Ä‘á»‹nh Ä‘ang dÃ¹ng

			--------------------------------------------------
			3. Ná»˜I DUNG MáºªU Cá»¦A KUBECONFIG
			--------------------------------------------------
			apiVersion: v1
			clusters:
			- cluster:
				certificate-authority-data: <CERT_DATA>
				server: https://123.456.789.101:6443
			  name: minikube
			contexts:
			- context:
				cluster: minikube
				user: minikube
			  name: minikube
			current-context: minikube
			kind: Config
			preferences: {}
			users:
			- name: minikube
			  user:
				client-certificate-data: <CERT_DATA>
				client-key-data: <KEY_DATA>

			--------------------------------------------------
			4. Ã NGHÄ¨A Cá»¦A Ná»˜I DUNG
			--------------------------------------------------
			- clusters: danh sÃ¡ch cluster Kubernetes
			- users: thÃ´ng tin xÃ¡c thá»±c Ä‘á»ƒ káº¿t ná»‘i
			- contexts: káº¿t ná»‘i user + cluster
			- current-context: context máº·c Ä‘á»‹nh khi dÃ¹ng kubectl

			--------------------------------------------------
			5. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- File chá»©a thÃ´ng tin nháº¡y cáº£m (cert, key, token)
			- KhÃ´ng chia sáº» file nÃ y cho ngÆ°á»i khÃ¡c
			- ThÆ°á»ng Ä‘Æ°á»£c táº¡o bá»Ÿi:
			  + minikube start
			  + kops export kubecfg
			  + kubeadm init
			  + cloud provider (EKS, GKE, AKS)

			--------------------------------------------------
			6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- Xem ná»™i dung file kubeconfig
			- Debug káº¿t ná»‘i cluster
			- Kiá»ƒm tra context vÃ  cluster hiá»‡n táº¡i
			- Há»c cÃ¡ch kubectl xÃ¡c thá»±c vÃ  káº¿t ná»‘i Kubernetes

			--------------------------------------------------
			7. BIáº¾N THá»‚ HAY DÃ™NG
			--------------------------------------------------
			- Xem file vá»›i sá»‘ dÃ²ng:
			--------------------------------------------------
			cat -n ~/.kube/config

			- DÃ¹ng less Ä‘á»ƒ scroll:
			--------------------------------------------------
			less ~/.kube/config

			- Káº¿t há»£p grep Ä‘á»ƒ tÃ¬m context:
			--------------------------------------------------
			grep current-context ~/.kube/config

			--------------------------------------------------
			8. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			cat .kube/config
			= Hiá»ƒn thá»‹ ná»™i dung file kubeconfig
			= Xem cluster, user, context, certificate
			= DÃ¹ng Ä‘á»ƒ debug vÃ  kiá»ƒm tra káº¿t ná»‘i Kubernetes
			= File chá»©a thÃ´ng tin nháº¡y cáº£m, cáº§n báº£o máº­t
			==================================================
		
		
		- cmd:
		
				kops create cluster --name=kubevpro.vnstudio.info --state=s3://kopsstate956
				--zones=us-east-1a,us-east-1b --node-count=2 --node-size=t3.small --control-plane-size=t3.medium
				--dns-zone=kubevpro.vnstudio.info --node-volume-size=12 --control-plane-volume-size=12
				--ssh-public-key ~/.ssh/id_ed25519.pub
				
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			kops create cluster --name=kubevpro.vnstudio.info --state=s3://kopsstate956 \
			--zones=us-east-1a,us-east-1b --node-count=2 --node-size=t3.small --control-plane-size=t3.medium \
			--dns-zone=kubevpro.vnstudio.info --node-volume-size=12 --control-plane-volume-size=12 \
			--ssh-public-key ~/.ssh/id_ed25519.pub

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Táº¡o má»™t Kubernetes cluster trÃªn AWS báº±ng cÃ´ng cá»¥ Kops (Kubernetes Operations)
			- Cluster sáº½ Ä‘Æ°á»£c cáº¥u hÃ¬nh theo cÃ¡c tham sá»‘:
			  + Sá»‘ lÆ°á»£ng node, loáº¡i instance, vÃ¹ng availability
			  + Volume cho node vÃ  control-plane
			  + DNS zone vÃ  SSH key
			- LÆ°u tráº¡ng thÃ¡i cluster trong S3 bucket `s3://kopsstate956`
			- ÄÃ¢y lÃ  bÆ°á»›c Ä‘áº§u Ä‘á»ƒ triá»ƒn khai cluster trÆ°á»›c khi thá»±c thi `kops update cluster --yes`

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. kops
			--------------------------------------------------
			- CÃ´ng cá»¥ quáº£n lÃ½ Kubernetes cluster trÃªn cloud (AWS, GCE)
			- Thá»±c hiá»‡n: create, update, delete cluster
			- TÃ­ch há»£p vá»›i S3 Ä‘á»ƒ lÆ°u tráº¡ng thÃ¡i cluster

			2.2. create cluster
			--------------------------------------------------
			- Subcommand táº¡o cluster má»›i
			- Chá»‰ táº¡o cáº¥u hÃ¬nh cluster, chÆ°a triá»ƒn khai hoÃ n toÃ n
			- Cluster cÃ³ thá»ƒ Ä‘Æ°á»£c apply báº±ng `kops update cluster --yes`

			2.3. --name=kubevpro.vnstudio.info
			--------------------------------------------------
			- TÃªn cluster
			- DÃ¹ng lÃ m tÃªn DNS, Ä‘á»‹nh danh cluster trong Kops
			- ThÆ°á»ng theo chuáº©n FQDN

			2.4. --state=s3://kopsstate956
			--------------------------------------------------
			- S3 bucket lÆ°u trá»¯ tráº¡ng thÃ¡i cluster
			- Kops sá»­ dá»¥ng Ä‘á»ƒ track cÃ¡c resource Ä‘Ã£ táº¡o
			- Bucket pháº£i tá»“n táº¡i trÆ°á»›c khi cháº¡y lá»‡nh

			2.5. --zones=us-east-1a,us-east-1b
			--------------------------------------------------
			- Chá»‰ Ä‘á»‹nh Availability Zones (AZ) cho cluster
			- Cluster sáº½ triá»ƒn khai node trong cÃ¡c AZ nÃ y
			- GiÃºp tÄƒng tÃ­nh HA (High Availability)

			2.6. --node-count=2
			--------------------------------------------------
			- Sá»‘ lÆ°á»£ng worker node
			- Node cháº¡y workload cá»§a á»©ng dá»¥ng

			2.7. --node-size=t3.small
			--------------------------------------------------
			- Loáº¡i EC2 instance cho worker node
			- T3.small: 2 vCPU, 2GB RAM

			2.8. --control-plane-size=t3.medium
			--------------------------------------------------
			- Loáº¡i EC2 instance cho control plane (API server, scheduler, controller)
			- T3.medium: 2 vCPU, 4GB RAM

			2.9. --dns-zone=kubevpro.vnstudio.info
			--------------------------------------------------
			- Zone DNS cho cluster
			- Kops táº¡o record cho API server
			- GiÃºp truy cáº­p cluster qua domain name

			2.10. --node-volume-size=12
			--------------------------------------------------
			- Dung lÆ°á»£ng á»• cá»©ng (GB) cho worker node
			- LÆ°u trá»¯ data, container logs, persistent volume

			2.11. --control-plane-volume-size=12
			--------------------------------------------------
			- Dung lÆ°á»£ng á»• cá»©ng (GB) cho control plane
			- LÆ°u trá»¯ etcd, logs, certificate, config

			2.12. --ssh-public-key ~/.ssh/id_ed25519.pub
			--------------------------------------------------
			- SSH key public Ä‘á»ƒ login vÃ o cÃ¡c node
			- GiÃºp quáº£n trá»‹ node mÃ  khÃ´ng cáº§n password

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Kops táº¡o cáº¥u hÃ¬nh cluster trong S3 bucket
			2. XÃ¡c Ä‘á»‹nh:
			   - Number of nodes
			   - Instance types
			   - Zones
			   - Volumes
			   - DNS
			   - SSH key
			3. Cáº¥u hÃ¬nh Ä‘Æ°á»£c lÆ°u trong bucket S3
			4. Lá»‡nh chÆ°a táº¡o node thá»±c táº¿, cáº§n `kops update cluster --yes` Ä‘á»ƒ apply

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥ output:

			I0820 10:00:00.000000   12345 create_cluster.go:123] Cluster configuration created in s3://kopsstate956/kubevpro.vnstudio.info
			Please specify --yes to apply changes

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- Apply cluster:
			kops update cluster --name kubevpro.vnstudio.info --yes

			- Kiá»ƒm tra cluster config:
			kops get cluster --name kubevpro.vnstudio.info

			- Kiá»ƒm tra node instance groups:
			kops get ig --name kubevpro.vnstudio.info

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Triá»ƒn khai Kubernetes cluster trÃªn AWS dá»… dÃ ng
			- Táº¡o cluster HA, nhiá»u AZ
			- Cáº¥u hÃ¬nh trÆ°á»›c khi apply
			- DÃ¹ng cho há»c táº­p, thá»­ nghiá»‡m, CI/CD pipeline

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. Bucket S3 khÃ´ng tá»“n táº¡i
			--------------------------------------------------
			- Kops yÃªu cáº§u bucket tá»“n táº¡i
			- Táº¡o bucket trÆ°á»›c: aws s3 mb s3://kopsstate956

			7.2. DNS zone khÃ´ng Ä‘Ãºng
			--------------------------------------------------
			- Kops cáº§n route53 DNS zone
			- Kiá»ƒm tra DNS zone tá»“n táº¡i

			7.3. SSH key khÃ´ng há»£p lá»‡
			--------------------------------------------------
			- Kiá»ƒm tra key tá»“n táº¡i vÃ  Ä‘Ãºng Ä‘á»‹nh dáº¡ng

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- Lá»‡nh nÃ y chÆ°a triá»ƒn khai node thá»±c táº¿
			- Dá»¯ liá»‡u trong cluster chÆ°a cÃ³
			- Cluster chÆ°a ready cho production
			- Cáº§n cháº¡y `kops update cluster --yes` Ä‘á»ƒ táº¡o node

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			kops create cluster --name=kubevpro.vnstudio.info --state=s3://kopsstate956 \
			--zones=us-east-1a,us-east-1b --node-count=2 --node-size=t3.small --control-plane-size=t3.medium \
			--dns-zone=kubevpro.vnstudio.info --node-volume-size=12 --control-plane-volume-size=12 \
			--ssh-public-key ~/.ssh/id_ed25519.pub

			= Táº¡o cáº¥u hÃ¬nh cluster Kubernetes trÃªn AWS
			= LÆ°u tráº¡ng thÃ¡i trong S3 bucket
			= Chá»‰ Ä‘á»‹nh zones, node count, instance type, volume, DNS, SSH key
			= Cáº§n cháº¡y `kops update cluster --yes` Ä‘á»ƒ triá»ƒn khai thá»±c táº¿
		
		
		- cmd: kops update cluster --name=kubevpro.vnstudio.info --state=s3://kopsstate112211 --yes --admin
		
			Lá»†NH: kops update cluster --name=kubevpro.vnstudio.info --state=s3://kopsstate112211 --yes --admin
			=================================================================================================

			1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
			-------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Cáº­p nháº­t cáº¥u hÃ¬nh vÃ  triá»ƒn khai cÃ¡c thay Ä‘á»•i trÃªn má»™t Kubernetes cluster Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi kops
			- Cluster Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh bá»Ÿi tÃªn vÃ  tráº¡ng thÃ¡i lÆ°u trá»¯ trÃªn S3
			- Thá»±c hiá»‡n update ngay láº­p tá»©c mÃ  khÃ´ng cáº§n xÃ¡c nháº­n thá»§ cÃ´ng
			- Thiáº¿t láº­p quyá»n admin (superuser) cho cluster


			2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
			------------------------------------

			2.1. kops
			---------
			- Kubernetes Operations (kops) CLI
			- DÃ¹ng Ä‘á»ƒ:
			  + Táº¡o cluster Kubernetes
			  + Quáº£n lÃ½ cluster
			  + Cáº­p nháº­t cluster
			- LÃ  cÃ´ng cá»¥ phá»• biáº¿n khi cháº¡y Kubernetes trÃªn AWS


			2.2. update cluster
			------------------
			- "update cluster" lÃ  sub-command cá»§a kops
			- Chá»©c nÄƒng:
			  + So sÃ¡nh cáº¥u hÃ¬nh hiá»‡n táº¡i (trong S3) vá»›i cáº¥u hÃ¬nh local
			  + Táº¡o cÃ¡c tÃ i nguyÃªn má»›i hoáº·c cáº­p nháº­t cÃ¡c tÃ i nguyÃªn hiá»‡n táº¡i trÃªn cluster
			  + Thá»±c hiá»‡n cÃ¡c thay Ä‘á»•i vá» node, network, addons, phiÃªn báº£n Kubernetes, IAM roles, v.v.


			2.3. --name=kubevpro.vnstudio.info
			----------------------------------
			- XÃ¡c Ä‘á»‹nh cluster cáº§n update
			- TÃªn cluster lÃ  kubevpro.vnstudio.info
			- Pháº£i trÃ¹ng vá»›i tÃªn cluster Ä‘Ã£ táº¡o trÆ°á»›c Ä‘Ã³ báº±ng kops
			- ThÆ°á»ng cÅ©ng lÃ  DNS name Ä‘á»ƒ truy cáº­p cluster


			2.4. --state=s3://kopsstate112211
			---------------------------------
			- S3 bucket dÃ¹ng Ä‘á»ƒ lÆ°u tráº¡ng thÃ¡i cluster
			- Kops sá»­ dá»¥ng bucket nÃ y Ä‘á»ƒ:
			  + LÆ°u cáº¥u hÃ¬nh cluster (YAML)
			  + LÆ°u thÃ´ng tin version, instance groups, addons
			- CÃº phÃ¡p: s3://<bucket-name>
			- Trong trÆ°á»ng há»£p nÃ y: s3://kopsstate112211


			2.5. --yes
			-----------
			- Tá»± Ä‘á»™ng xÃ¡c nháº­n cÃ¡c thay Ä‘á»•i
			- Khi khÃ´ng cÃ³ --yes:
			  + Kops sáº½ hiá»ƒn thá»‹ danh sÃ¡ch thay Ä‘á»•i
			  + YÃªu cáº§u báº¡n nháº­p "yes" Ä‘á»ƒ thá»±c hiá»‡n
			- Vá»›i --yes:
			  + Lá»‡nh cháº¡y ngay láº­p tá»©c
			  + DÃ¹ng trong script hoáº·c automation


			2.6. --admin
			------------
			- Cáº¥p quyá»n admin cho cluster
			- Táº¡o hoáº·c cáº­p nháº­t user kubeconfig vá»›i quyá»n cluster-admin
			- Cho phÃ©p quáº£n lÃ½ toÃ n bá»™ cluster báº±ng kubectl
			- ThÆ°á»ng Ä‘Æ°á»£c dÃ¹ng láº§n Ä‘áº§u táº¡o cluster hoáº·c khi cáº§n quyá»n full


			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			---------------------------------
			Khi cháº¡y:
			kops update cluster --name=kubevpro.vnstudio.info --state=s3://kopsstate112211 --yes --admin

			Kops sáº½:
			1. Káº¿t ná»‘i Ä‘áº¿n S3 bucket kopsstate112211
			2. Láº¥y thÃ´ng tin cluster kubevpro.vnstudio.info
			3. So sÃ¡nh cáº¥u hÃ¬nh cluster hiá»‡n táº¡i vá»›i cáº¥u hÃ¬nh Ä‘Æ°á»£c lÆ°u trong S3
			4. XÃ¡c Ä‘á»‹nh cÃ¡c thay Ä‘á»•i cáº§n Ã¡p dá»¥ng
			5. Cáº­p nháº­t cluster trÃªn AWS:
			   - Launch/terminate instances náº¿u cáº§n
			   - Cáº­p nháº­t networking, IAM roles, addons
			6. Cáº­p nháº­t kubeconfig cho admin user
			7. Tráº£ vá» tráº¡ng thÃ¡i thá»±c hiá»‡n thÃ nh cÃ´ng


			4. Káº¾T QUáº¢ SAU KHI CHáº Y Lá»†NH
			---------------------------
			- Cluster Ä‘Æ°á»£c cáº­p nháº­t theo cáº¥u hÃ¬nh má»›i
			- CÃ¡c resource AWS (EC2, ELB, Security Group, IAM, v.v.) Ä‘Æ°á»£c táº¡o/cáº­p nháº­t
			- kubeconfig cÃ³ quyá»n admin Ä‘Æ°á»£c cáº­p nháº­t
			- CÃ³ thá»ƒ kiá»ƒm tra tráº¡ng thÃ¡i cluster:
			  kops validate cluster --name=kubevpro.vnstudio.info --state=s3://kopsstate112211


			5. Lá»–I THÆ¯á»œNG Gáº¶P
			-----------------
			- Lá»—i khÃ´ng tÃ¬m tháº¥y bucket S3:
			  => Kiá»ƒm tra bucket tá»“n táº¡i vÃ  cÃ³ quyá»n truy cáº­p
			- Lá»—i cluster khÃ´ng tá»“n táº¡i:
			  => Kiá»ƒm tra tÃªn cluster vÃ  state
			- Lá»—i permission AWS:
			  => Kiá»ƒm tra IAM user/role cÃ³ quyá»n táº¡o/update resource
			- Lá»—i network, subnet hoáº·c instance type:
			  => Kiá»ƒm tra cáº¥u hÃ¬nh cluster trong YAML


			6. TÃ“M Táº®T NGáº®N Gá»ŒN
			-------------------
			kops                    : CLI Kubernetes Operations
			update cluster           : cáº­p nháº­t cluster Kubernetes
			--name=kubevpro.vnstudio.info : xÃ¡c Ä‘á»‹nh cluster
			--state=s3://kopsstate112211     : bucket lÆ°u tráº¡ng thÃ¡i cluster
			--yes                    : tá»± Ä‘á»™ng xÃ¡c nháº­n thay Ä‘á»•i
			--admin                  : cáº¥p quyá»n admin cho kubeconfig
			Káº¿t quáº£                 : cluster Ä‘Æ°á»£c cáº­p nháº­t, admin kubeconfig sáºµn sÃ ng
		
		
		- cmd: kubectl get nodes
		
			Lá»†NH: kubectl get nodes
			====================================================================

			1. kubectl lÃ  gÃ¬?
			--------------------------------------------------------------------
			- kubectl lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster
			- DÃ¹ng Ä‘á»ƒ:
			  + Táº¡o, cáº­p nháº­t, xÃ³a resource (Deployment, Pod, Serviceâ€¦)
			  + Kiá»ƒm tra tráº¡ng thÃ¡i cluster vÃ  cÃ¡c resource
			- Giao tiáº¿p trá»±c tiáº¿p vá»›i API server cá»§a Kubernetes

			--------------------------------------------------------------------

			2. node lÃ  gÃ¬ trong Kubernetes?
			--------------------------------------------------------------------
			- Node = mÃ¡y chá»§ (physical hoáº·c virtual) trong cluster
			- Node cÃ³ thá»ƒ lÃ :
			  + Master node (control plane)
			  + Worker node (cháº¡y Pod)
			- Node chá»‹u trÃ¡ch nhiá»‡m cháº¡y container theo yÃªu cáº§u cá»§a scheduler

			--------------------------------------------------------------------

			3. get nodes lÃ  gÃ¬?
			--------------------------------------------------------------------
			- get nodes = liá»‡t kÃª táº¥t cáº£ node trong cluster
			- Hiá»ƒn thá»‹ thÃ´ng tin cÆ¡ báº£n:
			  + NAME   : tÃªn node
			  + STATUS : tráº¡ng thÃ¡i node (Ready, NotReady)
			  + ROLES  : vai trÃ² node (master, worker)
			  + AGE    : thá»i gian node hoáº¡t Ä‘á»™ng
			  + VERSION: phiÃªn báº£n Kubernetes Ä‘ang cháº¡y trÃªn node

			--------------------------------------------------------------------

			4. CÃº phÃ¡p lá»‡nh
			--------------------------------------------------------------------
			kubectl get nodes [options]

			VÃ­ dá»¥ cÆ¡ báº£n:
			kubectl get nodes

			Má»™t sá»‘ tÃ¹y chá»n:
			- -o wide   â†’ hiá»ƒn thá»‹ thÃªm IP, OS, kernel
			- -n <namespace> â†’ thÆ°á»ng khÃ´ng dÃ¹ng vÃ¬ node khÃ´ng thuá»™c namespace

			--------------------------------------------------------------------

			5. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			kubectl get nodes

			â†’ Liá»‡t kÃª táº¥t cáº£ node trong cluster Kubernetes hiá»‡n táº¡i
			â†’ Kiá»ƒm tra tráº¡ng thÃ¡i node (Ready hay NotReady)
			â†’ Xem version Kubernetes vÃ  vai trÃ² cá»§a node
			â†’ GiÃºp admin quáº£n lÃ½ vÃ  monitor cluster

			--------------------------------------------------------------------

			6. Quy trÃ¬nh thá»±c thi lá»‡nh
			--------------------------------------------------------------------
			1) kubectl gá»­i request GET tá»›i API server
			2) API server láº¥y danh sÃ¡ch Node object trong cluster
			3) API server tráº£ JSON/YAML ná»™i dung
			4) kubectl hiá»ƒn thá»‹ theo dáº¡ng báº£ng máº·c Ä‘á»‹nh (NAME, STATUS, ROLES, AGE, VERSION)

			--------------------------------------------------------------------

			7. Output thÆ°á»ng tháº¥y
			--------------------------------------------------------------------
			NAME             STATUS   ROLES    AGE    VERSION
			minikube         Ready    master   2h     v1.27.6

			Giáº£i thÃ­ch:
			- NAME   : minikube â†’ tÃªn node
			- STATUS : Ready â†’ node sáºµn sÃ ng cháº¡y Pod
			- ROLES  : master â†’ vai trÃ² node
			- AGE    : 2h â†’ thá»i gian node hoáº¡t Ä‘á»™ng
			- VERSION: v1.27.6 â†’ version Kubernetes node Ä‘ang cháº¡y

			--------------------------------------------------------------------

			8. Khi nÃ o nÃªn dÃ¹ng lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- Kiá»ƒm tra node cÃ³ Ä‘ang hoáº¡t Ä‘á»™ng khÃ´ng
			- Kiá»ƒm tra vai trÃ² node (master/worker)
			- Debug cluster: náº¿u Pod khÃ´ng cháº¡y, kiá»ƒm tra node
			- Monitor phiÃªn báº£n Kubernetes tá»«ng node

			--------------------------------------------------------------------

			9. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) Unable to connect to the server
			- ChÆ°a cáº¥u hÃ¬nh kubectl context
			- DÃ¹ng: kubectl config use-context <cluster-name>

			2) No resources found
			- Cluster chÆ°a cÃ³ node hoáº·c node chÆ°a sáºµn sÃ ng

			--------------------------------------------------------------------

			10. So sÃ¡nh nhanh
			--------------------------------------------------------------------
			kubectl get nodes
			â†’ Hiá»ƒn thá»‹ táº¥t cáº£ node trong cluster

			kubectl describe node <node-name>
			â†’ Xem chi tiáº¿t node: CPU, memory, pods, events

			kubectl get pods -o wide
			â†’ Kiá»ƒm tra Pod vÃ  node Ä‘ang cháº¡y Pod

			--------------------------------------------------------------------

			11. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			kubectl get nodes =
			LIá»†T KÃŠ Táº¤T Cáº¢ NODE TRONG KUBERNETES CLUSTER Vá»šI TRáº NG THÃI, ROLES, AGE, VERSION
		
		
		- cmd: kubectl config view
		
			# Lá»‡nh gá»‘c:
			kubectl config view

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. kubectl
			# - `kubectl` lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster.
			# - DÃ¹ng Ä‘á»ƒ thao tÃ¡c vá»›i cÃ¡c resource nhÆ° pods, deployments, services, configmaps,...

			# 2. config
			# - Lá»‡nh con `config` dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ cáº¥u hÃ¬nh cá»§a kubectl.
			# - Cáº¥u hÃ¬nh nÃ y quyáº¿t Ä‘á»‹nh cÃ¡ch kubectl káº¿t ná»‘i vÃ  tÆ°Æ¡ng tÃ¡c vá»›i cluster.

			# 3. view
			# - Lá»‡nh `view` dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ toÃ n bá»™ cáº¥u hÃ¬nh hiá»‡n táº¡i.
			# - ThÃ´ng tin cáº¥u hÃ¬nh Ä‘Æ°á»£c láº¥y tá»« file kubeconfig, máº·c Ä‘á»‹nh lÃ :
			#   + Linux/macOS: ~/.kube/config
			#   + Windows: %USERPROFILE%\.kube\config

			# 4. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Khi cháº¡y `kubectl config view`, lá»‡nh sáº½:
			#   1. Äá»c file kubeconfig.
			#   2. Hiá»ƒn thá»‹ cÃ¡c thÃ´ng tin quan trá»ng, bao gá»“m:
			#      + clusters: danh sÃ¡ch cluster mÃ  kubectl cÃ³ thá»ƒ káº¿t ná»‘i.
			#      + contexts: cÃ¡c context Ä‘á»‹nh nghÄ©a káº¿t ná»‘i cá»¥ thá»ƒ giá»¯a user vÃ  cluster.
			#      + users: thÃ´ng tin user/kube credentials.
			#      + current-context: context Ä‘ang Ä‘Æ°á»£c sá»­ dá»¥ng hiá»‡n táº¡i.
			#   3. Dá»¯ liá»‡u Ä‘Æ°á»£c xuáº¥t theo Ä‘á»‹nh dáº¡ng YAML.

			# 5. VÃ­ dá»¥ káº¿t quáº£:
			# apiVersion: v1
			# clusters:
			# - cluster:
			#     certificate-authority: /home/user/.minikube/ca.crt
			#     server: https://127.0.0.1:8443
			#   name: minikube
			# contexts:
			# - context:
			#     cluster: minikube
			#     user: minikube
			#   name: minikube
			# current-context: minikube
			# kind: Config
			# preferences: {}
			# users:
			# - name: minikube
			#   user:
			#     client-certificate: /home/user/.minikube/client.crt
			#     client-key: /home/user/.minikube/client.key

			# 6. CÃ¡c tÃ¹y chá»n liÃªn quan:
			# - kubectl config get-contexts
			#   + Liá»‡t kÃª táº¥t cáº£ cÃ¡c context.
			# - kubectl config current-context
			#   + Hiá»ƒn thá»‹ context hiá»‡n táº¡i.
			# - kubectl config use-context <context_name>
			#   + Chuyá»ƒn sang context khÃ¡c.
			# - kubectl config set-context <context_name> --cluster=<cluster> --user=<user>
			#   + Táº¡o hoáº·c chá»‰nh sá»­a context.

			# 7. LÆ°u Ã½ quan trá»ng:
			# - File kubeconfig chá»©a thÃ´ng tin nháº¡y cáº£m nhÆ° certificate vÃ  token.
			# - KhÃ´ng chia sáº» file nÃ y náº¿u khÃ´ng báº£o máº­t.
			# - Quáº£n lÃ½ contexts giÃºp káº¿t ná»‘i nhiá»u cluster khÃ¡c nhau dá»… dÃ ng.

			# Káº¿t luáº­n:
			# Lá»‡nh `kubectl config view` dÃ¹ng Ä‘á»ƒ xem toÃ n bá»™ cáº¥u hÃ¬nh cá»§a kubectl,
			# bao gá»“m clusters, contexts, users, vÃ  context hiá»‡n táº¡i,
			# giÃºp quáº£n trá»‹ viÃªn kiá»ƒm tra vÃ  debug káº¿t ná»‘i vá»›i Kubernetes cluster.
					
					
					- cmd: kubectl get ns
					
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			kubectl get ns
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ liá»‡t kÃª táº¥t cáº£ cÃ¡c Namespace trong cluster Kubernetes hiá»‡n táº¡i.

			- `kubectl` lÃ  CLI cá»§a Kubernetes dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ cluster.
			- `get` lÃ  subcommand Ä‘á»ƒ láº¥y thÃ´ng tin tÃ i nguyÃªn.
			- `ns` lÃ  viáº¿t táº¯t cá»§a `namespace`.
			- Má»¥c Ä‘Ã­ch:
			  + Xem danh sÃ¡ch cÃ¡c namespace
			  + GiÃ¡m sÃ¡t resource theo namespace
			  + Kiá»ƒm tra namespace máº·c Ä‘á»‹nh hoáº·c namespace Ä‘Æ°á»£c táº¡o bá»Ÿi á»©ng dá»¥ng

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. kubectl
			--------------------------------------------------
			- CLI tool cá»§a Kubernetes
			- Quáº£n lÃ½ cÃ¡c resource nhÆ° pods, deployments, services, namespaces, nodes, v.v.

			2.2. get
			--------------------------------------------------
			- Subcommand dÃ¹ng Ä‘á»ƒ láº¥y thÃ´ng tin resource
			- ThÆ°á»ng káº¿t há»£p vá»›i resource type:
			  + pods
			  + deployments
			  + services
			  + nodes
			  + ns (namespace)

			2.3. ns
			--------------------------------------------------
			- Viáº¿t táº¯t cá»§a namespace
			- Namespace trong Kubernetes dÃ¹ng Ä‘á»ƒ:
			  + PhÃ¢n tÃ¡ch resource logic
			  + Tá»• chá»©c workload
			  + Quáº£n lÃ½ quyá»n truy cáº­p (RBAC)
			- Má»—i cluster cÃ³ namespace máº·c Ä‘á»‹nh lÃ  `default`
			- Má»™t sá»‘ namespace phá»• biáº¿n:
			  + kube-system: system resources
			  + kube-public: public resources
			  + kube-node-lease: node lease objects

			--------------------------------------------------
			3. Káº¾T QUáº¢ Äáº¦U RA (VÃ Dá»¤)
			--------------------------------------------------
			NAME              STATUS   AGE
			default           Active   10d
			kube-system       Active   10d
			kube-public       Active   10d
			my-app            Active   5d

			Giáº£i thÃ­ch:
			- NAME: tÃªn namespace
			- STATUS: tráº¡ng thÃ¡i (Active, Terminating)
			- AGE: thá»i gian namespace tá»“n táº¡i

			--------------------------------------------------
			4. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Namespace quyáº¿t Ä‘á»‹nh scope cá»§a resource
			- Máº·c Ä‘á»‹nh náº¿u khÃ´ng chá»‰ Ä‘á»‹nh namespace khi táº¡o resource:
			  + resource Ä‘Æ°á»£c táº¡o trong `default` namespace
			- Kiá»ƒm tra namespace cá»¥ thá»ƒ:
			--------------------------------------------------
			kubectl get pods -n <namespace>

			- Xem chi tiáº¿t namespace:
			--------------------------------------------------
			kubectl describe ns <namespace_name>

			--------------------------------------------------
			5. BIáº¾N THá»‚ HAY DÃ™NG
			--------------------------------------------------
			- Xem táº¥t cáº£ namespace vá»›i output chi tiáº¿t:
			--------------------------------------------------
			kubectl get ns -o wide

			- Xem dÆ°á»›i dáº¡ng YAML:
			--------------------------------------------------
			kubectl get ns -o yaml

			--------------------------------------------------
			6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- GiÃ¡m sÃ¡t cÃ¡c namespace trong cluster
			- Kiá»ƒm tra namespace má»›i táº¡o hoáº·c Ä‘Ã£ xÃ³a
			- Quáº£n lÃ½ quyá»n vÃ  phÃ¢n vÃ¹ng tÃ i nguyÃªn
			- Debug cÃ¡c váº¥n Ä‘á» liÃªn quan Ä‘áº¿n resource scope

			--------------------------------------------------
			7. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			kubectl get ns
			= Liá»‡t kÃª táº¥t cáº£ Namespace trong Kubernetes cluster
			= Hiá»ƒn thá»‹ tÃªn, tráº¡ng thÃ¡i, thá»i gian tá»“n táº¡i
			= DÃ¹ng Ä‘á»ƒ giÃ¡m sÃ¡t, quáº£n lÃ½ vÃ  debug resource theo namespace
			==================================================
		
		
		- cmd: kubectl get all
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			kubectl get all

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Liá»‡t kÃª táº¥t cáº£ cÃ¡c resource cÆ¡ báº£n trong Kubernetes namespace hiá»‡n táº¡i
			- Bao gá»“m:
			  + Pods
			  + Services
			  + Deployments
			  + ReplicaSets
			  + StatefulSets
			  + DaemonSets (tuá»³ cluster)
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ kiá»ƒm tra tráº¡ng thÃ¡i cluster nhanh chÃ³ng
			- ChÃº Ã½: khÃ´ng bao gá»“m CRD hoáº·c cÃ¡c resource khÃ´ng chuáº©n khÃ¡c

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. kubectl
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh quáº£n lÃ½ Kubernetes
			- DÃ¹ng Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c lá»‡nh táº¡o, Ä‘á»c, update, xÃ³a resource

			2.2. get
			--------------------------------------------------
			- Subcommand dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin resource
			- CÃ³ thá»ƒ dÃ¹ng vá»›i nhiá»u loáº¡i resource: pods, deployments, services, nodes

			2.3. all
			--------------------------------------------------
			- Tá»« khÃ³a tá»•ng há»£p, hiá»ƒn thá»‹ táº¥t cáº£ cÃ¡c resource cÆ¡ báº£n trong namespace hiá»‡n táº¡i
			- Bao gá»“m cÃ¡c loáº¡i resource chuáº©n

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Kubernetes API server nháº­n lá»‡nh tá»« kubectl
			2. Truy váº¥n táº¥t cáº£ resource trong namespace máº·c Ä‘á»‹nh
			3. Láº¥y tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a tá»«ng resource:
			   - Name
			   - Ready status
			   - Age
			   - Current/Desired replicas (vá»›i Deployment)
			   - Cluster IP (vá»›i Service)
			4. Tráº£ vá» thÃ´ng tin dáº¡ng báº£ng trÃªn terminal

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥ khi cháº¡y:

			NAME                                READY   STATUS    RESTARTS   AGE
			pod/hello-minikube-5d5f7b7d7c-abc   1/1     Running   0          5m

			NAME                   TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)   AGE
			service/kubernetes     ClusterIP   10.96.0.1        <none>        443/TCP   10m
			service/hello-minikube ClusterIP   10.96.123.45     <none>        8080/TCP 5m

			NAME                           READY   UP-TO-DATE   AVAILABLE   AGE
			deployment.apps/hello-minikube 1/1     1            1           5m

			NAME                                     DESIRED   CURRENT   READY   AGE
			replicaset.apps/hello-minikube-5d5f7b7d7c 1         1         1       5m

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- Liá»‡t kÃª resource trong namespace cá»¥ thá»ƒ:
			kubectl get all -n <namespace>

			- Hiá»ƒn thá»‹ thÃªm chi tiáº¿t:
			kubectl get all -o wide

			- Lá»c resource theo label:
			kubectl get all -l app=hello-minikube

			- Xem output á»Ÿ Ä‘á»‹nh dáº¡ng YAML hoáº·c JSON:
			kubectl get all -o yaml
			kubectl get all -o json

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Kiá»ƒm tra nhanh tÃ¬nh tráº¡ng cÃ¡c resource trong namespace
			- Há»¯u Ã­ch Ä‘á»ƒ debug Pod, Deployment, Service
			- Theo dÃµi sá»‘ lÆ°á»£ng Pod, tráº¡ng thÃ¡i readiness, IP, cá»•ng
			- DÃ¹ng trong há»c táº­p, thá»­ nghiá»‡m, CI/CD

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. No resources found
			--------------------------------------------------
			- Namespace khÃ´ng cÃ³ resource nÃ o
			- Hoáº·c Ä‘ang á»Ÿ namespace khÃ¡c (dÃ¹ng -n Ä‘á»ƒ kiá»ƒm tra)

			7.2. Lá»—i káº¿t ná»‘i
			--------------------------------------------------
			- Kubectl khÃ´ng káº¿t ná»‘i Ä‘Æ°á»£c cluster
			- Kiá»ƒm tra kubeconfig vÃ  context

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- `kubectl get all` chá»‰ liá»‡t kÃª resource chuáº©n
			- KhÃ´ng hiá»ƒn thá»‹ CRD hoáº·c resource tÃ¹y chá»‰nh
			- Kiá»ƒm tra thÃªm náº¿u cluster cÃ³ custom resource

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			kubectl get all

			= Liá»‡t kÃª táº¥t cáº£ Pod, Service, Deployment, ReplicaSet trong namespace
			= Kiá»ƒm tra tráº¡ng thÃ¡i resource nhanh
			= DÃ¹ng Ä‘á»ƒ debug, giÃ¡m sÃ¡t, há»c táº­p
			= CÃ³ thá»ƒ káº¿t há»£p -n, -o, -l Ä‘á»ƒ lá»c vÃ  Ä‘á»‹nh dáº¡ng output
		
		
		- cmd: kubectl get all --all-namespaces
		
			Lá»†NH: kubectl get all --all-namespaces
			======================================

			1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
			-------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Liá»‡t kÃª táº¥t cáº£ cÃ¡c tÃ i nguyÃªn Kubernetes trong má»i namespace
			- Bao gá»“m cÃ¡c resource nhÆ°: pods, services, deployments, replicasets, statefulsets, daemonsets, jobs, v.v.
			- GiÃºp quáº£n trá»‹ viÃªn kiá»ƒm tra tá»•ng quan tráº¡ng thÃ¡i cluster
			- Há»¯u Ã­ch Ä‘á»ƒ debug cluster, giÃ¡m sÃ¡t hoáº¡t Ä‘á»™ng cá»§a táº¥t cáº£ service vÃ  á»©ng dá»¥ng


			2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
			------------------------------------

			2.1. kubectl
			-----------
			- CLI chÃ­nh thá»©c cá»§a Kubernetes
			- DÃ¹ng Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i API server cá»§a cluster
			- CÃ¡c chá»©c nÄƒng chÃ­nh:
			  + Táº¡o, sá»­a, xÃ³a resource
			  + Láº¥y thÃ´ng tin resource
			  + Debug vÃ  giÃ¡m sÃ¡t


			2.2. get
			--------
			- Sub-command cá»§a kubectl
			- DÃ¹ng Ä‘á»ƒ láº¥y thÃ´ng tin resource
			- Output máº·c Ä‘á»‹nh: báº£ng cÆ¡ báº£n vá»›i cÃ¡c cá»™t quan trá»ng
			- VÃ­ dá»¥:
			  kubectl get pods
			  kubectl get svc


			2.3. all
			-------
			- "all" lÃ  má»™t loáº¡i resource Ä‘áº·c biá»‡t
			- Bao gá»“m háº§u háº¿t resource quan trá»ng trong namespace:
			  + pods
			  + services
			  + deployments
			  + replicasets
			  + statefulsets
			  + daemonsets
			- KHÃ”NG bao gá»“m:
			  + configmaps, secrets, persistentvolume, persistentvolumeclaim


			2.4. --all-namespaces
			---------------------
			- Flag chá»‰ Ä‘á»‹nh láº¥y resource tá»« táº¥t cáº£ namespace
			- Máº·c Ä‘á»‹nh kubectl get chá»‰ láº¥y resource tá»« namespace hiá»‡n táº¡i (default)
			- Khi dÃ¹ng flag nÃ y:
			  + Output hiá»ƒn thá»‹ thÃªm cá»™t NAMESPACE
			  + Cho phÃ©p quáº£n lÃ½ toÃ n cluster mÃ  khÃ´ng cáº§n chuyá»ƒn namespace


			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			---------------------------------
			Khi cháº¡y:
			kubectl get all --all-namespaces

			Kubectl sáº½:
			1. Káº¿t ná»‘i tá»›i API server cá»§a cluster
			2. Láº¥y danh sÃ¡ch táº¥t cáº£ namespace
			3. Trong má»—i namespace, láº¥y cÃ¡c resource thuá»™c "all"
			4. Tráº£ vá» báº£ng káº¿t quáº£ trÃªn terminal vá»›i cÃ¡c cá»™t cÆ¡ báº£n:
			   NAMESPACE, NAME, READY, STATUS, RESTARTS, AGE


			4. Káº¾T QUáº¢ MáºªU
			---------------
			VÃ­ dá»¥ output:

			NAMESPACE     NAME                                    READY   STATUS    RESTARTS   AGE
			default       pod/nginx-deployment-6d4cf56db6-abcde   1/1     Running   0          2d
			kube-system   pod/coredns-558bd4d5db-xyz             1/1     Running   0          3d
			default       service/kubernetes                     1/1     Running   0          3d

			CÃ¡c cá»™t thÆ°á»ng gáº·p:
			- NAMESPACE : tÃªn namespace
			- NAME      : tÃªn resource vÃ  loáº¡i resource (pod/service/deployment,â€¦)
			- READY     : sá»‘ pod ready / tá»•ng sá»‘ pod (chá»‰ vá»›i pods)
			- STATUS    : tráº¡ng thÃ¡i resource (Running, Pending, CrashLoopBackOff,â€¦)
			- RESTARTS  : sá»‘ láº§n pod khá»Ÿi Ä‘á»™ng láº¡i (chá»‰ vá»›i pods)
			- AGE       : tuá»•i resource


			5. CÃC BIáº¾N THá»‚ HAY DÃ™NG
			-----------------------
			- Xem chi tiáº¿t resource:
			  kubectl describe pod <pod-name> -n <namespace>

			- Output rá»™ng (wide):
			  kubectl get all --all-namespaces -o wide

			- Chá»‰ xem 1 loáº¡i resource:
			  kubectl get pods --all-namespaces


			6. Lá»¢I ÃCH KHI DÃ™NG Lá»†NH NÃ€Y
			----------------------------
			- Kiá»ƒm tra tá»•ng quan cluster
			- Xem toÃ n bá»™ pods, deployments, services trong táº¥t cáº£ namespace
			- Há»¯u Ã­ch khi debug váº¥n Ä‘á» deploy, network, hoáº·c resource missing


			7. Lá»–I THÆ¯á»œNG Gáº¶P
			-----------------
			- Lá»—i káº¿t ná»‘i API server:
			  => Kiá»ƒm tra kubeconfig vÃ  quyá»n truy cáº­p

			- Namespace hoáº·c resource khÃ´ng tá»“n táº¡i:
			  => Output sáº½ bá» qua


			8. TÃ“M Táº®T NGáº®N Gá»ŒN
			-------------------
			kubectl          : CLI Kubernetes
			get              : láº¥y thÃ´ng tin resource
			all              : háº§u háº¿t resource quan trá»ng
			--all-namespaces : láº¥y resource tá»« táº¥t cáº£ namespace
			Káº¿t quáº£          : báº£ng tá»•ng quan toÃ n cluster vá»›i NAMESPACE, NAME, STATUS, READY, AGE
		
		
		- cmd: kubectl get svc -n kube-system
		
			Lá»†NH: kubectl get svc -n kube-system
			====================================================================

			1. kubectl lÃ  gÃ¬?
			--------------------------------------------------------------------
			- kubectl lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster
			- DÃ¹ng Ä‘á»ƒ:
			  + Táº¡o, cáº­p nháº­t, xÃ³a resource (Deployment, Pod, Serviceâ€¦)
			  + Kiá»ƒm tra tráº¡ng thÃ¡i cluster vÃ  cÃ¡c resource
			- Giao tiáº¿p trá»±c tiáº¿p vá»›i API server cá»§a Kubernetes

			--------------------------------------------------------------------

			2. svc lÃ  gÃ¬?
			--------------------------------------------------------------------
			- svc = service
			- Service trong Kubernetes:
			  + LÃ  abstraction layer Ä‘á»ƒ expose Pod
			  + GiÃºp truy cáº­p Pod thÃ´ng qua stable endpoint
			  + Há»— trá»£ load balancing
			- kubectl get svc â†’ liá»‡t kÃª táº¥t cáº£ Service trong namespace

			--------------------------------------------------------------------

			3. -n kube-system lÃ  gÃ¬?
			--------------------------------------------------------------------
			- -n <namespace> = chá»‰ Ä‘á»‹nh namespace
			- kube-system = namespace máº·c Ä‘á»‹nh cho cÃ¡c service vÃ  Pod cá»§a Kubernetes system
			  + VÃ­ dá»¥: kube-dns, kube-proxy, metrics-server
			- Náº¿u khÃ´ng thÃªm -n, kubectl sáº½ liá»‡t kÃª Service trong namespace máº·c Ä‘á»‹nh (default)

			--------------------------------------------------------------------

			4. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			kubectl get svc -n kube-system

			â†’ Liá»‡t kÃª táº¥t cáº£ Service trong namespace kube-system
			â†’ Hiá»ƒn thá»‹ thÃ´ng tin cÆ¡ báº£n:
			  + NAME       : tÃªn service
			  + TYPE       : ClusterIP, NodePort, LoadBalancer
			  + CLUSTER-IP : IP ná»™i bá»™ cluster
			  + EXTERNAL-IP: IP bÃªn ngoÃ i (náº¿u cÃ³)
			  + PORT(S)    : port service expose
			  + AGE        : thá»i gian service tá»“n táº¡i

			--------------------------------------------------------------------

			5. CÃº phÃ¡p cÆ¡ báº£n
			--------------------------------------------------------------------
			kubectl get svc [service-name] -n [namespace]

			VÃ­ dá»¥:
			kubectl get svc -n kube-system
			kubectl get svc kube-dns -n kube-system

			Má»™t sá»‘ tÃ¹y chá»n khÃ¡c:
			- -o wide â†’ hiá»ƒn thá»‹ thÃªm selector, endpoints
			- -o yaml/json â†’ xuáº¥t chi tiáº¿t dáº¡ng YAML hoáº·c JSON

			--------------------------------------------------------------------

			6. Quy trÃ¬nh thá»±c thi lá»‡nh
			--------------------------------------------------------------------
			1) kubectl gá»­i request GET tá»›i API server
			2) API server láº¥y danh sÃ¡ch Service trong namespace kube-system
			3) API server tráº£ JSON/YAML
			4) kubectl hiá»ƒn thá»‹ báº£ng thÃ´ng tin Service

			--------------------------------------------------------------------

			7. Output Ä‘iá»ƒn hÃ¬nh
			--------------------------------------------------------------------
			NAME                   TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)                  AGE
			kube-dns               ClusterIP   10.96.0.10     <none>        53/UDP,53/TCP,9153/TCP   2h
			metrics-server         ClusterIP   10.96.0.11     <none>        443/TCP                  2h

			Giáº£i thÃ­ch cá»™t:
			- NAME       : TÃªn Service
			- TYPE       : ClusterIP / NodePort / LoadBalancer
			- CLUSTER-IP : IP ná»™i bá»™ trong cluster
			- EXTERNAL-IP: IP bÃªn ngoÃ i, náº¿u service expose ra Internet
			- PORT(S)    : port container hoáº·c service
			- AGE        : Thá»i gian tá»“n táº¡i service

			--------------------------------------------------------------------

			8. Khi nÃ o nÃªn dÃ¹ng lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- Kiá»ƒm tra cÃ¡c service há»‡ thá»‘ng cá»§a Kubernetes
			- Xem ClusterIP / NodePort cá»§a service
			- Debug khi Pod hoáº·c service cá»§a kube-system gáº·p váº¥n Ä‘á»
			- Äáº£m báº£o DNS (kube-dns) hoáº¡t Ä‘á»™ng Ä‘Ãºng

			--------------------------------------------------------------------

			9. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) Error from server (Forbidden)
			- KhÃ´ng cÃ³ quyá»n truy cáº­p namespace kube-system
			- DÃ¹ng kubeconfig vá»›i quyá»n cluster-admin

			2) No resources found
			- Namespace trá»‘ng hoáº·c service chÆ°a táº¡o

			--------------------------------------------------------------------

			10. So sÃ¡nh nhanh
			--------------------------------------------------------------------
			kubectl get svc -n kube-system
			â†’ Liá»‡t kÃª service trong namespace kube-system

			kubectl get pods -n kube-system
			â†’ Liá»‡t kÃª Pod trong namespace kube-system

			kubectl describe svc <service> -n kube-system
			â†’ Xem chi tiáº¿t service

			--------------------------------------------------------------------

			11. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			kubectl get svc -n kube-system =
			LIá»†T KÃŠ Táº¤T Cáº¢ SERVICE TRONG NAMESPACE kube-system Vá»šI THÃ”NG TIN CLUSTER-IP, EXTERNAL-IP, PORT(S), AGE
		
		
		- cmd: kubectl create ns kubekart
		
			# Lá»‡nh gá»‘c:
			kubectl create ns kubekart

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. kubectl
			# - `kubectl` lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster.
			# - DÃ¹ng Ä‘á»ƒ thao tÃ¡c vá»›i cÃ¡c resource nhÆ° pods, deployments, services, configmaps,...

			# 2. create
			# - Lá»‡nh `create` dÃ¹ng Ä‘á»ƒ táº¡o má»›i resource trong Kubernetes.
			# - Resource cÃ³ thá»ƒ lÃ  pod, deployment, service, namespace, configmap,...

			# 3. ns
			# - `ns` lÃ  viáº¿t táº¯t cá»§a namespace.
			# - Namespace lÃ  má»™t cÃ¡ch phÃ¢n vÃ¹ng (logical partition) trong cluster Kubernetes.
			# - GiÃºp:
			#   + PhÃ¢n tÃ¡ch mÃ´i trÆ°á»ng (dev, test, prod)
			#   + Quáº£n lÃ½ quyá»n truy cáº­p
			#   + TrÃ¡nh xung Ä‘á»™t tÃªn resource

			# 4. kubekart
			# - ÄÃ¢y lÃ  tÃªn namespace má»›i sáº½ Ä‘Æ°á»£c táº¡o.
			# - TÃªn pháº£i tuÃ¢n thá»§ quy táº¯c Kubernetes (chá»‰ gá»“m chá»¯ thÆ°á»ng, sá»‘ vÃ  dáº¥u `-`).

			# 5. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Khi cháº¡y `kubectl create ns kubekart`, Kubernetes sáº½:
			#   1. Táº¡o má»™t namespace má»›i trong cluster tÃªn lÃ  `kubekart`.
			#   2. Namespace nÃ y sáº½ xuáº¥t hiá»‡n trong danh sÃ¡ch namespace cá»§a cluster.
			#   3. CÃ¡c resource (pod, deployment, service, ...) cÃ³ thá»ƒ Ä‘Æ°á»£c táº¡o trong namespace nÃ y.

			# 6. VÃ­ dá»¥ káº¿t quáº£:
			# namespace/kubekart created

			# 7. Kiá»ƒm tra namespace vá»«a táº¡o:
			# - kubectl get ns
			#   + Liá»‡t kÃª táº¥t cáº£ namespace trong cluster.
			# - kubectl describe ns kubekart
			#   + Xem chi tiáº¿t namespace vá»«a táº¡o.

			# 8. LÆ°u Ã½ quan trá»ng:
			# - Má»—i namespace tÃ¡ch biá»‡t vá» logic, nhÆ°ng chia sáº» cÃ¹ng cluster resources.
			# - Náº¿u khÃ´ng chá»‰ Ä‘á»‹nh namespace khi táº¡o resource, resource sáº½ náº±m trong `default` namespace.
			# - Namespace giÃºp quáº£n lÃ½ nhiá»u mÃ´i trÆ°á»ng hoáº·c dá»± Ã¡n trÃªn cÃ¹ng cluster dá»… dÃ ng.

			# Káº¿t luáº­n:
			# Lá»‡nh `kubectl create ns kubekart` dÃ¹ng Ä‘á»ƒ táº¡o má»™t namespace má»›i tÃªn `kubekart`
			# trong Kubernetes cluster, phá»¥c vá»¥ viá»‡c tá»• chá»©c vÃ  quáº£n lÃ½ cÃ¡c resource riÃªng biá»‡t.
		
		
		- cmd: kubectl run nginx1 --image=nginx -n kubekart
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			kubectl run nginx1 --image=nginx -n kubekart
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ táº¡o vÃ  cháº¡y má»™t Pod má»›i trong Kubernetes cluster.

			- `nginx1` lÃ  tÃªn Pod sáº½ táº¡o.
			- `--image=nginx` chá»‰ Ä‘á»‹nh image Docker sáº½ sá»­ dá»¥ng (á»Ÿ Ä‘Ã¢y lÃ  nginx chÃ­nh thá»©c tá»« Docker Hub).
			- `-n kubekart` chá»‰ Ä‘á»‹nh namespace nÆ¡i Pod sáº½ Ä‘Æ°á»£c táº¡o (khÃ´ng pháº£i máº·c Ä‘á»‹nh `default`).

			Má»¥c Ä‘Ã­ch:
			- Triá»ƒn khai nhanh má»™t container nginx thá»­ nghiá»‡m.
			- DÃ¹ng Ä‘á»ƒ há»c táº­p, test hoáº·c demo.
			- Táº¡o Pod trá»±c tiáº¿p tá»« lá»‡nh CLI mÃ  khÃ´ng cáº§n Deployment.

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. kubectl
			--------------------------------------------------
			- CLI cá»§a Kubernetes dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ cluster.
			- Thá»±c hiá»‡n cÃ¡c thao tÃ¡c: get, describe, apply, delete, run...

			2.2. run
			--------------------------------------------------
			- Subcommand Ä‘á»ƒ táº¡o má»™t Pod má»›i tá»« CLI.
			- TrÆ°á»›c Kubernetes v1.18, `kubectl run` táº¡o Deployment theo máº·c Ä‘á»‹nh.
			- Hiá»‡n nay, `kubectl run` chá»§ yáº¿u dÃ¹ng Ä‘á»ƒ táº¡o Pod Ä‘Æ¡n láº» (single pod) náº¿u khÃ´ng cÃ³ `--restart=Always`.

			2.3. nginx1
			--------------------------------------------------
			- TÃªn Pod má»›i.
			- CÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ truy cáº­p, kiá»ƒm tra hoáº·c gáº¯n service sau nÃ y.

			2.4. --image=nginx
			--------------------------------------------------
			- Chá»‰ Ä‘á»‹nh Docker image sáº½ cháº¡y trong Pod.
			- á» Ä‘Ã¢y sá»­ dá»¥ng image nginx chÃ­nh thá»©c.
			- CÃ³ thá»ƒ thay báº±ng tag cá»¥ thá»ƒ, vÃ­ dá»¥: nginx:1.24

			2.5. -n kubekart
			--------------------------------------------------
			- Chá»‰ Ä‘á»‹nh namespace kubekart.
			- Náº¿u namespace khÃ´ng tá»“n táº¡i, lá»‡nh sáº½ bÃ¡o lá»—i.
			- Namespace dÃ¹ng Ä‘á»ƒ tÃ¡ch biá»‡t resource logic vÃ  quáº£n lÃ½ quyá»n.

			--------------------------------------------------
			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			--------------------------------------------------
			1. kubectl kiá»ƒm tra kubeconfig vÃ  context hiá»‡n táº¡i.
			2. Gá»­i request táº¡o Pod `nginx1` tá»›i Kubernetes API server trong namespace `kubekart`.
			3. Scheduler chá»n Node phÃ¹ há»£p Ä‘á»ƒ cháº¡y Pod.
			4. Kubelet trÃªn Node táº£i Docker image `nginx` náº¿u chÆ°a cÃ³.
			5. Container nginx Ä‘Æ°á»£c khá»Ÿi cháº¡y.
			6. Tráº¡ng thÃ¡i Pod chuyá»ƒn sang `Running` náº¿u container khá»Ÿi táº¡o thÃ nh cÃ´ng.

			--------------------------------------------------
			4. KIá»‚M TRA SAU KHI Táº O POD
			--------------------------------------------------
			- Xem Pod trong namespace:
			--------------------------------------------------
			kubectl get pods -n kubekart

			- Káº¿t quáº£ vÃ­ dá»¥:
			--------------------------------------------------
			NAME      READY   STATUS    RESTARTS   AGE
			nginx1    1/1     Running   0          10s

			- Xem chi tiáº¿t Pod:
			--------------------------------------------------
			kubectl describe pod nginx1 -n kubekart

			--------------------------------------------------
			5. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Náº¿u namespace `kubekart` khÃ´ng tá»“n táº¡i:
			--------------------------------------------------
			Error from server (NotFound): namespaces "kubekart" not found

			- Lá»‡nh táº¡o Pod Ä‘Æ¡n láº», khÃ´ng táº¡o Deployment:
			  + KhÃ´ng tá»± Ä‘á»™ng tÃ¡i táº¡o khi Pod cháº¿t
			  + Náº¿u muá»‘n Deployment â†’ dÃ¹ng `kubectl create deployment`
			- CÃ³ thá»ƒ expose Pod ra Service sau khi cháº¡y.

			--------------------------------------------------
			6. BIáº¾N THá»‚ HAY DÃ™NG
			--------------------------------------------------
			- Táº¡o Pod vá»›i lá»‡nh interactive shell:
			--------------------------------------------------
			kubectl run nginx1 -it --image=nginx --restart=Never -n kubekart -- bash

			- Táº¡o Deployment thay vÃ¬ Pod Ä‘Æ¡n láº»:
			--------------------------------------------------
			kubectl create deployment nginx1 --image=nginx -n kubekart

			--------------------------------------------------
			7. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- Triá»ƒn khai nhanh container thá»­ nghiá»‡m
			- Kiá»ƒm tra namespace hoáº¡t Ä‘á»™ng
			- Test networking, service, volume
			- Há»c Kubernetes cÆ¡ báº£n vá» Pod, container, namespace

			--------------------------------------------------
			8. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			kubectl run nginx1 --image=nginx -n kubekart
			= Táº¡o má»™t Pod tÃªn nginx1
			= Cháº¡y container nginx trong namespace kubekart
			= Pod Ä‘Æ¡n láº», khÃ´ng tá»± Ä‘á»™ng restart náº¿u cháº¿t
			= DÃ¹ng Ä‘á»ƒ thá»­ nghiá»‡m, test hoáº·c há»c Kubernetes
			==================================================
		
		
		- cmd: kubectl apply -f pod1.yaml
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			kubectl apply -f pod1.yaml

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Táº¡o hoáº·c cáº­p nháº­t resource trong Kubernetes cluster dá»±a trÃªn file cáº¥u hÃ¬nh YAML
			- `pod1.yaml` thÆ°á»ng Ä‘á»‹nh nghÄ©a má»™t Pod hoáº·c cÃ¡c resource khÃ¡c nhÆ° Deployment, Service
			- `apply` cho phÃ©p "idempotent" (cháº¡y nhiá»u láº§n mÃ  khÃ´ng táº¡o lá»—i)
			- ThÆ°á»ng dÃ¹ng trong CI/CD hoáº·c triá»ƒn khai á»©ng dá»¥ng

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. kubectl
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh quáº£n lÃ½ Kubernetes
			- Thá»±c hiá»‡n cÃ¡c thao tÃ¡c: create, apply, get, delete, describe, v.v.

			2.2. apply
			--------------------------------------------------
			- Subcommand Ä‘á»ƒ táº¡o hoáº·c cáº­p nháº­t resource dá»±a trÃªn file manifest
			- KhÃ¡c vá»›i `create`:
			  + `create` chá»‰ táº¡o má»›i vÃ  lá»—i náº¿u resource tá»“n táº¡i
			  + `apply` cáº­p nháº­t resource náº¿u Ä‘Ã£ tá»“n táº¡i

			2.3. -f pod1.yaml
			--------------------------------------------------
			- Chá»‰ Ä‘á»‹nh file manifest
			- File YAML mÃ´ táº£ resource Kubernetes:
			  + kind: Pod / Deployment / Service
			  + metadata: name, labels
			  + spec: container, image, ports, env, volume, v.v.
			- CÃ³ thá»ƒ thay tháº¿ báº±ng folder chá»©a nhiá»u file YAML

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Kubectl Ä‘á»c file `pod1.yaml`
			2. Kiá»ƒm tra resource cÃ³ tá»“n táº¡i trong cluster khÃ´ng
			3. Náº¿u chÆ°a tá»“n táº¡i â†’ táº¡o má»›i resource
			4. Náº¿u Ä‘Ã£ tá»“n táº¡i â†’ so sÃ¡nh spec vÃ  cáº­p nháº­t
			5. Tráº£ vá» thÃ´ng bÃ¡o tráº¡ng thÃ¡i resource:
			   - created
			   - configured (updated)
			6. Kubernetes scheduler phÃ¢n cÃ´ng Pod Ä‘áº¿n node thÃ­ch há»£p
			7. Container runtime pull image náº¿u cáº§n vÃ  khá»Ÿi cháº¡y Pod

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥ khi cháº¡y lá»‡nh:

			pod/pod1 created

			Giáº£i thÃ­ch:
			- `pod/pod1 created`: Pod tÃªn `pod1` Ä‘Ã£ Ä‘Æ°á»£c táº¡o thÃ nh cÃ´ng
			- Náº¿u resource Ä‘Ã£ tá»“n táº¡i vÃ  Ä‘Æ°á»£c cáº­p nháº­t:
			pod/pod1 configured

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- Ãp dá»¥ng nhiá»u file YAML:
			kubectl apply -f ./manifests/

			- Xem tráº¡ng thÃ¡i Pod sau apply:
			kubectl get pods

			- Xem logs Pod:
			kubectl logs pod1

			- XÃ³a resource:
			kubectl delete -f pod1.yaml

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Triá»ƒn khai á»©ng dá»¥ng nhanh chÃ³ng trÃªn Kubernetes
			- Quáº£n lÃ½ version cá»§a resource dá»… dÃ ng
			- Dá»… dÃ ng rollback hoáº·c update resource
			- PhÃ¹ há»£p cho há»c táº­p, thá»­ nghiá»‡m, CI/CD pipeline

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. File YAML khÃ´ng há»£p lá»‡
			--------------------------------------------------
			- Kiá»ƒm tra Ä‘á»‹nh dáº¡ng YAML vÃ  indentation
			- ThÆ°á»ng gÃ¢y lá»—i parse

			7.2. Image pull error
			--------------------------------------------------
			- Node khÃ´ng pull Ä‘Æ°á»£c image
			- Kiá»ƒm tra image name, tag vÃ  registry

			7.3. Permission denied / context sai
			--------------------------------------------------
			- Kiá»ƒm tra kubeconfig vÃ  context Ä‘ang sá»­ dá»¥ng

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- Pod chá»©a dá»¯ liá»‡u quan trá»ng â†’ dÃ¹ng volume hoáº·c persistent volume
			- Apply nhiá»u láº§n sáº½ update resource, chÃº Ã½ trÃ¡nh thay Ä‘á»•i khÃ´ng mong muá»‘n

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			kubectl apply -f pod1.yaml

			= Táº¡o hoáº·c cáº­p nháº­t Pod tá»« file YAML
			= Apply cÃ³ thá»ƒ cháº¡y nhiá»u láº§n mÃ  khÃ´ng lá»—i
			= DÃ¹ng Ä‘á»ƒ triá»ƒn khai vÃ  quáº£n lÃ½ resource Kubernetes
			= Kiá»ƒm tra Pod sau apply vá»›i kubectl get pods
		
		
		- cmd: kubectl get pod -n kubekart
		
			Lá»†NH: kubectl get pod -n kubekart
			=================================

			1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
			-------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Liá»‡t kÃª táº¥t cáº£ cÃ¡c Pod trong namespace "kubekart"
			- Kiá»ƒm tra tráº¡ng thÃ¡i, sá»‘ lÆ°á»£ng container ready, sá»‘ láº§n khá»Ÿi Ä‘á»™ng láº¡i vÃ  tuá»•i cá»§a tá»«ng Pod
			- Há»¯u Ã­ch Ä‘á»ƒ quáº£n lÃ½, giÃ¡m sÃ¡t vÃ  debug cÃ¡c á»©ng dá»¥ng cháº¡y trong namespace cá»¥ thá»ƒ


			2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
			------------------------------------

			2.1. kubectl
			-----------
			- CLI chÃ­nh thá»©c cá»§a Kubernetes
			- DÃ¹ng Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i API server cá»§a cluster
			- CÃ¡c chá»©c nÄƒng chÃ­nh:
			  + Táº¡o, sá»­a, xÃ³a resource
			  + Láº¥y thÃ´ng tin resource
			  + Debug vÃ  giÃ¡m sÃ¡t cluster


			2.2. get
			--------
			- Sub-command cá»§a kubectl
			- DÃ¹ng Ä‘á»ƒ láº¥y thÃ´ng tin tÃ i nguyÃªn (resource)
			- Output máº·c Ä‘á»‹nh: báº£ng vá»›i cÃ¡c cá»™t cÆ¡ báº£n (NAME, READY, STATUS, RESTARTS, AGE)


			2.3. pod
			--------
			- Loáº¡i resource cáº§n láº¥y
			- Pod lÃ  Ä‘Æ¡n vá»‹ nhá» nháº¥t deploy Ä‘Æ°á»£c trong Kubernetes
			- Chá»©a má»™t hoáº·c nhiá»u container
			- ThÃ´ng tin quan trá»ng:
			  + NAME      : tÃªn Pod
			  + READY     : sá»‘ container ready / tá»•ng sá»‘ container
			  + STATUS    : tráº¡ng thÃ¡i Pod (Running, Pending, CrashLoopBackOff,â€¦)
			  + RESTARTS  : sá»‘ láº§n Pod restart
			  + AGE       : thá»i gian Pod tá»“n táº¡i


			2.4. -n kubekart
			----------------
			- Flag "-n" xÃ¡c Ä‘á»‹nh namespace
			- Namespace "kubekart" lÃ  pháº¡m vi tÃ¬m kiáº¿m Pod
			- Máº·c Ä‘á»‹nh, náº¿u khÃ´ng chá»‰ Ä‘á»‹nh -n, kubectl sáº½ dÃ¹ng namespace "default"


			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			---------------------------------
			Khi cháº¡y:
			kubectl get pod -n kubekart

			Kubectl sáº½:
			1. Káº¿t ná»‘i tá»›i API server cá»§a cluster
			2. Truy váº¥n danh sÃ¡ch Pod trong namespace "kubekart"
			3. Tráº£ vá» káº¿t quáº£ dÆ°á»›i dáº¡ng báº£ng hiá»ƒn thá»‹ terminal vá»›i cÃ¡c cá»™t cÆ¡ báº£n


			4. Káº¾T QUáº¢ MáºªU
			---------------
			VÃ­ dá»¥ output:

			NAME                        READY   STATUS    RESTARTS   AGE
			kubekart-frontend-5d8c7b    1/1     Running   0          2d
			kubekart-backend-7f9d2a     1/1     Running   1          2d
			kubekart-database-0          1/1     Running   0          2d

			Giáº£i thÃ­ch cÃ¡c cá»™t:
			- NAME     : tÃªn Pod
			- READY    : sá»‘ container ready / tá»•ng sá»‘ container
			- STATUS   : tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a Pod
			- RESTARTS : sá»‘ láº§n Pod restart
			- AGE      : thá»i gian Pod tá»“n táº¡i


			5. CÃC BIáº¾N THá»‚ HAY DÃ™NG
			-----------------------
			- Output rá»™ng (hiá»ƒn thá»‹ IP, Node, Container):
			  kubectl get pod -n kubekart -o wide

			- Xem log Pod:
			  kubectl logs <pod-name> -n kubekart

			- Xem chi tiáº¿t Pod:
			  kubectl describe pod <pod-name> -n kubekart


			6. Lá»¢I ÃCH KHI DÃ™NG Lá»†NH NÃ€Y
			----------------------------
			- Kiá»ƒm tra nhanh tráº¡ng thÃ¡i cÃ¡c Pod trong namespace cá»¥ thá»ƒ
			- Debug cÃ¡c á»©ng dá»¥ng Ä‘ang cháº¡y
			- Theo dÃµi sá»‘ container Ä‘Ã£ sáºµn sÃ ng vÃ  sá»‘ láº§n khá»Ÿi Ä‘á»™ng láº¡i


			7. Lá»–I THÆ¯á»œNG Gáº¶P
			-----------------
			- Namespace khÃ´ng tá»“n táº¡i:
			  => Lá»—i: "Error from server (NotFound): namespaces "kubekart" not found"

			- Pod chÆ°a sáºµn sÃ ng:
			  => STATUS sáº½ hiá»ƒn thá»‹ Pending, ContainerCreating, CrashLoopBackOff


			8. TÃ“M Táº®T NGáº®N Gá»ŒN
			-------------------
			kubectl       : CLI Kubernetes
			get           : láº¥y thÃ´ng tin resource
			pod           : loáº¡i resource Pod
			-n kubekart   : namespace kubekart
			Káº¿t quáº£       : báº£ng liá»‡t kÃª Pod vá»›i NAME, READY, STATUS, RESTARTS, AGE
					
		
		- cmd: kubectl delete ns kubekart
		
			Lá»†NH: kubectl delete ns kubekart
			====================================================================

			1. kubectl lÃ  gÃ¬?
			--------------------------------------------------------------------
			- kubectl lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster
			- DÃ¹ng Ä‘á»ƒ:
			  + Táº¡o, cáº­p nháº­t, xÃ³a resource (Deployment, Pod, Serviceâ€¦)
			  + Kiá»ƒm tra tráº¡ng thÃ¡i cluster vÃ  cÃ¡c resource
			- Giao tiáº¿p trá»±c tiáº¿p vá»›i API server cá»§a Kubernetes

			--------------------------------------------------------------------

			2. ns lÃ  gÃ¬?
			--------------------------------------------------------------------
			- ns = namespace
			- Namespace trong Kubernetes:
			  + LÃ  khÃ´ng gian logic Ä‘á»ƒ phÃ¢n tÃ¡ch cÃ¡c resource
			  + GiÃºp quáº£n lÃ½ nhiá»u dá»± Ã¡n hoáº·c mÃ´i trÆ°á»ng trÃªn cÃ¹ng cluster
			  + VÃ­ dá»¥: default, kube-system, dev, prod

			--------------------------------------------------------------------

			3. delete ns lÃ  gÃ¬?
			--------------------------------------------------------------------
			- delete namespace = xÃ³a toÃ n bá»™ namespace
			- XÃ³a namespace sáº½:
			  + XÃ³a táº¥t cáº£ resource trong namespace Ä‘Ã³ (Pods, Services, Deploymentsâ€¦)
			  + Giáº£i phÃ³ng tÃ i nguyÃªn
			- LÆ°u Ã½: HÃ nh Ä‘á»™ng nÃ y khÃ´ng thá»ƒ hoÃ n tÃ¡c

			--------------------------------------------------------------------

			4. kubekart lÃ  gÃ¬?
			--------------------------------------------------------------------
			- kubekart = tÃªn namespace muá»‘n xÃ³a
			- TÃªn namespace pháº£i tá»“n táº¡i trong cluster

			--------------------------------------------------------------------

			5. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			kubectl delete ns kubekart

			â†’ XÃ³a namespace kubekart khá»i cluster
			â†’ Táº¥t cáº£ resource trong namespace kubekart sáº½ bá»‹ xÃ³a
			â†’ Giáº£i phÃ³ng CPU, memory, storage mÃ  cÃ¡c resource nÃ y sá»­ dá»¥ng

			--------------------------------------------------------------------

			6. Quy trÃ¬nh thá»±c thi lá»‡nh
			--------------------------------------------------------------------
			1) kubectl gá»­i request DELETE tá»›i API server
			2) API server xÃ¡c nháº­n namespace kubekart tá»“n táº¡i
			3) Kubernetes báº¯t Ä‘áº§u xÃ³a tá»«ng resource trong namespace
			4) Namespace sáº½ Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u "Terminating" cho Ä‘áº¿n khi táº¥t cáº£ resource bá»‹ xÃ³a
			5) Namespace biáº¿n máº¥t hoÃ n toÃ n khá»i cluster khi xÃ³a xong

			--------------------------------------------------------------------

			7. Kiá»ƒm tra tráº¡ng thÃ¡i
			--------------------------------------------------------------------
			- Xem danh sÃ¡ch namespace:
			kubectl get ns

			- Xem chi tiáº¿t namespace:
			kubectl describe ns kubekart

			- Xem resource cÃ²n tá»“n táº¡i trong namespace:
			kubectl get all -n kubekart

			--------------------------------------------------------------------

			8. Output thÆ°á»ng tháº¥y
			--------------------------------------------------------------------
			namespace "kubekart" deleted

			- ThÃ´ng bÃ¡o namespace Ä‘Ã£ Ä‘Æ°á»£c xÃ³a thÃ nh cÃ´ng

			--------------------------------------------------------------------

			9. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) namespace not found
			- Namespace khÃ´ng tá»“n táº¡i
			- Kiá»ƒm tra tÃªn chÃ­nh xÃ¡c

			2) namespace stuck in Terminating
			- Resource finalizer chÆ°a xÃ³a xong
			- Cáº§n xÃ³a finalizer thá»§ cÃ´ng náº¿u cáº§n

			3) Permission denied
			- ChÆ°a Ä‘á»§ quyá»n xÃ³a namespace
			- Cáº§n role cluster-admin

			--------------------------------------------------------------------

			10. Khi nÃ o nÃªn dÃ¹ng lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- XÃ³a namespace test/dev khÃ´ng cÃ²n cáº§n thiáº¿t
			- Reset mÃ´i trÆ°á»ng cho dá»± Ã¡n
			- Giáº£i phÃ³ng tÃ i nguyÃªn cluster

			--------------------------------------------------------------------

			11. LÆ°u Ã½ quan trá»ng
			--------------------------------------------------------------------
			- HÃ€NH Äá»˜NG KHÃ”NG THá»‚ HOÃ€N TÃC
			- XÃ³a namespace = xÃ³a toÃ n bá»™ resource bÃªn trong
			- Kiá»ƒm tra ká»¹ trÆ°á»›c khi xÃ³a namespace production

			--------------------------------------------------------------------

			12. So sÃ¡nh nhanh
			--------------------------------------------------------------------
			kubectl delete ns <namespace> â†’ xÃ³a toÃ n bá»™ namespace
			kubectl delete deployment <deployment> -n <namespace> â†’ chá»‰ xÃ³a deployment trong namespace

			--------------------------------------------------------------------

			13. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			kubectl delete ns kubekart =
			XÃ“A HOÃ€N TOÃ€N NAMESPACE kubekart VÃ€ Táº¤T Cáº¢ RESOURCE TRONG NÃ“ KHá»I KUBERNETES CLUSTER
		
		
		- cmd: kubectl create -f pod-setup.yml
		
			# Lá»‡nh gá»‘c:
			kubectl create -f pod-setup.yml

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. kubectl
			# - `kubectl` lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster.
			# - DÃ¹ng Ä‘á»ƒ thao tÃ¡c vá»›i cÃ¡c resource nhÆ° pods, deployments, services, configmaps,...

			# 2. create
			# - Lá»‡nh `create` dÃ¹ng Ä‘á»ƒ táº¡o resource má»›i trong Kubernetes.
			# - Resource cÃ³ thá»ƒ lÃ  pod, deployment, service, namespace, configmap,...

			# 3. -f pod-setup.yml
			# - TÃ¹y chá»n `-f` (file) dÃ¹ng Ä‘á»ƒ chá»‰ Ä‘á»‹nh file cáº¥u hÃ¬nh YAML hoáº·c JSON.
			# - `pod-setup.yml` lÃ  file mÃ´ táº£ resource cáº§n táº¡o, vÃ­ dá»¥:
			#   + Pod
			#   + Container image
			#   + Port
			#   + Volume
			#   + Environment variables
			# - Kubernetes sáº½ Ä‘á»c file nÃ y vÃ  táº¡o resource tÆ°Æ¡ng á»©ng.

			# 4. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Khi cháº¡y `kubectl create -f pod-setup.yml`, Kubernetes sáº½:
			#   1. Äá»c ná»™i dung file `pod-setup.yml`.
			#   2. Kiá»ƒm tra cÃº phÃ¡p YAML vÃ  thÃ´ng tin há»£p lá»‡.
			#   3. Táº¡o resource trong cluster dá»±a trÃªn Ä‘á»‹nh nghÄ©a trong file.
			#   4. Náº¿u resource lÃ  Pod, Kubernetes sáº½ khá»Ÿi cháº¡y Pod vá»›i container Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a.

			# 5. VÃ­ dá»¥ ná»™i dung pod-setup.yml Ä‘Æ¡n giáº£n:
			# apiVersion: v1
			# kind: Pod
			# metadata:
			#   name: mypod
			#   namespace: kubekart
			# spec:
			#   containers:
			#   - name: nginx-container
			#     image: nginx:latest
			#     ports:
			#     - containerPort: 80

			# 6. VÃ­ dá»¥ káº¿t quáº£:
			# pod/mypod created

			# 7. Kiá»ƒm tra resource vá»«a táº¡o:
			# - kubectl get pod
			#   + Liá»‡t kÃª pod hiá»‡n cÃ³ trong namespace máº·c Ä‘á»‹nh.
			# - kubectl get pod -n kubekart
			#   + Náº¿u Pod Ä‘Æ°á»£c táº¡o trong namespace khÃ¡c.
			# - kubectl describe pod mypod
			#   + Xem chi tiáº¿t cáº¥u hÃ¬nh vÃ  tráº¡ng thÃ¡i Pod.

			# 8. LÆ°u Ã½ quan trá»ng:
			# - Náº¿u file YAML sai cÃº phÃ¡p hoáº·c thÃ´ng tin khÃ´ng há»£p lá»‡, lá»‡nh sáº½ bÃ¡o lá»—i.
			# - Resource Ä‘Æ°á»£c táº¡o ngay láº­p tá»©c, nhÆ°ng tráº¡ng thÃ¡i pod cÃ³ thá»ƒ Pending náº¿u node chÆ°a Ä‘á»§ tÃ i nguyÃªn.
			# - Sá»­ dá»¥ng file YAML giÃºp quáº£n lÃ½ infrastructure as code, dá»… version control.

			# Káº¿t luáº­n:
			# Lá»‡nh `kubectl create -f pod-setup.yml` dÃ¹ng Ä‘á»ƒ táº¡o resource trong Kubernetes
			# dá»±a trÃªn file cáº¥u hÃ¬nh YAML, phá»• biáº¿n nháº¥t lÃ  táº¡o Pod, giÃºp triá»ƒn khai container theo Ä‘á»‹nh nghÄ©a cÃ³ sáºµn.
		
		
		- cmd: kubectl describe pod webapp-pod
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			kubectl describe pod webapp-pod
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ chi tiáº¿t thÃ´ng tin cá»§a má»™t Pod cá»¥ thá»ƒ trong Kubernetes cluster.

			- `webapp-pod` lÃ  tÃªn Pod mÃ  báº¡n muá»‘n xem chi tiáº¿t.
			- Káº¿t quáº£ sáº½ cung cáº¥p thÃ´ng tin toÃ n diá»‡n vá» Pod, bao gá»“m:
			  + Tráº¡ng thÃ¡i (status)
			  + Node Ä‘ang cháº¡y
			  + Container bÃªn trong
			  + Events liÃªn quan
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ:
			  + Debug sá»± cá»‘ Pod
			  + Kiá»ƒm tra tráº¡ng thÃ¡i container
			  + Xem thÃ´ng tin resource, labels, annotations

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. kubectl
			--------------------------------------------------
			- CLI tool cá»§a Kubernetes Ä‘á»ƒ quáº£n lÃ½ cluster.
			- Thá»±c hiá»‡n cÃ¡c thao tÃ¡c nhÆ°:
			  + get
			  + describe
			  + apply
			  + delete

			2.2. describe
			--------------------------------------------------
			- Subcommand Ä‘á»ƒ xem thÃ´ng tin chi tiáº¿t resource.
			- KhÃ¡c vá»›i `get` (hiá»ƒn thá»‹ tÃ³m táº¯t), `describe` cung cáº¥p:
			  + Tráº¡ng thÃ¡i chi tiáº¿t container
			  + Event log
			  + TÃ¬nh tráº¡ng restart
			  + Node vÃ  IP

			2.3. pod
			--------------------------------------------------
			- Chá»‰ Ä‘á»‹nh loáº¡i resource muá»‘n describe lÃ  Pod.
			- Pod lÃ  Ä‘Æ¡n vá»‹ triá»ƒn khai cÆ¡ báº£n trong Kubernetes, cÃ³ thá»ƒ chá»©a má»™t hoáº·c nhiá»u container.

			2.4. webapp-pod
			--------------------------------------------------
			- TÃªn Pod cáº§n xem chi tiáº¿t.
			- TÃªn nÃ y pháº£i tá»“n táº¡i trong namespace hiá»‡n táº¡i (máº·c Ä‘á»‹nh lÃ  `default` náº¿u khÃ´ng cÃ³ `-n <namespace>`).

			--------------------------------------------------
			3. Ná»˜I DUNG Äáº¦U RA (VÃ Dá»¤)
			--------------------------------------------------
			Name:           webapp-pod
			Namespace:      default
			Priority:       0
			Node:           node1/192.168.1.10
			Start Time:     Fri, 20 Dec 2025 10:00:00 +0700
			Labels:         app=webapp
			Annotations:    <none>
			Status:         Running
			IP:             10.244.1.5
			Containers:
			  web-container:
				Image:      nginx:1.24
				Port:       80/TCP
				State:      Running
				Ready:      True
				Restart Count: 0
			Conditions:
			  Type           Status
			  Initialized    True
			  Ready          True
			  ContainersReady True
			  PodScheduled   True
			Events:
			  Type    Reason     Age   From               Message
			  ----    ------    ----   ----               -------
			  Normal  Scheduled  5m    default-scheduler Successfully assigned default/webapp-pod to node1
			  Normal  Pulled     4m    kubelet, node1     Container image "nginx:1.24" already present on machine
			  Normal  Created    4m    kubelet, node1     Created container web-container
			  Normal  Started    4m    kubelet, node1     Started container web-container

			--------------------------------------------------
			4. Ã NGHÄ¨A Cá»¦A CÃC THÃ”NG TIN
			--------------------------------------------------
			- Name / Namespace: TÃªn Pod vÃ  namespace chá»©a Pod.
			- Node: Node váº­t lÃ½ hoáº·c VM Ä‘ang cháº¡y Pod.
			- Status: Tráº¡ng thÃ¡i tá»•ng thá»ƒ Pod (Running, Pending, CrashLoopBackOffâ€¦)
			- IP: IP ná»™i bá»™ cá»§a Pod trong cluster.
			- Containers: Danh sÃ¡ch container bÃªn trong Pod, tráº¡ng thÃ¡i, image, port, restart count.
			- Conditions: Kiá»ƒm tra tÃ¬nh tráº¡ng container vÃ  scheduling.
			- Events: Log cÃ¡c hoáº¡t Ä‘á»™ng gáº§n Ä‘Ã¢y liÃªn quan Ä‘áº¿n Pod, há»¯u Ã­ch khi debug.

			--------------------------------------------------
			5. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Náº¿u Pod khÃ´ng tá»“n táº¡i â†’ bÃ¡o lá»—i:
			--------------------------------------------------
			Error from server (NotFound): pods "webapp-pod" not found

			- CÃ³ thá»ƒ chá»‰ Ä‘á»‹nh namespace khÃ¡c náº¿u Pod khÃ´ng náº±m á»Ÿ default:
			--------------------------------------------------
			kubectl describe pod webapp-pod -n <namespace>

			- ThÆ°á»ng dÃ¹ng káº¿t há»£p vá»›i:
			--------------------------------------------------
			kubectl get pods       â†’ Xem danh sÃ¡ch Pod
			kubectl logs webapp-pod â†’ Xem log container

			--------------------------------------------------
			6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- Debug Pod vÃ  container
			- Kiá»ƒm tra tráº¡ng thÃ¡i readiness, restart count
			- Xem event liÃªn quan Ä‘áº¿n scheduling hoáº·c crash
			- Hiá»ƒu rÃµ resource, labels, annotations

			--------------------------------------------------
			7. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			kubectl describe pod webapp-pod
			= Hiá»ƒn thá»‹ chi tiáº¿t thÃ´ng tin Pod
			= Bao gá»“m tráº¡ng thÃ¡i, node, container, IP, events
			= DÃ¹ng Ä‘á»ƒ debug vÃ  giÃ¡m sÃ¡t Pod trong Kubernetes
			= Namespace máº·c Ä‘á»‹nh lÃ  default náº¿u khÃ´ng chá»‰ Ä‘á»‹nh
			==================================================
		
		
		- cmd: kubectl get pod webapp-pod -o yaml
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			kubectl get pod webapp-pod -o yaml

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t cá»§a Pod `webapp-pod` trong Kubernetes cluster
			- Output Ä‘Æ°á»£c Ä‘á»‹nh dáº¡ng YAML, cung cáº¥p toÃ n bá»™ metadata vÃ  spec
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ debug, kiá»ƒm tra cáº¥u hÃ¬nh, tráº¡ng thÃ¡i, volume, container, env, labels, annotations, node placement, v.v.

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. kubectl
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh quáº£n lÃ½ Kubernetes cluster
			- Thá»±c hiá»‡n cÃ¡c thao tÃ¡c create, apply, get, delete, describe, v.v.

			2.2. get pod
			--------------------------------------------------
			- Láº¥y thÃ´ng tin cá»§a resource loáº¡i Pod
			- Chá»‰ Ä‘á»‹nh tÃªn Pod cá»¥ thá»ƒ hoáº·c táº¥t cáº£ Pod trong namespace

			2.3. webapp-pod
			--------------------------------------------------
			- TÃªn Pod cáº§n láº¥y thÃ´ng tin
			- Pháº£i tá»“n táº¡i trong namespace hiá»‡n táº¡i hoáº·c dÃ¹ng `-n <namespace>` náº¿u á»Ÿ namespace khÃ¡c

			2.4. -o yaml
			--------------------------------------------------
			- Output á»Ÿ Ä‘á»‹nh dáº¡ng YAML
			- Cung cáº¥p chi tiáº¿t toÃ n bá»™ cáº¥u hÃ¬nh Pod, khÃ´ng chá»‰ tÃ³m táº¯t nhÆ° `kubectl get pods`
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ:
			  + Debug lá»—i
			  + Sao chÃ©p cáº¥u hÃ¬nh
			  + So sÃ¡nh spec
			  + Backup Pod definition

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Kubectl gá»­i yÃªu cáº§u tá»›i Kubernetes API server
			2. API server tÃ¬m Pod cÃ³ tÃªn `webapp-pod` trong namespace hiá»‡n táº¡i
			3. Láº¥y toÃ n bá»™ thÃ´ng tin Pod tá»« etcd:
			   - metadata: name, namespace, labels, annotations
			   - spec: container, image, ports, volume, env, nodeSelector
			   - status: phase, conditions, startTime, containerStatuses
			4. Format dá»¯ liá»‡u thÃ nh YAML
			5. In ra mÃ n hÃ¬nh terminal

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥ output:

			apiVersion: v1
			kind: Pod
			metadata:
			  name: webapp-pod
			  namespace: default
			  labels:
				app: webapp
			spec:
			  containers:
			  - name: webapp-container
				image: nginx:1.21
				ports:
				- containerPort: 80
			status:
			  phase: Running
			  conditions:
			  - type: Ready
				status: "True"
			  hostIP: 10.0.0.15
			  podIP: 10.244.1.12
			  startTime: "2025-12-20T10:00:00Z"

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- Láº¥y Pod á»Ÿ namespace khÃ¡c:
			kubectl get pod webapp-pod -n <namespace> -o yaml

			- Láº¥y táº¥t cáº£ Pod vá»›i output YAML:
			kubectl get pods -o yaml

			- Lá»c theo label:
			kubectl get pod -l app=webapp -o yaml

			- LÆ°u output YAML vÃ o file:
			kubectl get pod webapp-pod -o yaml > webapp-pod.yaml

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Xem cáº¥u hÃ¬nh chi tiáº¿t Pod
			- Debug Pod khÃ´ng cháº¡y hoáº·c container crash
			- Kiá»ƒm tra volume, secret, env, nodeSelector
			- Backup hoáº·c sao chÃ©p cáº¥u hÃ¬nh Pod
			- PhÃ¢n tÃ­ch tráº¡ng thÃ¡i container, IP, condition, events

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. Error from server (NotFound)
			--------------------------------------------------
			- Pod khÃ´ng tá»“n táº¡i
			- Kiá»ƒm tra tÃªn Pod vÃ  namespace

			7.2. Permission denied
			--------------------------------------------------
			- User hiá»‡n táº¡i khÃ´ng cÃ³ quyá»n xem Pod
			- Kiá»ƒm tra RBAC vÃ  kubeconfig

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- File YAML chá»©a thÃ´ng tin nháº¡y cáº£m: env, secret, token
			- KhÃ´ng chia sáº» cÃ´ng khai náº¿u chá»©a dá»¯ liá»‡u nháº¡y cáº£m

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			kubectl get pod webapp-pod -o yaml

			= Láº¥y thÃ´ng tin chi tiáº¿t Pod webapp-pod
			= Output á»Ÿ Ä‘á»‹nh dáº¡ng YAML
			= Xem cáº¥u hÃ¬nh, status, metadata, spec chi tiáº¿t
			= DÃ¹ng Ä‘á»ƒ debug, backup, phÃ¢n tÃ­ch hoáº·c sao chÃ©p Pod
		
		
		- cmd: kubectl get pod webapp-pod -o yaml > webpod-definition.yml
		
			Lá»†NH: kubectl get pod webapp-pod -o yaml > webpod-definition.yml
			================================================================

			1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
			-------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Láº¥y toÃ n bá»™ Ä‘á»‹nh nghÄ©a (configuration) cá»§a Pod cÃ³ tÃªn "webapp-pod"
			- Xuáº¥t output á»Ÿ Ä‘á»‹nh dáº¡ng YAML
			- Ghi (redirect) trá»±c tiáº¿p káº¿t quáº£ vÃ o file "webpod-definition.yml"
			- Há»¯u Ã­ch Ä‘á»ƒ:
			  + Sao lÆ°u cáº¥u hÃ¬nh Pod
			  + Xem chi tiáº¿t spec, metadata, status
			  + DÃ¹ng lÃ m máº«u Ä‘á»ƒ táº¡o Pod má»›i hoáº·c deploy láº¡i


			2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
			------------------------------------

			2.1. kubectl
			-----------
			- CLI chÃ­nh thá»©c cá»§a Kubernetes
			- DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ vÃ  tÆ°Æ¡ng tÃ¡c vá»›i cluster


			2.2. get
			--------
			- Sub-command cá»§a kubectl
			- Láº¥y thÃ´ng tin vá» resource trong Kubernetes
			- CÃ³ thá»ƒ láº¥y á»Ÿ nhiá»u Ä‘á»‹nh dáº¡ng: table, yaml, json


			2.3. pod
			--------
			- Loáº¡i resource cáº§n láº¥y
			- Pod lÃ  Ä‘Æ¡n vá»‹ nhá» nháº¥t trong Kubernetes, chá»©a má»™t hoáº·c nhiá»u container
			- ThÃ´ng tin chá»©a trong Pod:
			  + metadata: tÃªn, namespace, labels, annotations
			  + spec: container, image, ports, volumes
			  + status: phase, conditions, IP, node, container status


			2.4. webapp-pod
			---------------
			- TÃªn cá»¥ thá»ƒ cá»§a Pod cáº§n láº¥y
			- Pháº£i tá»“n táº¡i trong namespace máº·c Ä‘á»‹nh hoáº·c namespace Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh
			- Kiá»ƒm tra danh sÃ¡ch Pod:
			  kubectl get pods


			2.5. -o yaml
			------------
			- Output Ä‘á»‹nh dáº¡ng YAML
			- YAML hiá»ƒn thá»‹ chi tiáº¿t cáº¥u hÃ¬nh resource, dá»… Ä‘á»c vÃ  chá»‰nh sá»­a
			- CÃ³ thá»ƒ thay báº±ng:
			  + -o json   => output JSON
			  + -o wide   => output dáº¡ng báº£ng rá»™ng


			2.6. > webpod-definition.yml
			---------------------------
			- Redirect output cá»§a lá»‡nh sang file
			- Trong trÆ°á»ng há»£p nÃ y, YAML cá»§a Pod sáº½ Ä‘Æ°á»£c lÆ°u vÃ o file:
			  webpod-definition.yml
			- Náº¿u file Ä‘Ã£ tá»“n táº¡i:
			  + Ná»™i dung cÅ© sáº½ bá»‹ ghi Ä‘Ã¨
			- DÃ¹ng Ä‘á»ƒ lÆ°u trá»¯, backup hoáº·c dÃ¹ng lÃ m tÃ i liá»‡u triá»ƒn khai


			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			---------------------------------
			Khi cháº¡y:
			kubectl get pod webapp-pod -o yaml > webpod-definition.yml

			Kubectl sáº½:
			1. Káº¿t ná»‘i tá»›i API server
			2. Láº¥y thÃ´ng tin Pod "webapp-pod"
			3. Chuyá»ƒn thÃ´ng tin sang Ä‘á»‹nh dáº¡ng YAML
			4. Redirect output vÃ o file "webpod-definition.yml"
			5. File sáº½ chá»©a toÃ n bá»™ spec, metadata, status cá»§a Pod


			4. Ná»˜I DUNG FILE MáºªU
			-------------------
			webpod-definition.yml cÃ³ thá»ƒ chá»©a:

			apiVersion: v1
			kind: Pod
			metadata:
			  name: webapp-pod
			  namespace: default
			  labels:
				app: webapp
			spec:
			  containers:
			  - name: webapp-container
				image: nginx:latest
				ports:
				- containerPort: 80
			status:
			  phase: Running
			  conditions:
			  - type: Ready
				status: "True"


			5. Lá»¢I ÃCH KHI DÃ™NG Lá»†NH NÃ€Y
			----------------------------
			- Sao lÆ°u cáº¥u hÃ¬nh Pod
			- Dá»… dÃ ng sá»­a Ä‘á»•i vÃ  apply láº¡i:
			  kubectl apply -f webpod-definition.yml
			- Há»c há»i cáº¥u trÃºc YAML cá»§a resource Kubernetes
			- Debug vÃ  phÃ¢n tÃ­ch Pod


			6. Lá»–I THÆ¯á»œNG Gáº¶P
			-----------------
			- Pod khÃ´ng tá»“n táº¡i:
			  => Error from server (NotFound): pods "webapp-pod" not found

			- KhÃ´ng cÃ³ quyá»n truy cáº­p:
			  => Kiá»ƒm tra kubeconfig hoáº·c RBAC

			- File khÃ´ng ghi Ä‘Æ°á»£c:
			  => Kiá»ƒm tra quyá»n write trong thÆ° má»¥c hiá»‡n táº¡i


			7. TÃ“M Táº®T NGáº®N Gá»ŒN
			-------------------
			kubectl             : CLI Kubernetes
			get                 : láº¥y thÃ´ng tin resource
			pod                 : loáº¡i resource Pod
			webapp-pod          : tÃªn Pod cá»¥ thá»ƒ
			-o yaml             : xuáº¥t Ä‘á»‹nh dáº¡ng YAML
			> webpod-definition.yml : ghi output vÃ o file
			Káº¿t quáº£            : file webpod-definition.yml chá»©a toÃ n bá»™ spec, metadata, status cá»§a Pod
		
		
		- cmd: kubectl edit pod webapp-pod
		
			Lá»†NH: kubectl edit pod webapp-pod
			====================================================================

			1. kubectl lÃ  gÃ¬?
			--------------------------------------------------------------------
			- kubectl lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster
			- DÃ¹ng Ä‘á»ƒ:
			  + Táº¡o, cáº­p nháº­t, xÃ³a resource (Pod, Deployment, Serviceâ€¦)
			  + Kiá»ƒm tra tráº¡ng thÃ¡i cluster vÃ  cÃ¡c resource
			- Giao tiáº¿p trá»±c tiáº¿p vá»›i API server cá»§a Kubernetes

			--------------------------------------------------------------------

			2. pod lÃ  gÃ¬?
			--------------------------------------------------------------------
			- Pod lÃ  Ä‘Æ¡n vá»‹ cÆ¡ báº£n trong Kubernetes
			- Chá»©a 1 hoáº·c nhiá»u container cháº¡y cÃ¹ng nhau trÃªn cÃ¹ng node
			- Pod Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi cÃ¡c controller (Deployment, StatefulSetâ€¦)

			--------------------------------------------------------------------

			3. edit pod lÃ  gÃ¬?
			--------------------------------------------------------------------
			- kubectl edit pod <pod-name> = chá»‰nh sá»­a trá»±c tiáº¿p cáº¥u hÃ¬nh Pod
			- Má»Ÿ Pod trong trÃ¬nh soáº¡n tháº£o (editor) máº·c Ä‘á»‹nh (vi hoáº·c nano)
			- Cho phÃ©p thay Ä‘á»•i cÃ¡c thuá»™c tÃ­nh:
			  + labels
			  + annotations
			  + container spec (vÃ­ dá»¥ image, command, args)
			- LÆ°u Ã½: Má»™t sá»‘ thuá»™c tÃ­nh nhÆ° `name`, `namespace` khÃ´ng thá»ƒ thay Ä‘á»•i

			--------------------------------------------------------------------

			4. webapp-pod lÃ  gÃ¬?
			--------------------------------------------------------------------
			- webapp-pod = tÃªn Pod muá»‘n chá»‰nh sá»­a
			- Pod pháº£i tá»“n táº¡i trong namespace hiá»‡n táº¡i (default náº¿u khÃ´ng chá»‰ Ä‘á»‹nh)

			--------------------------------------------------------------------

			5. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			kubectl edit pod webapp-pod

			â†’ Má»Ÿ Pod webapp-pod trong editor
			â†’ Thay Ä‘á»•i cáº¥u hÃ¬nh Pod trá»±c tiáº¿p
			â†’ Sau khi lÆ°u, Kubernetes Ã¡p dá»¥ng cáº¥u hÃ¬nh má»›i
			â†’ Pod sáº½ Ä‘Æ°á»£c restart náº¿u cÃ³ thay Ä‘á»•i container spec quan trá»ng

			--------------------------------------------------------------------

			6. Quy trÃ¬nh thá»±c thi lá»‡nh
			--------------------------------------------------------------------
			1) kubectl gá»­i request GET tá»›i API server Ä‘á»ƒ láº¥y YAML cá»§a Pod
			2) Má»Ÿ YAML trong editor máº·c Ä‘á»‹nh
			3) NgÆ°á»i dÃ¹ng chá»‰nh sá»­a vÃ  lÆ°u file
			4) kubectl gá»­i request PUT cáº­p nháº­t Pod vá»›i YAML má»›i
			5) API server Ã¡p dá»¥ng thay Ä‘á»•i:
			   - Náº¿u thay Ä‘á»•i khÃ´ng thá»ƒ patch â†’ bÃ¡o lá»—i
			   - Náº¿u thay Ä‘á»•i container spec â†’ Pod sáº½ restart

			--------------------------------------------------------------------

			7. Kiá»ƒm tra sau khi chá»‰nh sá»­a
			--------------------------------------------------------------------
			- Xem Pod status:
			kubectl get pods webapp-pod

			- Xem chi tiáº¿t Pod:
			kubectl describe pod webapp-pod

			- Xem logs container:
			kubectl logs webapp-pod

			--------------------------------------------------------------------

			8. CÃ¡c tÃ¹y chá»n nÃ¢ng cao
			--------------------------------------------------------------------
			- -n <namespace> â†’ chá»‰nh sá»­a Pod trong namespace khÃ¡c
			kubectl edit pod webapp-pod -n dev

			- --record â†’ lÆ°u láº¡i lá»‹ch sá»­ thay Ä‘á»•i (khi dÃ¹ng Deployment)

			--------------------------------------------------------------------

			9. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) pod not found
			- Pod khÃ´ng tá»“n táº¡i trong namespace
			- Kiá»ƒm tra tÃªn Pod chÃ­nh xÃ¡c

			2) Edit failed: conflict
			- Pod Ä‘Ã£ bá»‹ thay Ä‘á»•i Ä‘á»“ng thá»i
			- LÃ m láº¡i lá»‡nh hoáº·c dÃ¹ng `kubectl replace`

			3) Editor khÃ´ng má»Ÿ
			- Kiá»ƒm tra biáº¿n mÃ´i trÆ°á»ng EDITOR:
			export EDITOR=vi

			--------------------------------------------------------------------

			10. Khi nÃ o nÃªn dÃ¹ng lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- Thay Ä‘á»•i cáº¥u hÃ¬nh nhanh cá»§a Pod
			- ThÃªm hoáº·c sá»­a labels, annotations
			- Update container image hoáº·c command
			- Debug Pod trá»±c tiáº¿p

			--------------------------------------------------------------------

			11. LÆ°u Ã½ quan trá»ng
			--------------------------------------------------------------------
			- KhÃ´ng nÃªn chá»‰nh sá»­a Pod trá»±c tiáº¿p quÃ¡ nhiá»u trong production
			- Thay Ä‘á»•i cáº¥u hÃ¬nh Pod thÆ°á»ng nÃªn lÃ m qua Deployment/StatefulSet Ä‘á»ƒ dá»… quáº£n lÃ½
			- Pod sáº½ restart náº¿u thay Ä‘á»•i container spec

			--------------------------------------------------------------------

			12. So sÃ¡nh nhanh
			--------------------------------------------------------------------
			kubectl edit pod <pod-name> â†’ chá»‰nh sá»­a trá»±c tiáº¿p Pod hiá»‡n cÃ³
			kubectl apply -f pod.yaml â†’ cáº­p nháº­t Pod tá»« file YAML
			kubectl patch pod <pod-name> --patch '{}' â†’ cáº­p nháº­t má»™t pháº§n cá»§a Pod

			--------------------------------------------------------------------

			13. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			kubectl edit pod webapp-pod =
			Má» POD webapp-pod TRONG EDITOR Äá»‚ CHá»ˆNH Sá»¬A Cáº¤U HÃŒNH, SAU KHI LÆ¯U KUBERNETES ÃP Dá»¤NG THAY Äá»”I
		
		
		- cmd: kubectl delete pod nginx12
		
			# Lá»‡nh gá»‘c:
			kubectl delete pod nginx12

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. kubectl
			# - `kubectl` lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster.
			# - DÃ¹ng Ä‘á»ƒ thao tÃ¡c vá»›i cÃ¡c resource nhÆ° pods, deployments, services, configmaps,...

			# 2. delete
			# - Lá»‡nh `delete` dÃ¹ng Ä‘á»ƒ xÃ³a resource trong Kubernetes.
			# - Khi xÃ³a, resource sáº½ bá»‹ loáº¡i bá» khá»i cluster.

			# 3. pod
			# - `pod` lÃ  loáº¡i resource cÆ¡ báº£n nháº¥t trong Kubernetes.
			# - Má»™t pod cÃ³ thá»ƒ chá»©a má»™t hoáº·c nhiá»u container cháº¡y cÃ¹ng nhau.
			# - Pod quáº£n lÃ½ container, chia sáº» máº¡ng vÃ  storage, vÃ  xÃ¡c Ä‘á»‹nh lifecycle cá»§a container.

			# 4. nginx12
			# - ÄÃ¢y lÃ  tÃªn cá»§a Pod cáº§n xÃ³a.
			# - TÃªn pod pháº£i chÃ­nh xÃ¡c Ä‘á»ƒ Kubernetes tÃ¬m vÃ  xÃ³a.

			# 5. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Khi cháº¡y lá»‡nh `kubectl delete pod nginx12`, Kubernetes sáº½:
			#   1. TÃ¬m Pod cÃ³ tÃªn `nginx12` trong namespace hiá»‡n táº¡i.
			#   2. XÃ³a Pod khá»i cluster.
			#   3. Giáº£i phÃ³ng tÃ i nguyÃªn (CPU, memory, network) mÃ  Pod sá»­ dá»¥ng.
			#   4. Náº¿u Pod thuá»™c Deployment, ReplicaSet, hoáº·c StatefulSet,
			#      controller cÃ³ thá»ƒ tá»± táº¡o Pod má»›i Ä‘á»ƒ Ä‘áº£m báº£o sá»‘ lÆ°á»£ng pod mong muá»‘n.

			# 6. VÃ­ dá»¥ káº¿t quáº£:
			# pod "nginx12" deleted

			# 7. Kiá»ƒm tra Pod Ä‘Ã£ xÃ³a:
			# - kubectl get pod
			#   + Liá»‡t kÃª táº¥t cáº£ Pod hiá»‡n cÃ³ trong namespace.
			# - kubectl describe pod nginx12
			#   + Sáº½ bÃ¡o lá»—i náº¿u Pod Ä‘Ã£ bá»‹ xÃ³a.

			# 8. LÆ°u Ã½ quan trá»ng:
			# - XÃ³a Pod lÃ  hÃ nh Ä‘á»™ng vÄ©nh viá»…n; dá»¯ liá»‡u trong Pod sáº½ máº¥t náº¿u khÃ´ng dÃ¹ng volume.
			# - Náº¿u muá»‘n chá»‰ táº¡m dá»«ng Pod mÃ  khÃ´ng xÃ³a Deployment, cÃ³ thá»ƒ scale Deployment:
			#   kubectl scale deploy <deployment_name> --replicas=<sá»‘ lÆ°á»£ng>

			# 9. CÃ¡c tÃ¹y chá»n liÃªn quan:
			# - kubectl delete pod <pod_name> -n <namespace>
			#   + XÃ³a Pod trong namespace cá»¥ thá»ƒ.
			# - kubectl delete -f pod-setup.yml
			#   + XÃ³a Pod dá»±a trÃªn file cáº¥u hÃ¬nh YAML.

			# Káº¿t luáº­n:
			# Lá»‡nh `kubectl delete pod nginx12` dÃ¹ng Ä‘á»ƒ xÃ³a má»™t Pod cá»¥ thá»ƒ khá»i Kubernetes cluster,
			# giáº£i phÃ³ng tÃ i nguyÃªn vÃ  dá»n sáº¡ch mÃ´i trÆ°á»ng pod.
		
		
		- cmd: kubectl logs web2
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			kubectl logs web2
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ xem log cá»§a má»™t Pod trong Kubernetes.

			- `web2` lÃ  tÃªn Pod mÃ  báº¡n muá»‘n xem log.
			- Log hiá»ƒn thá»‹ thÃ´ng tin stdout/stderr tá»« container cháº¡y trong Pod.
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ:
			  + Debug á»©ng dá»¥ng Ä‘ang cháº¡y trong Pod
			  + Kiá»ƒm tra lá»—i, tráº¡ng thÃ¡i, hoáº¡t Ä‘á»™ng cá»§a container
			  + GiÃ¡m sÃ¡t hoáº¡t Ä‘á»™ng á»©ng dá»¥ng

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. kubectl
			--------------------------------------------------
			- CLI tool cá»§a Kubernetes Ä‘á»ƒ quáº£n lÃ½ cluster
			- Thá»±c hiá»‡n cÃ¡c thao tÃ¡c: get, describe, apply, delete, logs...

			2.2. logs
			--------------------------------------------------
			- Subcommand Ä‘á»ƒ láº¥y log tá»« container trong Pod
			- Máº·c Ä‘á»‹nh hiá»ƒn thá»‹ log cá»§a container Ä‘áº§u tiÃªn náº¿u Pod cÃ³ nhiá»u container

			2.3. web2
			--------------------------------------------------
			- TÃªn Pod muá»‘n láº¥y log
			- Náº¿u Pod khÃ´ng tá»“n táº¡i â†’ lá»‡nh bÃ¡o lá»—i

			--------------------------------------------------
			3. CÃC TÃ™Y CHá»ŒN PHá»” BIáº¾N
			--------------------------------------------------
			- Xem log cá»§a container cá»¥ thá»ƒ trong Pod nhiá»u container:
			--------------------------------------------------
			kubectl logs web2 -c <container_name>

			- Xem log theo thá»i gian thá»±c (follow):
			--------------------------------------------------
			kubectl logs -f web2

			- Xem log nhiá»u dÃ²ng trÆ°á»›c nháº¥t hoáº·c sau nháº¥t:
			--------------------------------------------------
			kubectl logs --tail=100 web2

			- Káº¿t há»£p namespace khÃ¡c:
			--------------------------------------------------
			kubectl logs web2 -n <namespace>

			--------------------------------------------------
			4. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			1. kubectl gá»­i request tá»›i Kubernetes API server
			2. API server tráº£ vá» log stdout/stderr cá»§a container
			3. Hiá»ƒn thá»‹ log trÃªn terminal

			--------------------------------------------------
			5. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Náº¿u Pod khÃ´ng cháº¡y hoáº·c Ä‘ang Pending â†’ log cÃ³ thá»ƒ trá»‘ng
			- Log chá»‰ hiá»ƒn thá»‹ container hiá»‡n táº¡i, khÃ´ng bao gá»“m Pod events
			- CÃ³ thá»ƒ dÃ¹ng `kubectl describe pod web2` Ä‘á»ƒ xem events kÃ¨m log

			--------------------------------------------------
			6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- Debug á»©ng dá»¥ng trong container
			- Kiá»ƒm tra lá»—i, thÃ´ng bÃ¡o tá»« á»©ng dá»¥ng
			- GiÃ¡m sÃ¡t tráº¡ng thÃ¡i Pod vÃ  container
			- PhÃ¢n tÃ­ch hoáº¡t Ä‘á»™ng cá»§a há»‡ thá»‘ng Kubernetes

			--------------------------------------------------
			7. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			kubectl logs web2
			= Hiá»ƒn thá»‹ log stdout/stderr cá»§a Pod web2
			= DÃ¹ng Ä‘á»ƒ debug, kiá»ƒm tra lá»—i vÃ  giÃ¡m sÃ¡t container
			= Namespace máº·c Ä‘á»‹nh lÃ  default náº¿u khÃ´ng chá»‰ Ä‘á»‹nh
			= DÃ¹ng káº¿t há»£p vá»›i -f Ä‘á»ƒ xem log thá»i gian thá»±c hoáº·c -c Ä‘á»ƒ chá»n container
			==================================================
		
		
		- cmd: history | grep test47
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			history | grep test47

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Kiá»ƒm tra lá»‹ch sá»­ cÃ¡c lá»‡nh Ä‘Ã£ thá»±c hiá»‡n trÃªn shell
			- Lá»c ra cÃ¡c lá»‡nh cÃ³ chá»©a chuá»—i "test47"
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ:
			  + TÃ¬m láº¡i lá»‡nh Ä‘Ã£ cháº¡y trÆ°á»›c Ä‘Ã³
			  + Debug, kiá»ƒm tra thao tÃ¡c Ä‘Ã£ thá»±c hiá»‡n
			  + Sao chÃ©p lá»‡nh Ä‘á»ƒ cháº¡y láº¡i

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. history
			--------------------------------------------------
			- Hiá»ƒn thá»‹ danh sÃ¡ch cÃ¡c lá»‡nh Ä‘Ã£ cháº¡y trong terminal hiá»‡n táº¡i hoáº·c shell trÆ°á»›c Ä‘Ã³
			- Output gá»“m:
			  + Sá»‘ thá»© tá»± cá»§a lá»‡nh
			  + Ná»™i dung lá»‡nh
			- LÆ°u trong file `~/.bash_history` (vá»›i Bash) hoáº·c tÆ°Æ¡ng tá»± vá»›i shell khÃ¡c

			2.2. |
			--------------------------------------------------
			- LÃ  kÃ½ tá»± "pipe" trong shell
			- DÃ¹ng Ä‘á»ƒ chuyá»ƒn output cá»§a lá»‡nh bÃªn trÃ¡i lÃ m input cá»§a lá»‡nh bÃªn pháº£i
			- Trong trÆ°á»ng há»£p nÃ y:
			  + Output cá»§a `history` â†’ Input cho `grep`

			2.3. grep test47
			--------------------------------------------------
			- Lá»c dÃ²ng chá»©a chuá»—i "test47"
			- `grep` tÃ¬m kiáº¿m theo pattern vÃ  in ra dÃ²ng khá»›p
			- CÃ³ thá»ƒ dÃ¹ng cÃ¡c tuá»³ chá»n bá»• sung nhÆ°:
			  + `-i`: khÃ´ng phÃ¢n biá»‡t chá»¯ hoa chá»¯ thÆ°á»ng
			  + `-n`: hiá»ƒn thá»‹ sá»‘ dÃ²ng trong output

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. `history` láº¥y toÃ n bá»™ danh sÃ¡ch lá»‡nh Ä‘Ã£ cháº¡y
			2. Output nÃ y Ä‘Æ°á»£c chuyá»ƒn cho `grep` qua pipe
			3. `grep` quÃ©t tá»«ng dÃ²ng Ä‘á»ƒ tÃ¬m chuá»—i "test47"
			4. Chá»‰ nhá»¯ng dÃ²ng chá»©a "test47" Ä‘Æ°á»£c in ra terminal
			5. Báº¡n cÃ³ thá»ƒ xem sá»‘ thá»© tá»± lá»‡nh Ä‘á»ƒ cháº¡y láº¡i vá»›i `!<sá»‘>` (vÃ­ dá»¥: `!102`)

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥ khi cháº¡y:

			102  ls /home/test47
			215  cat test47.txt
			309  vim test47_config.yaml

			Giáº£i thÃ­ch:
			- 102, 215, 309: sá»‘ thá»© tá»± lá»‡nh trong history
			- Pháº§n sau lÃ  ná»™i dung lá»‡nh Ä‘Ã£ cháº¡y cÃ³ chá»©a "test47"

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- TÃ¬m lá»‡nh khÃ´ng phÃ¢n biá»‡t chá»¯ hoa:
			history | grep -i test47

			- Hiá»ƒn thá»‹ sá»‘ dÃ²ng:
			history | grep -n test47

			- Cháº¡y láº¡i lá»‡nh theo sá»‘ thá»© tá»±:
			!102   # sáº½ cháº¡y láº¡i lá»‡nh ls /home/test47

			- LÆ°u káº¿t quáº£ vÃ o file:
			history | grep test47 > test47_history.txt

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Dá»… dÃ ng tÃ¬m láº¡i lá»‡nh Ä‘Ã£ cháº¡y
			- Há»— trá»£ debug hoáº·c kiá»ƒm tra thao tÃ¡c trÆ°á»›c Ä‘Ã³
			- Tiáº¿t kiá»‡m thá»i gian khi muá»‘n cháº¡y láº¡i lá»‡nh tÆ°Æ¡ng tá»±
			- CÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ audit thao tÃ¡c cá»§a ngÆ°á»i dÃ¹ng trÃªn há»‡ thá»‘ng

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------
			- KhÃ´ng tÃ¬m tháº¥y output nÃ o:
			  + KhÃ´ng cÃ³ lá»‡nh chá»©a "test47" trong history
			  + Shell chÆ°a lÆ°u history (chÆ°a exit hoáº·c history bá»‹ xÃ³a)

			- Pattern sai:
			  + Chuá»—i tÃ¬m kiáº¿m pháº£i chÃ­nh xÃ¡c hoáº·c dÃ¹ng regex phÃ¹ há»£p

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- History cÃ³ thá»ƒ chá»©a thÃ´ng tin nháº¡y cáº£m
			- KhÃ´ng chia sáº» cÃ´ng khai output history náº¿u chá»©a máº­t kháº©u, token, key

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			history | grep test47

			= Lá»c cÃ¡c lá»‡nh Ä‘Ã£ cháº¡y chá»©a "test47"
			= Output gá»“m sá»‘ thá»© tá»± vÃ  ná»™i dung lá»‡nh
			= DÃ¹ng Ä‘á»ƒ tÃ¬m láº¡i, cháº¡y láº¡i hoáº·c kiá»ƒm tra lá»‡nh trÆ°á»›c Ä‘Ã³
			= CÃ³ thá»ƒ káº¿t há»£p vá»›i -i, -n hoáº·c redirect vÃ o file
		
		
		- cmd: kubectl run nginx12 --image=nginx
		
			Lá»†NH: kubectl run nginx12 --image=nginx
			=======================================

			1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
			-------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Táº¡o vÃ  cháº¡y má»™t Pod má»›i trong Kubernetes cluster
			- Pod sáº½ cÃ³ tÃªn "nginx12"
			- Pod sáº½ chá»©a container cháº¡y image "nginx"
			- ÄÃ¢y lÃ  cÃ¡ch nhanh Ä‘á»ƒ triá»ƒn khai á»©ng dá»¥ng thá»­ nghiá»‡m hoáº·c kiá»ƒm tra cluster


			2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
			------------------------------------

			2.1. kubectl
			-----------
			- CLI chÃ­nh thá»©c cá»§a Kubernetes
			- DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ cluster vÃ  resource
			- Chá»©c nÄƒng: táº¡o, xÃ³a, chá»‰nh sá»­a, láº¥y thÃ´ng tin resource, debug, giÃ¡m sÃ¡t


			2.2. run
			--------
			- Sub-command cá»§a kubectl
			- DÃ¹ng Ä‘á»ƒ táº¡o resource nhanh chÃ³ng
			- Má»¥c Ä‘Ã­ch ban Ä‘áº§u: táº¡o Pod cháº¡y container
			- LÆ°u Ã½: TrÃªn cÃ¡c phiÃªn báº£n Kubernetes má»›i, kubectl run chá»§ yáº¿u dÃ¹ng táº¡o Pod, khÃ´ng táº¡o Deployment máº·c Ä‘á»‹nh (deployment cáº§n dÃ¹ng `kubectl create deployment`)


			2.3. nginx12
			------------
			- TÃªn cá»§a Pod sáº½ Ä‘Æ°á»£c táº¡o
			- DÃ¹ng Ä‘á»ƒ phÃ¢n biá»‡t vá»›i cÃ¡c Pod khÃ¡c
			- TÃªn pháº£i tuÃ¢n thá»§ quy táº¯c DNS: chá»‰ chá»©a chá»¯ thÆ°á»ng, sá»‘ vÃ  dáº¥u "-"


			2.4. --image=nginx
			-----------------
			- Chá»‰ Ä‘á»‹nh image container sá»­ dá»¥ng trong Pod
			- Trong trÆ°á»ng há»£p nÃ y: image "nginx" sáº½ Ä‘Æ°á»£c pull tá»« Docker Hub
			- Náº¿u image chÆ°a tá»“n táº¡i trÃªn node, Kubernetes sáº½ tá»± Ä‘á»™ng táº£i vá»
			- CÃ³ thá»ƒ thay báº±ng image khÃ¡c, vÃ­ dá»¥:
			  --image=nginx:1.25-alpine


			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			---------------------------------
			Khi cháº¡y:
			kubectl run nginx12 --image=nginx

			Kubectl sáº½:
			1. Káº¿t ná»‘i tá»›i API server
			2. Táº¡o Pod má»›i vá»›i tÃªn "nginx12"
			3. Pod chá»©a má»™t container vá»›i image nginx
			4. Scheduler chá»n node Ä‘á»ƒ cháº¡y Pod
			5. Node táº£i image nginx (náº¿u chÆ°a cÃ³)
			6. Container trong Pod khá»Ÿi cháº¡y
			7. Pod tráº¡ng thÃ¡i chuyá»ƒn sang Running khi container sáºµn sÃ ng


			4. KIá»‚M TRA Káº¾T QUáº¢
			-------------------
			- Xem Pod má»›i táº¡o:
			  kubectl get pods

			Output vÃ­ dá»¥:

			NAME       READY   STATUS    RESTARTS   AGE
			nginx12    1/1     Running   0          1m

			- Xem log container:
			  kubectl logs nginx12

			- Truy cáº­p Pod (náº¿u cÃ³ port):
			  kubectl port-forward nginx12 8080:80


			5. CÃC BIáº¾N THá»‚ HAY DÃ™NG
			-----------------------
			- Chá»‰ Ä‘á»‹nh namespace:
			  kubectl run nginx12 --image=nginx -n mynamespace

			- Chá»‰ Ä‘á»‹nh labels:
			  kubectl run nginx12 --image=nginx --labels=app=web

			- Chá»‰ Ä‘á»‹nh container port:
			  kubectl run nginx12 --image=nginx --port=80


			6. Lá»¢I ÃCH KHI DÃ™NG Lá»†NH NÃ€Y
			----------------------------
			- Triá»ƒn khai nhanh Pod thá»­ nghiá»‡m
			- Há»c cÃ¡ch cháº¡y container trÃªn Kubernetes
			- Kiá»ƒm tra cluster hoáº¡t Ä‘á»™ng vÃ  scheduler
			- Táº¡o Pod Ä‘Æ¡n giáº£n mÃ  khÃ´ng cáº§n YAML file


			7. Lá»–I THÆ¯á»œNG Gáº¶P
			-----------------
			- Lá»—i image khÃ´ng tá»“n táº¡i:
			  => Kiá»ƒm tra tÃªn image hoáº·c tag

			- Pod khÃ´ng cháº¡y:
			  => Xem log: kubectl logs nginx12
			  => Kiá»ƒm tra node, event: kubectl describe pod nginx12

			- Lá»—i quyá»n truy cáº­p:
			  => Kiá»ƒm tra kubeconfig vÃ  RBAC


			8. TÃ“M Táº®T NGáº®N Gá»ŒN
			-------------------
			kubectl          : CLI Kubernetes
			run              : táº¡o Pod nhanh chÃ³ng
			nginx12          : tÃªn Pod
			--image=nginx    : chá»‰ Ä‘á»‹nh image container
			Káº¿t quáº£          : Pod "nginx12" Ä‘Æ°á»£c táº¡o, container nginx cháº¡y trong Pod
		
		
		- cmd: kubectl get svc
		
			Lá»†NH: kubectl get svc
			====================================================================

			1. kubectl lÃ  gÃ¬?
			--------------------------------------------------------------------
			- kubectl lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster
			- DÃ¹ng Ä‘á»ƒ:
			  + Táº¡o, cáº­p nháº­t, xÃ³a resource (Deployment, Pod, Serviceâ€¦)
			  + Kiá»ƒm tra tráº¡ng thÃ¡i cluster vÃ  cÃ¡c resource
			- Giao tiáº¿p trá»±c tiáº¿p vá»›i API server cá»§a Kubernetes

			--------------------------------------------------------------------

			2. svc lÃ  gÃ¬?
			--------------------------------------------------------------------
			- svc = service
			- Service trong Kubernetes:
			  + LÃ  abstraction layer Ä‘á»ƒ expose Pod
			  + GiÃºp truy cáº­p Pod thÃ´ng qua stable endpoint
			  + Há»— trá»£ load balancing
			- kubectl get svc â†’ liá»‡t kÃª táº¥t cáº£ Service trong namespace hiá»‡n táº¡i

			--------------------------------------------------------------------

			3. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			kubectl get svc

			â†’ Liá»‡t kÃª táº¥t cáº£ Service trong namespace hiá»‡n táº¡i (default náº¿u khÃ´ng chá»‰ Ä‘á»‹nh)
			â†’ Hiá»ƒn thá»‹ cÃ¡c thÃ´ng tin cÆ¡ báº£n:
			  + NAME       : tÃªn Service
			  + TYPE       : ClusterIP, NodePort, LoadBalancer
			  + CLUSTER-IP : IP ná»™i bá»™ cluster
			  + EXTERNAL-IP: IP bÃªn ngoÃ i (náº¿u cÃ³)
			  + PORT(S)    : port mÃ  Service expose
			  + AGE        : thá»i gian tá»“n táº¡i Service

			--------------------------------------------------------------------

			4. CÃº phÃ¡p cÆ¡ báº£n
			--------------------------------------------------------------------
			kubectl get svc [service-name] [options]

			VÃ­ dá»¥:
			- kubectl get svc â†’ liá»‡t kÃª táº¥t cáº£ Service
			- kubectl get svc my-service â†’ liá»‡t kÃª service cá»¥ thá»ƒ

			Má»™t sá»‘ tÃ¹y chá»n khÃ¡c:
			- -o wide â†’ hiá»ƒn thá»‹ thÃªm thÃ´ng tin selector, endpoints
			- -o yaml/json â†’ xuáº¥t chi tiáº¿t Service dáº¡ng YAML hoáº·c JSON
			- -n <namespace> â†’ liá»‡t kÃª Service trong namespace khÃ¡c

			--------------------------------------------------------------------

			5. Quy trÃ¬nh thá»±c thi lá»‡nh
			--------------------------------------------------------------------
			1) kubectl gá»­i request GET tá»›i API server
			2) API server láº¥y danh sÃ¡ch Service trong namespace hiá»‡n táº¡i
			3) API server tráº£ JSON/YAML ná»™i dung
			4) kubectl hiá»ƒn thá»‹ thÃ´ng tin dÆ°á»›i dáº¡ng báº£ng

			--------------------------------------------------------------------

			6. Output Ä‘iá»ƒn hÃ¬nh
			--------------------------------------------------------------------
			NAME             TYPE        CLUSTER-IP    EXTERNAL-IP   PORT(S)        AGE
			kubernetes       ClusterIP   10.96.0.1     <none>        443/TCP        2h

			Giáº£i thÃ­ch cá»™t:
			- NAME       : TÃªn Service
			- TYPE       : ClusterIP / NodePort / LoadBalancer
			- CLUSTER-IP : IP ná»™i bá»™ cá»§a cluster
			- EXTERNAL-IP: IP bÃªn ngoÃ i (náº¿u cÃ³)
			- PORT(S)    : Port container hoáº·c service
			- AGE        : Thá»i gian tá»“n táº¡i Service

			--------------------------------------------------------------------

			7. Khi nÃ o nÃªn dÃ¹ng lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- Kiá»ƒm tra cÃ¡c Service trong namespace hiá»‡n táº¡i
			- Xem ClusterIP, NodePort hoáº·c LoadBalancer
			- Debug khi Pod hoáº·c service gáº·p váº¥n Ä‘á»
			- Kiá»ƒm tra service cá»§a á»©ng dá»¥ng hoáº·c service há»‡ thá»‘ng (kube-system)

			--------------------------------------------------------------------

			8. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) No resources found
			- KhÃ´ng cÃ³ Service trong namespace hiá»‡n táº¡i

			2) Unable to connect to the server
			- ChÆ°a cáº¥u hÃ¬nh kubectl context hoáº·c cluster khÃ´ng hoáº¡t Ä‘á»™ng

			--------------------------------------------------------------------

			9. So sÃ¡nh nhanh
			--------------------------------------------------------------------
			kubectl get svc â†’ liá»‡t kÃª táº¥t cáº£ service
			kubectl describe svc <service-name> â†’ xem chi tiáº¿t service
			kubectl get pods -o wide â†’ xem Pod vÃ  node Ä‘ang cháº¡y Pod

			--------------------------------------------------------------------

			10. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			kubectl get svc =
			LIá»†T KÃŠ Táº¤T Cáº¢ SERVICE TRONG NAMESPACE HIá»†N Táº I Vá»šI THÃ”NG TIN CLUSTER-IP, EXTERNAL-IP, PORT(S), AGE
		
		
		- cmd: kubectl describe svc helloworld-service
		
			# Lá»‡nh gá»‘c:
			kubectl describe svc helloworld-service

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. kubectl
			# - `kubectl` lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster.
			# - DÃ¹ng Ä‘á»ƒ thao tÃ¡c vá»›i cÃ¡c resource nhÆ° pods, deployments, services, configmaps,...

			# 2. describe
			# - Lá»‡nh `describe` dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t vá» má»™t resource trong Kubernetes.
			# - ThÃ´ng tin chi tiáº¿t bao gá»“m:
			#   + Metadata (tÃªn, namespace, labels, annotations)
			#   + Spec (cáº¥u hÃ¬nh resource)
			#   + Status (tráº¡ng thÃ¡i hiá»‡n táº¡i, events liÃªn quan)

			# 3. svc
			# - `svc` lÃ  viáº¿t táº¯t cá»§a `service`.
			# - Service lÃ  resource trong Kubernetes dÃ¹ng Ä‘á»ƒ:
			#   + Expose má»™t hoáº·c nhiá»u pod ra bÃªn ngoÃ i hoáº·c trong cluster.
			#   + CÃ¢n báº±ng táº£i (load balancing) giá»¯a cÃ¡c pod cÃ¹ng selector.
			#   + Táº¡o IP á»•n Ä‘á»‹nh hoáº·c DNS name cho pod.

			# 4. helloworld-service
			# - ÄÃ¢y lÃ  tÃªn service cáº§n xem chi tiáº¿t.
			# - Service pháº£i tá»“n táº¡i trong namespace hiá»‡n táº¡i, náº¿u khÃ´ng sáº½ bÃ¡o lá»—i.

			# 5. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Khi cháº¡y `kubectl describe svc helloworld-service`, Kubernetes sáº½:
			#   1. TÃ¬m service cÃ³ tÃªn `helloworld-service`.
			#   2. Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t bao gá»“m:
			#      + Name, Namespace, Labels, Annotations
			#      + Selector: nhÃ£n dÃ¹ng Ä‘á»ƒ gáº¯n vá»›i pod
			#      + Type: ClusterIP, NodePort, LoadBalancer,...
			#      + IP: Cluster IP cá»§a service
			#      + Port(s): port Ä‘Æ°á»£c service expose vÃ  targetPort cá»§a pod
			#      + Endpoints: danh sÃ¡ch pod IP thá»±c táº¿ gáº¯n vá»›i service
			#      + Events: cÃ¡c sá»± kiá»‡n liÃªn quan tá»›i service (vÃ­ dá»¥ cáº­p nháº­t endpoint)

			# 6. VÃ­ dá»¥ káº¿t quáº£:
			# Name:                     helloworld-service
			# Namespace:                default
			# Labels:                   app=helloworld
			# Selector:                 app=helloworld
			# Type:                     ClusterIP
			# IP:                       10.96.0.150
			# Port:                     80/TCP
			# Endpoints:                10.244.1.5:80,10.244.1.6:80
			# Session Affinity:         None
			# Events:
			#   Type    Reason  Age   From                Message
			#   ----    ------  ----  ----                -------
			#   Normal  Updated 5m   kube-proxy, node1   Set endpoints for helloworld-service

			# 7. LÆ°u Ã½ quan trá»ng:
			# - `describe` cung cáº¥p thÃ´ng tin chi tiáº¿t, khÃ¡c vá»›i `get` chá»‰ liá»‡t kÃª tÃ³m táº¯t.
			# - Endpoints hiá»ƒn thá»‹ IP pod thá»±c sá»± mÃ  service Ä‘ang káº¿t ná»‘i.
			# - ThÃ´ng tin nÃ y há»¯u Ã­ch Ä‘á»ƒ debug káº¿t ná»‘i, kiá»ƒm tra selector hoáº·c port mapping.

			# 8. CÃ¡c lá»‡nh liÃªn quan:
			# - kubectl get svc
			#   + Liá»‡t kÃª táº¥t cáº£ service vá»›i thÃ´ng tin tÃ³m táº¯t.
			# - kubectl describe pod <pod_name>
			#   + Xem chi tiáº¿t pod Ä‘Æ°á»£c service gáº¯n vá»›i.
			# - kubectl get endpoints helloworld-service
			#   + Kiá»ƒm tra pod IP liÃªn káº¿t vá»›i service.

			# Káº¿t luáº­n:
			# Lá»‡nh `kubectl describe svc helloworld-service` dÃ¹ng Ä‘á»ƒ xem toÃ n bá»™ chi tiáº¿t
			# vá» service `helloworld-service`, bao gá»“m cáº¥u hÃ¬nh, selector, endpoints, type, vÃ  events,
			# giÃºp quáº£n trá»‹ vÃ  debug Kubernetes service hiá»‡u quáº£.
		
		
		- cmd: kubectl describe pod | grep IP
		
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			kubectl describe pod | grep IP
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ láº¥y thÃ´ng tin Ä‘á»‹a chá»‰ IP cá»§a cÃ¡c Pod trong Kubernetes cluster.

			- `kubectl describe pod`: hiá»ƒn thá»‹ chi tiáº¿t thÃ´ng tin táº¥t cáº£ Pod trong namespace hiá»‡n táº¡i.
			- `|`: pipe, chuyá»ƒn káº¿t quáº£ Ä‘áº§u ra cá»§a lá»‡nh trÆ°á»›c lÃ m Ä‘áº§u vÃ o cho lá»‡nh sau.
			- `grep IP`: lá»c chá»‰ nhá»¯ng dÃ²ng chá»©a chá»¯ "IP", giÃºp tÃ¬m nhanh Ä‘á»‹a chá»‰ IP cá»§a Pod.
			- Má»¥c Ä‘Ã­ch:
			  + Nhanh chÃ³ng biáº¿t Ä‘á»‹a chá»‰ IP ná»™i bá»™ cá»§a Pod
			  + Há»¯u Ã­ch khi cáº§n truy cáº­p hoáº·c debug networking

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. kubectl
			--------------------------------------------------
			- CLI tool cá»§a Kubernetes Ä‘á»ƒ quáº£n lÃ½ cluster
			- Thá»±c hiá»‡n cÃ¡c thao tÃ¡c: get, describe, apply, delete, logs...

			2.2. describe pod
			--------------------------------------------------
			- Subcommand `describe` káº¿t há»£p vá»›i `pod` Ä‘á»ƒ xem chi tiáº¿t tá»«ng Pod
			- Hiá»ƒn thá»‹:
			  + Node, status, container, IP, labels, events

			2.3. |
			--------------------------------------------------
			- Pipe trong Linux
			- Chuyá»ƒn káº¿t quáº£ stdout tá»« lá»‡nh bÃªn trÃ¡i lÃ m Ä‘áº§u vÃ o cho lá»‡nh bÃªn pháº£i

			2.4. grep IP
			--------------------------------------------------
			- Lá»c cÃ¡c dÃ²ng chá»©a kÃ½ tá»± hoáº·c tá»« "IP"
			- Tráº£ vá» cÃ¡c dÃ²ng cÃ³ Ä‘á»‹a chá»‰ IP cá»§a Pod, vÃ­ dá»¥:
			--------------------------------------------------
			IP:           10.244.1.5
			IP:           10.244.1.6

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			1. kubectl describe pod láº¥y toÃ n bá»™ thÃ´ng tin chi tiáº¿t cá»§a Pod
			2. Pipe `|` gá»­i dá»¯ liá»‡u nÃ y tá»›i grep
			3. grep tÃ¬m cÃ¡c dÃ²ng chá»©a tá»« "IP"
			4. Terminal chá»‰ hiá»ƒn thá»‹ cÃ¡c dÃ²ng chá»©a IP, giÃºp ngÆ°á»i dÃ¹ng Ä‘á»c nhanh

			--------------------------------------------------
			4. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Lá»‡nh chá»‰ hiá»ƒn thá»‹ IP, khÃ´ng show táº¥t cáº£ thÃ´ng tin Pod
			- Namespace máº·c Ä‘á»‹nh lÃ  `default`; dÃ¹ng `-n <namespace>` náº¿u Pod náº±m namespace khÃ¡c:
			--------------------------------------------------
			kubectl describe pod -n <namespace> | grep IP

			- Náº¿u Pod cÃ³ nhiá»u container, IP hiá»ƒn thá»‹ lÃ  Pod IP, khÃ´ng pháº£i container riÃªng láº»
			- CÃ³ thá»ƒ dÃ¹ng `kubectl get pod -o wide` Ä‘á»ƒ xem IP trá»±c tiáº¿p, nhanh hÆ¡n:
			--------------------------------------------------
			kubectl get pod -o wide

			--------------------------------------------------
			5. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- Xem nhanh Ä‘á»‹a chá»‰ IP Pod
			- Debug networking trong cluster
			- Kiá»ƒm tra káº¿t ná»‘i giá»¯a Pod hoáº·c vá»›i service
			- GiÃºp viáº¿t script tá»± Ä‘á»™ng hÃ³a dá»±a trÃªn IP Pod

			--------------------------------------------------
			6. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			kubectl describe pod | grep IP
			= Láº¥y thÃ´ng tin Pod chi tiáº¿t
			= Lá»c nhanh cÃ¡c dÃ²ng chá»©a Ä‘á»‹a chá»‰ IP
			= DÃ¹ng pipe vÃ  grep Ä‘á»ƒ chá»‰ hiá»ƒn thá»‹ IP
			= GiÃºp debug networking vÃ  xÃ¡c Ä‘á»‹nh Pod IP
			==================================================
		
		
		- cmd: kubectl delete svc helloworld-services
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			kubectl delete svc helloworld-services

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- XÃ³a má»™t Service cÃ³ tÃªn `helloworld-services` trong Kubernetes cluster
			- GiÃºp loáº¡i bá» Service khá»i cluster, ngá»«ng viá»‡c Ä‘á»‹nh tuyáº¿n traffic tá»›i cÃ¡c Pod liÃªn quan
			- ThÆ°á»ng dÃ¹ng khi:
			  + KhÃ´ng cÃ²n cáº§n Service ná»¯a
			  + Thay Ä‘á»•i cáº¥u hÃ¬nh Service má»›i
			  + Dá»n dáº¹p namespace

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. kubectl
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh quáº£n lÃ½ Kubernetes
			- DÃ¹ng Ä‘á»ƒ thao tÃ¡c vá»›i cluster: táº¡o, xÃ³a, cáº­p nháº­t resource, xem logs, debug

			2.2. delete
			--------------------------------------------------
			- Subcommand dÃ¹ng Ä‘á»ƒ xÃ³a resource
			- CÃ³ thá»ƒ xÃ³a nhiá»u loáº¡i resource: pod, svc, deployment, configmap, v.v.

			2.3. svc
			--------------------------------------------------
			- Viáº¿t táº¯t cá»§a "service"
			- Chá»‰ Ä‘á»‹nh loáº¡i resource cáº§n xÃ³a lÃ  Service

			2.4. helloworld-services
			--------------------------------------------------
			- TÃªn cá»§a Service cáº§n xÃ³a
			- Service pháº£i tá»“n táº¡i trong namespace hiá»‡n táº¡i hoáº·c dÃ¹ng `-n <namespace>` Ä‘á»ƒ chá»‰ Ä‘á»‹nh namespace khÃ¡c

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Kubectl gá»­i yÃªu cáº§u xÃ³a Service tá»›i Kubernetes API server
			2. API server xÃ¡c Ä‘á»‹nh Service `helloworld-services` trong namespace hiá»‡n táº¡i
			3. Service bá»‹ xÃ³a:
			   - Endpoints khÃ´ng cÃ²n route traffic tá»›i Pod
			   - DNS ná»™i bá»™ liÃªn quan tá»›i Service sáº½ bá»‹ xoÃ¡
			4. Tráº£ vá» thÃ´ng bÃ¡o thÃ nh cÃ´ng hoáº·c lá»—i náº¿u Service khÃ´ng tá»“n táº¡i

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			VÃ­ dá»¥ khi cháº¡y lá»‡nh:

			service "helloworld-services" deleted

			Giáº£i thÃ­ch:
			- XÃ¡c nháº­n Service Ä‘Ã£ bá»‹ xÃ³a
			- CÃ¡c Pod váº«n tá»“n táº¡i nhÆ°ng khÃ´ng cÃ²n Ä‘Æ°á»£c Service Ä‘á»‹nh tuyáº¿n

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- XÃ³a Service trong namespace khÃ¡c:
			kubectl delete svc helloworld-services -n <namespace>

			- XÃ³a nhiá»u Service cÃ¹ng lÃºc:
			kubectl delete svc svc1 svc2 svc3

			- XÃ³a báº±ng label selector:
			kubectl delete svc -l app=helloworld

			- XÃ³a cÃ¹ng vá»›i resource khÃ¡c:
			kubectl delete -f helloworld.yaml

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Dá»n dáº¹p resource khÃ´ng cáº§n thiáº¿t
			- Chuáº©n bá»‹ triá»ƒn khai Service má»›i hoáº·c khÃ¡c cáº¥u hÃ¬nh
			- NgÄƒn cháº·n traffic khÃ´ng mong muá»‘n tá»›i Pod
			- Quáº£n lÃ½ namespace sáº¡ch sáº½ vÃ  gá»n gÃ ng

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. Error from server (NotFound)
			--------------------------------------------------
			- Service khÃ´ng tá»“n táº¡i trong namespace hiá»‡n táº¡i
			- Kiá»ƒm tra tÃªn Service vÃ  namespace

			7.2. Permission denied
			--------------------------------------------------
			- User hiá»‡n táº¡i khÃ´ng cÃ³ quyá»n xÃ³a Service
			- Kiá»ƒm tra RBAC vÃ  kubeconfig

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- XÃ³a Service khÃ´ng xÃ³a Pod
			- XÃ³a Service lÃ m máº¥t káº¿t ná»‘i tá»›i Pod tá»« bÃªn ngoÃ i cluster
			- Kiá»ƒm tra traffic trÆ°á»›c khi xÃ³a Service quan trá»ng

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			kubectl delete svc helloworld-services

			= XÃ³a Service helloworld-services trong Kubernetes
			= Ngá»«ng Ä‘á»‹nh tuyáº¿n traffic tá»›i Pod liÃªn quan
			= Dá»n dáº¹p hoáº·c chuáº©n bá»‹ triá»ƒn khai cáº¥u hÃ¬nh má»›i
			= Kiá»ƒm tra namespace vÃ  quyá»n trÆ°á»›c khi xÃ³a
		
		
		- cmd: kubectl get rs
		
			Lá»†NH: kubectl get rs
			====================

			1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
			-------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Liá»‡t kÃª táº¥t cáº£ cÃ¡c ReplicaSet (rs) trong namespace hiá»‡n táº¡i
			- Kiá»ƒm tra tráº¡ng thÃ¡i, sá»‘ lÆ°á»£ng Pod hiá»‡n cÃ³ vÃ  sá»‘ lÆ°á»£ng Pod mong muá»‘n cá»§a tá»«ng ReplicaSet
			- Há»¯u Ã­ch Ä‘á»ƒ giÃ¡m sÃ¡t tá»± Ä‘á»™ng scaling vÃ  quáº£n lÃ½ Pods trong Kubernetes


			2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
			------------------------------------

			2.1. kubectl
			-----------
			- CLI chÃ­nh thá»©c cá»§a Kubernetes
			- DÃ¹ng Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vÃ  quáº£n lÃ½ cluster


			2.2. get
			--------
			- Sub-command cá»§a kubectl
			- Láº¥y thÃ´ng tin cÃ¡c resource trong Kubernetes
			- Output máº·c Ä‘á»‹nh: báº£ng vá»›i cÃ¡c cá»™t cÆ¡ báº£n


			2.3. rs
			-------
			- Viáº¿t táº¯t cá»§a ReplicaSet
			- ReplicaSet lÃ  resource quáº£n lÃ½ sá»‘ lÆ°á»£ng Pod cÃ¹ng loáº¡i
			- Äáº£m báº£o sá»‘ Pod Ä‘Æ°á»£c cháº¡y Ä‘Ãºng nhÆ° mong muá»‘n
			- ThÃ´ng tin quan trá»ng:
			  + NAME          : tÃªn ReplicaSet
			  + DESIRED       : sá»‘ Pod mong muá»‘n
			  + CURRENT       : sá»‘ Pod Ä‘ang cháº¡y
			  + READY         : sá»‘ Pod sáºµn sÃ ng
			  + AGE           : thá»i gian tá»“n táº¡i ReplicaSet


			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			---------------------------------
			Khi cháº¡y:
			kubectl get rs

			Kubectl sáº½:
			1. Káº¿t ná»‘i tá»›i API server
			2. Láº¥y danh sÃ¡ch ReplicaSet trong namespace hiá»‡n táº¡i
			3. Tráº£ vá» báº£ng hiá»ƒn thá»‹ thÃ´ng tin cÆ¡ báº£n cá»§a tá»«ng ReplicaSet


			4. Káº¾T QUáº¢ MáºªU
			---------------
			VÃ­ dá»¥ output:

			NAME                   DESIRED   CURRENT   READY   AGE
			nginx-deployment-5d4f 3         3         3       2d
			webapp-deployment-8f7a 2         2         2       1d

			Giáº£i thÃ­ch cÃ¡c cá»™t:
			- NAME     : tÃªn ReplicaSet (thÆ°á»ng Ä‘Æ°á»£c táº¡o tá»« Deployment)
			- DESIRED  : sá»‘ Pod mong muá»‘n
			- CURRENT  : sá»‘ Pod Ä‘ang cháº¡y
			- READY    : sá»‘ Pod sáºµn sÃ ng
			- AGE      : thá»i gian ReplicaSet tá»“n táº¡i


			5. CÃC BIáº¾N THá»‚ HAY DÃ™NG
			-----------------------
			- Xem ReplicaSet trong táº¥t cáº£ namespace:
			  kubectl get rs --all-namespaces

			- Output chi tiáº¿t:
			  kubectl get rs -o yaml

			- Xem event hoáº·c describe ReplicaSet:
			  kubectl describe rs <replicaset-name>


			6. Lá»¢I ÃCH KHI DÃ™NG Lá»†NH NÃ€Y
			----------------------------
			- GiÃ¡m sÃ¡t sá»‘ lÆ°á»£ng Pod vÃ  scaling tá»± Ä‘á»™ng
			- Kiá»ƒm tra tráº¡ng thÃ¡i Pods Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi ReplicaSet
			- Debug cÃ¡c váº¥n Ä‘á» liÃªn quan Ä‘áº¿n Pods khÃ´ng Ä‘Æ°á»£c táº¡o hoáº·c khÃ´ng sáºµn sÃ ng


			7. Lá»–I THÆ¯á»œNG Gáº¶P
			-----------------
			- Namespace khÃ´ng cÃ³ ReplicaSet:
			  => Output sáº½ rá»—ng
			- ReplicaSet khÃ´ng táº¡o Ä‘Æ°á»£c Pod:
			  => Kiá»ƒm tra kubectl describe rs <name> Ä‘á»ƒ xem lÃ½ do


			8. TÃ“M Táº®T NGáº®N Gá»ŒN
			-------------------
			kubectl    : CLI Kubernetes
			get        : láº¥y thÃ´ng tin resource
			rs         : loáº¡i resource ReplicaSet
			Káº¿t quáº£    : báº£ng liá»‡t kÃª NAME, DESIRED, CURRENT, READY, AGE cá»§a cÃ¡c ReplicaSet
		
		
		- cmd: kubectl delete pod frontend-z2qch frontend-zr67k
		
			Lá»†NH: kubectl delete pod frontend-z2qch frontend-zr67k
			====================================================================

			1. kubectl lÃ  gÃ¬?
			--------------------------------------------------------------------
			- kubectl lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster
			- DÃ¹ng Ä‘á»ƒ:
			  + Táº¡o, cáº­p nháº­t, xÃ³a resource (Pod, Deployment, Serviceâ€¦)
			  + Kiá»ƒm tra tráº¡ng thÃ¡i cluster vÃ  cÃ¡c resource
			- Giao tiáº¿p trá»±c tiáº¿p vá»›i API server cá»§a Kubernetes

			--------------------------------------------------------------------

			2. pod lÃ  gÃ¬?
			--------------------------------------------------------------------
			- Pod lÃ  Ä‘Æ¡n vá»‹ cÆ¡ báº£n trong Kubernetes
			- Chá»©a 1 hoáº·c nhiá»u container cháº¡y cÃ¹ng nhau trÃªn cÃ¹ng node
			- Pod Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi cÃ¡c controller (Deployment, StatefulSetâ€¦)
			- Pod cÃ³ lifecycle ngáº¯n, cÃ³ thá»ƒ bá»‹ xÃ³a vÃ  recreate bá»Ÿi Deployment

			--------------------------------------------------------------------

			3. delete pod lÃ  gÃ¬?
			--------------------------------------------------------------------
			- delete pod = xÃ³a má»™t hoáº·c nhiá»u Pod khá»i cluster
			- Khi xÃ³a Pod:
			  + Pod dá»«ng cháº¡y
			  + Náº¿u Pod thuá»™c Deployment/ReplicaSet â†’ Pod má»›i sáº½ Ä‘Æ°á»£c táº¡o láº¡i tá»± Ä‘á»™ng
			- DÃ¹ng Ä‘á»ƒ:
			  + Dá»«ng Pod gáº·p lá»—i
			  + Thay tháº¿ Pod báº±ng phiÃªn báº£n má»›i

			--------------------------------------------------------------------

			4. frontend-z2qch frontend-zr67k lÃ  gÃ¬?
			--------------------------------------------------------------------
			- TÃªn cÃ¡c Pod muá»‘n xÃ³a
			- CÃ³ thá»ƒ xÃ³a nhiá»u Pod cÃ¹ng lÃºc báº±ng cÃ¡ch liá»‡t kÃª tÃªn

			--------------------------------------------------------------------

			5. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			kubectl delete pod frontend-z2qch frontend-zr67k

			â†’ XÃ³a cÃ¡c Pod frontend-z2qch vÃ  frontend-zr67k khá»i cluster
			â†’ Pod sáº½ dá»«ng cháº¡y vÃ  Ä‘Æ°á»£c loáº¡i bá»
			â†’ Náº¿u Pod thuá»™c Deployment â†’ Deployment sáº½ tá»± táº¡o Pod má»›i Ä‘á»ƒ Ä‘áº£m báº£o sá»‘ replica

			--------------------------------------------------------------------

			6. Quy trÃ¬nh thá»±c thi lá»‡nh
			--------------------------------------------------------------------
			1) kubectl gá»­i request DELETE tá»›i API server
			2) API server xÃ¡c nháº­n Pod tá»“n táº¡i
			3) API server xÃ³a Pod khá»i etcd vÃ  node
			4) Pod chuyá»ƒn tráº¡ng thÃ¡i Terminating vÃ  sau Ä‘Ã³ bá»‹ xÃ³a hoÃ n toÃ n
			5) Náº¿u Pod thuá»™c ReplicaSet/Deployment â†’ controller táº¡o Pod má»›i

			--------------------------------------------------------------------

			7. Kiá»ƒm tra sau khi xÃ³a
			--------------------------------------------------------------------
			- Xem danh sÃ¡ch Pod:
			kubectl get pods

			- Xem Pod vá»«a xÃ³a Ä‘Ã£ khÃ´ng cÃ²n:
			kubectl get pod frontend-z2qch
			kubectl get pod frontend-zr67k

			- Náº¿u Pod thuá»™c Deployment, kiá»ƒm tra sá»‘ lÆ°á»£ng Pod:
			kubectl get deployment <deployment-name>

			--------------------------------------------------------------------

			8. Output Ä‘iá»ƒn hÃ¬nh
			--------------------------------------------------------------------
			pod "frontend-z2qch" deleted
			pod "frontend-zr67k" deleted

			- ThÃ´ng bÃ¡o Pod Ä‘Ã£ Ä‘Æ°á»£c xÃ³a thÃ nh cÃ´ng

			--------------------------------------------------------------------

			9. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) pod not found
			- Pod khÃ´ng tá»“n táº¡i
			- Kiá»ƒm tra chÃ­nh xÃ¡c tÃªn Pod

			2) Permission denied
			- ChÆ°a Ä‘á»§ quyá»n xÃ³a Pod
			- Cáº§n role phÃ¹ há»£p hoáº·c quyá»n cluster-admin

			--------------------------------------------------------------------

			10. Khi nÃ o nÃªn dÃ¹ng lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- XÃ³a Pod gáº·p sá»± cá»‘ hoáº·c lá»—i
			- TÃ¡i táº¡o Pod má»›i tá»« Deployment
			- Giáº£i phÃ³ng tÃ i nguyÃªn táº¡m thá»i

			--------------------------------------------------------------------

			11. So sÃ¡nh nhanh
			--------------------------------------------------------------------
			kubectl delete pod <pod-name> â†’ xÃ³a Pod Ä‘Æ¡n láº» hoáº·c nhiá»u Pod
			kubectl delete deployment <deployment-name> â†’ xÃ³a Deployment vÃ  táº¥t cáº£ Pod
			kubectl scale deployment <deployment-name> --replicas=0 â†’ táº¡m thá»i dá»«ng táº¥t cáº£ Pod

			--------------------------------------------------------------------

			12. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			kubectl delete pod frontend-z2qch frontend-zr67k =
			XÃ“A CÃC POD frontend-z2qch VÃ€ frontend-zr67k KHá»I CLUSTER; Náº¾U THUá»˜C DEPLOYMENT â†’ POD Má»šI Sáº¼ Tá»° Táº O
		
		
		- cmd: kubectl scale --replicas=1 rs/frontend
		
			# Lá»‡nh gá»‘c:
			kubectl scale --replicas=1 rs/frontend

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. kubectl
			# - `kubectl` lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster.
			# - DÃ¹ng Ä‘á»ƒ thao tÃ¡c vá»›i cÃ¡c resource nhÆ° pods, deployments, services, replica sets,...

			# 2. scale
			# - Lá»‡nh `scale` dÃ¹ng Ä‘á»ƒ thay Ä‘á»•i sá»‘ lÆ°á»£ng báº£n sao (replicas) cá»§a má»™t resource.
			# - ThÆ°á»ng dÃ¹ng vá»›i:
			#   + Deployment
			#   + ReplicaSet (rs)
			#   + StatefulSet
			# - Má»¥c Ä‘Ã­ch lÃ  kiá»ƒm soÃ¡t sá»‘ pod cháº¡y cÃ¹ng lÃºc.

			# 3. --replicas=1
			# - TÃ¹y chá»n `--replicas` chá»‰ Ä‘á»‹nh sá»‘ lÆ°á»£ng báº£n sao mong muá»‘n.
			# - Trong vÃ­ dá»¥ nÃ y:
			#   + Chá»‰ cháº¡y 1 Pod cá»§a resource Ä‘Æ°á»£c scale.
			#   + Kubernetes sáº½ táº¡o hoáº·c xÃ³a Pod Ä‘á»ƒ Ä‘áº¡t sá»‘ lÆ°á»£ng chá»‰ Ä‘á»‹nh.

			# 4. rs/frontend
			# - `rs` lÃ  viáº¿t táº¯t cá»§a ReplicaSet.
			# - `frontend` lÃ  tÃªn ReplicaSet cáº§n scale.
			# - ReplicaSet Ä‘áº£m báº£o sá»‘ lÆ°á»£ng Pod cháº¡y theo mong muá»‘n, tá»± Ä‘á»™ng táº¡o Pod má»›i náº¿u Pod cÅ© cháº¿t.

			# 5. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Khi cháº¡y lá»‡nh `kubectl scale --replicas=1 rs/frontend`, Kubernetes sáº½:
			#   1. Kiá»ƒm tra ReplicaSet `frontend`.
			#   2. Äiá»u chá»‰nh sá»‘ lÆ°á»£ng Pod hiá»‡n táº¡i Ä‘á»ƒ báº±ng 1:
			#      + Náº¿u cÃ³ nhiá»u Pod hÆ¡n, sáº½ xÃ³a bá»›t Pod.
			#      + Náº¿u cÃ³ Ã­t Pod hÆ¡n, sáº½ táº¡o thÃªm Pod má»›i.
			#   3. Cáº­p nháº­t tráº¡ng thÃ¡i cá»§a ReplicaSet vÃ  Pod.

			# 6. VÃ­ dá»¥ káº¿t quáº£:
			# replicaset.apps/frontend scaled

			# 7. Kiá»ƒm tra tráº¡ng thÃ¡i sau khi scale:
			# - kubectl get rs
			#   + Xem sá»‘ báº£n sao hiá»‡n táº¡i cá»§a ReplicaSet.
			# - kubectl get pod
			#   + Kiá»ƒm tra Pod Ä‘ang cháº¡y trong cluster.

			# 8. LÆ°u Ã½ quan trá»ng:
			# - Lá»‡nh nÃ y trá»±c tiáº¿p thay Ä‘á»•i sá»‘ Pod mÃ  ReplicaSet quáº£n lÃ½.
			# - Náº¿u ReplicaSet thuá»™c má»™t Deployment, scale trá»±c tiáº¿p trÃªn Deployment sáº½ dá»… quáº£n lÃ½ hÆ¡n:
			#   kubectl scale --replicas=1 deploy/frontend
			# - Thay Ä‘á»•i replicas sáº½ tÃ¡c Ä‘á»™ng ngay tá»›i viá»‡c táº¡o/xÃ³a Pod vÃ  sá»­ dá»¥ng tÃ i nguyÃªn cluster.

			# 9. CÃ¡c lá»‡nh liÃªn quan:
			# - kubectl describe rs/frontend
			#   + Xem chi tiáº¿t ReplicaSet.
			# - kubectl get deploy
			#   + Kiá»ƒm tra Deployment náº¿u ReplicaSet thuá»™c Deployment.
			# - kubectl scale deploy/frontend --replicas=3
			#   + Scale Deployment thay vÃ¬ ReplicaSet trá»±c tiáº¿p.

			# Káº¿t luáº­n:
			# Lá»‡nh `kubectl scale --replicas=1 rs/frontend` dÃ¹ng Ä‘á»ƒ Ä‘iá»u chá»‰nh sá»‘ lÆ°á»£ng Pod
			# trong ReplicaSet `frontend` xuá»‘ng 1, giÃºp kiá»ƒm soÃ¡t tÃ i nguyÃªn vÃ  triá»ƒn khai linh hoáº¡t trong Kubernetes.
		
		
		- cmd: kubectl edit rs frontend
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			kubectl edit rs frontend
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ chá»‰nh sá»­a trá»±c tiáº¿p má»™t ReplicaSet trong Kubernetes cluster.

			- `rs` lÃ  viáº¿t táº¯t cá»§a `replicaset`.
			- `frontend` lÃ  tÃªn cá»§a ReplicaSet mÃ  báº¡n muá»‘n chá»‰nh sá»­a.
			- Khi cháº¡y lá»‡nh, Kubernetes sáº½ má»Ÿ file cáº¥u hÃ¬nh resource trong editor (máº·c Ä‘á»‹nh lÃ  `vi` hoáº·c editor Ä‘Æ°á»£c cáº¥u hÃ¬nh qua `$EDITOR`).
			- Thay Ä‘á»•i Ä‘Æ°á»£c lÆ°u láº¡i sáº½ tá»± Ä‘á»™ng cáº­p nháº­t ReplicaSet trong cluster.

			Má»¥c Ä‘Ã­ch:
			- Sá»­a trá»±c tiáº¿p sá»‘ lÆ°á»£ng replica, image, hoáº·c labels cá»§a ReplicaSet.
			- Debug hoáº·c thay Ä‘á»•i nhanh cáº¥u hÃ¬nh mÃ  khÃ´ng cáº§n apply file YAML riÃªng.
			- Quáº£n lÃ½ rollout mÃ  khÃ´ng pháº£i xÃ³a vÃ  táº¡o láº¡i ReplicaSet.

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. kubectl
			--------------------------------------------------
			- CLI cá»§a Kubernetes dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ cluster.
			- Thá»±c hiá»‡n cÃ¡c thao tÃ¡c: get, describe, apply, delete, edit...

			2.2. edit
			--------------------------------------------------
			- Subcommand cho phÃ©p chá»‰nh sá»­a trá»±c tiáº¿p resource trong cluster.
			- Má»Ÿ resource hiá»‡n táº¡i ra editor, lÆ°u vÃ  tá»± Ä‘á»™ng apply sau khi chá»‰nh sá»­a.
			- Há»¯u Ã­ch Ä‘á»ƒ thay Ä‘á»•i nhanh mÃ  khÃ´ng cáº§n file YAML tÃ¡ch biá»‡t.

			2.3. rs
			--------------------------------------------------
			- Viáº¿t táº¯t cá»§a ReplicaSet.
			- ReplicaSet quáº£n lÃ½ sá»‘ lÆ°á»£ng Pod cháº¡y dá»±a trÃªn selector.
			- Äáº£m báº£o sá»‘ lÆ°á»£ng Pod phÃ¹ há»£p vá»›i `replicas` Ä‘Ã£ Ä‘á»‹nh nghÄ©a.

			2.4. frontend
			--------------------------------------------------
			- TÃªn ReplicaSet muá»‘n chá»‰nh sá»­a.
			- Lá»‡nh sáº½ tÃ¬m ReplicaSet vá»›i tÃªn nÃ y trong namespace hiá»‡n táº¡i (máº·c Ä‘á»‹nh `default`).

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			1. kubectl xÃ¡c thá»±c vá»›i cluster qua kubeconfig.
			2. TÃ¬m ReplicaSet `frontend` trong namespace hiá»‡n táº¡i.
			3. Má»Ÿ cáº¥u hÃ¬nh YAML cá»§a ReplicaSet trong editor (`vi` máº·c Ä‘á»‹nh).
			4. NgÆ°á»i dÃ¹ng chá»‰nh sá»­a:
			   - Sá»‘ lÆ°á»£ng replica
			   - Image container
			   - Labels, annotations
			   - Resource requests/limits
			5. LÆ°u vÃ  thoÃ¡t editor.
			6. Kubectl tá»± Ä‘á»™ng gá»­i thay Ä‘á»•i lÃªn API server â†’ ReplicaSet Ä‘Æ°á»£c cáº­p nháº­t.
			7. Kube-controller manager thá»±c hiá»‡n rollout Pod má»›i náº¿u cÃ³ thay Ä‘á»•i.

			--------------------------------------------------
			4. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Náº¿u ReplicaSet khÃ´ng tá»“n táº¡i:
			--------------------------------------------------
			Error from server (NotFound): replicasets.apps "frontend" not found

			- Editor máº·c Ä‘á»‹nh lÃ  `vi`; cÃ³ thá»ƒ thay Ä‘á»•i báº±ng biáº¿n mÃ´i trÆ°á»ng:
			--------------------------------------------------
			export KUBE_EDITOR=nano
			kubectl edit rs frontend

			- Chá»‰nh sá»­a trá»±c tiáº¿p cÃ³ thá»ƒ dáº«n Ä‘áº¿n lá»—i náº¿u YAML sai cÃº phÃ¡p.
			- Sá»­ dá»¥ng `kubectl get rs frontend -o yaml` Ä‘á»ƒ tham kháº£o cáº¥u hÃ¬nh trÆ°á»›c khi chá»‰nh sá»­a.

			--------------------------------------------------
			5. BIáº¾N THá»‚ HAY DÃ™NG
			--------------------------------------------------
			- Chá»‰nh sá»­a Pod template trong ReplicaSet:
			--------------------------------------------------
			kubectl edit rs frontend -n <namespace>

			- Kiá»ƒm tra sá»‘ lÆ°á»£ng replica sau khi chá»‰nh sá»­a:
			--------------------------------------------------
			kubectl get rs frontend

			- Chá»‰nh sá»­a nhiá»u resource cÃ¹ng namespace:
			--------------------------------------------------
			kubectl edit deploy frontend   â†’ Náº¿u muá»‘n chá»‰nh Deployment thay vÃ¬ ReplicaSet

			--------------------------------------------------
			6. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- Thay Ä‘á»•i nhanh ReplicaSet Ä‘ang cháº¡y mÃ  khÃ´ng cáº§n apply file YAML
			- Sá»­a sá»‘ lÆ°á»£ng replica Ä‘á»ƒ scale up/down
			- Thay Ä‘á»•i image container Ä‘á»ƒ rollout má»›i
			- Debug hoáº·c update cáº¥u hÃ¬nh Pod template trá»±c tiáº¿p

			--------------------------------------------------
			7. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			kubectl edit rs frontend
			= Chá»‰nh sá»­a trá»±c tiáº¿p ReplicaSet tÃªn frontend
			= Má»Ÿ cáº¥u hÃ¬nh YAML trong editor
			= LÆ°u thay Ä‘á»•i Ä‘á»ƒ cáº­p nháº­t ReplicaSet trong cluster
			= Thay Ä‘á»•i cÃ³ thá»ƒ lÃ  sá»‘ replica, image, labels hoáº·c resource
			= DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ rollout vÃ  scale nhanh
			==================================================
		
		
		- cmd: kubectl get deploy
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			kubectl get deploy

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Liá»‡t kÃª táº¥t cáº£ cÃ¡c Deployment trong namespace hiá»‡n táº¡i cá»§a Kubernetes cluster
			- Deployment quáº£n lÃ½ sá»‘ lÆ°á»£ng Pod replica, cáº­p nháº­t rolling update, rollback
			- GiÃºp nhanh chÃ³ng kiá»ƒm tra tráº¡ng thÃ¡i Deployment vÃ  sá»‘ lÆ°á»£ng Pod Ä‘ang cháº¡y

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. kubectl
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh quáº£n lÃ½ Kubernetes
			- Thá»±c hiá»‡n thao tÃ¡c create, apply, get, delete, describe, v.v.

			2.2. get
			--------------------------------------------------
			- Subcommand dÃ¹ng Ä‘á»ƒ láº¥y thÃ´ng tin resource
			- CÃ³ thá»ƒ dÃ¹ng vá»›i nhiá»u loáº¡i resource: pods, deployments, services, nodes

			2.3. deploy
			--------------------------------------------------
			- Viáº¿t táº¯t cá»§a "deployment"
			- Chá»‰ Ä‘á»‹nh loáº¡i resource muá»‘n láº¥y thÃ´ng tin lÃ  Deployment
			- Náº¿u muá»‘n, cÃ³ thá»ƒ thay báº±ng `deployments` Ä‘á»ƒ viáº¿t Ä‘áº§y Ä‘á»§

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Kubectl gá»­i yÃªu cáº§u tá»›i Kubernetes API server
			2. API server truy váº¥n táº¥t cáº£ Deployment trong namespace hiá»‡n táº¡i
			3. Láº¥y thÃ´ng tin cÆ¡ báº£n cá»§a má»—i Deployment:
			   - Name: tÃªn Deployment
			   - Ready: sá»‘ Pod sáºµn sÃ ng / sá»‘ Pod desired
			   - Up-to-date: sá»‘ Pod Ä‘Ã£ cáº­p nháº­t
			   - Available: sá»‘ Pod Ä‘ang cháº¡y vÃ  sáºµn sÃ ng
			   - Age: thá»i gian Deployment tá»“n táº¡i
			4. Hiá»ƒn thá»‹ thÃ´ng tin dáº¡ng báº£ng trÃªn terminal

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			NAME            READY   UP-TO-DATE   AVAILABLE   AGE
			nginx-deploy    3/3     3            3           10m
			webapp-deploy   2/2     2            2           5m

			Giáº£i thÃ­ch:
			- READY: sá»‘ Pod Ä‘ang cháº¡y/ sá»‘ Pod desired
			- UP-TO-DATE: sá»‘ Pod Ä‘Ã£ cáº­p nháº­t theo spec má»›i nháº¥t
			- AVAILABLE: sá»‘ Pod sáºµn sÃ ng phá»¥c vá»¥ traffic
			- AGE: thá»i gian Deployment tá»“n táº¡i

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- Xem Deployment trong namespace khÃ¡c:
			kubectl get deploy -n <namespace>

			- Hiá»ƒn thá»‹ chi tiáº¿t rá»™ng hÆ¡n:
			kubectl get deploy -o wide

			- Lá»c Deployment theo label:
			kubectl get deploy -l app=nginx

			- Xem output á»Ÿ Ä‘á»‹nh dáº¡ng YAML hoáº·c JSON:
			kubectl get deploy -o yaml
			kubectl get deploy -o json

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Kiá»ƒm tra tráº¡ng thÃ¡i Deployment
			- Xem sá»‘ Pod Ä‘ang cháº¡y vÃ  sáºµn sÃ ng
			- Há»— trá»£ debug khi Pod khÃ´ng start hoáº·c rollout khÃ´ng thÃ nh cÃ´ng
			- Quáº£n lÃ½ Deployment trÆ°á»›c khi apply cáº­p nháº­t

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. No resources found
			--------------------------------------------------
			- Namespace hiá»‡n táº¡i khÃ´ng cÃ³ Deployment
			- Kiá»ƒm tra namespace vá»›i `-n`

			7.2. Permission denied
			--------------------------------------------------
			- User hiá»‡n táº¡i khÃ´ng cÃ³ quyá»n xem Deployment
			- Kiá»ƒm tra RBAC vÃ  kubeconfig

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- Lá»‡nh nÃ y chá»‰ hiá»ƒn thá»‹ thÃ´ng tin cÆ¡ báº£n
			- DÃ¹ng `-o yaml` Ä‘á»ƒ xem chi tiáº¿t spec, labels, selectors, container

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			kubectl get deploy

			= Liá»‡t kÃª táº¥t cáº£ Deployment trong namespace
			= Hiá»ƒn thá»‹ sá»‘ Pod ready, up-to-date, available vÃ  age
			= DÃ¹ng Ä‘á»ƒ kiá»ƒm tra tráº¡ng thÃ¡i, debug hoáº·c giÃ¡m sÃ¡t rollout
			= CÃ³ thá»ƒ káº¿t há»£p -n, -l, -o wide/yaml/json Ä‘á»ƒ xem chi tiáº¿t hÆ¡n
		
		
		- cmd: kubectl set image deployment.v1.apps/nginx-deployment nginx=nginx:1.16.1
		
			Lá»†NH: kubectl set image deployment.v1.apps/nginx-deployment nginx=nginx:1.16.1
			=============================================================================

			1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
			-------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Cáº­p nháº­t image cá»§a container trong má»™t Deployment Kubernetes
			- Trong vÃ­ dá»¥ nÃ y:
			  + Deployment cáº§n cáº­p nháº­t: nginx-deployment
			  + Container cáº§n cáº­p nháº­t: nginx
			  + Image má»›i: nginx:1.16.1
			- ÄÃ¢y lÃ  cÃ¡ch phá»• biáº¿n Ä‘á»ƒ thá»±c hiá»‡n rolling update, thay Ä‘á»•i phiÃªn báº£n container mÃ  khÃ´ng cáº§n xÃ³a Deployment


			2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
			------------------------------------

			2.1. kubectl
			-----------
			- CLI chÃ­nh thá»©c cá»§a Kubernetes
			- DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ cluster, resource vÃ  thá»±c hiá»‡n cÃ¡c thao tÃ¡c deploy, debug, giÃ¡m sÃ¡t


			2.2. set image
			--------------
			- Sub-command cá»§a kubectl
			- DÃ¹ng Ä‘á»ƒ cáº­p nháº­t image cá»§a container trong resource (Deployment, DaemonSet, StatefulSetâ€¦)
			- CÃº phÃ¡p chung:
			  kubectl set image <resource>/<name> <container-name>=<new-image>
			- Kubernetes sáº½ thá»±c hiá»‡n rolling update: táº¡o Pod má»›i vá»›i image má»›i vÃ  xoÃ¡ Pod cÅ© dáº§n dáº§n


			2.3. deployment.v1.apps/nginx-deployment
			---------------------------------------
			- XÃ¡c Ä‘á»‹nh loáº¡i resource vÃ  tÃªn Deployment cáº§n update
			- deployment.v1.apps lÃ  API version vÃ  loáº¡i resource Deployment
			- nginx-deployment lÃ  tÃªn Deployment trong cluster


			2.4. nginx=nginx:1.16.1
			----------------------
			- XÃ¡c Ä‘á»‹nh container cáº§n cáº­p nháº­t image
			- nginx (bÃªn trÃ¡i dáº¥u "=") lÃ  tÃªn container trong Deployment
			- nginx:1.16.1 (bÃªn pháº£i "=") lÃ  image má»›i
			- Kubernetes sáº½ pull image nÃ y náº¿u node chÆ°a cÃ³ sáºµn
			- CÃ³ thá»ƒ cáº­p nháº­t nhiá»u container cÃ¹ng lÃºc:
			  kubectl set image deployment/nginx-deployment nginx=nginx:1.16.1 sidecar=sidecar:2.0


			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			---------------------------------
			Khi cháº¡y:
			kubectl set image deployment.v1.apps/nginx-deployment nginx=nginx:1.16.1

			Kubectl sáº½:
			1. Káº¿t ná»‘i tá»›i API server
			2. Cáº­p nháº­t spec.template.spec.containers[].image cá»§a Deployment
			3. Kubernetes controller táº¡o Pod má»›i vá»›i image má»›i
			4. XÃ³a dáº§n cÃ¡c Pod cÅ© theo strategy rolling update
			5. Äáº£m báº£o sá»‘ lÆ°á»£ng Pod cháº¡y luÃ´n Ä‘á»§ theo replica cá»§a Deployment
			6. Deployment chuyá»ƒn sang tráº¡ng thÃ¡i UPDATED khi táº¥t cáº£ Pod má»›i sáºµn sÃ ng


			4. KIá»‚M TRA Káº¾T QUáº¢
			-------------------
			- Xem tráº¡ng thÃ¡i rollout:
			  kubectl rollout status deployment/nginx-deployment

			- Xem Pod vÃ  image hiá»‡n táº¡i:
			  kubectl get pods -o wide
			  kubectl describe deployment nginx-deployment


			5. CÃC BIáº¾N THá»‚ HAY DÃ™NG
			-----------------------
			- Cáº­p nháº­t nhiá»u container trong cÃ¹ng Deployment:
			  kubectl set image deployment/nginx-deployment nginx=nginx:1.16.1 sidecar=sidecar:2.0

			- Rollback Deployment náº¿u update tháº¥t báº¡i:
			  kubectl rollout undo deployment/nginx-deployment


			6. Lá»¢I ÃCH KHI DÃ™NG Lá»†NH NÃ€Y
			----------------------------
			- Thay Ä‘á»•i image container mÃ  khÃ´ng cáº§n xÃ³a Deployment
			- Triá»ƒn khai rolling update, giáº£m downtime
			- Quáº£n lÃ½ version container dá»… dÃ ng vÃ  tá»± Ä‘á»™ng
			- Há»c cÃ¡ch kiá»ƒm soÃ¡t á»©ng dá»¥ng trong mÃ´i trÆ°á»ng production


			7. Lá»–I THÆ¯á»œNG Gáº¶P
			-----------------
			- Container name khÃ´ng tá»“n táº¡i:
			  => Error: container "nginx" not found in Deployment

			- Image khÃ´ng tá»“n táº¡i:
			  => Pod sáº½ CrashLoopBackOff
			  => Kiá»ƒm tra tÃªn vÃ  tag cá»§a image

			- KhÃ´ng cÃ³ quyá»n update Deployment:
			  => Kiá»ƒm tra kubeconfig vÃ  RBAC


			8. TÃ“M Táº®T NGáº®N Gá»ŒN
			-------------------
			kubectl                     : CLI Kubernetes
			set image                   : cáº­p nháº­t image container
			deployment.v1.apps/nginx-deployment : Deployment cáº§n update
			nginx=nginx:1.16.1          : container vÃ  image má»›i
			Káº¿t quáº£                     : Deployment thá»±c hiá»‡n rolling update, Pod má»›i cháº¡y image nginx:1.16.1
		
		
		- cmd: kubectl rollout undo deployment/nginx-deployment
		
			Lá»†NH: kubectl rollout undo deployment/nginx-deployment
			====================================================================

			1. kubectl lÃ  gÃ¬?
			--------------------------------------------------------------------
			- kubectl lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster
			- DÃ¹ng Ä‘á»ƒ:
			  + Táº¡o, cáº­p nháº­t, xÃ³a resource (Deployment, Pod, Serviceâ€¦)
			  + Kiá»ƒm tra tráº¡ng thÃ¡i cluster vÃ  cÃ¡c resource
			- Giao tiáº¿p trá»±c tiáº¿p vá»›i API server cá»§a Kubernetes

			--------------------------------------------------------------------

			2. deployment lÃ  gÃ¬?
			--------------------------------------------------------------------
			- Deployment lÃ  object trong Kubernetes dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ Pod
			- Äáº£m báº£o:
			  + Sá»‘ lÆ°á»£ng replica luÃ´n Ä‘Ãºng
			  + Pod cháº¡y version má»›i khi cáº­p nháº­t image
			- Há»— trá»£:
			  + Rollout (cáº­p nháº­t Pod)
			  + Rollback (quay láº¡i version trÆ°á»›c)

			--------------------------------------------------------------------

			3. rollout undo lÃ  gÃ¬?
			--------------------------------------------------------------------
			- rollout = quÃ¡ trÃ¬nh triá»ƒn khai/update Deployment
			- undo = quay láº¡i tráº¡ng thÃ¡i trÆ°á»›c Ä‘Ã³ cá»§a Deployment
			- kubectl rollout undo deployment/<deployment-name>:
			  + Quay Deployment vá» version trÆ°á»›c
			  + TÃ¡i táº¡o Pod theo phiÃªn báº£n trÆ°á»›c
			- DÃ¹ng khi rollout tháº¥t báº¡i hoáº·c gÃ¢y lá»—i á»©ng dá»¥ng

			--------------------------------------------------------------------

			4. nginx-deployment lÃ  gÃ¬?
			--------------------------------------------------------------------
			- nginx-deployment = tÃªn Deployment muá»‘n rollback
			- Deployment nÃ y pháº£i tá»“n táº¡i trong namespace hiá»‡n táº¡i (default náº¿u khÃ´ng chá»‰ Ä‘á»‹nh)

			--------------------------------------------------------------------

			5. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			kubectl rollout undo deployment/nginx-deployment

			â†’ Quay láº¡i version trÆ°á»›c cá»§a Deployment nginx-deployment
			â†’ Kubernetes tá»± Ä‘á»™ng tÃ¡i táº¡o Pod theo cáº¥u hÃ¬nh cÅ©
			â†’ GiÃºp phá»¥c há»“i á»©ng dá»¥ng vá» tráº¡ng thÃ¡i á»•n Ä‘á»‹nh

			--------------------------------------------------------------------

			6. Quy trÃ¬nh thá»±c thi lá»‡nh
			--------------------------------------------------------------------
			1) kubectl gá»­i request undo tá»›i API server
			2) API server xÃ¡c Ä‘á»‹nh Deployment nginx-deployment
			3) Kubernetes tÃ¬m revision trÆ°á»›c Ä‘Ã³ cá»§a Deployment
			4) Táº¡o Pod má»›i dá»±a trÃªn revision cÅ©
			5) XÃ³a Pod hiá»‡n táº¡i (cÃ³ thá»ƒ theo strategy rollout: RollingUpdate)
			6) Deployment trá»Ÿ vá» tráº¡ng thÃ¡i á»•n Ä‘á»‹nh trÆ°á»›c khi update

			--------------------------------------------------------------------

			7. Kiá»ƒm tra tráº¡ng thÃ¡i rollout
			--------------------------------------------------------------------
			- Xem status rollout hiá»‡n táº¡i:
			kubectl rollout status deployment/nginx-deployment

			- Xem lá»‹ch sá»­ rollout:
			kubectl rollout history deployment/nginx-deployment

			- Kiá»ƒm tra Pod sau rollback:
			kubectl get pods -l app=nginx

			--------------------------------------------------------------------

			8. Output Ä‘iá»ƒn hÃ¬nh
			--------------------------------------------------------------------
			deployment.apps/nginx-deployment rolled back

			- ThÃ´ng bÃ¡o Deployment Ä‘Ã£ Ä‘Æ°á»£c rollback thÃ nh cÃ´ng

			--------------------------------------------------------------------

			9. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) deployment not found
			- Deployment khÃ´ng tá»“n táº¡i trong namespace
			- Kiá»ƒm tra tÃªn chÃ­nh xÃ¡c

			2) no previous rollout to undo
			- Deployment chÆ°a tá»«ng Ä‘Æ°á»£c cáº­p nháº­t trÆ°á»›c Ä‘Ã³
			- KhÃ´ng cÃ³ revision cÅ© Ä‘á»ƒ rollback

			3) Permission denied
			- ChÆ°a Ä‘á»§ quyá»n
			- Cáº§n role cluster-admin hoáº·c quyá»n thÃ­ch há»£p

			--------------------------------------------------------------------

			10. Khi nÃ o nÃªn dÃ¹ng lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- Rollout tháº¥t báº¡i, Pod lá»—i
			- Image má»›i gÃ¢y lá»—i á»©ng dá»¥ng
			- Muá»‘n quay láº¡i phiÃªn báº£n á»•n Ä‘á»‹nh trÆ°á»›c Ä‘Ã³

			--------------------------------------------------------------------

			11. So sÃ¡nh nhanh
			--------------------------------------------------------------------
			kubectl rollout undo deployment/nginx-deployment â†’ rollback vá» revision trÆ°á»›c
			kubectl rollout history deployment/nginx-deployment â†’ xem lá»‹ch sá»­ rollout
			kubectl rollout status deployment/nginx-deployment â†’ xem tiáº¿n trÃ¬nh rollout/rollback

			--------------------------------------------------------------------

			12. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			kubectl rollout undo deployment/nginx-deployment =
			QUAY Láº I VERSION TRÆ¯á»šC Cá»¦A DEPLOYMENT nginx-deployment, KUBERNETES Tá»° Äá»˜NG TÃI Táº O POD THEO Cáº¤U HÃŒNH CÅ¨
		
		
		- cmd: kubectl describe pod nginx-deployment-647677fc66-62mt4 | grep Image
		
			# Lá»‡nh gá»‘c:
			kubectl describe pod nginx-deployment-647677fc66-62mt4 | grep Image

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. kubectl
			# - `kubectl` lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster.
			# - DÃ¹ng Ä‘á»ƒ thao tÃ¡c vá»›i cÃ¡c resource nhÆ° pods, deployments, services, configmaps,...

			# 2. describe pod nginx-deployment-647677fc66-62mt4
			# - `describe pod` dÃ¹ng Ä‘á»ƒ xem chi tiáº¿t thÃ´ng tin cá»§a má»™t Pod cá»¥ thá»ƒ.
			# - Pod Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh bá»Ÿi tÃªn: `nginx-deployment-647677fc66-62mt4`
			# - ThÃ´ng tin chi tiáº¿t bao gá»“m:
			#   + Metadata: tÃªn, namespace, labels, annotations
			#   + Spec: container, image, ports, volume, environment variables
			#   + Status: tráº¡ng thÃ¡i Pod, cÃ¡c container, event
			# - ÄÃ¢y lÃ  lá»‡nh cÆ¡ báº£n Ä‘á»ƒ debug vÃ  kiá»ƒm tra Pod.

			# 3. | grep Image
			# - `|` lÃ  pipe trong shell, dÃ¹ng Ä‘á»ƒ chuyá»ƒn output cá»§a lá»‡nh bÃªn trÃ¡i sang lá»‡nh bÃªn pháº£i.
			# - `grep Image` lá»c chá»‰ nhá»¯ng dÃ²ng chá»©a tá»« "Image".
			# - Má»¥c Ä‘Ã­ch:
			#   + Hiá»ƒn thá»‹ tÃªn image container Ä‘ang cháº¡y trong Pod.
			#   + Bá» cÃ¡c thÃ´ng tin khÃ¡c, giÃºp táº­p trung vÃ o container image.

			# 4. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Khi cháº¡y lá»‡nh nÃ y, há»‡ thá»‘ng sáº½:
			#   1. Láº¥y chi tiáº¿t Pod `nginx-deployment-647677fc66-62mt4`.
			#   2. Lá»c vÃ  hiá»ƒn thá»‹ cÃ¡c dÃ²ng chá»©a thÃ´ng tin image cá»§a container.
			#   3. GiÃºp xÃ¡c Ä‘á»‹nh nhanh container Ä‘ang cháº¡y image nÃ o.

			# 5. VÃ­ dá»¥ káº¿t quáº£:
			#     Image:        nginx:latest
			#     Image ID:     docker-pullable://nginx@sha256:abcdef123456...

			# 6. LÆ°u Ã½ quan trá»ng:
			# - `grep` lÃ  lá»‡nh Unix/Linux, lá»c theo keyword case-sensitive.
			# - Náº¿u muá»‘n khÃ´ng phÃ¢n biá»‡t chá»¯ hoa/chá»¯ thÆ°á»ng: grep -i Image
			# - ThÃ´ng tin Image ráº¥t quan trá»ng Ä‘á»ƒ:
			#   + XÃ¡c minh version cá»§a á»©ng dá»¥ng.
			#   + Debug khi Pod khÃ´ng cháº¡y Ä‘Ãºng container.

			# 7. CÃ¡c lá»‡nh liÃªn quan:
			# - kubectl get pod nginx-deployment-647677fc66-62mt4 -o yaml
			#   + Xem toÃ n bá»™ Pod á»Ÿ Ä‘á»‹nh dáº¡ng YAML.
			# - kubectl describe pod <pod_name>
			#   + Xem chi tiáº¿t Pod mÃ  khÃ´ng dÃ¹ng grep.
			# - kubectl get pod <pod_name> -o jsonpath='{.spec.containers[*].image}'
			#   + Láº¥y trá»±c tiáº¿p image cá»§a container.

			# Káº¿t luáº­n:
			# Lá»‡nh `kubectl describe pod nginx-deployment-647677fc66-62mt4 | grep Image`
			# dÃ¹ng Ä‘á»ƒ nhanh chÃ³ng kiá»ƒm tra image cá»§a container Ä‘ang cháº¡y trong Pod,
			# ráº¥t há»¯u Ã­ch khi debug hoáº·c xÃ¡c minh version á»©ng dá»¥ng trong Kubernetes cluster.
		
		
		- cmd: kubectl rollout history deployment/nginx-deployment
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			kubectl rollout history deployment/nginx-deployment
			==================================================

			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ xem lá»‹ch sá»­ cÃ¡c báº£n rollout (phiÃªn báº£n triá»ƒn khai) cá»§a má»™t Deployment trong Kubernetes.

			- `deployment/nginx-deployment` lÃ  Deployment mÃ  báº¡n muá»‘n xem lá»‹ch sá»­ rollout.
			- Má»¥c Ä‘Ã­ch:
			  + Xem cÃ¡c revision trÆ°á»›c Ä‘Ã³ cá»§a Deployment
			  + Kiá»ƒm tra thay Ä‘á»•i image, replica, hoáº·c cÃ¡c thÃ´ng sá»‘ khÃ¡c
			  + Há»— trá»£ debug, rollback khi cÃ³ lá»—i

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. kubectl
			--------------------------------------------------
			- CLI tool cá»§a Kubernetes Ä‘á»ƒ quáº£n lÃ½ cluster.
			- Thá»±c hiá»‡n cÃ¡c thao tÃ¡c nhÆ°: get, describe, apply, delete, rollout...

			2.2. rollout
			--------------------------------------------------
			- Subcommand dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ rollout cá»§a Deployment, DaemonSet, hoáº·c StatefulSet.
			- Bao gá»“m cÃ¡c lá»‡nh con:
			  + history
			  + undo
			  + status
			  + pause
			  + resume

			2.3. history
			--------------------------------------------------
			- Hiá»ƒn thá»‹ lá»‹ch sá»­ rollout cá»§a Deployment.
			- Má»—i báº£n rollout Ä‘Æ°á»£c Ä‘Ã¡nh sá»‘ revision.
			- Cung cáº¥p thÃ´ng tin:
			  + Revision number
			  + Image
			  + Change cause (náº¿u Ä‘Æ°á»£c ghi chÃº khi apply)

			2.4. deployment/nginx-deployment
			--------------------------------------------------
			- Chá»‰ Ä‘á»‹nh resource lÃ  Deployment tÃªn `nginx-deployment`.
			- CÃº phÃ¡p `type/name` giÃºp kubectl xÃ¡c Ä‘á»‹nh chÃ­nh xÃ¡c resource.

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			1. kubectl gá»­i request tá»›i API server.
			2. API server truy xuáº¥t Deployment `nginx-deployment`.
			3. Láº¥y cÃ¡c báº£n rollout Ä‘Ã£ lÆ°u (revision history) tá»« annotation `deployment.kubernetes.io/revision`.
			4. Hiá»ƒn thá»‹ thÃ´ng tin revision, bao gá»“m:
			   - Revision number
			   - Image
			   - Optional: change-cause (náº¿u cÃ³)

			--------------------------------------------------
			4. Ná»˜I DUNG Äáº¦U RA (VÃ Dá»¤)
			--------------------------------------------------
			REVISION  CHANGE-CAUSE
			1         kubectl apply -f nginx-deployment-v1.yaml
			2         kubectl apply -f nginx-deployment-v2.yaml
			3         kubectl set image deployment/nginx-deployment nginx=nginx:1.24

			- REVISION: sá»‘ thá»© tá»± cá»§a rollout
			- CHANGE-CAUSE: mÃ´ táº£ lÃ½ do rollout (náº¿u Ä‘Æ°á»£c ghi chÃº)

			--------------------------------------------------
			5. LÆ¯U Ã QUAN TRá»ŒNG
			--------------------------------------------------
			- Náº¿u Deployment khÃ´ng tá»“n táº¡i:
			--------------------------------------------------
			Error from server (NotFound): deployments.apps "nginx-deployment" not found

			- Lá»‹ch sá»­ rollout chá»‰ lÆ°u má»™t sá»‘ revision máº·c Ä‘á»‹nh (máº·c Ä‘á»‹nh 10). CÃ³ thá»ƒ thay Ä‘á»•i trong spec:
			--------------------------------------------------
			spec:
			  revisionHistoryLimit: 20

			- Náº¿u khÃ´ng cÃ³ change-cause, cá»™t CHANGE-CAUSE sáº½ trá»‘ng.

			--------------------------------------------------
			6. BIáº¾N THá»‚ HAY DÃ™NG
			--------------------------------------------------
			- Xem chi tiáº¿t má»™t revision cá»¥ thá»ƒ:
			--------------------------------------------------
			kubectl rollout history deployment/nginx-deployment --revision=2

			- Undo vá» má»™t revision trÆ°á»›c:
			--------------------------------------------------
			kubectl rollout undo deployment/nginx-deployment --to-revision=2

			- Kiá»ƒm tra tráº¡ng thÃ¡i rollout hiá»‡n táº¡i:
			--------------------------------------------------
			kubectl rollout status deployment/nginx-deployment

			--------------------------------------------------
			7. Má»¤C ÄÃCH Sá»¬ Dá»¤NG
			--------------------------------------------------
			- Theo dÃµi lá»‹ch sá»­ thay Ä‘á»•i cá»§a Deployment
			- Debug cÃ¡c lá»—i sau rollout má»›i
			- Há»— trá»£ rollback khi cÃ³ sá»± cá»‘
			- Quáº£n lÃ½ cÃ¡c phiÃªn báº£n triá»ƒn khai cá»§a á»©ng dá»¥ng

			--------------------------------------------------
			8. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			kubectl rollout history deployment/nginx-deployment
			= Hiá»ƒn thá»‹ lá»‹ch sá»­ rollout cá»§a Deployment
			= Liá»‡t kÃª cÃ¡c revision Ä‘Ã£ triá»ƒn khai
			= GiÃºp kiá»ƒm tra thay Ä‘á»•i image, sá»‘ lÆ°á»£ng replica, hoáº·c cÃ¡c thay Ä‘á»•i cáº¥u hÃ¬nh
			= Há»— trá»£ debug vÃ  rollback
			==================================================
		
		
		- cmd: kubectl delete deploy nginx-deployment
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			kubectl delete deploy nginx-deployment

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- XÃ³a má»™t Deployment cÃ³ tÃªn `nginx-deployment` trong Kubernetes cluster
			- Khi Deployment bá»‹ xÃ³a:
			  + Táº¥t cáº£ Pod Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi Deployment sáº½ bá»‹ xÃ³a theo
			  + CÃ¡c resource liÃªn quan nhÆ° ReplicaSet cÅ©ng bá»‹ xÃ³a
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ:
			  + Dá»n dáº¹p mÃ´i trÆ°á»ng thá»­ nghiá»‡m
			  + Triá»ƒn khai láº¡i Deployment vá»›i cáº¥u hÃ¬nh má»›i
			  + Loáº¡i bá» resource khÃ´ng cáº§n thiáº¿t

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. kubectl
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh quáº£n lÃ½ Kubernetes
			- DÃ¹ng Ä‘á»ƒ thao tÃ¡c vá»›i cluster: táº¡o, xÃ³a, cáº­p nháº­t resource, xem logs, debug

			2.2. delete
			--------------------------------------------------
			- Subcommand dÃ¹ng Ä‘á»ƒ xÃ³a resource
			- CÃ³ thá»ƒ xÃ³a nhiá»u loáº¡i resource: pod, svc, deployment, configmap, v.v.

			2.3. deploy
			--------------------------------------------------
			- Viáº¿t táº¯t cá»§a "deployment"
			- Chá»‰ Ä‘á»‹nh loáº¡i resource muá»‘n xÃ³a lÃ  Deployment

			2.4. nginx-deployment
			--------------------------------------------------
			- TÃªn Deployment cáº§n xÃ³a
			- Pháº£i tá»“n táº¡i trong namespace hiá»‡n táº¡i hoáº·c dÃ¹ng `-n <namespace>` Ä‘á»ƒ chá»‰ Ä‘á»‹nh namespace khÃ¡c

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Kubectl gá»­i yÃªu cáº§u xÃ³a Deployment tá»›i Kubernetes API server
			2. API server xÃ¡c Ä‘á»‹nh Deployment `nginx-deployment` trong namespace hiá»‡n táº¡i
			3. Deployment bá»‹ xÃ³a:
			   - ReplicaSet vÃ  Pod liÃªn quan cÅ©ng bá»‹ xÃ³a
			   - Endpoints khÃ´ng cÃ²n route traffic tá»›i Pod
			4. Tráº£ vá» thÃ´ng bÃ¡o thÃ nh cÃ´ng hoáº·c lá»—i náº¿u Deployment khÃ´ng tá»“n táº¡i

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			service "nginx-deployment" deleted

			Giáº£i thÃ­ch:
			- XÃ¡c nháº­n Deployment vÃ  cÃ¡c Pod liÃªn quan Ä‘Ã£ bá»‹ xÃ³a
			- Namespace sáº½ khÃ´ng cÃ²n resource nÃ y ná»¯a

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- XÃ³a Deployment trong namespace khÃ¡c:
			kubectl delete deploy nginx-deployment -n <namespace>

			- XÃ³a nhiá»u Deployment cÃ¹ng lÃºc:
			kubectl delete deploy deploy1 deploy2 deploy3

			- XÃ³a báº±ng label selector:
			kubectl delete deploy -l app=nginx

			- XÃ³a cÃ¹ng vá»›i cÃ¡c resource khÃ¡c trong file YAML:
			kubectl delete -f nginx-deployment.yaml

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Dá»n dáº¹p Deployment khÃ´ng cáº§n thiáº¿t
			- Chuáº©n bá»‹ triá»ƒn khai cáº¥u hÃ¬nh má»›i
			- NgÄƒn cháº·n traffic khÃ´ng mong muá»‘n tá»›i Pod
			- GiÃºp quáº£n lÃ½ cluster gá»n gÃ ng

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. Error from server (NotFound)
			--------------------------------------------------
			- Deployment khÃ´ng tá»“n táº¡i
			- Kiá»ƒm tra tÃªn Deployment vÃ  namespace

			7.2. Permission denied
			--------------------------------------------------
			- User hiá»‡n táº¡i khÃ´ng cÃ³ quyá»n xÃ³a Deployment
			- Kiá»ƒm tra RBAC vÃ  kubeconfig

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- XÃ³a Deployment sáº½ xÃ³a Pod liÃªn quan
			- Kiá»ƒm tra ká»¹ trÆ°á»›c khi xÃ³a Deployment quan trá»ng
			- Pod xÃ³a sáº½ máº¥t dá»¯ liá»‡u chÆ°a Ä‘Æ°á»£c lÆ°u vÃ o Persistent Volume

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			kubectl delete deploy nginx-deployment

			= XÃ³a Deployment nginx-deployment vÃ  cÃ¡c Pod liÃªn quan
			= Dá»n dáº¹p hoáº·c triá»ƒn khai láº¡i cáº¥u hÃ¬nh má»›i
			= Kiá»ƒm tra namespace vÃ  quyá»n trÆ°á»›c khi xÃ³a
			= DÃ¹ng thÃªm -n, -l hoáº·c -f náº¿u cáº§n xÃ³a namespace hoáº·c label khÃ¡c
		
		
		- cmd: kubectl apply -f samplecm.yaml
		
			Lá»†NH: kubectl apply -f samplecm.yaml
			====================================

			1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
			-------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Táº¡o hoáº·c cáº­p nháº­t resource trong Kubernetes tá»« file YAML
			- Trong vÃ­ dá»¥ nÃ y, file "samplecm.yaml" cÃ³ thá»ƒ chá»©a ConfigMap, Deployment, Pod, Service hoáº·c báº¥t ká»³ resource Kubernetes nÃ o
			- Kubernetes sáº½ so sÃ¡nh tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a cluster vá»›i file YAML vÃ  Ã¡p dá»¥ng cÃ¡c thay Ä‘á»•i cáº§n thiáº¿t
			- DÃ¹ng Ä‘á»ƒ triá»ƒn khai resource má»™t cÃ¡ch declarative (theo Ä‘á»‹nh nghÄ©a trong file)


			2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
			------------------------------------

			2.1. kubectl
			-----------
			- CLI chÃ­nh thá»©c cá»§a Kubernetes
			- DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ cluster, resource vÃ  thá»±c hiá»‡n cÃ¡c thao tÃ¡c deploy, debug, giÃ¡m sÃ¡t


			2.2. apply
			----------
			- Sub-command cá»§a kubectl
			- DÃ¹ng Ä‘á»ƒ táº¡o hoáº·c cáº­p nháº­t resource theo file Ä‘á»‹nh nghÄ©a
			- Äáº·c Ä‘iá»ƒm:
			  + Declarative: cluster sáº½ Ä‘Æ°á»£c Ä‘Æ°a vá» tráº¡ng thÃ¡i giá»‘ng nhÆ° file YAML
			  + KhÃ´ng cáº§n xÃ³a resource trÆ°á»›c khi cáº­p nháº­t
			- PhÃ¢n biá»‡t vá»›i "kubectl create":
			  + create: chá»‰ táº¡o má»›i, náº¿u resource Ä‘Ã£ tá»“n táº¡i sáº½ bÃ¡o lá»—i
			  + apply: táº¡o má»›i náº¿u chÆ°a tá»“n táº¡i, cáº­p nháº­t náº¿u Ä‘Ã£ tá»“n táº¡i


			2.3. -f samplecm.yaml
			---------------------
			- Chá»‰ Ä‘á»‹nh file YAML chá»©a Ä‘á»‹nh nghÄ©a resource
			- Kubernetes Ä‘á»c file vÃ  táº¡o/cáº­p nháº­t resource tÆ°Æ¡ng á»©ng
			- File cÃ³ thá»ƒ chá»©a nhiá»u resource, má»—i resource cÃ¡ch nhau báº±ng `---`


			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			---------------------------------
			Khi cháº¡y:
			kubectl apply -f samplecm.yaml

			Kubectl sáº½:
			1. Káº¿t ná»‘i tá»›i API server cá»§a cluster
			2. Äá»c ná»™i dung file samplecm.yaml
			3. XÃ¡c Ä‘á»‹nh loáº¡i resource vÃ  tÃªn resource
			4. So sÃ¡nh vá»›i tráº¡ng thÃ¡i hiá»‡n táº¡i trÃªn cluster
			5. Táº¡o resource má»›i náº¿u chÆ°a tá»“n táº¡i
			6. Cáº­p nháº­t resource náº¿u Ä‘Ã£ tá»“n táº¡i (thay Ä‘á»•i spec, metadata)
			7. Tráº£ vá» tráº¡ng thÃ¡i: created hoáº·c configured


			4. Káº¾T QUáº¢ MáºªU
			---------------
			VÃ­ dá»¥ output:

			configmap/sample-config created
			deployment.apps/nginx-deployment configured
			service/nginx-service created

			Giáº£i thÃ­ch:
			- created : resource má»›i Ä‘Æ°á»£c táº¡o
			- configured : resource Ä‘Ã£ tá»“n táº¡i, Ä‘Æ°á»£c cáº­p nháº­t theo file YAML


			5. CÃC BIáº¾N THá»‚ HAY DÃ™NG
			-----------------------
			- Ãp dá»¥ng nhiá»u file:
			  kubectl apply -f file1.yaml -f file2.yaml

			- Ãp dá»¥ng táº¥t cáº£ file trong thÆ° má»¥c:
			  kubectl apply -f ./manifests/

			- Output chi tiáº¿t:
			  kubectl apply -f samplecm.yaml -o yaml


			6. Lá»¢I ÃCH KHI DÃ™NG Lá»†NH NÃ€Y
			----------------------------
			- Triá»ƒn khai resource Kubernetes theo cÃ¡ch declarative
			- Giá»¯ cluster Ä‘á»“ng bá»™ vá»›i file YAML
			- Dá»… dÃ ng quáº£n lÃ½, version control cáº¥u hÃ¬nh
			- Há»— trá»£ automation vÃ  CI/CD


			7. Lá»–I THÆ¯á»œNG Gáº¶P
			-----------------
			- File YAML sai cÃº phÃ¡p:
			  => Error: unable to read file, check indentation

			- Resource khÃ´ng tá»“n táº¡i loáº¡i phÃ¹ há»£p:
			  => Error: unknown resource type

			- KhÃ´ng cÃ³ quyá»n apply resource:
			  => Kiá»ƒm tra kubeconfig vÃ  RBAC


			8. TÃ“M Táº®T NGáº®N Gá»ŒN
			-------------------
			kubectl           : CLI Kubernetes
			apply             : táº¡o hoáº·c cáº­p nháº­t resource theo file
			-f samplecm.yaml  : chá»‰ Ä‘á»‹nh file YAML chá»©a Ä‘á»‹nh nghÄ©a
			Káº¿t quáº£           : resource Ä‘Æ°á»£c táº¡o má»›i hoáº·c cáº­p nháº­t theo file, output hiá»ƒn thá»‹ created/configured
		
		
		- cmd: kubectl get cm game-demo -o yaml
		
			Lá»†NH: kubectl get cm game-demo -o yaml
			====================================================================

			1. kubectl lÃ  gÃ¬?
			--------------------------------------------------------------------
			- kubectl lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster.
			- DÃ¹ng Ä‘á»ƒ:
			  + Táº¡o, cáº­p nháº­t, xÃ³a resource (Pod, Deployment, Service, ConfigMapâ€¦)
			  + Kiá»ƒm tra tráº¡ng thÃ¡i cluster vÃ  cÃ¡c resource
			- Giao tiáº¿p trá»±c tiáº¿p vá»›i API server cá»§a Kubernetes.

			--------------------------------------------------------------------

			2. cm lÃ  gÃ¬?
			--------------------------------------------------------------------
			- cm = configmap
			- ConfigMap trong Kubernetes:
			  + LÆ°u trá»¯ dá»¯ liá»‡u cáº¥u hÃ¬nh dáº¡ng key-value
			  + Cho phÃ©p Pod tham chiáº¿u dá»¯ liá»‡u mÃ  khÃ´ng cáº§n rebuild container
			  + VÃ­ dá»¥: cáº¥u hÃ¬nh á»©ng dá»¥ng, biáº¿n mÃ´i trÆ°á»ng, file cáº¥u hÃ¬nh
			- kubectl get cm â†’ liá»‡t kÃª ConfigMap hoáº·c láº¥y thÃ´ng tin chi tiáº¿t

			--------------------------------------------------------------------

			3. game-demo lÃ  gÃ¬?
			--------------------------------------------------------------------
			- game-demo = tÃªn ConfigMap muá»‘n truy xuáº¥t
			- ConfigMap pháº£i tá»“n táº¡i trong namespace hiá»‡n táº¡i (default náº¿u khÃ´ng chá»‰ Ä‘á»‹nh)

			--------------------------------------------------------------------

			4. -o yaml lÃ  gÃ¬?
			--------------------------------------------------------------------
			- -o = output format
			- yaml = xuáº¥t thÃ´ng tin ConfigMap dÆ°á»›i dáº¡ng YAML
			- Cho phÃ©p xem chi tiáº¿t ná»™i dung cáº¥u hÃ¬nh, metadata, data key-value

			--------------------------------------------------------------------

			5. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			kubectl get cm game-demo -o yaml

			â†’ Láº¥y chi tiáº¿t ConfigMap game-demo
			â†’ Hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng YAML
			â†’ Bao gá»“m:
			  + apiVersion
			  + kind
			  + metadata: name, namespace, labels
			  + data: key-value cáº¥u hÃ¬nh
			  + binaryData: náº¿u cÃ³ dá»¯ liá»‡u nhá»‹ phÃ¢n

			--------------------------------------------------------------------

			6. Quy trÃ¬nh thá»±c thi lá»‡nh
			--------------------------------------------------------------------
			1) kubectl gá»­i request GET tá»›i API server cho ConfigMap game-demo
			2) API server truy váº¥n etcd vÃ  láº¥y dá»¯ liá»‡u ConfigMap
			3) API server tráº£ dá»¯ liá»‡u dÆ°á»›i dáº¡ng JSON
			4) kubectl chuyá»ƒn Ä‘á»•i JSON sang YAML vÃ  hiá»ƒn thá»‹ ra terminal

			--------------------------------------------------------------------

			7. Output Ä‘iá»ƒn hÃ¬nh
			--------------------------------------------------------------------
			apiVersion: v1
			kind: ConfigMap
			metadata:
			  name: game-demo
			  namespace: default
			data:
			  game.properties: |
				enemies=aliens
				lives=3
			  ui.properties: |
				color=blue
				resolution=1920x1080

			Giáº£i thÃ­ch:
			- metadata â†’ thÃ´ng tin vá» ConfigMap
			- data â†’ chá»©a key-value cáº¥u hÃ¬nh á»©ng dá»¥ng
			- | â†’ giá»¯ nguyÃªn Ä‘á»‹nh dáº¡ng multi-line cá»§a giÃ¡ trá»‹

			--------------------------------------------------------------------

			8. Khi nÃ o nÃªn dÃ¹ng lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- Xem ná»™i dung ConfigMap
			- Debug á»©ng dá»¥ng sá»­ dá»¥ng ConfigMap
			- Xuáº¥t cáº¥u hÃ¬nh Ä‘á»ƒ chá»‰nh sá»­a hoáº·c backup
			- Kiá»ƒm tra key-value trong namespace

			--------------------------------------------------------------------

			9. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) configmap "game-demo" not found
			- ConfigMap khÃ´ng tá»“n táº¡i trong namespace
			- Kiá»ƒm tra tÃªn chÃ­nh xÃ¡c vÃ  namespace

			2) Unable to connect to the server
			- Cluster khÃ´ng hoáº¡t Ä‘á»™ng hoáº·c kubeconfig chÆ°a cáº¥u hÃ¬nh Ä‘Ãºng

			--------------------------------------------------------------------

			10. So sÃ¡nh nhanh
			--------------------------------------------------------------------
			kubectl get cm â†’ liá»‡t kÃª táº¥t cáº£ ConfigMap
			kubectl get cm game-demo â†’ xem tÃ³m táº¯t ConfigMap
			kubectl get cm game-demo -o yaml â†’ xem chi tiáº¿t YAML
			kubectl describe cm game-demo â†’ xem chi tiáº¿t thÃ´ng tin nhÆ°ng khÃ´ng Ä‘áº§y Ä‘á»§ dá»¯ liá»‡u multi-line

			--------------------------------------------------------------------

			11. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			kubectl get cm game-demo -o yaml =
			XEM CHI TIáº¾T CONFIGMAP game-demo DÆ¯á»šI Dáº NG YAML, HIá»‚N THá»Š METADATA VÃ€ Dá»® LIá»†U KEY-VALUE
		
		
		- cmd:
		
			ubuntu@ip-172-31-36-50:~$ kubectl exec --stdin --tty configmap-demo-pod -- /bin/sh
			/ # ls /config/
			game.properties            user-interface.properties
			/ # cd /config/
			/config # cat game.properties
			enemy.types=aliens,monsters
			player.maximum-lives=5
			/config # cat user-interface.properties
			color.good=purple
			color.bad=yellow
			allow.textmode=true
			/config # echo $PLAYER_INITIAL_LIVES
			3
			/config # echo $UI_PROPERTIES_FILE_NAME
			user-interface.properties
			/config # exit
			
			# Lá»‡nh gá»‘c vÃ  cÃ¡c thao tÃ¡c:
			ubuntu@ip-172-31-36-50:~$ kubectl exec --stdin --tty configmap-demo-pod -- /bin/sh
			/config # ls /config/
			game.properties            user-interface.properties
			/config # cd /config/
			/config # cat game.properties
			enemy.types=aliens,monsters
			player.maximum-lives=5
			/config # cat user-interface.properties
			color.good=purple
			color.bad=yellow
			allow.textmode=true
			/config # echo $PLAYER_INITIAL_LIVES
			3
			/config # echo $UI_PROPERTIES_FILE_NAME
			user-interface.properties
			/config # exit

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. kubectl exec --stdin --tty configmap-demo-pod -- /bin/sh
			# - `kubectl exec`: lá»‡nh dÃ¹ng Ä‘á»ƒ thá»±c thi lá»‡nh trá»±c tiáº¿p trong má»™t Pod Ä‘ang cháº¡y.
			# - `--stdin` (-i): giá»¯ káº¿t ná»‘i STDIN má»Ÿ, cho phÃ©p nháº­p lá»‡nh trá»±c tiáº¿p.
			# - `--tty` (-t): gÃ¡n terminal áº£o Ä‘á»ƒ dá»… thao tÃ¡c nhÆ° shell thÃ´ng thÆ°á»ng.
			# - `configmap-demo-pod`: tÃªn Pod mÃ  lá»‡nh sáº½ cháº¡y bÃªn trong.
			# - `-- /bin/sh`: cháº¡y shell /bin/sh trong Pod, cho phÃ©p báº¡n tÆ°Æ¡ng tÃ¡c vá»›i Pod trá»±c tiáº¿p.

			# 2. ls /config/
			# - Liá»‡t kÃª cÃ¡c file trong thÆ° má»¥c `/config/` cá»§a Pod.
			# - Káº¿t quáº£:
			#   + game.properties
			#   + user-interface.properties
			# - ThÆ° má»¥c nÃ y thÆ°á»ng Ä‘Æ°á»£c mount tá»« ConfigMap trong Kubernetes Ä‘á»ƒ cáº¥u hÃ¬nh á»©ng dá»¥ng.

			# 3. cd /config/
			# - Di chuyá»ƒn vÃ o thÆ° má»¥c `/config/` Ä‘á»ƒ thao tÃ¡c trÃªn cÃ¡c file cáº¥u hÃ¬nh.

			# 4. cat game.properties
			# - Hiá»ƒn thá»‹ ná»™i dung file `game.properties`.
			# - Ná»™i dung:
			#   enemy.types=aliens,monsters
			#   player.maximum-lives=5
			# - ÄÃ¢y lÃ  cÃ¡c tham sá»‘ cáº¥u hÃ¬nh game Ä‘Æ°á»£c cung cáº¥p qua ConfigMap.

			# 5. cat user-interface.properties
			# - Hiá»ƒn thá»‹ ná»™i dung file `user-interface.properties`.
			# - Ná»™i dung:
			#   color.good=purple
			#   color.bad=yellow
			#   allow.textmode=true
			# - ÄÃ¢y lÃ  cÃ¡c tham sá»‘ giao diá»‡n ngÆ°á»i dÃ¹ng.

			# 6. echo $PLAYER_INITIAL_LIVES
			# - Kiá»ƒm tra giÃ¡ trá»‹ biáº¿n mÃ´i trÆ°á»ng `PLAYER_INITIAL_LIVES` trong Pod.
			# - Káº¿t quáº£: 3
			# - Biáº¿n mÃ´i trÆ°á»ng nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c khá»Ÿi táº¡o tá»« ConfigMap hoáº·c Deployment manifest.

			# 7. echo $UI_PROPERTIES_FILE_NAME
			# - Kiá»ƒm tra giÃ¡ trá»‹ biáº¿n mÃ´i trÆ°á»ng `UI_PROPERTIES_FILE_NAME`.
			# - Káº¿t quáº£: user-interface.properties
			# - Biáº¿n nÃ y Ä‘á»‹nh nghÄ©a tÃªn file cáº¥u hÃ¬nh UI mÃ  á»©ng dá»¥ng sáº½ sá»­ dá»¥ng.

			# 8. exit
			# - ThoÃ¡t khá»i shell cá»§a Pod vÃ  trá»Ÿ vá» terminal mÃ¡y local.

			# 9. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - ToÃ n bá»™ thao tÃ¡c trÃªn dÃ¹ng Ä‘á»ƒ:
			#   + Truy cáº­p trá»±c tiáº¿p vÃ o Pod.
			#   + Kiá»ƒm tra file cáº¥u hÃ¬nh Ä‘Æ°á»£c mount tá»« ConfigMap.
			#   + Kiá»ƒm tra biáº¿n mÃ´i trÆ°á»ng Ä‘Æ°á»£c thiáº¿t láº­p cho Pod.
			# - ÄÃ¢y lÃ  phÆ°Æ¡ng phÃ¡p debug phá»• biáº¿n trong Kubernetes Ä‘á»ƒ xÃ¡c minh ConfigMap vÃ  env vars hoáº¡t Ä‘á»™ng Ä‘Ãºng.

			# 10. LÆ°u Ã½ quan trá»ng:
			# - Thao tÃ¡c nÃ y chá»‰ thay Ä‘á»•i trong Pod hiá»‡n táº¡i, khÃ´ng áº£nh hÆ°á»Ÿng ConfigMap gá»‘c.
			# - Äá»ƒ thay Ä‘á»•i cáº¥u hÃ¬nh lÃ¢u dÃ i, cáº§n chá»‰nh sá»­a ConfigMap vÃ  redeploy Pod.
			# - CÃ¡c biáº¿n mÃ´i trÆ°á»ng Ä‘Æ°á»£c khai bÃ¡o trong Deployment hoáº·c Pod spec.

			# Káº¿t luáº­n:
			# CÃ¡c lá»‡nh trÃªn minh há»a cÃ¡ch kiá»ƒm tra ConfigMap vÃ  biáº¿n mÃ´i trÆ°á»ng trong Pod,
			# cho phÃ©p debug vÃ  xÃ¡c minh á»©ng dá»¥ng Kubernetes Ä‘ang sá»­ dá»¥ng cáº¥u hÃ¬nh Ä‘Ãºng.
		
		
		
		- cmd: echo -n "admin" | base64
		
			# Lá»‡nh: MÃ£ hÃ³a chuá»—i "admin" sang Base64
			echo -n "admin" | base64

			# Giáº£i thÃ­ch chi tiáº¿t:
			# 1. echo -n "admin"
			#    - echo: in ra chuá»—i "admin"
			#    - -n: khÃ´ng thÃªm kÃ½ tá»± xuá»‘ng dÃ²ng (\n) á»Ÿ cuá»‘i
			# 2. | (pipe)
			#    - chuyá»n káº¿t quáº£ cá»§a lá»‡nh echo sang lá»‡nh base64
			# 3. base64
			#    - mÃ£ hÃ³a chuá»—i nháº­n Ä‘Æ°á»£c sang Ä‘á»‹nh dáº¡ng Base64

			# VÃ­ dá»¥ thá»±c táº¿:
			# Chuá»—i "admin" sáº½ Ä‘Æ°á»£c mÃ£ hÃ³a thÃ nh:
			YWRtaW4=
					
					
					- cmd: echo -n "mysecretpass" | base64
					
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			echo -n "mysecretpass" | base64

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- MÃ£ hÃ³a chuá»—i "mysecretpass" thÃ nh Ä‘á»‹nh dáº¡ng Base64
			- Base64 thÆ°á»ng dÃ¹ng Ä‘á»ƒ:
			  + Truyá»n dá»¯ liá»‡u nhá»‹ phÃ¢n qua kÃªnh chá»‰ cháº¥p nháº­n vÄƒn báº£n (text)
			  + LÆ°u máº­t kháº©u, token hoáº·c dá»¯ liá»‡u nháº¡y cáº£m trong YAML, JSON
			  + Sá»­ dá»¥ng trong Kubernetes secrets hoáº·c cÃ¡c cáº¥u hÃ¬nh cáº§n mÃ£ hÃ³a táº¡m thá»i

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. echo -n "mysecretpass"
			--------------------------------------------------
			- `echo` dÃ¹ng Ä‘á»ƒ in ra chuá»—i kÃ½ tá»±
			- `-n` loáº¡i bá» kÃ½ tá»± xuá»‘ng dÃ²ng á»Ÿ cuá»‘i (newline)
			- `"mysecretpass"` lÃ  chuá»—i cáº§n mÃ£ hÃ³a

			2.2. |
			--------------------------------------------------
			- KÃ½ tá»± "pipe" chuyá»ƒn output tá»« lá»‡nh bÃªn trÃ¡i thÃ nh input cho lá»‡nh bÃªn pháº£i
			- á» Ä‘Ã¢y: output `"mysecretpass"` â†’ input cho lá»‡nh `base64`

			2.3. base64
			--------------------------------------------------
			- Lá»‡nh mÃ£ hÃ³a hoáº·c giáº£i mÃ£ dá»¯ liá»‡u Base64
			- Khi dÃ¹ng khÃ´ng cÃ³ tham sá»‘ bá»• sung: mÃ£ hÃ³a input tá»« stdin
			- Output lÃ  chuá»—i Base64 tÆ°Æ¡ng á»©ng

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. `echo -n "mysecretpass"` xuáº¥t ra chuá»—i `mysecretpass` mÃ  khÃ´ng cÃ³ newline
			2. Pipe `|` chuyá»ƒn chuá»—i nÃ y Ä‘áº¿n lá»‡nh `base64`
			3. `base64` mÃ£ hÃ³a chuá»—i nhá»‹ phÃ¢n/text sang Base64
			4. Output Ä‘Æ°á»£c in ra terminal:
			   - VÃ­ dá»¥: bXlzZWNyZXRwYXNz

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			mysecretpass â†’ mÃ£ hÃ³a Base64:

			bXlzZWNyZXRwYXNz

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- LÆ°u output vÃ o file:
			echo -n "mysecretpass" | base64 > secret.txt

			- Giáº£i mÃ£ Base64:
			echo "bXlzZWNyZXRwYXNz" | base64 --decode
			# Output: mysecretpass

			- DÃ¹ng trong Kubernetes Secret YAML:
			apiVersion: v1
			kind: Secret
			metadata:
			  name: mysecret
			type: Opaque
			data:
			  password: bXlzZWNyZXRwYXNz

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Báº£o vá»‡ dá»¯ liá»‡u nháº¡y cáº£m khi lÆ°u trá»¯ hoáº·c truyá»n táº£i
			- Chuáº©n hÃ³a dá»¯ liá»‡u text-only cho cÃ¡c há»‡ thá»‘ng yÃªu cáº§u Base64
			- Dá»… dÃ ng tÃ­ch há»£p vÃ o scripts hoáº·c YAML configs

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------
			- QuÃªn `-n` trong echo â†’ sáº½ thÃªm newline vÃ o cuá»‘i, káº¿t quáº£ Base64 thay Ä‘á»•i
			- Nháº§m láº«n input â†’ chuá»—i Base64 khÃ´ng Ä‘Ãºng

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- Base64 khÃ´ng pháº£i lÃ  mÃ£ hÃ³a báº£o máº­t máº¡nh, chá»‰ lÃ  encoding
			- KhÃ´ng dÃ¹ng Base64 Ä‘á»ƒ báº£o vá»‡ máº­t kháº©u quan trá»ng mÃ  khÃ´ng thÃªm encryption

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			echo -n "mysecretpass" | base64

			= MÃ£ hÃ³a chuá»—i "mysecretpass" sang Base64
			= Output: bXlzZWNyZXRwYXNz
			= DÃ¹ng cho lÆ°u trá»¯, truyá»n táº£i dá»¯ liá»‡u text-safe
			= DÃ¹ng -n vá»›i echo Ä‘á»ƒ trÃ¡nh newline lÃ m thay Ä‘á»•i káº¿t quáº£
		
		
		- cmd: echo 'c2VjcmV0cGFzcw==' | base64 --decode
		
			Lá»†NH: echo 'c2VjcmV0cGFzcw==' | base64 --decode
			================================================

			1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
			-------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Giáº£i mÃ£ má»™t chuá»—i Ä‘Ã£ Ä‘Æ°á»£c mÃ£ hÃ³a Base64
			- Trong vÃ­ dá»¥ nÃ y, chuá»—i 'c2VjcmV0cGFzcw==' lÃ  Base64
			- Output sáº½ lÃ  chuá»—i gá»‘c trÆ°á»›c khi mÃ£ hÃ³a (plaintext)
			- ThÆ°á»ng Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ lÆ°u trá»¯ máº­t kháº©u, token hoáº·c dá»¯ liá»‡u nháº¡y cáº£m theo dáº¡ng an toÃ n vÃ  giáº£i mÃ£ khi cáº§n


			2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
			------------------------------------

			2.1. echo 'c2VjcmV0cGFzcw=='
			---------------------------
			- Lá»‡nh echo in ra chuá»—i trÃªn terminal
			- Chuá»—i 'c2VjcmV0cGFzcw==' lÃ  dá»¯ liá»‡u Base64
			- DÃ¹ng Ä‘á»ƒ Ä‘Æ°a input vÃ o lá»‡nh khÃ¡c thÃ´ng qua pipe "|"


			2.2. |
			------
			- Pipe: chuyá»ƒn output cá»§a lá»‡nh trÆ°á»›c thÃ nh input cá»§a lá»‡nh sau
			- Trong trÆ°á»ng há»£p nÃ y:
			  + Output cá»§a echo (chuá»—i Base64) Ä‘Æ°á»£c Ä‘Æ°a vÃ o lá»‡nh base64 --decode


			2.3. base64 --decode
			-------------------
			- base64: lá»‡nh trÃªn Linux dÃ¹ng Ä‘á»ƒ mÃ£ hÃ³a vÃ  giáº£i mÃ£ Base64
			- --decode: tÃ¹y chá»n giáº£i mÃ£ (decode) tá»« Base64 vá» dáº¡ng plaintext
			- Khi cháº¡y lá»‡nh nÃ y, Base64 input sáº½ Ä‘Æ°á»£c chuyá»ƒn vá» chuá»—i gá»‘c


			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			---------------------------------
			Khi cháº¡y:
			echo 'c2VjcmV0cGFzcw==' | base64 --decode

			Há»‡ thá»‘ng sáº½:
			1. echo in ra chuá»—i 'c2VjcmV0cGFzcw=='
			2. Pipe truyá»n chuá»—i nÃ y tá»›i lá»‡nh base64
			3. base64 --decode giáº£i mÃ£ chuá»—i tá»« Base64 vá» plaintext
			4. In káº¿t quáº£ ra terminal


			4. Káº¾T QUáº¢ MáºªU
			---------------
			VÃ­ dá»¥ output:

			secretpass

			Giáº£i thÃ­ch:
			- 'c2VjcmV0cGFzcw==' lÃ  Base64 cá»§a 'secretpass'
			- Sau khi decode, chuá»—i gá»‘c Ä‘Æ°á»£c hiá»ƒn thá»‹


			5. CÃC BIáº¾N THá»‚ HAY DÃ™NG
			-----------------------
			- Giáº£i mÃ£ tá»« file:
			  base64 --decode encoded.txt > decoded.txt

			- MÃ£ hÃ³a chuá»—i:
			  echo 'secretpass' | base64

			- Giáº£i mÃ£ trá»±c tiáº¿p tá»« biáº¿n:
			  VAR='c2VjcmV0cGFzcw=='
			  echo $VAR | base64 --decode


			6. Lá»¢I ÃCH KHI DÃ™NG Lá»†NH NÃ€Y
			----------------------------
			- Láº¥y láº¡i dá»¯ liá»‡u gá»‘c tá»« Base64
			- ThÆ°á»ng dÃ¹ng trong ká»‹ch báº£n, script, CI/CD
			- An toÃ n khi lÆ°u trá»¯ thÃ´ng tin nháº¡y cáº£m trong file hoáº·c biáº¿n mÃ´i trÆ°á»ng


			7. Lá»–I THÆ¯á»œNG Gáº¶P
			-----------------
			- Input khÃ´ng pháº£i Base64:
			  => base64: invalid input

			- KhÃ´ng cÃ³ lá»‡nh base64:
			  => CÃ i gÃ³i coreutils (trÃªn Linux) hoáº·c dÃ¹ng lá»‡nh tÆ°Æ¡ng tá»± trÃªn há»‡ thá»‘ng khÃ¡c


			8. TÃ“M Táº®T NGáº®N Gá»ŒN
			-------------------
			echo 'c2VjcmV0cGFzcw==' : in chuá»—i Base64
			|                       : pipe output sang lá»‡nh khÃ¡c
			base64 --decode         : giáº£i mÃ£ Base64 vá» plaintext
			Káº¿t quáº£                : secretpass (chuá»—i gá»‘c)
		
		
		- cmd: kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.1.3/deploy/static/provider/aws/deploy.yaml
		
			Lá»†NH: kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.1.3/deploy/static/provider/aws/deploy.yaml
			====================================================================

			1. kubectl lÃ  gÃ¬?
			--------------------------------------------------------------------
			- kubectl lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster.
			- DÃ¹ng Ä‘á»ƒ:
			  + Táº¡o, cáº­p nháº­t, xÃ³a resource (Pod, Deployment, Service, ConfigMapâ€¦)
			  + Kiá»ƒm tra tráº¡ng thÃ¡i cluster vÃ  cÃ¡c resource
			- Giao tiáº¿p trá»±c tiáº¿p vá»›i API server cá»§a Kubernetes.

			--------------------------------------------------------------------

			2. apply lÃ  gÃ¬?
			--------------------------------------------------------------------
			- kubectl apply = táº¡o hoáº·c cáº­p nháº­t resource dá»±a trÃªn file YAML/JSON
			- Kubernetes sáº½:
			  + Táº¡o resource náº¿u chÆ°a tá»“n táº¡i
			  + Cáº­p nháº­t resource náº¿u Ä‘Ã£ tá»“n táº¡i (dá»±a trÃªn tÃªn vÃ  kind)
			- ThÆ°á»ng dÃ¹ng cho Deployment, Service, ConfigMap, Ingress, v.v.

			--------------------------------------------------------------------

			3. -f <file-or-url> lÃ  gÃ¬?
			--------------------------------------------------------------------
			- -f = chá»‰ Ä‘á»‹nh file YAML hoáº·c JSON
			- CÃ³ thá»ƒ lÃ :
			  + File local: ./deploy.yaml
			  + URL trá»±c tuyáº¿n: https://â€¦
			- Kubernetes sáº½ táº£i file vÃ  Ã¡p dá»¥ng cáº¥u hÃ¬nh tá»« Ä‘Ã³

			--------------------------------------------------------------------

			4. URL https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.1.3/deploy/static/provider/aws/deploy.yaml lÃ  gÃ¬?
			--------------------------------------------------------------------
			- LÃ  Ä‘Æ°á»ng dáº«n trá»±c tuyáº¿n tá»›i file YAML triá»ƒn khai Ingress Controller NGINX
			- PhiÃªn báº£n controller: v1.1.3
			- Provider: AWS
			- File nÃ y bao gá»“m cÃ¡c resource cáº§n thiáº¿t Ä‘á»ƒ cÃ i Ä‘áº·t Ingress NGINX trÃªn cluster:
			  + Namespace
			  + ServiceAccount, ClusterRole, ClusterRoleBinding
			  + ConfigMap
			  + Deployment (nginx-ingress-controller)
			  + Service (LoadBalancer hoáº·c NodePort)
			  
			--------------------------------------------------------------------

			5. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			kubectl apply -f <URL-deploy.yaml>

			â†’ Táº£i file YAML tá»« URL
			â†’ Táº¡o hoáº·c cáº­p nháº­t táº¥t cáº£ resource trong file trÃªn cluster
			â†’ CÃ i Ä‘áº·t Ingress NGINX Controller trÃªn cluster Kubernetes AWS

			--------------------------------------------------------------------

			6. Quy trÃ¬nh thá»±c thi lá»‡nh
			--------------------------------------------------------------------
			1) kubectl táº£i file YAML tá»« URL
			2) PhÃ¢n tÃ­ch file YAML, nháº­n dáº¡ng cÃ¡c resource (Deployment, Service, etc.)
			3) Gá»­i request tá»›i API server Ä‘á»ƒ apply tá»«ng resource
			4) API server táº¡o hoáº·c cáº­p nháº­t resource trong cluster
			5) kubectl hiá»ƒn thá»‹ tráº¡ng thÃ¡i Ã¡p dá»¥ng:
			   - created â†’ resource má»›i
			   - configured â†’ resource Ä‘Ã£ tá»“n táº¡i vÃ  cáº­p nháº­t

			--------------------------------------------------------------------

			7. Kiá»ƒm tra tráº¡ng thÃ¡i
			--------------------------------------------------------------------
			- Xem Pod cá»§a Ingress Controller:
			kubectl get pods -n ingress-nginx

			- Xem Service:
			kubectl get svc -n ingress-nginx

			- Xem Deployment:
			kubectl get deployment -n ingress-nginx

			--------------------------------------------------------------------

			8. Output Ä‘iá»ƒn hÃ¬nh
			--------------------------------------------------------------------
			namespace/ingress-nginx created
			serviceaccount/ingress-nginx created
			clusterrole.rbac.authorization.k8s.io/ingress-nginx created
			deployment.apps/ingress-nginx-controller created
			service/ingress-nginx-controller created

			- ThÃ´ng bÃ¡o resource Ä‘Æ°á»£c táº¡o hoáº·c cáº­p nháº­t

			--------------------------------------------------------------------

			9. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) Unable to connect to the server
			- Cluster chÆ°a sáºµn sÃ ng hoáº·c kubeconfig chÆ°a Ä‘Ãºng

			2) resource already exists
			- Resource Ä‘Ã£ tá»“n táº¡i, apply sáº½ cáº­p nháº­t náº¿u cÃ³ thay Ä‘á»•i

			3) Permission denied
			- ChÆ°a Ä‘á»§ quyá»n Ä‘á»ƒ táº¡o resource (cáº§n cluster-admin)

			--------------------------------------------------------------------

			10. Khi nÃ o nÃªn dÃ¹ng lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- CÃ i Ä‘áº·t Ingress NGINX Controller trÃªn cluster Kubernetes
			- Triá»ƒn khai resource tá»« file YAML trá»±c tuyáº¿n
			- Táº¡o hoáº·c cáº­p nháº­t cÃ¡c resource cáº§n thiáº¿t trÃªn cluster

			--------------------------------------------------------------------

			11. So sÃ¡nh nhanh
			--------------------------------------------------------------------
			kubectl apply -f <file> â†’ táº¡o hoáº·c cáº­p nháº­t resource
			kubectl create -f <file> â†’ chá»‰ táº¡o resource má»›i, bÃ¡o lá»—i náº¿u tá»“n táº¡i
			kubectl delete -f <file> â†’ xÃ³a resource Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong file

			--------------------------------------------------------------------

			12. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.1.3/deploy/static/provider/aws/deploy.yaml =
			CÃ€I Äáº¶T HOáº¶C Cáº¬P NHáº¬T INGRESS NGINX CONTROLLER TRÃŠN CLUSTER KUBERNETES AWS Báº°NG CÃC RESOURCE TRONG FILE YAML TRá»°C TUYáº¾N
		
		
		- cmd: kubectl get all -n ingress-nginx
		
			# Lá»‡nh gá»‘c:
			kubectl get all -n ingress-nginx

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. kubectl
			# - `kubectl` lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster.
			# - DÃ¹ng Ä‘á»ƒ thao tÃ¡c vá»›i cÃ¡c resource nhÆ° pods, deployments, services, configmaps,...

			# 2. get all
			# - `get` dÃ¹ng Ä‘á»ƒ liá»‡t kÃª cÃ¡c resource trong Kubernetes.
			# - `all` lÃ  tá»« khÃ³a Ä‘áº·c biá»‡t, liá»‡t kÃª táº¥t cáº£ resource chÃ­nh trong namespace, bao gá»“m:
			#   + Pods
			#   + Services
			#   + Deployments
			#   + ReplicaSets
			#   + StatefulSets
			#   + DaemonSets
			# - LÆ°u Ã½: `all` khÃ´ng bao gá»“m resource nhÆ° ConfigMaps, Secrets,... trá»« khi chá»‰ Ä‘á»‹nh riÃªng.

			# 3. -n ingress-nginx
			# - `-n` (namespace) chá»‰ Ä‘á»‹nh namespace Ä‘á»ƒ láº¥y resource.
			# - `ingress-nginx` lÃ  namespace mÃ  Ingress Controller NGINX thÆ°á»ng Ä‘Æ°á»£c cÃ i Ä‘áº·t.
			# - Náº¿u khÃ´ng dÃ¹ng `-n`, máº·c Ä‘á»‹nh lá»‡nh sáº½ láº¥y resource trong namespace `default`.

			# 4. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Khi cháº¡y `kubectl get all -n ingress-nginx`, Kubernetes sáº½:
			#   1. Liá»‡t kÃª táº¥t cáº£ resource chÃ­nh trong namespace `ingress-nginx`.
			#   2. Hiá»ƒn thá»‹ thÃ´ng tin tÃ³m táº¯t gá»“m:
			#      + NAME: tÃªn resource
			#      + READY: sá»‘ pod sáºµn sÃ ng / tá»•ng sá»‘ pod
			#      + STATUS: tráº¡ng thÃ¡i hiá»‡n táº¡i (Running, Pending, CrashLoopBackOff,...)
			#      + RESTARTS: sá»‘ láº§n pod bá»‹ restart
			#      + AGE: thá»i gian resource Ä‘Æ°á»£c táº¡o
			#      + TYPE, CLUSTER-IP, EXTERNAL-IP, PORT(S) Ä‘á»‘i vá»›i service
			#   3. GiÃºp kiá»ƒm tra tá»•ng thá»ƒ tráº¡ng thÃ¡i Ingress NGINX Controller vÃ  cÃ¡c pod liÃªn quan.

			# 5. VÃ­ dá»¥ káº¿t quáº£:
			# NAME                                        READY   STATUS    RESTARTS   AGE
			# pod/ingress-nginx-controller-5d7b9f4d7-abcde   1/1     Running   0          10m
			#
			# NAME                        TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                      AGE
			# service/ingress-nginx       ClusterIP   10.96.150.200   <none>        80/TCP,443/TCP               10m
			#
			# NAME                                   READY   UP-TO-DATE   AVAILABLE   AGE
			# deployment.apps/ingress-nginx-controller 1/1     1            1           10m
			#
			# NAME                                      DESIRED   CURRENT   READY   AGE
			# replicaset.apps/ingress-nginx-controller-5d7b9f4d7 1       1         1       10m

			# 6. LÆ°u Ã½ quan trá»ng:
			# - Lá»‡nh nÃ y chá»‰ hiá»ƒn thá»‹ tÃ³m táº¯t, khÃ´ng cung cáº¥p chi tiáº¿t cáº¥u hÃ¬nh.
			# - Äá»ƒ xem chi tiáº¿t tá»«ng pod hoáº·c service, cÃ³ thá»ƒ dÃ¹ng:
			#   + kubectl describe pod <pod_name> -n ingress-nginx
			#   + kubectl describe svc <service_name> -n ingress-nginx
			# - Lá»‡nh há»¯u Ã­ch Ä‘á»ƒ kiá»ƒm tra tráº¡ng thÃ¡i Ingress Controller hoáº·c debug khi cÃ i NGINX ingress.

			# 7. CÃ¡c lá»‡nh liÃªn quan:
			# - kubectl get pods -n ingress-nginx
			#   + Chá»‰ liá»‡t kÃª pod.
			# - kubectl get svc -n ingress-nginx
			#   + Chá»‰ liá»‡t kÃª service.
			# - kubectl get deployments -n ingress-nginx
			#   + Chá»‰ liá»‡t kÃª deployment.

			# Káº¿t luáº­n:
			# Lá»‡nh `kubectl get all -n ingress-nginx` dÃ¹ng Ä‘á»ƒ liá»‡t kÃª táº¥t cáº£ resource chÃ­nh
			# trong namespace `ingress-nginx`, giÃºp giÃ¡m sÃ¡t tráº¡ng thÃ¡i Ingress NGINX Controller
			# vÃ  cÃ¡c resource liÃªn quan má»™t cÃ¡ch nhanh chÃ³ng vÃ  tá»•ng quÃ¡t.
		
		
		- cmd:
		
			ubuntu@ip-172-31-36-50:~/vprofile$ # Controller
			ubuntu@ip-172-31-36-50:~/vprofile$ # CReated DNS Cname Record for LB
			ubuntu@ip-172-31-36-50:~/vprofile$ # CReate Ingress
			
			# Context: CÃ¡c lá»‡nh trÃªn mÃ¡y Ubuntu liÃªn quan Ä‘áº¿n thiáº¿t láº­p Controller vÃ  DNS/Ingress trong mÃ´i trÆ°á»ng vprofile

			# DÃ²ng lá»‡nh:
			ubuntu@ip-172-31-36-50:~/vprofile$ # Controller
			# Giáº£i thÃ­ch:
			# - ÄÃ¢y chá»‰ lÃ  comment, nháº¯c nhá»Ÿ ráº±ng cÃ¡c lá»‡nh tiáº¿p theo liÃªn quan Ä‘áº¿n Controller (thÆ°á»ng lÃ  pháº§n Ä‘iá»u khiá»ƒn chÃ­nh cá»§a á»©ng dá»¥ng hoáº·c Kubernetes)

			ubuntu@ip-172-31-36-50:~/vprofile$ # CReated DNS Cname Record for LB
			# Giáº£i thÃ­ch:
			# - Comment nÃ y nháº¯c ráº±ng báº¡n Ä‘Ã£ táº¡o má»™t DNS CNAME Record cho Load Balancer (LB)
			# - DNS CNAME Record dÃ¹ng Ä‘á»ƒ Ã¡nh xáº¡ má»™t tÃªn miá»n phá»¥ (subdomain) tá»›i tÃªn miá»n khÃ¡c, thÆ°á»ng dÃ¹ng cho Load Balancer

			ubuntu@ip-172-31-36-50:~/vprofile$ # CReate Ingress
			# Giáº£i thÃ­ch:
			# - Comment nÃ y nháº¯c ráº±ng bÆ°á»›c tiáº¿p theo lÃ  táº¡o má»™t Ingress
			# - Ingress trong Kubernetes dÃ¹ng Ä‘á»ƒ Ä‘á»‹nh tuyáº¿n traffic tá»« bÃªn ngoÃ i vÃ o cÃ¡c service bÃªn trong cluster
			# - ÄÃ¢y váº«n lÃ  comment, chÆ°a pháº£i lá»‡nh thá»±c thi
		
		
		
		- cmd: kubectl delete ingress vpro-ingress
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			kubectl delete ingress vpro-ingress

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- XÃ³a má»™t Ingress cÃ³ tÃªn `vpro-ingress` trong Kubernetes cluster
			- Khi Ingress bá»‹ xÃ³a:
			  + Traffic tá»« bÃªn ngoÃ i cluster tá»›i cÃ¡c Service liÃªn quan sáº½ bá»‹ ngáº¯t
			  + Resource Ingress, rule, vÃ  cÃ¡c liÃªn káº¿t vá»›i Service sáº½ bá»‹ xÃ³a
			- ThÆ°á»ng dÃ¹ng khi:
			  + Dá»n dáº¹p mÃ´i trÆ°á»ng thá»­ nghiá»‡m
			  + Triá»ƒn khai Ingress má»›i hoáº·c cáº­p nháº­t cáº¥u hÃ¬nh
			  + Loáº¡i bá» rule khÃ´ng cÃ²n sá»­ dá»¥ng

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. kubectl
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh quáº£n lÃ½ Kubernetes
			- DÃ¹ng Ä‘á»ƒ thao tÃ¡c vá»›i cluster: táº¡o, xÃ³a, cáº­p nháº­t resource, xem logs, debug

			2.2. delete
			--------------------------------------------------
			- Subcommand dÃ¹ng Ä‘á»ƒ xÃ³a resource
			- CÃ³ thá»ƒ xÃ³a nhiá»u loáº¡i resource: pod, svc, deployment, ingress, configmap, v.v.

			2.3. ingress
			--------------------------------------------------
			- Chá»‰ Ä‘á»‹nh loáº¡i resource muá»‘n xÃ³a lÃ  Ingress
			- Ingress quáº£n lÃ½ cÃ¡ch traffic HTTP/HTTPS tá»« bÃªn ngoÃ i Ä‘i vÃ o cÃ¡c Service trong cluster

			2.4. vpro-ingress
			--------------------------------------------------
			- TÃªn Ingress cáº§n xÃ³a
			- Pháº£i tá»“n táº¡i trong namespace hiá»‡n táº¡i hoáº·c dÃ¹ng `-n <namespace>` Ä‘á»ƒ chá»‰ Ä‘á»‹nh namespace khÃ¡c

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			Khi cháº¡y lá»‡nh:

			1. Kubectl gá»­i yÃªu cáº§u xÃ³a Ingress tá»›i Kubernetes API server
			2. API server xÃ¡c Ä‘á»‹nh Ingress `vpro-ingress` trong namespace hiá»‡n táº¡i
			3. Ingress bá»‹ xÃ³a:
			   - CÃ¡c rule vÃ  liÃªn káº¿t vá»›i Service bá»‹ loáº¡i bá»
			   - Controller Ingress sáº½ ngá»«ng Ä‘á»‹nh tuyáº¿n traffic theo cÃ¡c rule cÅ©
			4. Tráº£ vá» thÃ´ng bÃ¡o thÃ nh cÃ´ng hoáº·c lá»—i náº¿u Ingress khÃ´ng tá»“n táº¡i

			--------------------------------------------------
			4. OUTPUT MáºªU
			--------------------------------------------------
			ingress "vpro-ingress" deleted

			Giáº£i thÃ­ch:
			- XÃ¡c nháº­n Ingress Ä‘Ã£ bá»‹ xÃ³a
			- Traffic tá»« bÃªn ngoÃ i tá»›i cÃ¡c Service qua Ingress nÃ y sáº½ ngá»«ng

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- XÃ³a Ingress trong namespace khÃ¡c:
			kubectl delete ingress vpro-ingress -n <namespace>

			- XÃ³a nhiá»u Ingress cÃ¹ng lÃºc:
			kubectl delete ingress ingress1 ingress2

			- XÃ³a báº±ng label selector:
			kubectl delete ingress -l app=vpro

			- XÃ³a cÃ¹ng vá»›i cÃ¡c resource khÃ¡c trong file YAML:
			kubectl delete -f vpro-ingress.yaml

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Dá»n dáº¹p Ingress khÃ´ng cáº§n thiáº¿t
			- Triá»ƒn khai Ingress má»›i hoáº·c thay Ä‘á»•i rule
			- NgÄƒn cháº·n traffic khÃ´ng mong muá»‘n tá»›i Service
			- Quáº£n lÃ½ namespace gá»n gÃ ng vÃ  trÃ¡nh conflict rule

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------

			7.1. Error from server (NotFound)
			--------------------------------------------------
			- Ingress khÃ´ng tá»“n táº¡i
			- Kiá»ƒm tra tÃªn Ingress vÃ  namespace

			7.2. Permission denied
			--------------------------------------------------
			- User hiá»‡n táº¡i khÃ´ng cÃ³ quyá»n xÃ³a Ingress
			- Kiá»ƒm tra RBAC vÃ  kubeconfig

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- XÃ³a Ingress sáº½ ngáº¯t káº¿t ná»‘i HTTP/HTTPS tá»›i Service
			- Kiá»ƒm tra traffic quan trá»ng trÆ°á»›c khi xÃ³a
			- Pod vÃ  Service váº«n tá»“n táº¡i nhÆ°ng khÃ´ng Ä‘Æ°á»£c Ä‘á»‹nh tuyáº¿n qua Ingress

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			kubectl delete ingress vpro-ingress

			= XÃ³a Ingress vpro-ingress trong Kubernetes
			= Ngá»«ng Ä‘á»‹nh tuyáº¿n traffic HTTP/HTTPS tá»›i cÃ¡c Service liÃªn quan
			= Dá»n dáº¹p hoáº·c triá»ƒn khai rule má»›i
			= Kiá»ƒm tra namespace vÃ  quyá»n trÆ°á»›c khi xÃ³a
		
		
		- cmd: kubectl delete -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.1.3/deploy/static/provider/aws/deploy.yaml
		
			Lá»†NH: kubectl delete -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.1.3/deploy/static/provider/aws/deploy.yaml
			==========================================================================================================================================

			1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
			-------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- XÃ³a táº¥t cáº£ cÃ¡c resource Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong file YAML tá»« URL Ä‘Ã£ cung cáº¥p
			- Trong vÃ­ dá»¥ nÃ y, file YAML lÃ  cá»§a Ingress NGINX Controller phiÃªn báº£n 1.1.3 trÃªn AWS
			- Há»¯u Ã­ch khi cáº§n gá»¡ bá» hoÃ n toÃ n Ingress Controller hoáº·c báº¥t ká»³ resource Kubernetes nÃ o Ä‘Ã£ Ä‘Æ°á»£c triá»ƒn khai tá»« YAML


			2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
			------------------------------------

			2.1. kubectl
			-----------
			- CLI chÃ­nh thá»©c cá»§a Kubernetes
			- DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ cluster vÃ  resource
			- CÃ¡c chá»©c nÄƒng: táº¡o, xÃ³a, chá»‰nh sá»­a, láº¥y thÃ´ng tin resource, debug, giÃ¡m sÃ¡t


			2.2. delete
			-----------
			- Sub-command cá»§a kubectl
			- DÃ¹ng Ä‘á»ƒ xÃ³a resource trong cluster
			- CÃ³ thá»ƒ xÃ³a:
			  + Resource cá»¥ thá»ƒ: kubectl delete pod <pod-name>
			  + Resource theo file YAML: kubectl delete -f <file.yaml>


			2.3. -f
			--------
			- Flag chá»‰ Ä‘á»‹nh file hoáº·c URL chá»©a Ä‘á»‹nh nghÄ©a resource
			- Kubernetes sáº½ Ä‘á»c táº¥t cáº£ resource trong file vÃ  xÃ³a tÆ°Æ¡ng á»©ng
			- Há»— trá»£:
			  + File local: -f ./deploy.yaml
			  + URL trá»±c tiáº¿p: -f https://raw.githubusercontent.com/... 


			2.4. https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.1.3/deploy/static/provider/aws/deploy.yaml
			-------------------------------------------------------------------------------------------------------------------
			- URL chá»©a file YAML cá»§a Ingress NGINX Controller trÃªn GitHub
			- File nÃ y Ä‘á»‹nh nghÄ©a nhiá»u resource:
			  + Namespace
			  + ServiceAccount
			  + ClusterRole / ClusterRoleBinding
			  + ConfigMap
			  + Deployment
			  + Service
			  + DaemonSet
			- Khi cháº¡y lá»‡nh delete, táº¥t cáº£ resource nÃ y sáº½ bá»‹ xÃ³a khá»i cluster


			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			---------------------------------
			Khi cháº¡y:
			kubectl delete -f <URL>

			Kubectl sáº½:
			1. Táº£i file YAML tá»« URL
			2. Äá»c danh sÃ¡ch resource trong file
			3. Káº¿t ná»‘i tá»›i API server
			4. Gá»­i lá»‡nh xÃ³a tá»«ng resource
			5. Tráº£ vá» tráº¡ng thÃ¡i tá»«ng resource Ä‘Ã£ xÃ³a thÃ nh cÃ´ng hoáº·c lá»—i


			4. Káº¾T QUáº¢ MáºªU
			---------------
			VÃ­ dá»¥ output:

			namespace/ingress-nginx deleted
			serviceaccount/ingress-nginx deleted
			clusterrole.rbac.authorization.k8s.io/ingress-nginx deleted
			deployment.apps/ingress-nginx-controller deleted
			service/ingress-nginx-controller deleted
			daemonset.apps/ingress-nginx-controller deleted

			Giáº£i thÃ­ch:
			- deleted: resource Ä‘Ã£ Ä‘Æ°á»£c xÃ³a khá»i cluster
			- Náº¿u resource khÃ´ng tá»“n táº¡i, kubectl bÃ¡o lá»—i NotFound


			5. CÃC BIáº¾N THá»‚ HAY DÃ™NG
			-----------------------
			- XÃ³a nhiá»u file local:
			  kubectl delete -f file1.yaml -f file2.yaml

			- XÃ³a táº¥t cáº£ file trong thÆ° má»¥c:
			  kubectl delete -f ./manifests/

			- XÃ³a resource theo tÃªn vÃ  loáº¡i:
			  kubectl delete deployment nginx-deployment
			  kubectl delete pod nginx12


			6. Lá»¢I ÃCH KHI DÃ™NG Lá»†NH NÃ€Y
			----------------------------
			- Gá»¡ bá» nhanh cÃ¡c resource Ä‘Ã£ triá»ƒn khai tá»« YAML
			- Quáº£n lÃ½ vÃ  dá»n dáº¹p cluster
			- ThÃ­ch há»£p khi rollback hoáº·c cÃ i Ä‘áº·t láº¡i resource
			- Tá»± Ä‘á»™ng xÃ³a toÃ n bá»™ cÃ¡c resource liÃªn quan mÃ  khÃ´ng cáº§n xÃ³a tá»«ng cÃ¡i má»™t


			7. Lá»–I THÆ¯á»œNG Gáº¶P
			-----------------
			- URL khÃ´ng tá»“n táº¡i hoáº·c khÃ´ng thá»ƒ táº£i:
			  => Error: unable to read URL

			- Resource Ä‘Ã£ bá»‹ xÃ³a trÆ°á»›c Ä‘Ã³:
			  => Error: resource "X" not found

			- KhÃ´ng cÃ³ quyá»n xÃ³a resource:
			  => Kiá»ƒm tra kubeconfig vÃ  quyá»n RBAC


			8. TÃ“M Táº®T NGáº®N Gá»ŒN
			-------------------
			kubectl           : CLI Kubernetes
			delete            : xÃ³a resource
			-f <URL>          : file YAML chá»©a resource hoáº·c URL trá»±c tiáº¿p
			Káº¿t quáº£          : táº¥t cáº£ resource trong file YAML Ä‘Æ°á»£c xÃ³a, output hiá»ƒn thá»‹ deleted
		
		
		- cmd: kubectl config view
		
			Lá»†NH: kubectl config view
			====================================================================

			1. kubectl lÃ  gÃ¬?
			--------------------------------------------------------------------
			- kubectl lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster.
			- DÃ¹ng Ä‘á»ƒ:
			  + Táº¡o, cáº­p nháº­t, xÃ³a resource (Pod, Deployment, Serviceâ€¦)
			  + Kiá»ƒm tra tráº¡ng thÃ¡i cluster vÃ  cÃ¡c resource
			- Giao tiáº¿p trá»±c tiáº¿p vá»›i API server cá»§a Kubernetes.

			--------------------------------------------------------------------

			2. config lÃ  gÃ¬?
			--------------------------------------------------------------------
			- config = cáº¥u hÃ¬nh cá»§a kubectl
			- LÆ°u thÃ´ng tin vá»:
			  + Cluster (API server URL, certificate)
			  + User (username, token, key)
			  + Context (liÃªn káº¿t user vÃ  cluster)
			- ThÆ°á»ng lÆ°u trong file kubeconfig (máº·c Ä‘á»‹nh: ~/.kube/config)

			--------------------------------------------------------------------

			3. view lÃ  gÃ¬?
			--------------------------------------------------------------------
			- view = xem toÃ n bá»™ cáº¥u hÃ¬nh kubectl
			- Hiá»ƒn thá»‹ táº¥t cáº£ cluster, user, context Ä‘Ã£ Ä‘Æ°á»£c khai bÃ¡o

			--------------------------------------------------------------------

			4. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			kubectl config view

			â†’ Hiá»ƒn thá»‹ cáº¥u hÃ¬nh hiá»‡n táº¡i mÃ  kubectl Ä‘ang dÃ¹ng
			â†’ Bao gá»“m:
			  + apiVersion
			  + clusters: thÃ´ng tin cluster (server, certificate)
			  + contexts: cÃ¡c context Ä‘Ã£ Ä‘á»‹nh nghÄ©a
			  + current-context: context Ä‘ang active
			  + users: thÃ´ng tin user Ä‘á»ƒ káº¿t ná»‘i cluster

			--------------------------------------------------------------------

			5. Quy trÃ¬nh thá»±c thi lá»‡nh
			--------------------------------------------------------------------
			1) kubectl Ä‘á»c file kubeconfig máº·c Ä‘á»‹nh (~/.kube/config) hoáº·c file Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh báº±ng --kubeconfig
			2) Thu tháº­p thÃ´ng tin clusters, contexts, users
			3) Hiá»ƒn thá»‹ ra terminal dÆ°á»›i dáº¡ng YAML (máº·c Ä‘á»‹nh)
			4) CÃ³ thá»ƒ dÃ¹ng thÃªm cÃ¡c tÃ¹y chá»n:
			   - -o json â†’ xuáº¥t cáº¥u hÃ¬nh dáº¡ng JSON
			   - --minify â†’ chá»‰ hiá»ƒn thá»‹ context hiá»‡n táº¡i

			--------------------------------------------------------------------

			6. Output Ä‘iá»ƒn hÃ¬nh
			--------------------------------------------------------------------
			apiVersion: v1
			clusters:
			- cluster:
				certificate-authority: /home/user/.kube/ca.crt
				server: https://123.45.67.89:6443
			  name: my-cluster
			contexts:
			- context:
				cluster: my-cluster
				user: admin
			  name: my-context
			current-context: my-context
			kind: Config
			preferences: {}
			users:
			- name: admin
			  user:
				client-certificate: /home/user/.kube/admin.crt
				client-key: /home/user/.kube/admin.key

			Giáº£i thÃ­ch:
			- clusters â†’ thÃ´ng tin cÃ¡c cluster Ä‘Ã£ cáº¥u hÃ¬nh
			- contexts â†’ cÃ¡c context liÃªn káº¿t cluster vÃ  user
			- current-context â†’ context Ä‘ang sá»­ dá»¥ng
			- users â†’ thÃ´ng tin user vÃ  credentials

			--------------------------------------------------------------------

			7. Khi nÃ o nÃªn dÃ¹ng lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- Kiá»ƒm tra cáº¥u hÃ¬nh kubectl hiá»‡n táº¡i
			- Xem cluster, context, user mÃ  kubectl Ä‘ang dÃ¹ng
			- Debug váº¥n Ä‘á» káº¿t ná»‘i cluster
			- Xuáº¥t cáº¥u hÃ¬nh Ä‘á»ƒ backup hoáº·c chia sáº»

			--------------------------------------------------------------------

			8. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) no configuration has been provided
			- File kubeconfig khÃ´ng tá»“n táº¡i hoáº·c khÃ´ng Ä‘Æ°á»£c khai bÃ¡o
			- Kiá»ƒm tra biáº¿n mÃ´i trÆ°á»ng KUBECONFIG

			2) Unable to connect to server
			- Cluster khÃ´ng hoáº¡t Ä‘á»™ng hoáº·c URL server sai

			--------------------------------------------------------------------

			9. So sÃ¡nh nhanh
			--------------------------------------------------------------------
			kubectl config view â†’ xem toÃ n bá»™ cáº¥u hÃ¬nh
			kubectl config current-context â†’ xem context hiá»‡n táº¡i
			kubectl config get-contexts â†’ xem táº¥t cáº£ context
			kubectl config use-context <context-name> â†’ chuyá»ƒn sang context khÃ¡c

			--------------------------------------------------------------------

			10. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			kubectl config view =
			HIá»‚N THá»Š TOÃ€N Bá»˜ Cáº¤U HÃŒNH KUBECTL HIá»†N Táº I, BAO Gá»’M CLUSTERS, USERS, CONTEXTS VÃ€ CURRENT-CONTEXT
		
		
		- cmd: kubectl run nginxpod --image=nginx --dry-run=client -o yaml > ngpod.yaml
		
			# Lá»‡nh gá»‘c:
			kubectl run nginxpod --image=nginx --dry-run=client -o yaml > ngpod.yaml

			# Giáº£i thÃ­ch chi tiáº¿t:

			# 1. kubectl
			# - `kubectl` lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster.
			# - DÃ¹ng Ä‘á»ƒ thao tÃ¡c vá»›i cÃ¡c resource nhÆ° pods, deployments, services, configmaps,...

			# 2. run
			# - Lá»‡nh `run` dÃ¹ng Ä‘á»ƒ táº¡o má»™t Pod hoáº·c Deployment táº¡m thá»i.
			# - ÄÃ¢y lÃ  cÃ¡ch nhanh Ä‘á»ƒ triá»ƒn khai container trÃªn cluster Kubernetes.

			# 3. nginxpod
			# - ÄÃ¢y lÃ  tÃªn Pod mÃ  báº¡n muá»‘n táº¡o.
			# - TÃªn pháº£i tuÃ¢n thá»§ quy táº¯c Kubernetes: chá»¯ thÆ°á»ng, sá»‘, dáº¥u gáº¡ch ngang.

			# 4. --image=nginx
			# - Chá»‰ Ä‘á»‹nh container image sáº½ cháº¡y trong Pod.
			# - Trong vÃ­ dá»¥ nÃ y lÃ  `nginx` (image chÃ­nh thá»©c tá»« Docker Hub).
			# - Kubernetes sáº½ sá»­ dá»¥ng image nÃ y khi táº¡o container.

			# 5. --dry-run=client
			# - `--dry-run` dÃ¹ng Ä‘á»ƒ mÃ´ phá»ng lá»‡nh mÃ  khÃ´ng thá»±c sá»± táº¡o resource.
			# - `client` nghÄ©a lÃ  kiá»ƒm tra vÃ  táº¡o output trÃªn client mÃ  khÃ´ng gá»­i Ä‘áº¿n API server.
			# - Há»¯u Ã­ch Ä‘á»ƒ kiá»ƒm tra cÃº phÃ¡p hoáº·c sinh YAML/JSON trÆ°á»›c khi apply thá»±c táº¿.

			# 6. -o yaml
			# - TÃ¹y chá»n `-o yaml` xuáº¥t káº¿t quáº£ ra Ä‘á»‹nh dáº¡ng YAML.
			# - YAML nÃ y cÃ³ thá»ƒ dÃ¹ng trá»±c tiáº¿p vá»›i `kubectl apply -f <file>` Ä‘á»ƒ triá»ƒn khai.

			# 7. > ngpod.yaml
			# - Redirect output cá»§a lá»‡nh vÃ o file `ngpod.yaml`.
			# - File nÃ y sáº½ chá»©a Ä‘á»‹nh nghÄ©a Pod theo chuáº©n Kubernetes YAML.
			# - Sau Ä‘Ã³, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng:
			#     kubectl apply -f ngpod.yaml
			#   Ä‘á»ƒ thá»±c sá»± táº¡o Pod trÃªn cluster.

			# 8. Chá»©c nÄƒng tá»•ng thá»ƒ
			# - Lá»‡nh nÃ y giÃºp:
			#   1. Sinh YAML cáº¥u hÃ¬nh cho Pod `nginxpod` cháº¡y image `nginx`.
			#   2. KhÃ´ng táº¡o Pod ngay láº­p tá»©c (`dry-run`).
			#   3. LÆ°u YAML vÃ o file `ngpod.yaml` Ä‘á»ƒ deploy sau nÃ y hoáº·c version control.

			# 9. VÃ­ dá»¥ ná»™i dung file ngpod.yaml sinh ra:
			# apiVersion: v1
			# kind: Pod
			# metadata:
			#   name: nginxpod
			# spec:
			#   containers:
			#   - name: nginx
			#     image: nginx
			#     ports:
			#     - containerPort: 80

			# 10. LÆ°u Ã½ quan trá»ng:
			# - `--dry-run=client` chá»‰ kiá»ƒm tra cÃº phÃ¡p vÃ  sinh output, khÃ´ng táº¡o resource thá»±c táº¿.
			# - Khi muá»‘n triá»ƒn khai Pod, cáº§n dÃ¹ng `kubectl apply -f ngpod.yaml`.
			# - Lá»‡nh nÃ y ráº¥t há»¯u Ã­ch Ä‘á»ƒ chuáº©n bá»‹ resource theo chuáº©n "Infrastructure as Code".

			# 11. CÃ¡c lá»‡nh liÃªn quan:
			# - kubectl run nginxpod --image=nginx
			#   + Táº¡o Pod trá»±c tiáº¿p trÃªn cluster mÃ  khÃ´ng dÃ¹ng dry-run.
			# - kubectl create -f ngpod.yaml
			#   + Táº¡o Pod tá»« file YAML Ä‘Ã£ sinh.
			# - kubectl apply -f ngpod.yaml
			#   + Táº¡o hoáº·c cáº­p nháº­t Pod tá»« YAML.

			# Káº¿t luáº­n:
			# Lá»‡nh `kubectl run nginxpod --image=nginx --dry-run=client -o yaml > ngpod.yaml`
			# dÃ¹ng Ä‘á»ƒ sinh file YAML cáº¥u hÃ¬nh Pod `nginxpod` cháº¡y image `nginx` mÃ  khÃ´ng táº¡o Pod thá»±c táº¿,
			# giÃºp chuáº©n bá»‹, lÆ°u trá»¯, vÃ  quáº£n lÃ½ cáº¥u hÃ¬nh Pod trÆ°á»›c khi triá»ƒn khai trÃªn Kubernetes cluster.
		
		
		- cmd: cat ngpod.yaml
		
			# Lá»‡nh:
			cat ngpod.yaml

			# Giáº£i thÃ­ch chi tiáº¿t:
			# 1. cat
			#    - 'cat' lÃ  viáº¿t táº¯t cá»§a 'concatenate'
			#    - DÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ ná»™i dung cá»§a file trÃªn mÃ n hÃ¬nh terminal
			# 2. ngpod.yaml
			#    - ÄÃ¢y lÃ  tÃªn file báº¡n muá»‘n Ä‘á»c
			#    - Trong trÆ°á»ng há»£p nÃ y, 'ngpod.yaml' thÆ°á»ng lÃ  file Ä‘á»‹nh nghÄ©a má»™t Pod hoáº·c Deployment trong Kubernetes

			# Ã nghÄ©a tá»•ng thá»ƒ:
			# - Lá»‡nh nÃ y sáº½ in ra toÃ n bá»™ ná»™i dung file 'ngpod.yaml'
			# - GiÃºp báº¡n xem cáº¥u hÃ¬nh cá»§a Pod, container, image, volumes, vÃ  cÃ¡c thÃ´ng sá»‘ khÃ¡c mÃ  khÃ´ng cáº§n má»Ÿ file báº±ng editor
			# - ThÆ°á»ng dÃ¹ng Ä‘á»ƒ kiá»ƒm tra nhanh hoáº·c pipe káº¿t quáº£ sang cÃ¡c lá»‡nh khÃ¡c (vÃ­ dá»¥: grep, less)

			# VÃ­ dá»¥:
			# Náº¿u ná»™i dung file 'ngpod.yaml' lÃ :
			# apiVersion: v1
			# kind: Pod
			# metadata:
			#   name: nginx-pod
			# spec:
			#   containers:
			#   - name: nginx
			#     image: nginx:1.14.2
			#     ports:
			#     - containerPort: 80
			# thÃ¬ lá»‡nh 'cat ngpod.yaml' sáº½ hiá»ƒn thá»‹ toÃ n bá»™ ná»™i dung nÃ y trÃªn terminal
		
		
		- cmd: kubectl create deployment ngdep --image=nginx --dry-run=client -o yaml > ngdep.yaml
		
			GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
			kubectl create deployment ngdep --image=nginx --dry-run=client -o yaml > ngdep.yaml

			--------------------------------------------------
			1. Tá»”NG QUAN
			--------------------------------------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Táº¡o má»™t Deployment tÃªn `ngdep` vá»›i image `nginx`
			- KhÃ´ng thá»±c sá»± táº¡o resource trÃªn cluster (`--dry-run=client`)
			- Xuáº¥t Ä‘á»‹nh nghÄ©a Deployment á»Ÿ Ä‘á»‹nh dáº¡ng YAML (`-o yaml`)
			- LÆ°u output vÃ o file `ngdep.yaml` Ä‘á»ƒ chá»‰nh sá»­a hoáº·c apply sau

			Má»¥c Ä‘Ã­ch:
			- Kiá»ƒm tra cáº¥u hÃ¬nh trÆ°á»›c khi triá»ƒn khai thá»±c táº¿
			- Táº¡o file YAML Ä‘á»ƒ version control, chia sáº», hoáº·c deploy báº±ng `kubectl apply`

			--------------------------------------------------
			2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
			--------------------------------------------------

			2.1. kubectl
			--------------------------------------------------
			- CÃ´ng cá»¥ dÃ²ng lá»‡nh quáº£n lÃ½ Kubernetes

			2.2. create deployment
			--------------------------------------------------
			- Subcommand dÃ¹ng Ä‘á»ƒ táº¡o má»™t Deployment
			- Deployment quáº£n lÃ½ sá»‘ lÆ°á»£ng Pod replica, rolling update, rollback

			2.3. ngdep
			--------------------------------------------------
			- TÃªn Deployment Ä‘Æ°á»£c táº¡o

			2.4. --image=nginx
			--------------------------------------------------
			- Chá»‰ Ä‘á»‹nh image container dÃ¹ng trong Pod cá»§a Deployment
			- á» Ä‘Ã¢y lÃ  image chÃ­nh thá»©c `nginx`

			2.5. --dry-run=client
			--------------------------------------------------
			- KhÃ´ng gá»­i request tá»›i API server, chá»‰ mÃ´ phá»ng
			- Chá»‰ táº¡o object trong client (local) mÃ  khÃ´ng triá»ƒn khai trÃªn cluster
			- GiÃºp kiá»ƒm tra syntax vÃ  cáº¥u hÃ¬nh YAML

			2.6. -o yaml
			--------------------------------------------------
			- Xuáº¥t output á»Ÿ Ä‘á»‹nh dáº¡ng YAML
			- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ lÆ°u vÃ o file hoáº·c chá»‰nh sá»­a trÆ°á»›c khi apply

			2.7. > ngdep.yaml
			--------------------------------------------------
			- Redirect output vÃ o file `ngdep.yaml`
			- LÆ°u Ä‘á»‹nh nghÄ©a Deployment Ä‘á»ƒ deploy sau hoáº·c version control

			--------------------------------------------------
			3. QUÃ TRÃŒNH HOáº T Äá»˜NG
			--------------------------------------------------
			1. Lá»‡nh `kubectl create deployment` táº¡o object Deployment trong bá»™ nhá»› client
			2. `--dry-run=client` Ä‘áº£m báº£o khÃ´ng gá»­i request tá»›i server
			3. `-o yaml` xuáº¥t Deployment á»Ÿ Ä‘á»‹nh dáº¡ng YAML
			4. `>` lÆ°u output vÃ o file `ngdep.yaml`
			5. File `ngdep.yaml` cÃ³ thá»ƒ Ä‘Æ°á»£c chá»‰nh sá»­a vÃ  triá»ƒn khai báº±ng:
			   kubectl apply -f ngdep.yaml

			--------------------------------------------------
			4. OUTPUT MáºªU (trong file ngdep.yaml)
			--------------------------------------------------
			apiVersion: apps/v1
			kind: Deployment
			metadata:
			  creationTimestamp: null
			  name: ngdep
			spec:
			  replicas: 1
			  selector:
				matchLabels:
				  app: ngdep
			  template:
				metadata:
				  creationTimestamp: null
				  labels:
					app: ngdep
				spec:
				  containers:
				  - image: nginx
					name: nginx
					resources: {}
			status: {}

			--------------------------------------------------
			5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
			--------------------------------------------------
			- Triá»ƒn khai file YAML vá»«a táº¡o:
			kubectl apply -f ngdep.yaml

			- Táº¡o Deployment vá»›i nhiá»u replicas vÃ  image khÃ¡c:
			kubectl create deployment myapp --image=myimage:latest --replicas=3 --dry-run=client -o yaml > myapp.yaml

			- Kiá»ƒm tra object mÃ  khÃ´ng deploy:
			kubectl create deployment test --image=busybox --dry-run=client

			--------------------------------------------------
			6. Lá»¢I ÃCH THá»°C Táº¾
			--------------------------------------------------
			- Táº¡o YAML chuáº©n Ä‘á»ƒ kiá»ƒm tra hoáº·c lÆ°u trá»¯
			- TrÃ¡nh deploy nháº§m trÆ°á»›c khi chá»‰nh sá»­a
			- Dá»… dÃ ng version control vÃ  chia sáº» config
			- Há»— trá»£ workflow DevOps vÃ  CI/CD

			--------------------------------------------------
			7. Lá»–I THÆ¯á»œNG Gáº¶P
			--------------------------------------------------
			- Sai cÃº phÃ¡p hoáº·c tÃªn image khÃ´ng tá»“n táº¡i â†’ lá»—i khi apply sau
			- QuÃªn `--dry-run=client` náº¿u chá»‰ muá»‘n preview â†’ lá»‡nh sáº½ triá»ƒn khai trá»±c tiáº¿p

			--------------------------------------------------
			8. Cáº¢NH BÃO
			--------------------------------------------------
			- File YAML chÆ°a deploy, chá»‰ lÃ  preview
			- Chá»‰nh sá»­a file YAML cáº©n tháº­n trÆ°á»›c khi apply

			--------------------------------------------------
			9. TÃ“M Táº®T NGáº®N Gá»ŒN
			--------------------------------------------------
			kubectl create deployment ngdep --image=nginx --dry-run=client -o yaml > ngdep.yaml

			= Táº¡o Deployment "ngdep" vá»›i image nginx
			= KhÃ´ng deploy thá»±c táº¿ (dry-run)
			= Xuáº¥t YAML vÃ o file ngdep.yaml
			= CÃ³ thá»ƒ chá»‰nh sá»­a vÃ  apply sau
		
		
		- cmd: cat ngdep.yaml
		
			Lá»†NH: cat ngdep.yaml
			====================

			1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
			-------------------
			Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
			- Hiá»ƒn thá»‹ ná»™i dung cá»§a file "ngdep.yaml" trÃªn terminal
			- GiÃºp kiá»ƒm tra nhanh cáº¥u hÃ¬nh, dá»¯ liá»‡u hoáº·c ná»™i dung YAML trÆ°á»›c khi Ã¡p dá»¥ng vÃ o Kubernetes
			- ThÆ°á»ng dÃ¹ng trong quÃ¡ trÃ¬nh debug, xem láº¡i cáº¥u hÃ¬nh hoáº·c xÃ¡c nháº­n ná»™i dung file


			2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
			------------------------------------

			2.1. cat
			--------
			- LÃ  lá»‡nh cÆ¡ báº£n trÃªn Linux/Unix
			- Viáº¿t táº¯t cá»§a "concatenate"
			- DÃ¹ng Ä‘á»ƒ:
			  + Hiá»ƒn thá»‹ ná»™i dung file trÃªn terminal
			  + GhÃ©p nhiá»u file vÃ  in ra
			  + Redirect output sang file khÃ¡c hoáº·c lá»‡nh khÃ¡c

			2.2. ngdep.yaml
			---------------
			- TÃªn file cáº§n hiá»ƒn thá»‹ ná»™i dung
			- Trong trÆ°á»ng há»£p nÃ y lÃ  file YAML
			- File YAML thÆ°á»ng chá»©a cáº¥u hÃ¬nh resource Kubernetes (Pod, Deployment, Service, ConfigMap, v.v.)
			- Cáº¥u trÃºc file thÆ°á»ng bao gá»“m:
			  + apiVersion: phiÃªn báº£n API Kubernetes
			  + kind: loáº¡i resource
			  + metadata: tÃªn, namespace, labels
			  + spec: cÃ¡c thÃ´ng sá»‘ cáº¥u hÃ¬nh chi tiáº¿t


			3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
			---------------------------------
			Khi cháº¡y:
			cat ngdep.yaml

			Há»‡ thá»‘ng sáº½:
			1. Má»Ÿ file "ngdep.yaml"
			2. Äá»c toÃ n bá»™ ná»™i dung
			3. In ná»™i dung lÃªn mÃ n hÃ¬nh terminal theo thá»© tá»± tá»« trÃªn xuá»‘ng dÆ°á»›i
			4. KhÃ´ng thay Ä‘á»•i file, chá»‰ Ä‘á»c vÃ  hiá»ƒn thá»‹


			4. Káº¾T QUáº¢ MáºªU
			---------------
			VÃ­ dá»¥ ná»™i dung file ngdep.yaml:

			apiVersion: v1
			kind: ConfigMap
			metadata:
			  name: my-config
			  namespace: default
			data:
			  APP_COLOR: blue
			  APP_MODE: production

			Giáº£i thÃ­ch:
			- apiVersion: phiÃªn báº£n API cá»§a resource
			- kind: loáº¡i resource
			- metadata: thÃ´ng tin metadata nhÆ° tÃªn, namespace, labels
			- data: dá»¯ liá»‡u cáº¥u hÃ¬nh thá»±c táº¿


			5. CÃC BIáº¾N THá»‚ HAY DÃ™NG
			-----------------------
			- Hiá»ƒn thá»‹ nhiá»u file cÃ¹ng lÃºc:
			  cat file1.yaml file2.yaml

			- ÄÃ¡nh sá»‘ dÃ²ng:
			  cat -n ngdep.yaml

			- Redirect output sang file khÃ¡c:
			  cat ngdep.yaml > backup.yaml

			- Káº¿t há»£p vá»›i lá»‡nh khÃ¡c:
			  cat ngdep.yaml | grep "APP_COLOR"


			6. Lá»¢I ÃCH KHI DÃ™NG Lá»†NH NÃ€Y
			----------------------------
			- Kiá»ƒm tra nhanh ná»™i dung file YAML
			- Dá»… dÃ ng copy ná»™i dung sang lá»‡nh kubectl apply
			- Phá»‘i há»£p vá»›i cÃ¡c lá»‡nh grep, awk, sed Ä‘á»ƒ lá»c vÃ  xá»­ lÃ½ dá»¯ liá»‡u


			7. Lá»–I THÆ¯á»œNG Gáº¶P
			-----------------
			- File khÃ´ng tá»“n táº¡i:
			  => cat: ngdep.yaml: No such file or directory

			- Quyá»n truy cáº­p bá»‹ háº¡n cháº¿:
			  => cat: ngdep.yaml: Permission denied


			8. TÃ“M Táº®T NGáº®N Gá»ŒN
			-------------------
			cat           : hiá»ƒn thá»‹ ná»™i dung file
			ngdep.yaml    : file YAML chá»©a cáº¥u hÃ¬nh Kubernetes hoáº·c dá»¯ liá»‡u
			Káº¿t quáº£      : ná»™i dung file Ä‘Æ°á»£c in ra terminal, cÃ³ thá»ƒ Ä‘á»c hoáº·c dÃ¹ng pipe/redirect
		
		
		- cmd: kubectl get ds -A
		
			Lá»†NH: kubectl get ds -A
			====================================================================

			1. kubectl lÃ  gÃ¬?
			--------------------------------------------------------------------
			- kubectl lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster.
			- DÃ¹ng Ä‘á»ƒ:
			  + Táº¡o, cáº­p nháº­t, xÃ³a resource (Pod, Deployment, Service, DaemonSetâ€¦)
			  + Kiá»ƒm tra tráº¡ng thÃ¡i cluster vÃ  cÃ¡c resource
			- Giao tiáº¿p trá»±c tiáº¿p vá»›i API server cá»§a Kubernetes.

			--------------------------------------------------------------------

			2. ds lÃ  gÃ¬?
			--------------------------------------------------------------------
			- ds = DaemonSet
			- DaemonSet trong Kubernetes:
			  + Äáº£m báº£o má»™t Pod Ä‘Æ°á»£c cháº¡y trÃªn táº¥t cáº£ node hoáº·c cÃ¡c node Ä‘Æ°á»£c chá»n
			  + ThÆ°á»ng dÃ¹ng cho service há»‡ thá»‘ng: logging, monitoring, network plugin
			  + Khi node má»›i Ä‘Æ°á»£c thÃªm vÃ o cluster â†’ Pod DaemonSet tá»± Ä‘á»™ng cháº¡y trÃªn node Ä‘Ã³

			--------------------------------------------------------------------

			3. -A lÃ  gÃ¬?
			--------------------------------------------------------------------
			- -A = --all-namespaces
			- Hiá»ƒn thá»‹ DaemonSet trÃªn táº¥t cáº£ namespace trong cluster
			- Náº¿u khÃ´ng cÃ³ -A â†’ chá»‰ liá»‡t kÃª DaemonSet trong namespace hiá»‡n táº¡i (default)

			--------------------------------------------------------------------

			4. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
			--------------------------------------------------------------------
			kubectl get ds -A

			â†’ Liá»‡t kÃª táº¥t cáº£ DaemonSet trong toÃ n bá»™ namespace
			â†’ Hiá»ƒn thá»‹ thÃ´ng tin cÆ¡ báº£n:
			  + NAMESPACE : namespace chá»©a DaemonSet
			  + NAME      : tÃªn DaemonSet
			  + DESIRED   : sá»‘ Pod mong muá»‘n
			  + CURRENT   : sá»‘ Pod Ä‘ang cháº¡y
			  + READY     : sá»‘ Pod sáºµn sÃ ng
			  + UP-TO-DATE: sá»‘ Pod Ä‘Æ°á»£c cáº­p nháº­t theo template má»›i nháº¥t
			  + AVAILABLE : sá»‘ Pod sáºµn sÃ ng phá»¥c vá»¥
			  + NODE SELECTOR / AGE: selector node vÃ  thá»i gian tá»“n táº¡i

			--------------------------------------------------------------------

			5. Quy trÃ¬nh thá»±c thi lá»‡nh
			--------------------------------------------------------------------
			1) kubectl gá»­i request GET tá»›i API server Ä‘á»ƒ láº¥y táº¥t cáº£ DaemonSet
			2) API server truy váº¥n etcd, láº¥y thÃ´ng tin DaemonSet trÃªn táº¥t cáº£ namespace
			3) API server tráº£ dá»¯ liá»‡u JSON
			4) kubectl hiá»ƒn thá»‹ dá»¯ liá»‡u dÆ°á»›i dáº¡ng báº£ng

			--------------------------------------------------------------------

			6. Output Ä‘iá»ƒn hÃ¬nh
			--------------------------------------------------------------------
			NAMESPACE     NAME                    DESIRED  CURRENT  READY  UP-TO-DATE  AVAILABLE  AGE
			kube-system   kube-proxy              3        3        3      3           3          5d
			monitoring    fluentd-daemonset       5        5        5      5           5          3d

			Giáº£i thÃ­ch cá»™t:
			- NAMESPACE â†’ Namespace chá»©a DaemonSet
			- NAME â†’ TÃªn DaemonSet
			- DESIRED â†’ Sá»‘ Pod mong muá»‘n
			- CURRENT â†’ Sá»‘ Pod hiá»‡n táº¡i
			- READY â†’ Sá»‘ Pod sáºµn sÃ ng
			- UP-TO-DATE â†’ Sá»‘ Pod theo template má»›i nháº¥t
			- AVAILABLE â†’ Sá»‘ Pod sáºµn sÃ ng phá»¥c vá»¥
			- AGE â†’ Thá»i gian tá»“n táº¡i

			--------------------------------------------------------------------

			7. Khi nÃ o nÃªn dÃ¹ng lá»‡nh nÃ y?
			--------------------------------------------------------------------
			- Kiá»ƒm tra tráº¡ng thÃ¡i DaemonSet trÃªn cluster
			- Xem Pod Ä‘ang cháº¡y trÃªn táº¥t cáº£ node
			- Debug service há»‡ thá»‘ng (logging, monitoring)
			- Kiá»ƒm tra Pod DaemonSet sau rollout update

			--------------------------------------------------------------------

			8. Lá»—i thÆ°á»ng gáº·p
			--------------------------------------------------------------------
			1) no resources found
			- KhÃ´ng cÃ³ DaemonSet trong namespace hiá»‡n táº¡i hoáº·c toÃ n cluster

			2) Unable to connect to server
			- Cluster khÃ´ng hoáº¡t Ä‘á»™ng hoáº·c kubeconfig chÆ°a Ä‘Ãºng

			--------------------------------------------------------------------

			9. So sÃ¡nh nhanh
			--------------------------------------------------------------------
			kubectl get ds â†’ liá»‡t kÃª DaemonSet trong namespace hiá»‡n táº¡i
			kubectl get ds -A â†’ liá»‡t kÃª DaemonSet trÃªn táº¥t cáº£ namespace
			kubectl describe ds <ds-name> â†’ xem chi tiáº¿t DaemonSet
			kubectl get pods -l <label> â†’ xem Pod cá»§a DaemonSet cá»¥ thá»ƒ

			--------------------------------------------------------------------

			10. TÃ³m táº¯t 1 dÃ²ng
			--------------------------------------------------------------------
			kubectl get ds -A =
			LIá»†T KÃŠ Táº¤T Cáº¢ DAEMONSET TRONG TOÃ€N Bá»˜ NAMESPACE, HIá»‚N THá»Š Sá» POD MONG MUá»N, POD HIá»†N Táº I, Sáº´N SÃ€NG, UP-TO-DATE VÃ€ AVAILABLE
		
		
		- cmd: kubectl get pod -n kube-system
		
# Lá»‡nh gá»‘c:
kubectl get pod -n kube-system

# Giáº£i thÃ­ch chi tiáº¿t:

# 1. kubectl
# - `kubectl` lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster.
# - DÃ¹ng Ä‘á»ƒ thao tÃ¡c vá»›i cÃ¡c resource nhÆ° pods, deployments, services, configmaps,...

# 2. get pod
# - `get` dÃ¹ng Ä‘á»ƒ liá»‡t kÃª resource trong Kubernetes.
# - `pod` chá»‰ Ä‘á»‹nh loáº¡i resource cáº§n liá»‡t kÃª lÃ  Pod.
# - Lá»‡nh nÃ y sáº½ hiá»ƒn thá»‹ danh sÃ¡ch Pod vá»›i cÃ¡c thÃ´ng tin cÆ¡ báº£n.

# 3. -n kube-system
# - `-n` hoáº·c `--namespace` chá»‰ Ä‘á»‹nh namespace Ä‘á»ƒ láº¥y resource.
# - `kube-system` lÃ  namespace máº·c Ä‘á»‹nh trong Kubernetes chá»©a cÃ¡c Pod há»‡ thá»‘ng nhÆ°:
#   + kube-dns / CoreDNS
#   + kube-proxy
#   + etcd
#   + kube-controller-manager
#   + kube-scheduler
# - Náº¿u khÃ´ng chá»‰ Ä‘á»‹nh `-n`, máº·c Ä‘á»‹nh lá»‡nh sáº½ láº¥y Pod trong namespace `default`.

# 4. Chá»©c nÄƒng tá»•ng thá»ƒ
# - Khi cháº¡y `kubectl get pod -n kube-system`, Kubernetes sáº½:
#   1. Liá»‡t kÃª táº¥t cáº£ Pod Ä‘ang cháº¡y trong namespace `kube-system`.
#   2. Hiá»ƒn thá»‹ thÃ´ng tin tÃ³m táº¯t gá»“m:
#      + NAME: tÃªn Pod
#      + READY: sá»‘ container sáºµn sÃ ng / tá»•ng sá»‘ container
#      + STATUS: tráº¡ng thÃ¡i Pod (Running, Pending, CrashLoopBackOff,...)
#      + RESTARTS: sá»‘ láº§n Pod bá»‹ khá»Ÿi Ä‘á»™ng láº¡i
#      + AGE: thá»i gian Pod Ä‘Æ°á»£c táº¡o

# 5. VÃ­ dá»¥ káº¿t quáº£:
# NAME                                       READY   STATUS    RESTARTS   AGE
# coredns-64897985d-abcde                    1/1     Running   0          10m
# kube-proxy-xyz12                           1/1     Running   0          10m
# etcd-minikube                              1/1     Running   0          10m
# kube-scheduler-minikube                     1/1     Running   0          10m

# 6. LÆ°u Ã½ quan trá»ng:
# - Namespace `kube-system` chá»©a Pod quan trá»ng cho hoáº¡t Ä‘á»™ng cluster.
# - KhÃ´ng nÃªn xÃ³a hoáº·c chá»‰nh sá»­a Pod trong namespace nÃ y trá»« khi hiá»ƒu rÃµ tÃ¡c Ä‘á»™ng.
# - Lá»‡nh nÃ y há»¯u Ã­ch Ä‘á»ƒ kiá»ƒm tra tráº¡ng thÃ¡i cÃ¡c Pod há»‡ thá»‘ng, debug cluster.

# 7. CÃ¡c lá»‡nh liÃªn quan:
# - kubectl describe pod <pod_name> -n kube-system
#   + Xem chi tiáº¿t Pod trong namespace há»‡ thá»‘ng.
# - kubectl get all -n kube-system
#   + Liá»‡t kÃª táº¥t cáº£ resource trong namespace kube-system.
# - kubectl logs <pod_name> -n kube-system
#   + Xem log cá»§a Pod há»‡ thá»‘ng.

# Káº¿t luáº­n:
# Lá»‡nh `kubectl get pod -n kube-system` dÃ¹ng Ä‘á»ƒ liá»‡t kÃª táº¥t cáº£ Pod trong namespace `kube-system`,
# giÃºp quáº£n trá»‹ viÃªn kiá»ƒm tra tráº¡ng thÃ¡i vÃ  váº­n hÃ nh cÃ¡c Pod há»‡ thá»‘ng quan trá»ng cá»§a Kubernetes cluster.
		
		
		- cmd: choco uninstall terraform
		
# Lá»‡nh:
choco uninstall terraform

# Giáº£i thÃ­ch chi tiáº¿t:
# 1. choco
#    - 'choco' lÃ  viáº¿t táº¯t cá»§a Chocolatey, má»™t package manager trÃªn Windows
#    - DÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t, nÃ¢ng cáº¥p, hoáº·c gá»¡ bá» cÃ¡c pháº§n má»m tá»« command line

# 2. uninstall
#    - ÄÃ¢y lÃ  tÃ¹y chá»n cá»§a choco dÃ¹ng Ä‘á»ƒ **gá»¡ bá» (uninstall)** má»™t package Ä‘Ã£ cÃ i Ä‘áº·t

# 3. terraform
#    - TÃªn cá»§a package mÃ  báº¡n muá»‘n gá»¡ bá»
#    - Terraform lÃ  cÃ´ng cá»¥ Infrastructure as Code (IaC) Ä‘á»ƒ quáº£n lÃ½ háº¡ táº§ng cloud

# Ã nghÄ©a tá»•ng thá»ƒ:
# - Lá»‡nh nÃ y sáº½ gá»¡ bá» hoÃ n toÃ n Terraform khá»i há»‡ thá»‘ng Windows
# - Chocolatey sáº½ tá»± Ä‘á»™ng tÃ¬m package 'terraform' vÃ  xÃ³a nÃ³, kÃ¨m theo cÃ¡c file liÃªn quan

# VÃ­ dá»¥ sá»­ dá»¥ng thÃªm tÃ¹y chá»n:
# choco uninstall terraform -y
# - '-y' tá»± Ä‘á»™ng Ä‘á»“ng Ã½ táº¥t cáº£ cÃ¡c bÆ°á»›c, khÃ´ng há»i xÃ¡c nháº­n
		
		
		- cmd: choco install terraform -y
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
choco install terraform -y

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- CÃ i Ä‘áº·t Terraform trÃªn há»‡ Ä‘iá»u hÃ nh Windows thÃ´ng qua Chocolatey (trÃ¬nh quáº£n lÃ½ gÃ³i)
- Terraform lÃ  cÃ´ng cá»¥ IaC (Infrastructure as Code) Ä‘á»ƒ quáº£n lÃ½ háº¡ táº§ng cloud
- `-y` tá»± Ä‘á»™ng Ä‘á»“ng Ã½ táº¥t cáº£ cÃ¡c prompt trong quÃ¡ trÃ¬nh cÃ i Ä‘áº·t, khÃ´ng cáº§n tÆ°Æ¡ng tÃ¡c ngÆ°á»i dÃ¹ng

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. choco
--------------------------------------------------
- CÃ´ng cá»¥ dÃ²ng lá»‡nh cá»§a Chocolatey, dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t, cáº­p nháº­t, gá»¡ bá» pháº§n má»m trÃªn Windows

2.2. install
--------------------------------------------------
- Subcommand dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t má»™t package

2.3. terraform
--------------------------------------------------
- TÃªn package cáº§n cÃ i Ä‘áº·t
- Táº£i vÃ  cÃ i Ä‘áº·t Terraform phiÃªn báº£n má»›i nháº¥t cÃ³ sáºµn trong repository Chocolatey

2.4. -y
--------------------------------------------------
- TÃ¹y chá»n tá»± Ä‘á»™ng Ä‘á»“ng Ã½ táº¥t cáº£ cÃ¡c cÃ¢u há»i cá»§a quÃ¡ trÃ¬nh cÃ i Ä‘áº·t
- TrÃ¡nh pháº£i nháº­p `Y/N` thá»§ cÃ´ng

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
1. Chocolatey kiá»ƒm tra repository Ä‘á»ƒ tÃ¬m package Terraform
2. Táº£i gÃ³i Terraform vá» mÃ¡y
3. Giáº£i nÃ©n vÃ  cÃ i Ä‘áº·t Terraform vÃ o PATH cá»§a há»‡ thá»‘ng
4. ThÃªm Terraform vÃ o biáº¿n mÃ´i trÆ°á»ng Ä‘á»ƒ cÃ³ thá»ƒ cháº¡y tá»« báº¥t ká»³ terminal nÃ o
5. Náº¿u `-y` Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh, quÃ¡ trÃ¬nh cÃ i Ä‘áº·t tá»± Ä‘á»™ng Ä‘á»“ng Ã½ táº¥t cáº£ prompt
6. Sau khi cÃ i xong, cÃ³ thá»ƒ kiá»ƒm tra báº±ng lá»‡nh:
   terraform --version

--------------------------------------------------
4. OUTPUT MáºªU
--------------------------------------------------
Chocolatey v1.2.0
Installing the following packages:
terraform
By installing you accept licenses for the packages.
...
Terraform v1.6.0 installed. See `terraform --version`

--------------------------------------------------
5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
--------------------------------------------------
- Kiá»ƒm tra phiÃªn báº£n Terraform:
terraform --version

- Cáº­p nháº­t Terraform lÃªn phiÃªn báº£n má»›i:
choco upgrade terraform -y

- Gá»¡ cÃ i Ä‘áº·t Terraform:
choco uninstall terraform -y

--------------------------------------------------
6. Lá»¢I ÃCH THá»°C Táº¾
--------------------------------------------------
- Dá»… dÃ ng cÃ i Ä‘áº·t Terraform trÃªn Windows mÃ  khÃ´ng cáº§n download thá»§ cÃ´ng
- TÃ­ch há»£p vÃ o CI/CD pipelines
- Quáº£n lÃ½ háº¡ táº§ng cloud báº±ng code
- Tá»± Ä‘á»™ng hÃ³a cÃ¡c bÆ°á»›c cÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh

--------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------
- KhÃ´ng cháº¡y terminal vá»›i quyá»n Administrator â†’ lá»—i cÃ i Ä‘áº·t
- Káº¿t ná»‘i internet cháº­m hoáº·c firewall cháº·n â†’ package khÃ´ng táº£i Ä‘Æ°á»£c
- PATH chÆ°a cáº­p nháº­t â†’ lá»‡nh `terraform` khÃ´ng nháº­n diá»‡n

--------------------------------------------------
8. Cáº¢NH BÃO
--------------------------------------------------
- Package cÃ i Ä‘áº·t tá»« Chocolatey, nÃªn kiá»ƒm tra source tin cáº­y
- `-y` tá»± Ä‘á»™ng Ä‘á»“ng Ã½ license â†’ Ä‘á»c license náº¿u cáº§n

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
choco install terraform -y

= CÃ i Terraform trÃªn Windows báº±ng Chocolatey
= Tá»± Ä‘á»™ng Ä‘á»“ng Ã½ táº¥t cáº£ prompt
= Sau cÃ i Ä‘áº·t, cháº¡y `terraform --version` Ä‘á»ƒ kiá»ƒm tra
= CÃ³ thá»ƒ cáº­p nháº­t hoáº·c gá»¡ báº±ng choco
		
		
		- cmd: terraform init -upgrade
		
Lá»†NH: terraform init -upgrade
=============================

1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
-------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Khá»Ÿi táº¡o thÆ° má»¥c lÃ m viá»‡c Terraform
- Táº£i xuá»‘ng vÃ  cÃ i Ä‘áº·t cÃ¡c provider cáº§n thiáº¿t cho project
- Cáº­p nháº­t cÃ¡c provider lÃªn phiÃªn báº£n má»›i nháº¥t náº¿u Ä‘Ã£ cÃ³ phiÃªn báº£n cÅ© (do flag -upgrade)
- Thiáº¿t láº­p backend Ä‘á»ƒ lÆ°u tráº¡ng thÃ¡i (state) náº¿u Ä‘Æ°á»£c cáº¥u hÃ¬nh
- ÄÃ¢y lÃ  bÆ°á»›c Ä‘áº§u tiÃªn báº¯t buá»™c trÆ°á»›c khi cháº¡y `terraform plan` hoáº·c `terraform apply`


2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
------------------------------------

2.1. terraform
---------------
- CLI chÃ­nh thá»©c cá»§a Terraform
- DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ háº¡ táº§ng dÆ°á»›i dáº¡ng code (Infrastructure as Code - IaC)
- Há»— trá»£ nhiá»u provider cloud nhÆ° AWS, GCP, Azure, Kubernetes, v.v.
- CÃ¡c lá»‡nh phá»• biáº¿n: init, plan, apply, destroy, validate


2.2. init
----------
- Sub-command cá»§a Terraform
- Chá»©c nÄƒng:
  + Táº£i provider cáº§n thiáº¿t
  + Khá»Ÿi táº¡o backend lÆ°u trá»¯ state
  + Táº¡o thÆ° má»¥c .terraform trong project
  + Kiá»ƒm tra cáº¥u hÃ¬nh Terraform


2.3. -upgrade
-------------
- TÃ¹y chá»n Ä‘á»ƒ cáº­p nháº­t cÃ¡c provider lÃªn phiÃªn báº£n má»›i nháº¥t
- Náº¿u bá» -upgrade, Terraform sáº½ chá»‰ dÃ¹ng phiÃªn báº£n provider Ä‘Ã£ lock trong file .terraform.lock.hcl
- Khi dÃ¹ng -upgrade:
  + Terraform sáº½ kiá»ƒm tra phiÃªn báº£n má»›i nháº¥t tÆ°Æ¡ng thÃ­ch
  + Táº£i xuá»‘ng phiÃªn báº£n má»›i
  + Cáº­p nháº­t file lock náº¿u cÃ³ phiÃªn báº£n má»›i


3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
---------------------------------
Khi cháº¡y:
terraform init -upgrade

Terraform sáº½:
1. Kiá»ƒm tra thÆ° má»¥c lÃ m viá»‡c Ä‘á»ƒ xÃ¡c Ä‘á»‹nh cÃ³ file .tf nÃ o khÃ´ng
2. Táº£i thÃ´ng tin cÃ¡c provider tá»« registry Terraform hoáº·c nguá»“n chá»‰ Ä‘á»‹nh
3. So sÃ¡nh vá»›i file .terraform.lock.hcl
4. Náº¿u -upgrade Ä‘Æ°á»£c dÃ¹ng, download phiÃªn báº£n má»›i nháº¥t cá»§a provider
5. Táº¡o thÆ° má»¥c .terraform vÃ  lÆ°u cÃ¡c plugin provider
6. Thiáº¿t láº­p backend (náº¿u Ä‘Æ°á»£c cáº¥u hÃ¬nh) Ä‘á»ƒ lÆ°u tráº¡ng thÃ¡i
7. Tráº£ vá» tráº¡ng thÃ¡i thÃ nh cÃ´ng náº¿u má»i thá»© hoÃ n táº¥t


4. Káº¾T QUáº¢ MáºªU
---------------
VÃ­ dá»¥ output:

Initializing the backend...
Initializing provider plugins...
- Finding latest version of hashicorp/aws...
- Installing hashicorp/aws v5.16.0...
Terraform has been successfully initialized!

Giáº£i thÃ­ch:
- Hiá»ƒn thá»‹ quÃ¡ trÃ¬nh táº£i vÃ  cÃ i Ä‘áº·t provider
- ThÃ´ng bÃ¡o thÃ nh cÃ´ng khi Terraform sáºµn sÃ ng cho cÃ¡c lá»‡nh tiáº¿p theo


5. CÃC BIáº¾N THá»‚ HAY DÃ™NG
-----------------------
- Chá»‰ init mÃ  khÃ´ng upgrade:
  terraform init

- Init vá»›i backend cá»¥ thá»ƒ:
  terraform init -backend-config="path=backend.tfvars"

- XÃ³a cache provider trÆ°á»›c khi init láº¡i:
  rm -rf .terraform


6. Lá»¢I ÃCH KHI DÃ™NG Lá»†NH NÃ€Y
----------------------------
- Äáº£m báº£o project Terraform cÃ³ Ä‘áº§y Ä‘á»§ provider
- Cáº­p nháº­t provider má»›i nháº¥t náº¿u cáº§n
- Khá»Ÿi táº¡o project má»›i hoáº·c khi clone repo Terraform vá» mÃ¡y
- Chuáº©n bá»‹ sáºµn sÃ ng cho `terraform plan` vÃ  `terraform apply`


7. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------
- KhÃ´ng cÃ³ internet: Terraform khÃ´ng táº£i Ä‘Æ°á»£c provider
  => Kiá»ƒm tra káº¿t ná»‘i

- File .tf sai cÃº phÃ¡p:
  => Lá»—i sáº½ hiá»ƒn thá»‹ khi init, cáº§n fix trÆ°á»›c khi apply

- Quyá»n ghi thÆ° má»¥c:
  => Kiá»ƒm tra quyá»n táº¡o thÆ° má»¥c .terraform


8. TÃ“M Táº®T NGáº®N Gá»ŒN
-------------------
terraform      : CLI Terraform
init           : khá»Ÿi táº¡o project vÃ  táº£i provider
-upgrade       : cáº­p nháº­t provider lÃªn phiÃªn báº£n má»›i nháº¥t
Káº¿t quáº£        : thÆ° má»¥c .terraform Ä‘Æ°á»£c táº¡o, provider Ä‘Æ°á»£c cÃ i Ä‘áº·t/cáº­p nháº­t, project sáºµn sÃ ng cho cÃ¡c lá»‡nh tiáº¿p theo
		
		
		- cmd: aws eks update-kubeconfig --region us-east-1 --name vpro-eks
		
Lá»†NH: aws eks update-kubeconfig --region us-east-1 --name vpro-eks
====================================================================

1. aws lÃ  gÃ¬?
--------------------------------------------------------------------
- AWS (Amazon Web Services) lÃ  ná»n táº£ng Ä‘iá»‡n toÃ¡n Ä‘Ã¡m mÃ¢y.
- aws CLI lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ cÃ¡c dá»‹ch vá»¥ AWS, bao gá»“m:
  + EC2, S3, RDS, EKS, IAM, v.v.
- aws CLI cho phÃ©p tá»± Ä‘á»™ng hÃ³a cÃ¡c tÃ¡c vá»¥ trÃªn AWS.

--------------------------------------------------------------------

2. eks lÃ  gÃ¬?
--------------------------------------------------------------------
- EKS = Elastic Kubernetes Service
- Dá»‹ch vá»¥ Kubernetes Ä‘Æ°á»£c quáº£n lÃ½ trÃªn AWS
- AWS chá»‹u trÃ¡ch nhiá»‡m quáº£n lÃ½ control plane (API server, etcd, schedulerâ€¦)
- NgÆ°á»i dÃ¹ng chá»‰ quáº£n lÃ½ worker node vÃ  triá»ƒn khai á»©ng dá»¥ng trÃªn cluster

--------------------------------------------------------------------

3. update-kubeconfig lÃ  gÃ¬?
--------------------------------------------------------------------
- update-kubeconfig = cáº­p nháº­t file kubeconfig Ä‘á»ƒ kubectl cÃ³ thá»ƒ káº¿t ná»‘i cluster EKS
- Táº¡o hoáº·c cáº­p nháº­t context tÆ°Æ¡ng á»©ng vá»›i EKS cluster
- ThÃªm thÃ´ng tin cluster, user, vÃ  certificate vÃ o ~/.kube/config
- GiÃºp kubectl tÆ°Æ¡ng tÃ¡c vá»›i cluster mÃ  khÃ´ng cáº§n khai bÃ¡o thá»§ cÃ´ng

--------------------------------------------------------------------

4. --region us-east-1 lÃ  gÃ¬?
--------------------------------------------------------------------
- Chá»‰ Ä‘á»‹nh region chá»©a cluster EKS
- us-east-1 = AWS region (Northern Virginia)
- AWS EKS cluster pháº£i tá»“n táº¡i á»Ÿ region nÃ y

--------------------------------------------------------------------

5. --name vpro-eks lÃ  gÃ¬?
--------------------------------------------------------------------
- TÃªn cluster EKS muá»‘n cáº¥u hÃ¬nh káº¿t ná»‘i
- Pháº£i lÃ  cluster Ä‘Ã£ Ä‘Æ°á»£c táº¡o sáºµn trÃªn AWS

--------------------------------------------------------------------

6. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
aws eks update-kubeconfig --region us-east-1 --name vpro-eks

â†’ Láº¥y thÃ´ng tin cluster vpro-eks trÃªn AWS region us-east-1
â†’ Cáº­p nháº­t file kubeconfig (~/.kube/config) vá»›i context má»›i
â†’ kubectl cÃ³ thá»ƒ sá»­ dá»¥ng context nÃ y Ä‘á»ƒ quáº£n lÃ½ cluster vpro-eks
â†’ Táº¡o context vá»›i tÃªn máº·c Ä‘á»‹nh lÃ  tÃªn cluster (vpro-eks)

--------------------------------------------------------------------

7. Quy trÃ¬nh thá»±c thi lá»‡nh
--------------------------------------------------------------------
1) aws CLI gá»­i request tá»›i EKS API server á»Ÿ region us-east-1
2) AWS tráº£ vá» thÃ´ng tin cluster:
   + Endpoint API server
   + Certificate authority (CA)
3) aws CLI cáº­p nháº­t file kubeconfig:
   + ThÃªm cluster, user vÃ  context
   + Náº¿u context Ä‘Ã£ tá»“n táº¡i â†’ ghi Ä‘Ã¨ hoáº·c update
4) NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ sá»­ dá»¥ng kubectl Ä‘á»ƒ quáº£n lÃ½ cluster

--------------------------------------------------------------------

8. Kiá»ƒm tra sau khi cháº¡y lá»‡nh
--------------------------------------------------------------------
- Kiá»ƒm tra context má»›i Ä‘Æ°á»£c táº¡o:
kubectl config get-contexts

- Chuyá»ƒn sang context cluster EKS:
kubectl config use-context vpro-eks

- Kiá»ƒm tra node trong cluster:
kubectl get nodes

--------------------------------------------------------------------

9. Output Ä‘iá»ƒn hÃ¬nh
--------------------------------------------------------------------
Added new context arn:aws:eks:us-east-1:123456789012:cluster/vpro-eks to /home/user/.kube/config

- ThÃ´ng bÃ¡o kubeconfig Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t thÃ nh cÃ´ng

--------------------------------------------------------------------

10. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) ClusterNotFoundException
- Cluster vpro-eks khÃ´ng tá»“n táº¡i trong region us-east-1

2) Unable to locate credentials
- AWS CLI chÆ°a cáº¥u hÃ¬nh AWS_ACCESS_KEY_ID hoáº·c AWS_SECRET_ACCESS_KEY

3) Permission denied
- User khÃ´ng cÃ³ quyá»n eks:DescribeCluster

--------------------------------------------------------------------

11. Khi nÃ o nÃªn dÃ¹ng lá»‡nh nÃ y?
--------------------------------------------------------------------
- Káº¿t ná»‘i kubectl tá»›i cluster EKS má»›i táº¡o
- Cáº­p nháº­t kubeconfig khi cluster thay Ä‘á»•i endpoint hoáº·c certificate
- Chuáº©n bá»‹ mÃ´i trÆ°á»ng lÃ m viá»‡c vá»›i cluster EKS trÃªn mÃ¡y local

--------------------------------------------------------------------

12. So sÃ¡nh nhanh
--------------------------------------------------------------------
aws eks update-kubeconfig â†’ thÃªm hoáº·c cáº­p nháº­t kubeconfig cho cluster EKS
kubectl config view â†’ xem file kubeconfig hiá»‡n táº¡i
kubectl get nodes â†’ kiá»ƒm tra node sau khi cáº¥u hÃ¬nh kubeconfig

--------------------------------------------------------------------

13. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
aws eks update-kubeconfig --region us-east-1 --name vpro-eks =
Cáº¬P NHáº¬T FILE KUBECONFIG Äá»‚ KUBECTL CÃ“ THá»‚ Káº¾T Ná»I Vá»šI CLUSTER EKS vpro-eks TRONG REGION us-east-1
		
		
		- cmd: cat ~/.kube/config
		
# Lá»‡nh gá»‘c:
cat ~/.kube/config

# Giáº£i thÃ­ch chi tiáº¿t:

# 1. cat
# - `cat` lÃ  lá»‡nh Unix/Linux dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ ná»™i dung cá»§a file trÃªn terminal.
# - NgoÃ i ra, `cat` cÃ²n cÃ³ thá»ƒ ná»‘i nhiá»u file vÃ  chuyá»ƒn output sang file khÃ¡c hoáº·c pipe.

# 2. ~/.kube/config
# - ÄÃ¢y lÃ  Ä‘Æ°á»ng dáº«n tá»›i file kubeconfig cá»§a ngÆ°á»i dÃ¹ng hiá»‡n táº¡i.
# - File kubeconfig chá»©a thÃ´ng tin cáº¥u hÃ¬nh Ä‘á»ƒ `kubectl` káº¿t ná»‘i tá»›i Kubernetes cluster.
# - Ná»™i dung file thÆ°á»ng bao gá»“m:
#   + clusters: danh sÃ¡ch cluster mÃ  kubectl cÃ³ thá»ƒ káº¿t ná»‘i.
#   + contexts: cÃ¡c context Ä‘á»‹nh nghÄ©a káº¿t ná»‘i cá»¥ thá»ƒ giá»¯a user vÃ  cluster.
#   + users: thÃ´ng tin user/kube credentials.
#   + current-context: context Ä‘ang Ä‘Æ°á»£c sá»­ dá»¥ng.
# - VÃ­ dá»¥, file cÃ³ thá»ƒ chá»©a thÃ´ng tin YAML nhÆ° sau:
#   apiVersion: v1
#   kind: Config
#   clusters:
#   - cluster:
#       certificate-authority: /home/user/.minikube/ca.crt
#       server: https://127.0.0.1:8443
#     name: minikube
#   contexts:
#   - context:
#       cluster: minikube
#       user: minikube
#     name: minikube
#   current-context: minikube
#   users:
#   - name: minikube
#     user:
#       client-certificate: /home/user/.minikube/client.crt
#       client-key: /home/user/.minikube/client.key

# 3. Chá»©c nÄƒng tá»•ng thá»ƒ
# - Khi cháº¡y `cat ~/.kube/config`, há»‡ thá»‘ng sáº½:
#   1. Hiá»ƒn thá»‹ toÃ n bá»™ ná»™i dung file cáº¥u hÃ¬nh kubeconfig trÃªn terminal.
#   2. GiÃºp ngÆ°á»i quáº£n trá»‹ xem cluster, user, context, certificate, endpoint,...
#   3. Há»¯u Ã­ch Ä‘á»ƒ debug káº¿t ná»‘i kubectl hoáº·c kiá»ƒm tra cáº¥u hÃ¬nh cluster.

# 4. LÆ°u Ã½ quan trá»ng:
# - File kubeconfig chá»©a thÃ´ng tin nháº¡y cáº£m nhÆ° certificate, token, credentials.
# - KhÃ´ng chia sáº» file nÃ y náº¿u khÃ´ng báº£o máº­t.
# - File cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ káº¿t ná»‘i nhiá»u cluster khÃ¡c nhau, quáº£n lÃ½ context dá»… dÃ ng.

# 5. CÃ¡c lá»‡nh liÃªn quan:
# - kubectl config view
#   + Hiá»ƒn thá»‹ cáº¥u hÃ¬nh kubeconfig tÆ°Æ¡ng tá»±, nhÆ°ng cÃ³ format Ä‘áº¹p vÃ  há»— trá»£ filter.
# - kubectl config get-contexts
#   + Liá»‡t kÃª táº¥t cáº£ context trong file kubeconfig.
# - kubectl config current-context
#   + Hiá»ƒn thá»‹ context hiá»‡n táº¡i Ä‘ang dÃ¹ng.

# Káº¿t luáº­n:
# Lá»‡nh `cat ~/.kube/config` dÃ¹ng Ä‘á»ƒ xem trá»±c tiáº¿p toÃ n bá»™ ná»™i dung file kubeconfig cá»§a ngÆ°á»i dÃ¹ng,
# giÃºp kiá»ƒm tra thÃ´ng tin cluster, context, user vÃ  debug káº¿t ná»‘i kubectl trong Kubernetes.
		
		
		- cmd: choco install kubernetes-cli -y
		
# Lá»‡nh:
choco install kubernetes-cli -y

# Giáº£i thÃ­ch chi tiáº¿t:

# 1. choco
#    - 'choco' lÃ  viáº¿t táº¯t cá»§a Chocolatey, má»™t package manager trÃªn Windows
#    - DÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t, nÃ¢ng cáº¥p, hoáº·c gá»¡ bá» cÃ¡c pháº§n má»m tá»« command line

# 2. install
#    - ÄÃ¢y lÃ  tÃ¹y chá»n cá»§a choco dÃ¹ng Ä‘á»ƒ **cÃ i Ä‘áº·t** má»™t package má»›i

# 3. kubernetes-cli
#    - TÃªn package mÃ  báº¡n muá»‘n cÃ i Ä‘áº·t
#    - kubernetes-cli chÃ­nh lÃ  'kubectl', cÃ´ng cá»¥ command-line Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster

# 4. -y
#    - TÃ¹y chá»n tá»± Ä‘á»™ng Ä‘á»“ng Ã½ táº¥t cáº£ cÃ¡c bÆ°á»›c cÃ i Ä‘áº·t
#    - KhÃ´ng cáº§n xÃ¡c nháº­n thá»§ cÃ´ng tá»« ngÆ°á»i dÃ¹ng

# Ã nghÄ©a tá»•ng thá»ƒ:
# - Lá»‡nh nÃ y sáº½ cÃ i Ä‘áº·t cÃ´ng cá»¥ kubectl trÃªn há»‡ thá»‘ng Windows báº±ng Chocolatey
# - Sau khi cÃ i Ä‘áº·t xong, báº¡n cÃ³ thá»ƒ dÃ¹ng kubectl Ä‘á»ƒ thao tÃ¡c vá»›i cÃ¡c cluster Kubernetes tá»« terminal
		
		
		- cmd: kubectl get pods
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
kubectl get pods

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Liá»‡t kÃª táº¥t cáº£ cÃ¡c Pod trong namespace hiá»‡n táº¡i cá»§a Kubernetes cluster
- Cung cáº¥p thÃ´ng tin cÆ¡ báº£n vá» tráº¡ng thÃ¡i cÃ¡c Pod
- Há»¯u Ã­ch Ä‘á»ƒ:
  + Kiá»ƒm tra Pod Ä‘Ã£ Ä‘Æ°á»£c triá»ƒn khai hay chÆ°a
  + Xem sá»‘ Pod Ä‘ang cháº¡y, crash, hoáº·c pending
  + GiÃ¡m sÃ¡t tÃ¬nh tráº¡ng cluster vÃ  debug sá»± cá»‘

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. kubectl
--------------------------------------------------
- CÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster

2.2. get
--------------------------------------------------
- Subcommand dÃ¹ng Ä‘á»ƒ láº¥y thÃ´ng tin resource trong cluster
- Há»— trá»£ nhiá»u loáº¡i resource: pods, deployments, services, nodes, v.v.

2.3. pods
--------------------------------------------------
- Chá»‰ Ä‘á»‹nh loáº¡i resource muá»‘n láº¥y thÃ´ng tin lÃ  Pod
- Pod lÃ  Ä‘Æ¡n vá»‹ cÆ¡ báº£n trong Kubernetes, chá»©a má»™t hoáº·c nhiá»u container

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. Kubectl gá»­i request tá»›i Kubernetes API server
2. API server truy váº¥n danh sÃ¡ch táº¥t cáº£ Pod trong namespace hiá»‡n táº¡i
3. Láº¥y thÃ´ng tin cÆ¡ báº£n cá»§a tá»«ng Pod:
   - NAME: tÃªn Pod
   - READY: sá»‘ container sáºµn sÃ ng / tá»•ng sá»‘ container trong Pod
   - STATUS: tráº¡ng thÃ¡i Pod (Running, Pending, CrashLoopBackOff, Completedâ€¦)
   - RESTARTS: sá»‘ láº§n container trong Pod restart
   - AGE: thá»i gian tá»“n táº¡i cá»§a Pod
4. Hiá»ƒn thá»‹ káº¿t quáº£ dáº¡ng báº£ng trÃªn terminal

--------------------------------------------------
4. OUTPUT MáºªU
--------------------------------------------------
NAME              READY   STATUS    RESTARTS   AGE
nginx-pod-1       1/1     Running   0          10m
webapp-pod-2      2/2     Running   1          5m

--------------------------------------------------
5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
--------------------------------------------------
- Hiá»ƒn thá»‹ Pod trong namespace khÃ¡c:
kubectl get pods -n <namespace>

- Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t rá»™ng hÆ¡n:
kubectl get pods -o wide

- Lá»c Pod theo label:
kubectl get pods -l app=nginx

- Output á»Ÿ Ä‘á»‹nh dáº¡ng YAML hoáº·c JSON:
kubectl get pods -o yaml
kubectl get pods -o json

--------------------------------------------------
6. Lá»¢I ÃCH THá»°C Táº¾
--------------------------------------------------
- GiÃºp quáº£n lÃ½ vÃ  giÃ¡m sÃ¡t Pod trong cluster
- Kiá»ƒm tra Pod Ä‘Ã£ Ä‘Æ°á»£c triá»ƒn khai Ä‘Ãºng cÃ¡ch chÆ°a
- Há»— trá»£ debug khi Pod khÃ´ng cháº¡y hoáº·c crash
- Kiá»ƒm tra sá»‘ container sáºµn sÃ ng vÃ  restart count

--------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------
- No resources found: namespace hiá»‡n táº¡i khÃ´ng cÃ³ Pod
- Permission denied: user hiá»‡n táº¡i khÃ´ng cÃ³ quyá»n xem Pod

--------------------------------------------------
8. Cáº¢NH BÃO
--------------------------------------------------
- Chá»‰ hiá»ƒn thá»‹ Pod trong namespace hiá»‡n táº¡i trá»« khi dÃ¹ng `-n`
- ThÃ´ng tin máº·c Ä‘á»‹nh lÃ  cÆ¡ báº£n, dÃ¹ng `-o wide` hoáº·c `-o yaml` Ä‘á»ƒ xem chi tiáº¿t hÆ¡n

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
kubectl get pods

= Liá»‡t kÃª táº¥t cáº£ Pod trong namespace
= Hiá»ƒn thá»‹ tráº¡ng thÃ¡i, sá»‘ container ready, restart vÃ  age
= DÃ¹ng -n, -l, -o wide/yaml/json Ä‘á»ƒ xem chi tiáº¿t hÆ¡n
= Há»¯u Ã­ch cho giÃ¡m sÃ¡t vÃ  debug Pod trong cluster
		
		
		
		
		
		
		
		
		
		
		

		
		

		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	
		

	Kubernetes - SÆ¡ Ä‘á»“ kiáº¿n trÃºc cá»§a Kubernetes (K8s):
	
		Tá»•ng quan vá» Kubernetes Architecture

			Kubernetes chia há»‡ thá»‘ng thÃ nh hai pháº§n chÃ­nh:

				Master Node (Control Plane) â€“ quáº£n lÃ½ toÃ n bá»™ cluster

				Worker Nodes â€“ nÆ¡i tháº­t sá»± cháº¡y cÃ¡c container (á»©ng dá»¥ng cá»§a báº¡n)
				
		Master Node (Control Plane)

			ÄÃ¢y lÃ  bá»™ nÃ£o cá»§a Kubernetes, chá»‹u trÃ¡ch nhiá»‡m Ä‘iá»u phá»‘i vÃ  quáº£n lÃ½ toÃ n bá»™ cluster.
			Trong hÃ¬nh, báº¡n tháº¥y cÃ¡c thÃ nh pháº§n chÃ­nh sau:

			API Server

				LÃ  trung tÃ¢m giao tiáº¿p cá»§a Kubernetes.

				Má»i lá»‡nh (kubectl apply, kubectl get pods, â€¦) Ä‘á»u Ä‘i qua API Server.

				NÃ³ nháº­n file YAML (bÃªn trÃ¡i hÃ¬nh), chá»©a Ä‘á»‹nh nghÄ©a Pod, Service, Deployment, v.v.

				Sau Ä‘Ã³ ghi thÃ´ng tin Ä‘Ã³ vÃ o etcd (database).

				Hiá»ƒu Ä‘Æ¡n giáº£n: API Server lÃ  â€œcá»­a chÃ­nhâ€ cá»§a cluster.

			etcd

				LÃ  cÆ¡ sá»Ÿ dá»¯ liá»‡u phÃ¢n tÃ¡n (key-value store) cá»§a Kubernetes.

				LÆ°u toÃ n bá»™ tráº¡ng thÃ¡i cá»§a cluster: pods, nodes, cáº¥u hÃ¬nh máº¡ng, secrets, â€¦

				Náº¿u máº¥t etcd, báº¡n máº¥t toÃ n bá»™ â€œtrÃ­ nhá»›â€ cá»§a há»‡ thá»‘ng.

			âš™Controller Manager

				Theo dÃµi tráº¡ng thÃ¡i cluster qua etcd.

				Náº¿u phÃ¡t hiá»‡n sá»± khÃ¡c biá»‡t giá»¯a tráº¡ng thÃ¡i mong muá»‘n vÃ  tráº¡ng thÃ¡i thá»±c táº¿, nÃ³ sáº½ hÃ nh Ä‘á»™ng Ä‘á»ƒ khÃ´i phá»¥c láº¡i.

				VÃ­ dá»¥:

					YAML khai bÃ¡o cáº§n 3 pods, nhÆ°ng thá»±c táº¿ chá»‰ cÃ³ 2 pods cháº¡y â†’ Controller Manager sáº½ táº¡o thÃªm 1 pod má»›i.

			Scheduler

				Quyáº¿t Ä‘á»‹nh pod sáº½ Ä‘Æ°á»£c cháº¡y á»Ÿ node nÃ o.

				Dá»±a trÃªn tÃ i nguyÃªn cÃ²n trá»‘ng (CPU, RAM), cÃ¡c rÃ ng buá»™c (nodeSelector, affinity, v.v.)

				Sau khi chá»n node, Scheduler bÃ¡o cho kubelet á»Ÿ node Ä‘Ã³ Ä‘á»ƒ triá»ƒn khai pod.
				
		Worker Nodes

			Má»—i Worker Node lÃ  má»™t mÃ¡y (hoáº·c VM) tháº­t nÆ¡i container thá»±c sá»± cháº¡y.
			
			Trong hÃ¬nh báº¡n tháº¥y ba Worker nodes, má»—i node gá»“m:

				Kubelet

					Agent cháº¡y trÃªn má»—i node, nháº­n lá»‡nh tá»« API Server.

					Khi Scheduler quyáº¿t Ä‘á»‹nh gÃ¡n Pod vÃ o node nÃ y, Kubelet sáº½:

						Gá»i Docker (hoáº·c container runtime khÃ¡c nhÆ° containerd)

						KÃ©o image vá»

						Táº¡o vÃ  khá»Ÿi Ä‘á»™ng container

						BÃ¡o láº¡i tráº¡ng thÃ¡i pod vá» API Server

				Kube Proxy

					Quáº£n lÃ½ máº¡ng vÃ  load balancing giá»¯a cÃ¡c Pods.

					GiÃºp cÃ¡c Pods á»Ÿ cÃ¡c node khÃ¡c nhau cÃ³ thá»ƒ liÃªn láº¡c vá»›i nhau.

					Duy trÃ¬ service IP vÃ  routing rules trong há»‡ thá»‘ng.

				Docker (hoáº·c container runtime)

					LÃ  cÃ´ng cá»¥ tháº­t sá»± cháº¡y container.

					Kubernetes chá»‰ â€œra lá»‡nhâ€, Docker thá»±c thi viá»‡c táº¡o vÃ  quáº£n lÃ½ container.

				Pods

					ÄÆ¡n vá»‹ triá»ƒn khai nhá» nháº¥t trong Kubernetes.

					Má»™t Pod cÃ³ thá»ƒ chá»©a má»™t hoáº·c nhiá»u container, cháº¡y cÃ¹ng trÃªn má»™t node.

					Náº¿u Pod cháº¿t, Kubernetes sáº½ tá»± táº¡o láº¡i Pod má»›i theo YAML Ä‘á»‹nh nghÄ©a (báº¡n tháº¥y dáº¥u â€œX Ä‘á»â€ á»Ÿ node
					cuá»‘i hÃ¬nh â†’ má»™t Pod cháº¿t, K8s sáº½ khá»Ÿi táº¡o láº¡i).
					
		Luá»“ng hoáº¡t Ä‘á»™ng tá»•ng quÃ¡t

			Dev gá»­i file YAML Ä‘áº¿n API Server (kubectl apply -f deployment.yaml)

			API Server lÆ°u cáº¥u hÃ¬nh vÃ o etcd

			Controller Manager kiá»ƒm tra vÃ  ra lá»‡nh táº¡o Pod

			Scheduler chá»n node phÃ¹ há»£p

			Kubelet á»Ÿ node Ä‘Ã³ nháº­n lá»‡nh â†’ cháº¡y Pod báº±ng Docker

			Kube Proxy Ä‘áº£m báº£o Pod cÃ³ thá»ƒ giao tiáº¿p vá»›i cÃ¡c Pod khÃ¡c
			
	- Code trong file pod1.yaml:
	
		Case 1:
		
			apiVersion: v1
			kind: Pod
			metadata:
			  name: nginx12
			  namespace: kubekart
			spec:
			  containers:
			  - name: nginx
				image: nginx:1.14.2
				ports:
				- containerPort: 80

	- Code trong file vproapppod.yaml:
	
		Case 1:
		
			apiVersion: v1
			kind: Pod
			metadata:
			  name: vproapp
			  labels:
				app: vproapp
			spec:
			  containers:
				- name: appcontainer
				  image: imranvisualpath/freshtomapp:V7
				  ports:
					- name: vproapp-port
					  containerPort: 8080
	- Code trong file vproapp-nodeport.yaml:
	
		Case 1:
		
			apiVersion: v1
			kind: Service
			metadata:
			  name: helloworld-service
			spec:
			  ports:
			  - port: 8090
				nodePort: 30001
				targetPort: vproapp-port
				protocol: TCP
			  selector:
				app: vproapp
			  type: NodePort

	- Code trong file vproapp-loadbalancer.yml
	
		Case 1:
		
			apiVersion: v1
			kind: Service
			metadata:
			  name: helloworld-service
			spec:
			  ports:
			  - port: 80
				targetPort: vproapp-port
				protocol: TCP
			  selector:
				app: vproapp
			  type: LoadBalancer

	- Code trong file replset.yaml
	
		Case 1:
		
			apiVersion: apps/v1
			kind: ReplicaSet
			metadata:
			  name: frontend
			  labels:
				app: guestbook
				tier: frontend
			spec:
			  # modify replicas according to your case
			  replicas: 3
			  selector:
				matchLabels:
				  tier: frontend
			  template:
				metadata:
				  labels:
					tier: frontend
				spec:
				  containers:
				  - name: php-redis
					image: us-docker.pkg.dev/google-samples/containers/gke/gb-frontend:v5
					
		Case 2:
		
			apiVersion: apps/v1
			kind: ReplicaSet
			metadata:
			  name: frontend
			  labels:
				app: guestbook
				tier: frontend
			spec:
			  # modify replicas according to your case
			  replicas: 5
			  selector:
				matchLabels:
				  tier: frontend
			  template:
				metadata:
				  labels:
					tier: frontend
				spec:
				  containers:
				  - name: php-redis
					image: us-docker.pkg.dev/google-samples/containers/gke/gb-frontend:v5
					
	- Code trong file deployment.yaml:
	
		Case 1:
		
			apiVersion: apps/v1
			kind: Deployment
			metadata:
			  name: nginx-deployment
			  labels:
				app: nginx
			spec:
			  replicas: 3
			  selector:
				matchLabels:
				  app: nginx
			  template:
				metadata:
				  labels:
					app: nginx
				spec:
				  containers:
				  - name: nginx
					image: nginx:1.14.2
					ports:
					- containerPort: 80

	- Code trong file com.yaml:
	
		Case 1:
		
			apiVersion: v1
			kind: Pod
			metadata:
			  name: command-demo
			  labels:
				purpose: demonstrate-command
			spec:
			  containers:
			  - name: command-demo-container
				image: debian
				command: ["printenv"]
				args: ["HOSTNAME", "KUBERNETES_PORT"]
			  restartPolicy: OnFailure
			  
	- Code trong file mysqlpod.yaml:
	
		Case 1: cháº¡y gáº·p lá»—i vÃ  Ä‘Æ°á»£c fix nhÆ° á»Ÿ Case 2
		
			apiVersion: v1
			kind: Pod
			metadata:
			  name: dbpod
			spec:
			  containers:
			  - image: mysql:5.7
				name: mysql
				volumeMounts:
				- mountPath: /var/lib/mysql
				  name: dbvol
			  volumes:
			  - name: dbvol
				hostPath:
				  # directory location on host
				  path: /data
				  # this field is optional
				  type: DirectoryOrCreate
				  
		Case 2:
		
			apiVersion: v1

			kind: Pod

			metadata:

			  name: dbpod

			spec:

			  containers:

			  - image: mysql:5.7

				name: mysql

				env:

				- name: MYSQL_ROOT_PASSWORD

				  value: examplepassword

				- name: MYSQL_DATABASE

				  value: exampledb

				- name: MYSQL_USER

				  value: exampleuser

				- name: MYSQL_PASSWORD

				  value: examplepassword

				volumeMounts:

				- mountPath: /var/lib/mysql

				  name: dbvol

			  volumes:

			  - name: dbvol

				hostPath:

				  # directory location on host

				  path: /data

				  # this field is optional

				  type: DirectoryOrCreate
				  
	- Code trong file samplecm.yaml:
	
		Case 1:
		
			apiVersion: v1
			kind: ConfigMap
			metadata:
			  name: game-demo
			data:
			  # property-like keys; each key maps to a simple value
			  player_initial_lives: "3"
			  ui_properties_file_name: "user-interface.properties"

			  # file-like keys
			  game.properties: |
				enemy.types=aliens,monsters
				player.maximum-lives=5    
			  user-interface.properties: |
				color.good=purple
				color.bad=yellow
				allow.textmode=true    

	- Code trong file readcmpod.yaml:
	
		Case 1:
		
			apiVersion: v1
			kind: Pod
			metadata:
			  name: configmap-demo-pod
			spec:
			  containers:
				- name: demo
				  image: alpine
				  command: ["sleep", "3600"]
				  env:
					# Define the environment variable
					- name: PLAYER_INITIAL_LIVES # Notice that the case is different here
												 # from the key name in the ConfigMap.
					  valueFrom:
						configMapKeyRef:
						  name: game-demo           # The ConfigMap this value comes from.
						  key: player_initial_lives # The key to fetch.
					- name: UI_PROPERTIES_FILE_NAME
					  valueFrom:
						configMapKeyRef:
						  name: game-demo
						  key: ui_properties_file_name
				  volumeMounts:
				  - name: config
					mountPath: "/config"
					readOnly: true
			  volumes:
			  # You set volumes at the Pod level, then mount them into containers inside that Pod
			  - name: config
				configMap:
				  # Provide the name of the ConfigMap you want to mount.
				  name: game-demo
				  # An array of keys from the ConfigMap to create as files
				  items:
				  - key: "game.properties"
					path: "game.properties"
				  - key: "user-interface.properties"
					path: "user-interface.properties"
					
	- Code trong file mysecret.yaml:
	
		Case 1:
		
			apiVersion: v1
			kind: Secret
			metadata:
			  name: mysecret
			data:
			  username: YWRtaW4=
			  password: bXlzZWNyZXRwYXNz
			type: Opaque
			
	- Code trong file readsecret.yaml:
	
		Case 1:
		
			apiVersion: v1
			kind: Secret
			metadata:
			  name: mysecret
			data:
			  username: YWRtaW4=
			  password: bXlzZWNyZXRwYXNz
			type: Opaque
			ubuntu@ip-172-31-36-50:~$ cat readsecret.yaml
			apiVersion: v1
			kind: Pod
			metadata:
			  name: secret-env-pod
			spec:
			  containers:
				- name: mycontainer
				  image: redis
				  env:
					- name: SECRET_USERNAME
					  valueFrom:
						secretKeyRef:
						  name: mysecret
						  key: username
						  optional: false  # same as default; "mysecret" must exist and include a key named "username"

					- name: SECRET_PASSWORD
					  valueFrom:
						secretKeyRef:
						  name: mysecret
						  key: password
						  optional: false  # same as default; "mysecret" must exist and include a key named "password"

			  restartPolicy: Never
			  
	- Code trong file vprodep.yaml:
	
		Case 1:
		
			apiVersion: apps/v1
			kind: Deployment
			metadata:
			  name: my-app
			spec:
			  selector:
				matchLabels:
				  run: my-app
			  replicas: 1
			  template:
				metadata:
				  labels:
					run: my-app
				spec:
				  containers:
				  - name: my-app
					image: imranvisualpath/vproappfix
					ports:
					- containerPort: 8080

	- Code trong file vprosvc.yaml:

		Case 1:
		
			apiVersion: apps/v1
			kind: Deployment
			metadata:
			  name: my-app
			spec:
			  selector:
				matchLabels:
				  run: my-app
			  replicas: 1
			  template:
				metadata:
				  labels:
					run: my-app
				spec:
				  containers:
				  - name: my-app
					image: imranvisualpath/vproappfix
					ports:
					- containerPort: 8080
			ubuntu@ip-172-31-36-50:~/vprofile$ cat vprosvc.yaml
			apiVersion: v1
			kind: Service
			metadata:
			  name: my-app
			spec:
			  ports:
			  - port: 8080
				protocol: TCP
				targetPort: 8080
			  selector:
				run: my-app
			  type: ClusterIP

	- Code trong file vprosvc.yaml:

		apiVersion: v1
		kind: Service
		metadata:
		  name: my-app
		spec:
		  ports:
		  - port: 8080
			protocol: TCP
			targetPort: 8080
		  selector:
			run: my-app
		  type: ClusterIP
	- Code trong file vproingress.yaml:
	
		Case 1:
		
			apiVersion: networking.k8s.io/v1
			kind: Ingress
			metadata:
			  name: vpro-ingress
			  annotations:
				nginx.ingress.kubernetes.io/use-regex: "true"
			spec:
			  ingressClassName: nginx
			  rules:
			  - host: vprofile.vnstudio.info
				http:
				  paths:
				  - path: /
					pathType: Prefix
					backend:
					  service:
						name: my-app
						port:
						  number: 8080
						  
	- Code trong file ngpod.yaml:
	
		Case 1:
		
			apiVersion: v1
			kind: Pod
			metadata:
			  labels:
				run: nginxpod
			  name: nginxpod
			spec:
			  containers:
			  - image: nginx
				name: nginxpod

	- Code trong file sampleds.yaml:
	
		Case 1:
		
			apiVersion: apps/v1
			kind: DaemonSet
			metadata:
			  name: fluentd-elasticsearch
			  namespace: kube-system
			  labels:
				k8s-app: fluentd-logging
			spec:
			  selector:
				matchLabels:
				  name: fluentd-elasticsearch
			  template:
				metadata:
				  labels:
					name: fluentd-elasticsearch
				spec:
				  tolerations:
				  # these tolerations are to have the daemonset runnable on control plane nodes
				  # remove them if your control plane nodes should not run pods
				  - key: node-role.kubernetes.io/control-plane
					operator: Exists
					effect: NoSchedule
				  - key: node-role.kubernetes.io/master
					operator: Exists
					effect: NoSchedule
				  containers:
				  - name: fluentd-elasticsearch
					image: quay.io/fluentd_elasticsearch/fluentd:v5.0.1
					resources:
					  limits:
						memory: 200Mi
					  requests:
						cpu: 100m
						memory: 200Mi
					volumeMounts:
					- name: varlog
					  mountPath: /var/log
				  # it may be desirable to set a high priority class to ensure that a DaemonSet Pod
				  # preempts running Pods
				  # priorityClassName: important
				  terminationGracePeriodSeconds: 30
				  volumes:
				  - name: varlog
					hostPath:
					  path: /var/log

	- Code trong file eks-cluster.tf:
	
		Case 1:
		
			module "eks" {
			  source = "terraform-aws-modules/eks/aws"
			  version = "19.0.4"

			  cluster_name = local.cluster_name
			  cluster_version = "1.30"

			  vpc_id = module.vpc.vpc_id
			  subnet_ids = module.vpc.private_subnets
			  cluster_endpoint_public_access = true

			  eks_managed_node_group_defaults = {
				ami_type = "AL2_x86_64"

			  }

			  eks_managed_node_groups = {
				one = {
				  name = "node-group-1"

				  instance_types = ["t3.small"]

				  min_size = 1
				  max_size = 3
				  desired_size = 2
				}

				two = {
				  name = "node-group-2"

				  instance_types = ["t3.small"]

				  min_size = 1
				  max_size = 2
				  desired_size = 1
				}
			  }
			}

	- Code trong file main.tf:
	
		Case 1:
		
			provider "kubernetes" {
			  host = module.eks.cluster_endpoint
			  cluster_ca_certificate = base64decode(module.eks.cluster_certificate_authority_data)
			}

			provider "aws" {
			  region = var.region
			}

			data "aws_availability_zones" "available" {}

			locals {
			  cluster_name = var.clusterName
			}

	- Code trong file outputs.tf:
	
		Case 1:
		
			output "cluster_name" {
			  description = "Amazon Web Service EKS Cluster Name"
			  value = module.eks.cluster_name
			}

			output "cluster_endpoint" {
			  description = "Endpoint for Amazon Web Service EKS "
			  value = module.eks.cluster_endpoint
			}

			output "region" {
			  description = "Amazon Web Service EKS Cluster region"
			  value = var.region
			}


			output "cluster_security_group_id" {
			  description = "Security group ID for the Amazon Web Service EKS Cluster "
			  value = module.eks.cluster_security_group_id
			}

	- Code trong file terraform.tf:
	
		Case 1:
		
			terraform {
			  required_providers {
				aws = {
				  source = "hashicorp/aws"
				  version = "~> 4.46.0"
				}

				random = {
				  source = "hashicorp/random"
				  version = "~> 3.4.3"
				}

				tls = {
				  source = "hashicorp/tls"
				  version = "~> 4.0.4"
				}

				cloudinit = {
				  source = "hashicorp/cloudinit"
				  version = "~> 2.2.0"
				}

				kubernetes = {
				  source = "hashicorp/kubernetes"
				  version = "~> 2.16.1"
				}
			  }

			  backend "s3" {
				bucket         	   = "terraform-eks112211"
				key              	   = "state/terraform.tfstate"
				region         	   = "us-east-1"
			  }

			  required_version = "~> 1.3"
			}
			
	- Code trong file variables.tf:
	
		Case 1:
		
			variable "region" {
			  description = "AWS region"
			 type = string
			 default = "us-east-1"
			}

			variable "clusterName" {
			  description = "Name of the EKS cluster"
			 type = string
			 default = "vpro-eks"
			}
			
	- Code trong file vpc.tf:
	
		Case 1:
		
			module "vpc" {
			  source = "terraform-aws-modules/vpc/aws"
			  version = "3.14.2"

			  name = "vprofile-eks"

			  cidr = "172.20.0.0/16"
			  azs = slice(data.aws_availability_zones.available.names, 0, 3)

			  private_subnets = ["172.20.1.0/24", "172.20.2.0/24", "172.20.3.0/24"]
			  public_subnets = ["172.20.4.0/24", "172.20.5.0/24", "172.20.6.0/24"]

			  enable_nat_gateway = true
			  single_nat_gateway = true
			  enable_dns_hostnames = true

			  public_subnet_tags = {
				"kubernetes.io/cluster/${local.cluster_name}" = "shared"
				"kubernetes.io/role/elb" = 1
			  }

			  private_subnet_tags = {
				"kubernetes.io/cluster/${local.cluster_name}" = "shared"
				"kubernetes.io/role/internal-elb" = 1
			  }
			}


--- App Deployment on Kubernetes Cluster:

	Truy cáº­p vÃ o EC2 kops Ä‘á»ƒ táº¡o kops
	
	Upload source lÃªn git, tá»« EC2 kops clone code vá»
	
	

	-- Source: hkhcoder (kubeapp)

	- Google search:
	
		kubernetes persistent volume claim
		
		kubernetes deploy yaml
		
		https://github.com/marketplace?type=
		
		helm docs install helm
		
	Kiáº¿n trÃºc á»©ng dá»¥ng cháº¡y trÃªn Kubernetes Cluster:
	
		Tá»•ng quan hÃ¬nh áº£nh

			áº¢nh mÃ´ táº£ má»™t kiáº¿n trÃºc á»©ng dá»¥ng cháº¡y trÃªn Kubernetes Cluster (EKS cháº³ng háº¡n), bao gá»“m:

				Load Balancer

				Ingress

				CÃ¡c Service (Tomcat, RMQ, MC, DB)

				CÃ¡c Pod tÆ°Æ¡ng á»©ng (Tomcat, RabbitMQ, Memcache, MySQL)

				Secret

				PersistentVolumeClaim + StorageClass

				Amazon EBS Ä‘á»ƒ lÆ°u trá»¯ dá»¯ liá»‡u bá»n vá»¯ng

		Giáº£i thÃ­ch tá»«ng thÃ nh pháº§n
		
			Application Load Balancer (ALB â€“ bÃªn ngoÃ i Kubernetes)

				ÄÃ¢y lÃ  Load Balancer cá»§a AWS.

				Nháº­n request tá»« ngÆ°á»i dÃ¹ng trÃªn Internet.

				Chuyá»ƒn request vÃ o Ingress cá»§a Kubernetes.

			Ingress

				Äiá»ƒm vÃ o cá»§a toÃ n há»‡ thá»‘ng trong Kubernetes.

				Routing request dá»±a trÃªn Ä‘Æ°á»ng dáº«n / domain.

				Gá»­i request Ä‘áº¿n TomcatService.

			TomcatService

				LÃ  Kubernetes Service (thÆ°á»ng lÃ  ClusterIP hoáº·c NodePort).

				Äá»©ng trÆ°á»›c Pod Tomcat.

				GiÃºp load-balancing giá»¯a nhiá»u Pod Tomcat (náº¿u cÃ³).

			Tomcat Pod

				Cháº¡y á»©ng dá»¥ng chÃ­nh (Java Spring, JSP, v.vâ€¦).

				ÄÃ¢y lÃ  nÆ¡i xá»­ lÃ½ business logic.

				Tá»« Tomcat Pod, á»©ng dá»¥ng cáº§n gá»i Ä‘áº¿n cÃ¡c microservices khÃ¡c nhÆ°:

					RMQService

					MCService

					DBService

		CÃ¡c service táº§ng dÆ°á»›i
		
			RMQService (RabbitMQ Service)

				Service Ä‘á»ƒ káº¿t ná»‘i tá»›i Pod RabbitMQ.

				RabbitMQ dÃ¹ng Ä‘á»ƒ xá»­ lÃ½ message queue.

			MCService (Memcache Service)

				Service cho Pod Memcache.

				DÃ¹ng caching tÄƒng tá»‘c Ä‘á»™ truy xuáº¥t.

			DBService (MySQL Service)

				Service Ä‘á»©ng trÆ°á»›c Pod Database.

				Äá»ƒ Tomcat cÃ³ thá»ƒ giao tiáº¿p á»•n Ä‘á»‹nh vá»›i MySQL.

		CÃ¡c Pod tÆ°Æ¡ng á»©ng
		
			RabbitMQ Pod

				Cháº¡y message-broker RabbitMQ.

				Nháº­n config tá»« Secret náº¿u cáº§n (password, connection string).

			Memcache Pod

				Cháº¡y Memcached.

				DÃ¹ng caching Ä‘á»ƒ giáº£m táº£i DB vÃ  cáº£i thiá»‡n tá»‘c Ä‘á»™.

			DB Pod (MySQL)

				Chá»©a MySQL.

				Volume mount vÃ o thÆ° má»¥c:
				/var/lib/mysql

				â†’ Äá»ƒ Ä‘áº£m báº£o dá»¯ liá»‡u khÃ´ng máº¥t khi Pod cháº¿t.

		Secret

			LÆ°u password, key, connection stringâ€¦

			Gá»­i cho RabbitMQ, DB Pod hoáº·c Tomcat Pod.

		LÆ°u trá»¯: PVC â€“ StorageClass â€“ Amazon EBS
		
			PersistentVolumeClaim (PVC)

				DB Pod yÃªu cáº§u má»™t disk Ä‘á»ƒ lÆ°u trá»¯ dá»¯ liá»‡u.

				VÃ­ dá»¥: 20GB SSD.

			StorageClass

				Quy Ä‘á»‹nh loáº¡i storage AWS cung cáº¥p (gp3, io1, throughputâ€¦).

			Amazon EBS

				á»” cá»©ng tháº­t cá»§a AWS Ä‘Æ°á»£c provision khi cÃ³ PVC.

				Gáº¯n vÃ o DB Pod Ä‘á»ƒ dá»¯ liá»‡u persist (bá»n vá»¯ng).

		Luá»“ng xá»­ lÃ½ tá»•ng thá»ƒ

			NgÆ°á»i dÃ¹ng â†’ ALB (AWS)

			ALB â†’ Ingress (Kubernetes)

			Ingress â†’ TomcatService

			TomcatService â†’ Tomcat Pod

			Tomcat gá»i:

				RMQService â†’ RabbitMQ Pod

				MCService â†’ Memcache Pod

				DBService â†’ MySQL Pod

			MySQL Pod cáº§n lÆ°u dá»¯ liá»‡u â†’ PVC â†’ StorageClass â†’ Amazon EBS

	- Commands:
	
		- cmd: echo -n "vprodbpass" | base64
		
# Lá»‡nh:
echo -n "vprodbpass" | base64

# Giáº£i thÃ­ch chi tiáº¿t:

# 1. echo -n "vprodbpass"
#    - echo: in ra chuá»—i kÃ½ tá»± "vprodbpass"
#    - -n: khÃ´ng thÃªm kÃ½ tá»± xuá»‘ng dÃ²ng (\n) á»Ÿ cuá»‘i chuá»—i
#    - "vprodbpass": chuá»—i máº­t kháº©u hoáº·c dá»¯ liá»‡u báº¡n muá»‘n mÃ£ hÃ³a

# 2. | (pipe)
#    - DÃ¹ng Ä‘á»ƒ chuyá»ƒn káº¿t quáº£ cá»§a lá»‡nh echo sang lá»‡nh base64
#    - NÃ³i cÃ¡ch khÃ¡c, Ä‘áº§u ra cá»§a echo sáº½ trá»Ÿ thÃ nh Ä‘áº§u vÃ o cá»§a base64

# 3. base64
#    - MÃ£ hÃ³a chuá»—i nháº­n Ä‘Æ°á»£c sang Ä‘á»‹nh dáº¡ng Base64
#    - Base64 lÃ  cÃ¡ch biá»ƒu diá»…n dá»¯ liá»‡u nhá»‹ phÃ¢n dÆ°á»›i dáº¡ng kÃ½ tá»± ASCII, thÆ°á»ng dÃ¹ng Ä‘á»ƒ lÆ°u trá»¯ hoáº·c truyá»n dá»¯ liá»‡u an toÃ n trong cÃ¡c file cáº¥u hÃ¬nh hoáº·c script

# Ã nghÄ©a tá»•ng thá»ƒ:
# - Lá»‡nh nÃ y sáº½ mÃ£ hÃ³a chuá»—i "vprodbpass" sang Base64
# - Káº¿t quáº£ cÃ³ thá»ƒ dÃ¹ng trong cÃ¡c file cáº¥u hÃ¬nh Kubernetes, Docker secrets, hoáº·c script tá»± Ä‘á»™ng hÃ³a

# VÃ­ dá»¥ thá»±c táº¿:
# Chuá»—i "vprodbpass" sáº½ Ä‘Æ°á»£c mÃ£ hÃ³a thÃ nh:
dnByb2RicGFzcw==
		
		
		- cmd: echo -n "guest" | base64
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
echo -n "guest" | base64

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- MÃ£ hÃ³a chuá»—i `"guest"` sang Ä‘á»‹nh dáº¡ng Base64
- Base64 thÆ°á»ng dÃ¹ng Ä‘á»ƒ:
  + Truyá»n dá»¯ liá»‡u text-safe qua cÃ¡c kÃªnh chá»‰ cháº¥p nháº­n vÄƒn báº£n
  + LÆ°u máº­t kháº©u, token hoáº·c dá»¯ liá»‡u nháº¡y cáº£m trong YAML, JSON
  + Sá»­ dá»¥ng trong Kubernetes secrets hoáº·c cÃ¡c cáº¥u hÃ¬nh cáº§n mÃ£ hÃ³a táº¡m thá»i

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. echo -n "guest"
--------------------------------------------------
- `echo` dÃ¹ng Ä‘á»ƒ in ra chuá»—i kÃ½ tá»±
- `-n` loáº¡i bá» kÃ½ tá»± xuá»‘ng dÃ²ng (newline) á»Ÿ cuá»‘i
- `"guest"` lÃ  chuá»—i cáº§n mÃ£ hÃ³a

2.2. |
--------------------------------------------------
- KÃ½ tá»± "pipe" chuyá»ƒn output tá»« lá»‡nh bÃªn trÃ¡i lÃ m input cho lá»‡nh bÃªn pháº£i
- á» Ä‘Ã¢y: output `"guest"` â†’ input cho lá»‡nh `base64`

2.3. base64
--------------------------------------------------
- Lá»‡nh dÃ¹ng Ä‘á»ƒ mÃ£ hÃ³a hoáº·c giáº£i mÃ£ dá»¯ liá»‡u Base64
- Khi dÃ¹ng mÃ  khÃ´ng thÃªm tham sá»‘ khÃ¡c: mÃ£ hÃ³a input tá»« stdin
- Output lÃ  chuá»—i Base64 tÆ°Æ¡ng á»©ng

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. `echo -n "guest"` xuáº¥t ra chuá»—i `guest` mÃ  khÃ´ng cÃ³ newline
2. Pipe `|` chuyá»ƒn chuá»—i nÃ y Ä‘áº¿n lá»‡nh `base64`
3. `base64` mÃ£ hÃ³a chuá»—i sang Base64
4. Output Ä‘Æ°á»£c in ra terminal, vÃ­ dá»¥: Z3Vlc3Q=

--------------------------------------------------
4. OUTPUT MáºªU
--------------------------------------------------
guest â†’ mÃ£ hÃ³a Base64:

Z3Vlc3Q=

--------------------------------------------------
5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
--------------------------------------------------
- LÆ°u output vÃ o file:
echo -n "guest" | base64 > guest.txt

- Giáº£i mÃ£ Base64:
echo "Z3Vlc3Q=" | base64 --decode
# Output: guest

- DÃ¹ng trong Kubernetes Secret YAML:
apiVersion: v1
kind: Secret
metadata:
  name: guest-secret
type: Opaque
data:
  username: Z3Vlc3Q=

--------------------------------------------------
6. Lá»¢I ÃCH THá»°C Táº¾
--------------------------------------------------
- Chuáº©n hÃ³a dá»¯ liá»‡u text-safe Ä‘á»ƒ lÆ°u trá»¯ hoáº·c truyá»n táº£i
- Dá»… dÃ ng tÃ­ch há»£p vÃ o scripts hoáº·c YAML configs
- Há»— trá»£ quáº£n lÃ½ secrets trong DevOps

--------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------
- QuÃªn `-n` trong echo â†’ sáº½ thÃªm newline, dáº«n Ä‘áº¿n káº¿t quáº£ Base64 khÃ¡c
- Nháº§m láº«n input â†’ chuá»—i Base64 khÃ´ng Ä‘Ãºng

--------------------------------------------------
8. Cáº¢NH BÃO
--------------------------------------------------
- Base64 chá»‰ lÃ  encoding, khÃ´ng pháº£i mÃ£ hÃ³a báº£o máº­t máº¡nh
- KhÃ´ng dÃ¹ng Base64 Ä‘á»ƒ báº£o vá»‡ máº­t kháº©u quan trá»ng mÃ  khÃ´ng thÃªm encryption

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
echo -n "guest" | base64

= MÃ£ hÃ³a chuá»—i "guest" sang Base64
= Output: Z3Vlc3Q=
= DÃ¹ng cho lÆ°u trá»¯ hoáº·c truyá»n táº£i dá»¯ liá»‡u text-safe
= DÃ¹ng -n vá»›i echo Ä‘á»ƒ trÃ¡nh newline lÃ m thay Ä‘á»•i káº¿t quáº£
		
		
		- cmd: kubectl create -f .
		
Lá»†NH: kubectl create -f .
=========================

1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
-------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Táº¡o cÃ¡c resource Kubernetes tá»« cÃ¡c file YAML hoáº·c JSON cÃ³ trong thÆ° má»¥c hiá»‡n táº¡i (.)
- Kubernetes sáº½ Ä‘á»c táº¥t cáº£ file trong thÆ° má»¥c vÃ  táº¡o resource tÆ°Æ¡ng á»©ng
- ThÆ°á»ng dÃ¹ng Ä‘á»ƒ triá»ƒn khai cÃ¡c Pod, Deployment, Service, ConfigMap, hoáº·c cÃ¡c resource khÃ¡c
- ÄÃ¢y lÃ  cÃ¡ch nhanh chÃ³ng Ä‘á»ƒ triá»ƒn khai nhiá»u resource cÃ¹ng lÃºc


2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
------------------------------------

2.1. kubectl
-----------
- CLI chÃ­nh thá»©c cá»§a Kubernetes
- DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ cluster, resource, thá»±c hiá»‡n deploy, debug, giÃ¡m sÃ¡t

2.2. create
-----------
- Sub-command cá»§a kubectl
- DÃ¹ng Ä‘á»ƒ táº¡o má»›i resource
- KhÃ¡c vá»›i `apply`:
  + create: chá»‰ táº¡o má»›i, náº¿u resource Ä‘Ã£ tá»“n táº¡i sáº½ bÃ¡o lá»—i
  + apply: táº¡o má»›i náº¿u chÆ°a tá»“n táº¡i, cáº­p nháº­t náº¿u Ä‘Ã£ tá»“n táº¡i

2.3. -f
--------
- Flag chá»‰ Ä‘á»‹nh file hoáº·c thÆ° má»¥c chá»©a Ä‘á»‹nh nghÄ©a resource
- CÃ³ thá»ƒ lÃ :
  + File YAML/JSON: -f pod.yaml
  + ThÆ° má»¥c: -f ./my-manifests/
  + URL trá»±c tiáº¿p: -f https://example.com/deploy.yaml

2.4. .
--------
- Dáº¥u cháº¥m Ä‘áº¡i diá»‡n cho thÆ° má»¥c hiá»‡n táº¡i
- Kubernetes sáº½ tÃ¬m táº¥t cáº£ file YAML/JSON trong thÆ° má»¥c nÃ y vÃ  táº¡o resource tÆ°Æ¡ng á»©ng


3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
---------------------------------
Khi cháº¡y:
kubectl create -f .

Kubectl sáº½:
1. QuÃ©t thÆ° má»¥c hiá»‡n táº¡i Ä‘á»ƒ tÃ¬m cÃ¡c file YAML/JSON há»£p lá»‡
2. Káº¿t ná»‘i tá»›i API server cá»§a cluster
3. Táº¡o resource theo tá»«ng file
4. Tráº£ vá» tráº¡ng thÃ¡i cho tá»«ng resource (vÃ­ dá»¥: created, error)


4. Káº¾T QUáº¢ MáºªU
---------------
VÃ­ dá»¥ output:

configmap/my-config created
deployment.apps/nginx-deployment created
service/nginx-service created

Giáº£i thÃ­ch:
- created: resource Ä‘Ã£ Ä‘Æ°á»£c táº¡o thÃ nh cÃ´ng
- Náº¿u resource Ä‘Ã£ tá»“n táº¡i, lá»‡nh sáº½ bÃ¡o lá»—i


5. CÃC BIáº¾N THá»‚ HAY DÃ™NG
-----------------------
- Táº¡o tá»« má»™t file cá»¥ thá»ƒ:
  kubectl create -f pod.yaml

- Táº¡o tá»« nhiá»u file:
  kubectl create -f pod.yaml -f service.yaml

- Táº¡o tá»« thÆ° má»¥c con:
  kubectl create -f ./manifests/


6. Lá»¢I ÃCH KHI DÃ™NG Lá»†NH NÃ€Y
----------------------------
- Triá»ƒn khai nhanh nhiá»u resource tá»« thÆ° má»¥c
- Dá»… dÃ ng sá»­ dá»¥ng cho mÃ´i trÆ°á»ng test hoáº·c dev
- KhÃ´ng cáº§n viáº¿t nhiá»u lá»‡nh create cho tá»«ng file


7. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------
- File YAML/JSON sai cÃº phÃ¡p:
  => Error: unable to read file, check indentation

- Resource Ä‘Ã£ tá»“n táº¡i:
  => Error: resource "X" already exists

- KhÃ´ng cÃ³ quyá»n táº¡o resource:
  => Kiá»ƒm tra kubeconfig vÃ  RBAC


8. TÃ“M Táº®T NGáº®N Gá»ŒN
-------------------
kubectl           : CLI Kubernetes
create            : táº¡o resource má»›i
-f .              : sá»­ dá»¥ng táº¥t cáº£ file YAML/JSON trong thÆ° má»¥c hiá»‡n táº¡i
Káº¿t quáº£          : táº¥t cáº£ resource trong thÆ° má»¥c Ä‘Æ°á»£c táº¡o má»›i, output hiá»ƒn thá»‹ created hoáº·c error
		
		
		- cmd: kubectl delete -f .
		
Lá»†NH: kubectl delete -f .
====================================================================

1. kubectl lÃ  gÃ¬?
--------------------------------------------------------------------
- kubectl lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster.
- DÃ¹ng Ä‘á»ƒ:
  + Táº¡o, cáº­p nháº­t, xÃ³a resource (Pod, Deployment, Service, ConfigMapâ€¦)
  + Kiá»ƒm tra tráº¡ng thÃ¡i cluster vÃ  cÃ¡c resource
- Giao tiáº¿p trá»±c tiáº¿p vá»›i API server cá»§a Kubernetes.

--------------------------------------------------------------------

2. delete lÃ  gÃ¬?
--------------------------------------------------------------------
- delete = xÃ³a resource khá»i cluster
- kubectl delete cÃ³ thá»ƒ xÃ³a:
  + Pod, Deployment, Service, ConfigMap, Secret, Namespace, v.v.
- Dá»¯ liá»‡u bá»‹ xÃ³a sáº½ máº¥t vÄ©nh viá»…n (trá»« khi backup)

--------------------------------------------------------------------

3. -f . lÃ  gÃ¬?
--------------------------------------------------------------------
- -f = chá»‰ Ä‘á»‹nh file hoáº·c thÆ° má»¥c chá»©a file YAML/JSON Ä‘á»‹nh nghÄ©a resource
- . (dáº¥u cháº¥m) = thÆ° má»¥c hiá»‡n táº¡i
- NghÄ©a lÃ  kubectl sáº½ tÃ¬m táº¥t cáº£ file YAML/JSON trong thÆ° má»¥c hiá»‡n táº¡i vÃ  xÃ³a cÃ¡c resource Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong Ä‘Ã³

--------------------------------------------------------------------

4. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
kubectl delete -f .

â†’ XÃ³a táº¥t cáº£ resource Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong cÃ¡c file YAML/JSON á»Ÿ thÆ° má»¥c hiá»‡n táº¡i
â†’ Bao gá»“m má»i kind: Pod, Deployment, Service, ConfigMap, Secret, v.v.
â†’ ThÆ°á»ng dÃ¹ng khi muá»‘n dá»n sáº¡ch mÃ´i trÆ°á»ng triá»ƒn khai tá»« má»™t project cá»¥ thá»ƒ

--------------------------------------------------------------------

5. Quy trÃ¬nh thá»±c thi lá»‡nh
--------------------------------------------------------------------
1) kubectl quÃ©t táº¥t cáº£ file YAML/JSON trong thÆ° má»¥c hiá»‡n táº¡i
2) PhÃ¢n tÃ­ch cÃ¡c resource Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong file
3) Gá»­i request DELETE tá»›i API server cho tá»«ng resource
4) API server xÃ³a resource khá»i cluster
5) kubectl hiá»ƒn thá»‹ káº¿t quáº£ xÃ³a:
   - deleted â†’ resource Ä‘Ã£ bá»‹ xÃ³a thÃ nh cÃ´ng
   - not found â†’ resource khÃ´ng tá»“n táº¡i

--------------------------------------------------------------------

6. Kiá»ƒm tra sau khi cháº¡y lá»‡nh
--------------------------------------------------------------------
- Liá»‡t kÃª táº¥t cáº£ resource hiá»‡n cÃ³:
kubectl get all

- Kiá»ƒm tra Pod/Deployment/Service cá»¥ thá»ƒ Ä‘Ã£ bá»‹ xÃ³a:
kubectl get pod <pod-name>
kubectl get deployment <deployment-name>

--------------------------------------------------------------------

7. Output Ä‘iá»ƒn hÃ¬nh
--------------------------------------------------------------------
deployment.apps/nginx-deployment deleted
service/nginx-service deleted
configmap/my-config deleted

- ThÃ´ng bÃ¡o cÃ¡c resource Ä‘Ã£ bá»‹ xÃ³a thÃ nh cÃ´ng

--------------------------------------------------------------------

8. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) no resources found
- KhÃ´ng tÃ¬m tháº¥y resource trong file hoáº·c resource Ä‘Ã£ bá»‹ xÃ³a

2) Unable to connect to server
- Cluster khÃ´ng hoáº¡t Ä‘á»™ng hoáº·c kubeconfig chÆ°a Ä‘Ãºng

3) Permission denied
- User khÃ´ng cÃ³ quyá»n xÃ³a resource (cáº§n cluster-admin hoáº·c quyá»n thÃ­ch há»£p)

--------------------------------------------------------------------

9. Khi nÃ o nÃªn dÃ¹ng lá»‡nh nÃ y?
--------------------------------------------------------------------
- XÃ³a toÃ n bá»™ resource triá»ƒn khai tá»« thÆ° má»¥c project
- Dá»n sáº¡ch mÃ´i trÆ°á»ng Kubernetes sau thá»­ nghiá»‡m
- Chuáº©n bá»‹ deploy láº¡i cÃ¡c resource má»›i

--------------------------------------------------------------------

10. So sÃ¡nh nhanh
--------------------------------------------------------------------
kubectl delete -f . â†’ xÃ³a táº¥t cáº£ resource trong thÆ° má»¥c hiá»‡n táº¡i
kubectl delete pod <pod-name> â†’ xÃ³a Pod cá»¥ thá»ƒ
kubectl delete deployment <deployment-name> â†’ xÃ³a Deployment cá»¥ thá»ƒ
kubectl apply -f . â†’ táº¡o hoáº·c cáº­p nháº­t táº¥t cáº£ resource trong thÆ° má»¥c

--------------------------------------------------------------------

11. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
kubectl delete -f . =
XÃ“A Táº¤T Cáº¢ RESOURCE ÄÆ¯á»¢C Äá»ŠNH NGHÄ¨A TRONG CÃC FILE YAML/JSON á» THÆ¯ Má»¤C HIá»†N Táº I TRÃŠN CLUSTER KUBERNETES
		
		
		- cmd: kubectl get sc
		
# Lá»‡nh gá»‘c:
kubectl get sc

# Giáº£i thÃ­ch chi tiáº¿t:

# 1. kubectl
# - `kubectl` lÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ quáº£n lÃ½ Kubernetes cluster.
# - DÃ¹ng Ä‘á»ƒ thao tÃ¡c vá»›i cÃ¡c resource nhÆ° pods, deployments, services, configmaps,...

# 2. get
# - `get` dÃ¹ng Ä‘á»ƒ liá»‡t kÃª cÃ¡c resource trong Kubernetes.
# - Lá»‡nh nÃ y hiá»ƒn thá»‹ thÃ´ng tin tÃ³m táº¯t cá»§a resource.

# 3. sc
# - `sc` lÃ  viáº¿t táº¯t cá»§a `StorageClass`.
# - StorageClass lÃ  resource trong Kubernetes dÃ¹ng Ä‘á»ƒ Ä‘á»‹nh nghÄ©a "lá»›p lÆ°u trá»¯" (storage) cho PersistentVolume (PV).
# - StorageClass xÃ¡c Ä‘á»‹nh cÃ¡ch táº¡o PersistentVolume, vÃ­ dá»¥:
#   + Loáº¡i provisioner (aws-ebs, gce-pd, local, nfs,...)
#   + Tham sá»‘ (provisioner-specific parameters)
#   + ChÃ­nh sÃ¡ch reclaim (Retain, Delete, Recycle)
#   + Loáº¡i IOPS, vÃ¹ng (zone), replication,...

# 4. Chá»©c nÄƒng tá»•ng thá»ƒ
# - Khi cháº¡y `kubectl get sc`, Kubernetes sáº½:
#   1. Liá»‡t kÃª táº¥t cáº£ StorageClass cÃ³ trong cluster.
#   2. Hiá»ƒn thá»‹ thÃ´ng tin cÆ¡ báº£n gá»“m:
#      + NAME: tÃªn StorageClass
#      + PROVISIONER: driver/provisioner cá»§a storage
#      + RECLAIMPOLICY: chÃ­nh sÃ¡ch xÃ³a PV khi PVC bá»‹ xÃ³a
#      + VOLUMEBINDINGMODE: cháº¿ Ä‘á»™ binding volume (Immediate hoáº·c WaitForFirstConsumer)
#      + ALLOWVOLUMEEXPANSION: cho phÃ©p má»Ÿ rá»™ng dung lÆ°á»£ng hay khÃ´ng
#      + AGE: thá»i gian StorageClass Ä‘Æ°á»£c táº¡o

# 5. VÃ­ dá»¥ káº¿t quáº£:
# NAME                 PROVISIONER                RECLAIMPOLICY   VOLUMEBINDINGMODE      ALLOWVOLUMEEXPANSION   AGE
# standard             kubernetes.io/aws-ebs     Delete          WaitForFirstConsumer   true                   15d
# fast                 kubernetes.io/gce-pd     Delete          Immediate              true                   10d

# 6. LÆ°u Ã½ quan trá»ng:
# - StorageClass Ä‘á»‹nh nghÄ©a cÃ¡ch Kubernetes provision PersistentVolume khi PVC Ä‘Æ°á»£c táº¡o.
# - Náº¿u PVC khÃ´ng chá»‰ Ä‘á»‹nh StorageClass, PVC sáº½ sá»­ dá»¥ng default StorageClass trong cluster.
# - Quáº£n lÃ½ StorageClass giÃºp tá»‘i Æ°u hiá»‡u nÄƒng, dung lÆ°á»£ng, vÃ  chÃ­nh sÃ¡ch lÆ°u trá»¯.

# 7. CÃ¡c lá»‡nh liÃªn quan:
# - kubectl describe sc <storageclass_name>
#   + Xem chi tiáº¿t StorageClass.
# - kubectl get pvc
#   + Liá»‡t kÃª PersistentVolumeClaim vÃ  xem StorageClass Ä‘ang sá»­ dá»¥ng.
# - kubectl get pv
#   + Liá»‡t kÃª PersistentVolume Ä‘Æ°á»£c táº¡o tá»« StorageClass.

# Káº¿t luáº­n:
# Lá»‡nh `kubectl get sc` dÃ¹ng Ä‘á»ƒ liá»‡t kÃª táº¥t cáº£ StorageClass trong Kubernetes cluster,
# giÃºp quáº£n trá»‹ viÃªn kiá»ƒm tra cÃ¡c lá»›p lÆ°u trá»¯, provisioner, vÃ  chÃ­nh sÃ¡ch liÃªn quan Ä‘áº¿n PersistentVolume.
		
		
		- cmd: kubectl get pods -n kube-system | grep ingress
		
# Lá»‡nh:
kubectl get pods -n kube-system | grep ingress

# Giáº£i thÃ­ch chi tiáº¿t:

# 1. kubectl
#    - CÃ´ng cá»¥ command-line Ä‘á»ƒ quáº£n lÃ½ cÃ¡c cluster Kubernetes
#    - Cho phÃ©p thao tÃ¡c vá»›i pods, services, deployments, configmaps, v.v.

# 2. get pods
#    - Lá»‡nh con cá»§a kubectl dÃ¹ng Ä‘á»ƒ liá»‡t kÃª cÃ¡c Pod trong cluster
#    - Pod lÃ  Ä‘Æ¡n vá»‹ triá»ƒn khai cÆ¡ báº£n trong Kubernetes, chá»©a má»™t hoáº·c nhiá»u container

# 3. -n kube-system
#    - TÃ¹y chá»n chá»‰ Ä‘á»‹nh namespace lÃ  'kube-system'
#    - Namespace 'kube-system' chá»©a cÃ¡c pod quáº£n lÃ½ há»‡ thá»‘ng cá»§a Kubernetes (nhÆ° kube-dns, kube-proxy, ingress controller, v.v.)

# 4. | grep ingress
#    - Pipe '|' chuyá»ƒn output cá»§a lá»‡nh trÆ°á»›c sang lá»‡nh sau
#    - grep ingress lá»c ra nhá»¯ng dÃ²ng cÃ³ chá»©a tá»« "ingress"
#    - ThÆ°á»ng dÃ¹ng Ä‘á»ƒ tÃ¬m cÃ¡c pod liÃªn quan Ä‘áº¿n Ingress Controller trong namespace kube-system

# Ã nghÄ©a tá»•ng thá»ƒ:
# - Lá»‡nh nÃ y liá»‡t kÃª táº¥t cáº£ cÃ¡c pod trong namespace kube-system vÃ  chá»‰ hiá»ƒn thá»‹ nhá»¯ng pod liÃªn quan Ä‘áº¿n Ingress
# - GiÃºp báº¡n nhanh chÃ³ng kiá»ƒm tra tráº¡ng thÃ¡i Ingress Controller Ä‘ang cháº¡y trong cluster

# VÃ­ dá»¥ output:
# nginx-ingress-controller-6d8f7f9d7d-abcde   1/1   Running   0   5m
# ingress-nginx-admission-create-xyz123         0/1   Completed 0   10m
		
		
		- cmd: kubectl describe ingress vpro-ingress
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
kubectl describe ingress vpro-ingress

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Xem chi tiáº¿t thÃ´ng tin vá» Ingress cÃ³ tÃªn `vpro-ingress` trong Kubernetes
- Cung cáº¥p thÃ´ng tin sÃ¢u hÆ¡n so vá»›i `kubectl get ingress`
- Há»¯u Ã­ch Ä‘á»ƒ:
  + Debug khi Ingress khÃ´ng Ä‘á»‹nh tuyáº¿n traffic Ä‘Ãºng
  + Kiá»ƒm tra cÃ¡c rule, backend, host, service liÃªn káº¿t
  + Xem tráº¡ng thÃ¡i, events liÃªn quan tá»›i Ingress

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. kubectl
--------------------------------------------------
- CÃ´ng cá»¥ dÃ²ng lá»‡nh quáº£n lÃ½ Kubernetes cluster

2.2. describe
--------------------------------------------------
- Subcommand dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t vá» resource
- Bao gá»“m metadata, spec, status, vÃ  cÃ¡c event liÃªn quan

2.3. ingress
--------------------------------------------------
- Chá»‰ Ä‘á»‹nh loáº¡i resource muá»‘n mÃ´ táº£ lÃ  Ingress
- Ingress quáº£n lÃ½ cÃ¡ch HTTP/HTTPS traffic tá»« bÃªn ngoÃ i Ä‘i vÃ o cÃ¡c Service trong cluster

2.4. vpro-ingress
--------------------------------------------------
- TÃªn Ingress muá»‘n mÃ´ táº£
- Pháº£i tá»“n táº¡i trong namespace hiá»‡n táº¡i hoáº·c chá»‰ Ä‘á»‹nh báº±ng `-n <namespace>`

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
1. Kubectl gá»­i request tá»›i Kubernetes API server
2. API server truy xuáº¥t Ingress `vpro-ingress` trong namespace hiá»‡n táº¡i
3. Tráº£ vá» chi tiáº¿t:
   - Name, Namespace, Labels, Annotations
   - Address (IP hoáº·c hostname)
   - Rules (host, path, backend service)
   - TLS configuration (náº¿u cÃ³)
   - Events: thÃ´ng tin lá»—i hoáº·c warning tá»« Ingress controller
4. Output hiá»ƒn thá»‹ dáº¡ng human-readable trÃªn terminal

--------------------------------------------------
4. OUTPUT MáºªU
--------------------------------------------------
Name:             vpro-ingress
Namespace:        default
Address:          192.168.49.2
Default backend:  default-http-backend:80 (<none>)
Rules:
  Host             Path  Backends
  ----             ----  --------
  vpro.example.com /     webapp-service:80
TLS:
  vpro-tls-secret  vpro.example.com
Annotations:       kubernetes.io/ingress.class: nginx
Events:
  Type    Reason  Age   From                      Message
  ----    ------  ----  ----                      -------
  Normal  CREATE  10m   nginx-ingress-controller  Ingress default/vpro-ingress
  Normal  UPDATE  5m    nginx-ingress-controller  Updated Ingress default/vpro-ingress

--------------------------------------------------
5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
--------------------------------------------------
- Xem Ingress trong namespace khÃ¡c:
kubectl describe ingress vpro-ingress -n <namespace>

- MÃ´ táº£ táº¥t cáº£ Ingress trong namespace:
kubectl describe ingress

- Káº¿t há»£p vá»›i grep Ä‘á»ƒ tÃ¬m thÃ´ng tin cá»¥ thá»ƒ:
kubectl describe ingress vpro-ingress | grep backend

--------------------------------------------------
6. Lá»¢I ÃCH THá»°C Táº¾
--------------------------------------------------
- Debug Ingress khÃ´ng Ä‘á»‹nh tuyáº¿n Ä‘Ãºng service
- Kiá»ƒm tra rule host/path vÃ  backend
- Xem TLS vÃ  annotations
- Xem cÃ¡c event lá»—i hoáº·c cáº£nh bÃ¡o tá»« Ingress controller

--------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------
- NotFound: Ingress khÃ´ng tá»“n táº¡i hoáº·c sai namespace
- Permission denied: user hiá»‡n táº¡i khÃ´ng cÃ³ quyá»n describe Ingress

--------------------------------------------------
8. Cáº¢NH BÃO
--------------------------------------------------
- Lá»‡nh chá»‰ mÃ´ táº£, khÃ´ng thay Ä‘á»•i resource
- DÃ¹ng describe Ä‘á»ƒ debug trÆ°á»›c khi xÃ³a hoáº·c sá»­a Ingress

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
kubectl describe ingress vpro-ingress

= Xem chi tiáº¿t Ingress "vpro-ingress"
= Hiá»ƒn thá»‹ metadata, rules, backend, TLS, events
= Há»¯u Ã­ch Ä‘á»ƒ debug vÃ  kiá»ƒm tra cáº¥u hÃ¬nh
= Kiá»ƒm tra namespace náº¿u Ingress khÃ´ng tÃ¬m tháº¥y
		
		
		- cmd: kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/main/deploy/static/provider/cloud/deploy.yaml
		
Lá»†NH: kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/main/deploy/static/provider/cloud/deploy.yaml
===============================================================================================================================

1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
-------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Triá»ƒn khai táº¥t cáº£ resource Kubernetes Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong file YAML tá»« URL Ä‘Ã£ cung cáº¥p
- Trong vÃ­ dá»¥ nÃ y, file YAML lÃ  cá»§a Ingress NGINX Controller cho mÃ´i trÆ°á»ng cloud
- Táº¡o hoáº·c cáº­p nháº­t cÃ¡c resource trÃªn cluster theo Ä‘á»‹nh nghÄ©a trong file
- ÄÃ¢y lÃ  cÃ¡ch nhanh chÃ³ng Ä‘á»ƒ cÃ i Ä‘áº·t Ingress Controller mÃ  khÃ´ng cáº§n táº£i file vá» local


2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
------------------------------------

2.1. kubectl
-----------
- CLI chÃ­nh thá»©c cá»§a Kubernetes
- DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ cluster vÃ  resource
- Há»— trá»£ deploy, debug, giÃ¡m sÃ¡t, xÃ³a resource

2.2. apply
----------
- Sub-command cá»§a kubectl
- DÃ¹ng Ä‘á»ƒ táº¡o hoáº·c cáº­p nháº­t resource theo file YAML/JSON
- PhÆ°Æ¡ng phÃ¡p declarative:
  + Náº¿u resource chÆ°a tá»“n táº¡i: táº¡o má»›i
  + Náº¿u resource Ä‘Ã£ tá»“n táº¡i: cáº­p nháº­t Ä‘á»ƒ Ä‘á»“ng bá»™ vá»›i file YAML

2.3. -f
--------
- Flag chá»‰ Ä‘á»‹nh file hoáº·c URL chá»©a Ä‘á»‹nh nghÄ©a resource
- Kubernetes sáº½ Ä‘á»c táº¥t cáº£ resource trong file vÃ  táº¡o/cáº­p nháº­t tÆ°Æ¡ng á»©ng

2.4. https://raw.githubusercontent.com/kubernetes/ingress-nginx/main/deploy/static/provider/cloud/deploy.yaml
-------------------------------------------------------------------------------------------------------------
- URL chá»©a file YAML trá»±c tiáº¿p tá»« GitHub
- File Ä‘á»‹nh nghÄ©a nhiá»u resource cáº§n thiáº¿t cho Ingress NGINX Controller, vÃ­ dá»¥:
  + Namespace
  + ServiceAccount
  + ClusterRole / ClusterRoleBinding
  + ConfigMap
  + Deployment
  + Service
  + DaemonSet
- Khi cháº¡y lá»‡nh apply, táº¥t cáº£ resource nÃ y sáº½ Ä‘Æ°á»£c táº¡o hoáº·c cáº­p nháº­t trong cluster


3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
---------------------------------
Khi cháº¡y:
kubectl apply -f <URL>

Kubectl sáº½:
1. Táº£i file YAML tá»« URL
2. Äá»c táº¥t cáº£ resource trong file
3. Káº¿t ná»‘i tá»›i API server cá»§a cluster
4. Táº¡o resource má»›i hoáº·c cáº­p nháº­t resource Ä‘Ã£ tá»“n táº¡i
5. Tráº£ vá» tráº¡ng thÃ¡i cho tá»«ng resource (created hoáº·c configured)


4. Káº¾T QUáº¢ MáºªU
---------------
VÃ­ dá»¥ output:

namespace/ingress-nginx created
serviceaccount/ingress-nginx created
clusterrole.rbac.authorization.k8s.io/ingress-nginx created
deployment.apps/ingress-nginx-controller configured
service/ingress-nginx-controller created
daemonset.apps/ingress-nginx-controller created

Giáº£i thÃ­ch:
- created: resource má»›i Ä‘Æ°á»£c táº¡o
- configured: resource Ä‘Ã£ tá»“n táº¡i, Ä‘Æ°á»£c cáº­p nháº­t theo file YAML


5. CÃC BIáº¾N THá»‚ HAY DÃ™NG
-----------------------
- Ãp dá»¥ng nhiá»u file URL hoáº·c file local:
  kubectl apply -f file1.yaml -f file2.yaml

- Ãp dá»¥ng táº¥t cáº£ file trong thÆ° má»¥c local:
  kubectl apply -f ./manifests/

- Output chi tiáº¿t YAML:
  kubectl apply -f <URL> -o yaml


6. Lá»¢I ÃCH KHI DÃ™NG Lá»†NH NÃ€Y
----------------------------
- Triá»ƒn khai Ingress Controller nhanh chÃ³ng mÃ  khÃ´ng cáº§n táº£i file
- Giá»¯ cluster Ä‘á»“ng bá»™ vá»›i file YAML tá»« nguá»“n chÃ­nh thá»©c
- Há»— trá»£ tá»± Ä‘á»™ng cÃ i Ä‘áº·t toÃ n bá»™ resource liÃªn quan
- Dá»… dÃ ng tÃ­ch há»£p vÃ o script hoáº·c CI/CD pipeline


7. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------
- URL khÃ´ng tá»“n táº¡i hoáº·c lá»—i máº¡ng:
  => Error: unable to read URL

- File YAML sai cÃº phÃ¡p:
  => Error: unable to parse file

- KhÃ´ng cÃ³ quyá»n táº¡o/cáº­p nháº­t resource:
  => Kiá»ƒm tra kubeconfig vÃ  RBAC


8. TÃ“M Táº®T NGáº®N Gá»ŒN
-------------------
kubectl                 : CLI Kubernetes
apply                   : táº¡o hoáº·c cáº­p nháº­t resource theo file
-f <URL>                : chá»‰ Ä‘á»‹nh file YAML trá»±c tiáº¿p tá»« URL
Káº¿t quáº£                : táº¥t cáº£ resource Ä‘Æ°á»£c táº¡o má»›i hoáº·c cáº­p nháº­t, output hiá»ƒn thá»‹ created/configured
		
		
		- cmd: kops delete cluster --name=kubevpro.vnstudio.info --state=s3://kopsstate112211 --yes
		
Lá»†NH: kops delete cluster --name=kubevpro.vnstudio.info --state=s3://kopsstate112211 --yes
====================================================================

1. kops lÃ  gÃ¬?
--------------------------------------------------------------------
- kops = Kubernetes Operations
- LÃ  cÃ´ng cá»¥ dÃ²ng lá»‡nh Ä‘á»ƒ táº¡o, quáº£n lÃ½ vÃ  xÃ³a cluster Kubernetes trÃªn cloud (AWS, GCPâ€¦)
- Há»— trá»£:
  + Táº¡o cluster Kubernetes production-ready
  + Cáº­p nháº­t, scale cluster
  + XÃ³a cluster khi khÃ´ng cáº§n thiáº¿t
- TÃ­ch há»£p vá»›i S3 Ä‘á»ƒ lÆ°u trá»¯ state (tráº¡ng thÃ¡i cluster)

--------------------------------------------------------------------

2. delete cluster lÃ  gÃ¬?
--------------------------------------------------------------------
- delete cluster = xÃ³a hoÃ n toÃ n cluster Kubernetes
- Kops sáº½:
  + XÃ³a cÃ¡c node (EC2 instances)
  + XÃ³a cÃ¡c resource cloud (Load Balancer, Security Groupâ€¦)
  + XÃ³a cÃ¡c cáº¥u hÃ¬nh cluster trong S3 state store

--------------------------------------------------------------------

3. --name=kubevpro.vnstudio.info lÃ  gÃ¬?
--------------------------------------------------------------------
- TÃªn cluster Kubernetes cáº§n xÃ³a
- Cluster nÃ y pháº£i tá»“n táº¡i trong state store Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh
- TÃªn thÆ°á»ng giá»‘ng vá»›i DNS name cá»§a cluster

--------------------------------------------------------------------

4. --state=s3://kopsstate112211 lÃ  gÃ¬?
--------------------------------------------------------------------
- --state = chá»‰ Ä‘á»‹nh location lÆ°u trá»¯ tráº¡ng thÃ¡i cluster
- S3 bucket: s3://kopsstate112211
- Bucket nÃ y chá»©a toÃ n bá»™ cáº¥u hÃ¬nh, manifest, template cá»§a cluster
- Kops sáº½ Ä‘á»c thÃ´ng tin tá»« bucket nÃ y Ä‘á»ƒ biáº¿t resource nÃ o cáº§n xÃ³a

--------------------------------------------------------------------

5. --yes lÃ  gÃ¬?
--------------------------------------------------------------------
- --yes = xÃ¡c nháº­n tá»± Ä‘á»™ng, khÃ´ng cáº§n prompt
- Náº¿u khÃ´ng cÃ³ --yes â†’ kops sáº½ há»i ngÆ°á»i dÃ¹ng "Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a cluster?"
- GiÃºp thá»±c hiá»‡n lá»‡nh xÃ³a mÃ  khÃ´ng cáº§n nháº­p thá»§ cÃ´ng

--------------------------------------------------------------------

6. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
kops delete cluster --name=kubevpro.vnstudio.info --state=s3://kopsstate112211 --yes

â†’ XÃ³a hoÃ n toÃ n cluster kubevpro.vnstudio.info
â†’ Sá»­ dá»¥ng thÃ´ng tin tá»« S3 bucket kopsstate112211
â†’ KhÃ´ng cáº§n xÃ¡c nháº­n thá»§ cÃ´ng
â†’ Bao gá»“m:
  + XÃ³a node (EC2 instances)
  + XÃ³a Load Balancer, Security Group, IAM role
  + XÃ³a record DNS náº¿u cÃ³
  + XÃ³a cáº¥u hÃ¬nh cluster trong S3 state

--------------------------------------------------------------------

7. Quy trÃ¬nh thá»±c thi lá»‡nh
--------------------------------------------------------------------
1) Kops Ä‘á»c cluster configuration tá»« S3 state store
2) XÃ¡c Ä‘á»‹nh táº¥t cáº£ resource liÃªn quan (EC2, ELB, IAM, Security Groupsâ€¦)
3) Gá»­i request xÃ³a resource trÃªn AWS
4) XÃ³a cÃ¡c file cáº¥u hÃ¬nh cluster trong S3
5) Hiá»ƒn thá»‹ tiáº¿n trÃ¬nh xÃ³a trÃªn terminal
6) Khi hoÃ n táº¥t, cluster Ä‘Ã£ bá»‹ xÃ³a hoÃ n toÃ n

--------------------------------------------------------------------

8. Kiá»ƒm tra sau khi xÃ³a
--------------------------------------------------------------------
- Kiá»ƒm tra cluster cÃ²n tá»“n táº¡i khÃ´ng:
kops get cluster --state=s3://kopsstate112211

- Kiá»ƒm tra EC2 instances, Load Balancer, Security Groups trong AWS console
- Bucket S3 state store sáº½ cÃ²n trá»‘ng hoáº·c chá»‰ chá»©a cÃ¡c file cÅ© náº¿u chÆ°a xÃ³a thá»§ cÃ´ng

--------------------------------------------------------------------

9. Output Ä‘iá»ƒn hÃ¬nh
--------------------------------------------------------------------
Using cluster from state store: s3://kopsstate112211
Will delete resources:
  - EC2 instances
  - ELB load balancers
  - IAM roles
  - Security groups
Deleting cluster kubevpro.vnstudio.info
Resources deleted

- ThÃ´ng bÃ¡o cluster Ä‘Ã£ Ä‘Æ°á»£c xÃ³a thÃ nh cÃ´ng

--------------------------------------------------------------------

10. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) Cluster not found
- Cluster khÃ´ng tá»“n táº¡i trong state store S3

2) Permission denied
- AWS credentials chÆ°a Ä‘á»§ quyá»n xÃ³a EC2, ELB, IAM, S3

3) Network/region issues
- Kops khÃ´ng thá»ƒ xÃ³a resource do region sai hoáº·c network khÃ´ng káº¿t ná»‘i Ä‘Æ°á»£c

--------------------------------------------------------------------

11. Khi nÃ o nÃªn dÃ¹ng lá»‡nh nÃ y?
--------------------------------------------------------------------
- XÃ³a cluster Kubernetes khÃ´ng cÃ²n sá»­ dá»¥ng
- Dá»n dáº¹p mÃ´i trÆ°á»ng thá»­ nghiá»‡m
- Giáº£m chi phÃ­ cloud khi cluster khÃ´ng cáº§n thiáº¿t

--------------------------------------------------------------------

12. So sÃ¡nh nhanh
--------------------------------------------------------------------
kops delete cluster â†’ xÃ³a toÃ n bá»™ cluster
kops get cluster â†’ xem cluster cÃ²n tá»“n táº¡i khÃ´ng
kops update cluster â†’ cáº­p nháº­t cluster
kops validate cluster â†’ kiá»ƒm tra tráº¡ng thÃ¡i cluster

--------------------------------------------------------------------

13. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
kops delete cluster --name=kubevpro.vnstudio.info --state=s3://kopsstate112211 --yes =
XÃ“A HOÃ€N TOÃ€N CLUSTER KUBERNETES kubevpro.vnstudio.info VÃ€ CÃC RESOURCE LIÃŠN QUAN TRÃŠN AWS, Sá»¬ Dá»¤NG S3 STATE STORE, KHÃ”NG Cáº¦N XÃC NHáº¬N THá»¦ CÃ”NG
		
		
		- cmd: choco install kubernetes-helm
		
# Lá»‡nh gá»‘c:
choco install kubernetes-helm

# Giáº£i thÃ­ch chi tiáº¿t:

# 1. choco
# - `choco` lÃ  viáº¿t táº¯t cá»§a Chocolatey, má»™t trÃ¬nh quáº£n lÃ½ package (package manager) cho Windows.
# - Chocolatey cho phÃ©p cÃ i Ä‘áº·t, cáº­p nháº­t, gá»¡ bá» cÃ¡c á»©ng dá»¥ng, cÃ´ng cá»¥ vÃ  pháº§n má»m trá»±c tiáº¿p tá»« command line.

# 2. install
# - `install` lÃ  lá»‡nh trong Chocolatey Ä‘á»ƒ cÃ i Ä‘áº·t má»™t package má»›i vÃ o há»‡ thá»‘ng.

# 3. kubernetes-helm
# - ÄÃ¢y lÃ  tÃªn package muá»‘n cÃ i Ä‘áº·t thÃ´ng qua Chocolatey.
# - `kubernetes-helm` lÃ  Helm, má»™t package manager cho Kubernetes.
# - Helm dÃ¹ng Ä‘á»ƒ:
#   + Quáº£n lÃ½ chart (bá»™ cÃ i Ä‘áº·t á»©ng dá»¥ng Kubernetes).
#   + Triá»ƒn khai á»©ng dá»¥ng trÃªn cluster Kubernetes dá»… dÃ ng.
#   + Quáº£n lÃ½ version, rollback vÃ  cáº¥u hÃ¬nh á»©ng dá»¥ng.

# 4. Chá»©c nÄƒng tá»•ng thá»ƒ
# - Khi cháº¡y lá»‡nh `choco install kubernetes-helm`, há»‡ thá»‘ng sáº½:
#   1. Kiá»ƒm tra Chocolatey Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn Windows chÆ°a.
#   2. TÃ¬m package `kubernetes-helm` trong kho Chocolatey repository.
#   3. Táº£i xuá»‘ng Helm vÃ  cÃ¡c dependencies cáº§n thiáº¿t.
#   4. CÃ i Ä‘áº·t Helm vÃ o há»‡ thá»‘ng Windows, thÃªm vÃ o PATH Ä‘á»ƒ cÃ³ thá»ƒ cháº¡y tá»« command line.

# 5. VÃ­ dá»¥ thao tÃ¡c sau khi cÃ i:
# - Kiá»ƒm tra phiÃªn báº£n Helm:
#     helm version
# - ThÃªm Helm repository:
#     helm repo add stable https://charts.helm.sh/stable
# - CÃ i á»©ng dá»¥ng trÃªn Kubernetes tá»« Helm chart:
#     helm install my-release stable/nginx

# 6. LÆ°u Ã½ quan trá»ng:
# - Cáº§n má»Ÿ command line (cmd/PowerShell) vá»›i quyá»n Administrator khi cÃ i package.
# - Chocolatey cáº§n Ä‘Æ°á»£c cÃ i Ä‘áº·t trÆ°á»›c Ä‘Ã³.
# - Helm cáº§n káº¿t ná»‘i tá»›i cluster Kubernetes Ä‘á»ƒ triá»ƒn khai á»©ng dá»¥ng.

# 7. CÃ¡c lá»‡nh liÃªn quan:
# - choco upgrade kubernetes-helm
#   + NÃ¢ng cáº¥p Helm lÃªn phiÃªn báº£n má»›i.
# - choco uninstall kubernetes-helm
#   + Gá»¡ cÃ i Ä‘áº·t Helm khá»i há»‡ thá»‘ng.
# - helm help
#   + Xem táº¥t cáº£ lá»‡nh vÃ  hÆ°á»›ng dáº«n sá»­ dá»¥ng Helm.

# Káº¿t luáº­n:
# Lá»‡nh `choco install kubernetes-helm` dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t Helm trÃªn Windows thÃ´ng qua Chocolatey,
# giÃºp quáº£n lÃ½ á»©ng dá»¥ng Kubernetes dá»… dÃ ng báº±ng cÃ¡c chart, triá»ƒn khai, nÃ¢ng cáº¥p vÃ  rollback cÃ¡c á»©ng dá»¥ng trÃªn cluster.
		
		
		- cmd: helm create vprofilecharts
		
# Lá»‡nh:
helm create vprofilecharts

# Giáº£i thÃ­ch chi tiáº¿t:

# 1. helm
#    - Helm lÃ  cÃ´ng cá»¥ quáº£n lÃ½ package cho Kubernetes (gá»i lÃ  Helm charts)
#    - GiÃºp báº¡n Ä‘Ã³ng gÃ³i, cÃ i Ä‘áº·t, vÃ  quáº£n lÃ½ á»©ng dá»¥ng Kubernetes má»™t cÃ¡ch dá»… dÃ ng

# 2. create
#    - Lá»‡nh con cá»§a Helm dÃ¹ng Ä‘á»ƒ **táº¡o má»™t chart má»›i**
#    - Chart lÃ  cáº¥u trÃºc thÆ° má»¥c chá»©a cÃ¡c file YAML vÃ  template Ä‘á»ƒ triá»ƒn khai á»©ng dá»¥ng lÃªn Kubernetes

# 3. vprofilecharts
#    - TÃªn cá»§a chart má»›i sáº½ Ä‘Æ°á»£c táº¡o
#    - ThÆ° má»¥c 'vprofilecharts' sáº½ Ä‘Æ°á»£c táº¡o trong thÆ° má»¥c hiá»‡n táº¡i
#    - BÃªn trong sáº½ cÃ³ cáº¥u trÃºc chuáº©n cá»§a Helm chart, vÃ­ dá»¥:
#      vprofilecharts/
#        Chart.yaml         # File Ä‘á»‹nh nghÄ©a chart
#        values.yaml        # File chá»©a cÃ¡c giÃ¡ trá»‹ cáº¥u hÃ¬nh máº·c Ä‘á»‹nh
#        templates/         # ThÆ° má»¥c chá»©a cÃ¡c template Kubernetes resources
#          deployment.yaml
#          service.yaml
#          _helpers.tpl

# Ã nghÄ©a tá»•ng thá»ƒ:
# - Lá»‡nh nÃ y táº¡o má»™t Helm chart má»›i tÃªn 'vprofilecharts' vá»›i cáº¥u trÃºc chuáº©n
# - GiÃºp báº¡n báº¯t Ä‘áº§u triá»ƒn khai á»©ng dá»¥ng lÃªn Kubernetes má»™t cÃ¡ch cÃ³ tá»• chá»©c
# - Báº¡n cÃ³ thá»ƒ chá»‰nh sá»­a cÃ¡c template vÃ  values.yaml Ä‘á»ƒ phÃ¹ há»£p vá»›i á»©ng dá»¥ng cá»§a mÃ¬nh
		
		
		- cmd: aws eks list-clusters --region us-east-1
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
aws eks list-clusters --region us-east-1

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Liá»‡t kÃª táº¥t cáº£ cÃ¡c cluster EKS (Elastic Kubernetes Service) trong tÃ i khoáº£n AWS
- Chá»‰ Ä‘á»‹nh vÃ¹ng (region) Ä‘á»ƒ liá»‡t kÃª cluster vá»›i `--region us-east-1`
- Há»¯u Ã­ch Ä‘á»ƒ:
  + Kiá»ƒm tra danh sÃ¡ch cluster Ä‘Ã£ táº¡o
  + XÃ¡c nháº­n cluster tá»“n táº¡i trÆ°á»›c khi tÆ°Æ¡ng tÃ¡c
  + Há»— trá»£ automation vÃ  scripting khi quáº£n lÃ½ nhiá»u cluster

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. aws
--------------------------------------------------
- AWS Command Line Interface (CLI) Ä‘á»ƒ quáº£n lÃ½ dá»‹ch vá»¥ AWS tá»« terminal

2.2. eks
--------------------------------------------------
- Subcommand Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i dá»‹ch vá»¥ Elastic Kubernetes Service (EKS)

2.3. list-clusters
--------------------------------------------------
- Action cá»§a EKS CLI Ä‘á»ƒ liá»‡t kÃª táº¥t cáº£ cluster
- Tráº£ vá» danh sÃ¡ch tÃªn cluster dÆ°á»›i dáº¡ng JSON

2.4. --region us-east-1
--------------------------------------------------
- Chá»‰ Ä‘á»‹nh khu vá»±c Ä‘á»‹a lÃ½ AWS (region)
- á» Ä‘Ã¢y lÃ  `us-east-1` (Northern Virginia)
- Náº¿u khÃ´ng chá»‰ Ä‘á»‹nh, CLI sáº½ dÃ¹ng region máº·c Ä‘á»‹nh trong cáº¥u hÃ¬nh AWS

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
1. CLI `aws` gá»­i request tá»›i AWS EKS API trong region `us-east-1`
2. AWS xÃ¡c thá»±c user/credentials
3. EKS tráº£ vá» danh sÃ¡ch cluster trong region dÆ°á»›i dáº¡ng JSON
4. CLI hiá»ƒn thá»‹ káº¿t quáº£ trÃªn terminal

--------------------------------------------------
4. OUTPUT MáºªU
--------------------------------------------------
{
    "clusters": [
        "dev-cluster",
        "staging-cluster",
        "prod-cluster"
    ]
}

Giáº£i thÃ­ch:
- `"clusters"`: key chá»©a danh sÃ¡ch tÃªn cluster
- Má»—i pháº§n tá»­ trong máº£ng lÃ  má»™t cluster cÃ³ thá»ƒ dÃ¹ng vá»›i `aws eks update-kubeconfig` hoáº·c `kubectl`

--------------------------------------------------
5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
--------------------------------------------------
- Liá»‡t kÃª cluster á»Ÿ region khÃ¡c:
aws eks list-clusters --region eu-west-1

- Sá»­ dá»¥ng output text Ä‘á»ƒ dá»… dÃ¹ng trong scripts:
aws eks list-clusters --region us-east-1 --output text

- Káº¿t há»£p vá»›i `jq` Ä‘á»ƒ lá»c cluster:
aws eks list-clusters --region us-east-1 | jq '.clusters[]'

--------------------------------------------------
6. Lá»¢I ÃCH THá»°C Táº¾
--------------------------------------------------
- Kiá»ƒm tra nhanh cluster EKS hiá»‡n cÃ³
- DÃ¹ng trong automation, CI/CD pipeline
- Chuáº©n bá»‹ thÃ´ng tin trÆ°á»›c khi deploy á»©ng dá»¥ng
- Quáº£n lÃ½ nhiá»u cluster á»Ÿ nhiá»u region khÃ¡c nhau

--------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------
- AccessDeniedException: IAM user khÃ´ng cÃ³ quyá»n `eks:ListClusters`
- Region sai hoáº·c cluster chÆ°a tá»“n táº¡i â†’ káº¿t quáº£ máº£ng rá»—ng
- AWS CLI chÆ°a cáº¥u hÃ¬nh profile/credentials â†’ lá»—i xÃ¡c thá»±c

--------------------------------------------------
8. Cáº¢NH BÃO
--------------------------------------------------
- Lá»‡nh chá»‰ liá»‡t kÃª cluster, khÃ´ng thá»±c hiá»‡n thay Ä‘á»•i
- Äáº£m báº£o Ä‘Ã£ cáº¥u hÃ¬nh AWS CLI vá»›i credentials há»£p lá»‡ vÃ  Ä‘Ãºng region

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
aws eks list-clusters --region us-east-1

= Liá»‡t kÃª táº¥t cáº£ cluster EKS trong region us-east-1
= Output JSON chá»©a key "clusters" vÃ  danh sÃ¡ch tÃªn cluster
= Há»¯u Ã­ch Ä‘á»ƒ kiá»ƒm tra, quáº£n lÃ½ vÃ  scripting
= Kiá»ƒm tra credentials vÃ  region náº¿u khÃ´ng cÃ³ káº¿t quáº£
		
		
--- GitOps Project:

	- Amazon Container Registry
	- Gibhub -> Project instance -> Setting -> Branches -> Add branch protection rules -> Require a pull request before merging
	- Gibhub -> Project instance -> Pull requests -> New pull request
	- SonarCloud -> New... -> Create new organization -> create one manually
	- SonarCloud -> My Account -> Security -> Generate Token
	- SonarCloud -> My organization -> instance -> Quality Gates -> Create -> Add Condition
	- SonarCloud -> My Projects -> instance -> Administration -> Quality Gate -> Use a specific quality gate
	
	github action:
	
		checkout
		
		hashicorp - setup terraform
		
		docker ecr
	
	Táº¡o ssh-keygen, sau Ä‘Ã³ thÃªm vÃ o ssh key cá»§a github
	
	Táº¡o user gitops táº¡i IAM cÃ³ policy lÃ  AdministratorAccess, sau Ä‘Ã³ thÃªm vÃ o repository secret cá»§a github
	
	Táº¡o s3 bucket vprofileactions23
	
	Táº¡o repository vprofileapp trÃªn Amazon Elastic Container Registry
	
	CÃ¡c pháº§n táº¡o sinh code nÃ£y giá» Ä‘á»u Ä‘Æ°á»£c thÃªm vÃ o Secrets and variables cá»§a github
	
	Táº¡o code terraform, lÃ m viá»‡c vá»›i github actions
	
	VÃ o setting, vÃ o branches Ä‘á»ƒ thiáº¿t láº­p branch protection rules Ä‘á»ƒ require a pull request before merging
	
	Tá»« code terraform sáº½ táº¡o ra Elastic kubernetes service, VPC, subnet, gateway, elastic IP, load balancer, ec2
	
	Táº¡o má»›i organization trÃªn sonarcloud, sau Ä‘Ã³ táº¡o má»›i project trÃªn sonarcloud
	
	Táº¡o security token trÃªn sonarcloud, sau Ä‘Ã³ láº¥y token nÃ y Ä‘á»ƒ thÃªm vÃ o repository secret trÃªn github
	
	CÃ i Ä‘áº·t kubernetes-helm bá»Ÿi choco
	
	
	
	
	
	
	
	
	
	
	
	
	- Google search:
	
		terraform aws modules vpc
		
		


	- Command:
	
		- cmd: cd ~/.ssh
				
# Lá»‡nh:
cd ~/.ssh

# Giáº£i thÃ­ch chi tiáº¿t:

# 1. cd
#    - 'cd' lÃ  viáº¿t táº¯t cá»§a 'change directory'
#    - DÃ¹ng Ä‘á»ƒ chuyá»ƒn Ä‘á»•i thÆ° má»¥c lÃ m viá»‡c hiá»‡n táº¡i trong terminal

# 2. ~/.ssh
#    - '~' Ä‘áº¡i diá»‡n cho thÆ° má»¥c home cá»§a ngÆ°á»i dÃ¹ng hiá»‡n táº¡i (vÃ­ dá»¥: /home/username trÃªn Linux)
#    - '.ssh' lÃ  thÆ° má»¥c áº©n trong home, dÃ¹ng Ä‘á»ƒ lÆ°u trá»¯ cÃ¡c khÃ³a SSH vÃ  cáº¥u hÃ¬nh káº¿t ná»‘i SSH
#      VÃ­ dá»¥:
#        - id_rsa, id_rsa.pub : khÃ³a riÃªng vÃ  khÃ³a cÃ´ng khai
#        - known_hosts        : danh sÃ¡ch cÃ¡c mÃ¡y chá»§ Ä‘Ã£ káº¿t ná»‘i trÆ°á»›c Ä‘Ã³
#        - config             : file cáº¥u hÃ¬nh SSH tÃ¹y chá»‰nh

# Ã nghÄ©a tá»•ng thá»ƒ:
# - Lá»‡nh nÃ y chuyá»ƒn thÆ° má»¥c hiá»‡n táº¡i sang thÆ° má»¥c ~/.ssh
# - ThÆ°á»ng dÃ¹ng trÆ°á»›c khi táº¡o, xem, hoáº·c quáº£n lÃ½ cÃ¡c khÃ³a SSH vÃ  file cáº¥u hÃ¬nh SSH
# - GiÃºp báº¡n thá»±c hiá»‡n cÃ¡c thao tÃ¡c báº£o máº­t nhÆ° káº¿t ná»‘i tá»›i server tá»« xa qua SSH
		
		
		- cmd: export GIT_SSH_COMMAND="ssh -i ~/.ssh/actions"
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
export GIT_SSH_COMMAND="ssh -i ~/.ssh/actions"

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Cáº¥u hÃ¬nh biáº¿n mÃ´i trÆ°á»ng `GIT_SSH_COMMAND` cho Git
- Cho Git sá»­ dá»¥ng má»™t lá»‡nh SSH tÃ¹y chá»‰nh khi káº¿t ná»‘i vá»›i remote repository
- á» Ä‘Ã¢y, Git sáº½ dÃ¹ng key SSH cá»¥ thá»ƒ `~/.ssh/actions` thay vÃ¬ key máº·c Ä‘á»‹nh
- Há»¯u Ã­ch khi:
  + Muá»‘n dÃ¹ng key khÃ¡c cho cÃ¡c repository khÃ¡c nhau
  + TÃ­ch há»£p Git vá»›i CI/CD pipeline
  + TrÃ¡nh xung Ä‘á»™t giá»¯a nhiá»u SSH key

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. export
--------------------------------------------------
- Lá»‡nh shell Ä‘á»ƒ thiáº¿t láº­p biáº¿n mÃ´i trÆ°á»ng
- Biáº¿n nÃ y sáº½ cÃ³ hiá»‡u lá»±c trong session hiá»‡n táº¡i vÃ  cÃ¡c tiáº¿n trÃ¬nh con

2.2. GIT_SSH_COMMAND
--------------------------------------------------
- Biáº¿n mÃ´i trÆ°á»ng Ä‘áº·c biá»‡t cá»§a Git
- Cho phÃ©p override lá»‡nh SSH máº·c Ä‘á»‹nh khi Git push, pull, clone
- Há»¯u Ã­ch Ä‘á»ƒ chá»‰ Ä‘á»‹nh key, port, hoáº·c tuá»³ chá»n SSH khÃ¡c

2.3. "ssh -i ~/.ssh/actions"
--------------------------------------------------
- Lá»‡nh SSH tÃ¹y chá»‰nh sáº½ Ä‘Æ°á»£c Git sá»­ dá»¥ng
- `-i ~/.ssh/actions`: chá»‰ Ä‘á»‹nh private key cá»¥ thá»ƒ Ä‘á»ƒ xÃ¡c thá»±c
- `~/.ssh/actions` lÃ  Ä‘Æ°á»ng dáº«n tá»›i file private key

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi thá»±c hiá»‡n lá»‡nh:

1. Shell thiáº¿t láº­p biáº¿n mÃ´i trÆ°á»ng `GIT_SSH_COMMAND`
2. Git Ä‘á»c biáº¿n nÃ y khi thá»±c hiá»‡n káº¿t ná»‘i SSH tá»›i remote
3. Thay vÃ¬ dÃ¹ng lá»‡nh SSH máº·c Ä‘á»‹nh (`ssh user@host`), Git sáº½ cháº¡y:
   ssh -i ~/.ssh/actions user@host
4. Key `~/.ssh/actions` Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ xÃ¡c thá»±c vá»›i remote repository
5. Lá»‡nh nÃ y chá»‰ Ã¡p dá»¥ng trong session terminal hiá»‡n táº¡i trá»« khi thÃªm vÃ o file `.bashrc` hoáº·c `.zshrc`

--------------------------------------------------
4. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
--------------------------------------------------
- Clone repository sá»­ dá»¥ng key tÃ¹y chá»‰nh:
GIT_SSH_COMMAND="ssh -i ~/.ssh/actions" git clone git@github.com:user/repo.git

- Push hoáº·c pull:
git push origin main
# Git tá»± Ä‘á»™ng dÃ¹ng SSH key Ä‘Ã£ chá»‰ Ä‘á»‹nh

- ThÃªm vÃ o file shell Ä‘á»ƒ duy trÃ¬:
echo 'export GIT_SSH_COMMAND="ssh -i ~/.ssh/actions"' >> ~/.bashrc
source ~/.bashrc

--------------------------------------------------
5. Lá»¢I ÃCH THá»°C Táº¾
--------------------------------------------------
- DÃ¹ng nhiá»u SSH key cho cÃ¡c repo khÃ¡c nhau
- TrÃ¡nh pháº£i Ä‘á»•i key máº·c Ä‘á»‹nh trong ~/.ssh/config
- Há»— trá»£ automation vÃ  CI/CD pipelines
- GiÃºp báº£o máº­t khi má»—i key chá»‰ dÃ¹ng cho má»™t má»¥c Ä‘Ã­ch

--------------------------------------------------
6. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------
- File key khÃ´ng tá»“n táº¡i hoáº·c sai Ä‘Æ°á»ng dáº«n â†’ lá»—i xÃ¡c thá»±c
- Quyá»n file key khÃ´ng Ä‘Ãºng (SSH yÃªu cáº§u chmod 400)
- QuÃªn export trong session má»›i â†’ Git khÃ´ng dÃ¹ng key

--------------------------------------------------
7. Cáº¢NH BÃO
--------------------------------------------------
- Key SSH lÃ  nháº¡y cáº£m, giá»¯ file an toÃ n
- Biáº¿n mÃ´i trÆ°á»ng chá»‰ tÃ¡c dá»¥ng trong session hiá»‡n táº¡i náº¿u khÃ´ng thÃªm vÃ o shell profile

--------------------------------------------------
8. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
export GIT_SSH_COMMAND="ssh -i ~/.ssh/actions"

= Cho Git sá»­ dá»¥ng lá»‡nh SSH tÃ¹y chá»‰nh
= DÃ¹ng private key ~/.ssh/actions khi káº¿t ná»‘i remote
= Há»¯u Ã­ch cho nhiá»u SSH key vÃ  automation
= Chá»‰ Ã¡p dá»¥ng trong session hiá»‡n táº¡i trá»« khi thÃªm vÃ o .bashrc hoáº·c .zshrc
		
		
		- cmd: git config core.sshCommand "ssh -i ~/.ssh/actions -F /dev/null"
		
Lá»†NH: git config core.sshCommand "ssh -i ~/.ssh/actions -F /dev/null"
====================================================================

1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
-------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Cáº¥u hÃ¬nh Git Ä‘á»ƒ sá»­ dá»¥ng má»™t lá»‡nh SSH tÃ¹y chá»‰nh khi thá»±c hiá»‡n cÃ¡c thao tÃ¡c liÃªn quan Ä‘áº¿n remote repository (push, pull, fetch, clone)
- Trong vÃ­ dá»¥ nÃ y:
  + Sá»­ dá»¥ng khÃ³a riÃªng tÆ° cá»¥ thá»ƒ (~/.ssh/actions) thay vÃ¬ khÃ³a máº·c Ä‘á»‹nh
  + Bá» qua file cáº¥u hÃ¬nh SSH máº·c Ä‘á»‹nh (~/.ssh/config) vá»›i tÃ¹y chá»n -F /dev/null
- Há»¯u Ã­ch khi lÃ m viá»‡c vá»›i nhiá»u SSH key, vÃ­ dá»¥: dÃ¹ng key riÃªng cho GitHub Actions, server hoáº·c repository khÃ¡c nhau


2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
------------------------------------

2.1. git config
---------------
- CLI cá»§a Git dÃ¹ng Ä‘á»ƒ cáº¥u hÃ¬nh cÃ¡c thiáº¿t láº­p cho repository hoáº·c toÃ n há»‡ thá»‘ng
- CÃ³ thá»ƒ Ã¡p dá»¥ng á»Ÿ cÃ¡c má»©c:
  + System: git config --system
  + Global: git config --global
  + Local (máº·c Ä‘á»‹nh): git config (lÆ°u trong .git/config cá»§a repository)


2.2. core.sshCommand
-------------------
- LÃ  key cáº¥u hÃ¬nh trong Git
- Cho phÃ©p chá»‰ Ä‘á»‹nh má»™t lá»‡nh SSH tÃ¹y chá»‰nh Ä‘á»ƒ Git sá»­ dá»¥ng thay vÃ¬ lá»‡nh ssh máº·c Ä‘á»‹nh
- VÃ­ dá»¥: core.sshCommand="ssh -i ~/.ssh/id_rsa"


2.3. "ssh -i ~/.ssh/actions -F /dev/null"
-----------------------------------------
- ssh: lá»‡nh SSH dÃ¹ng Ä‘á»ƒ káº¿t ná»‘i Ä‘áº¿n remote repository
- -i ~/.ssh/actions:
  + Chá»‰ Ä‘á»‹nh sá»­ dá»¥ng khÃ³a riÃªng tÆ° ~/.ssh/actions
  + Äáº£m báº£o Git káº¿t ná»‘i vá»›i remote báº±ng key nÃ y
- -F /dev/null:
  + Bá» qua file cáº¥u hÃ¬nh SSH máº·c Ä‘á»‹nh (~/.ssh/config)
  + GiÃºp Ä‘áº£m báº£o khÃ´ng bá»‹ override bá»Ÿi cÃ¡c cáº¥u hÃ¬nh SSH khÃ¡c


3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
---------------------------------
Khi cháº¡y:
git config core.sshCommand "ssh -i ~/.ssh/actions -F /dev/null"

Git sáº½:
1. Ghi cáº¥u hÃ¬nh vÃ o file .git/config cá»§a repository hiá»‡n táº¡i (hoáº·c global náº¿u dÃ¹ng --global)
2. Khi thá»±c hiá»‡n cÃ¡c lá»‡nh remote (push, pull, fetch, clone):
   - Git sáº½ gá»i lá»‡nh SSH tÃ¹y chá»‰nh Ä‘Ã£ cáº¥u hÃ¬nh
   - Sá»­ dá»¥ng key ~/.ssh/actions vÃ  bá» qua file cáº¥u hÃ¬nh SSH máº·c Ä‘á»‹nh
3. Káº¿t ná»‘i SSH tá»›i remote repository thÃ nh cÃ´ng dá»±a trÃªn key nÃ y


4. KIá»‚M TRA Káº¾T QUáº¢
-------------------
- Kiá»ƒm tra cáº¥u hÃ¬nh SSH cá»§a repository:
  git config core.sshCommand

- Thá»­ káº¿t ná»‘i remote repository:
  git ls-remote git@github.com:user/repo.git

- Náº¿u SSH key vÃ  quyá»n Ä‘Ãºng:
  + Lá»‡nh trÃªn sáº½ liá»‡t kÃª refs cá»§a repository


5. CÃC BIáº¾N THá»‚ HAY DÃ™NG
-----------------------
- Cáº¥u hÃ¬nh toÃ n cá»¥c cho táº¥t cáº£ repository:
  git config --global core.sshCommand "ssh -i ~/.ssh/actions -F /dev/null"

- Sá»­ dá»¥ng key khÃ¡c:
  git config core.sshCommand "ssh -i ~/.ssh/id_rsa_work -F /dev/null"


6. Lá»¢I ÃCH KHI DÃ™NG Lá»†NH NÃ€Y
----------------------------
- Quáº£n lÃ½ nhiá»u SSH key cho cÃ¡c remote repository khÃ¡c nhau
- Äáº£m báº£o Git dÃ¹ng key Ä‘Ãºng mÃ  khÃ´ng áº£nh hÆ°á»Ÿng file cáº¥u hÃ¬nh SSH toÃ n cá»¥c
- Há»¯u Ã­ch trong CI/CD, automation, GitHub Actions


7. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------
- Key khÃ´ng tá»“n táº¡i hoáº·c quyá»n khÃ´ng Ä‘Ãºng:
  => Permission denied (publickey)

- Lá»‡nh SSH sai cÃº phÃ¡p:
  => Kiá»ƒm tra Ä‘Æ°á»ng dáº«n key vÃ  cÃº phÃ¡p lá»‡nh


8. TÃ“M Táº®T NGáº®N Gá»ŒN
-------------------
git config             : cáº¥u hÃ¬nh Git
core.sshCommand        : chá»‰ Ä‘á»‹nh lá»‡nh SSH tÃ¹y chá»‰nh
"ssh -i ~/.ssh/actions -F /dev/null" : dÃ¹ng key ~/.ssh/actions vÃ  bá» qua file config máº·c Ä‘á»‹nh
Káº¿t quáº£               : Git sáº½ sá»­ dá»¥ng SSH key nÃ y cho táº¥t cáº£ lá»‡nh remote trong repository
		
		
		- cmd: git config --global user.name ngoctuan99
		
Lá»†NH: git config --global user.name ngoctuan99
====================================================================

1. git lÃ  gÃ¬?
--------------------------------------------------------------------
- Git lÃ  há»‡ thá»‘ng quáº£n lÃ½ phiÃªn báº£n phÃ¢n tÃ¡n (DVCS - Distributed Version Control System)
- DÃ¹ng Ä‘á»ƒ:
  + LÆ°u trá»¯ lá»‹ch sá»­ thay Ä‘á»•i cá»§a dá»± Ã¡n
  + Quáº£n lÃ½ cÃ¡c nhÃ¡nh (branch)
  + Há»£p nháº¥t (merge) vÃ  theo dÃµi code giá»¯a nhiá»u developer
- Hoáº¡t Ä‘á»™ng trÃªn local vÃ  remote repository (GitHub, GitLab, Bitbucketâ€¦)

--------------------------------------------------------------------

2. config lÃ  gÃ¬?
--------------------------------------------------------------------
- config = cáº¥u hÃ¬nh Git
- DÃ¹ng Ä‘á»ƒ thiáº¿t láº­p cÃ¡c thÃ´ng sá»‘ Git:
  + user.name â†’ tÃªn ngÆ°á»i dÃ¹ng
  + user.email â†’ email ngÆ°á»i dÃ¹ng
  + core.editor â†’ editor máº·c Ä‘á»‹nh
  + alias â†’ thiáº¿t láº­p lá»‡nh táº¯t
- CÃ³ thá»ƒ cáº¥u hÃ¬nh:
  + Local: chá»‰ cho repository hiá»‡n táº¡i
  + Global: cho táº¥t cáº£ repository cá»§a user
  + System: cho toÃ n há»‡ thá»‘ng

--------------------------------------------------------------------

3. --global lÃ  gÃ¬?
--------------------------------------------------------------------
- --global = Ã¡p dá»¥ng cáº¥u hÃ¬nh cho toÃ n bá»™ repository cá»§a user
- LÆ°u trong file cáº¥u hÃ¬nh: ~/.gitconfig
- Náº¿u khÃ´ng dÃ¹ng --global â†’ cáº¥u hÃ¬nh chá»‰ Ã¡p dá»¥ng cho repository hiá»‡n táº¡i (.git/config)

--------------------------------------------------------------------

4. user.name lÃ  gÃ¬?
--------------------------------------------------------------------
- user.name = tÃªn hiá»ƒn thá»‹ cá»§a ngÆ°á»i dÃ¹ng Git
- DÃ¹ng Ä‘á»ƒ ghi vÃ o commit, giÃºp nháº­n biáº¿t ai Ä‘Ã£ táº¡o commit Ä‘Ã³
- CÃ³ thá»ƒ Ä‘áº·t báº¥t ká»³ tÃªn nÃ o, vÃ­ dá»¥: "Ngoc Tuan", "developer1"

--------------------------------------------------------------------

5. ngoctuan99 lÃ  gÃ¬?
--------------------------------------------------------------------
- GiÃ¡ trá»‹ báº¡n muá»‘n Ä‘áº·t cho user.name
- Trong trÆ°á»ng há»£p nÃ y, tÃªn hiá»ƒn thá»‹ commit sáº½ lÃ  ngoctuan99

--------------------------------------------------------------------

6. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
git config --global user.name ngoctuan99

â†’ Cáº¥u hÃ¬nh Git Ä‘á»ƒ táº¥t cáº£ commit trÃªn mÃ¡y nÃ y cÃ³ tÃªn tÃ¡c giáº£ lÃ  "ngoctuan99"
â†’ LÆ°u trong file ~/.gitconfig
â†’ Ãp dá»¥ng cho táº¥t cáº£ repository Git mÃ  user Ä‘ang lÃ m viá»‡c

--------------------------------------------------------------------

7. Quy trÃ¬nh thá»±c thi lá»‡nh
--------------------------------------------------------------------
1) Git Ä‘á»c file cáº¥u hÃ¬nh global (~/.gitconfig)
2) Cáº­p nháº­t thÃ´ng sá»‘ user.name vá»›i giÃ¡ trá»‹ "ngoctuan99"
3) LÆ°u láº¡i file cáº¥u hÃ¬nh
4) Táº¥t cáº£ commit sau nÃ y sáº½ dÃ¹ng tÃªn nÃ y

--------------------------------------------------------------------

8. Kiá»ƒm tra sau khi cháº¡y lá»‡nh
--------------------------------------------------------------------
- Kiá»ƒm tra cáº¥u hÃ¬nh user.name:
git config --global user.name

- Kiá»ƒm tra táº¥t cáº£ cáº¥u hÃ¬nh global:
git config --global --list

--------------------------------------------------------------------

9. Output Ä‘iá»ƒn hÃ¬nh
--------------------------------------------------------------------
- Lá»‡nh nÃ y khÃ´ng xuáº¥t ra mÃ n hÃ¬nh náº¿u thÃ nh cÃ´ng
- CÃ³ thá»ƒ dÃ¹ng git config --global --list Ä‘á»ƒ xem káº¿t quáº£:
user.name=ngoctuan99

--------------------------------------------------------------------

10. Khi nÃ o nÃªn dÃ¹ng lá»‡nh nÃ y?
--------------------------------------------------------------------
- Láº§n Ä‘áº§u setup Git trÃªn mÃ¡y
- Khi muá»‘n Ä‘á»•i tÃªn hiá»ƒn thá»‹ commit
- Khi thiáº¿t láº­p mÃ´i trÆ°á»ng Git cho user má»›i

--------------------------------------------------------------------

11. So sÃ¡nh nhanh
--------------------------------------------------------------------
git config --local user.name â€¦ â†’ chá»‰ Ã¡p dá»¥ng cho repository hiá»‡n táº¡i
git config --global user.name â€¦ â†’ Ã¡p dá»¥ng cho toÃ n bá»™ repository cá»§a user
git config --system user.name â€¦ â†’ Ã¡p dá»¥ng cho toÃ n há»‡ thá»‘ng

--------------------------------------------------------------------

12. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
git config --global user.name ngoctuan99 =
Cáº¤U HÃŒNH TÃŠN NGÆ¯á»œI DÃ™NG GIT TOÃ€N Cá»¤C TRÃŠN MÃY, Sá»¬ Dá»¤NG CHO Táº¤T Cáº¢ COMMIT SAU NÃ€Y
		
		
		- cmd: git config --global user.email ngoctuanqng1@gmail.com
		
# Lá»‡nh gá»‘c:
git config --global user.email ngoctuanqng1@gmail.com

# Giáº£i thÃ­ch chi tiáº¿t:

# 1. git
# - `git` lÃ  há»‡ thá»‘ng quáº£n lÃ½ phiÃªn báº£n phÃ¢n tÃ¡n (Distributed Version Control System).
# - DÃ¹ng Ä‘á»ƒ theo dÃµi lá»‹ch sá»­ thay Ä‘á»•i cá»§a mÃ£ nguá»“n, phá»‘i há»£p lÃ m viá»‡c nhÃ³m.

# 2. config
# - Lá»‡nh `config` dÃ¹ng Ä‘á»ƒ cáº¥u hÃ¬nh cÃ¡c thiáº¿t láº­p cá»§a Git.
# - CÃ¡c thiáº¿t láº­p cÃ³ thá»ƒ á»Ÿ 3 má»©c:
#   + --system: cáº¥u hÃ¬nh cho táº¥t cáº£ ngÆ°á»i dÃ¹ng trÃªn mÃ¡y.
#   + --global: cáº¥u hÃ¬nh cho user hiá»‡n táº¡i (~/.gitconfig).
#   + --local: cáº¥u hÃ¬nh riÃªng cho repository hiá»‡n táº¡i (.git/config).

# 3. --global
# - Chá»‰ Ä‘á»‹nh ráº±ng thiáº¿t láº­p nÃ y Ã¡p dá»¥ng cho toÃ n bá»™ cÃ¡c repository cá»§a ngÆ°á»i dÃ¹ng hiá»‡n táº¡i.
# - File cáº¥u hÃ¬nh lÆ°u táº¡i: ~/.gitconfig trÃªn Linux/macOS hoáº·c C:\Users\<user>\.gitconfig trÃªn Windows.

# 4. user.email
# - ÄÃ¢y lÃ  key dÃ¹ng Ä‘á»ƒ chá»‰ Ä‘á»‹nh Ä‘á»‹a chá»‰ email cá»§a ngÆ°á»i dÃ¹ng.
# - Git dÃ¹ng email nÃ y Ä‘á»ƒ gáº¯n vá»›i cÃ¡c commit mÃ  ngÆ°á»i dÃ¹ng táº¡o.
# - Email nÃ y sáº½ hiá»ƒn thá»‹ khi push lÃªn remote repository nhÆ° GitHub, GitLab.

# 5. ngoctuanqng1@gmail.com
# - ÄÃ¢y lÃ  giÃ¡ trá»‹ cá»§a `user.email`.
# - Má»—i commit do user táº¡o sáº½ sá»­ dá»¥ng email nÃ y Ä‘á»ƒ xÃ¡c Ä‘á»‹nh tÃ¡c giáº£ commit.

# 6. Chá»©c nÄƒng tá»•ng thá»ƒ
# - Khi cháº¡y lá»‡nh nÃ y, Git sáº½ lÆ°u email cá»§a ngÆ°á»i dÃ¹ng vÃ o file cáº¥u hÃ¬nh toÃ n cá»¥c.
# - VÃ­ dá»¥: commit má»›i sáº½ cÃ³ thÃ´ng tin:
#     Author: Your Name <ngoctuanqng1@gmail.com>

# 7. Kiá»ƒm tra thiáº¿t láº­p
# - git config --global user.email
#   + Hiá»ƒn thá»‹ email hiá»‡n táº¡i Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh.
# - git config --list
#   + Liá»‡t kÃª táº¥t cáº£ thiáº¿t láº­p Git cá»§a user.

# 8. LÆ°u Ã½ quan trá»ng:
# - Cáº§n Ä‘áº·t email há»£p lá»‡, Ä‘áº·c biá»‡t khi push lÃªn remote repository Ä‘á»ƒ commit Ä‘Æ°á»£c ghi nháº­n Ä‘Ãºng tÃ¡c giáº£.
# - CÃ³ thá»ƒ thay Ä‘á»•i email báº¥t ká»³ lÃºc nÃ o báº±ng cÃ¡ch cháº¡y láº¡i lá»‡nh vá»›i email má»›i.
# - Náº¿u muá»‘n thiáº¿t láº­p riÃªng cho má»™t repository, bá» `--global` vÃ  cháº¡y trong thÆ° má»¥c repo.

# Káº¿t luáº­n:
# Lá»‡nh `git config --global user.email ngoctuanqng1@gmail.com` dÃ¹ng Ä‘á»ƒ thiáº¿t láº­p email
# cho toÃ n bá»™ cÃ¡c repository cá»§a user hiá»‡n táº¡i, Ä‘áº£m báº£o cÃ¡c commit Ä‘Æ°á»£c gáº¯n Ä‘Ãºng tÃ¡c giáº£ khi lÃ m viá»‡c vá»›i Git.
		
		
		- cmd: git fetch upstream
		
# Lá»‡nh:
git fetch upstream

# Giáº£i thÃ­ch chi tiáº¿t:

# 1. git
#    - Git lÃ  há»‡ thá»‘ng quáº£n lÃ½ phiÃªn báº£n phÃ¢n tÃ¡n (Version Control System)
#    - DÃ¹ng Ä‘á»ƒ theo dÃµi thay Ä‘á»•i trong code, lÃ m viá»‡c nhÃ³m, vÃ  quáº£n lÃ½ lá»‹ch sá»­ dá»± Ã¡n

# 2. fetch
#    - Lá»‡nh 'fetch' dÃ¹ng Ä‘á»ƒ táº£i táº¥t cáº£ cÃ¡c thay Ä‘á»•i (commits, branches, tags) tá»« remote repository vá» local repository
#    - Chá»‰ táº£i vá», **khÃ´ng tá»± Ä‘á»™ng merge** vÃ o branch hiá»‡n táº¡i
#    - Sau khi fetch, báº¡n cÃ³ thá»ƒ kiá»ƒm tra vÃ  merge thá»§ cÃ´ng náº¿u muá»‘n

# 3. upstream
#    - 'upstream' lÃ  tÃªn remote repository
#    - ThÆ°á»ng dÃ¹ng khi báº¡n fork má»™t dá»± Ã¡n: 
#        - origin: fork cá»§a báº¡n trÃªn GitHub
#        - upstream: repository gá»‘c mÃ  báº¡n fork tá»« nÃ³
#    - git fetch upstream sáº½ láº¥y cÃ¡c thay Ä‘á»•i má»›i nháº¥t tá»« repository gá»‘c

# Ã nghÄ©a tá»•ng thá»ƒ:
# - Lá»‡nh nÃ y cáº­p nháº­t cÃ¡c thÃ´ng tin má»›i nháº¥t tá»« repository gá»‘c (upstream) vÃ o local repository
# - KhÃ´ng lÃ m thay Ä‘á»•i branch hiá»‡n táº¡i cho tá»›i khi báº¡n merge hoáº·c rebase
# - ThÆ°á»ng káº¿t há»£p vá»›i cÃ¡c lá»‡nh nhÆ°:
#     git merge upstream/main
#     git rebase upstream/main
#   Ä‘á»ƒ Ä‘á»“ng bá»™ vá»›i repository gá»‘c
		
		
		- cmd: git merge stage
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
git merge stage

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Há»£p nháº¥t nhÃ¡nh (branch) cÃ³ tÃªn `stage` vÃ o nhÃ¡nh hiá»‡n táº¡i trong Git
- Giá»¯ láº¡i lá»‹ch sá»­ commit cá»§a nhÃ¡nh `stage`
- Cáº­p nháº­t nhÃ¡nh hiá»‡n táº¡i vá»›i táº¥t cáº£ thay Ä‘á»•i tá»« nhÃ¡nh `stage`
- Há»¯u Ã­ch khi:
  + ÄÆ°a cÃ¡c tÃ­nh nÄƒng Ä‘Ã£ hoÃ n thÃ nh trÃªn nhÃ¡nh `stage` vÃ o nhÃ¡nh `main` hoáº·c `develop`
  + Äá»“ng bá»™ code giá»¯a cÃ¡c nhÃ¡nh
  + Chuáº©n bá»‹ release hoáº·c testing

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. git
--------------------------------------------------
- CÃ´ng cá»¥ quáº£n lÃ½ phiÃªn báº£n phÃ¢n tÃ¡n (Distributed Version Control)
- DÃ¹ng Ä‘á»ƒ theo dÃµi, quáº£n lÃ½, vÃ  há»£p nháº¥t code

2.2. merge
--------------------------------------------------
- Subcommand dÃ¹ng Ä‘á»ƒ há»£p nháº¥t cÃ¡c nhÃ¡nh
- Git sáº½ káº¿t há»£p commit tá»« nhÃ¡nh Ä‘Æ°á»£c merge vÃ o nhÃ¡nh hiá»‡n táº¡i

2.3. stage
--------------------------------------------------
- TÃªn nhÃ¡nh muá»‘n merge vÃ o nhÃ¡nh hiá»‡n táº¡i
- CÃ³ thá»ƒ lÃ  nhÃ¡nh phÃ¡t triá»ƒn (development branch) hoáº·c nhÃ¡nh tÃ­nh nÄƒng (feature branch)

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. Git xÃ¡c Ä‘á»‹nh commit hiá»‡n táº¡i cá»§a nhÃ¡nh Ä‘ang checkout
2. XÃ¡c Ä‘á»‹nh commit cuá»‘i cÃ¹ng chung (merge base) giá»¯a nhÃ¡nh hiá»‡n táº¡i vÃ  `stage`
3. So sÃ¡nh sá»± khÃ¡c biá»‡t giá»¯a merge base vÃ  nhÃ¡nh `stage`
4. Táº¡o má»™t commit merge má»›i (náº¿u khÃ´ng cÃ³ conflict) trÃªn nhÃ¡nh hiá»‡n táº¡i
5. Náº¿u cÃ³ conflict:
   - Git thÃ´ng bÃ¡o cÃ¡c file xung Ä‘á»™t
   - NgÆ°á»i dÃ¹ng pháº£i resolve conflict thá»§ cÃ´ng
   - Sau khi resolve, dÃ¹ng `git add` vÃ  `git commit` Ä‘á»ƒ hoÃ n táº¥t merge

--------------------------------------------------
4. OUTPUT MáºªU
--------------------------------------------------
- Merge thÃ nh cÃ´ng:
Updating abc1234..def5678
Fast-forward
 file1.txt | 2 +-
 file2.txt | 3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

- Merge cÃ³ conflict:
Auto-merging file1.txt
CONFLICT (content): Merge conflict in file1.txt
Automatic merge failed; fix conflicts and then commit the result.

--------------------------------------------------
5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
--------------------------------------------------
- Merge nhÃ¡nh khÃ¡c vÃ o nhÃ¡nh hiá»‡n táº¡i:
git checkout main
git merge stage

- Merge vá»›i tÃ¹y chá»n squash (gá»™p commit):
git merge --squash stage
# Sau Ä‘Ã³ commit thá»§ cÃ´ng

- Há»§y merge Ä‘ang diá»…n ra:
git merge --abort

--------------------------------------------------
6. Lá»¢I ÃCH THá»°C Táº¾
--------------------------------------------------
- Äá»“ng bá»™ code giá»¯a cÃ¡c nhÃ¡nh
- Chuáº©n bá»‹ release, testing, hoáº·c deploy
- Giá»¯ lá»‹ch sá»­ commit Ä‘áº§y Ä‘á»§
- Há»— trá»£ workflow nhÆ° Git Flow hoáº·c feature branch

--------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------
- Conflict khi cÃ¹ng chá»‰nh sá»­a trÃªn cÃ¹ng má»™t file
- Merge nháº§m nhÃ¡nh â†’ cÃ³ thá»ƒ revert báº±ng `git reset --hard`
- QuÃªn commit cÃ¡c thay Ä‘á»•i hiá»‡n táº¡i trÆ°á»›c khi merge â†’ Git sáº½ cáº£nh bÃ¡o

--------------------------------------------------
8. Cáº¢NH BÃO
--------------------------------------------------
- LuÃ´n commit hoáº·c stash cÃ¡c thay Ä‘á»•i trÆ°á»›c khi merge
- Kiá»ƒm tra nhÃ¡nh hiá»‡n táº¡i báº±ng `git status` trÆ°á»›c khi merge

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
git merge stage

= Há»£p nháº¥t nhÃ¡nh `stage` vÃ o nhÃ¡nh hiá»‡n táº¡i
= Táº¡o commit merge náº¿u cáº§n
= Kiá»ƒm tra vÃ  resolve conflict náº¿u cÃ³
= Há»¯u Ã­ch Ä‘á»ƒ Ä‘á»“ng bá»™ code giá»¯a cÃ¡c nhÃ¡nh vÃ  chuáº©n bá»‹ release
		
		
		- cmd: git fetch origin stage
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
git merge stage

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Há»£p nháº¥t nhÃ¡nh (branch) cÃ³ tÃªn `stage` vÃ o nhÃ¡nh hiá»‡n táº¡i trong Git
- Giá»¯ láº¡i lá»‹ch sá»­ commit cá»§a nhÃ¡nh `stage`
- Cáº­p nháº­t nhÃ¡nh hiá»‡n táº¡i vá»›i táº¥t cáº£ thay Ä‘á»•i tá»« nhÃ¡nh `stage`
- Há»¯u Ã­ch khi:
  + ÄÆ°a cÃ¡c tÃ­nh nÄƒng Ä‘Ã£ hoÃ n thÃ nh trÃªn nhÃ¡nh `stage` vÃ o nhÃ¡nh `main` hoáº·c `develop`
  + Äá»“ng bá»™ code giá»¯a cÃ¡c nhÃ¡nh
  + Chuáº©n bá»‹ release hoáº·c testing

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. git
--------------------------------------------------
- CÃ´ng cá»¥ quáº£n lÃ½ phiÃªn báº£n phÃ¢n tÃ¡n (Distributed Version Control)
- DÃ¹ng Ä‘á»ƒ theo dÃµi, quáº£n lÃ½, vÃ  há»£p nháº¥t code

2.2. merge
--------------------------------------------------
- Subcommand dÃ¹ng Ä‘á»ƒ há»£p nháº¥t cÃ¡c nhÃ¡nh
- Git sáº½ káº¿t há»£p commit tá»« nhÃ¡nh Ä‘Æ°á»£c merge vÃ o nhÃ¡nh hiá»‡n táº¡i

2.3. stage
--------------------------------------------------
- TÃªn nhÃ¡nh muá»‘n merge vÃ o nhÃ¡nh hiá»‡n táº¡i
- CÃ³ thá»ƒ lÃ  nhÃ¡nh phÃ¡t triá»ƒn (development branch) hoáº·c nhÃ¡nh tÃ­nh nÄƒng (feature branch)

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
Khi cháº¡y lá»‡nh:

1. Git xÃ¡c Ä‘á»‹nh commit hiá»‡n táº¡i cá»§a nhÃ¡nh Ä‘ang checkout
2. XÃ¡c Ä‘á»‹nh commit cuá»‘i cÃ¹ng chung (merge base) giá»¯a nhÃ¡nh hiá»‡n táº¡i vÃ  `stage`
3. So sÃ¡nh sá»± khÃ¡c biá»‡t giá»¯a merge base vÃ  nhÃ¡nh `stage`
4. Táº¡o má»™t commit merge má»›i (náº¿u khÃ´ng cÃ³ conflict) trÃªn nhÃ¡nh hiá»‡n táº¡i
5. Náº¿u cÃ³ conflict:
   - Git thÃ´ng bÃ¡o cÃ¡c file xung Ä‘á»™t
   - NgÆ°á»i dÃ¹ng pháº£i resolve conflict thá»§ cÃ´ng
   - Sau khi resolve, dÃ¹ng `git add` vÃ  `git commit` Ä‘á»ƒ hoÃ n táº¥t merge

--------------------------------------------------
4. OUTPUT MáºªU
--------------------------------------------------
- Merge thÃ nh cÃ´ng:
Updating abc1234..def5678
Fast-forward
 file1.txt | 2 +-
 file2.txt | 3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

- Merge cÃ³ conflict:
Auto-merging file1.txt
CONFLICT (content): Merge conflict in file1.txt
Automatic merge failed; fix conflicts and then commit the result.

--------------------------------------------------
5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
--------------------------------------------------
- Merge nhÃ¡nh khÃ¡c vÃ o nhÃ¡nh hiá»‡n táº¡i:
git checkout main
git merge stage

- Merge vá»›i tÃ¹y chá»n squash (gá»™p commit):
git merge --squash stage
# Sau Ä‘Ã³ commit thá»§ cÃ´ng

- Há»§y merge Ä‘ang diá»…n ra:
git merge --abort

--------------------------------------------------
6. Lá»¢I ÃCH THá»°C Táº¾
--------------------------------------------------
- Äá»“ng bá»™ code giá»¯a cÃ¡c nhÃ¡nh
- Chuáº©n bá»‹ release, testing, hoáº·c deploy
- Giá»¯ lá»‹ch sá»­ commit Ä‘áº§y Ä‘á»§
- Há»— trá»£ workflow nhÆ° Git Flow hoáº·c feature branch

--------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------
- Conflict khi cÃ¹ng chá»‰nh sá»­a trÃªn cÃ¹ng má»™t file
- Merge nháº§m nhÃ¡nh â†’ cÃ³ thá»ƒ revert báº±ng `git reset --hard`
- QuÃªn commit cÃ¡c thay Ä‘á»•i hiá»‡n táº¡i trÆ°á»›c khi merge â†’ Git sáº½ cáº£nh bÃ¡o

--------------------------------------------------
8. Cáº¢NH BÃO
--------------------------------------------------
- LuÃ´n commit hoáº·c stash cÃ¡c thay Ä‘á»•i trÆ°á»›c khi merge
- Kiá»ƒm tra nhÃ¡nh hiá»‡n táº¡i báº±ng `git status` trÆ°á»›c khi merge

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
git merge stage

= Há»£p nháº¥t nhÃ¡nh `stage` vÃ o nhÃ¡nh hiá»‡n táº¡i
= Táº¡o commit merge náº¿u cáº§n
= Kiá»ƒm tra vÃ  resolve conflict náº¿u cÃ³
= Há»¯u Ã­ch Ä‘á»ƒ Ä‘á»“ng bá»™ code giá»¯a cÃ¡c nhÃ¡nh vÃ  chuáº©n bá»‹ release
		
		
		- cmd: git checkout main
		
Lá»†NH: git checkout main
====================================================================

1. git lÃ  gÃ¬?
--------------------------------------------------------------------
- Git lÃ  há»‡ thá»‘ng quáº£n lÃ½ phiÃªn báº£n phÃ¢n tÃ¡n (DVCS - Distributed Version Control System)
- DÃ¹ng Ä‘á»ƒ:
  + LÆ°u trá»¯ lá»‹ch sá»­ thay Ä‘á»•i cá»§a dá»± Ã¡n
  + Quáº£n lÃ½ cÃ¡c nhÃ¡nh (branch)
  + Há»£p nháº¥t (merge) vÃ  theo dÃµi code giá»¯a nhiá»u developer
- Hoáº¡t Ä‘á»™ng trÃªn local vÃ  remote repository (GitHub, GitLab, Bitbucketâ€¦)

--------------------------------------------------------------------

2. checkout lÃ  gÃ¬?
--------------------------------------------------------------------
- checkout lÃ  lá»‡nh Git dÃ¹ng Ä‘á»ƒ:
  + Chuyá»ƒn Ä‘á»•i giá»¯a cÃ¡c branch
  + Hoáº·c phá»¥c há»“i cÃ¡c file/thÆ° má»¥c vá» tráº¡ng thÃ¡i trÆ°á»›c Ä‘Ã³
- Khi checkout má»™t branch, Git sáº½ thay Ä‘á»•i thÆ° má»¥c lÃ m viá»‡c (working directory) sang commit HEAD cá»§a branch Ä‘Ã³

--------------------------------------------------------------------

3. main lÃ  gÃ¬?
--------------------------------------------------------------------
- main lÃ  tÃªn branch chÃ­nh (thÆ°á»ng thay cho branch master trÆ°á»›c Ä‘Ã¢y)
- ThÆ°á»ng chá»©a phiÃªn báº£n code á»•n Ä‘á»‹nh, production-ready
- Khi checkout main â†’ báº¡n Ä‘ang chuyá»ƒn sang nhÃ¡nh main

--------------------------------------------------------------------

4. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
git checkout main

â†’ Chuyá»ƒn Ä‘á»•i tá»« branch hiá»‡n táº¡i sang branch main
â†’ ThÆ° má»¥c lÃ m viá»‡c sáº½ cáº­p nháº­t cÃ¡c file theo commit HEAD cá»§a main
â†’ HEAD sáº½ trá» Ä‘áº¿n branch main
â†’ Náº¿u cÃ³ thay Ä‘á»•i chÆ°a commit trong branch hiá»‡n táº¡i:
   + Git cÃ³ thá»ƒ yÃªu cáº§u commit hoáº·c stash trÆ°á»›c khi checkout
   + Náº¿u khÃ´ng sáº½ bÃ¡o lá»—i â€œYour local changes to the following files would be overwrittenâ€¦â€

--------------------------------------------------------------------

5. Quy trÃ¬nh thá»±c thi lá»‡nh
--------------------------------------------------------------------
1) Git kiá»ƒm tra branch main cÃ³ tá»“n táº¡i khÃ´ng
2) Kiá»ƒm tra thay Ä‘á»•i chÆ°a commit trong branch hiá»‡n táº¡i
3) Náº¿u an toÃ n â†’ Git cáº­p nháº­t HEAD sang branch main
4) ThÆ° má»¥c lÃ m viá»‡c vÃ  staging area Ä‘Æ°á»£c Ä‘á»“ng bá»™ vá»›i commit HEAD cá»§a main

--------------------------------------------------------------------

6. Kiá»ƒm tra sau khi cháº¡y lá»‡nh
--------------------------------------------------------------------
- Kiá»ƒm tra branch hiá»‡n táº¡i:
git branch

- Output sáº½ hiá»ƒn thá»‹:
* main
  feature-branch

- Dáº¥u * = branch Ä‘ang active

--------------------------------------------------------------------

7. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) error: pathspec 'main' did not match any file(s) known to git
- Branch main chÆ°a tá»“n táº¡i
- Sá»­a: git branch -a Ä‘á»ƒ xem danh sÃ¡ch branch, hoáº·c táº¡o branch main

2) Your local changes would be overwritten by checkout
- CÃ³ thay Ä‘á»•i chÆ°a commit
- Giáº£i phÃ¡p:
  + Commit thay Ä‘á»•i: git commit -m "message"
  + Hoáº·c stash thay Ä‘á»•i: git stash

--------------------------------------------------------------------

8. Khi nÃ o nÃªn dÃ¹ng lá»‡nh nÃ y?
--------------------------------------------------------------------
- Chuyá»ƒn vá» branch chÃ­nh trÆ°á»›c khi merge hoáº·c deploy
- Láº¥y code má»›i nháº¥t tá»« remote main
- LÃ m viá»‡c trÃªn branch main sau khi hoÃ n táº¥t feature branch

--------------------------------------------------------------------

9. So sÃ¡nh nhanh
--------------------------------------------------------------------
git checkout <branch> â†’ chuyá»ƒn sang branch khÃ¡c
git checkout -b <branch> â†’ táº¡o vÃ  chuyá»ƒn sang branch má»›i
git switch <branch> â†’ lá»‡nh thay tháº¿ git checkout chá»‰ Ä‘á»ƒ chuyá»ƒn branch
git restore <file> â†’ khÃ´i phá»¥c file/thÆ° má»¥c

--------------------------------------------------------------------

10. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
git checkout main =
CHUYá»‚N SANG BRANCH main VÃ€ Cáº¬P NHáº¬T THÆ¯ Má»¤C LÃ€M VIá»†C THEO TRáº NG THÃI HIá»†N Táº I Cá»¦A main
		
		
		- cmd: git merge origin/stage
		
# Lá»‡nh gá»‘c:
git merge origin/stage

# Giáº£i thÃ­ch chi tiáº¿t:

# 1. git
# - `git` lÃ  há»‡ thá»‘ng quáº£n lÃ½ phiÃªn báº£n phÃ¢n tÃ¡n (Distributed Version Control System).
# - DÃ¹ng Ä‘á»ƒ theo dÃµi lá»‹ch sá»­ thay Ä‘á»•i cá»§a mÃ£ nguá»“n, phá»‘i há»£p lÃ m viá»‡c nhÃ³m.

# 2. merge
# - Lá»‡nh `merge` dÃ¹ng Ä‘á»ƒ há»£p nháº¥t cÃ¡c thay Ä‘á»•i tá»« má»™t branch vÃ o branch hiá»‡n táº¡i.
# - Git sáº½ cá»‘ gáº¯ng káº¿t há»£p cÃ¡c commit tá»« branch nguá»“n vÃ o branch Ä‘Ã­ch.
# - CÃ³ thá»ƒ xáº£y ra:
#   + Fast-forward merge: náº¿u branch hiá»‡n táº¡i chÆ°a cÃ³ commit má»›i, Git chá»‰ di chuyá»ƒn pointer.
#   + Three-way merge: náº¿u cáº£ hai branch Ä‘á»u cÃ³ commit má»›i, Git táº¡o merge commit Ä‘á»ƒ káº¿t há»£p.

# 3. origin/stage
# - `origin` lÃ  tÃªn remote repository máº·c Ä‘á»‹nh.
# - `stage` lÃ  tÃªn branch trÃªn remote `origin`.
# - `origin/stage` chá»‰ Ä‘á»‹nh branch stage trÃªn remote mÃ  báº¡n muá»‘n merge vÃ o branch hiá»‡n táº¡i.
# - TrÆ°á»›c khi merge, thÆ°á»ng cáº§n pull hoáº·c fetch Ä‘á»ƒ cáº­p nháº­t reference local cá»§a remote branch:
#     git fetch origin
#   Äiá»u nÃ y Ä‘áº£m báº£o `origin/stage` lÃ  báº£n má»›i nháº¥t trÃªn remote.

# 4. Chá»©c nÄƒng tá»•ng thá»ƒ
# - Khi cháº¡y lá»‡nh `git merge origin/stage`, Git sáº½:
#   1. Láº¥y cÃ¡c commit tá»« branch `stage` trÃªn remote `origin`.
#   2. Há»£p nháº¥t cÃ¡c commit Ä‘Ã³ vÃ o branch hiá»‡n táº¡i (vd: `main` hoáº·c `develop`).
#   3. Náº¿u cÃ³ xung Ä‘á»™t, Git sáº½ yÃªu cáº§u báº¡n giáº£i quyáº¿t trÆ°á»›c khi hoÃ n táº¥t merge.
#   4. Táº¡o merge commit (náº¿u cáº§n) Ä‘á»ƒ ghi nháº­n viá»‡c káº¿t há»£p cÃ¡c thay Ä‘á»•i.

# 5. VÃ­ dá»¥ workflow:
# - Báº¡n Ä‘ang á»Ÿ branch `main`:
#     git checkout main
# - Cáº­p nháº­t thÃ´ng tin remote:
#     git fetch origin
# - Merge branch stage tá»« remote vÃ o main:
#     git merge origin/stage
# - Kiá»ƒm tra log commit:
#     git log --oneline --graph --all

# 6. LÆ°u Ã½ quan trá»ng:
# - NÃªn luÃ´n fetch trÆ°á»›c khi merge remote branch Ä‘á»ƒ trÃ¡nh merge cÃ¡c commit cÅ©.
# - Kiá»ƒm tra xung Ä‘á»™t (conflict) náº¿u Git khÃ´ng thá»ƒ tá»± merge.
# - Sau khi merge xong, cÃ³ thá»ƒ push branch hiá»‡n táº¡i lÃªn remote:
#     git push origin main

# 7. CÃ¡c lá»‡nh liÃªn quan:
# - git fetch origin
#   + Cáº­p nháº­t táº¥t cáº£ branch tá»« remote mÃ  khÃ´ng merge.
# - git pull origin stage
#   + Fetch + merge trong má»™t lá»‡nh.
# - git merge --no-ff origin/stage
#   + Táº¡o merge commit ngay cáº£ khi fast-forward cÃ³ thá»ƒ thá»±c hiá»‡n.

# Káº¿t luáº­n:
# Lá»‡nh `git merge origin/stage` dÃ¹ng Ä‘á»ƒ há»£p nháº¥t cÃ¡c thay Ä‘á»•i tá»« branch `stage` trÃªn remote `origin` vÃ o branch hiá»‡n táº¡i,
# giÃºp Ä‘á»“ng bá»™ code tá»« remote branch vÃ  tiáº¿p tá»¥c phÃ¡t triá»ƒn trÃªn branch local.
		
		
		- cmd: aws eks update-kubeconfig --region us-east-1 --name vprofile-eks
		
# Lá»‡nh:
aws eks update-kubeconfig --region us-east-1 --name vprofile-eks

# Giáº£i thÃ­ch chi tiáº¿t:

# 1. aws
#    - AWS CLI (Command Line Interface) cho phÃ©p tÆ°Æ¡ng tÃ¡c vá»›i cÃ¡c dá»‹ch vá»¥ AWS tá»« terminal
#    - Báº¡n cÃ³ thá»ƒ quáº£n lÃ½ EC2, S3, EKS, Lambda, v.v. thÃ´ng qua cÃ¡c lá»‡nh CLI

# 2. eks
#    - ÄÃ¢y lÃ  module cá»§a AWS CLI dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ EKS (Elastic Kubernetes Service)
#    - EKS lÃ  dá»‹ch vá»¥ Kubernetes Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi AWS

# 3. update-kubeconfig
#    - Lá»‡nh nÃ y táº¡o hoáº·c cáº­p nháº­t file kubeconfig
#    - kubeconfig lÃ  file cáº¥u hÃ¬nh cho kubectl, giÃºp káº¿t ná»‘i tá»›i cluster Kubernetes

# 4. --region us-east-1
#    - Chá»‰ Ä‘á»‹nh vÃ¹ng (region) nÆ¡i cluster EKS Ä‘ang cháº¡y
#    - á» Ä‘Ã¢y lÃ  'us-east-1'

# 5. --name vprofile-eks
#    - TÃªn cluster EKS báº¡n muá»‘n káº¿t ná»‘i
#    - á» Ä‘Ã¢y lÃ  'vprofile-eks'

# Ã nghÄ©a tá»•ng thá»ƒ:
# - Lá»‡nh nÃ y cáº­p nháº­t file kubeconfig trÃªn mÃ¡y cá»§a báº¡n Ä‘á»ƒ kubectl cÃ³ thá»ƒ káº¿t ná»‘i tá»›i cluster EKS tÃªn 'vprofile-eks' trong region 'us-east-1'
# - Sau khi cháº¡y lá»‡nh, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng kubectl nhÆ° bÃ¬nh thÆ°á»ng, vÃ­ dá»¥:
#       kubectl get nodes
#       kubectl get pods -A
		
		
		- cmd: kubectl delete -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.1.3/deploy/static/provider/aws/deploy.yaml
		
GIáº¢I THÃCH CHI TIáº¾T Lá»†NH:
kubectl delete -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.1.3/deploy/static/provider/aws/deploy.yaml

--------------------------------------------------
1. Tá»”NG QUAN
--------------------------------------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- XÃ³a táº¥t cáº£ resource Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong file YAML tá»« URL trá»±c tuyáº¿n
- File YAML nÃ y lÃ  báº£n deploy cá»§a Ingress-NGINX Controller trÃªn AWS (phiÃªn báº£n v1.1.3)
- Há»¯u Ã­ch khi:
  + Gá»¡ cÃ i Ä‘áº·t Ingress-NGINX Controller khá»i cluster
  + Dá»n dáº¹p cÃ¡c resource trÆ°á»›c khi cÃ i Ä‘áº·t láº¡i hoáº·c nÃ¢ng cáº¥p
  + Quáº£n lÃ½ lifecycle cá»§a Ingress Controller trong Kubernetes

--------------------------------------------------
2. PHÃ‚N TÃCH Tá»ªNG THÃ€NH PHáº¦N
--------------------------------------------------

2.1. kubectl
--------------------------------------------------
- CÃ´ng cá»¥ dÃ²ng lá»‡nh quáº£n lÃ½ Kubernetes cluster

2.2. delete
--------------------------------------------------
- Subcommand Ä‘á»ƒ xÃ³a resource trong cluster
- CÃ³ thá»ƒ xÃ³a Pod, Deployment, Service, Ingress, ConfigMap, v.v.

2.3. -f <file-or-url>
--------------------------------------------------
- Chá»‰ Ä‘á»‹nh file YAML hoáº·c URL Ä‘á»‹nh nghÄ©a resource
- á» Ä‘Ã¢y lÃ  URL trá»±c tuyáº¿n tá»« GitHub
- Kubernetes sáº½ Ä‘á»c YAML vÃ  xÃ³a táº¥t cáº£ resource Ä‘Æ°á»£c khai bÃ¡o trong Ä‘Ã³

2.4. URL
--------------------------------------------------
- https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.1.3/deploy/static/provider/aws/deploy.yaml
- Chá»©a manifest Ä‘áº§y Ä‘á»§ Ä‘á»ƒ triá»ƒn khai Ingress-NGINX Controller trÃªn AWS
- Khi dÃ¹ng vá»›i `delete -f`, táº¥t cáº£ resource trong file nÃ y sáº½ bá»‹ xÃ³a

--------------------------------------------------
3. QUÃ TRÃŒNH HOáº T Äá»˜NG
--------------------------------------------------
1. Kubectl gá»­i request táº£i file YAML tá»« URL
2. Äá»c cÃ¡c resource Ä‘Æ°á»£c khai bÃ¡o: Deployment, ServiceAccount, ClusterRole, ClusterRoleBinding, ConfigMap, Service, DaemonSetâ€¦
3. Gá»­i API request xÃ³a tá»«ng resource vÃ o Kubernetes API server
4. API server xÃ³a resource vÃ  tráº£ káº¿t quáº£
5. Terminal hiá»ƒn thá»‹ tráº¡ng thÃ¡i xÃ³a

--------------------------------------------------
4. OUTPUT MáºªU
--------------------------------------------------
serviceaccount "ingress-nginx" deleted
clusterrole.rbac.authorization.k8s.io "ingress-nginx" deleted
clusterrolebinding.rbac.authorization.k8s.io "ingress-nginx" deleted
configmap "ingress-nginx-controller" deleted
service "ingress-nginx-controller" deleted
daemonset.apps "ingress-nginx-controller" deleted
deployment.apps "ingress-nginx-controller-admission" deleted

--------------------------------------------------
5. CÃCH Sá»¬ Dá»¤NG LIÃŠN QUAN
--------------------------------------------------
- XÃ³a resource tá»« file YAML local:
kubectl delete -f deploy.yaml

- XÃ³a namespace cÃ¹ng cÃ¡c resource:
kubectl delete ns ingress-nginx

- Kiá»ƒm tra resource trÆ°á»›c khi xÃ³a:
kubectl get all -n ingress-nginx

--------------------------------------------------
6. Lá»¢I ÃCH THá»°C Táº¾
--------------------------------------------------
- Dá»n dáº¹p cluster khá»i Ingress Controller cÅ©
- Chuáº©n bá»‹ nÃ¢ng cáº¥p hoáº·c redeploy
- GiÃºp trÃ¡nh xung Ä‘á»™t khi deploy nhiá»u phiÃªn báº£n
- Quáº£n lÃ½ lifecycle resource má»™t cÃ¡ch rÃµ rÃ ng

--------------------------------------------------
7. Lá»–I THÆ¯á»œNG Gáº¶P
--------------------------------------------------
- File hoáº·c URL khÃ´ng tá»“n táº¡i â†’ lá»—i táº£i YAML
- Resource Ä‘Ã£ bá»‹ xÃ³a â†’ output thÃ´ng bÃ¡o â€œNotFoundâ€
- Permission denied â†’ user khÃ´ng cÃ³ quyá»n xÃ³a ClusterRole, ClusterRoleBinding, DaemonSetâ€¦

--------------------------------------------------
8. Cáº¢NH BÃO
--------------------------------------------------
- Lá»‡nh xÃ³a toÃ n bá»™ resource trong YAML, khÃ´ng thá»ƒ undo
- NÃªn kiá»ƒm tra file hoáº·c URL trÆ°á»›c khi xÃ³a
- Äáº£m báº£o xÃ³a Ä‘Ãºng cluster Ä‘á»ƒ trÃ¡nh máº¥t dá»¯ liá»‡u quan trá»ng

--------------------------------------------------
9. TÃ“M Táº®T NGáº®N Gá»ŒN
--------------------------------------------------
kubectl delete -f <URL-deploy.yaml>

= XÃ³a táº¥t cáº£ resource Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong YAML tá»« URL
= DÃ¹ng Ä‘á»ƒ gá»¡ cÃ i Ä‘áº·t Ingress-NGINX Controller trÃªn AWS
= Kiá»ƒm tra resource vÃ  quyá»n trÆ°á»›c khi xÃ³a
= Há»¯u Ã­ch Ä‘á»ƒ dá»n dáº¹p, chuáº©n bá»‹ redeploy hoáº·c nÃ¢ng cáº¥p
		
		
		- cmd: helm list
		
Lá»†NH: helm list
===============

1. Má»¤C ÄÃCH Cá»¦A Lá»†NH
-------------------
Lá»‡nh nÃ y dÃ¹ng Ä‘á»ƒ:
- Liá»‡t kÃª táº¥t cáº£ cÃ¡c release Helm Ä‘ang Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn Kubernetes cluster
- GiÃºp kiá»ƒm tra cÃ¡c release Ä‘Ã£ deploy, tráº¡ng thÃ¡i hiá»‡n táº¡i vÃ  namespace tÆ°Æ¡ng á»©ng
- ThÆ°á»ng dÃ¹ng trong quÃ¡ trÃ¬nh quáº£n lÃ½, debug hoáº·c update cÃ¡c release Helm


2. PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG THÃ€NH PHáº¦N
------------------------------------

2.1. helm
----------
- CLI chÃ­nh thá»©c cá»§a Helm
- Helm lÃ  package manager cho Kubernetes
- Há»— trá»£ deploy, upgrade, rollback vÃ  quáº£n lÃ½ cÃ¡c á»©ng dá»¥ng Kubernetes thÃ´ng qua chart

2.2. list
----------
- Sub-command cá»§a Helm
- DÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ danh sÃ¡ch release
- Máº·c Ä‘á»‹nh sáº½ liá»‡t kÃª release trong namespace hiá»‡n táº¡i


3. QUÃ TRÃŒNH DIá»„N RA KHI CHáº Y Lá»†NH
---------------------------------
Khi cháº¡y:
helm list

Helm sáº½:
1. Káº¿t ná»‘i tá»›i Kubernetes cluster
2. Truy váº¥n cÃ¡c Helm release trong namespace hiá»‡n táº¡i
3. Tráº£ vá» danh sÃ¡ch release vá»›i thÃ´ng tin cÆ¡ báº£n nhÆ°:
   - NAME: tÃªn release
   - NAMESPACE: namespace deploy release
   - REVISION: sá»‘ phiÃªn báº£n release
   - UPDATED: thá»i gian cáº­p nháº­t cuá»‘i cÃ¹ng
   - STATUS: tráº¡ng thÃ¡i release (deployed, failed, pending-upgradeâ€¦)
   - CHART: chart sá»­ dá»¥ng
   - APP VERSION: phiÃªn báº£n á»©ng dá»¥ng


4. Káº¾T QUáº¢ MáºªU
---------------
VÃ­ dá»¥ output:

NAME            NAMESPACE   REVISION  UPDATED                              STATUS    CHART               APP VERSION
nginx-release   default     1         2025-12-20 10:15:32.123456 +0700    deployed  nginx-9.3.2         1.19.6
mysql-release   db          2         2025-12-19 14:45:21.654321 +0700    deployed  mysql-8.0.5         8.0.32

Giáº£i thÃ­ch:
- NAME: tÃªn release
- NAMESPACE: namespace chá»©a release
- REVISION: sá»‘ láº§n release Ä‘Æ°á»£c cáº­p nháº­t
- UPDATED: thá»i gian láº§n cuá»‘i release Ä‘Æ°á»£c deploy/update
- STATUS: tráº¡ng thÃ¡i release
- CHART: chart Ä‘Æ°á»£c sá»­ dá»¥ng
- APP VERSION: phiÃªn báº£n á»©ng dá»¥ng tÆ°Æ¡ng á»©ng


5. CÃC BIáº¾N THá»‚ HAY DÃ™NG
-----------------------
- Liá»‡t kÃª release trong táº¥t cáº£ namespace:
  helm list --all-namespaces

- Hiá»ƒn thá»‹ release theo tráº¡ng thÃ¡i:
  helm list --deployed
  helm list --failed

- Hiá»ƒn thá»‹ output dÆ°á»›i dáº¡ng JSON hoáº·c YAML:
  helm list -o json
  helm list -o yaml

- Giá»›i háº¡n sá»‘ release hiá»ƒn thá»‹:
  helm list --max 5


6. Lá»¢I ÃCH KHI DÃ™NG Lá»†NH NÃ€Y
----------------------------
- Kiá»ƒm tra tráº¡ng thÃ¡i cÃ¡c á»©ng dá»¥ng Helm Ä‘ang cháº¡y
- Xem thÃ´ng tin chi tiáº¿t vá» chart vÃ  phiÃªn báº£n á»©ng dá»¥ng
- Há»— trá»£ quáº£n lÃ½, upgrade, rollback hoáº·c xÃ³a release


7. Lá»–I THÆ¯á»œNG Gáº¶P
-----------------
- KhÃ´ng cÃ³ release nÃ o trong namespace:
  => Output sáº½ trá»‘ng

- KhÃ´ng cÃ³ quyá»n truy cáº­p namespace:
  => Error: permission denied

- Helm khÃ´ng Ä‘Æ°á»£c cÃ i Ä‘áº·t hoáº·c khÃ´ng káº¿t ná»‘i cluster:
  => Error: kubeconfig not found or cluster unreachable


8. TÃ“M Táº®T NGáº®N Gá»ŒN
-------------------
helm              : CLI Helm
list              : liá»‡t kÃª cÃ¡c release Helm
Káº¿t quáº£           : danh sÃ¡ch release trong namespace hiá»‡n táº¡i, gá»“m tÃªn, namespace, revision, status, chart, app version
		
		
		- cmd: helm uninstall vprofile-stack
		
Lá»†NH: helm uninstall vprofile-stack
====================================================================

1. Helm lÃ  gÃ¬?
--------------------------------------------------------------------
- Helm lÃ  cÃ´ng cá»¥ quáº£n lÃ½ package cho Kubernetes
- Cho phÃ©p:
  + CÃ i Ä‘áº·t, nÃ¢ng cáº¥p, xÃ³a á»©ng dá»¥ng trÃªn cluster Kubernetes
  + Quáº£n lÃ½ cÃ¡c chart (package Helm) chá»©a cÃ¡c manifest YAML cá»§a á»©ng dá»¥ng
- Helm giÃºp tá»± Ä‘á»™ng hÃ³a triá»ƒn khai á»©ng dá»¥ng phá»©c táº¡p trÃªn Kubernetes

--------------------------------------------------------------------

2. uninstall lÃ  gÃ¬?
--------------------------------------------------------------------
- uninstall = gá»¡ bá» má»™t release khá»i cluster
- Khi cháº¡y helm uninstall:
  + Helm sáº½ xÃ³a táº¥t cáº£ resource (Deployment, Service, ConfigMap, Secretâ€¦) Ä‘Æ°á»£c táº¡o bá»Ÿi release Ä‘Ã³
  + Release sáº½ khÃ´ng cÃ²n tá»“n táº¡i trong cluster
- TÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i viá»‡c dá»n sáº¡ch toÃ n bá»™ á»©ng dá»¥ng Ä‘Æ°á»£c cÃ i báº±ng Helm

--------------------------------------------------------------------

3. vprofile-stack lÃ  gÃ¬?
--------------------------------------------------------------------
- vprofile-stack = tÃªn release cáº§n xÃ³a
- Release lÃ  má»™t báº£n cÃ i Ä‘áº·t cá»¥ thá»ƒ cá»§a chart trÃªn cluster
- Khi uninstall â†’ táº¥t cáº£ resource thuá»™c release nÃ y sáº½ bá»‹ xÃ³a

--------------------------------------------------------------------

4. Ã nghÄ©a tá»•ng thá»ƒ cá»§a lá»‡nh
--------------------------------------------------------------------
helm uninstall vprofile-stack

â†’ XÃ³a release cÃ³ tÃªn vprofile-stack khá»i Kubernetes cluster
â†’ XÃ³a táº¥t cáº£ resource (Pod, Deployment, Service, ConfigMap, Secretâ€¦) do release nÃ y táº¡o
â†’ Helm sáº½ khÃ´ng giá»¯ láº¡i thÃ´ng tin release trong history

--------------------------------------------------------------------

5. Quy trÃ¬nh thá»±c thi lá»‡nh
--------------------------------------------------------------------
1) Helm tÃ¬m release vprofile-stack trong cluster
2) Kiá»ƒm tra resource Ä‘Æ°á»£c táº¡o bá»Ÿi release
3) Gá»­i lá»‡nh xÃ³a tá»«ng resource tá»›i Kubernetes API server
4) Cáº­p nháº­t Helm storage Ä‘á»ƒ release nÃ y khÃ´ng cÃ²n tá»“n táº¡i
5) Hiá»ƒn thá»‹ tiáº¿n trÃ¬nh xÃ³a trÃªn terminal

--------------------------------------------------------------------

6. Kiá»ƒm tra sau khi cháº¡y lá»‡nh
--------------------------------------------------------------------
- Liá»‡t kÃª cÃ¡c release cÃ²n tá»“n táº¡i:
helm list

- Kiá»ƒm tra resource trong cluster:
kubectl get all | grep vprofile-stack

- Náº¿u khÃ´ng cÃ²n resource â†’ uninstall thÃ nh cÃ´ng

--------------------------------------------------------------------

7. Output Ä‘iá»ƒn hÃ¬nh
--------------------------------------------------------------------
release "vprofile-stack" uninstalled

- ThÃ´ng bÃ¡o Helm Ä‘Ã£ xÃ³a release thÃ nh cÃ´ng

--------------------------------------------------------------------

8. Lá»—i thÆ°á»ng gáº·p
--------------------------------------------------------------------
1) Error: release: not found
- Release vprofile-stack khÃ´ng tá»“n táº¡i
- Kiá»ƒm tra tÃªn release báº±ng helm list

2) Lá»—i quyá»n
- User khÃ´ng cÃ³ quyá»n xÃ³a resource trong namespace

--------------------------------------------------------------------

9. Khi nÃ o nÃªn dÃ¹ng lá»‡nh nÃ y?
--------------------------------------------------------------------
- XÃ³a hoÃ n toÃ n má»™t á»©ng dá»¥ng Ä‘Æ°á»£c cÃ i báº±ng Helm
- Dá»n dáº¹p namespace trÆ°á»›c khi cÃ i láº¡i á»©ng dá»¥ng
- Há»§y bá» release khÃ´ng cÃ²n sá»­ dá»¥ng

--------------------------------------------------------------------

10. So sÃ¡nh nhanh
--------------------------------------------------------------------
helm install <release> <chart> â†’ cÃ i Ä‘áº·t á»©ng dá»¥ng
helm upgrade <release> <chart> â†’ nÃ¢ng cáº¥p á»©ng dá»¥ng
helm uninstall <release> â†’ xÃ³a á»©ng dá»¥ng khá»i cluster

--------------------------------------------------------------------

11. TÃ³m táº¯t 1 dÃ²ng
--------------------------------------------------------------------
helm uninstall vprofile-stack =
XÃ“A HOÃ€N TOÃ€N RELEASE vprofile-stack VÃ€ Táº¤T Cáº¢ RESOURCE LIÃŠN QUAN TRÃŠN KUBERNETES CLUSTER
		
		
		- cmd: terraform init -backend-config="bucket=vprofileactions112211"
		
# Lá»‡nh gá»‘c:
terraform init -backend-config="bucket=vprofileactions112211"

# Giáº£i thÃ­ch chi tiáº¿t:

# 1. terraform
# - `terraform` lÃ  cÃ´ng cá»¥ Infrastructure as Code (IaC) Ä‘á»ƒ triá»ƒn khai vÃ  quáº£n lÃ½ cÆ¡ sá»Ÿ háº¡ táº§ng.
# - Cho phÃ©p viáº¿t cáº¥u hÃ¬nh cÆ¡ sá»Ÿ háº¡ táº§ng báº±ng code (HCL - HashiCorp Configuration Language), vÃ  apply trÃªn nhiá»u cloud provider nhÆ° AWS, Azure, GCP,...

# 2. init
# - Lá»‡nh `init` dÃ¹ng Ä‘á»ƒ khá»Ÿi táº¡o Terraform working directory.
# - Chá»©c nÄƒng:
#   + Táº£i provider plugins cáº§n thiáº¿t.
#   + Cáº¥u hÃ¬nh backend Ä‘á»ƒ lÆ°u tráº¡ng thÃ¡i (state) cá»§a Terraform.
#   + Chuáº©n bá»‹ directory Ä‘á»ƒ cháº¡y cÃ¡c lá»‡nh nhÆ° `terraform plan` vÃ  `terraform apply`.

# 3. -backend-config="bucket=vprofileactions112211"
# - `-backend-config` dÃ¹ng Ä‘á»ƒ truyá»n thÃ´ng sá»‘ cáº¥u hÃ¬nh backend khi init.
# - Trong vÃ­ dá»¥ nÃ y:
#   + backend: loáº¡i lÆ°u trá»¯ state cá»§a Terraform (thÆ°á»ng lÃ  S3, GCS, Azure Storage,...).
#   + bucket=vprofileactions112211: tÃªn bucket (á»Ÿ Ä‘Ã¢y lÃ  bucket S3 trÃªn AWS) Ä‘á»ƒ lÆ°u Terraform state file.
# - Khi sá»­ dá»¥ng backend, Terraform sáº½ lÆ°u file state (`terraform.tfstate`) trÃªn cloud storage thay vÃ¬ local.
# - Lá»£i Ã­ch:
#   + Cho phÃ©p nhiá»u ngÆ°á»i cÃ¹ng lÃ m viá»‡c trÃªn cÃ¹ng má»™t infrastructure mÃ  khÃ´ng xung Ä‘á»™t.
#   + Báº£o máº­t state file vÃ  dá»… backup.

# 4. Chá»©c nÄƒng tá»•ng thá»ƒ
# - Khi cháº¡y lá»‡nh nÃ y, Terraform sáº½:
#   1. Khá»Ÿi táº¡o thÆ° má»¥c hiá»‡n táº¡i nhÆ° má»™t Terraform working directory.
#   2. Kiá»ƒm tra vÃ  táº£i cÃ¡c provider plugins Ä‘Æ°á»£c khai bÃ¡o trong cÃ¡c file `.tf`.
#   3. Cáº¥u hÃ¬nh backend Ä‘á»ƒ lÆ°u tráº¡ng thÃ¡i vÃ o bucket `vprofileactions112211`.
#   4. Sáºµn sÃ ng cho cÃ¡c lá»‡nh tiáº¿p theo nhÆ° `terraform plan` hoáº·c `terraform apply`.

# 5. VÃ­ dá»¥ workflow:
# - Khá»Ÿi táº¡o Terraform vá»›i backend S3:
#     terraform init -backend-config="bucket=vprofileactions112211" -backend-config="region=ap-southeast-1"
# - Kiá»ƒm tra state hiá»‡n táº¡i:
#     terraform state list
# - Táº¡o plan:
#     terraform plan
# - Triá»ƒn khai háº¡ táº§ng:
#     terraform apply

# 6. LÆ°u Ã½ quan trá»ng:
# - Bucket pháº£i tá»“n táº¡i trÆ°á»›c khi cháº¡y `terraform init`.
# - CÃ³ thá»ƒ truyá»n nhiá»u tham sá»‘ backend báº±ng nhiá»u `-backend-config` hoáº·c dÃ¹ng file cáº¥u hÃ¬nh riÃªng.
# - Backend config chá»‰ áº£nh hÆ°á»Ÿng khi init; náº¿u muá»‘n thay Ä‘á»•i backend sau, cáº§n re-init láº¡i.

# 7. CÃ¡c lá»‡nh liÃªn quan:
# - terraform init
#   + Khá»Ÿi táº¡o directory mÃ  khÃ´ng truyá»n backend-config (sá»­ dá»¥ng backend máº·c Ä‘á»‹nh náº¿u cÃ³).
# - terraform plan
#   + Sinh káº¿ hoáº¡ch thay Ä‘á»•i háº¡ táº§ng tá»« cáº¥u hÃ¬nh Terraform.
# - terraform apply
#   + Triá»ƒn khai cÃ¡c thay Ä‘á»•i lÃªn cloud theo plan.
# - terraform state
#   + Quáº£n lÃ½ state file cá»§a Terraform.

# Káº¿t luáº­n:
# Lá»‡nh `terraform init -backend-config="bucket=vprofileactions112211"` dÃ¹ng Ä‘á»ƒ khá»Ÿi táº¡o Terraform working directory
# vÃ  cáº¥u hÃ¬nh backend Ä‘á»ƒ lÆ°u state trÃªn bucket S3 `vprofileactions112211`,
# chuáº©n bá»‹ cho cÃ¡c thao tÃ¡c quáº£n lÃ½ háº¡ táº§ng tiáº¿p theo má»™t cÃ¡ch an toÃ n vÃ  chia sáº» giá»¯a nhiá»u ngÆ°á»i dÃ¹ng.
		
		
	GitOps Project - SÆ¡ Ä‘á»“ tá»•ng thá»ƒ cá»§a GitOps CI/CD pipeline trong mÃ´i trÆ°á»ng DevOps, káº¿t há»£p GitHub,
	Terraform, EKS, Docker, Maven, Helm, SonarCloud:
	
		Visual Studio Code (VS Code):
		
			LÃ  mÃ´i trÆ°á»ng local IDE cá»§a developer.

			Dev sáº½ code, commit vÃ  push lÃªn GitHub.

			Repo nÃ y cÃ³ thá»ƒ gá»“m:

				main branch (sáº£n xuáº¥t)

				stage branch (mÃ´i trÆ°á»ng staging/test)

			ğŸ’¡ Dev lÃ m viá»‡c chá»§ yáº¿u á»Ÿ stage, sau khi test xong má»›i merge vá» main.
			
		GitHub (Git + Actions):
		
			ÄÃ¢y lÃ  trung tÃ¢m Ä‘iá»u phá»‘i CI/CD.

			Gá»“m 2 workflow chÃ­nh:
			
				Terraform Workflow (bÃªn trÃ¡i):

					DÃ nh cho háº¡ táº§ng (Infrastructure as Code).

					Khi cÃ³ thay Ä‘á»•i trong repo â€œIaCâ€ (infrastructure code), GitHub Actions sáº½:

						Fetch stage branch â†’ Láº¥y code háº¡ táº§ng tá»« nhÃ¡nh stage.

						Terraform Plan/Test â†’ Kiá»ƒm tra xem viá»‡c apply cÃ³ an toÃ n khÃ´ng, háº¡ táº§ng cÃ³ thay Ä‘á»•i gÃ¬.

						Khi PR Ä‘Æ°á»£c merge vÃ o main, thÃ¬ GitHub Actions cháº¡y:

							terraform apply


								Ä‘á»ƒ triá»ƒn khai (apply) thay Ä‘á»•i lÃªn AWS.
		
				Build, Test & Deploy Workflow (bÃªn pháº£i):

					DÃ nh cho á»©ng dá»¥ng (Application Code).

					Khi code app thay Ä‘á»•i, GitHub Actions sáº½:

						Fetch code tá»« repo (branch tÆ°Æ¡ng á»©ng).

						Maven â†’ build vÃ  cháº¡y unit test (Java project).

						SonarCloud â†’ quÃ©t cháº¥t lÆ°á»£ng code (code quality & security scan).

						Docker â†’ build image vÃ  push lÃªn Amazon ECR (Elastic Container Registry).

						Helm Charts â†’ triá»ƒn khai image má»›i lÃªn Amazon EKS (Kubernetes cluster).		
		
		AWS Cloud (pháº§n trung tÃ¢m)

			ÄÃ¢y lÃ  nÆ¡i toÃ n bá»™ háº¡ táº§ng vÃ  app cháº¡y.

			CÃ¡c thÃ nh pháº§n chÃ­nh:

				Amazon ECR: nÆ¡i lÆ°u trá»¯ Docker image (container registry cá»§a AWS).

				Amazon EKS: Kubernetes cluster â€” nÆ¡i á»©ng dá»¥ng thá»±c táº¿ Ä‘Æ°á»£c deploy.

				VPC Subnet: máº¡ng ná»™i bá»™ AWS, chá»©a EKS cluster, ECR, security groups, subnet, etc.

			Má»‘i quan há»‡:

				Terraform quáº£n lÃ½ háº¡ táº§ng AWS (EKS, VPC, ECR,...).

				GitHub Actions quáº£n lÃ½ pipeline build vÃ  deploy app vÃ o Ä‘Ã³.
				
		Quy trÃ¬nh tá»•ng thá»ƒ:
		
			Giai Ä‘oáº¡n	HÃ nh Ä‘á»™ng												CÃ´ng cá»¥
			Dev Code	Code vÃ  push lÃªn GitHub (stage)							VS Code, Git
			IaC Test	GitHub Actions cháº¡y terraform plan						Terraform
			Merge		Khi PR tá»« stage â†’ main, GitHub cháº¡y terraform apply		Terraform
			Build		Build app (Maven), test code (SonarCloud)				GitHub Actions
			Image		Docker build â†’ push lÃªn ECR								Docker, ECR
			Deploy		Helm deploy image lÃªn EKS								Helm, Kubernetes
			Run	App 	cháº¡y thá»±c táº¿ trÃªn AWS									AWS EKS
		
		
		
	- Code trong file terraform.yml:

		Case 1:
		
			name: "Vprofile IAC"
			on:
			  push:
				  branches:
					  - main
					  - stage
				  paths:
					  - terraform/**
			  pull_request:
				  branches:
					  - main
				  paths:
					  - terraform/**

			env:
			  # Credentials for deployment to AWS
			  AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
			  AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
			  # S3 bucket for the Terraform state
			  BUCKET_TF_STATE: ${{ secrets.BUCKET_TF_STATE }}
			  AWS_REGION: us-east-1
			  EKS_CLUSTER: vprofile-eks

			jobs:
			  terraform:
				name: "Apply terraform code changes"
				runs-on: ubuntu-latest
				defaults:
				  run:
					shell: bash
					working-directory: ./terraform
				steps:
				  - name: Checkout source code
					uses: actions/checkout@v2
				  - name: Setup Terraform with specified version on the runner
					uses: hashicorp/setup-terraform@v2
					with:
					  terraform_version: 1.6.3
				  - name: Terraform init
					id: init
					run: terraform init -backend-config="bucket=$BUCKET_TF_STATE"
				  - name: Terraform format
					id: fmt
					run: terraform fmt -check
				  - name: Terraform validate
					id: validate
					run: terraform validate
				  - name: Terraform plan
					id: plan
					run: terraform plan -no-color -input=false -out planfile
				  - name: Terraform plan status
					if: steps.plan.outcome == 'failure'
					run: exit 1

				  - name: Terraform Apply
					id: apple
					if: github.ref == 'refs/heads/main' && github.event_name == 'push'
					run: terraform apply -auto-approve -input=false -parallelism=1 planfile

				  - name: Configure AWS credentials
					uses: aws-actions/configure-aws-credentials@v1
					with:
					  aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
					  aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
					  aws-region: ${{ env.AWS_REGION }}

				  - name: Get Kube config file
					id: getconfig
					if: steps.apple.outcome == 'success'
					run: aws eks update-kubeconfig --region ${{ env.AWS_REGION }} --name ${{ env.EKS_CLUSTER }}

				  - name: Install Ingress controller
					if: steps.apple.outcome == 'success' && steps.getconfig.outcome == 'success'
					run: kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.1.3/deploy/static/provider/aws/deploy.yaml
		
	- Code trong file vproappdep.yml:

		Case 1:
		
			apiVersion: apps/v1
			kind: Deployment
			metadata:
			  name: vproapp
			  labels: 
				app: vproapp
			spec:
			  replicas: 1
			  selector:
				matchLabels:
				  app: vproapp
			  template:
				metadata:
				  labels:
					app: vproapp
				spec:
				  containers:
				  - name: vproapp
					image: "{{ .Values.appimage }}:{{ .Values.apptag }}"
					ports:
					- name: vproapp-port
					  containerPort: 8080
				  initContainers:
				  - name: init-mydb
					image: busybox
					command: ['sh', '-c', 'until nslookup vprodb.$(cat /var/run/secrets/kubernetes.io/serviceaccount/namespace).svc.cluster.local; do echo waiting for mydb; sleep 2; done;']
				  - name: init-memcache
					image: busybox
					command: ['sh', '-c', 'until nslookup vprocache01.$(cat /var/run/secrets/kubernetes.io/serviceaccount/namespace).svc.cluster.local; do echo waiting for mydb; sleep 2; done;']

	- Code trong file main.yml:

		Case 1:
		
			name: vprofile actions
			on: workflow_dispatch
			env:
			  AWS_REGION: us-east-1
			  ECR_REPOSITORY: vprofileapp
			  EKS_CLUSTER: vprofile-eks

			jobs:
			  Testing:
				runs-on: ubuntu-latest
				steps:
				  - name: Code checkout
					uses: actions/checkout@v4

				  - name: Maven test
					run: mvn test

				  - name: Checkstyle
					run: mvn checkstyle:checkstyle

				  # Setup java 11 to be default (sonar-scanner requirement as of 5.x)
				  - name: Set Java 11
					uses: actions/setup-java@v3
					with:
					  distribution: 'temurin' # See 'supported distributions' for availabel
					  java-version: '11'

				  # Setup sonar-scanner
				  - name: Setup SonarQube
					uses: warchant/setup-sonar-scanner@v7

				  # Run sonar-scanner
				  - name: SonarQube Scan
					run: sonar-scanner
						-Dsonar.host.url=${{ secrets.SONAR_URL }}
						-Dsonar.login=${{ secrets.SONAR_TOKEN }}
						-Dsonar.organization=${{ secrets.SONAR_ORGANIZATION }}
						-Dsonar.projectKey=${{ secrets.SONAR_PROJECT_KEY }}
						-Dsonar.sources=src/
						-Dsonar.junit.reportsPath=target/surefire-reports/
						-Dsonar.jacoco.reportsPath=target/jacoco.exec
						-Dsonar.java.checkstyle.reportsPath=target/checkstyle-result.xml
						-Dsonar.java.binaries=target/test-classes/com/visualpathit/account

				  # Check the Quality Gate status.
				  - name: SonarQube Quality Gate check
					id: sonarqube-quality-gate-check
					uses: sonarsource/sonarqube-quality-gate-action@master
					# Force to fail step after specific time.
					timeout-minutes: 5
					env:
					  SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
					  SONAR_HOST_URL: ${{ secrets.SONAR_URL }} # OPTIONAL

			  BUILD_AND_PUBLISH:
				needs: Testing
				runs-on: ubuntu-latest
				steps:
				  - name: Code checkout
					uses: actions/checkout@v4

				  - name: Build & Upload image to ECR
					uses: appleboy/docker-ecr-action@master
					with:
						access_key: ${{ secrets.AWS_ACCESS_KEY_ID }}
						secret_key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
						registry: ${{ secrets.REGISTRY }}
						repo: ${{ env.ECR_REPOSITORY }}
						region: ${{ env.AWS_REGION }}
						tags: latest,${{ github.run_number }}
						daemon_off: false
						dockerfile: ./Dockerfile
						context: ./

			  DeployToEKS:
				needs: BUILD_AND_PUBLISH
				runs-on: ubuntu-latest
				steps:
				  - name: Code checkout
					uses: actions/checkout@v4

				  - name: Configure AWS credentials
					uses: aws-actions/configure-aws-credentials@v1
					with:
					  aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
					  aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
					  aws-region: ${{ env.AWS_REGION }}

				  - name: Get Kube config file
					run: aws eks update-kubeconfig --region ${{ env.AWS_REGION }} --name ${{ env.EKS_CLUSTER }}

				  - name: Print config file
					run: cat ~/.kube/config

				  - name: Login to ECR
					run: |
					  kubectl delete secret regcred --ignore-not-found
					  kubectl create secret docker-registry regcred --docker-server=${{ secrets.REGISTRY }} --docker-username=AWS --docker-password=$(aws ecr get-login-password)

				  - name: Deploy Helm
					uses: bitovi/github-actions-deploy-eks-helm@v1.2.8
					with:
					  aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
					  aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
					  aws-region: ${{ secrets.AWS_REGION }}
					  cluster-name: ${{ env.EKS_CLUSTER }}
					  #configfiles: .github/values/dev.yaml
					  chart-path: helm/vprofilecharts
					  namespace: default
					  value: appimage=${{ secrets.REGISTRY }}/${{ env.ECR_REPOSITORY }},apptag=${{ github.run_number }}
					  name: vprofile-stack
		
		
		
		
		